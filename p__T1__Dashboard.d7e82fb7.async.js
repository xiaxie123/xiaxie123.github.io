(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"+6XX":function(qe,Pt,E){var Y=E("y1pI");function i(b){return Y(this.__data__,b)>-1}qe.exports=i},"+DwW":function(qe,Pt,E){"use strict";var Y=E("mrSG"),i=E("Mw2x"),b=function(t){Object(Y.b)(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.isGroup=function(){return!0},n.prototype.isEntityGroup=function(){return!1},n.prototype.clone=function(){for(var u=t.prototype.clone.call(this),g=this.getChildren(),x=0;x<g.length;x++){var c=g[x];u.add(c.clone())}return u},n}(i.a);Pt.a=b},"+Nd1":function(qe,Pt,E){"use strict";var Y=E("DdT1"),i=E("FPPI");Pt.a=function(){var b=1,t=1,n=0,u=!1;function g(c){var w=c.height+1;return c.x0=c.y0=n,c.x1=b,c.y1=t/w,c.eachBefore(x(t,w)),u&&c.eachBefore(Y.a),c}function x(c,w){return function(I){I.children&&Object(i.a)(I,I.x0,c*(I.depth+1)/w,I.x1,c*(I.depth+2)/w);var m=I.x0,r=I.y0,s=I.x1-n,d=I.y1-n;s<m&&(m=s=(m+s)/2),d<r&&(r=d=(r+d)/2),I.x0=m,I.y0=r,I.x1=s,I.y1=d}}return g.round=function(c){return arguments.length?(u=!!c,g):u},g.size=function(c){return arguments.length?(b=+c[0],t=+c[1],g):[b,t]},g.padding=function(c){return arguments.length?(n=+c,g):n},g}},"+wVF":function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return d});var Y=E("mrSG"),i=E("zJSt"),b=E("YuPD"),t=E("iTfj"),n=E("n/J0"),u=E("w02o");function g(C){var S=C.chart,A=C.options,f=A.data,O=A.type,j=A.reflect,D=A.xField,V=A.yField,H=A.colorField,$=A.sizeField,dt=A.sizeRatio,Z=A.shape,ct=A.color;S.data(f);var pt;O==="density"?pt=S.heatmap().position(D+"*"+V):pt=S.polygon().position(D+"*"+V),H&&pt.color(H,ct||n.b.GRADIENT.CONTINUOUS),j&&S.coordinate().reflect(j);var gt=1;if((dt||dt===0)&&(!Z&&!$?console.warn("sizeRatio is not in effect: Must define shape or sizeField first"):dt<0||dt>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):gt=dt),Z&&($||pt.shape("",function(){return[Z,1,gt]}),$)){var at=f.map(function(Et){return Et[$]}),Bt=Math.min.apply(Math,at),Lt=Math.max.apply(Math,at);pt.shape($,function(Et){return[Z,(Et-Bt)/(Lt-Bt),gt]})}return C}function x(C){var S,A=C.options,f=A.xAxis,O=A.yAxis,j=A.xField,D=A.yField;return Object(b.e)(Object(u.f)((S={},S[j]=f,S[D]=O,S)))(C)}function c(C){var S=C.chart,A=C.options,f=A.xAxis,O=A.yAxis,j=A.xField,D=A.yField;return f===!1?S.axis(j,!1):S.axis(j,f),O===!1?S.axis(D,!1):S.axis(D,O),C}function w(C){var S=C.chart,A=C.options,f=A.legend,O=A.colorField;return f?S.legend(O,f):S.legend(!1),C}function I(C){var S=C.chart,A=C.options,f=A.xField,O=A.yField,j=A.colorField,D=A.sizeField,V=A.heatmapStyle,H=S.geometries[0];return V&&H&&(Object(t.isFunction)(V)?H.style(f+"*"+O+"*"+j+"*"+D,V):Object(t.isObject)(V)&&H.style(V)),C}function m(C){var S=C.chart,A=C.options,f=A.label,O=A.colorField,j=A.type,D=Object(b.c)(S,j==="density"?"heatmap":"polygon");if(!f)D.label(!1);else if(O){var V=f.callback,H=Object(Y.c)(f,["callback"]);D.label({fields:[O],callback:V,cfg:Object(b.o)(H)})}return C}function r(C){return Object(b.e)(g,x,u.j,c,w,u.k,I,m,Object(u.b)(),u.c,u.a)(C)}var s=E("Ihc8");Object(s.registerShape)("polygon","circle",{draw:function(S,A){var f,O,j=S.x,D=S.y,V=this.parsePoints(S.points),H=Math.abs(V[2].x-V[1].x),$=Math.abs(V[1].y-V[0].y),dt=Math.min(H,$)/2,Z=Number(S.shape[1]),ct=Number(S.shape[2]),pt=Math.sqrt(ct),gt=dt*pt*Math.sqrt(Z),at=((f=S.style)===null||f===void 0?void 0:f.fill)||S.color||((O=S.defaultStyle)===null||O===void 0?void 0:O.fill),Bt=A.addShape("circle",{attrs:Object(Y.a)(Object(Y.a)(Object(Y.a)({x:j,y:D,r:gt},S.defaultStyle),S.style),{fill:at})});return Bt}}),Object(s.registerShape)("polygon","square",{draw:function(S,A){var f,O,j=S.x,D=S.y,V=this.parsePoints(S.points),H=Math.abs(V[2].x-V[1].x),$=Math.abs(V[1].y-V[0].y),dt=Math.min(H,$),Z=Number(S.shape[1]),ct=Number(S.shape[2]),pt=Math.sqrt(ct),gt=dt*pt*Math.sqrt(Z),at=((f=S.style)===null||f===void 0?void 0:f.fill)||S.color||((O=S.defaultStyle)===null||O===void 0?void 0:O.fill),Bt=A.addShape("rect",{attrs:Object(Y.a)(Object(Y.a)(Object(Y.a)({x:j-gt/2,y:D-gt/2,width:gt,height:gt},S.defaultStyle),S.style),{fill:at})});return Bt}});var d=function(C){Object(Y.b)(S,C);function S(){var A=C!==null&&C.apply(this,arguments)||this;return A.type="heatmap",A}return S.prototype.getSchemaAdaptor=function(){return r},S.prototype.getDefaultOptions=function(){return Object(b.b)({},C.prototype.getDefaultOptions.call(this),{type:"polygon",legend:!1,xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}})},S}(i.a)},"/+3i":function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return O});var Y=E("mrSG"),i=E("YuPD"),b=E("zJSt"),t=E("iTfj"),n=E("w02o"),u=E("n/J0"),g="$$stock-range$$",x="trend",c="up",w="down",I=["#ef5350","#26a69a"],m={showTitle:!1,showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0},itemTpl:'<li class="g2-tooltip-list-item" data-index={index}><span style="background-color:{color};" class="g2-tooltip-marker"></span>{name}{value}</li>'};function r(j,D){return Object(t.map)(j,function(V){if(Object(t.isArray)(D)){var H=D[0],$=D[1],dt=D[2],Z=D[3];V[x]=V[H]<=V[$]?c:w,V[g]=[V[H],V[$],V[dt],V[Z]]}return V})}function s(j){var D=j.chart,V=j.options,H=V.xField,$=V.yField,dt=V.data;D.data(r(dt,$));var Z=D.schema().position(H+"*"+g).shape("candle");return Z.color(x,I),j}function d(j){var D,V,H=j.chart,$=j.options,dt=$.meta,Z=$.xAxis,ct=$.yAxis,pt=$.xField,gt=(D={},D[pt]={type:"timeCat",tickCount:6},D[x]={values:[c,w]},D),at=Object(i.b)(gt,dt,(V={},V[pt]=Object(i.k)(Z,u.a),V[g]=Object(i.k)(ct,u.a),V));return H.scale(at),j}function C(j){var D=j.chart,V=j.options,H=V.xAxis,$=V.yAxis,dt=V.xField;return H===!1?D.axis(dt,!1):D.axis(dt,H),$===!1?D.axis(g,!1):D.axis(g,$),j}function S(j){var D=j.chart,V=j.options,H=V.xField,$=V.yField,dt=V.meta,Z=dt===void 0?{}:dt,ct=V.tooltip,pt=ct===void 0?{}:ct,gt=Object(i.c)(D,"schema"),at=$[0],Bt=$[1],Lt=$[2],Et=$[3],K=Z[at]&&Z[at].alias||at,ft=Z[Bt]?Z[Bt].alias||at:Bt,mt=Z[Lt]&&Z[Lt].alias||Lt,yt=Z[Et]&&Z[Et].alias||Et,wt={fields:[H,at,Bt,Lt,Et],callback:function(_,P,Q,k,p){var y={name:_,value:`
          <br><span data-label="`+K+'" style="padding-left: 16px">'+K+"\uFF1A"+P+`</span>
          <br><span data-label="`+ft+'" style="padding-left: 16px">'+ft+"\uFF1A"+Q+`</span>
          <br><span data-label="`+mt+'" style="padding-left: 16px">'+mt+"\uFF1A"+k+`</span>
          <br><span data-label="`+yt+'" style="padding-left: 16px">'+yt+"\uFF1A"+p+`</span>
        `};return y}},J={crosshairs:{text:function(_,P,Q){var k={position:"end"};if(_==="x"){var p=Q[0];k.content=p?p.data[H]:P}else k.content=P;return k}}};if(pt){if(Object(t.isObject)(pt)){var lt=Object(i.b)({},J,pt);D.tooltip(lt),gt.tooltip(wt)}}else D.tooltip(!1);return j}function A(j){var D=j.chart,V=j.options,H=V.legend;return H?D.legend(x,H):H===!1&&D.legend(!1),j}function f(j){Object(i.e)(s,d,n.j,C,S,A,n.c,n.a)(j)}var O=function(j){Object(Y.b)(D,j);function D(){var V=j!==null&&j.apply(this,arguments)||this;return V.type="stock",V}return D.prototype.getDefaultOptions=function(){return Object(i.b)({},j.prototype.getDefaultOptions.call(this),{tooltip:m,interactions:[{type:"tooltip"}],legend:{position:"top-left"}})},D.prototype.getSchemaAdaptor=function(){return f},D.prototype.changeData=function(V){this.updateOption({data:V});var H=this.options.yField;this.chart.changeData(r(V,H))},D}(b.a)},"/3+T":function(qe,Pt,E){"use strict";E.r(Pt),E.d(Pt,"Line",function(){return w}),E.d(Pt,"Circle",function(){return m}),E.d(Pt,"Base",function(){return x}),E.d(Pt,"Html",function(){return j});var Y=E("mrSG"),i=E("5UbV"),b=E("iTfj"),t=E("MeYt"),n=E("jqgP"),u=E("L16w"),g=function(D){Object(Y.b)(V,D);function V(){return D!==null&&D.apply(this,arguments)||this}return V.prototype.getDefaultCfg=function(){var H=D.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},H),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:u.a.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:u.a.textColor,textAlign:"center",textBaseline:"middle",fontFamily:u.a.fontFamily}},textBackground:{padding:5,style:{stroke:u.a.lineColor}}}})},V.prototype.renderInner=function(H){this.get("line")&&this.renderLine(H),this.get("text")&&(this.renderText(H),this.renderBackground(H))},V.prototype.renderText=function(H){var $=this.get("text"),dt=$.style,Z=$.autoRotate,ct=$.content;if(!Object(b.isNil)(ct)){var pt=this.getTextPoint(),gt=null;if(Z){var at=this.getRotateAngle();gt=Object(n.e)(pt,at)}this.addShape(H,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:Object(Y.a)(Object(Y.a)(Object(Y.a)({},pt),{text:ct,matrix:gt}),dt)})}},V.prototype.renderLine=function(H){var $=this.getLinePath(),dt=this.get("line"),Z=dt.style;this.addShape(H,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:Object(Y.a)({path:$},Z)})},V.prototype.renderBackground=function(H){var $=this.getElementId("text"),dt=H.findById($),Z=this.get("textBackground");if(Z&&dt){var ct=dt.getBBox(),pt=Object(i.c)(Z.padding),gt=Z.style,at=this.addShape(H,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:Object(Y.a)({x:ct.x-pt[3],y:ct.y-pt[0],width:ct.width+pt[1]+pt[3],height:ct.height+pt[0]+pt[2],matrix:dt.attr("matrix")},gt)});at.toBack()}},V}(t.a),x=g,c=function(D){Object(Y.b)(V,D);function V(){return D!==null&&D.apply(this,arguments)||this}return V.prototype.getDefaultCfg=function(){var H=D.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},H),{type:"line",locationType:"region",start:null,end:null})},V.prototype.getRotateAngle=function(){var H=this.getLocation(),$=H.start,dt=H.end,Z=this.get("text").position,ct=Math.atan2(dt.y-$.y,dt.x-$.x),pt=Z==="start"?ct-Math.PI/2:ct+Math.PI/2;return pt},V.prototype.getTextPoint=function(){var H=this.getLocation(),$=H.start,dt=H.end,Z=this.get("text"),ct=Z.position,pt=Z.offset;return Object(i.f)($,dt,ct,pt)},V.prototype.getLinePath=function(){var H=this.getLocation(),$=H.start,dt=H.end;return[["M",$.x,$.y],["L",dt.x,dt.y]]},V}(x),w=c,I=function(D){Object(Y.b)(V,D);function V(){return D!==null&&D.apply(this,arguments)||this}return V.prototype.getDefaultCfg=function(){var H=D.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},H),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},V.prototype.getRotateAngle=function(){var H=this.getLocation(),$=H.startAngle,dt=H.endAngle,Z=this.get("text").position,ct=Z==="start"?$+Math.PI/2:dt-Math.PI/2;return ct},V.prototype.getTextPoint=function(){var H=this.get("text"),$=H.position,dt=H.offset,Z=this.getLocation(),ct=Z.center,pt=Z.radius,gt=Z.startAngle,at=Z.endAngle,Bt=$==="start"?gt:at,Lt=this.getRotateAngle()-Math.PI,Et=Object(i.e)(ct,pt,Bt),K=Math.cos(Lt)*dt,ft=Math.sin(Lt)*dt;return{x:Et.x+K,y:Et.y+ft}},V.prototype.getLinePath=function(){var H=this.getLocation(),$=H.center,dt=H.radius,Z=H.startAngle,ct=H.endAngle,pt=null;if(ct-Z==Math.PI*2){var gt=$.x,at=$.y;pt=[["M",gt,at-dt],["A",dt,dt,0,1,1,gt,at+dt],["A",dt,dt,0,1,1,gt,at-dt],["Z"]]}else{var Bt=Object(i.e)($,dt,Z),Lt=Object(i.e)($,dt,ct),Et=Math.abs(ct-Z)>Math.PI?1:0,K=Z>ct?0:1;pt=[["M",Bt.x,Bt.y],["A",dt,dt,0,Et,K,Lt.x,Lt.y]]}return pt},V}(x),m=I,r=E("fIp6"),s=E("de35"),d="g2-crosshair",C=d+"-line",S=d+"-text",A,f=(A={},A[""+d]={position:"relative"},A[""+C]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},A[""+S]={position:"absolute",color:u.a.textColor,fontFamily:u.a.fontFamily},A),O=function(D){Object(Y.b)(V,D);function V(){return D!==null&&D.apply(this,arguments)||this}return V.prototype.getDefaultCfg=function(){var H=D.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},H),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+d+'"></div>',crosshairTpl:'<div class="'+C+'"></div>',textTpl:'<span class="'+S+'">{content}</span>',domStyles:null,containerClassName:d,defaultStyles:f,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},V.prototype.render=function(){this.resetText(),this.resetPosition()},V.prototype.initCrossHair=function(){var H=this.getContainer(),$=this.get("crosshairTpl"),dt=Object(r.b)($);H.appendChild(dt),this.applyStyle(C,dt),this.set("crosshairEl",dt)},V.prototype.getTextPoint=function(){var H=this.getLocation(),$=H.start,dt=H.end,Z=this.get("text"),ct=Z.position,pt=Z.offset;return Object(i.f)($,dt,ct,pt)},V.prototype.resetText=function(){var H=this.get("text"),$=this.get("textEl");if(H){var dt=H.content;if(!$){var Z=this.getContainer(),ct=Object(b.substitute)(this.get("textTpl"),H);$=Object(r.b)(ct),Z.appendChild($),this.applyStyle(S,$),this.set("textEl",$)}$.innerHTML=dt}else $&&$.remove()},V.prototype.isVertical=function(H,$){return H.x===$.x},V.prototype.resetPosition=function(){var H=this.get("crosshairEl");H||(this.initCrossHair(),H=this.get("crosshairEl"));var $=this.get("start"),dt=this.get("end"),Z=Math.min($.x,dt.x),ct=Math.min($.y,dt.y);this.isVertical($,dt)?Object(r.e)(H,{width:"1px",height:Object(i.l)(Math.abs(dt.y-$.y))}):Object(r.e)(H,{height:"1px",width:Object(i.l)(Math.abs(dt.x-$.x))}),Object(r.e)(H,{top:Object(i.l)(ct),left:Object(i.l)(Z)}),this.alignText()},V.prototype.alignText=function(){var H=this.get("textEl");if(H){var $=this.get("text").align,dt=H.clientWidth,Z=this.getTextPoint();switch($){case"center":Z.x=Z.x-dt/2;break;case"right":Z.x=Z.x-dt;case"left":break}Object(r.e)(H,{top:Object(i.l)(Z.y),left:Object(i.l)(Z.x)})}},V.prototype.updateInner=function(H){Object(b.hasKey)(H,"text")&&this.resetText(),D.prototype.updateInner.call(this,H)},V}(s.a),j=O},"027J":function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return r});var Y=E("mrSG"),i=E("zJSt"),b=E("lFe4"),t=E("w02o"),n=E("YuPD"),u=E("tKoa"),g=E("7cv3"),x=E("DyAw");function c(s){var d,C,S=s.chart,A=s.options,f=A.data,O=A.xAxis,j=A.yAxis,D=A.color,V=A.columnStyle,H=A.columnWidthRatio,$=Object(b.a)(f);S.data($);var dt=Object(n.b)({},s,{options:{xField:g.b,yField:g.c,widthRatio:H,interval:{style:V,color:D}}});return Object(u.c)(dt),S.axis(!1),S.legend(!1),S.interaction("element-active"),Object(t.f)((d={},d[g.b]=O,d[g.c]=j,d),(C={},C[g.b]={type:"cat"},C[g.c]=Object(x.a)($,g.c),C))(s),s}function w(s){return Object(n.e)(c,t.k,t.j,t.a,Object(t.b)())(s)}var I=E("iTfj"),m={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(d,C){return""+Object(I.get)(C,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},r=function(s){Object(Y.b)(d,s);function d(){var C=s!==null&&s.apply(this,arguments)||this;return C.type="tiny-column",C}return d.prototype.changeData=function(C){this.updateOption({data:C}),this.chart.changeData(Object(b.a)(C))},d.prototype.getDefaultOptions=function(){return{appendPadding:2,tooltip:Object(Y.a)({},m),animation:!0}},d.prototype.getSchemaAdaptor=function(){return w},d}(i.a)},"03A+":function(qe,Pt,E){var Y=E("JTzB"),i=E("ExA7"),b=Object.prototype,t=b.hasOwnProperty,n=b.propertyIsEnumerable,u=Y(function(){return arguments}())?Y:function(g){return i(g)&&t.call(g,"callee")&&!n.call(g,"callee")};qe.exports=u},"05BJ":function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return I});var Y=E("mrSG"),i=E("zJSt"),b=E("7cv3"),t=E("lFe4"),n=E("w02o"),u=E("YuPD"),g=E("tKoa"),x=E("DyAw");function c(m){var r,s,d=m.chart,C=m.options,S=C.data,A=C.xAxis,f=C.yAxis,O=C.color,j=C.areaStyle,D=C.point,V=C.line,H=Object(t.a)(S);d.data(H);var $=Object(u.b)({},m,{options:{xField:b.b,yField:b.c,area:{color:O,style:j},line:V,point:D}}),dt=Object(u.b)({},$,{options:{tooltip:!1}});return Object(g.a)($),Object(g.d)(dt),Object(g.e)(dt),d.axis(!1),d.legend(!1),Object(n.f)((r={},r[b.b]=A,r[b.c]=f,r),(s={},s[b.b]={type:"cat"},s[b.c]=Object(x.a)(H,b.c),s))(m),m}function w(m){return Object(u.e)(c,n.k,n.j,n.a,Object(n.b)())(m)}var I=function(m){Object(Y.b)(r,m);function r(){var s=m!==null&&m.apply(this,arguments)||this;return s.type="tiny-area",s}return r.prototype.changeData=function(s){this.updateOption({data:s}),this.chart.changeData(Object(t.a)(s))},r.prototype.getDefaultOptions=function(){return{appendPadding:2,tooltip:Object(Y.a)({},b.a),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:!0}},r.prototype.getSchemaAdaptor=function(){return w},r}(i.a)},"06Lf":function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return Q}),E.d(Pt,"b",function(){return Mt}),E.d(Pt,"c",function(){return me});var Y=E("q1tI"),i=E.n(Y),b=E("ma/q"),t=E("iTfj"),n=function(Xt,Se){var Wt={}.toString;return Wt.call(Xt)==="[object "+Se+"]"},u=function(Xt){if(!Xt)return Xt;var Se={};for(var Wt in Xt)Se[Wt]=Xt[Wt];return Se},g=function(Xt,Se){for(var Wt=Xt,ce=0;ce<Se.length;ce++)if(Wt==null?void 0:Wt[Se[ce]])Wt=Wt[Se[ce]];else{Wt=void 0;break}return Wt},x=function(Xt,Se,Wt){if(!Xt)return Xt;var ce=Xt;return Se.forEach(function(yn,Bn){Bn<Se.length-1?ce=ce[yn]:ce[yn]=Wt}),Xt},c=function(Xt,Se){!Xt||(Object(t.isFunction)(Xt)?Xt(Se):Xt.current=Se)},w={isType:n,clone:u,hasPath:g,setPath:x},I=E("i8i4"),m=E.n(I),r=function(Xt,Se){var Wt=document.createElement("div");return Se==="tooltip"&&(Wt.className="g2-tooltip"),m.a.render(Xt,Wt),Wt},s=r,d=function(){return d=Object.assign||function(_t){for(var Xt,Se=1,Wt=arguments.length;Se<Wt;Se++){Xt=arguments[Se];for(var ce in Xt)Object.prototype.hasOwnProperty.call(Xt,ce)&&(_t[ce]=Xt[ce])}return _t},d.apply(this,arguments)},C=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se};function S(_t,Xt){var Se=Object(Y.useRef)(),Wt=Object(Y.useRef)(),ce=Object(Y.useRef)(null),yn=Xt.onReady,Bn=Xt.onEvent,Zn=function(St,$t){var ye;return St===void 0&&(St="image/png"),(ye=Se.current)===null||ye===void 0?void 0:ye.chart.canvas.cfg.el.toDataURL(St,$t)},Kn=function(St,$t,ye){var Zt;St===void 0&&(St="download"),$t===void 0&&($t="image/png");var de=St;St.indexOf(".")===-1&&(de=St+"."+$t.split("/")[1]);var he=(Zt=Se.current)===null||Zt===void 0?void 0:Zt.chart.canvas.cfg.el.toDataURL($t,ye),le=document.createElement("a");return le.href=he,le.download=de,document.body.appendChild(le),le.click(),document.body.removeChild(le),le=null,de},$e=function(St,$t,ye){var Zt=w.hasPath,de=w.setPath,he=Zt(St,$t);de(St,$t,function(){for(var le=[],Me=0;Me<arguments.length;Me++)le[Me]=arguments[Me];var We=w.isType(he,"Function")?he.apply(void 0,le):he;return w.isType(We,"String")||w.isType(We,"Number")||w.isType(We,"HTMLDivElement")?We:s(We,ye)})},je=function(){var St=w.hasPath;St(Xt,["statistic","content","customHtml"])&&$e(Xt,["statistic","content","customHtml"]),St(Xt,["statistic","title","customHtml"])&&$e(Xt,["statistic","title","customHtml"]),typeof Xt.tooltip=="object"&&(St(Xt,["tooltip","container"])&&$e(Xt,["tooltip","container"],"tooltip"),St(Xt,["tooltip","customContent"])&&$e(Xt,["tooltip","customContent"],"tooltip"))};return Object(Y.useEffect)(function(){if(Se.current&&!Object(t.isEqual)(Wt.current,Xt)){var L=!1;if(Wt.current){var St=Wt.current,$t=St.data,ye=St.value,Zt=St.percent,de=C(St,["data","value","percent"]),he=Xt.data,le=Xt.value,Me=Xt.percent,We=C(Xt,["data","value","percent"]);L=Object(t.isEqual)(de,We)}if(L){var Ye="data",ke=["percent"],nn=Object.keys(Xt);ke.forEach(function(Re){nn.includes(Re)&&(Ye=Re)}),Se.current.changeData((Xt==null?void 0:Xt[Ye])||[])}else je(),Se.current.update(Xt);Wt.current=Xt}},[Xt]),Object(Y.useEffect)(function(){if(!ce.current)return function(){return null};je();var L=new _t(ce.current,d({},Xt));L.__proto__.toDataURL=function($t,ye){return Zn($t,ye)},L.__proto__.downloadImage=function($t,ye,Zt){return Kn($t,ye,Zt)},L.render(),Wt.current||(Wt.current=Xt),Se.current=w.clone(L),yn&&yn(L);var St=function(ye){Bn&&Bn(L,ye)};return L.on("*",St),function(){Se.current&&(Se.current.destroy(),Se.current.off("*",St),Se.current=void 0)}},[]),{chart:Se,container:ce}}var A=function(){var _t=function(Se,Wt){return _t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ce,yn){ce.__proto__=yn}||function(ce,yn){for(var Bn in yn)Object.prototype.hasOwnProperty.call(yn,Bn)&&(ce[Bn]=yn[Bn])},_t(Se,Wt)};return function(Xt,Se){_t(Xt,Se);function Wt(){this.constructor=Xt}Xt.prototype=Se===null?Object.create(Se):(Wt.prototype=Se.prototype,new Wt)}}(),f=function(_t){A(Xt,_t);function Xt(){var Se=_t!==null&&_t.apply(this,arguments)||this;return Se.state={hasError:!1},Se.renderError=function(Wt){var ce=Se.props.errorTemplate;switch(Wt){default:return ce&&typeof ce=="function"?ce(Wt):i.a.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",Wt.message)}},Se}return Xt.getDerivedStateFromError=function(Se){return{hasError:!0,error:Se}},Xt.getDerivedStateFromProps=function(Se,Wt){return Wt.children!==Se.children?{children:Se.children,hasError:!1,error:void 0}:null},Xt.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):i.a.createElement(Y.Fragment,null,this.props.children)},Xt}(i.a.Component),O=f;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var j=function(){return j=Object.assign||function(Se){for(var Wt,ce=1,yn=arguments.length;ce<yn;ce++){Wt=arguments[ce];for(var Bn in Wt)Object.prototype.hasOwnProperty.call(Wt,Bn)&&(Se[Bn]=Wt[Bn])}return Se},j.apply(this,arguments)};function D(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se}var V=function(){return Math.random().toString(36).substring(6)},H=function(Xt){var Se=Xt.animate,Wt=Xt.backgroundColor,ce=Xt.backgroundOpacity,yn=Xt.baseUrl,Bn=Xt.children,Zn=Xt.foregroundColor,Kn=Xt.foregroundOpacity,$e=Xt.gradientRatio,je=Xt.uniqueKey,L=Xt.interval,St=Xt.rtl,$t=Xt.speed,ye=Xt.style,Zt=Xt.title,de=D(Xt,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),he=je||V(),le=he+"-diff",Me=he+"-animated-diff",We=he+"-aria",Ye=St?{transform:"scaleX(-1)"}:null,ke="0; "+L+"; 1",nn=$t+"s";return Object(Y.createElement)("svg",j({"aria-labelledby":We,role:"img",style:j(j({},ye),Ye)},de),Zt?Object(Y.createElement)("title",{id:We},Zt):null,Object(Y.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+yn+"#"+le+")",style:{fill:"url("+yn+"#"+Me+")"}}),Object(Y.createElement)("defs",{role:"presentation"},Object(Y.createElement)("clipPath",{id:le},Bn),Object(Y.createElement)("linearGradient",{id:Me},Object(Y.createElement)("stop",{offset:"0%",stopColor:Wt,stopOpacity:ce},Se&&Object(Y.createElement)("animate",{attributeName:"offset",values:-$e+"; "+-$e+"; 1",keyTimes:ke,dur:nn,repeatCount:"indefinite"})),Object(Y.createElement)("stop",{offset:"50%",stopColor:Zn,stopOpacity:Kn},Se&&Object(Y.createElement)("animate",{attributeName:"offset",values:-$e/2+"; "+-$e/2+"; "+(1+$e/2),keyTimes:ke,dur:nn,repeatCount:"indefinite"})),Object(Y.createElement)("stop",{offset:"100%",stopColor:Wt,stopOpacity:ce},Se&&Object(Y.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+$e),keyTimes:ke,dur:nn,repeatCount:"indefinite"})))))};H.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var $=function(Xt){return Xt.children?Object(Y.createElement)(H,j({},Xt)):Object(Y.createElement)(dt,j({},Xt))},dt=function(Xt){return Object(Y.createElement)($,j({viewBox:"0 0 476 124"},Xt),Object(Y.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),Object(Y.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),Object(Y.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),Object(Y.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),Object(Y.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),Object(Y.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},Z=function(Xt){return Object(Y.createElement)($,j({viewBox:"0 0 400 460"},Xt),Object(Y.createElement)("circle",{cx:"31",cy:"31",r:"15"}),Object(Y.createElement)("rect",{x:"58",y:"18",rx:"2",ry:"2",width:"140",height:"10"}),Object(Y.createElement)("rect",{x:"58",y:"34",rx:"2",ry:"2",width:"140",height:"10"}),Object(Y.createElement)("rect",{x:"0",y:"60",rx:"2",ry:"2",width:"400",height:"400"}))},ct=function(Xt){return Object(Y.createElement)($,j({viewBox:"0 0 340 84"},Xt),Object(Y.createElement)("rect",{x:"0",y:"0",width:"67",height:"11",rx:"3"}),Object(Y.createElement)("rect",{x:"76",y:"0",width:"140",height:"11",rx:"3"}),Object(Y.createElement)("rect",{x:"127",y:"48",width:"53",height:"11",rx:"3"}),Object(Y.createElement)("rect",{x:"187",y:"48",width:"72",height:"11",rx:"3"}),Object(Y.createElement)("rect",{x:"18",y:"48",width:"100",height:"11",rx:"3"}),Object(Y.createElement)("rect",{x:"0",y:"71",width:"37",height:"11",rx:"3"}),Object(Y.createElement)("rect",{x:"18",y:"23",width:"140",height:"11",rx:"3"}),Object(Y.createElement)("rect",{x:"166",y:"23",width:"173",height:"11",rx:"3"}))},pt=function(Xt){return Object(Y.createElement)($,j({viewBox:"0 0 400 110"},Xt),Object(Y.createElement)("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"}),Object(Y.createElement)("rect",{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"}),Object(Y.createElement)("rect",{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"}),Object(Y.createElement)("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"}),Object(Y.createElement)("rect",{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"}),Object(Y.createElement)("rect",{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"}))},gt=function(Xt){return Object(Y.createElement)($,j({viewBox:"0 0 245 125"},Xt),Object(Y.createElement)("circle",{cx:"10",cy:"20",r:"8"}),Object(Y.createElement)("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),Object(Y.createElement)("circle",{cx:"10",cy:"50",r:"8"}),Object(Y.createElement)("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),Object(Y.createElement)("circle",{cx:"10",cy:"80",r:"8"}),Object(Y.createElement)("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}),Object(Y.createElement)("circle",{cx:"10",cy:"110",r:"8"}),Object(Y.createElement)("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}))},at=$,Bt=function(Xt){var Se=Xt.loadingTemplate,Wt=function(){return Se||i.a.createElement(at,{viewBox:"0 0 400 180",width:200,height:90,speed:1},i.a.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),i.a.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),i.a.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),i.a.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),i.a.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),i.a.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),i.a.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),i.a.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),i.a.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),i.a.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"}))};return i.a.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:"#fff"}},Wt())},Lt=Bt,Et=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},K=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=Et(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Area,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),ft=K,mt=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},yt=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=mt(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Bar,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),wt=yt,J=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},lt=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=J(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Bullet,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),it=lt,_=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},P=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=_(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Column,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),Q=P,k=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},p=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=k(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Funnel,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),y=p,B=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},W=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=B(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Histogram,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),rt=W,st=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},ut=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=st(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Line,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),Mt=ut,bt=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},xt=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=bt(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Box,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),Ot=xt,jt=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},Dt=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=jt(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Liquid,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),zt=Dt,Tt=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},Vt=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=Tt(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Heatmap,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),Ht=Vt,re=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},pe=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=re(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Pie,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),me=pe,Ee=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},Le=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=Ee(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Gauge,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),Je=Le,On=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},gn=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=On(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Progress,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),Vn=gn,kn=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},Wn=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=kn(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Radar,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),Dn=Wn,Nn=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},Qn=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=Nn(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.RingProgress,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),ir=Qn,hr=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},Er=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=hr(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Rose,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),mr=Er,dr=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},Br=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=dr(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Scatter,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),ii=Br,mi=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},Pi=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=mi(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.TinyArea,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),sa=Pi,Pa=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},Mi=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=Pa(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.TinyColumn,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),Ki=Mi,fa=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},oa=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=fa(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.DualAxes,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),pa=oa,La=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},Yr=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=La(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.TinyLine,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),Ea=Yr,Pr=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},si=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=Pr(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Waterfall,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),ti=si,$r=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},ui=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=$r(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.WordCloud,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),li=ui,xi=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},Ci=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=xi(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Sunburst,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),di=Ci,Ti=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},pi=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=Ti(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Stock,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),Ni=pi,Bi=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},Fi=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=Bi(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.RadialBar,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),ma=Fi,ua=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},Ra=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=ua(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Sankey,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),xa=Ra,Ma=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},Qi=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=Ma(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.Treemap,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),ka=Qi,vo=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},za=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=vo(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.MultiView,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),Ga=za,eo=function(_t,Xt){var Se={};for(var Wt in _t)Object.prototype.hasOwnProperty.call(_t,Wt)&&Xt.indexOf(Wt)<0&&(Se[Wt]=_t[Wt]);if(_t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ce=0,Wt=Object.getOwnPropertySymbols(_t);ce<Wt.length;ce++)Xt.indexOf(Wt[ce])<0&&Object.prototype.propertyIsEnumerable.call(_t,Wt[ce])&&(Se[Wt[ce]]=_t[Wt[ce]]);return Se},ae=Object(Y.forwardRef)(function(_t,Xt){var Se=_t.chartRef,Wt=_t.style,ce=Wt===void 0?{height:"100%"}:Wt,yn=_t.className,Bn=_t.loading,Zn=_t.loadingTemplate,Kn=_t.errorTemplate,$e=eo(_t,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),je=S(b.BidirectionalBar,$e),L=je.chart,St=je.container;return Object(Y.useEffect)(function(){c(Se,L.current)},[L.current]),Object(Y.useImperativeHandle)(Xt,function(){return{getChart:function(){return L.current}}}),i.a.createElement(O,{errorTemplate:Kn},Bn&&i.a.createElement(Lt,{loadingTemplate:Zn}),i.a.createElement("div",{className:yn,style:ce,ref:St}))}),Kt=ae,te=E("fD4D"),Oe=function(){return Oe=Object.assign||function(_t){for(var Xt,Se=1,Wt=arguments.length;Se<Wt;Se++){Xt=arguments[Se];for(var ce in Xt)Object.prototype.hasOwnProperty.call(Xt,ce)&&(_t[ce]=Xt[ce])}return _t},Oe.apply(this,arguments)};te.default.registerNode("card-node",{draw:function(Xt,Se){var Wt=Xt&&Xt.color?Xt.color:"#5B8FF9",ce=Xt&&Xt.size?Xt.size:[100,30];typeof ce=="number"&&(ce=[ce,ce]);var yn=Xt&&Xt.style?Xt.style:{};yn=Object.assign({radius:2,fill:"#fff"},yn),Wt=yn.stroke||"#5B8FF9";var Bn=yn.radius||0,Zn=Se.addShape("rect",{attrs:Oe({x:-ce[0]/2,y:-ce[1]/2,width:ce[0],height:ce[1],stroke:Wt},yn),name:"main-box",draggable:!0}),Kn=(Xt==null?void 0:Xt.title)||(Xt==null?void 0:Xt.label),$e,je=Xt&&Xt.labelCfg&&Xt.labelCfg.style?Xt.labelCfg.style:{};if(Kn){var L=Object.assign({fill:"#fff"},je);$e=Se.addShape("text",{attrs:Oe(Oe({textBaseline:"top",x:-ce[0]/2+8,y:-ce[1]/2+2,text:Kn},L),{fill:"#fff"}),name:"title"})}var St=$e?$e.getBBox():{height:ce[1]/2},$t=Se.addShape("rect",{attrs:{x:-ce[0]/2,y:-ce[1]/2,width:ce[0],height:St.height+4,fill:Wt,radius:[Bn,Bn,0,0]},name:"title-rect",draggable:!0});$e&&$e.toFront();var ye;(Xt==null?void 0:Xt.children)&&(ye=Se.addShape("marker",{attrs:{x:ce[0]/2,y:0,r:6,cursor:"pointer",symbol:Xt.collapsed?te.default.Marker.expand:te.default.Marker.collapse,stroke:Wt,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var Zt=Xt&&Xt.description?Xt.description:void 0,de=$t.getBBox(),he;if(Zt&&(he=Se.addShape("text",{attrs:Oe({textBaseline:"top",x:-ce[0]/2+8,y:-ce[1]/2+de.height+8,text:Zt},je),name:"description"})),he){var le=he.getBBox(),Me=de.height+16+le.height,We=ce[0]>le.width+16?ce[0]:le.width+16;Zn.attr({width:We,height:Me}),$t==null||$t.attr("width",We),ye==null||ye.attr({x:We-ce[0]/2,y:Me/2-ce[1]/2})}return Zn},update:void 0},"single-node"),te.default.registerNode("round-rect",{drawShape:function(Xt,Se){var Wt=Xt&&Xt.color?Xt.color:"#5B8FF9",ce=Xt&&Xt.size?Xt.size:[100,30];typeof ce=="number"&&(ce=[ce,ce]);var yn=Xt&&Xt.style?Xt.style:{};yn.stroke&&(Wt=yn.stroke);var Bn=yn&&yn.fill?yn.fill:"#fff";yn=Object.assign({width:ce[0],height:ce[1],radius:ce[1]/2,fill:Bn,lineWidth:1.2,stroke:Wt},yn);var Zn=Se.addShape("rect",{attrs:Oe({x:-ce[0]/2,y:-ce[1]/2},yn),name:"rect-shape"});return Se.addShape("circle",{attrs:{x:-ce[0]/2,y:0,r:3,fill:yn.stroke},name:"circle-shape"}),Se.addShape("circle",{attrs:{x:ce[0]/2,y:0,r:3,fill:yn.stroke},name:"circle-shape2"}),Zn},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(Xt,Se){var Wt=Se.getContainer(),ce=Wt.get("children"),yn=ce[0],Bn=ce[1],Zn=ce[2],Kn=Xt.style&&Xt.style.stroke?Xt.style.stroke:"#5B8FF9";Kn&&(yn.attr("stroke",Kn),Bn.attr("fill",Kn),Zn.attr("fill",Kn))}},"single-node");var Ze=function(Xt){te.default.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(Wt,ce){var yn=this.getShapeStyle(Wt),Bn=(Wt||{}).labelCfg,Zn=Bn===void 0?{}:Bn,Kn=ce.addShape("rect",{attrs:Oe(Oe({},yn),{x:0,y:0})}),$e={fill:"#e6fffb"},je="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return(Wt==null?void 0:Wt.leftIcon)&&($e=Object.assign({},$e,Wt.leftIcon.style),je=Wt.leftIcon.img),ce.addShape("rect",{attrs:Oe({x:1,y:1,width:38,height:yn.height-2},$e)}),ce.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:je},name:"image-shape"}),Xt.enableEdit&&(ce.addShape("marker",{attrs:{x:yn.width/3,y:yn.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:te.default.Marker.expand},name:"add-item"}),ce.addShape("marker",{attrs:{x:yn.width*2/3,y:yn.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:te.default.Marker.collapse},name:"remove-item"})),(Wt==null?void 0:Wt.label)&&ce.addShape("text",{attrs:Oe(Oe({},Zn.style),{text:Wt.label,x:yn.width/2,y:yn.height/1.5})}),Kn}},"rect")};te.default.registerEdge("fund-polyline",{draw:function(Xt,Se){var Wt=Xt==null?void 0:Xt.startPoint,ce=Xt==null?void 0:Xt.endPoint,yn=ce.y-Wt.y,Bn=yn!==0?500/Math.abs(yn):0,Zn=16,Kn=yn<0?Zn:-Zn,$e={x:Wt.x+Bn,y:ce.y+Kn},je={x:$e.x+Zn,y:ce.y},L={x:($e.x-Wt.x)*(ce.y-Wt.y)/($e.y-Wt.y)+Wt.x,y:ce.y},St=[["M",Wt.x,Wt.y],["L",$e.x,$e.y],["Q",L.x,L.y,je.x,je.y],["L",ce.x,ce.y]];yn===0&&(St=[["M",Wt.x,Wt.y],["L",ce.x,ce.y]]);var $t=(Xt||{}).style,ye=Se.addShape("path",{attrs:{path:St,stroke:$t.stroke||(Xt==null?void 0:Xt.colorMap)&&Xt.colorMap[Xt.dataType]?(Xt==null?void 0:Xt.colorMap)[Xt==null?void 0:Xt.dataType]:"#5B8FF9",lineWidth:$t.lineWidth||1.2,endArrow:!1},name:"path-shape"}),Zt=0,de=8,he;if((Xt==null?void 0:Xt.label)&&(he=Se.addShape("text",{attrs:{text:Xt.label,x:je.x+Zt,y:ce.y-de-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),Xt==null?void 0:Xt.dataType){var le=he?he.getBBox():{height:0};Se.addShape("text",{attrs:{text:Xt.dataType,x:je.x+Zt,y:ce.y-de-le.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return(Xt==null?void 0:Xt.subLabel)&&Se.addShape("text",{attrs:{text:Xt.subLabel,x:je.x+Zt,y:ce.y+de+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),ye},update:void 0},"single-edge"),te.default.registerEdge("flow-line",{draw:function(Xt,Se){var Wt=Xt==null?void 0:Xt.startPoint,ce=Xt==null?void 0:Xt.endPoint,yn=(Xt||{}).style,Bn=yn===void 0?{}:yn,Zn=Se.addShape("path",{attrs:{stroke:Bn.stroke,endArrow:Bn.endArrow,path:[["M",Wt.x,Wt.y],["L",Wt.x,(Wt.y+ce.y)/2],["L",ce.x,(Wt.y+ce.y)/2],["L",ce.x,ce.y]]}});return Zn}});var An=function(){return An=Object.assign||function(_t){for(var Xt,Se=1,Wt=arguments.length;Se<Wt;Se++){Xt=arguments[Se];for(var ce in Xt)Object.prototype.hasOwnProperty.call(Xt,ce)&&(_t[ce]=Xt[ce])}return _t},An.apply(this,arguments)},qn={show:!1,size:[150,100],type:"keyShape"},rr=function(Xt,Se,Wt){var ce,yn;return Wt&&Wt.current&&(ce=Wt.current.offsetWidth,yn=Wt.current.offsetHeight||500),!Xt&&!ce||!Se&&!yn?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[Xt||ce||500,Se||yn||500]},tn=function(Xt,Se){if(!(!Se||Se.destroyed)&&Xt&&Xt.show){var Wt=Object.assign(qn,Xt),ce=new te.default.Minimap(An({},Wt));return Se.addPlugin(ce),ce}};function sn(_t,Xt,Se){var Wt=Object(Y.useRef)(),ce=Xt.data,yn=Xt.nodeStyle,Bn=Xt.nodeAnchorPoints,Zn=Xt.nodeType,Kn=Xt.edgeType,$e=Xt.edgeStyle,je=Xt.width,L=Xt.height,St=Xt.layout,$t=Xt.minimapCfg,ye=Xt.behaviors,Zt=Xt.nodeLabelCfg,de=Xt.edgeLabelCfg,he;return Object(Y.useEffect)(function(){_t&&!_t.destroyed&&(_t.changeData(ce),_t.layout())},[ce]),Object(Y.useEffect)(function(){_t&&!_t.destroyed&&_t.getNodes().forEach(function(le){_t.updateItem(le,{type:Zn,style:yn,anchorPoints:Bn,labelCfg:Zt})})},[yn,Bn,Zn]),Object(Y.useEffect)(function(){_t&&!_t.destroyed&&_t.getEdges().forEach(function(le){_t.updateItem(le,{type:Kn,style:$e,labelCfg:de})})},[$e,Kn]),Object(Y.useEffect)(function(){if(_t&&!_t.destroyed){var le=rr(je,L,Se);_t.changeSize(le[0],le[1])}},[Se,je,L]),Object(Y.useEffect)(function(){_t&&!_t.destroyed&&_t.updateLayout(St)},[St]),Object(Y.useEffect)(function(){if(!(!$t||!_t||_t.destroyed))if($t.show)he=tn($t,_t),he&&he.updateCanvas();else{var le=_t.get("plugins")[0];le&&_t.removePlugin(le)}},[$t]),Object(Y.useEffect)(function(){if(_t&&!_t.destroyed){var le=_t.get("modes").default,Me=[];le.forEach(function(We){Object(t.isObject)(We)?Me.push(We.type):Object(t.isString)(We)&&Me.push(We)}),_t.removeBehaviors(Me,"default"),_t.addBehaviors(ye,"default")}},[ye]),Object(Y.useEffect)(function(){if(Wt.current=_t,_t&&!_t.destroyed)return function(){_t.destroy(),_t=void 0}},[]),{graphHook:Wt}}var un={hover:{stroke:"#1890ff",lineWidth:2}},ur={fill:"#91d5ff",stroke:"#40a9ff",radius:5},jr={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},wr={type:"compactBox",direction:"TB",getId:function(Xt){return Xt.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},yr={style:{fill:"#000",fontSize:12}},ni=function(Xt){var Se=Xt.data,Wt=Xt.className,ce=Xt.style,yn=Xt.width,Bn=Xt.height,Zn=Xt.nodeType,Kn=Zn===void 0?"rect":Zn,$e=Xt.edgeType,je=$e===void 0?"flow-line":$e,L=Xt.collapseExpand,St=L===void 0?!1:L,$t=Xt.nodeSize,ye=$t===void 0?[120,40]:$t,Zt=Xt.nodeLabelCfg,de=Zt===void 0?yr:Zt,he=Xt.edgeLabelCfg,le=he===void 0?yr:he,Me=Xt.layout,We=Me===void 0?wr:Me,Ye=Xt.enableEdit,ke=Ye===void 0?!1:Ye,nn=Xt.minimapCfg,Re=Xt.nodeStyle,hn=Re===void 0?ur:Re,pn=Xt.edgeStyle,on=pn===void 0?jr:pn,mn=Xt.nodeStateStyles,jn=mn===void 0?un:mn,Ie=Xt.edgeStateStyles,fe=Ie===void 0?un:Ie,Ne=Xt.handleNodeClick,Fe=Xt.handleEdgeClick,rn=Xt.handleNodeHover,ln=Xt.handleNodeUnHover,_e=Xt.handleEdgeHover,dn=Xt.handleEdgeUnHover,En=Xt.handleCanvasClick,tr=Xt.graphRef,Pn,Fn={data:Se,className:Wt,style:ce,width:yn,height:Bn,nodeType:Kn,edgeType:je,collapseExpand:St,nodeSize:ye,nodeLabelCfg:de,edgeLabelCfg:le,layout:We,enableEdit:ke,minimapCfg:nn,nodeStyle:hn,edgeStyle:on,nodeStateStyles:jn,edgeStateStyles:fe,handleNodeClick:Ne,handleEdgeClick:Fe,handleNodeHover:rn,handleNodeUnHover:ln,handleEdgeHover:_e,handleEdgeUnHover:dn,handleCanvasClick:En,graphRef:tr},Cr=i.a.useRef(null);return sn(Pn,Fn,Cr),Object(Y.useEffect)(function(){var fi=rr(yn,Bn,Cr);return(!Pn||Pn.destroyed)&&(Kn==="icon-node"&&Ze({enableEdit:ke}),Pn=new te.default.TreeGraph({container:Cr.current,width:fi[0],height:fi[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:Kn,size:ye,style:hn,labelCfg:de},defaultEdge:{type:je,style:on,labelCfg:le},nodeStateStyles:jn,edgeStateStyles:fe,layout:We}),tr&&(tr.current=Pn)),tn(nn,Pn),Pn.data(Se),Pn.render(),Pn.fitView(),St&&Pn.addBehaviors({type:"collapse-expand"},"default"),Pn.on("node:mouseenter",function(ri){var zr=ri.item;Pn.setItemState(zr,"hover",!0),rn&&rn(zr,Pn)}),Pn.on("node:mouseleave",function(ri){var zr=ri.item;Pn.setItemState(zr,"hover",!1),ln&&ln(zr,Pn)}),Pn.on("node:click",function(ri){var zr=ri.item,wi=ri.target,Ai=wi.get("type"),gi=wi.get("name");if(Ai==="marker"){var Oa=zr.getModel();if(gi==="add-item"){Oa.children||(Oa.children=[]);var Aa=Math.random().toString(36).slice(-8);Oa.children.push({id:Aa,label:Aa}),Pn.updateChild(Oa,Oa.id)}else gi==="remove-item"&&Pn.removeChild(Oa.id)}Ne&&Ne(zr,Pn)}),Pn.on("edge:mouseenter",function(ri){var zr=ri.item;Pn.setItemState(zr,"hover",!0),_e&&_e(zr,Pn)}),Pn.on("edge:mouseleave",function(ri){var zr=ri.item;Pn.setItemState(zr,"hover",!1),dn&&dn(zr,Pn)}),Pn.on("edge:click",function(ri){var zr=ri.item;Fe&&Fe(zr,Pn)}),Pn.on("canvas:click",function(ri){En&&En(Pn)}),function(){return Pn.destroy()}},[]),i.a.createElement(O,null,i.a.createElement("div",{className:Wt,style:ce,ref:Cr}))},_r=ni,Fr={hover:{stroke:"#1890ff",lineWidth:2}},Lr=[120,40],Gr={stroke:"#40a9ff"},Hr=[[.5,0],[.5,1]],ei={stroke:"#91d5ff",endArrow:{path:te.default.Arrow.vee(10,10),fill:"#91d5ff"}},Kr={type:"dagre",rankdir:"TB",nodesepFunc:function(Xt){return 0},ranksepFunc:function(Xt){return 0},controlPoints:!0},Qr={style:{fill:"#000",fontSize:12}},Oi=function(Xt){var Se=Xt.data,Wt=Xt.className,ce=Xt.style,yn=Xt.width,Bn=Xt.height,Zn=Xt.nodeType,Kn=Zn===void 0?"modelRect":Zn,$e=Xt.edgeType,je=$e===void 0?"polyline":$e,L=Xt.behaviors,St=L===void 0?["zoom-canvas","drag-canvas"]:L,$t=Xt.nodeSize,ye=$t===void 0?Lr:$t,Zt=Xt.nodeLabelCfg,de=Zt===void 0?Qr:Zt,he=Xt.edgeLabelCfg,le=he===void 0?Qr:he,Me=Xt.nodeAnchorPoints,We=Me===void 0?Hr:Me,Ye=Xt.layout,ke=Ye===void 0?Kr:Ye,nn=Xt.minimapCfg,Re=Xt.nodeStyle,hn=Re===void 0?Gr:Re,pn=Xt.edgeStyle,on=pn===void 0?ei:pn,mn=Xt.nodeStateStyles,jn=mn===void 0?Fr:mn,Ie=Xt.edgeStateStyles,fe=Ie===void 0?Fr:Ie,Ne=Xt.handleEdgeClick,Fe=Xt.handleEdgeHover,rn=Xt.handleEdgeUnHover,ln=Xt.handleNodeClick,_e=Xt.handleNodeHover,dn=Xt.handleNodeUnHover,En=Xt.handleCanvasClick,tr=Xt.graphRef,Pn,Fn={data:Se,className:Wt,style:ce,width:yn,height:Bn,nodeType:Kn,edgeType:je,behaviors:St,nodeSize:ye,nodeLabelCfg:de,edgeLabelCfg:le,nodeAnchorPoints:We,layout:ke,minimapCfg:nn,nodeStyle:hn,edgeStyle:on,nodeStateStyles:jn,edgeStateStyles:fe,handleEdgeClick:Ne,handleEdgeHover:Fe,handleEdgeUnHover:rn,handleNodeClick:ln,handleNodeHover:_e,handleNodeUnHover:dn,handleCanvasClick:En,graphRef:tr},Cr=i.a.useRef(null);return sn(Pn,Fn,Cr),Object(Y.useEffect)(function(){var fi=rr(yn,Bn,Cr);return(!Pn||Pn.destroyed)&&(Pn=new te.default.Graph({container:Cr.current,width:fi[0],height:fi[1],modes:{default:St},defaultNode:{type:Kn,size:ye,style:hn,anchorPoints:We,labelCfg:de},defaultEdge:{type:je,style:on,labelCfg:le},nodeStateStyles:jn,edgeStateStyles:fe,layout:ke}),tr&&(tr.current=Pn)),tn(nn,Pn),Pn.data(Se),Pn.render(),Pn.fitView(),Pn.on("edge:mouseenter",function(ri){var zr=ri.item;Pn.setItemState(zr,"hover",!0),Fe&&Fe(zr,Pn)}),Pn.on("node:mouseenter",function(ri){var zr=ri.item;Pn.setItemState(zr,"hover",!1),_e&&_e(zr,Pn)}),Pn.on("edge:mouseleave",function(ri){var zr=ri.item;Pn.setItemState(zr,"hover",!1),rn&&rn(zr,Pn)}),Pn.on("node:mouseleave",function(ri){var zr=ri.item;Pn.setItemState(zr,"hover",!1),dn&&dn(zr,Pn)}),Pn.on("edge:click",function(ri){var zr=ri.item;Ne&&Ne(zr,Pn)}),Pn.on("node:click",function(ri){var zr=ri.item;ln&&ln(zr,Pn)}),Pn.on("canvas:click",function(ri){En&&En(Pn)}),function(){return Pn.destroy()}},[]),i.a.createElement(O,null,i.a.createElement("div",{className:Wt,style:ce,ref:Cr}))},Ri=Oi,Ei={hover:{stroke:"#1890ff",lineWidth:2}},Gi=[150,30],ca={stroke:"#72CC4A",fill:"#f00"},ha=[[.5,0],[.5,1]],na={stroke:"#91d5ff",endArrow:{path:te.default.Arrow.vee(10,10),fill:"#91d5ff"}},Zi={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},ve={style:{fill:"#000000A6",fontSize:10}},U=function(Xt){var Se=Xt.data,Wt=Xt.className,ce=Xt.style,yn=Xt.width,Bn=Xt.height,Zn=Xt.nodeType,Kn=Zn===void 0?"round-rect":Zn,$e=Xt.edgeType,je=$e===void 0?"fund-polyline":$e,L=Xt.behaviors,St=L===void 0?["zoom-canvas","drag-canvas"]:L,$t=Xt.nodeSize,ye=$t===void 0?Gi:$t,Zt=Xt.nodeLabelCfg,de=Zt===void 0?ve:Zt,he=Xt.edgeLabelCfg,le=he===void 0?ve:he,Me=Xt.nodeAnchorPoints,We=Me===void 0?ha:Me,Ye=Xt.layout,ke=Ye===void 0?Zi:Ye,nn=Xt.minimapCfg,Re=Xt.nodeStyle,hn=Re===void 0?ca:Re,pn=Xt.edgeStyle,on=pn===void 0?na:pn,mn=Xt.nodeStateStyles,jn=mn===void 0?Ei:mn,Ie=Xt.edgeStateStyles,fe=Ie===void 0?Ei:Ie,Ne=Xt.colorMap,Fe=Ne===void 0?{}:Ne,rn=Xt.handleEdgeClick,ln=Xt.handleEdgeHover,_e=Xt.handleEdgeUnHover,dn=Xt.handleNodeClick,En=Xt.handleNodeHover,tr=Xt.handleNodeUnHover,Pn=Xt.handleCanvasClick,Fn=Xt.graphRef,Cr,fi=i.a.useRef(null),ri={data:Se,className:Wt,style:ce,width:yn,height:Bn,nodeType:Kn,edgeType:je,behaviors:St,nodeSize:ye,nodeLabelCfg:de,edgeLabelCfg:le,nodeAnchorPoints:We,layout:ke,minimapCfg:nn,nodeStyle:hn,edgeStyle:on,nodeStateStyles:jn,edgeStateStyles:fe,colorMap:Fe,handleEdgeClick:rn,handleEdgeHover:ln,handleEdgeUnHover:_e,handleNodeClick:dn,handleNodeHover:En,handleNodeUnHover:tr,handleCanvasClick:Pn,graphRef:Fn};return sn(Cr,ri,fi),Object(Y.useEffect)(function(){var zr=rr(yn,Bn,fi);(!Cr||Cr.destroyed)&&(Cr=new te.default.Graph({container:fi.current,width:zr[0],height:zr[1],modes:{default:St},defaultNode:{type:Kn,size:ye,style:hn,anchorPoints:We,labelCfg:de},defaultEdge:{type:je,style:on,colorMap:Fe,labelCfg:le},nodeStateStyles:jn,edgeStateStyles:fe,layout:ke}),Fn&&(Fn.current=Cr)),tn(nn,Cr),Cr.data(Se),Cr.render();var wi=Cr.getEdges();return wi.forEach(function(Ai){var gi=Ai.getKeyShape(),Oa=gi.attr("stroke"),Aa=Ai.getTarget();Aa.update({style:{stroke:Oa}})}),Cr.fitView(),Cr.on("edge:mouseenter",function(Ai){var gi=Ai.item;Cr.setItemState(gi,"hover",!0),ln&&ln(gi,Cr)}),Cr.on("edge:mouseleave",function(Ai){var gi=Ai.item;Cr.setItemState(gi,"hover",!1),_e&&_e(gi,Cr)}),Cr.on("edge:click",function(Ai){var gi=Ai.item;rn&&rn(gi,Cr)}),Cr.on("node:mouseenter",function(Ai){var gi=Ai.item;Cr.setItemState(gi,"hover",!1),En&&En(gi,Cr)}),Cr.on("node:mouseleave",function(Ai){var gi=Ai.item;Cr.setItemState(gi,"hover",!1),tr&&tr(gi,Cr)}),Cr.on("node:click",function(Ai){var gi=Ai.item;dn&&dn(gi,Cr)}),Cr.on("canvas:click",function(Ai){Pn&&Pn(Cr)}),function(){return Cr.destroy()}},[]),i.a.createElement(O,null,i.a.createElement("div",{className:Wt,style:ce,ref:fi}))},G=U,nt={hover:{stroke:"#1890ff",lineWidth:2}},vt=[120,40],Gt={stroke:"#40a9ff"},Jt=[[0,.5],[1,.5]],ie={stroke:"#ccc",endArrow:{path:te.default.Arrow.vee(10,10),fill:"#ccc"}},ue={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(Xt){return 100}},Ce={style:{fill:"#000",fontSize:12}},we=function(Xt){var Se=Xt.data,Wt=Xt.className,ce=Xt.style,yn=Xt.width,Bn=Xt.height,Zn=Xt.nodeType,Kn=Zn===void 0?"card-node":Zn,$e=Xt.edgeType,je=$e===void 0?"cubic-horizontal":$e,L=Xt.behaviors,St=L===void 0?["zoom-canvas","drag-canvas"]:L,$t=Xt.nodeSize,ye=$t===void 0?vt:$t,Zt=Xt.nodeLabelCfg,de=Zt===void 0?Ce:Zt,he=Xt.nodeAnchorPoints,le=he===void 0?Jt:he,Me=Xt.layout,We=Me===void 0?ue:Me,Ye=Xt.minimapCfg,ke=Xt.nodeStyle,nn=ke===void 0?Gt:ke,Re=Xt.edgeStyle,hn=Re===void 0?ie:Re,pn=Xt.nodeStateStyles,on=pn===void 0?nt:pn,mn=Xt.edgeStateStyles,jn=mn===void 0?nt:mn,Ie=Xt.collapseExpand,fe=Ie===void 0?!0:Ie,Ne=Xt.handleEdgeClick,Fe=Xt.handleEdgeHover,rn=Xt.handleEdgeUnHover,ln=Xt.handleNodeClick,_e=Xt.handleNodeHover,dn=Xt.handleNodeUnHover,En=Xt.handleCanvasClick,tr=Xt.graphRef,Pn,Fn=i.a.useRef(null),Cr={data:Se,className:Wt,style:ce,width:yn,height:Bn,nodeType:Kn,edgeType:je,behaviors:St,nodeSize:ye,nodeLabelCfg:de,nodeAnchorPoints:le,layout:We,minimapCfg:Ye,nodeStyle:nn,edgeStyle:hn,nodeStateStyles:on,edgeStateStyles:jn,collapseExpand:fe,handleEdgeClick:Ne,handleEdgeHover:Fe,handleEdgeUnHover:rn,handleNodeClick:ln,handleNodeHover:_e,handleNodeUnHover:dn,handleCanvasClick:En,graphRef:tr};return sn(Pn,Cr,Fn),Object(Y.useEffect)(function(){var fi=rr(yn,Bn,Fn);if((!Pn||Pn.destroyed)&&(Pn=new te.default.TreeGraph({container:Fn.current,width:fi[0],height:fi[1],modes:{default:St},defaultNode:{type:Kn,size:ye,style:nn,anchorPoints:le,labelCfg:de},defaultEdge:{type:je,style:hn},nodeStateStyles:on,edgeStateStyles:jn,layout:We}),tr&&(tr.current=Pn)),tn(Ye,Pn),Pn.data(Se),Pn.render(),Pn.fitView(),fe){var ri=function(wi){var Ai=wi.item;wi.target.get("name")==="collapse-icon"?(Pn.updateItem(Ai,{collapsed:!Ai.getModel().collapsed}),Pn.layout()):ln&&ln(Ai,Pn)};Pn.on("node:click",function(zr){ri(zr)}),Pn.on("node:touchstart",function(zr){ri(zr)})}return Pn.on("edge:mouseenter",function(zr){var wi=zr.item;Pn.setItemState(wi,"hover",!0),Fe&&Fe(wi,Pn)}),Pn.on("edge:mouseleave",function(zr){var wi=zr.item;Pn.setItemState(wi,"hover",!1),rn&&rn(wi,Pn)}),Pn.on("edge:click",function(zr){var wi=zr.item;Ne&&Ne(wi,Pn)}),Pn.on("edge:touchstart",function(zr){var wi=zr.item;Ne&&Ne(wi,Pn)}),Pn.on("node:mouseenter",function(zr){var wi=zr.item;Pn.setItemState(wi,"hover",!1),_e&&_e(wi,Pn)}),Pn.on("node:mouseleave",function(zr){var wi=zr.item;Pn.setItemState(wi,"hover",!1),dn&&dn(wi,Pn)}),Pn.on("canvas:click",function(zr){En&&En(Pn)}),Pn.on("canvas:touchstart",function(zr){En&&En(Pn)}),function(){return Pn.destroy()}},[]),i.a.createElement(O,null,i.a.createElement("div",{className:Wt,style:ce,ref:Fn}))},cn=we,Cn={Area:ft,Bar:wt,Box:Ot,Bullet:it,Column:Q,Funnel:y,Histogram:rt,Line:Mt,Liquid:zt,Heatmap:Ht,Pie:me,Progress:Vn,Radar:Dn,RingProgress:ir,Rose:mr,Scatter:ii,TinyArea:sa,TinyColumn:Ki,TinyLine:Ea,Waterfall:ti,WordCloud:li,Sunburst:di,DualAxes:pa,Stock:Ni,RadialBar:ma,Gauge:Je,Sankey:xa,Treemap:ka,MultiView:Ga,BidirectionalBar:Kt,OrganizationTreeGraph:_r,DagreGraph:Ri,IndentedTree:cn,DagreFundFlowGraph:G,G2:b.G2}},"0Cz8":function(qe,Pt,E){var Y=E("Xi7e"),i=E("ebwN"),b=E("e4Nc"),t=200;function n(u,g){var x=this.__data__;if(x instanceof Y){var c=x.__data__;if(!i||c.length<t-1)return c.push([u,g]),this.size=++x.size,this;x=this.__data__=new b(c)}return x.set(u,g),this.size=x.size,this}qe.exports=n},"0JQy":function(qe,Pt){var E="\\ud800-\\udfff",Y="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",b="\\u20d0-\\u20ff",t=Y+i+b,n="\\ufe0e\\ufe0f",u="["+E+"]",g="["+t+"]",x="\\ud83c[\\udffb-\\udfff]",c="(?:"+g+"|"+x+")",w="[^"+E+"]",I="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",r="\\u200d",s=c+"?",d="["+n+"]?",C="(?:"+r+"(?:"+[w,I,m].join("|")+")"+d+s+")*",S=d+s+C,A="(?:"+[w+g+"?",g,I,m,u].join("|")+")",f=RegExp(x+"(?="+x+")|"+A+S,"g");function O(j){return j.match(f)||[]}qe.exports=O},"0Xep":function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return Y}),E.d(Pt,"d",function(){return i}),E.d(Pt,"b",function(){return b}),E.d(Pt,"c",function(){return t});var Y=0,i=1/2,b=1/2,t=.05},"0ycA":function(qe,Pt){function E(){return[]}qe.exports=E},"1//c":function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return i});var Y=E("aFU3");function i(b,t,n){var u=new Y.Event(t,n);u.target=b,u.propagationPath.push(b),b.emitDelegation(t,u);for(var g=b.getParent();g;)g.emitDelegation(t,u),u.propagationPath.push(g),g=g.getParent()}},"17Tr":function(qe,Pt,E){"use strict";var Y=E("uCX8");E.d(Pt,"Annotation",function(){return Y});var i=E("fP0w");E.d(Pt,"Axis",function(){return i});var b=E("/3+T");E.d(Pt,"Crosshair",function(){return b});var t=E("x3EW");E.d(Pt,"Grid",function(){return t});var n=E("5bFI");E.d(Pt,"Legend",function(){return n});var u=E("Ch+T");E.d(Pt,"Tooltip",function(){return u});var g=E("NmWf"),x=E("MeYt"),c=E("de35"),w=E("fFDA");E.d(Pt,"Slider",function(){return w.a});var I=E("3u8d");E.d(Pt,"Scrollbar",function(){return I.a});var m=E("vk7d"),r=E.n(m),s=E("uzHj"),d=E.n(s),C=E("1//c");E.d(Pt,"propagationDelegate",function(){return C.a});var S=E("u60a");E.d(Pt,"TOOLTIP_CSS_CONST",function(){return S})},"1DS8":function(qe,Pt,E){qe.exports={updateTime:"updateTime___2Fbuk"}},"1MZV":function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return b});var Y=new Map;function i(O,j){Y.set(O,j)}function b(O){return Y.get(O)}var t=function(O){var j=O.attr(),D=j.x,V=j.y,H=j.width,$=j.height;return{x:D,y:V,width:H,height:$}},n=function(O){var j=O.attr(),D=j.x,V=j.y,H=j.r;return{x:D-H,y:V-H,width:H*2,height:H*2}},u=E("EYNi");function g(O,j){return!O||!j?O||j:{minX:Math.min(O.minX,j.minX),minY:Math.min(O.minY,j.minY),maxX:Math.max(O.maxX,j.maxX),maxY:Math.max(O.maxY,j.maxY)}}function x(O,j){var D=O.get("startArrowShape"),V=O.get("endArrowShape"),H=null,$=null;return D&&(H=D.getCanvasBBox(),j=g(j,H)),V&&($=V.getCanvasBBox(),j=g(j,$)),j}var c=function(O){for(var j=O.attr(),D=j.points,V=[],H=[],$=0;$<D.length;$++){var dt=D[$];V.push(dt[0]),H.push(dt[1])}var Z=u.f.getBBoxByArray(V,H),ct=Z.x,pt=Z.y,gt=Z.width,at=Z.height,Bt={minX:ct,minY:pt,maxX:ct+gt,maxY:pt+at};return Bt=x(O,Bt),{x:Bt.minX,y:Bt.minY,width:Bt.maxX-Bt.minX,height:Bt.maxY-Bt.minY}},w=function(O){for(var j=O.attr(),D=j.points,V=[],H=[],$=0;$<D.length;$++){var dt=D[$];V.push(dt[0]),H.push(dt[1])}return u.f.getBBoxByArray(V,H)},I=E("vIgC"),m=function(O){var j=O.attr(),D=j.x,V=j.y,H=j.text,$=j.fontSize,dt=j.lineHeight,Z=j.font;Z||(Z=Object(I.a)(j));var ct=Object(I.c)(H,Z),pt;if(!ct)pt={x:D,y:V,width:0,height:0};else{var gt=j.textAlign,at=j.textBaseline,Bt=Object(I.b)(H,$,dt),Lt={x:D,y:V-Bt};gt&&(gt==="end"||gt==="right"?Lt.x-=ct:gt==="center"&&(Lt.x-=ct/2)),at&&(at==="top"?Lt.y+=Bt:at==="middle"&&(Lt.y+=Bt/2)),pt={x:Lt.x,y:Lt.y,width:ct,height:Bt}}return pt},r=E("LvGN"),s=E("iTfj");function d(O,j){for(var D=[],V=[],H=[],$=0;$<O.length;$++){var dt=O[$],Z=dt.currentPoint,ct=dt.params,pt=dt.prePoint,gt=void 0;switch(dt.command){case"Q":gt=u.e.box(pt[0],pt[1],ct[1],ct[2],ct[3],ct[4]);break;case"C":gt=u.b.box(pt[0],pt[1],ct[1],ct[2],ct[3],ct[4],ct[5],ct[6]);break;case"A":var at=dt.arcParams;gt=u.a.box(at.cx,at.cy,at.rx,at.ry,at.xRotation,at.startAngle,at.endAngle);break;default:D.push(Z[0]),V.push(Z[1]);break}gt&&(dt.box=gt,D.push(gt.x,gt.x+gt.width),V.push(gt.y,gt.y+gt.height)),j&&(dt.command==="L"||dt.command==="M")&&dt.prePoint&&dt.nextPoint&&H.push(dt)}D=D.filter(function(mt){return!Number.isNaN(mt)}),V=V.filter(function(mt){return!Number.isNaN(mt)});var Bt=Math.min.apply(null,D),Lt=Math.min.apply(null,V),Et=Math.max.apply(null,D),K=Math.max.apply(null,V);if(H.length===0)return{x:Bt,y:Lt,width:Et-Bt,height:K-Lt};for(var $=0;$<H.length;$++){var dt=H[$],Z=dt.currentPoint,ft=void 0;Z[0]===Bt?(ft=C(dt,j),Bt=Bt-ft.xExtra):Z[0]===Et&&(ft=C(dt,j),Et=Et+ft.xExtra),Z[1]===Lt?(ft=C(dt,j),Lt=Lt-ft.yExtra):Z[1]===K&&(ft=C(dt,j),K=K+ft.yExtra)}return{x:Bt,y:Lt,width:Et-Bt,height:K-Lt}}function C(O,j){var D=O.prePoint,V=O.currentPoint,H=O.nextPoint,$=Math.pow(V[0]-D[0],2)+Math.pow(V[1]-D[1],2),dt=Math.pow(V[0]-H[0],2)+Math.pow(V[1]-H[1],2),Z=Math.pow(D[0]-H[0],2)+Math.pow(D[1]-H[1],2),ct=Math.acos(($+dt-Z)/(2*Math.sqrt($)*Math.sqrt(dt)));if(!ct||Math.sin(ct)===0||Object(s.isNumberEqual)(ct,0))return{xExtra:0,yExtra:0};var pt=Math.abs(Math.atan2(H[1]-V[1],H[0]-V[0])),gt=Math.abs(Math.atan2(H[0]-V[0],H[1]-V[1]));pt=pt>Math.PI/2?Math.PI-pt:pt,gt=gt>Math.PI/2?Math.PI-gt:gt;var at={xExtra:Math.cos(ct/2-pt)*(j/2*(1/Math.sin(ct/2)))-j/2||0,yExtra:Math.cos(gt-ct/2)*(j/2*(1/Math.sin(ct/2)))-j/2||0};return at}var S=function(O){var j=O.attr(),D=j.path,V=j.stroke,H=V?j.lineWidth:0,$=O.get("segments")||Object(r.e)(D),dt=d($,H),Z=dt.x,ct=dt.y,pt=dt.width,gt=dt.height,at={minX:Z,minY:ct,maxX:Z+pt,maxY:ct+gt};return at=x(O,at),{x:at.minX,y:at.minY,width:at.maxX-at.minX,height:at.maxY-at.minY}},A=function(O){var j=O.attr(),D=j.x1,V=j.y1,H=j.x2,$=j.y2,dt=Math.min(D,H),Z=Math.max(D,H),ct=Math.min(V,$),pt=Math.max(V,$),gt={minX:dt,maxX:Z,minY:ct,maxY:pt};return gt=x(O,gt),{x:gt.minX,y:gt.minY,width:gt.maxX-gt.minX,height:gt.maxY-gt.minY}},f=function(O){var j=O.attr(),D=j.x,V=j.y,H=j.rx,$=j.ry;return{x:D-H,y:V-$,width:H*2,height:$*2}};i("rect",t),i("image",t),i("circle",n),i("marker",n),i("polyline",c),i("polygon",w),i("text",m),i("path",S),i("line",A),i("ellipse",f)},"1hJj":function(qe,Pt,E){var Y=E("e4Nc"),i=E("ftKO"),b=E("3A9y");function t(n){var u=-1,g=n==null?0:n.length;for(this.__data__=new Y;++u<g;)this.add(n[u])}t.prototype.add=t.prototype.push=i,t.prototype.has=b,qe.exports=t},"24YM":function(qe,Pt,E){"use strict";Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.SensorTabIndex=Pt.SensorClassName=Pt.SizeSensorId=void 0;var Y="size-sensor-id";Pt.SizeSensorId=Y;var i="size-sensor-object";Pt.SensorClassName=i;var b="-1";Pt.SensorTabIndex=b},"2gN3":function(qe,Pt,E){var Y=E("Kz5y"),i=Y["__core-js_shared__"];qe.exports=i},"3A9y":function(qe,Pt){function E(Y){return this.__data__.has(Y)}qe.exports=E},"3Fdi":function(qe,Pt){var E=Function.prototype,Y=E.toString;function i(b){if(b!=null){try{return Y.call(b)}catch(t){}try{return b+""}catch(t){}}return""}qe.exports=i},"3T7b":function(qe,Pt){},"3u8d":function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return g});var Y=E("mrSG"),i=E("fIp6"),b=E("iTfj"),t=E("MeYt"),n={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},u={default:n,hover:{thumbColor:"rgba(0,0,0,0.2)"}},g=function(x){Object(Y.b)(c,x);function c(){var w=x!==null&&x.apply(this,arguments)||this;return w.clearEvents=b.noop,w.onStartEvent=function(I){return function(m){w.isMobile=I,m.originalEvent.preventDefault();var r=I?Object(b.get)(m.originalEvent,"touches.0.clientX"):m.clientX,s=I?Object(b.get)(m.originalEvent,"touches.0.clientY"):m.clientY;w.startPos=w.cfg.isHorizontal?r:s,w.bindLaterEvent()}},w.bindLaterEvent=function(){var I=w.getContainerDOM(),m=[];w.isMobile?m=[Object(i.a)(I,"touchmove",w.onMouseMove),Object(i.a)(I,"touchend",w.onMouseUp),Object(i.a)(I,"touchcancel",w.onMouseUp)]:m=[Object(i.a)(I,"mousemove",w.onMouseMove),Object(i.a)(I,"mouseup",w.onMouseUp),Object(i.a)(I,"mouseleave",w.onMouseUp)],w.clearEvents=function(){m.forEach(function(r){r.remove()})}},w.onMouseMove=function(I){var m=w.cfg,r=m.isHorizontal,s=m.thumbOffset;I.preventDefault();var d=w.isMobile?Object(b.get)(I,"touches.0.clientX"):I.clientX,C=w.isMobile?Object(b.get)(I,"touches.0.clientY"):I.clientY,S=r?d:C,A=S-w.startPos;w.startPos=S,w.updateThumbOffset(s+A)},w.onMouseUp=function(I){I.preventDefault(),w.clearEvents()},w.onTrackClick=function(I){var m=w.cfg,r=m.isHorizontal,s=m.x,d=m.y,C=m.thumbLen,S=w.getContainerDOM(),A=S.getBoundingClientRect(),f=I.clientX,O=I.clientY,j=r?f-A.left-s-C/2:O-A.top-d-C/2,D=w.validateRange(j);w.updateThumbOffset(D)},w.onThumbMouseOver=function(){var I=w.cfg.theme.hover.thumbColor;w.getElementByLocalId("thumb").attr("stroke",I),w.draw()},w.onThumbMouseOut=function(){var I=w.cfg.theme.default.thumbColor;w.getElementByLocalId("thumb").attr("stroke",I),w.draw()},w}return c.prototype.setRange=function(w,I){this.set("minLimit",w),this.set("maxLimit",I);var m=this.getValue(),r=Object(b.clamp)(m,w,I);m!==r&&!this.get("isInit")&&this.setValue(r)},c.prototype.getRange=function(){var w=this.get("minLimit")||0,I=this.get("maxLimit")||1;return{min:w,max:I}},c.prototype.setValue=function(w){var I=this.getRange(),m=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Object(b.clamp)(w,I.min,I.max)}),this.delegateEmit("valuechange",{originalValue:m,value:this.getValue()})},c.prototype.getValue=function(){return Object(b.clamp)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},c.prototype.getDefaultCfg=function(){var w=x.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},w),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:u})},c.prototype.renderInner=function(w){this.renderTrackShape(w),this.renderThumbShape(w)},c.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},c.prototype.initEvent=function(){this.bindEvents()},c.prototype.renderTrackShape=function(w){var I=this.cfg,m=I.trackLen,r=I.theme,s=r===void 0?{default:{}}:r,d=s.default,C=d.lineCap,S=d.trackColor,A=d.size,f=this.get("isHorizontal")?{x1:0+A/2,y1:A/2,x2:m-A/2,y2:A/2,lineWidth:A,stroke:S,lineCap:C}:{x1:A/2,y1:0+A/2,x2:A/2,y2:m-A/2,lineWidth:A,stroke:S,lineCap:C};return this.addShape(w,{id:this.getElementId("track"),name:"track",type:"line",attrs:f})},c.prototype.renderThumbShape=function(w){var I=this.cfg,m=I.thumbOffset,r=I.thumbLen,s=I.theme,d=s===void 0?{default:{}}:s,C=d.default,S=C.size,A=C.lineCap,f=C.thumbColor,O=this.get("isHorizontal")?{x1:m+S/2,y1:S/2,x2:m+r-S/2,y2:S/2,lineWidth:S,stroke:f,lineCap:A,cursor:"default"}:{x1:S/2,y1:m+S/2,x2:S/2,y2:m+r-S/2,lineWidth:S,stroke:f,lineCap:A,cursor:"default"};return this.addShape(w,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:O})},c.prototype.bindEvents=function(){var w=this.get("group");w.on("mousedown",this.onStartEvent(!1)),w.on("mouseup",this.onMouseUp),w.on("touchstart",this.onStartEvent(!0)),w.on("touchend",this.onMouseUp);var I=w.findById(this.getElementId("track"));I.on("click",this.onTrackClick);var m=w.findById(this.getElementId("thumb"));m.on("mouseover",this.onThumbMouseOver),m.on("mouseout",this.onThumbMouseOut)},c.prototype.getContainerDOM=function(){var w=this.get("container"),I=w&&w.get("canvas");return I&&I.get("container")},c.prototype.validateRange=function(w){var I=this.cfg,m=I.thumbLen,r=I.trackLen,s=w;return w+m>r?s=r-m:w+m<m&&(s=0),s},c.prototype.draw=function(){var w=this.get("container"),I=w&&w.get("canvas");I&&I.draw()},c.prototype.updateThumbOffset=function(w){var I=this.cfg,m=I.thumbOffset,r=I.isHorizontal,s=I.thumbLen,d=I.size,C=this.validateRange(w);if(C!==m){var S=this.getElementByLocalId("thumb");r?S.attr({x1:C+d/2,x2:C+s-d/2}):S.attr({y1:C+d/2,y2:C+s-d/2}),this.emitOffsetChange(C)}},c.prototype.emitOffsetChange=function(w){var I=this.cfg,m=I.thumbOffset,r=I.trackLen,s=I.thumbLen;this.cfg.thumbOffset=w,this.emit("scrollchange",{thumbOffset:w,ratio:Object(b.clamp)(w/(r-s),0,1)}),this.delegateEmit("valuechange",{originalValue:m,value:w})},c}(t.a)},"46lQ":function(qe,Pt,E){"use strict";var Y=E("QG4C"),i;(function(n){n.DEV="DEV",n.BETA="BETA",n.STABLE="STABLE"})(i||(i={}));function b(n,u){console.warn(n===i.DEV?"Plot '"+u+"' is in DEV stage, just give us issues.":n===i.BETA?"Plot '"+u+"' is in BETA stage, DO NOT use it in production env.":n===i.STABLE?"Plot '"+u+`' is in STABLE stage, import it by "import { `+u+` } from '@antv/g2plot'".`:"invalid Stage type.")}var t=function(){function n(){}return Object.defineProperty(n,"MultiView",{get:function(){return b(i.STABLE,"MultiView"),Y.a},enumerable:!1,configurable:!0}),n}()},"4Olw":function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return Y});function Y(i,b){return i.views.find(function(t){return t.id===b})}},"4cbP":function(qe,Pt){},"4kuk":function(qe,Pt,E){var Y=E("SfRM"),i=E("Hvzi"),b=E("u8Dt"),t=E("ekgI"),n=E("JSQU");function u(g){var x=-1,c=g==null?0:g.length;for(this.clear();++x<c;){var w=g[x];this.set(w[0],w[1])}}u.prototype.clear=Y,u.prototype.delete=i,u.prototype.get=b,u.prototype.has=t,u.prototype.set=n,qe.exports=u},"5HRO":function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return i});var Y=E("iTfj");function i(b,t){if(b===!1)return{fields:!1};var n=Object(Y.get)(b,"fields"),u=Object(Y.get)(b,"formatter");return u&&!n&&(n=t),{fields:n,formatter:u}}},"5OoT":function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return i});var Y=E("iTfj");function i(b,t){return!Object(Y.isNumber)(b)||!Object(Y.isNumber)(t)?"-":b===t?"100%":b===0?"\u221E":t===0?"-\u221E":(100*t/b).toFixed(2)+"%"}},"5UbV":function(qe,Pt,E){"use strict";E.d(Pt,"c",function(){return i}),E.d(Pt,"a",function(){return b}),E.d(Pt,"h",function(){return t}),E.d(Pt,"k",function(){return n}),E.d(Pt,"j",function(){return u}),E.d(Pt,"b",function(){return g}),E.d(Pt,"g",function(){return x}),E.d(Pt,"e",function(){return c}),E.d(Pt,"i",function(){return m}),E.d(Pt,"d",function(){return d}),E.d(Pt,"m",function(){return C}),E.d(Pt,"l",function(){return S}),E.d(Pt,"f",function(){return A});var Y=E("iTfj");function i(f){var O=0,j=0,D=0,V=0;return Object(Y.isNumber)(f)?O=j=D=V=f:Object(Y.isArray)(f)&&(O=f[0],D=Object(Y.isNil)(f[1])?f[0]:f[1],V=Object(Y.isNil)(f[2])?f[0]:f[2],j=Object(Y.isNil)(f[3])?D:f[3]),[O,D,V,j]}function b(f){for(var O=f.childNodes,j=O.length,D=j-1;D>=0;D--)f.removeChild(O[D])}function t(f,O){return!!f.className.match(new RegExp("(\\s|^)"+O+"(\\s|$)"))}function n(f){var O=f.start,j=f.end,D=Math.min(O.x,j.x),V=Math.min(O.y,j.y),H=Math.max(O.x,j.x),$=Math.max(O.y,j.y);return{x:D,y:V,minX:D,minY:V,maxX:H,maxY:$,width:H-D,height:$-V}}function u(f){var O=f.map(function(dt){return dt.x}),j=f.map(function(dt){return dt.y}),D=Math.min.apply(Math,O),V=Math.min.apply(Math,j),H=Math.max.apply(Math,O),$=Math.max.apply(Math,j);return{x:D,y:V,minX:D,minY:V,maxX:H,maxY:$,width:H-D,height:$-V}}function g(f,O,j,D){var V=f+j,H=O+D;return{x:f,y:O,width:j,height:D,minX:f,minY:O,maxX:isNaN(V)?0:V,maxY:isNaN(H)?0:H}}function x(f,O,j){return(1-j)*f+O*j}function c(f,O,j){return{x:f.x+Math.cos(j)*O,y:f.y+Math.sin(j)*O}}function w(f,O){var j=O.x-f.x,D=O.y-f.y;return Math.sqrt(j*j+D*D)}var I=function(O){return new Promise(function(j){setTimeout(j,O)})},m=function(O,j,D){return D===void 0&&(D=Math.pow(Number.EPSILON,.5)),[O,j].includes(Infinity)?Math.abs(O)===Math.abs(j):Math.abs(O-j)<D};function r(f,O){var j=Math.max(f.minX,O.minX),D=Math.max(f.minY,O.minY),V=Math.min(f.maxX,O.maxX),H=Math.min(f.maxY,O.maxY);return g(j,D,V-j,H-D)}function s(f,O){var j=Math.min(f.minX,O.minX),D=Math.min(f.minY,O.minY),V=Math.max(f.maxX,O.maxX),H=Math.max(f.maxY,O.maxY);return g(j,D,V-j,H-D)}function d(f){var O=f.getClip(),j=O&&O.getBBox(),D;if(!f.isGroup())D=f.getBBox();else{var V=Infinity,H=-Infinity,$=Infinity,dt=-Infinity,Z=f.getChildren();Z.length>0?Object(Y.each)(Z,function(ct){if(ct.get("visible")){if(ct.isGroup()&&ct.get("children").length===0)return!0;var pt=d(ct),gt=ct.applyToMatrix([pt.minX,pt.minY,1]),at=ct.applyToMatrix([pt.minX,pt.maxY,1]),Bt=ct.applyToMatrix([pt.maxX,pt.minY,1]),Lt=ct.applyToMatrix([pt.maxX,pt.maxY,1]),Et=Math.min(gt[0],at[0],Bt[0],Lt[0]),K=Math.max(gt[0],at[0],Bt[0],Lt[0]),ft=Math.min(gt[1],at[1],Bt[1],Lt[1]),mt=Math.max(gt[1],at[1],Bt[1],Lt[1]);Et<V&&(V=Et),K>H&&(H=K),ft<$&&($=ft),mt>dt&&(dt=mt)}}):(V=0,H=0,$=0,dt=0),D=g(V,$,H-V,dt-$)}return j?r(D,j):D}function C(f,O){if(!(!f.getClip()&&!O.getClip())){var j=O.getClip();if(!j){f.setClip(null);return}var D={type:j.get("type"),attrs:j.attr()};f.setClip(D)}}function S(f){return f+"px"}function A(f,O,j,D){var V=w(f,O),H=D/V,$=0;return j==="start"?$=0-H:j==="end"&&($=1+H),{x:x(f.x,O.x,$),y:x(f.y,O.y,$)}}},"5bFI":function(qe,Pt,E){"use strict";E.r(Pt),E.d(Pt,"Category",function(){return m}),E.d(Pt,"Continuous",function(){return C}),E.d(Pt,"Base",function(){return w});var Y=E("mrSG"),i=E("iTfj"),b=E("BgvD"),t=E("jqgP"),n=E("l3hu"),u=E("L16w"),g=E("MeYt"),x=E("5UbV"),c=function(S){Object(Y.b)(A,S);function A(){return S!==null&&S.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=S.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},f),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},A.prototype.getLayoutBBox=function(){var f=S.prototype.getLayoutBBox.call(this),O=this.get("maxWidth"),j=this.get("maxHeight"),D=f.width,V=f.height;return O&&(D=Math.min(D,O)),j&&(V=Math.min(V,j)),Object(x.b)(f.minX,f.minY,D,V)},A.prototype.setLocation=function(f){this.set("x",f.x),this.set("y",f.y),this.resetLocation()},A.prototype.resetLocation=function(){var f=this.get("x"),O=this.get("y"),j=this.get("offsetX"),D=this.get("offsetY");this.moveElementTo(this.get("group"),{x:f+j,y:O+D})},A.prototype.applyOffset=function(){this.resetLocation()},A.prototype.getDrawPoint=function(){return this.get("currentPoint")},A.prototype.setDrawPoint=function(f){return this.set("currentPoint",f)},A.prototype.renderInner=function(f){this.resetDraw(),this.get("title")&&this.drawTitle(f),this.drawLegendContent(f),this.get("background")&&this.drawBackground(f)},A.prototype.drawBackground=function(f){var O=this.get("background"),j=f.getBBox(),D=Object(x.c)(O.padding),V=Object(Y.a)({x:0,y:0,width:j.width+D[1]+D[3],height:j.height+D[0]+D[2]},O.style),H=this.addShape(f,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:V});H.toBack()},A.prototype.drawTitle=function(f){var O=this.get("currentPoint"),j=this.get("title"),D=j.spacing,V=j.style,H=j.text,$=this.addShape(f,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:Object(Y.a)({text:H,x:O.x,y:O.y},V)}),dt=$.getBBox();this.set("currentPoint",{x:O.x,y:dt.maxY+D})},A.prototype.resetDraw=function(){var f=this.get("background"),O={x:0,y:0};if(f){var j=Object(x.c)(f.padding);O.x=j[3],O.y=j[0]}this.set("currentPoint",O)},A}(g.a),w=c,I=function(S){Object(Y.b)(A,S);function A(){var f=S!==null&&S.apply(this,arguments)||this;return f.currentPageIndex=1,f.totalPagesCnt=1,f.pageWidth=0,f.pageHeight=0,f.startX=0,f.startY=0,f.onNavigationBack=function(){var O=f.getElementByLocalId("item-group");if(f.currentPageIndex>1){f.currentPageIndex-=1,f.updateNavigation();var j=f.getCurrentNavigationMatrix();f.get("animate")?O.animate({matrix:j},100):O.attr({matrix:j})}},f.onNavigationAfter=function(){var O=f.getElementByLocalId("item-group");if(f.currentPageIndex<f.totalPagesCnt){f.currentPageIndex+=1,f.updateNavigation();var j=f.getCurrentNavigationMatrix();f.get("animate")?O.animate({matrix:j},100):O.attr({matrix:j})}},f}return A.prototype.getDefaultCfg=function(){var f=S.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},f),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},defaultCfg:{title:{spacing:5,style:{fill:u.a.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:u.a.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},itemName:{spacing:16,style:{fill:u.a.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:u.a.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:u.a.uncheckedColor},markerStyle:{fill:u.a.uncheckedColor,stroke:u.a.uncheckedColor}},inactive:{nameStyle:{fill:u.a.uncheckedColor},markerStyle:{opacity:.2}}}}})},A.prototype.isList=function(){return!0},A.prototype.getItems=function(){return this.get("items")},A.prototype.setItems=function(f){this.update({items:f})},A.prototype.updateItem=function(f,O){Object(i.mix)(f,O),this.clear(),this.render()},A.prototype.clearItems=function(){var f=this.getElementByLocalId("item-group");f&&f.clear()},A.prototype.setItemState=function(f,O,j){f[O]=j;var D=this.getElementByLocalId("item-"+f.id);if(D){var V=this.getItems(),H=V.indexOf(f),$=this.createOffScreenGroup(),dt=this.drawItem(f,H,this.getItemHeight(),$);this.updateElements(dt,D),this.clearUpdateStatus(D)}},A.prototype.hasState=function(f,O){return!!f[O]},A.prototype.getItemStates=function(f){var O=this.get("itemStates"),j=[];return Object(i.each)(O,function(D,V){f[V]&&j.push(V)}),j},A.prototype.clearItemsState=function(f){var O=this,j=this.getItemsByState(f);Object(i.each)(j,function(D){O.setItemState(D,f,!1)})},A.prototype.getItemsByState=function(f){var O=this,j=this.getItems();return Object(i.filter)(j,function(D){return O.hasState(D,f)})},A.prototype.drawLegendContent=function(f){this.processItems(),this.drawItems(f)},A.prototype.processItems=function(){var f=this.get("items");Object(i.each)(f,function(O){O.id||(O.id=O.name)})},A.prototype.drawItems=function(f){var O=this,j=this.addGroup(f,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),D=this.addGroup(j,{id:this.getElementId("item-group"),name:"legend-item-group"}),V=this.getItemHeight(),H=this.get("itemWidth"),$=this.get("itemSpacing"),dt=this.get("itemMarginBottom"),Z=this.get("currentPoint"),ct=Z.x,pt=Z.y,gt=this.get("layout"),at=this.get("items"),Bt=!1,Lt=0,Et=this.get("maxWidth"),K=this.get("maxHeight");Object(i.each)(at,function(ft,mt){var yt=O.drawItem(ft,mt,V,D),wt=yt.getBBox(),J=H||wt.width;J>Lt&&(Lt=J),gt==="horizontal"?(Et&&Et<Z.x+J-ct&&(Bt=!0,Z.x=ct,Z.y+=V+dt),O.moveElementTo(yt,Z),Z.x+=J+$):(K&&K<Z.y+V+dt-pt&&(Bt=!0,Z.x+=Lt+$,Z.y=pt,Lt=0),O.moveElementTo(yt,Z),Z.y+=V+dt)}),Bt&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=ct,this.startY=pt,this.adjustNavigation(f,D))},A.prototype.getItemHeight=function(){var f=this.get("itemHeight");if(!f){var O=this.get("itemName");O&&(f=O.style.fontSize)}return f},A.prototype.drawMarker=function(f,O,j,D){var V=Object(Y.a)(Object(Y.a)(Object(Y.a)({x:0,y:D/2},O.style),{symbol:Object(i.get)(j.marker,"symbol","circle")}),Object(i.get)(j.marker,"style",{})),H=this.addShape(f,{type:"marker",id:this.getElementId("item-"+j.id+"-marker"),name:"legend-item-marker",attrs:V}),$=H.getBBox();H.attr("x",$.width/2);var dt=H.attr(),Z=dt.stroke,ct=dt.fill;return Z&&H.set("isStroke",!0),ct&&H.set("isFill",!0),H},A.prototype.drawItemText=function(f,O,j,D,V,H,$){var dt=j.formatter,Z=Object(Y.a)({x:H,y:V/2,text:dt?dt(D[O],D,$):D[O]},j.style);return this.addShape(f,{type:"text",id:this.getElementId("item-"+D.id+"-"+O),name:"legend-item-"+O,attrs:Z})},A.prototype.drawItem=function(f,O,j,D){var V="item-"+f.id,H=this.addGroup(D,{name:"legend-item-container",id:this.getElementId("item-container-"+V),delegateObject:{item:f,index:O}}),$=this.addGroup(H,{name:"legend-item",id:this.getElementId(V),delegateObject:{item:f,index:O}}),dt=this.get("marker"),Z=this.get("itemName"),ct=this.get("itemValue"),pt=this.get("itemBackground"),gt=this.getLimitItemWidth(),at=0;if(dt){var Bt=this.drawMarker($,dt,f,j);at=Bt.getBBox().maxX+dt.spacing}if(Z){var Lt=this.drawItemText($,"name",Z,f,j,at,O);gt&&Object(b.a)(!0,Lt,Object(i.clamp)(gt-at,0,gt)),at=Lt.getBBox().maxX+Z.spacing}if(ct){var Et=this.drawItemText($,"value",ct,f,j,at,O);gt&&(ct.alignRight?(Et.attr({textAlign:"right",x:gt}),Object(b.a)(!0,Et,Object(i.clamp)(gt-at,0,gt),"head")):Object(b.a)(!0,Et,Object(i.clamp)(gt-at,0,gt)))}if(pt){var K=$.getBBox(),ft=this.addShape($,{type:"rect",name:"legend-item-background",id:this.getElementId(V+"-background"),attrs:Object(Y.a)({x:0,y:0,width:K.width,height:j},pt.style)});ft.toBack()}return this.applyItemStates(f,$),$},A.prototype.adjustNavigation=function(f,O){var j=this,D=this.startX,V=this.startY,H=this.get("layout"),$=O.findAll(function(J){return J.get("name")==="legend-item"}),dt=this.get("maxWidth"),Z=this.get("maxHeight"),ct=this.get("itemWidth"),pt=this.get("itemSpacing"),gt=this.getItemHeight(),at=this.drawNavigation(f,H,"00/00",12),Bt=at.getBBox(),Lt={x:D,y:V},Et=1,K=0,ft=0,mt=0;if(H==="horizontal")this.pageHeight=gt,Object(i.each)($,function(J){var lt=J.getBBox(),it=ct||lt.width;(K&&K<Lt.x+it+pt||dt<Lt.x+it+pt+Bt.width)&&(Et===1&&(K=Lt.x+pt,j.pageWidth=K,j.moveElementTo(at,{x:dt-pt-Bt.width-Bt.minX,y:Lt.y+gt/2-Bt.height/2-Bt.minY})),Et+=1,Lt.x=D,Lt.y+=gt),j.moveElementTo(J,Lt),J.getParent().setClip({type:"rect",attrs:{x:Lt.x,y:Lt.y,width:it+pt,height:gt}}),Lt.x+=it+pt});else{var yt=this.get("itemMarginBottom");Object(i.each)($,function(J){var lt=J.getBBox();lt.width>ft&&(ft=lt.width)}),mt=ft,ft+=pt,dt&&(ft=Math.min(dt,ft),mt=Math.min(dt,mt)),this.pageWidth=ft,this.pageHeight=Z-Math.max(Bt.height,gt+yt);var wt=Math.floor(this.pageHeight/(gt+yt));Object(i.each)($,function(J,lt){lt!==0&&lt%wt==0&&(Et+=1,Lt.x+=ft,Lt.y=V),j.moveElementTo(J,Lt),J.getParent().setClip({type:"rect",attrs:{x:Lt.x,y:Lt.y,width:ft,height:gt}}),Lt.y+=gt+yt}),this.totalPagesCnt=Et,this.moveElementTo(at,{x:D+mt/2-Bt.width/2-Bt.minX,y:Z-Bt.height-Bt.minY})}this.pageHeight&&this.pageWidth&&O.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=Et,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(at),O.attr("matrix",this.getCurrentNavigationMatrix())},A.prototype.drawNavigation=function(f,O,j,D){var V={x:0,y:0},H=this.addGroup(f,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),$=this.drawArrow(H,V,"navigation-arrow-left",O==="horizontal"?"up":"left",D);$.on("click",this.onNavigationBack);var dt=$.getBBox();V.x+=dt.width+2;var Z=this.addShape(H,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:{x:V.x,y:V.y+D/2,text:j,fontSize:12,fill:"#ccc",textBaseline:"middle"}}),ct=Z.getBBox();V.x+=ct.width+2;var pt=this.drawArrow(H,V,"navigation-arrow-right",O==="horizontal"?"down":"right",D);return pt.on("click",this.onNavigationAfter),H},A.prototype.updateNavigation=function(f){var O=this.currentPageIndex+"/"+this.totalPagesCnt,j=f?f.getChildren()[1]:this.getElementByLocalId("navigation-text"),D=f?f.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),V=f?f.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),H=j.getBBox();j.attr("text",O);var $=j.getBBox();j.attr("x",j.attr("x")-($.width-H.width)/2),D.attr("opacity",this.currentPageIndex===1?.45:1),D.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),V.attr("opacity",this.currentPageIndex===this.totalPagesCnt?.45:1),V.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},A.prototype.drawArrow=function(f,O,j,D,V){var H=O.x,$=O.y,dt={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},Z=this.addShape(f,{type:"path",id:this.getElementId(j),name:j,attrs:{path:[["M",H+V/2,$],["L",H,$+V],["L",H+V,$+V],["Z"]],fill:"#000",cursor:"pointer"}});return Z.attr("matrix",Object(t.e)({x:H+V/2,y:$+V/2},dt[D])),Z},A.prototype.getCurrentNavigationMatrix=function(){var f=this,O=f.currentPageIndex,j=f.pageWidth,D=f.pageHeight,V=this.get("layout"),H=V==="horizontal"?{x:0,y:D*(1-O)}:{x:j*(1-O),y:0};return Object(t.f)(H)},A.prototype.applyItemStates=function(f,O){var j=this.getItemStates(f),D=j.length>0;if(D){var V=O.getChildren(),H=this.get("itemStates");Object(i.each)(V,function($){var dt=$.get("name"),Z=dt.split("-")[2],ct=Object(n.a)(f,Z,H);ct&&($.attr(ct),Z==="marker"&&!($.get("isStroke")&&$.get("isFill"))&&($.get("isStroke")&&$.attr("fill",null),$.get("isFill")&&$.attr("stroke",null)))})}},A.prototype.getLimitItemWidth=function(){var f=this.get("itemWidth"),O=this.get("maxItemWidth");return O?f&&(O=f<=O?f:O):f&&(O=f),O},A}(w),m=I,r=1.4,s=.4,d=function(S){Object(Y.b)(A,S);function A(){return S!==null&&S.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=S.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},f),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:u.a.textColor,textBaseline:"middle",fontFamily:u.a.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:u.a.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},A.prototype.isSlider=function(){return!0},A.prototype.getValue=function(){return this.getCurrentValue()},A.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},A.prototype.setRange=function(f,O){this.update({min:f,max:O})},A.prototype.setValue=function(f){var O=this.getValue();this.set("value",f);var j=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(j),this.delegateEmit("valuechanged",{originValue:O,value:f})},A.prototype.initEvent=function(){var f=this.get("group");this.bindSliderEvent(f),this.bindRailEvent(f),this.bindTrackEvent(f)},A.prototype.drawLegendContent=function(f){this.drawRail(f),this.drawLabels(f),this.fixedElements(f),this.resetTrack(f),this.resetTrackClip(f),this.get("slidable")&&this.resetHandlers(f)},A.prototype.bindSliderEvent=function(f){this.bindHandlersEvent(f)},A.prototype.bindHandlersEvent=function(f){var O=this;f.on("legend-handler-min:drag",function(j){var D=O.getValueByCanvasPoint(j.x,j.y),V=O.getCurrentValue(),H=V[1];H<D&&(H=D),O.setValue([D,H])}),f.on("legend-handler-max:drag",function(j){var D=O.getValueByCanvasPoint(j.x,j.y),V=O.getCurrentValue(),H=V[0];H>D&&(H=D),O.setValue([H,D])})},A.prototype.bindRailEvent=function(f){},A.prototype.bindTrackEvent=function(f){var O=this,j=null;f.on("legend-track:dragstart",function(D){j={x:D.x,y:D.y}}),f.on("legend-track:drag",function(D){if(!!j){var V=O.getValueByCanvasPoint(j.x,j.y),H=O.getValueByCanvasPoint(D.x,D.y),$=O.getCurrentValue(),dt=$[1]-$[0],Z=O.getRange(),ct=H-V;ct<0?$[0]+ct>Z.min?O.setValue([$[0]+ct,$[1]+ct]):O.setValue([Z.min,Z.min+dt]):ct>0&&(ct>0&&$[1]+ct<Z.max?O.setValue([$[0]+ct,$[1]+ct]):O.setValue([Z.max-dt,Z.max])),j={x:D.x,y:D.y}}}),f.on("legend-track:dragend",function(D){j=null})},A.prototype.drawLabels=function(f){this.drawLabel("min",f),this.drawLabel("max",f)},A.prototype.drawLabel=function(f,O){var j=this.get("label"),D=j.style,V=j.align,H=this.get(f),$=this.getLabelAlignAttrs(f,V),dt="label-"+f;this.addShape(O,{type:"text",id:this.getElementId(dt),name:"legend-label-"+f,attrs:Object(Y.a)(Object(Y.a)({x:0,y:0,text:H},D),$)})},A.prototype.getLabelAlignAttrs=function(f,O){var j=this.isVertical(),D="center",V="middle";return j?(D="start",O!=="rail"?f==="min"?V="top":V="bottom":V="top"):O!=="rail"?(V="top",f==="min"?D="start":D="end"):(D="start",V="middle"),{textAlign:D,textBaseline:V}},A.prototype.getRailPath=function(f,O,j,D){var V=this.get("rail"),H=V.size,$=V.defaultLength,dt=V.type,Z=this.isVertical(),ct=$,pt=j,gt=D;pt||(pt=Z?H:ct),gt||(gt=Z?ct:H);var at=[];return dt==="color"?(at.push(["M",f,O]),at.push(["L",f+pt,O]),at.push(["L",f+pt,O+gt]),at.push(["L",f,O+gt]),at.push(["Z"])):(at.push(["M",f+pt,O]),at.push(["L",f+pt,O+gt]),at.push(["L",f,O+gt]),at.push(["Z"])),at},A.prototype.drawRail=function(f){var O=this.get("rail"),j=O.style;this.addShape(f,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:Object(Y.a)({path:this.getRailPath(0,0)},j)})},A.prototype.getTrackColor=function(f){var O=f.length;if(!O)return null;if(O===1)return f[0];var j;this.isVertical()?j="l(90)":j="l(0)";for(var D=0;D<O;D++){var V=D/(O-1);j+=" "+V+":"+f[D]}return j},A.prototype.getTrackPath=function(f){var O=this.getRailShape(f),j=O.attr("path");return Object(i.clone)(j)},A.prototype.getClipTrackAttrs=function(f){var O=this.getCurrentValue(),j=O[0],D=O[1],V=this.getRailBBox(f),H=this.getPointByValue(j,f),$=this.getPointByValue(D,f),dt=this.isVertical(),Z,ct,pt,gt;return dt?(Z=V.minX,ct=H.y,pt=V.width,gt=$.y-H.y):(Z=H.x,ct=V.minY,pt=$.x-H.x,gt=V.height),{x:Z,y:ct,width:pt,height:gt}},A.prototype.getTrackAttrs=function(f){var O=this.get("track"),j=this.get("colors"),D=this.getTrackPath(f);return Object(i.mix)({path:D,fill:this.getTrackColor(j)},O.style)},A.prototype.resetTrackClip=function(f){var O=f||this.get("group"),j=this.getElementId("track"),D=O.findById(j),V=D.getClip(),H=this.getClipTrackAttrs(f);V?V.attr(H):D.setClip({type:"rect",attrs:H})},A.prototype.resetTrack=function(f){var O=this.getElementId("track"),j=f.findById(O),D=this.getTrackAttrs(f);j?j.attr(D):this.addShape(f,{type:"path",id:O,draggable:this.get("slidable"),name:"legend-track",attrs:D})},A.prototype.getPointByValue=function(f,O){var j=this.getRange(),D=j.min,V=j.max,H=(f-D)/(V-D),$=this.getRailBBox(O),dt=this.isVertical(),Z={x:0,y:0};return dt?(Z.x=$.minX+$.width/2,Z.y=Object(x.g)($.minY,$.maxY,H)):(Z.x=Object(x.g)($.minX,$.maxX,H),Z.y=$.minY+$.height/2),Z},A.prototype.getRailShape=function(f){var O=f||this.get("group");return O.findById(this.getElementId("rail"))},A.prototype.getRailBBox=function(f){var O=this.getRailShape(f),j=O.getBBox();return j},A.prototype.getRailCanvasBBox=function(){var f=this.get("group"),O=f.findById(this.getElementId("rail")),j=O.getCanvasBBox();return j},A.prototype.isVertical=function(){return this.get("layout")==="vertical"},A.prototype.getValueByCanvasPoint=function(f,O){var j=this.getRange(),D=j.min,V=j.max,H=this.getRailCanvasBBox(),$=this.isVertical(),dt=this.get("step"),Z;$?Z=(O-H.minY)/H.height:Z=(f-H.minX)/H.width;var ct=Object(x.g)(D,V,Z);if(dt){var pt=Math.round((ct-D)/dt);ct=D+pt*dt}return ct>V&&(ct=V),ct<D&&(ct=D),ct},A.prototype.getCurrentValue=function(){var f=this.get("value");return f||(f=[this.get("min"),this.get("max")]),f},A.prototype.resetHandlers=function(f){var O=this.getCurrentValue(),j=O[0],D=O[1];this.resetHandler(f,"min",j),this.resetHandler(f,"max",D)},A.prototype.getHandlerPath=function(f,O){var j=this.isVertical(),D=[],V=f.size,H=O.x,$=O.y,dt=V*r,Z=V/2,ct=V/6;if(j){var pt=H+dt*s;D.push(["M",H,$]),D.push(["L",pt,$+Z]),D.push(["L",H+dt,$+Z]),D.push(["L",H+dt,$-Z]),D.push(["L",pt,$-Z]),D.push(["Z"]),D.push(["M",pt,$+ct]),D.push(["L",H+dt-2,$+ct]),D.push(["M",pt,$-ct]),D.push(["L",H+dt-2,$-ct])}else{var gt=$+dt*s;D.push(["M",H,$]),D.push(["L",H-Z,gt]),D.push(["L",H-Z,$+dt]),D.push(["L",H+Z,$+dt]),D.push(["L",H+Z,gt]),D.push(["Z"]),D.push(["M",H-ct,gt]),D.push(["L",H-ct,$+dt-2]),D.push(["M",H+ct,gt]),D.push(["L",H+ct,$+dt-2])}return D},A.prototype.resetHandler=function(f,O,j){var D=this.getPointByValue(j,f),V=this.get("handler"),H=this.getHandlerPath(V,D),$=this.getElementId("handler-"+O),dt=f.findById($),Z=this.isVertical();dt?dt.attr("path",H):this.addShape(f,{type:"path",name:"legend-handler-"+O,draggable:!0,id:$,attrs:Object(Y.a)(Object(Y.a)({path:H},V.style),{cursor:Z?"ns-resize":"ew-resize"})})},A.prototype.fixedElements=function(f){var O=f.findById(this.getElementId("rail")),j=f.findById(this.getElementId("label-min")),D=f.findById(this.getElementId("label-max")),V=this.getDrawPoint();this.isVertical()?this.fixedVertail(j,D,O,V):this.fixedHorizontal(j,D,O,V)},A.prototype.fitRailLength=function(f,O,j,D){var V=this.isVertical(),H=V?"height":"width",$=this.get("label"),dt=$.align,Z=$.spacing,ct=this.get("max"+Object(i.upperFirst)(H));if(ct){var pt=dt==="rail"?j[H]+f[H]+O[H]+Z*2:j[H],gt=pt-ct;gt>0&&this.changeRailLength(D,H,j[H]-gt)}},A.prototype.changeRailLength=function(f,O,j){var D=f.getBBox(),V;O==="height"?V=this.getRailPath(D.x,D.y,D.width,j):V=this.getRailPath(D.x,D.y,j,D.height),f.attr("path",V)},A.prototype.changeRailPosition=function(f,O,j){var D=f.getBBox(),V=this.getRailPath(O,j,D.width,D.height);f.attr("path",V)},A.prototype.fixedHorizontal=function(f,O,j,D){var V=this.get("label"),H=V.align,$=V.spacing,dt=j.getBBox(),Z=f.getBBox(),ct=O.getBBox(),pt=dt.height;this.fitRailLength(Z,ct,dt,j),dt=j.getBBox(),H==="rail"?(f.attr({x:D.x,y:D.y+pt/2}),this.changeRailPosition(j,D.x+Z.width+$,D.y),O.attr({x:D.x+Z.width+dt.width+$*2,y:D.y+pt/2})):H==="top"?(f.attr({x:D.x,y:D.y}),O.attr({x:D.x+dt.width,y:D.y}),this.changeRailPosition(j,D.x,D.y+Z.height+$)):(this.changeRailPosition(j,D.x,D.y),f.attr({x:D.x,y:D.y+dt.height+$}),O.attr({x:D.x+dt.width,y:D.y+dt.height+$}))},A.prototype.fixedVertail=function(f,O,j,D){var V=this.get("label"),H=V.align,$=V.spacing,dt=j.getBBox(),Z=f.getBBox(),ct=O.getBBox();if(this.fitRailLength(Z,ct,dt,j),dt=j.getBBox(),H==="rail")f.attr({x:D.x,y:D.y}),this.changeRailPosition(j,D.x,D.y+Z.height+$),O.attr({x:D.x,y:D.y+Z.height+dt.height+$*2});else if(H==="right")f.attr({x:D.x+dt.width+$,y:D.y}),this.changeRailPosition(j,D.x,D.y),O.attr({x:D.x+dt.width+$,y:D.y+dt.height});else{var pt=Math.max(Z.width,ct.width);f.attr({x:D.x,y:D.y}),this.changeRailPosition(j,D.x+pt+$,D.y),O.attr({x:D.x,y:D.y+dt.height})}},A}(w),C=d},"5eLp":function(qe,Pt,E){"use strict";var Y=function(){function i(b,t){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=b,this.name=b,this.originalEvent=t,this.timeStamp=t.timeStamp}return i.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},i.prototype.stopPropagation=function(){this.propagationStopped=!0},i.prototype.toString=function(){var b=this.type;return"[Event (type="+b+")]"},i.prototype.save=function(){},i.prototype.restore=function(){},i}();Pt.a=Y},"5kt6":function(qe,Pt,E){"use strict";E.d(Pt,"f",function(){return Y}),E.d(Pt,"e",function(){return i}),E.d(Pt,"d",function(){return b}),E.d(Pt,"a",function(){return t}),E.d(Pt,"b",function(){return n}),E.d(Pt,"g",function(){return u}),E.d(Pt,"c",function(){return g});var Y="range",i="type",b="percent",t="#f0f0f0",n="indicator-view",u="range-view",g="range-mask-view"},"5nFI":function(qe,Pt,E){"use strict";var Y=E("VTBJ"),i=E("cIOH"),b=E("6D9b"),t=E("cWXX"),n=E("rePB"),u=E("wx14"),g=E("q1tI"),x=E("TSYQ"),c=E.n(x),w=E("H84U"),I=E("/ezw"),m=E("B6l+"),r=E.n(m),s=function(J){var lt=J.value,it=J.formatter,_=J.precision,P=J.decimalSeparator,Q=J.groupSeparator,k=Q===void 0?"":Q,p=J.prefixCls,y;if(typeof it=="function")y=it(lt);else{var B=String(lt),W=B.match(/^(-?)(\d*)(\.(\d+))?$/);if(!W||B==="-")y=B;else{var rt=W[1],st=W[2]||"0",ut=W[4]||"";st=st.replace(/\B(?=(\d{3})+(?!\d))/g,k),typeof _=="number"&&(ut=r()(ut,_,"0").slice(0,_)),ut&&(ut="".concat(P).concat(ut)),y=[g.createElement("span",{key:"int",className:"".concat(p,"-content-value-int")},rt,st),ut&&g.createElement("span",{key:"decimal",className:"".concat(p,"-content-value-decimal")},ut)]}}return g.createElement("span",{className:"".concat(p,"-content-value")},y)},d=s,C=function(J){var lt=J.prefixCls,it=J.className,_=J.style,P=J.valueStyle,Q=J.value,k=Q===void 0?0:Q,p=J.title,y=J.valueRender,B=J.prefix,W=J.suffix,rt=J.loading,st=J.direction,ut=J.onMouseEnter,Mt=J.onMouseLeave,bt=g.createElement(d,Object(u.a)({},J,{value:k})),xt=c()(lt,Object(n.a)({},"".concat(lt,"-rtl"),st==="rtl"),it);return g.createElement("div",{className:xt,style:_,onMouseEnter:ut,onMouseLeave:Mt},p&&g.createElement("div",{className:"".concat(lt,"-title")},p),g.createElement(I.a,{paragraph:!1,loading:rt},g.createElement("div",{style:P,className:"".concat(lt,"-content")},B&&g.createElement("span",{className:"".concat(lt,"-content-prefix")},B),y?y(bt):bt,W&&g.createElement("span",{className:"".concat(lt,"-content-suffix")},W))))};C.defaultProps={decimalSeparator:".",groupSeparator:",",loading:!1};var S=Object(w.c)({prefixCls:"statistic"})(C),A=S,f=E("1OyB"),O=E("vuIU"),j=E("Ji7U"),D=E("LK+K"),V=E("ODXe"),H=E("QQZ/"),$=E.n(H),dt=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function Z(wt,J){var lt=wt,it=/\[[^\]]*]/g,_=(J.match(it)||[]).map(function(p){return p.slice(1,-1)}),P=J.replace(it,"[]"),Q=dt.reduce(function(p,y){var B=Object(V.a)(y,2),W=B[0],rt=B[1];if(p.indexOf(W)!==-1){var st=Math.floor(lt/rt);return lt-=st*rt,p.replace(new RegExp("".concat(W,"+"),"g"),function(ut){var Mt=ut.length;return $()(st.toString(),Mt,"0")})}return p},P),k=0;return Q.replace(it,function(){var p=_[k];return k+=1,p})}function ct(wt,J){var lt=J.format,it=lt===void 0?"":lt,_=new Date(wt).getTime(),P=Date.now(),Q=Math.max(_-P,0);return Z(Q,it)}var pt=E("0n0R"),gt=1e3/30;function at(wt){return new Date(wt).getTime()}var Bt=function(wt){Object(j.a)(lt,wt);var J=Object(D.a)(lt);function lt(){var it;return Object(f.a)(this,lt),it=J.apply(this,arguments),it.syncTimer=function(){var _=it.props.value,P=at(_);P>=Date.now()?it.startTimer():it.stopTimer()},it.startTimer=function(){it.countdownId||(it.countdownId=window.setInterval(function(){it.forceUpdate()},gt))},it.stopTimer=function(){var _=it.props,P=_.onFinish,Q=_.value;if(it.countdownId){clearInterval(it.countdownId),it.countdownId=void 0;var k=at(Q);P&&k<Date.now()&&P()}},it.formatCountdown=function(_,P){var Q=it.props.format;return ct(_,Object(u.a)(Object(u.a)({},P),{format:Q}))},it.valueRender=function(_){return Object(pt.a)(_,{title:void 0})},it}return Object(O.a)(lt,[{key:"componentDidMount",value:function(){this.syncTimer()}},{key:"componentDidUpdate",value:function(){this.syncTimer()}},{key:"componentWillUnmount",value:function(){this.stopTimer()}},{key:"render",value:function(){return g.createElement(A,Object(u.a)({valueRender:this.valueRender},this.props,{formatter:this.formatCountdown}))}}]),lt}(g.Component);Bt.defaultProps={format:"HH:mm:ss"};var Lt=Bt;A.Countdown=Lt;var Et=A,K=E("nKUr"),ft=E("Ff2n"),mt=function(J){var lt=J.title,it=lt===void 0?"title":lt,_=J.value,P=_===void 0?0:_,Q=J.precision,k=Q===void 0?2:Q,p=J.isNormal,y=p===void 0?!0:p,B=Object(ft.a)(J,["title","value","precision","isNormal"]),W=function(){return y?"#000":P>=0?"#389e0d":"#cf1322"};return Object(K.jsx)(Et,Object(Y.a)({title:it,value:P,precision:k,valueStyle:{color:W(),fontWeight:600},prefix:!y&&Number(P)>=0?"+":""},B))},yt=Pt.a=mt},"5z4m":function(qe,Pt,E){"use strict";var Y=E("mrSG"),i=E("aFU3"),b=E("iTfj"),t=E("aN7R"),n=E("c0lT"),u=E("APlK"),g=E("IvmH"),x=E("c+wO"),c=function(w){Object(Y.b)(I,w);function I(){return w!==null&&w.apply(this,arguments)||this}return I.prototype.isEntityGroup=function(){return!0},I.prototype.createDom=function(){var m=Object(x.b)("g");this.set("el",m);var r=this.getParent();if(r){var s=r.get("el");s||(s=r.createDom(),r.set("el",s)),s.appendChild(m)}return m},I.prototype.afterAttrsChange=function(m){w.prototype.afterAttrsChange.call(this,m);var r=this.get("canvas");if(r&&r.get("autoDraw")){var s=r.get("context");this.createPath(s,m)}},I.prototype.onCanvasChange=function(m){Object(n.b)(this,m)},I.prototype.getShapeBase=function(){return t},I.prototype.getGroupBase=function(){return I},I.prototype.draw=function(m){var r=this.getChildren(),s=this.get("el");this.get("destroyed")?s&&s.parentNode.removeChild(s):(s||this.createDom(),Object(u.a)(this,m),this.createPath(m),r.length&&Object(n.a)(m,r))},I.prototype.createPath=function(m,r){var s=this.attr(),d=this.get("el");Object(b.each)(r||s,function(C,S){g.b[S]&&d.setAttribute(g.b[S],C)}),Object(u.c)(this)},I}(i.AbstractGroup);Pt.a=c},"6D9b":function(qe,Pt,E){},"6JdA":function(qe,Pt,E){"use strict";E.d(Pt,"b",function(){return Y}),E.d(Pt,"c",function(){return ft}),E.d(Pt,"d",function(){return mt}),E.d(Pt,"a",function(){return i});var Y={};E.r(Y),E.d(Y,"create",function(){return t}),E.d(Y,"fromMat4",function(){return n}),E.d(Y,"clone",function(){return u}),E.d(Y,"copy",function(){return g}),E.d(Y,"fromValues",function(){return x}),E.d(Y,"set",function(){return c}),E.d(Y,"identity",function(){return w}),E.d(Y,"transpose",function(){return I}),E.d(Y,"invert",function(){return m}),E.d(Y,"adjoint",function(){return r}),E.d(Y,"determinant",function(){return s}),E.d(Y,"multiply",function(){return d}),E.d(Y,"translate",function(){return C}),E.d(Y,"rotate",function(){return S}),E.d(Y,"scale",function(){return A}),E.d(Y,"fromTranslation",function(){return f}),E.d(Y,"fromRotation",function(){return O}),E.d(Y,"fromScaling",function(){return j}),E.d(Y,"fromMat2d",function(){return D}),E.d(Y,"fromQuat",function(){return V}),E.d(Y,"normalFromMat4",function(){return H}),E.d(Y,"projection",function(){return $}),E.d(Y,"str",function(){return dt}),E.d(Y,"frob",function(){return Z}),E.d(Y,"add",function(){return ct}),E.d(Y,"subtract",function(){return pt}),E.d(Y,"multiplyScalar",function(){return gt}),E.d(Y,"multiplyScalarAndAdd",function(){return at}),E.d(Y,"exactEquals",function(){return Bt}),E.d(Y,"equals",function(){return Lt}),E.d(Y,"mul",function(){return Et}),E.d(Y,"sub",function(){return K});var i={};E.r(i),E.d(i,"leftTranslate",function(){return yt}),E.d(i,"leftRotate",function(){return wt}),E.d(i,"leftScale",function(){return J}),E.d(i,"transform",function(){return it}),E.d(i,"direction",function(){return _}),E.d(i,"angleTo",function(){return P}),E.d(i,"vertical",function(){return Q});var b=E("yU0y");function t(){var k=new b.a(9);return b.a!=Float32Array&&(k[1]=0,k[2]=0,k[3]=0,k[5]=0,k[6]=0,k[7]=0),k[0]=1,k[4]=1,k[8]=1,k}function n(k,p){return k[0]=p[0],k[1]=p[1],k[2]=p[2],k[3]=p[4],k[4]=p[5],k[5]=p[6],k[6]=p[8],k[7]=p[9],k[8]=p[10],k}function u(k){var p=new b.a(9);return p[0]=k[0],p[1]=k[1],p[2]=k[2],p[3]=k[3],p[4]=k[4],p[5]=k[5],p[6]=k[6],p[7]=k[7],p[8]=k[8],p}function g(k,p){return k[0]=p[0],k[1]=p[1],k[2]=p[2],k[3]=p[3],k[4]=p[4],k[5]=p[5],k[6]=p[6],k[7]=p[7],k[8]=p[8],k}function x(k,p,y,B,W,rt,st,ut,Mt){var bt=new b.a(9);return bt[0]=k,bt[1]=p,bt[2]=y,bt[3]=B,bt[4]=W,bt[5]=rt,bt[6]=st,bt[7]=ut,bt[8]=Mt,bt}function c(k,p,y,B,W,rt,st,ut,Mt,bt){return k[0]=p,k[1]=y,k[2]=B,k[3]=W,k[4]=rt,k[5]=st,k[6]=ut,k[7]=Mt,k[8]=bt,k}function w(k){return k[0]=1,k[1]=0,k[2]=0,k[3]=0,k[4]=1,k[5]=0,k[6]=0,k[7]=0,k[8]=1,k}function I(k,p){if(k===p){var y=p[1],B=p[2],W=p[5];k[1]=p[3],k[2]=p[6],k[3]=y,k[5]=p[7],k[6]=B,k[7]=W}else k[0]=p[0],k[1]=p[3],k[2]=p[6],k[3]=p[1],k[4]=p[4],k[5]=p[7],k[6]=p[2],k[7]=p[5],k[8]=p[8];return k}function m(k,p){var y=p[0],B=p[1],W=p[2],rt=p[3],st=p[4],ut=p[5],Mt=p[6],bt=p[7],xt=p[8],Ot=xt*st-ut*bt,jt=-xt*rt+ut*Mt,Dt=bt*rt-st*Mt,zt=y*Ot+B*jt+W*Dt;return zt?(zt=1/zt,k[0]=Ot*zt,k[1]=(-xt*B+W*bt)*zt,k[2]=(ut*B-W*st)*zt,k[3]=jt*zt,k[4]=(xt*y-W*Mt)*zt,k[5]=(-ut*y+W*rt)*zt,k[6]=Dt*zt,k[7]=(-bt*y+B*Mt)*zt,k[8]=(st*y-B*rt)*zt,k):null}function r(k,p){var y=p[0],B=p[1],W=p[2],rt=p[3],st=p[4],ut=p[5],Mt=p[6],bt=p[7],xt=p[8];return k[0]=st*xt-ut*bt,k[1]=W*bt-B*xt,k[2]=B*ut-W*st,k[3]=ut*Mt-rt*xt,k[4]=y*xt-W*Mt,k[5]=W*rt-y*ut,k[6]=rt*bt-st*Mt,k[7]=B*Mt-y*bt,k[8]=y*st-B*rt,k}function s(k){var p=k[0],y=k[1],B=k[2],W=k[3],rt=k[4],st=k[5],ut=k[6],Mt=k[7],bt=k[8];return p*(bt*rt-st*Mt)+y*(-bt*W+st*ut)+B*(Mt*W-rt*ut)}function d(k,p,y){var B=p[0],W=p[1],rt=p[2],st=p[3],ut=p[4],Mt=p[5],bt=p[6],xt=p[7],Ot=p[8],jt=y[0],Dt=y[1],zt=y[2],Tt=y[3],Vt=y[4],Ht=y[5],re=y[6],pe=y[7],me=y[8];return k[0]=jt*B+Dt*st+zt*bt,k[1]=jt*W+Dt*ut+zt*xt,k[2]=jt*rt+Dt*Mt+zt*Ot,k[3]=Tt*B+Vt*st+Ht*bt,k[4]=Tt*W+Vt*ut+Ht*xt,k[5]=Tt*rt+Vt*Mt+Ht*Ot,k[6]=re*B+pe*st+me*bt,k[7]=re*W+pe*ut+me*xt,k[8]=re*rt+pe*Mt+me*Ot,k}function C(k,p,y){var B=p[0],W=p[1],rt=p[2],st=p[3],ut=p[4],Mt=p[5],bt=p[6],xt=p[7],Ot=p[8],jt=y[0],Dt=y[1];return k[0]=B,k[1]=W,k[2]=rt,k[3]=st,k[4]=ut,k[5]=Mt,k[6]=jt*B+Dt*st+bt,k[7]=jt*W+Dt*ut+xt,k[8]=jt*rt+Dt*Mt+Ot,k}function S(k,p,y){var B=p[0],W=p[1],rt=p[2],st=p[3],ut=p[4],Mt=p[5],bt=p[6],xt=p[7],Ot=p[8],jt=Math.sin(y),Dt=Math.cos(y);return k[0]=Dt*B+jt*st,k[1]=Dt*W+jt*ut,k[2]=Dt*rt+jt*Mt,k[3]=Dt*st-jt*B,k[4]=Dt*ut-jt*W,k[5]=Dt*Mt-jt*rt,k[6]=bt,k[7]=xt,k[8]=Ot,k}function A(k,p,y){var B=y[0],W=y[1];return k[0]=B*p[0],k[1]=B*p[1],k[2]=B*p[2],k[3]=W*p[3],k[4]=W*p[4],k[5]=W*p[5],k[6]=p[6],k[7]=p[7],k[8]=p[8],k}function f(k,p){return k[0]=1,k[1]=0,k[2]=0,k[3]=0,k[4]=1,k[5]=0,k[6]=p[0],k[7]=p[1],k[8]=1,k}function O(k,p){var y=Math.sin(p),B=Math.cos(p);return k[0]=B,k[1]=y,k[2]=0,k[3]=-y,k[4]=B,k[5]=0,k[6]=0,k[7]=0,k[8]=1,k}function j(k,p){return k[0]=p[0],k[1]=0,k[2]=0,k[3]=0,k[4]=p[1],k[5]=0,k[6]=0,k[7]=0,k[8]=1,k}function D(k,p){return k[0]=p[0],k[1]=p[1],k[2]=0,k[3]=p[2],k[4]=p[3],k[5]=0,k[6]=p[4],k[7]=p[5],k[8]=1,k}function V(k,p){var y=p[0],B=p[1],W=p[2],rt=p[3],st=y+y,ut=B+B,Mt=W+W,bt=y*st,xt=B*st,Ot=B*ut,jt=W*st,Dt=W*ut,zt=W*Mt,Tt=rt*st,Vt=rt*ut,Ht=rt*Mt;return k[0]=1-Ot-zt,k[3]=xt-Ht,k[6]=jt+Vt,k[1]=xt+Ht,k[4]=1-bt-zt,k[7]=Dt-Tt,k[2]=jt-Vt,k[5]=Dt+Tt,k[8]=1-bt-Ot,k}function H(k,p){var y=p[0],B=p[1],W=p[2],rt=p[3],st=p[4],ut=p[5],Mt=p[6],bt=p[7],xt=p[8],Ot=p[9],jt=p[10],Dt=p[11],zt=p[12],Tt=p[13],Vt=p[14],Ht=p[15],re=y*ut-B*st,pe=y*Mt-W*st,me=y*bt-rt*st,Ee=B*Mt-W*ut,Le=B*bt-rt*ut,Je=W*bt-rt*Mt,On=xt*Tt-Ot*zt,gn=xt*Vt-jt*zt,Vn=xt*Ht-Dt*zt,kn=Ot*Vt-jt*Tt,Wn=Ot*Ht-Dt*Tt,Dn=jt*Ht-Dt*Vt,Nn=re*Dn-pe*Wn+me*kn+Ee*Vn-Le*gn+Je*On;return Nn?(Nn=1/Nn,k[0]=(ut*Dn-Mt*Wn+bt*kn)*Nn,k[1]=(Mt*Vn-st*Dn-bt*gn)*Nn,k[2]=(st*Wn-ut*Vn+bt*On)*Nn,k[3]=(W*Wn-B*Dn-rt*kn)*Nn,k[4]=(y*Dn-W*Vn+rt*gn)*Nn,k[5]=(B*Vn-y*Wn-rt*On)*Nn,k[6]=(Tt*Je-Vt*Le+Ht*Ee)*Nn,k[7]=(Vt*me-zt*Je-Ht*pe)*Nn,k[8]=(zt*Le-Tt*me+Ht*re)*Nn,k):null}function $(k,p,y){return k[0]=2/p,k[1]=0,k[2]=0,k[3]=0,k[4]=-2/y,k[5]=0,k[6]=-1,k[7]=1,k[8]=1,k}function dt(k){return"mat3("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+", "+k[4]+", "+k[5]+", "+k[6]+", "+k[7]+", "+k[8]+")"}function Z(k){return Math.hypot(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8])}function ct(k,p,y){return k[0]=p[0]+y[0],k[1]=p[1]+y[1],k[2]=p[2]+y[2],k[3]=p[3]+y[3],k[4]=p[4]+y[4],k[5]=p[5]+y[5],k[6]=p[6]+y[6],k[7]=p[7]+y[7],k[8]=p[8]+y[8],k}function pt(k,p,y){return k[0]=p[0]-y[0],k[1]=p[1]-y[1],k[2]=p[2]-y[2],k[3]=p[3]-y[3],k[4]=p[4]-y[4],k[5]=p[5]-y[5],k[6]=p[6]-y[6],k[7]=p[7]-y[7],k[8]=p[8]-y[8],k}function gt(k,p,y){return k[0]=p[0]*y,k[1]=p[1]*y,k[2]=p[2]*y,k[3]=p[3]*y,k[4]=p[4]*y,k[5]=p[5]*y,k[6]=p[6]*y,k[7]=p[7]*y,k[8]=p[8]*y,k}function at(k,p,y,B){return k[0]=p[0]+y[0]*B,k[1]=p[1]+y[1]*B,k[2]=p[2]+y[2]*B,k[3]=p[3]+y[3]*B,k[4]=p[4]+y[4]*B,k[5]=p[5]+y[5]*B,k[6]=p[6]+y[6]*B,k[7]=p[7]+y[7]*B,k[8]=p[8]+y[8]*B,k}function Bt(k,p){return k[0]===p[0]&&k[1]===p[1]&&k[2]===p[2]&&k[3]===p[3]&&k[4]===p[4]&&k[5]===p[5]&&k[6]===p[6]&&k[7]===p[7]&&k[8]===p[8]}function Lt(k,p){var y=k[0],B=k[1],W=k[2],rt=k[3],st=k[4],ut=k[5],Mt=k[6],bt=k[7],xt=k[8],Ot=p[0],jt=p[1],Dt=p[2],zt=p[3],Tt=p[4],Vt=p[5],Ht=p[6],re=p[7],pe=p[8];return Math.abs(y-Ot)<=b.b*Math.max(1,Math.abs(y),Math.abs(Ot))&&Math.abs(B-jt)<=b.b*Math.max(1,Math.abs(B),Math.abs(jt))&&Math.abs(W-Dt)<=b.b*Math.max(1,Math.abs(W),Math.abs(Dt))&&Math.abs(rt-zt)<=b.b*Math.max(1,Math.abs(rt),Math.abs(zt))&&Math.abs(st-Tt)<=b.b*Math.max(1,Math.abs(st),Math.abs(Tt))&&Math.abs(ut-Vt)<=b.b*Math.max(1,Math.abs(ut),Math.abs(Vt))&&Math.abs(Mt-Ht)<=b.b*Math.max(1,Math.abs(Mt),Math.abs(Ht))&&Math.abs(bt-re)<=b.b*Math.max(1,Math.abs(bt),Math.abs(re))&&Math.abs(xt-pe)<=b.b*Math.max(1,Math.abs(xt),Math.abs(pe))}var Et=d,K=pt,ft=E("ZxFD"),mt=E("n+fv");function yt(k,p,y){var B=[0,0,0,0,0,0,0,0,0];return Y.fromTranslation(B,y),Y.multiply(k,B,p)}function wt(k,p,y){var B=[0,0,0,0,0,0,0,0,0];return Y.fromRotation(B,y),Y.multiply(k,B,p)}function J(k,p,y){var B=[0,0,0,0,0,0,0,0,0];return Y.fromScaling(B,y),Y.multiply(k,B,p)}function lt(k,p,y){return Y.multiply(k,y,p)}function it(k,p){for(var y=k?[].concat(k):[1,0,0,0,1,0,0,0,1],B=0,W=p.length;B<W;B++){var rt=p[B];switch(rt[0]){case"t":yt(y,y,[rt[1],rt[2]]);break;case"s":J(y,y,[rt[1],rt[2]]);break;case"r":wt(y,y,rt[1]);break;case"m":lt(y,y,rt[1]);break;default:break}}return y}function _(k,p){return k[0]*p[1]-p[0]*k[1]}function P(k,p,y){var B=ft.angle(k,p),W=_(k,p)>=0;return y?W?Math.PI*2-B:B:W?B:Math.PI*2-B}function Q(k,p,y){return y?(k[0]=p[1],k[1]=-1*p[0]):(k[0]=-1*p[1],k[1]=p[0]),k}},"6UX8":function(qe,Pt,E){"use strict";var Y=E("iTfj"),i=/rgba?\(([\s.,0-9]+)\)/,b=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,t=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,n=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,u=function(A){return/^[r,R,L,l]{1}[\s]*\(/.test(A)},g=function(){var A=document.createElement("i");return A.title="Web Colour Picker",A.style.display="none",document.body.appendChild(A),A},x=function(A,f,O,j){return A[j]+(f[j]-A[j])*O};function c(S){return"#"+I(S[0])+I(S[1])+I(S[2])}var w=function(A){return[parseInt(A.substr(1,2),16),parseInt(A.substr(3,2),16),parseInt(A.substr(5,2),16)]},I=function(A){var f=Math.round(A).toString(16);return f.length===1?"0"+f:f},m=function(A,f){var O=isNaN(Number(f))||f<0?0:f>1?1:Number(f),j=A.length-1,D=Math.floor(j*O),V=j*O-D,H=A[D],$=D===j?H:A[D+1];return c([x(H,$,V,0),x(H,$,V,1),x(H,$,V,2)])},r,s=function(A){if(A[0]==="#"&&A.length===7)return A;r||(r=g()),r.style.color=A;var f=document.defaultView.getComputedStyle(r,"").getPropertyValue("color"),O=i.exec(f),j=O[1].split(/\s*,\s*/).map(function(D){return Number(D)});return f=c(j),f},d=function(A){var f=Object(Y.isString)(A)?A.split("-"):A,O=Object(Y.map)(f,function(j){return w(j.indexOf("#")===-1?s(j):j)});return function(j){return m(O,j)}},C=function(A){if(u(A)){var f,O=void 0;if(A[0]==="l"){var j=b.exec(A),D=+j[1]+90;O=j[2],f="linear-gradient("+D+"deg, "}else if(A[0]==="r"){f="radial-gradient(";var j=t.exec(A);O=j[4]}var V=O.match(n);return Object(Y.each)(V,function(H,$){var dt=H.split(":");f+=dt[1]+" "+dt[0]*100+"%",$!==V.length-1&&(f+=", ")}),f+=")",f}return A};Pt.a={rgb2arr:w,gradient:d,toRGB:Object(Y.memoize)(s),toCSSGradient:C}},"6sVZ":function(qe,Pt){var E=Object.prototype;function Y(i){var b=i&&i.constructor,t=typeof b=="function"&&b.prototype||E;return i===t}qe.exports=Y},"7+4w":function(qe,Pt,E){"use strict";var Y=E("mrSG"),i=E("YuPD"),b=E("zJSt"),t=function(n){Object(Y.b)(u,n);function u(g,x,c,w){var I=n.call(this,g,Object(i.b)({},w,x))||this;return I.type="g2-plot",I.defaultOptions=w,I.adaptor=c,I}return u.prototype.getDefaultOptions=function(){return this.defaultOptions},u.prototype.getSchemaAdaptor=function(){return this.adaptor},u}(b.a)},"711d":function(qe,Pt){function E(Y){return function(i){return i==null?void 0:i[Y]}}qe.exports=E},"77Zs":function(qe,Pt,E){var Y=E("Xi7e");function i(){this.__data__=new Y,this.size=0}qe.exports=i},"7GkX":function(qe,Pt,E){var Y=E("b80T"),i=E("A90E"),b=E("MMmD");function t(n){return b(n)?Y(n):i(n)}qe.exports=t},"7IPS":function(qe,Pt,E){"use strict";Pt.a=function(Y,i,b,t,n){for(var u=Y.children,g,x=-1,c=u.length,w=Y.value&&(n-b)/Y.value;++x<c;)g=u[x],g.x0=i,g.x1=t,g.y0=b,g.y1=b+=g.value*w}},"7Kak":function(qe,Pt,E){"use strict";var Y=E("cIOH"),i=E.n(Y),b=E("KPFz"),t=E.n(b)},"7ZbV":function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return D});var Y=E("mrSG"),i=E("zJSt"),b=E("YuPD"),t=E("iTfj"),n=E("w02o"),u=E("tKoa"),g="first-axes-view",x="second-axes-view",c="series-field-key";function w(V,H,$,dt,Z){var ct=[];H.forEach(function(Et){dt.forEach(function(K){var ft,mt=(ft={},ft[V]=K[V],ft[$]=Et,ft[Et]=K[Et],ft);ct.push(mt)})});var pt=Object.values(Object(t.groupBy)(ct,$)),gt=pt[0],at=gt===void 0?[]:gt,Bt=pt[1],Lt=Bt===void 0?[]:Bt;return Z?[at.reverse(),Lt.reverse()]:[at,Lt]}function I(V){return V!=="vertical"}function m(V,H,$){var dt=H[0],Z=H[1],ct=dt.autoPadding,pt=Z.autoPadding,gt=V.__axisPosition,at=gt.layout,Bt=gt.position;if(I(at)&&Bt==="top"&&(dt.autoPadding=$.instance(ct.top,0,ct.bottom,ct.left),Z.autoPadding=$.instance(pt.top,ct.left,pt.bottom,0)),I(at)&&Bt==="bottom"&&(dt.autoPadding=$.instance(ct.top,ct.right/2+5,ct.bottom,ct.left),Z.autoPadding=$.instance(pt.top,pt.right,pt.bottom,ct.right/2+5)),!I(at)&&Bt==="bottom"){var Lt=ct.left>=pt.left?ct.left:pt.left;dt.autoPadding=$.instance(ct.top,ct.right,ct.bottom/2+5,Lt),Z.autoPadding=$.instance(ct.bottom/2+5,pt.right,pt.bottom,Lt)}if(!I(at)&&Bt==="top"){var Lt=ct.left>=pt.left?ct.left:pt.left;dt.autoPadding=$.instance(ct.top,ct.right,0,Lt),Z.autoPadding=$.instance(0,pt.right,ct.top,Lt)}}function r(V){var H=V.chart,$=V.options,dt=$.data,Z=$.xField,ct=$.yField,pt=$.color,gt=$.barStyle,at=$.widthRatio,Bt=$.legend,Lt=$.layout,Et=w(Z,ct,c,dt,I(Lt));Bt?H.legend(c,Bt):Bt===!1&&H.legend(!1);var K,ft,mt=Et[0],yt=Et[1];I(Lt)?(K=H.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:g}),K.coordinate().transpose().reflect("x"),ft=H.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:x}),ft.coordinate().transpose(),K.data(mt),ft.data(yt)):(K=H.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:g}),ft=H.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:x}),ft.coordinate().reflect("y").rotate(Math.PI*0),K.data(mt),ft.data(yt));var wt=Object(b.b)({},V,{chart:K,options:{widthRatio:at,xField:Z,yField:ct[0],seriesField:c,interval:{color:pt,style:gt}}});Object(u.c)(wt);var J=Object(b.b)({},V,{chart:ft,options:{xField:Z,yField:ct[1],seriesField:c,widthRatio:at,interval:{color:pt,style:gt}}});return Object(u.c)(J),V}function s(V){var H,$,dt,Z=V.options,ct=V.chart,pt=Z.xAxis,gt=Z.yAxis,at=Z.xField,Bt=Z.yField,Lt=Object(b.d)(ct,g),Et=Object(b.d)(ct,x),K={};return Object(t.keys)((Z==null?void 0:Z.meta)||{}).map(function(ft){Object(t.get)(Z==null?void 0:Z.meta,[ft,"alias"])&&(K[ft]=Z.meta[ft].alias)}),ct.scale((H={},H[c]={sync:!0,formatter:function(mt){return Object(t.get)(K,mt,mt)}},H)),Object(n.f)(($={},$[at]=pt,$[Bt[0]]=gt[Bt[0]],$))(Object(b.b)({},V,{chart:Lt})),Object(n.f)((dt={},dt[at]=pt,dt[Bt[1]]=gt[Bt[1]],dt))(Object(b.b)({},V,{chart:Et})),V}function d(V){var H=V.chart,$=V.options,dt=$.xAxis,Z=$.yAxis,ct=$.xField,pt=$.yField,gt=$.layout,at=Object(b.d)(H,g),Bt=Object(b.d)(H,x);return Bt.axis(ct,!1),dt===!1?at.axis(ct,!1):at.axis(ct,Object(Y.a)({position:I(gt)?"top":"bottom"},dt)),Z===!1?(at.axis(pt[0],!1),Bt.axis(pt[1],!1)):(at.axis(pt[0],Z[pt[0]]),Bt.axis(pt[1],Z[pt[1]])),H.__axisPosition={position:at.getOptions().axes[ct].position,layout:gt},V}function C(V){var H=V.chart;return Object(n.c)(Object(b.b)({},V,{chart:Object(b.d)(H,g)})),Object(n.c)(Object(b.b)({},V,{chart:Object(b.d)(H,x)})),V}function S(V){var H=V.chart,$=V.options,dt=$.yField,Z=$.yAxis;return Object(n.e)(Object(b.b)({},V,{chart:Object(b.d)(H,g),options:{yAxis:Z[dt[0]]}})),Object(n.e)(Object(b.b)({},V,{chart:Object(b.d)(H,x),options:{yAxis:Z[dt[1]]}})),V}function A(V){var H=V.chart;return Object(n.j)(Object(b.b)({},V,{chart:Object(b.d)(H,g)})),Object(n.j)(Object(b.b)({},V,{chart:Object(b.d)(H,x)})),V}function f(V){var H=V.chart;return Object(n.a)(Object(b.b)({},V,{chart:Object(b.d)(H,g)})),Object(n.a)(Object(b.b)({},V,{chart:Object(b.d)(H,x)})),V}function O(V){var H=V.chart,$=V.options,dt=$.label,Z=$.yField,ct=Object(b.d)(H,g),pt=Object(b.d)(H,x),gt=Object(b.c)(ct,"interval"),at=Object(b.c)(pt,"interval");if(!dt)gt.label(!1),at.label(!1);else{var Bt=dt.callback,Lt=Object(Y.c)(dt,["callback"]);gt.label({fields:[Z[0]],callback:Bt,cfg:Object(b.o)(Lt)}),at.label({fields:[Z[1]],callback:Bt,cfg:Object(b.o)(Lt)})}return V}function j(V){return Object(b.e)(r,s,d,S,A,O,n.k,C,f)(V)}var D=function(V){Object(Y.b)(H,V);function H(){var $=V!==null&&V.apply(this,arguments)||this;return $.type="bidirectional-bar",$}return H.prototype.getDefaultOptions=function(){return Object(b.b)({},V.prototype.getDefaultOptions.call(this),{syncViewPadding:m})},H.prototype.getSchemaAdaptor=function(){return j},H}(i.a)},"7cv3":function(qe,Pt,E){"use strict";E.d(Pt,"b",function(){return i}),E.d(Pt,"c",function(){return b}),E.d(Pt,"a",function(){return t});var Y=E("iTfj"),i="x",b="y",t={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(u,g){return""+Object(Y.get)(g,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}}},"7fqy":function(qe,Pt){function E(Y){var i=-1,b=Array(Y.size);return Y.forEach(function(t,n){b[++i]=[n,t]}),b}qe.exports=E},"7s0d":function(qe,Pt,E){"use strict";var Y=E("FH2j");E.d(Pt,"getAdjust",function(){return Y.getAdjust});var i=E("Qci9"),b=E("lOPJ"),t=E("KavR"),n=E("8FoI"),u=E("96lr"),g=E("WbAE"),x=E.n(g);Object(Y.registerAdjust)("Dodge",b.a),Object(Y.registerAdjust)("Jitter",t.a),Object(Y.registerAdjust)("Stack",n.a),Object(Y.registerAdjust)("Symmetric",u.a)},"815F":function(qe,Pt,E){"use strict";E.d(Pt,"e",function(){return x}),E.d(Pt,"c",function(){return w}),E.d(Pt,"d",function(){return I}),E.d(Pt,"a",function(){return r}),E.d(Pt,"f",function(){return s}),E.d(Pt,"b",function(){return d});var Y=E("U8pU"),i=E("KQm4"),b=E("VTBJ"),t=E("Ff2n"),n=E("Zm9Q"),u=E("Kwbf"),g=E("OZM5");function x(C,S){return C!=null?C:S}function c(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],S=new Map;function A(f){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(f||[]).forEach(function(j){var D=j.key,V=j.children;Object(u.a)(D!=null,"Tree node must have a certain key: [".concat(O).concat(D,"]"));var H=String(D);Object(u.a)(!S.has(H)||D===null||D===void 0,"Same 'key' exist in the Tree: ".concat(H)),S.set(H,!0),A(V,"".concat(O).concat(H," > "))})}A(C)}function w(C){function S(A){var f=Object(n.a)(A);return f.map(function(O){if(!Object(g.i)(O))return Object(u.a)(!O,"Tree/TreeNode can only accept TreeNode as children."),null;var j=O.key,D=O.props,V=D.children,H=Object(t.a)(D,["children"]),$=Object(b.a)({key:j},H),dt=S(V);return dt.length&&($.children=dt),$}).filter(function(O){return O})}return S(C)}function I(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],A=new Set(S===!0?[]:S),f=[];function O(j){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return j.map(function(V,H){var $=Object(g.h)(D?D.pos:"0",H),dt=x(V.key,$),Z=Object(b.a)(Object(b.a)({},V),{},{parent:D,pos:$,children:null,data:V,isStart:[].concat(Object(i.a)(D?D.isStart:[]),[H===0]),isEnd:[].concat(Object(i.a)(D?D.isEnd:[]),[H===j.length-1])});return f.push(Z),S===!0||A.has(dt)?Z.children=O(V.children||[],Z):Z.children=[],Z})}return O(C),f}function m(C,S,A){var f=null,O,j=Object(Y.a)(A);j==="function"||j==="string"?f=A:A&&j==="object"&&(O=A.childrenPropName,f=A.externalGetKey),O=O||"children";var D;f?typeof f=="string"?D=function($){return $[f]}:typeof f=="function"&&(D=function($){return f($)}):D=function($,dt){return x($.key,dt)};function V(H,$,dt){var Z=H?H[O]:C,ct=H?Object(g.h)(dt.pos,$):"0";if(H){var pt=D(H,ct),gt={node:H,index:$,pos:ct,key:pt,parentPos:dt.node?dt.pos:null,level:dt.level+1};S(gt)}Z&&Z.forEach(function(at,Bt){V(at,Bt,{node:H,pos:ct,level:dt?dt.level+1:-1})})}V(null)}function r(C){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=S.initWrapper,f=S.processEntity,O=S.onProcessFinished,j=S.externalGetKey,D=S.childrenPropName,V=arguments.length>2?arguments[2]:void 0,H=j||V,$={},dt={},Z={posEntities:$,keyEntities:dt};return A&&(Z=A(Z)||Z),m(C,function(ct){var pt=ct.node,gt=ct.index,at=ct.pos,Bt=ct.key,Lt=ct.parentPos,Et=ct.level,K={node:pt,index:gt,key:Bt,pos:at,level:Et},ft=x(Bt,at);$[at]=K,dt[ft]=K,K.parent=$[Lt],K.parent&&(K.parent.children=K.parent.children||[],K.parent.children.push(K)),f&&f(K,Z)},{externalGetKey:H,childrenPropName:D}),O&&O(Z),Z}function s(C,S){var A=S.expandedKeys,f=S.selectedKeys,O=S.loadedKeys,j=S.loadingKeys,D=S.checkedKeys,V=S.halfCheckedKeys,H=S.dragOverNodeKey,$=S.dropPosition,dt=S.keyEntities,Z=dt[C],ct={eventKey:C,expanded:A.indexOf(C)!==-1,selected:f.indexOf(C)!==-1,loaded:O.indexOf(C)!==-1,loading:j.indexOf(C)!==-1,checked:D.indexOf(C)!==-1,halfChecked:V.indexOf(C)!==-1,pos:String(Z?Z.pos:""),dragOver:H===C&&$===0,dragOverGapTop:H===C&&$===-1,dragOverGapBottom:H===C&&$===1};return ct}function d(C){var S=C.data,A=C.expanded,f=C.selected,O=C.checked,j=C.loaded,D=C.loading,V=C.halfChecked,H=C.dragOver,$=C.dragOverGapTop,dt=C.dragOverGapBottom,Z=C.pos,ct=C.active,pt=Object(b.a)(Object(b.a)({},S),{},{expanded:A,selected:f,checked:O,loaded:j,loading:D,halfChecked:V,dragOver:H,dragOverGapTop:$,dragOverGapBottom:dt,pos:Z,active:ct});return"props"in pt||Object.defineProperty(pt,"props",{get:function(){return Object(u.a)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),C}}),pt}},"8FoI":function(qe,Pt,E){"use strict";var Y=E("AA7f"),i=E("iTfj"),b=E("Qci9"),t=i.Cache,n=function(u){Object(Y.b)(g,u);function g(x){var c=u.call(this,x)||this,w=x.adjustNames,I=w===void 0?["y"]:w,m=x.height,r=m===void 0?NaN:m,s=x.size,d=s===void 0?10:s,C=x.reverseOrder,S=C===void 0?!1:C;return c.adjustNames=I,c.height=r,c.size=d,c.reverseOrder=S,c}return g.prototype.process=function(x){var c=this,w=c.yField,I=c.reverseOrder,m=w?this.processStack(x):this.processOneDimStack(x);return I?this.reverse(m):m},g.prototype.reverse=function(x){return x.slice(0).reverse()},g.prototype.processStack=function(x){var c=this,w=c.xField,I=c.yField,m=c.reverseOrder,r=m?this.reverse(x):x,s=new t,d=new t;return r.map(function(C){return C.map(function(S){var A,f=i.get(S,w,0),O=i.get(S,[I]),j=f.toString();if(O=i.isArray(O)?O[1]:O,!i.isNil(O)){var D=O>=0?s:d;D.has(j)||D.set(j,0);var V=D.get(j),H=O+V;return D.set(j,H),Object(Y.a)(Object(Y.a)({},S),(A={},A[I]=[V,H],A))}return S})})},g.prototype.processOneDimStack=function(x){var c=this,w=this,I=w.xField,m=w.height,r=w.reverseOrder,s="y",d=r?this.reverse(x):x,C=new t;return d.map(function(S){return S.map(function(A){var f,O=c.size,j=A[I],D=O*2/m;C.has(j)||C.set(j,D/2);var V=C.get(j);return C.set(j,V+D),Object(Y.a)(Object(Y.a)({},A),(f={},f[s]=V,f))})})},g}(b.a);Pt.a=n},"8vsG":function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return w}),E.d(Pt,"b",function(){return zt}),E.d(Pt,"c",function(){return g}),E.d(Pt,"d",function(){return Dn});var Y={};E.r(Y),E.d(Y,"default",function(){return it}),E.d(Y,"assign",function(){return O}),E.d(Y,"format",function(){return wt}),E.d(Y,"parse",function(){return J}),E.d(Y,"defaultI18n",function(){return $}),E.d(Y,"setGlobalDateI18n",function(){return Z}),E.d(Y,"setGlobalDateMasks",function(){return yt});var i=E("iTfj"),b={};function t(ae){return b[ae]}function n(ae,Kt){b[ae]=Kt}var u=function(){function ae(Kt){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=Kt,this.initCfg(),this.init()}return ae.prototype.translate=function(Kt){return Kt},ae.prototype.change=function(Kt){Object(i.assign)(this.__cfg__,Kt),this.init()},ae.prototype.clone=function(){return this.constructor(this.__cfg__)},ae.prototype.getTicks=function(){var Kt=this;return Object(i.map)(this.ticks,function(te,Oe){return Object(i.isObject)(te)?te:{text:Kt.getText(te,Oe),tickValue:te,value:Kt.scale(te)}})},ae.prototype.getText=function(Kt,te){var Oe=this.formatter,Ze=Oe?Oe(Kt,te):Kt;return Object(i.isNil)(Ze)||!Object(i.isFunction)(Ze.toString)?"":Ze.toString()},ae.prototype.getConfig=function(Kt){return this.__cfg__[Kt]},ae.prototype.init=function(){Object(i.assign)(this,this.__cfg__),this.setDomain(),Object(i.isEmpty)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},ae.prototype.initCfg=function(){},ae.prototype.setDomain=function(){},ae.prototype.calculateTicks=function(){var Kt=this.tickMethod,te=[];if(Object(i.isString)(Kt)){var Oe=t(Kt);if(!Oe)throw new Error("There is no method to to calculate ticks!");te=Oe(this)}else Object(i.isFunction)(Kt)&&(te=Kt(this));return te},ae.prototype.rangeMin=function(){return Object(i.head)(this.range)},ae.prototype.rangeMax=function(){return Object(i.last)(this.range)},ae.prototype.calcPercent=function(Kt,te,Oe){return Object(i.isNumber)(Kt)?(Kt-te)/(Oe-te):NaN},ae.prototype.calcValue=function(Kt,te,Oe){return te+Kt*(Oe-te)},ae}(),g=u,x=E("mrSG"),c=function(ae){Object(x.b)(Kt,ae);function Kt(){var te=ae!==null&&ae.apply(this,arguments)||this;return te.type="cat",te.isCategory=!0,te.cache=new Map,te}return Kt.prototype.translate=function(te){if(this.cache.has(te))return this.cache.get(te);var Oe=Object(i.indexOf)(this.values,te);return Oe===-1&&(Oe=Object(i.isNumber)(te)?te:NaN),this.cache.set(te,Oe),Oe},Kt.prototype.scale=function(te){var Oe=this.translate(te),Ze=this.calcPercent(Oe,this.min,this.max);return this.calcValue(Ze,this.rangeMin(),this.rangeMax())},Kt.prototype.invert=function(te){var Oe=this.max-this.min,Ze=this.calcPercent(te,this.rangeMin(),this.rangeMax()),An=Math.round(Oe*Ze)+this.min;return An<this.min||An>this.max?NaN:this.values[An]},Kt.prototype.getText=function(te){for(var Oe=[],Ze=1;Ze<arguments.length;Ze++)Oe[Ze-1]=arguments[Ze];var An=te;return Object(i.isNumber)(te)&&!this.values.includes(te)&&(An=this.values[An]),ae.prototype.getText.apply(this,Object(x.d)([An],Oe))},Kt.prototype.initCfg=function(){this.tickMethod="cat"},Kt.prototype.setDomain=function(){if(Object(i.isNil)(this.getConfig("min"))&&(this.min=0),Object(i.isNil)(this.getConfig("max"))){var te=this.values.length;this.max=te>1?te-1:te}this.cache&&this.cache.clear()},Kt}(g),w=c,I=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,m="[1-9]\\d?",r="\\d\\d",s="\\d{3}",d="\\d{4}",C="[^\\s]+",S=/\[([^]*?)\]/gm;function A(ae,Kt){for(var te=[],Oe=0,Ze=ae.length;Oe<Ze;Oe++)te.push(ae[Oe].substr(0,Kt));return te}var f=function(Kt){return function(te,Oe){var Ze=Oe[Kt].map(function(qn){return qn.toLowerCase()}),An=Ze.indexOf(te.toLowerCase());return An>-1?An:null}};function O(ae){for(var Kt=[],te=1;te<arguments.length;te++)Kt[te-1]=arguments[te];for(var Oe=0,Ze=Kt;Oe<Ze.length;Oe++){var An=Ze[Oe];for(var qn in An)ae[qn]=An[qn]}return ae}var j=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],D=["January","February","March","April","May","June","July","August","September","October","November","December"],V=A(D,3),H=A(j,3),$={dayNamesShort:H,dayNames:j,monthNamesShort:V,monthNames:D,amPm:["am","pm"],DoFn:function(Kt){return Kt+["th","st","nd","rd"][Kt%10>3?0:(Kt-Kt%10!=10?1:0)*Kt%10]}},dt=O({},$),Z=function(Kt){return dt=O(dt,Kt)},ct=function(Kt){return Kt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},pt=function(Kt,te){for(te===void 0&&(te=2),Kt=String(Kt);Kt.length<te;)Kt="0"+Kt;return Kt},gt={D:function(Kt){return String(Kt.getDate())},DD:function(Kt){return pt(Kt.getDate())},Do:function(Kt,te){return te.DoFn(Kt.getDate())},d:function(Kt){return String(Kt.getDay())},dd:function(Kt){return pt(Kt.getDay())},ddd:function(Kt,te){return te.dayNamesShort[Kt.getDay()]},dddd:function(Kt,te){return te.dayNames[Kt.getDay()]},M:function(Kt){return String(Kt.getMonth()+1)},MM:function(Kt){return pt(Kt.getMonth()+1)},MMM:function(Kt,te){return te.monthNamesShort[Kt.getMonth()]},MMMM:function(Kt,te){return te.monthNames[Kt.getMonth()]},YY:function(Kt){return pt(String(Kt.getFullYear()),4).substr(2)},YYYY:function(Kt){return pt(Kt.getFullYear(),4)},h:function(Kt){return String(Kt.getHours()%12||12)},hh:function(Kt){return pt(Kt.getHours()%12||12)},H:function(Kt){return String(Kt.getHours())},HH:function(Kt){return pt(Kt.getHours())},m:function(Kt){return String(Kt.getMinutes())},mm:function(Kt){return pt(Kt.getMinutes())},s:function(Kt){return String(Kt.getSeconds())},ss:function(Kt){return pt(Kt.getSeconds())},S:function(Kt){return String(Math.round(Kt.getMilliseconds()/100))},SS:function(Kt){return pt(Math.round(Kt.getMilliseconds()/10),2)},SSS:function(Kt){return pt(Kt.getMilliseconds(),3)},a:function(Kt,te){return Kt.getHours()<12?te.amPm[0]:te.amPm[1]},A:function(Kt,te){return Kt.getHours()<12?te.amPm[0].toUpperCase():te.amPm[1].toUpperCase()},ZZ:function(Kt){var te=Kt.getTimezoneOffset();return(te>0?"-":"+")+pt(Math.floor(Math.abs(te)/60)*100+Math.abs(te)%60,4)},Z:function(Kt){var te=Kt.getTimezoneOffset();return(te>0?"-":"+")+pt(Math.floor(Math.abs(te)/60),2)+":"+pt(Math.abs(te)%60,2)}},at=function(Kt){return+Kt-1},Bt=[null,m],Lt=[null,C],Et=["isPm",C,function(ae,Kt){var te=ae.toLowerCase();return te===Kt.amPm[0]?0:te===Kt.amPm[1]?1:null}],K=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(ae){var Kt=(ae+"").match(/([+-]|\d\d)/gi);if(Kt){var te=+Kt[1]*60+parseInt(Kt[2],10);return Kt[0]==="+"?te:-te}return 0}],ft={D:["day",m],DD:["day",r],Do:["day",m+C,function(ae){return parseInt(ae,10)}],M:["month",m,at],MM:["month",r,at],YY:["year",r,function(ae){var Kt=new Date,te=+(""+Kt.getFullYear()).substr(0,2);return+(""+(+ae>68?te-1:te)+ae)}],h:["hour",m,void 0,"isPm"],hh:["hour",r,void 0,"isPm"],H:["hour",m],HH:["hour",r],m:["minute",m],mm:["minute",r],s:["second",m],ss:["second",r],YYYY:["year",d],S:["millisecond","\\d",function(ae){return+ae*100}],SS:["millisecond",r,function(ae){return+ae*10}],SSS:["millisecond",s],d:Bt,dd:Bt,ddd:Lt,dddd:Lt,MMM:["month",C,f("monthNamesShort")],MMMM:["month",C,f("monthNames")],a:Et,A:Et,ZZ:K,Z:K},mt={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},yt=function(Kt){return O(mt,Kt)},wt=function(Kt,te,Oe){if(te===void 0&&(te=mt.default),Oe===void 0&&(Oe={}),typeof Kt=="number"&&(Kt=new Date(Kt)),Object.prototype.toString.call(Kt)!=="[object Date]"||isNaN(Kt.getTime()))throw new Error("Invalid Date pass to format");te=mt[te]||te;var Ze=[];te=te.replace(S,function(qn,rr){return Ze.push(rr),"@@@"});var An=O(O({},dt),Oe);return te=te.replace(I,function(qn){return gt[qn](Kt,An)}),te.replace(/@@@/g,function(){return Ze.shift()})};function J(ae,Kt,te){if(te===void 0&&(te={}),typeof Kt!="string")throw new Error("Invalid format in fecha parse");if(Kt=mt[Kt]||Kt,ae.length>1e3)return null;var Oe=new Date,Ze={year:Oe.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},An=[],qn=[],rr=Kt.replace(S,function(Hr,ei){return qn.push(ct(ei)),"@@@"}),tn={},sn={};rr=ct(rr).replace(I,function(Hr){var ei=ft[Hr],Kr=ei[0],Qr=ei[1],Oi=ei[3];if(tn[Kr])throw new Error("Invalid format. "+Kr+" specified twice in format");return tn[Kr]=!0,Oi&&(sn[Oi]=!0),An.push(ei),"("+Qr+")"}),Object.keys(sn).forEach(function(Hr){if(!tn[Hr])throw new Error("Invalid format. "+Hr+" is required in specified format")}),rr=rr.replace(/@@@/g,function(){return qn.shift()});var un=ae.match(new RegExp(rr,"i"));if(!un)return null;for(var ur=O(O({},dt),te),jr=1;jr<un.length;jr++){var wr=An[jr-1],yr=wr[0],ni=wr[2],_r=ni?ni(un[jr],ur):+un[jr];if(_r==null)return null;Ze[yr]=_r}Ze.isPm===1&&Ze.hour!=null&&+Ze.hour!=12?Ze.hour=+Ze.hour+12:Ze.isPm===0&&+Ze.hour==12&&(Ze.hour=0);for(var Fr=new Date(Ze.year,Ze.month,Ze.day,Ze.hour,Ze.minute,Ze.second,Ze.millisecond),Lr=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],jr=0,Gr=Lr.length;jr<Gr;jr++)if(tn[Lr[jr][0]]&&Ze[Lr[jr][0]]!==Fr[Lr[jr][1]]())return null;return Ze.timezoneOffset==null?Fr:new Date(Date.UTC(Ze.year,Ze.month,Ze.day,Ze.hour,Ze.minute-Ze.timezoneOffset,Ze.second,Ze.millisecond))}var lt={format:wt,parse:J,defaultI18n:$,setGlobalDateI18n:Z,setGlobalDateMasks:yt},it=lt,_=function(ae){return function(Kt,te,Oe,Ze){for(var An=Object(i.isNil)(Oe)?0:Oe,qn=Object(i.isNil)(Ze)?Kt.length:Ze;An<qn;){var rr=An+qn>>>1;ae(Kt[rr])>te?qn=rr:An=rr+1}return An}},P="format";function Q(ae,Kt){var te=Y[P]||it[P];return te(ae,Kt)}function k(ae){return Object(i.isString)(ae)&&(ae.indexOf("T")>0?ae=new Date(ae).getTime():ae=new Date(ae.replace(/-/gi,"/")).getTime()),Object(i.isDate)(ae)&&(ae=ae.getTime()),ae}var p=1e3,y=60*p,B=60*y,W=24*B,rt=W*31,st=W*365,ut=[["HH:mm:ss",p],["HH:mm:ss",p*10],["HH:mm:ss",p*30],["HH:mm",y],["HH:mm",y*10],["HH:mm",y*30],["HH",B],["HH",B*6],["HH",B*12],["YYYY-MM-DD",W],["YYYY-MM-DD",W*4],["YYYY-WW",W*7],["YYYY-MM",rt],["YYYY-MM",rt*4],["YYYY-MM",rt*6],["YYYY",W*380]];function Mt(ae,Kt,te){var Oe=(Kt-ae)/te,Ze=_(function(qn){return qn[1]})(ut,Oe)-1,An=ut[Ze];return Ze<0?An=ut[0]:Ze>=ut.length&&(An=Object(i.last)(ut)),An}var bt=function(ae){Object(x.b)(Kt,ae);function Kt(){var te=ae!==null&&ae.apply(this,arguments)||this;return te.type="timeCat",te}return Kt.prototype.translate=function(te){te=k(te);var Oe=this.values.indexOf(te);return Oe===-1&&(Object(i.isNumber)(te)&&te<this.values.length?Oe=te:Oe=NaN),Oe},Kt.prototype.getText=function(te,Oe){var Ze=this.translate(te);if(Ze>-1){var An=this.values[Ze],qn=this.formatter;return An=qn?qn(An,Oe):Q(An,this.mask),An}return te},Kt.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},Kt.prototype.setDomain=function(){var te=this.values;Object(i.each)(te,function(Oe,Ze){te[Ze]=k(Oe)}),te.sort(function(Oe,Ze){return Oe-Ze}),ae.prototype.setDomain.call(this)},Kt}(w),xt=bt,Ot=function(ae){Object(x.b)(Kt,ae);function Kt(){var te=ae!==null&&ae.apply(this,arguments)||this;return te.isContinuous=!0,te}return Kt.prototype.scale=function(te){if(Object(i.isNil)(te))return NaN;var Oe=this.rangeMin(),Ze=this.rangeMax(),An=this.max,qn=this.min;if(An===qn)return Oe;var rr=this.getScalePercent(te);return Oe+rr*(Ze-Oe)},Kt.prototype.init=function(){ae.prototype.init.call(this);var te=this.ticks,Oe=Object(i.head)(te),Ze=Object(i.last)(te);Oe<this.min&&(this.min=Oe),Ze>this.max&&(this.max=Ze),Object(i.isNil)(this.minLimit)||(this.min=Oe),Object(i.isNil)(this.maxLimit)||(this.max=Ze)},Kt.prototype.setDomain=function(){var te=Object(i.getRange)(this.values),Oe=te.min,Ze=te.max;Object(i.isNil)(this.min)&&(this.min=Oe),Object(i.isNil)(this.max)&&(this.max=Ze),this.min>this.max&&(this.min=Oe,this.max=Ze)},Kt.prototype.calculateTicks=function(){var te=this,Oe=ae.prototype.calculateTicks.call(this);return this.nice||(Oe=Object(i.filter)(Oe,function(Ze){return Ze>=te.min&&Ze<=te.max})),Oe},Kt.prototype.getScalePercent=function(te){var Oe=this.max,Ze=this.min;return(te-Ze)/(Oe-Ze)},Kt.prototype.getInvertPercent=function(te){return(te-this.rangeMin())/(this.rangeMax()-this.rangeMin())},Kt}(g),jt=Ot,Dt=function(ae){Object(x.b)(Kt,ae);function Kt(){var te=ae!==null&&ae.apply(this,arguments)||this;return te.type="linear",te.isLinear=!0,te}return Kt.prototype.invert=function(te){var Oe=this.getInvertPercent(te);return this.min+Oe*(this.max-this.min)},Kt.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},Kt}(jt),zt=Dt;function Tt(ae,Kt){var te=Math.E,Oe;return Kt>=0?Oe=Math.pow(te,Math.log(Kt)/ae):Oe=Math.pow(te,Math.log(-Kt)/ae)*-1,Oe}function Vt(ae,Kt){return ae===1?1:Math.log(Kt)/Math.log(ae)}function Ht(ae,Kt,te){Object(i.isNil)(te)&&(te=Math.max.apply(null,ae));var Oe=te;return Object(i.each)(ae,function(Ze){Ze>0&&Ze<Oe&&(Oe=Ze)}),Oe===te&&(Oe=te/Kt),Oe>1&&(Oe=1),Oe}var re=function(ae){Object(x.b)(Kt,ae);function Kt(){var te=ae!==null&&ae.apply(this,arguments)||this;return te.type="log",te}return Kt.prototype.invert=function(te){var Oe=this.base,Ze=Vt(Oe,this.max),An=this.rangeMin(),qn=this.rangeMax()-An,rr,tn=this.positiveMin;if(tn){if(te===0)return 0;rr=Vt(Oe,tn/Oe);var sn=1/(Ze-rr)*qn;if(te<sn)return te/sn*tn}else rr=Vt(Oe,this.min);var un=(te-An)/qn,ur=un*(Ze-rr)+rr;return Math.pow(Oe,ur)},Kt.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},Kt.prototype.setDomain=function(){ae.prototype.setDomain.call(this);var te=this.min;if(te<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");te===0&&(this.positiveMin=Ht(this.values,this.base,this.max))},Kt.prototype.getScalePercent=function(te){var Oe=this.max,Ze=this.min;if(Oe===Ze||te<=0)return 0;var An=this.base,qn=this.positiveMin;qn&&(Ze=qn*1/An);var rr;return te<qn?rr=te/qn/(Vt(An,Oe)-Vt(An,Ze)):rr=(Vt(An,te)-Vt(An,Ze))/(Vt(An,Oe)-Vt(An,Ze)),rr},Kt}(jt),pe=re,me=function(ae){Object(x.b)(Kt,ae);function Kt(){var te=ae!==null&&ae.apply(this,arguments)||this;return te.type="pow",te}return Kt.prototype.invert=function(te){var Oe=this.getInvertPercent(te),Ze=this.exponent,An=Tt(Ze,this.max),qn=Tt(Ze,this.min),rr=Oe*(An-qn)+qn,tn=rr>=0?1:-1;return Math.pow(rr,Ze)*tn},Kt.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},Kt.prototype.getScalePercent=function(te){var Oe=this.max,Ze=this.min;if(Oe===Ze)return 0;var An=this.exponent,qn=(Tt(An,te)-Tt(An,Ze))/(Tt(An,Oe)-Tt(An,Ze));return qn},Kt}(jt),Ee=me,Le=function(ae){Object(x.b)(Kt,ae);function Kt(){var te=ae!==null&&ae.apply(this,arguments)||this;return te.type="time",te}return Kt.prototype.getText=function(te,Oe){var Ze=this.translate(te),An=this.formatter;return An?An(Ze,Oe):Q(Ze,this.mask)},Kt.prototype.scale=function(te){var Oe=te;return(Object(i.isString)(Oe)||Object(i.isDate)(Oe))&&(Oe=this.translate(Oe)),ae.prototype.scale.call(this,Oe)},Kt.prototype.translate=function(te){return k(te)},Kt.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},Kt.prototype.setDomain=function(){var te=this.values,Oe=this.getConfig("min"),Ze=this.getConfig("max");if((!Object(i.isNil)(Oe)||!Object(i.isNumber)(Oe))&&(this.min=this.translate(this.min)),(!Object(i.isNil)(Ze)||!Object(i.isNumber)(Ze))&&(this.max=this.translate(this.max)),te&&te.length){var An=[],qn=Infinity,rr=qn,tn=0;Object(i.each)(te,function(sn){var un=k(sn);if(isNaN(un))throw new TypeError("Invalid Time: "+sn+" in time scale!");qn>un?(rr=qn,qn=un):rr>un&&(rr=un),tn<un&&(tn=un),An.push(un)}),te.length>1&&(this.minTickInterval=rr-qn),Object(i.isNil)(Oe)&&(this.min=qn),Object(i.isNil)(Ze)&&(this.max=tn)}},Kt}(zt),Je=Le,On=function(ae){Object(x.b)(Kt,ae);function Kt(){var te=ae!==null&&ae.apply(this,arguments)||this;return te.type="quantize",te}return Kt.prototype.invert=function(te){var Oe=this.ticks,Ze=Oe.length,An=this.getInvertPercent(te),qn=Math.floor(An*(Ze-1));if(qn>=Ze-1)return Object(i.last)(Oe);if(qn<0)return Object(i.head)(Oe);var rr=Oe[qn],tn=Oe[qn+1],sn=qn/(Ze-1),un=(qn+1)/(Ze-1);return rr+(An-sn)/(un-sn)*(tn-rr)},Kt.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},Kt.prototype.calculateTicks=function(){var te=ae.prototype.calculateTicks.call(this);return this.nice||(Object(i.last)(te)!==this.max&&te.push(this.max),Object(i.head)(te)!==this.min&&te.unshift(this.min)),te},Kt.prototype.getScalePercent=function(te){var Oe=this.ticks;if(te<Object(i.head)(Oe))return 0;if(te>Object(i.last)(Oe))return 1;var Ze=0;return Object(i.each)(Oe,function(An,qn){if(te>=An)Ze=qn;else return!1}),Ze/(Oe.length-1)},Kt}(jt),gn=On,Vn=function(ae){Object(x.b)(Kt,ae);function Kt(){var te=ae!==null&&ae.apply(this,arguments)||this;return te.type="quantile",te}return Kt.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},Kt}(gn),kn=Vn,Wn={};function Dn(ae){return Wn[ae]}function Nn(ae,Kt){if(Dn(ae))throw new Error("type '"+ae+"' existed.");Wn[ae]=Kt}var Qn=function(ae){Object(x.b)(Kt,ae);function Kt(){var te=ae!==null&&ae.apply(this,arguments)||this;return te.type="identity",te.isIdentity=!0,te}return Kt.prototype.calculateTicks=function(){return this.values},Kt.prototype.scale=function(te){return this.values[0]!==te&&Object(i.isNumber)(te)?te:this.range[0]},Kt.prototype.invert=function(te){var Oe=this.range;return te<Oe[0]||te>Oe[1]?NaN:this.values[0]},Kt}(g),ir=Qn,hr=[1,5,2,2.5,4,3],Er=[1,5,2,2.5,4,3,1.5,7,6,8,9],mr=Number.EPSILON*100;function dr(ae,Kt){return(ae%Kt+Kt)%Kt}function Br(ae,Kt,te,Oe,Ze,An){var qn=Object(i.size)(Kt),rr=Object(i.indexOf)(Kt,ae),tn=0,sn=dr(Oe,An);return(sn<mr||An-sn<mr)&&Oe<=0&&Ze>=0&&(tn=1),1-rr/(qn-1)-te+tn}function ii(ae,Kt,te){var Oe=Object(i.size)(Kt),Ze=Object(i.indexOf)(Kt,ae),An=1;return 1-Ze/(Oe-1)-te+An}function mi(ae,Kt,te,Oe,Ze,An){var qn=(ae-1)/(An-Ze),rr=(Kt-1)/(Math.max(An,Oe)-Math.min(te,Ze));return 2-Math.max(qn/rr,rr/qn)}function Pi(ae,Kt){return ae>=Kt?2-(ae-1)/(Kt-1):1}function sa(ae,Kt,te,Oe){var Ze=Kt-ae;return 1-.5*(Math.pow(Kt-Oe,2)+Math.pow(ae-te,2))/Math.pow(.1*Ze,2)}function Pa(ae,Kt,te){var Oe=Kt-ae;if(te>Oe){var Ze=(te-Oe)/2;return 1-Math.pow(Ze,2)/Math.pow(.1*Oe,2)}return 1}function Mi(){return 1}function Ki(ae,Kt,te,Oe,Ze,An){if(te===void 0&&(te=5),Oe===void 0&&(Oe=!0),Ze===void 0&&(Ze=hr),An===void 0&&(An=[.25,.2,.5,.05]),typeof ae!="number"||typeof Kt!="number")return{min:0,max:0,ticks:[]};if(ae===Kt||te===1)return{min:ae,max:Kt,ticks:[ae]};for(var qn={score:-2,lmin:0,lmax:0,lstep:0},rr=1;rr<Infinity;){for(var tn=0,sn=Ze;tn<sn.length;tn++){var un=sn[tn],ur=ii(un,Ze,rr);if(Number.isNaN(ur))throw new Error("NaN");if(An[0]*ur+An[1]+An[2]+An[3]<qn.score){rr=Infinity;break}for(var jr=2;jr<Infinity;){var wr=Pi(jr,te);if(An[0]*ur+An[1]+An[2]*wr+An[3]<qn.score)break;for(var yr=(Kt-ae)/(jr+1)/rr/un,ni=Math.ceil(Math.log10(yr));ni<Infinity;){var _r=rr*un*Math.pow(10,ni),Fr=Pa(ae,Kt,_r*(jr-1));if(An[0]*ur+An[1]*Fr+An[2]*wr+An[3]<qn.score)break;var Lr=Math.floor(Kt/_r)*rr-(jr-1)*rr,Gr=Math.ceil(ae/_r)*rr;if(Lr>Gr){ni=ni+1;continue}for(var Hr=Lr;Hr<=Gr;Hr=Hr+1){var ei=Hr*(_r/rr),Kr=ei+_r*(jr-1),Qr=_r,Oi=Br(un,Ze,rr,ei,Kr,Qr),Ri=sa(ae,Kt,ei,Kr),Ei=mi(jr,te,ae,Kt,ei,Kr),Gi=Mi(),ca=An[0]*Oi+An[1]*Ri+An[2]*Ei+An[3]*Gi;ca>qn.score&&(!Oe||ei<=ae&&Kr>=Kt)&&(qn.lmin=ei,qn.lmax=Kr,qn.lstep=Qr,qn.score=ca)}ni=ni+1}jr=jr+1}}rr=rr+1}for(var ha=Number.isInteger(qn.lstep)?0:Math.ceil(Math.abs(Math.log10(qn.lstep))),na=[],Zi=qn.lmin;Zi<=qn.lmax;Zi+=qn.lstep)na.push(Zi);var ve=ha?Object(i.map)(na,function(U){return Number.parseFloat(U.toFixed(ha))}):na;return{min:Math.min(ae,Object(i.head)(ve)),max:Math.max(Kt,Object(i.last)(ve)),ticks:ve}}function fa(ae){var Kt=ae.values,te=ae.tickInterval,Oe=ae.tickCount,Ze=Kt;if(Object(i.isNumber)(te))return Object(i.filter)(Ze,function(sn,un){return un%te==0});var An=ae.min,qn=ae.max;if(Object(i.isNil)(An)&&(An=0),Object(i.isNil)(qn)&&(qn=Kt.length-1),Object(i.isNumber)(Oe)&&Oe<qn-An){var rr=Ki(An,qn,Oe,!1,[1,2,5,3,4,7,6,8,9]).ticks,tn=Object(i.filter)(rr,function(sn){return sn>=An&&sn<=qn});return tn.map(function(sn){return Kt[sn]})}return Kt.slice(An,qn+1)}function oa(ae){var Kt=ae.min,te=ae.max,Oe=ae.nice,Ze=ae.tickCount,An=new Pr;return An.domain([Kt,te]),Oe&&An.nice(Ze),An.ticks(Ze)}var pa=5,La=Math.sqrt(50),Yr=Math.sqrt(10),Ea=Math.sqrt(2),Pr=function(){function ae(){this._domain=[0,1]}return ae.prototype.domain=function(Kt){return Kt?(this._domain=Array.from(Kt,Number),this):this._domain.slice()},ae.prototype.nice=function(Kt){var te,Oe;Kt===void 0&&(Kt=pa);var Ze=this._domain.slice(),An=0,qn=this._domain.length-1,rr=this._domain[An],tn=this._domain[qn],sn;return tn<rr&&(te=[tn,rr],rr=te[0],tn=te[1],Oe=[qn,An],An=Oe[0],qn=Oe[1]),sn=ti(rr,tn,Kt),sn>0?(rr=Math.floor(rr/sn)*sn,tn=Math.ceil(tn/sn)*sn,sn=ti(rr,tn,Kt)):sn<0&&(rr=Math.ceil(rr*sn)/sn,tn=Math.floor(tn*sn)/sn,sn=ti(rr,tn,Kt)),sn>0?(Ze[An]=Math.floor(rr/sn)*sn,Ze[qn]=Math.ceil(tn/sn)*sn,this.domain(Ze)):sn<0&&(Ze[An]=Math.ceil(rr*sn)/sn,Ze[qn]=Math.floor(tn*sn)/sn,this.domain(Ze)),this},ae.prototype.ticks=function(Kt){return Kt===void 0&&(Kt=pa),si(this._domain[0],this._domain[this._domain.length-1],Kt||pa)},ae}();function si(ae,Kt,te){var Oe,Ze=-1,An,qn,rr;if(Kt=+Kt,ae=+ae,te=+te,ae===Kt&&te>0)return[ae];if((Oe=Kt<ae)&&(An=ae,ae=Kt,Kt=An),(rr=ti(ae,Kt,te))===0||!isFinite(rr))return[];if(rr>0)for(ae=Math.ceil(ae/rr),Kt=Math.floor(Kt/rr),qn=new Array(An=Math.ceil(Kt-ae+1));++Ze<An;)qn[Ze]=(ae+Ze)*rr;else for(ae=Math.floor(ae*rr),Kt=Math.ceil(Kt*rr),qn=new Array(An=Math.ceil(ae-Kt+1));++Ze<An;)qn[Ze]=(ae-Ze)/rr;return Oe&&qn.reverse(),qn}function ti(ae,Kt,te){var Oe=(Kt-ae)/Math.max(0,te),Ze=Math.floor(Math.log(Oe)/Math.LN10),An=Oe/Math.pow(10,Ze);return Ze>=0?(An>=La?10:An>=Yr?5:An>=Ea?2:1)*Math.pow(10,Ze):-Math.pow(10,-Ze)/(An>=La?10:An>=Yr?5:An>=Ea?2:1)}function $r(ae,Kt,te){var Oe;return te==="ceil"?Oe=Math.ceil(ae/Kt):te==="floor"?Oe=Math.floor(ae/Kt):Oe=Math.round(ae/Kt),Oe*Kt}function ui(ae,Kt,te){var Oe=$r(ae,te,"floor"),Ze=$r(Kt,te,"ceil");Oe=Object(i.fixedBase)(Oe,te),Ze=Object(i.fixedBase)(Ze,te);for(var An=[],qn=Oe;qn<=Ze;qn=qn+te){var rr=Object(i.fixedBase)(qn,te);An.push(rr)}return{min:Oe,max:Ze,ticks:An}}function li(ae,Kt,te){var Oe,Ze=ae.minLimit,An=ae.maxLimit,qn=ae.min,rr=ae.max,tn=ae.tickCount,sn=tn===void 0?5:tn,un=Object(i.isNil)(Ze)?Object(i.isNil)(Kt)?qn:Kt:Ze,ur=Object(i.isNil)(An)?Object(i.isNil)(te)?rr:te:An;if(un>ur&&(Oe=[un,ur],ur=Oe[0],un=Oe[1]),sn<=2)return[un,ur];for(var jr=(ur-un)/(sn-1),wr=[],yr=0;yr<sn;yr++)wr.push(un+jr*yr);return wr}function xi(ae){var Kt=ae.min,te=ae.max,Oe=ae.tickInterval,Ze=ae.minLimit,An=ae.maxLimit,qn=oa(ae);return!Object(i.isNil)(Ze)||!Object(i.isNil)(An)?li(ae,Object(i.head)(qn),Object(i.last)(qn)):Oe?ui(Kt,te,Oe).ticks:qn}function Ci(ae){var Kt=ae.min,te=ae.max,Oe=ae.tickCount,Ze=ae.nice,An=ae.tickInterval,qn=ae.minLimit,rr=ae.maxLimit,tn=Ki(Kt,te,Oe,Ze).ticks;return!Object(i.isNil)(qn)||!Object(i.isNil)(rr)?li(ae,Object(i.head)(tn),Object(i.last)(tn)):An?ui(Kt,te,An).ticks:tn}function di(ae){var Kt=ae.base,te=ae.tickCount,Oe=ae.min,Ze=ae.max,An=ae.values,qn,rr=Vt(Kt,Ze);if(Oe>0)qn=Math.floor(Vt(Kt,Oe));else{var tn=Ht(An,Kt,Ze);qn=Math.floor(Vt(Kt,tn))}for(var sn=rr-qn,un=Math.ceil(sn/te),ur=[],jr=qn;jr<rr+un;jr=jr+un)ur.push(Math.pow(Kt,jr));return Oe<=0&&ur.unshift(0),ur}function Ti(ae,Kt,te){te===void 0&&(te=5);var Oe={max:0,min:0,ticks:[]};if(ae===Kt)return{max:Kt,min:ae,ticks:[ae]};var Ze=1.5,An=.5+1.5*Ze,qn=Kt-ae,rr=qn/te,tn=Math.pow(10,Math.floor(Math.log10(rr))),sn=tn<1?Math.ceil(Math.abs(Math.log10(tn))):0,un=tn;2*tn-rr<Ze*(rr-un)&&(un=2*tn,5*tn-rr<An*(rr-un)&&(un=5*tn,10*tn-rr<Ze*(rr-un)&&(un=10*tn)));var ur=Math.ceil(Kt/un),jr=Math.floor(ae/un);Oe.max=Math.max(ur*un,Kt),Oe.min=Math.min(jr*un,ae);for(var wr=Number.parseFloat((jr*un).toFixed(sn));wr<Kt;)Oe.ticks.push(wr),wr+=un,sn&&(wr=Number.parseFloat(wr.toFixed(sn)));return Oe.ticks.push(wr),Oe}function pi(ae){var Kt=ae.exponent,te=ae.tickCount,Oe=Math.ceil(Tt(Kt,ae.max)),Ze=Math.floor(Tt(Kt,ae.min)),An=Ti(Ze,Oe,te).ticks;return An.map(function(qn){var rr=qn>=0?1:-1;return Math.pow(qn,Kt)*rr})}function Ni(ae,Kt){var te=ae.length*Kt;return Kt===1?ae[ae.length-1]:Kt===0?ae[0]:te%1!=0?ae[Math.ceil(te)-1]:ae.length%2==0?(ae[te-1]+ae[te])/2:ae[te]}function Bi(ae){var Kt=ae.tickCount,te=ae.values;if(!te||!te.length)return[];for(var Oe=te.slice().sort(function(rr,tn){return rr-tn}),Ze=[],An=0;An<Kt;An++){var qn=An/(Kt-1);Ze.push(Ni(Oe,qn))}return Ze}function Fi(ae){var Kt=ae.min,te=ae.max,Oe=ae.tickCount,Ze=ae.tickInterval,An=ae.minLimit,qn=ae.maxLimit,rr=Ti(Kt,te,Oe).ticks;return!Object(i.isNil)(An)||!Object(i.isNil)(qn)?li(ae,Object(i.head)(rr),Object(i.last)(rr)):Ze?ui(Kt,te,Ze).ticks:rr}function ma(ae){var Kt=ae.min,te=ae.max,Oe=ae.minTickInterval,Ze=ae.tickInterval,An=ae.tickCount;if(Ze)An=Math.ceil((te-Kt)/Ze);else{Ze=Mt(Kt,te,An)[1];var qn=(te-Kt)/Ze,rr=qn/An;rr>1&&(Ze=Ze*Math.ceil(rr)),Oe&&Ze<Oe&&(Ze=Oe)}for(var tn=[],sn=Kt;sn<te+Ze;sn+=Ze)tn.push(sn);return tn}function ua(ae){var Kt=fa(ae),te=Object(i.last)(ae.values);return te!==Object(i.last)(Kt)&&Kt.push(te),Kt}function Ra(ae){return new Date(ae).getFullYear()}function xa(ae){return new Date(ae,0,1).getTime()}function Ma(ae){return new Date(ae).getMonth()}function Qi(ae,Kt){var te=Ra(ae),Oe=Ra(Kt),Ze=Ma(ae),An=Ma(Kt);return(Oe-te)*12+(An-Ze)%12}function ka(ae,Kt){return new Date(ae,Kt,1).getTime()}function vo(ae,Kt){return Math.ceil((Kt-ae)/W)}function za(ae,Kt){return Math.ceil((Kt-ae)/B)}function Ga(ae,Kt){return Math.ceil((Kt-ae)/(60*1e3))}function eo(ae){var Kt=ae.min,te=ae.max,Oe=ae.minTickInterval,Ze=ae.tickCount,An=ae.tickInterval,qn=[];An||(An=(te-Kt)/Ze,Oe&&An<Oe&&(An=Oe));var rr=Ra(Kt);if(An>st)for(var tn=Ra(te),sn=Math.ceil(An/st),un=rr;un<=tn+sn;un=un+sn)qn.push(xa(un));else if(An>rt)for(var ur=Math.ceil(An/rt),jr=Ma(Kt),wr=Qi(Kt,te),un=0;un<=wr+ur;un=un+ur)qn.push(ka(rr,un+jr));else if(An>W)for(var yr=new Date(Kt),ni=yr.getFullYear(),_r=yr.getMonth(),Fr=yr.getDate(),Lr=Math.ceil(An/W),Gr=vo(Kt,te),un=0;un<Gr+Lr;un=un+Lr)qn.push(new Date(ni,_r,Fr+un).getTime());else if(An>B)for(var yr=new Date(Kt),ni=yr.getFullYear(),_r=yr.getMonth(),Lr=yr.getDate(),Hr=yr.getHours(),ei=Math.ceil(An/B),Kr=za(Kt,te),un=0;un<=Kr+ei;un=un+ei)qn.push(new Date(ni,_r,Lr,Hr+un).getTime());else if(An>y)for(var Qr=Ga(Kt,te),Oi=Math.ceil(An/y),un=0;un<=Qr+Oi;un=un+Oi)qn.push(Kt+un*y);else{var Ri=An;Ri<p&&(Ri=p);for(var Ei=Math.floor(Kt/p)*p,Gi=Math.ceil((te-Kt)/p),ca=Math.ceil(Ri/p),un=0;un<Gi+ca;un=un+ca)qn.push(Ei+un*p)}return qn.length>=512&&console.warn("Notice: current ticks length("+qn.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+An+") is too small, increase the value to solve the problem!"),qn}n("cat",fa),n("time-cat",ua),n("wilkinson-extended",Ci),n("r-pretty",Fi),n("time",ma),n("time-pretty",eo),n("log",di),n("pow",pi),n("quantile",Bi),n("d3-linear",xi),Nn("cat",w),Nn("category",w),Nn("identity",ir),Nn("linear",zt),Nn("log",pe),Nn("pow",Ee),Nn("time",Je),Nn("timeCat",xt),Nn("quantize",gn),Nn("quantile",kn)},"96lr":function(qe,Pt,E){"use strict";var Y=E("AA7f"),i=E("iTfj"),b=E("Qci9"),t=function(n){Object(Y.b)(u,n);function u(){return n!==null&&n.apply(this,arguments)||this}return u.prototype.process=function(g){var x=i.flatten(g),c=this,w=c.xField,I=c.yField,m=this.getXValuesMaxMap(x),r=Math.max.apply(Math,Object.keys(m).map(function(s){return m[s]}));return i.map(g,function(s){return i.map(s,function(d){var C,S,A=d[I],f=d[w];if(i.isArray(A)){var O=(r-m[f])/2;return Object(Y.a)(Object(Y.a)({},d),(C={},C[I]=i.map(A,function(D){return O+D}),C))}var j=(r-A)/2;return Object(Y.a)(Object(Y.a)({},d),(S={},S[I]=[j,A+j],S))})})},u.prototype.getXValuesMaxMap=function(g){var x=this,c=this,w=c.xField,I=c.yField,m=i.groupBy(g,function(r){return r[w]});return i.mapValues(m,function(r){return x.getDimMaxValue(r,I)})},u.prototype.getDimMaxValue=function(g,x){var c=i.map(g,function(I){return i.get(I,x,[])}),w=i.flatten(c);return Math.max.apply(Math,w)},u}(b.a);Pt.a=t},"9eUa":function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return g}),E.d(Pt,"d",function(){return x}),E.d(Pt,"b",function(){return c}),E.d(Pt,"c",function(){return I}),E.d(Pt,"e",function(){return s}),E.d(Pt,"h",function(){return d}),E.d(Pt,"f",function(){return S}),E.d(Pt,"g",function(){return A});var Y=E("iTfj"),i=E("r0DC"),b=E("nCnq"),t=E("cyZq"),n=E("nycV"),u={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function g(f,O){var j=O.attr();for(var D in j){var V=j[D],H=u[D]?u[D]:D;H==="matrix"&&V?f.transform(V[0],V[1],V[3],V[4],V[6],V[7]):H==="lineDash"&&f.setLineDash?Object(Y.isArray)(V)&&f.setLineDash(V):(H==="strokeStyle"||H==="fillStyle"?V=Object(i.b)(f,O,V):H==="globalAlpha"&&(V=V*f.globalAlpha),f[H]=V)}}function x(f,O,j){for(var D=0;D<O.length;D++){var V=O[D];V.cfg.visible?V.draw(f,j):V.skipDraw()}}function c(f,O,j){var D=f.get("refreshElements");Object(Y.each)(D,function(V){if(V!==f)for(var H=V.cfg.parent;H&&H!==f&&!H.cfg.refresh;)H.cfg.refresh=!0,H=H.cfg.parent}),D[0]===f?m(O,j):w(O,j)}function w(f,O){for(var j=0;j<f.length;j++){var D=f[j];if(D.cfg.visible)if(D.cfg.hasChanged)D.cfg.refresh=!0,D.isGroup()&&m(D.cfg.children,O);else if(D.cfg.refresh)D.isGroup()&&w(D.cfg.children,O);else{var V=r(D,O);D.cfg.refresh=V,V&&D.isGroup()&&w(D.cfg.children,O)}}}function I(f){for(var O=0;O<f.length;O++){var j=f[O];j.cfg.hasChanged=!1,j.isGroup()&&!j.destroyed&&I(j.cfg.children)}}function m(f,O){for(var j=0;j<f.length;j++){var D=f[j];D.cfg.refresh=!0,D.isGroup()&&m(D.get("children"),O)}}function r(f,O){var j=f.cfg.cacheCanvasBBox,D=f.cfg.isInView&&j&&Object(t.f)(j,O);return D}function s(f,O,j,D){var V=j.path,H=j.startArrow,$=j.endArrow;if(!!V){var dt=[0,0],Z=[0,0],ct={dx:0,dy:0};O.beginPath();for(var pt=0;pt<V.length;pt++){var gt=V[pt],at=gt[0];if(pt===0&&H&&H.d){var Bt=f.getStartTangent();ct=n.c(Bt[0][0],Bt[0][1],Bt[1][0],Bt[1][1],H.d)}else if(pt===V.length-2&&V[pt+1][0]==="Z"&&$&&$.d){var Lt=V[pt+1];if(Lt[0]==="Z"){var Bt=f.getEndTangent();ct=n.c(Bt[0][0],Bt[0][1],Bt[1][0],Bt[1][1],$.d)}}else if(pt===V.length-1&&$&&$.d&&V[0]!=="Z"){var Bt=f.getEndTangent();ct=n.c(Bt[0][0],Bt[0][1],Bt[1][0],Bt[1][1],$.d)}var Et=ct.dx,K=ct.dy;switch(at){case"M":O.moveTo(gt[1]-Et,gt[2]-K),Z=[gt[1],gt[2]];break;case"L":O.lineTo(gt[1]-Et,gt[2]-K);break;case"Q":O.quadraticCurveTo(gt[1],gt[2],gt[3]-Et,gt[4]-K);break;case"C":O.bezierCurveTo(gt[1],gt[2],gt[3],gt[4],gt[5]-Et,gt[6]-K);break;case"A":{var ft=void 0;D?(ft=D[pt],ft||(ft=Object(b.a)(dt,gt),D[pt]=ft)):ft=Object(b.a)(dt,gt);var mt=ft.cx,yt=ft.cy,wt=ft.rx,J=ft.ry,lt=ft.startAngle,it=ft.endAngle,_=ft.xRotation,P=ft.sweepFlag;if(O.ellipse)O.ellipse(mt,yt,wt,J,_,lt,it,1-P);else{var Q=wt>J?wt:J,k=wt>J?1:wt/J,p=wt>J?J/wt:1;O.translate(mt,yt),O.rotate(_),O.scale(k,p),O.arc(0,0,Q,lt,it,1-P),O.scale(1/k,1/p),O.rotate(-_),O.translate(-mt,-yt)}break}case"Z":O.closePath();break;default:break}if(at==="Z")dt=Z;else{var y=gt.length;dt=[gt[y-2],gt[y-1]]}}}}function d(f,O){var j=f.get("canvas");j&&(O==="remove"&&(f._cacheCanvasBBox=f.get("cacheCanvasBBox")),f.get("hasChanged")||(f.set("hasChanged",!0),f.cfg.parent&&f.cfg.parent.get("hasChanged")||(j.refreshElement(f,O,j),j.get("autoDraw")&&j.draw())))}function C(f){var O;if(f.destroyed)O=f._cacheCanvasBBox;else{var j=f.get("cacheCanvasBBox"),D=j&&!!(j.width&&j.height),V=f.getCanvasBBox(),H=V&&!!(V.width&&V.height);D&&H?O=Object(t.l)(j,V):D?O=j:H&&(O=V)}return O}function S(f){if(!f.length)return null;var O=[],j=[],D=[],V=[];return Object(Y.each)(f,function(H){var $=C(H);$&&(O.push($.minX),j.push($.minY),D.push($.maxX),V.push($.maxY))}),{minX:Math.min.apply(null,O),minY:Math.min.apply(null,j),maxX:Math.max.apply(null,D),maxY:Math.max.apply(null,V)}}function A(f,O){return!f||!O||!Object(t.f)(f,O)?null:{minX:Math.max(f.minX,O.minX),minY:Math.max(f.minY,O.minY),maxX:Math.min(f.maxX,O.maxX),maxY:Math.min(f.maxY,O.maxY)}}},"9yH6":function(qe,Pt,E){"use strict";var Y=E("rePB"),i=E("wx14"),b=E("q1tI"),t=E("x1Ya"),n=E("TSYQ"),u=E.n(n),g=E("c+Xe"),x=E("H84U"),c=b.createContext(null),w=c.Provider,I=c,m=E("uaoM"),r=function(Z,ct){var pt={};for(var gt in Z)Object.prototype.hasOwnProperty.call(Z,gt)&&ct.indexOf(gt)<0&&(pt[gt]=Z[gt]);if(Z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,gt=Object.getOwnPropertySymbols(Z);at<gt.length;at++)ct.indexOf(gt[at])<0&&Object.prototype.propertyIsEnumerable.call(Z,gt[at])&&(pt[gt[at]]=Z[gt[at]]);return pt},s=function(ct,pt){var gt,at=b.useContext(I),Bt=b.useContext(x.b),Lt=Bt.getPrefixCls,Et=Bt.direction,K=b.useRef(),ft=Object(g.a)(pt,K);b.useEffect(function(){Object(m.a)(!("optionType"in ct),"Radio","`optionType` is only support in Radio.Group.")},[]);var mt=function(p){ct.onChange&&ct.onChange(p),(at==null?void 0:at.onChange)&&at.onChange(p)},yt=ct.prefixCls,wt=ct.className,J=ct.children,lt=ct.style,it=r(ct,["prefixCls","className","children","style"]),_=Lt("radio",yt),P=Object(i.a)({},it);at&&(P.name=at.name,P.onChange=mt,P.checked=ct.value===at.value,P.disabled=ct.disabled||at.disabled);var Q=u()("".concat(_,"-wrapper"),(gt={},Object(Y.a)(gt,"".concat(_,"-wrapper-checked"),P.checked),Object(Y.a)(gt,"".concat(_,"-wrapper-disabled"),P.disabled),Object(Y.a)(gt,"".concat(_,"-wrapper-rtl"),Et==="rtl"),gt),wt);return b.createElement("label",{className:Q,style:lt,onMouseEnter:ct.onMouseEnter,onMouseLeave:ct.onMouseLeave},b.createElement(t.a,Object(i.a)({},P,{prefixCls:_,ref:ft})),J!==void 0?b.createElement("span",null,J):null)},d=b.forwardRef(s);d.displayName="Radio",d.defaultProps={type:"radio"};var C=d,S=E("ODXe"),A=E("6cGi"),f=E("3Nzz"),O=b.forwardRef(function(Z,ct){var pt=b.useContext(x.b),gt=pt.getPrefixCls,at=pt.direction,Bt=b.useContext(f.b),Lt=Object(A.a)(Z.defaultValue,{value:Z.value}),Et=Object(S.a)(Lt,2),K=Et[0],ft=Et[1],mt=function(J){var lt=K,it=J.target.value;"value"in Z||ft(it);var _=Z.onChange;_&&it!==lt&&_(J)},yt=function(){var J,lt=Z.prefixCls,it=Z.className,_=it===void 0?"":it,P=Z.options,Q=Z.optionType,k=Z.buttonStyle,p=k===void 0?"outline":k,y=Z.disabled,B=Z.children,W=Z.size,rt=Z.style,st=Z.id,ut=Z.onMouseEnter,Mt=Z.onMouseLeave,bt=gt("radio",lt),xt="".concat(bt,"-group"),Ot=B;if(P&&P.length>0){var jt=Q==="button"?"".concat(bt,"-button"):bt;Ot=P.map(function(Tt){return typeof Tt=="string"?b.createElement(C,{key:Tt,prefixCls:jt,disabled:y,value:Tt,checked:K===Tt},Tt):b.createElement(C,{key:"radio-group-value-options-".concat(Tt.value),prefixCls:jt,disabled:Tt.disabled||y,value:Tt.value,checked:K===Tt.value,style:Tt.style},Tt.label)})}var Dt=W||Bt,zt=u()(xt,"".concat(xt,"-").concat(p),(J={},Object(Y.a)(J,"".concat(xt,"-").concat(Dt),Dt),Object(Y.a)(J,"".concat(xt,"-rtl"),at==="rtl"),J),_);return b.createElement("div",{className:zt,style:rt,onMouseEnter:ut,onMouseLeave:Mt,id:st,ref:ct},Ot)};return b.createElement(w,{value:{onChange:mt,value:K,disabled:Z.disabled,name:Z.name}},yt())}),j=b.memo(O),D=function(Z,ct){var pt={};for(var gt in Z)Object.prototype.hasOwnProperty.call(Z,gt)&&ct.indexOf(gt)<0&&(pt[gt]=Z[gt]);if(Z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,gt=Object.getOwnPropertySymbols(Z);at<gt.length;at++)ct.indexOf(gt[at])<0&&Object.prototype.propertyIsEnumerable.call(Z,gt[at])&&(pt[gt[at]]=Z[gt[at]]);return pt},V=function(ct,pt){var gt=b.useContext(I),at=b.useContext(x.b),Bt=at.getPrefixCls,Lt=ct.prefixCls,Et=D(ct,["prefixCls"]),K=Bt("radio-button",Lt);return gt&&(Et.checked=ct.value===gt.value,Et.disabled=ct.disabled||gt.disabled),b.createElement(C,Object(i.a)({prefixCls:K},Et,{type:"radio",ref:pt}))},H=b.forwardRef(V),$=C;$.Button=H,$.Group=j;var dt=Pt.a=$},A90E:function(qe,Pt,E){var Y=E("6sVZ"),i=E("V6Ve"),b=Object.prototype,t=b.hasOwnProperty;function n(u){if(!Y(u))return i(u);var g=[];for(var x in Object(u))t.call(u,x)&&x!="constructor"&&g.push(x);return g}qe.exports=n},AA7f:function(qe,Pt,E){"use strict";E.d(Pt,"b",function(){return i}),E.d(Pt,"a",function(){return b});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Y=function(dt,Z){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ct,pt){ct.__proto__=pt}||function(ct,pt){for(var gt in pt)pt.hasOwnProperty(gt)&&(ct[gt]=pt[gt])},Y(dt,Z)};function i($,dt){Y($,dt);function Z(){this.constructor=$}$.prototype=dt===null?Object.create(dt):(Z.prototype=dt.prototype,new Z)}var b=function(){return b=Object.assign||function(Z){for(var ct,pt=1,gt=arguments.length;pt<gt;pt++){ct=arguments[pt];for(var at in ct)Object.prototype.hasOwnProperty.call(ct,at)&&(Z[at]=ct[at])}return Z},b.apply(this,arguments)};function t($,dt){var Z={};for(var ct in $)Object.prototype.hasOwnProperty.call($,ct)&&dt.indexOf(ct)<0&&(Z[ct]=$[ct]);if($!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,ct=Object.getOwnPropertySymbols($);pt<ct.length;pt++)dt.indexOf(ct[pt])<0&&Object.prototype.propertyIsEnumerable.call($,ct[pt])&&(Z[ct[pt]]=$[ct[pt]]);return Z}function n($,dt,Z,ct){var pt=arguments.length,gt=pt<3?dt:ct===null?ct=Object.getOwnPropertyDescriptor(dt,Z):ct,at;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")gt=Reflect.decorate($,dt,Z,ct);else for(var Bt=$.length-1;Bt>=0;Bt--)(at=$[Bt])&&(gt=(pt<3?at(gt):pt>3?at(dt,Z,gt):at(dt,Z))||gt);return pt>3&&gt&&Object.defineProperty(dt,Z,gt),gt}function u($,dt){return function(Z,ct){dt(Z,ct,$)}}function g($,dt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata($,dt)}function x($,dt,Z,ct){function pt(gt){return gt instanceof Z?gt:new Z(function(at){at(gt)})}return new(Z||(Z=Promise))(function(gt,at){function Bt(K){try{Et(ct.next(K))}catch(ft){at(ft)}}function Lt(K){try{Et(ct.throw(K))}catch(ft){at(ft)}}function Et(K){K.done?gt(K.value):pt(K.value).then(Bt,Lt)}Et((ct=ct.apply($,dt||[])).next())})}function c($,dt){var Z={label:0,sent:function(){if(gt[0]&1)throw gt[1];return gt[1]},trys:[],ops:[]},ct,pt,gt,at;return at={next:Bt(0),throw:Bt(1),return:Bt(2)},typeof Symbol=="function"&&(at[Symbol.iterator]=function(){return this}),at;function Bt(Et){return function(K){return Lt([Et,K])}}function Lt(Et){if(ct)throw new TypeError("Generator is already executing.");for(;Z;)try{if(ct=1,pt&&(gt=Et[0]&2?pt.return:Et[0]?pt.throw||((gt=pt.return)&&gt.call(pt),0):pt.next)&&!(gt=gt.call(pt,Et[1])).done)return gt;switch(pt=0,gt&&(Et=[Et[0]&2,gt.value]),Et[0]){case 0:case 1:gt=Et;break;case 4:return Z.label++,{value:Et[1],done:!1};case 5:Z.label++,pt=Et[1],Et=[0];continue;case 7:Et=Z.ops.pop(),Z.trys.pop();continue;default:if(gt=Z.trys,!(gt=gt.length>0&&gt[gt.length-1])&&(Et[0]===6||Et[0]===2)){Z=0;continue}if(Et[0]===3&&(!gt||Et[1]>gt[0]&&Et[1]<gt[3])){Z.label=Et[1];break}if(Et[0]===6&&Z.label<gt[1]){Z.label=gt[1],gt=Et;break}if(gt&&Z.label<gt[2]){Z.label=gt[2],Z.ops.push(Et);break}gt[2]&&Z.ops.pop(),Z.trys.pop();continue}Et=dt.call($,Z)}catch(K){Et=[6,K],pt=0}finally{ct=gt=0}if(Et[0]&5)throw Et[1];return{value:Et[0]?Et[1]:void 0,done:!0}}}function w($,dt,Z,ct){ct===void 0&&(ct=Z),$[ct]=dt[Z]}function I($,dt){for(var Z in $)Z!=="default"&&!dt.hasOwnProperty(Z)&&(dt[Z]=$[Z])}function m($){var dt=typeof Symbol=="function"&&Symbol.iterator,Z=dt&&$[dt],ct=0;if(Z)return Z.call($);if($&&typeof $.length=="number")return{next:function(){return $&&ct>=$.length&&($=void 0),{value:$&&$[ct++],done:!$}}};throw new TypeError(dt?"Object is not iterable.":"Symbol.iterator is not defined.")}function r($,dt){var Z=typeof Symbol=="function"&&$[Symbol.iterator];if(!Z)return $;var ct=Z.call($),pt,gt=[],at;try{for(;(dt===void 0||dt-- >0)&&!(pt=ct.next()).done;)gt.push(pt.value)}catch(Bt){at={error:Bt}}finally{try{pt&&!pt.done&&(Z=ct.return)&&Z.call(ct)}finally{if(at)throw at.error}}return gt}function s(){for(var $=[],dt=0;dt<arguments.length;dt++)$=$.concat(r(arguments[dt]));return $}function d(){for(var $=0,dt=0,Z=arguments.length;dt<Z;dt++)$+=arguments[dt].length;for(var ct=Array($),pt=0,dt=0;dt<Z;dt++)for(var gt=arguments[dt],at=0,Bt=gt.length;at<Bt;at++,pt++)ct[pt]=gt[at];return ct}function C($){return this instanceof C?(this.v=$,this):new C($)}function S($,dt,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct=Z.apply($,dt||[]),pt,gt=[];return pt={},at("next"),at("throw"),at("return"),pt[Symbol.asyncIterator]=function(){return this},pt;function at(mt){ct[mt]&&(pt[mt]=function(yt){return new Promise(function(wt,J){gt.push([mt,yt,wt,J])>1||Bt(mt,yt)})})}function Bt(mt,yt){try{Lt(ct[mt](yt))}catch(wt){ft(gt[0][3],wt)}}function Lt(mt){mt.value instanceof C?Promise.resolve(mt.value.v).then(Et,K):ft(gt[0][2],mt)}function Et(mt){Bt("next",mt)}function K(mt){Bt("throw",mt)}function ft(mt,yt){mt(yt),gt.shift(),gt.length&&Bt(gt[0][0],gt[0][1])}}function A($){var dt,Z;return dt={},ct("next"),ct("throw",function(pt){throw pt}),ct("return"),dt[Symbol.iterator]=function(){return this},dt;function ct(pt,gt){dt[pt]=$[pt]?function(at){return(Z=!Z)?{value:C($[pt](at)),done:pt==="return"}:gt?gt(at):at}:gt}}function f($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt=$[Symbol.asyncIterator],Z;return dt?dt.call($):($=typeof m=="function"?m($):$[Symbol.iterator](),Z={},ct("next"),ct("throw"),ct("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function ct(gt){Z[gt]=$[gt]&&function(at){return new Promise(function(Bt,Lt){at=$[gt](at),pt(Bt,Lt,at.done,at.value)})}}function pt(gt,at,Bt,Lt){Promise.resolve(Lt).then(function(Et){gt({value:Et,done:Bt})},at)}}function O($,dt){return Object.defineProperty?Object.defineProperty($,"raw",{value:dt}):$.raw=dt,$}function j($){if($&&$.__esModule)return $;var dt={};if($!=null)for(var Z in $)Object.hasOwnProperty.call($,Z)&&(dt[Z]=$[Z]);return dt.default=$,dt}function D($){return $&&$.__esModule?$:{default:$}}function V($,dt){if(!dt.has($))throw new TypeError("attempted to get private field on non-instance");return dt.get($)}function H($,dt,Z){if(!dt.has($))throw new TypeError("attempted to set private field on non-instance");return dt.set($,Z),Z}},APlK:function(qe,Pt,E){"use strict";E.d(Pt,"b",function(){return i}),E.d(Pt,"c",function(){return b}),E.d(Pt,"a",function(){return t});var Y=E("c+wO");function i(n,u){var g=n.cfg.el,x=n.attr(),c={dx:x.shadowOffsetX,dy:x.shadowOffsetY,blur:x.shadowBlur,color:x.shadowColor};if(!c.dx&&!c.dy&&!c.blur&&!c.color)g.removeAttribute("filter");else{var w=u.find("filter",c);w||(w=u.addShadow(c)),g.setAttribute("filter","url(#"+w+")")}}function b(n){var u=n.attr().matrix;if(u){for(var g=n.cfg.el,x=[],c=0;c<9;c+=3)x.push(u[c]+","+u[c+1]);x=x.join(","),x.indexOf("NaN")===-1?g.setAttribute("transform","matrix("+x+")"):console.warn("invalid matrix:",u)}}function t(n,u){var g=n.getClip(),x=n.get("el");if(!g)x.removeAttribute("clip-path");else if(g&&!x.hasAttribute("clip-path")){Object(Y.a)(g),g.createPath(u);var c=u.addClip(g);x.setAttribute("clip-path","url(#"+c+")")}}},"B+CY":function(qe,Pt){},B0vJ:function(qe,Pt){},"B2d+":function(qe,Pt){},B3DA:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return b});var Y=E("iTfj"),i=E("F/eT");function b(t){var n=Object(Y.clamp)(Object(i.a)(t)?t:0,0,1);return[{type:"current",percent:n},{type:"target",percent:1-n}]}},"B6l+":function(qe,Pt,E){var Y=E("Sq3C"),i=E("Z1HP"),b=E("Sxd8"),t=E("dt0z");function n(u,g,x){u=t(u),g=b(g);var c=g?i(u):0;return g&&c<g?u+Y(g-c,x):u}qe.exports=n},B8du:function(qe,Pt){function E(){return!1}qe.exports=E},BYeR:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return s});var Y=E("mrSG"),i=E("zJSt"),b=E("YuPD"),t=E("iTfj"),n=E("w02o"),u=E("tKoa");function g(d){var C=d.data,S=d.xField,A=d.measureField,f=d.rangeField,O=d.targetField,j=d.layout,D=[],V=[];C.forEach(function(dt,Z){var ct;dt[f].sort(function(pt,gt){return pt-gt}),dt[f].forEach(function(pt,gt){var at,Bt=gt===0?pt:dt[f][gt]-dt[f][gt-1];D.push((at={rKey:f+"_"+gt},at[S]=S?dt[S]:String(Z),at[f]=Bt,at))}),dt[A].forEach(function(pt,gt){var at;D.push((at={mKey:dt[A].length>1?A+"_"+gt:""+A},at[S]=S?dt[S]:String(Z),at[A]=pt,at))}),D.push((ct={tKey:""+O},ct[S]=S?dt[S]:String(Z),ct[O]=dt[O],ct)),V.push(dt[f],dt[A],dt[O])});var H=Math.min.apply(Math,V.flat(Infinity)),$=Math.max.apply(Math,V.flat(Infinity));return H=H>0?0:H,j==="vertical"&&D.reverse(),{min:H,max:$,ds:D}}function x(d){var C=d.chart,S=d.options,A=S.bulletStyle,f=S.targetField,O=S.rangeField,j=S.measureField,D=S.xField,V=S.color,H=S.layout,$=S.size,dt=S.label,Z=g(S),ct=Z.min,pt=Z.max,gt=Z.ds;C.data(gt);var at=Object(b.b)({},d,{options:{xField:D,yField:O,seriesField:"rKey",isStack:!0,label:Object(t.get)(dt,"range"),interval:{color:Object(t.get)(V,"range"),style:Object(t.get)(A,"range"),size:Object(t.get)($,"range")}}});Object(u.c)(at),C.geometries[0].tooltip(!1);var Bt=Object(b.b)({},d,{options:{xField:D,yField:j,seriesField:"mKey",isStack:!0,label:Object(t.get)(dt,"measure"),interval:{color:Object(t.get)(V,"measure"),style:Object(t.get)(A,"measure"),size:Object(t.get)($,"measure")}}});Object(u.c)(Bt);var Lt=Object(b.b)({},d,{options:{xField:D,yField:f,seriesField:"tKey",label:Object(t.get)(dt,"target"),point:{color:Object(t.get)(V,"target"),style:Object(t.get)(A,"target"),size:Object(t.get)($,"target")/2,shape:H==="horizontal"?"line":"hyphen"}}});return Object(u.e)(Lt),H==="horizontal"&&C.coordinate().transpose(),Object(Y.a)(Object(Y.a)({},d),{ext:{data:{min:ct,max:pt}}})}function c(d){var C,S,A=d.options,f=d.ext,O=A.xAxis,j=A.yAxis,D=A.targetField,V=A.rangeField,H=A.measureField,$=A.xField,dt=f.data;return Object(b.e)(Object(n.f)((C={},C[$]=O,C[H]=j,C),(S={},S[H]={min:dt==null?void 0:dt.min,max:dt==null?void 0:dt.max},S[D]={sync:""+H},S[V]={sync:""+H},S)))(d)}function w(d){var C=d.chart,S=d.options,A=S.xAxis,f=S.yAxis,O=S.xField,j=S.measureField,D=S.rangeField,V=S.targetField;return C.axis(""+D,!1),C.axis(""+V,!1),A===!1?C.axis(""+O,!1):C.axis(""+O,A),f===!1?C.axis(""+j,!1):C.axis(""+j,f),d}function I(d){var C=d.chart,S=d.options,A=S.legend;return C.removeInteraction("legend-filter"),C.legend(A),C.legend("rKey",!1),C.legend("mKey",!1),C.legend("tKey",!1),d}function m(d){var C=d.chart,S=d.options,A=S.label,f=S.measureField,O=S.targetField,j=S.rangeField,D=C.geometries,V=D[0],H=D[1],$=D[2];return Object(t.get)(A,"range")?V.label(""+j,Object(Y.a)({layout:[{type:"limit-in-plot"}]},Object(b.o)(A.range))):V.label(!1),Object(t.get)(A,"measure")?H.label(""+f,Object(Y.a)({layout:[{type:"limit-in-plot"}]},Object(b.o)(A.measure))):H.label(!1),Object(t.get)(A,"target")?$.label(""+O,Object(Y.a)({layout:[{type:"limit-in-plot"}]},Object(b.o)(A.target))):$.label(!1),d}function r(d){Object(b.e)(x,c,w,I,n.j,m,n.k,n.c,n.a)(d)}var s=function(d){Object(Y.b)(C,d);function C(){var S=d!==null&&d.apply(this,arguments)||this;return S.type="bullet",S}return C.prototype.changeData=function(S){this.updateOption({data:S});var A=g(this.options),f=A.min,O=A.max,j=A.ds;c({options:this.options,ext:{data:{min:f,max:O}},chart:this.chart}),this.chart.changeData(j)},C.prototype.getSchemaAdaptor=function(){return r},C.prototype.getDefaultOptions=function(){return Object(b.b)({},d.prototype.getDefaultOptions.call(this),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}})},C}(i.a)},BgvD:function(qe,Pt,E){"use strict";E.d(Pt,"b",function(){return w}),E.d(Pt,"a",function(){return r});var Y=E("iTfj"),i="\u2026";function b(s){for(var d=0,C=0;C<s.length;C++)d+=t(s,C);return d}function t(s,d){return s.charCodeAt(d)>0&&s.charCodeAt(d)<128?1:2}function n(s,d,C){C===void 0&&(C="tail");var S=s.length,A="";if(C==="tail"){for(var f=0,O=0;f<d;){var j=t(s,O);if(f+j<=d)A+=s[O],f+=t(s,O),O++;else break}A+=i}else if(C==="head"){for(var f=0,O=S-1;f<d;){var j=t(s,O);if(f+j<=d)A+=s[O],f+=t(s,O),O--;else break}A=i+A}else{for(var D="",V="",f=0,H=0,$=S-1;f<d;){var dt=t(s,H),Z=!1;dt+f<=d&&(D+=s[H],H++,f+=dt,Z=!0);var ct=t(s,$);if(ct+f<=d&&(V=s[$]+V,f+=ct,$--,Z=!0),!Z)break}A=D+i+V}return A}var u="\u2026",g=2,x=400;function c(s){for(var d=s.map(function(D){var V=D.attr("text");return Object(Y.isNil)(V)?"":""+V}),C=0,S=0,A=0;A<d.length;A+=1){for(var f=0,O=0;O<=d[A].length;O+=1){var j=d[A].charCodeAt(O);j>=19968&&j<=40869?f+=2:f+=1}f>C&&(C=f,S=A)}return s[S].getBBox().width}function w(s){if(s.length>x)return c(s);var d=0;return Object(Y.each)(s,function(C){var S=C.getBBox(),A=S.width;d<A&&(d=A)}),d}function I(s,d){var C=d.getCanvasBBox();return s?C.width:C.height}function m(s,d){return s.getBBox().width<d}function r(s,d,C,S){S===void 0&&(S="tail");var A=d.attr("text"),f=I(s,d),O=b(A),j=!1;if(C<f){var D=Math.floor(C/f*O)-g,V=void 0;D>=0?V=n(A,D,S):V=u,V&&(d.attr("text",V),j=!0)}return j?d.set("tip",A):d.set("tip",null),j}},BwSJ:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return d});var Y=E("mrSG"),i=E("zJSt"),b=E("YuPD"),t=E("iTfj");function n(C,S){var A=Math.floor(C/S);return[S*A,S*(A+1)]}function u(C){return Math.ceil(Math.log(C.length)/Math.LN2)+1}function g(C,S,A,f,O){var j=Object(t.clone)(C);Object(t.sortBy)(j,S);var D=Object(t.valuesOfKey)(j,S),V=Object(t.getRange)(D),H=V.max-V.min,$=A;if(!A&&f&&($=H/f),!A&&!f){var dt=u(D);$=H/dt}var Z={},ct=Object(t.groupBy)(j,O);Object(t.isEmpty)(ct)?Object(t.each)(j,function(gt){var at=gt[S],Bt=n(at,$),Lt=Bt[0]+"-"+Bt[1];Object(t.hasKey)(Z,Lt)||(Z[Lt]={range:Bt,count:0}),Z[Lt].count+=1}):Object.keys(ct).forEach(function(gt){Object(t.each)(ct[gt],function(at){var Bt=at[S],Lt=n(Bt,$),Et=Lt[0]+"-"+Lt[1],K=Et+"-"+gt;Object(t.hasKey)(Z,K)||(Z[K]={range:Lt,count:0},Z[K][O]=gt),Z[K].count+=1})});var pt=[];return Object(t.each)(Z,function(gt){pt.push(gt)}),pt}var x=E("w02o"),c=E("tKoa");function w(C){var S=C.chart,A=C.options,f=A.data,O=A.binField,j=A.binNumber,D=A.binWidth,V=A.color,H=A.stackField,$=A.legend,dt=A.columnStyle,Z=g(f,O,D,j,H);S.data(Z);var ct=Object(b.b)({},C,{options:{xField:"range",yField:"count",seriesField:H,isStack:!0,interval:{color:V,style:dt}}});return Object(c.c)(ct),$&&H&&S.legend(H,$),C}function I(C){var S=C.options,A=S.xAxis,f=S.yAxis;return Object(b.e)(Object(x.f)({range:A,count:f}))(C)}function m(C){var S=C.chart,A=C.options,f=A.xAxis,O=A.yAxis;return f===!1?S.axis("range",!1):S.axis("range",f),O===!1?S.axis("count",!1):S.axis("count",O),C}function r(C){var S=C.chart,A=C.options,f=A.label,O=Object(b.c)(S,"interval");if(!f)O.label(!1);else{var j=f.callback,D=Object(Y.c)(f,["callback"]);O.label({fields:["count"],callback:j,cfg:Object(b.o)(D)})}return C}function s(C){return Object(b.e)(w,I,m,x.j,r,x.k,x.c,x.a)(C)}var d=function(C){Object(Y.b)(S,C);function S(){var A=C!==null&&C.apply(this,arguments)||this;return A.type="histogram",A}return S.prototype.changeData=function(A){this.updateOption({data:A});var f=this.options,O=f.binField,j=f.binNumber,D=f.binWidth,V=f.stackField;this.chart.changeData(g(A,O,D,j,V))},S.prototype.getDefaultOptions=function(){return Object(b.b)({},C.prototype.getDefaultOptions.call(this),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]})},S.prototype.getSchemaAdaptor=function(){return s},S}(i.a)},CBiR:function(qe,Pt,E){"use strict";Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.getReplaceAttrs=Pt.getPolygonCentroid=Pt.getAngle=Pt.getArcPath=Pt.getSectorPath=Pt.polarToCartesian=void 0;var Y=E("iTfj");function i(c){if(Y.isEmpty(c))return null;var w=c[0].x,I=c[0].x,m=c[0].y,r=c[0].y;return Y.each(c,function(s){w=w>s.x?s.x:w,I=I<s.x?s.x:I,m=m>s.y?s.y:m,r=r<s.y?s.y:r}),{minX:w,maxX:I,minY:m,maxY:r,centerX:(w+I)/2,centerY:(m+r)/2}}function b(c,w,I,m){return{x:c+I*Math.cos(m),y:w+I*Math.sin(m)}}Pt.polarToCartesian=b;function t(c,w,I,m,r,s){s===void 0&&(s=0);var d=b(c,w,I,m),C=b(c,w,I,r),S=b(c,w,s,m),A=b(c,w,s,r);if(r-m==Math.PI*2){var f=b(c,w,I,m+Math.PI),O=b(c,w,s,m+Math.PI),j=[["M",d.x,d.y],["A",I,I,0,1,1,f.x,f.y],["A",I,I,0,1,1,C.x,C.y],["M",S.x,S.y]];return s&&(j.push(["A",s,s,0,1,0,O.x,O.y]),j.push(["A",s,s,0,1,0,A.x,A.y])),j.push(["M",d.x,d.y]),j.push(["Z"]),j}var D=r-m<=Math.PI?0:1,V=[["M",d.x,d.y],["A",I,I,0,D,1,C.x,C.y],["L",A.x,A.y]];return s&&V.push(["A",s,s,0,D,0,S.x,S.y]),V.push(["L",d.x,d.y]),V.push(["Z"]),V}Pt.getSectorPath=t;function n(c,w,I,m,r){var s=b(c,w,I,m),d=b(c,w,I,r);if(Y.isNumberEqual(r-m,Math.PI*2)){var C=b(c,w,I,m+Math.PI);return[["M",s.x,s.y],["A",I,I,0,1,1,C.x,C.y],["A",I,I,0,1,1,s.x,s.y],["A",I,I,0,1,0,C.x,C.y],["A",I,I,0,1,0,s.x,s.y],["Z"]]}var S=r-m<=Math.PI?0:1;return[["M",s.x,s.y],["A",I,I,0,S,1,d.x,d.y]]}Pt.getArcPath=n;function u(c,w){var I=c.points,m=i(I),r,s,d=w.startAngle,C=w.endAngle,S=C-d;return w.isTransposed?(r=m.maxY*S,s=m.minY*S):(r=m.maxX*S,s=m.minX*S),r+=d,s+=d,{startAngle:s,endAngle:r}}Pt.getAngle=u;function g(c,w){if(Y.isNumber(c)&&Y.isNumber(w))return[c,w];for(var I=-1,m=0,r=0,s,d=c.length-1,C,S=0;++I<c.length;)s=d,d=I,S+=C=c[s]*w[d]-c[d]*w[s],m+=(c[s]+c[d])*C,r+=(w[s]+w[d])*C;return S*=3,[m/S,r/S]}Pt.getPolygonCentroid=g;function x(c,w){var I=c.attr(),m=w.attr();return Y.each(I,function(r,s){m[s]===void 0&&(m[s]=void 0)}),m}Pt.getReplaceAttrs=x},CH3K:function(qe,Pt){function E(Y,i){for(var b=-1,t=i.length,n=Y.length;++b<t;)Y[n+b]=i[b];return Y}qe.exports=E},CSvP:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return Y});function Y(){return 0}Pt.b=function(i){return function(){return i}}},"Ch+T":function(qe,Pt,E){"use strict";E.r(Pt),E.d(Pt,"Html",function(){return C});var Y=E("mrSG"),i=E("6UX8"),b=E("fIp6"),t=E("iTfj"),n=E("de35"),u=E("5UbV"),g=E("u60a"),x=E("L16w"),c,w=(c={},c[""+g.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:x.a.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},c[""+g.TITLE_CLASS]={marginBottom:"4px"},c[""+g.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},c[""+g.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},c[""+g.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},c[""+g.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},c[""+g.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},c[""+g.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},c);function I(S,A,f,O,j){var D={left:S<j.x,right:S+f>j.x+j.width,top:A<j.y,bottom:A+O>j.y+j.height};return D}function m(S,A,f,O,j,D){var V=S,H=A;switch(D){case"left":V=S-O-f,H=A-j/2;break;case"right":V=S+f,H=A-j/2;break;case"top":V=S-O/2,H=A-j-f;break;case"bottom":V=S-O/2,H=A+f;break;default:V=S+f,H=A-j-f;break}return{x:V,y:H}}function r(S,A,f,O,j,D,V){var H=m(S,A,f,O,j,D);if(V){var $=I(H.x,H.y,O,j,V);D==="auto"?($.right&&(H.x=Math.max(0,S-O-f)),$.top&&(H.y=Math.max(0,A-j-f))):D==="top"||D==="bottom"?($.left&&(H.x=V.x),$.right&&(H.x=V.x+V.width-O),D==="top"&&$.top&&(H.y=A+f),D==="bottom"&&$.bottom&&(H.y=A-j-f)):($.top&&(H.y=V.y),$.bottom&&(H.y=V.y+V.height-j),D==="left"&&$.left&&(H.x=S+f),D==="right"&&$.right&&(H.x=S-O-f))}return H}function s(S,A){var f=!1;return Object(t.each)(A,function(O){if(Object(t.hasKey)(S,O))return f=!0,!1}),f}var d=function(S){Object(Y.b)(A,S);function A(){return S!==null&&S.apply(this,arguments)||this}return A.prototype.getDefaultCfg=function(){var f=S.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},f),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+g.CONTAINER_CLASS+'"><div class="'+g.TITLE_CLASS+'"></div><ul class="'+g.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+g.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+g.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+g.NAME_CLASS+`">{name}</span>:
          <span class="`+g.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+g.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+g.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:g.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:w})},A.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},A.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},A.prototype.show=function(){var f=this.getContainer();!f||this.destroyed||(this.set("visible",!0),Object(b.e)(f,{visibility:"visible"}),this.setCrossHairsVisible(!0))},A.prototype.hide=function(){var f=this.getContainer();!f||this.destroyed||(this.set("visible",!1),Object(b.e)(f,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},A.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},A.prototype.setLocation=function(f){this.set("x",f.x),this.set("y",f.y),this.resetPosition()},A.prototype.setCrossHairsVisible=function(f){var O=f?"":"none",j=this.get("xCrosshairDom"),D=this.get("yCrosshairDom");j&&Object(b.e)(j,{display:O}),D&&Object(b.e)(D,{display:O})},A.prototype.initContainer=function(){if(S.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var f=this.getHtmlContentNode();this.get("parent").appendChild(f),this.set("container",f),this.resetStyles(),this.applyStyles()}},A.prototype.updateInner=function(f){this.get("customContent")?this.renderCustomContent():(s(f,["title","showTitle"])&&this.resetTitle(),Object(t.hasKey)(f,"items")&&this.renderItems()),S.prototype.updateInner.call(this,f)},A.prototype.initDom=function(){this.cacheDoms()},A.prototype.removeDom=function(){S.prototype.removeDom.call(this),this.clearCrosshairs()},A.prototype.resetPosition=function(){var f=this.get("x"),O=this.get("y"),j=this.get("offset"),D=this.getOffset(),V=D.offsetX,H=D.offsetY,$=this.get("position"),dt=this.get("region"),Z=this.getContainer(),ct=this.getBBox(),pt=ct.width,gt=ct.height,at;dt&&(at=Object(u.k)(dt));var Bt=r(f,O,j,pt,gt,$,at);Object(b.e)(Z,{left:Object(u.l)(Bt.x+V),top:Object(u.l)(Bt.y+H)}),this.resetCrosshairs()},A.prototype.renderCustomContent=function(){var f=this.getHtmlContentNode(),O=this.get("parent"),j=this.get("container");j&&j.parentNode===O?O.replaceChild(f,j):O.appendChild(f),this.set("container",f),this.resetStyles(),this.applyStyles()},A.prototype.getHtmlContentNode=function(){var f,O=this.get("customContent");if(O){var j=O(this.get("title"),this.get("items"));Object(t.isElement)(j)?f=j:f=Object(b.b)(j)}return f},A.prototype.cacheDoms=function(){var f=this.getContainer(),O=f.getElementsByClassName(g.TITLE_CLASS)[0],j=f.getElementsByClassName(g.LIST_CLASS)[0];this.set("titleDom",O),this.set("listDom",j)},A.prototype.resetTitle=function(){var f=this.get("title"),O=this.get("showTitle");O&&f?this.setTitle(f):this.setTitle("")},A.prototype.setTitle=function(f){var O=this.get("titleDom");O&&(O.innerText=f)},A.prototype.resetCrosshairs=function(){var f=this.get("crosshairsRegion"),O=this.get("crosshairs");if(!f||!O)this.clearCrosshairs();else{var j=Object(u.k)(f),D=this.get("xCrosshairDom"),V=this.get("yCrosshairDom");O==="x"?(this.resetCrosshair("x",j),V&&(V.remove(),this.set("yCrosshairDom",null))):O==="y"?(this.resetCrosshair("y",j),D&&(D.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",j),this.resetCrosshair("y",j)),this.setCrossHairsVisible(this.get("visible"))}},A.prototype.resetCrosshair=function(f,O){var j=this.checkCrosshair(f),D=this.get(f);f==="x"?Object(b.e)(j,{left:Object(u.l)(D),top:Object(u.l)(O.y),height:Object(u.l)(O.height)}):Object(b.e)(j,{top:Object(u.l)(D),left:Object(u.l)(O.x),width:Object(u.l)(O.width)})},A.prototype.checkCrosshair=function(f){var O=f+"CrosshairDom",j=f+"CrosshairTpl",D="CROSSHAIR_"+f.toUpperCase(),V=g[D],H=this.get(O),$=this.get("parent");return H||(H=Object(b.b)(this.get(j)),this.applyStyle(V,H),$.appendChild(H),this.set(O,H)),H},A.prototype.renderItems=function(){this.clearItemDoms();var f=this.get("items"),O=this.get("itemTpl"),j=this.get("listDom");j&&(Object(t.each)(f,function(D){var V=i.a.toCSSGradient(D.color),H=Object(Y.a)(Object(Y.a)({},D),{color:V}),$=Object(t.substitute)(O,H),dt=Object(b.b)($);j.appendChild(dt)}),this.applyChildrenStyles(j,this.get("domStyles")))},A.prototype.clearItemDoms=function(){this.get("listDom")&&Object(u.a)(this.get("listDom"))},A.prototype.clearCrosshairs=function(){var f=this.get("xCrosshairDom"),O=this.get("yCrosshairDom");f&&f.remove(),O&&O.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},A}(n.a),C=d},CmcY:function(qe,Pt,E){"use strict";var Y=E("nKUr"),i=E("q1tI"),b=E("ek7X"),t=E("0NbB"),n=function(I){var m=I.direction,r=m===void 0?"up":m;return Object(Y.jsx)(Y.Fragment,{children:r==="up"?Object(Y.jsx)(b.a,{className:"up"}):Object(Y.jsx)(t.a,{className:"down"})})},u=n,g=E("5nFI"),x=function(I){var m=I.title,r=I.value,s=I.percent,d=I.precision,C=d===void 0?0:d,S=I.text,A=S===void 0?"\u6628\u65E5":S,f=s>=0?"up":"down";return Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)(g.a,{title:m,value:r,precision:C}),Object(Y.jsxs)("div",{children:[A," ",Object(Y.jsx)(u,{direction:f}),Object(Y.jsxs)("span",{className:f,children:[Math.abs(s),"%"]})]})]})},c=Pt.a=x},Cr25:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return H});var Y=E("mrSG"),i=E("zJSt"),b=E("iTfj"),t=E("w02o"),n=E("tKoa"),u=E("YuPD"),g=Object(u.b)({},i.a.getDefaultOptions(),{legend:{position:"right"},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}});function x($,dt){var Z=null;return Object(b.each)($,function(ct){typeof ct[dt]=="number"&&(Z+=ct[dt])}),Z}function c($,dt){var Z;switch($){case"inner":return Z="-30%",Object(b.isString)(dt)&&dt.endsWith("%")?parseFloat(dt)*.01>0?Z:dt:dt<0?dt:Z;case"outer":return Z=12,Object(b.isString)(dt)&&dt.endsWith("%")?parseFloat(dt)*.01<0?Z:dt:dt>0?dt:Z;default:return dt}}function w($,dt){var Z=Object(b.filter)($,function(ct){var pt=ct[dt];return typeof pt=="number"&&!isNaN(pt)||pt===null});return Object(u.j)(u.a.WARN,Z.length===$.length,"illegal data existed in chart data."),Z}function I($,dt){return Object(b.every)($,function(Z){return Z[dt]===0})}function m($){var dt=$.chart,Z=$.options,ct=Z.data,pt=Z.angleField,gt=Z.colorField,at=Z.color,Bt=Z.pieStyle,Lt=w(ct,pt);if(I(Lt,pt)){var Et="$$percentage$$";Lt=Lt.map(function(ft){var mt;return Object(Y.a)(Object(Y.a)({},ft),(mt={},mt[Et]=1/Lt.length,mt))}),dt.data(Lt);var K=Object(u.b)({},$,{options:{xField:"1",yField:Et,seriesField:gt,isStack:!0,interval:{color:at,style:Bt},args:{zIndexReversed:!0}}});Object(n.c)(K),dt.geometries[0].tooltip(gt+"*"+pt)}else{dt.data(Lt);var K=Object(u.b)({},$,{options:{xField:"1",yField:pt,seriesField:gt,isStack:!0,interval:{color:at,style:Bt},args:{zIndexReversed:!0}}});Object(n.c)(K)}return $}function r($){var dt,Z=$.chart,ct=$.options,pt=ct.meta,gt=ct.colorField,at=Object(u.b)({},pt);return Z.scale(at,(dt={},dt[gt]={type:"cat"},dt)),$}function s($){var dt=$.chart,Z=$.options,ct=Z.radius,pt=Z.innerRadius,gt=Z.startAngle,at=Z.endAngle;return dt.coordinate({type:"theta",cfg:{radius:ct,innerRadius:pt,startAngle:gt,endAngle:at}}),$}function d($){var dt=$.chart,Z=$.options,ct=Z.label,pt=Z.colorField,gt=Z.angleField,at=dt.geometries[0];if(!ct)at.label(!1);else{var Bt=ct.callback,Lt=Object(Y.c)(ct,["callback"]),Et=Object(u.o)(Lt);if(Et.content){var K=Et.content;Et.content=function(wt,J,lt){var it=wt[pt],_=wt[gt],P=dt.getScaleByField(gt),Q=P==null?void 0:P.scale(_);return Object(b.isFunction)(K)?K(Object(Y.a)(Object(Y.a)({},wt),{percent:Q}),J,lt):Object(b.isString)(K)?Object(u.n)(K,{value:_,name:it,percentage:Object(b.isNumber)(Q)&&!Object(b.isNil)(_)?(Q*100).toFixed(2)+"%":null}):K}}var ft={inner:"",outer:"pie-outer",spider:"pie-spider"},mt=Et.type?ft[Et.type]:"pie-outer",yt=Et.layout?Object(b.isArray)(Et.layout)?Et.layout:[Et.layout]:[];Et.layout=(mt?[{type:mt}]:[]).concat(yt),at.label({fields:pt?[gt,pt]:[gt],callback:Bt,cfg:Object(Y.a)(Object(Y.a)({},Et),{offset:c(Et.type,Et.offset),type:"pie"})})}return $}function C($){var dt=$.chart,Z=$.options,ct=Z.innerRadius,pt=Z.statistic,gt=Z.angleField,at=Z.colorField,Bt=Z.meta;if(dt.getController("annotation").clear(!0),Object(u.e)(Object(t.b)())($),ct&&pt){var Lt=Object(u.b)({},g.statistic,pt),Et=Lt.title,K=Lt.content;Et!==!1&&(Et=Object(u.b)({},{formatter:function(mt){return mt?mt[at]:"\u603B\u8BA1"}},Et)),K!==!1&&(K=Object(u.b)({},{formatter:function(mt,yt){var wt=Object(b.get)(Bt,[gt,"formatter"]),J=mt?mt[gt]:x(yt,gt);return wt?wt(J):J}},K)),Object(u.m)(dt,{statistic:{title:Et,content:K},plotType:"pie"})}return $}function S($){return Object(b.get)($,["options","tooltip"])!==!1?Object(u.b)({},$,{options:{tooltip:{shared:!1}}}):$}function A($){return Object(u.e)(m,r,t.j,s,t.d,function(dt){return Object(t.k)(S(dt))},d,t.i,C,t.c,t.a)($)}var f=E("Ihc8"),O=E("qaDU"),j=function($){Object(Y.b)(dt,$);function dt(){return $!==null&&$.apply(this,arguments)||this}return dt.prototype.getActiveElements=function(){var Z=f.Util.getDelegationObject(this.context);if(Z){var ct=this.context.view,pt=Z.component,gt=Z.item,at=pt.get("field");if(at){var Bt=ct.geometries[0].elements;return Bt.filter(function(Lt){return Lt.getModel().data[at]===gt.value})}}return[]},dt.prototype.getActiveElementLabels=function(){var Z=this.context.view,ct=this.getActiveElements(),pt=Z.geometries[0].labelsContainer.getChildren();return pt.filter(function(gt){return ct.find(function(at){return Object(b.isEqual)(at.getData(),gt.get("data"))})})},dt.prototype.transfrom=function(Z){Z===void 0&&(Z=7.5);var ct=this.getActiveElements(),pt=this.getActiveElementLabels();ct.forEach(function(gt,at){var Bt=pt[at],Lt=gt.geometry.coordinate;if(Lt.isPolar&&Lt.isTransposed){var Et=f.Util.getAngle(gt.getModel(),Lt),K=Et.startAngle,ft=Et.endAngle,mt=(K+ft)/2,yt=Z,wt=yt*Math.cos(mt),J=yt*Math.sin(mt);gt.shape.setMatrix(Object(O.a)([["t",wt,J]])),Bt.setMatrix(Object(O.a)([["t",wt,J]]))}})},dt.prototype.active=function(){this.transfrom()},dt.prototype.reset=function(){this.transfrom(0)},dt}(f.Action),D=E("mj6g"),V=function($){Object(Y.b)(dt,$);function dt(){return $!==null&&$.apply(this,arguments)||this}return dt.prototype.getAnnotations=function(Z){var ct=Z||this.context.view;return ct.getController("annotation").option},dt.prototype.getInitialAnnotation=function(){return this.initialAnnotation},dt.prototype.init=function(){var Z=this,ct=this.context.view;ct.removeInteraction("tooltip"),ct.on("afterchangesize",function(){var pt=Z.getAnnotations(ct);Z.initialAnnotation=pt})},dt.prototype.change=function(){var Z=this.context,ct=Z.view,pt=Z.event,gt=this.getAnnotations();this.initialAnnotation||(this.initialAnnotation=gt);var at=((pt==null?void 0:pt.data)||{}).data;if(pt.type.match("legend-item")){var Bt=f.Util.getDelegationObject(this.context),Lt=ct.getGroupedFields()[0];if(Bt&&Lt){var Et=Bt.item;at=ct.getData().find(function(Q){return Q[Lt]===Et.value})}}if(at){var K=ct.getController("annotation");K.clear(!0);var ft=ct.getScaleFields(),mt=ft[1],yt=ft[2],wt=ct.getScaleByField(mt),J=ct.getScaleByField(yt),lt=gt.filter(function(Q){return!Object(b.get)(Q,"key","").match("statistic")}),it=gt.filter(function(Q){return Object(b.get)(Q,"key","").match("statistic")}),_=it.filter(function(Q){return Q.key==="top-statistic"}),P=it.filter(function(Q){return Q.key==="bottom-statistic"});Object(b.each)(it,function(Q){var k,p;Q.key==="top-statistic"?(k=J?J.getText(at[yt]):null,p=P?"translate(-50%, -100%)":"translate(-50%, -50%)"):(k=wt?wt.getText(at[mt]):at[mt],p=_?"translate(-50%, 0)":"translate(-50%,-50%)"),lt.push(Object(Y.a)(Object(Y.a)({},Q),{html:function(B,W){var rt=W.getCoordinate(),st=rt.getRadius()*rt.innerRadius*2,ut=Object(b.isFunction)(Q.style)?Q.style():Q.style;Object(D.d)(B,Object(Y.a)({width:st+"px",transform:p},Object(D.a)(ut)));var Mt=W.getData();return Q.customHtml?Q.customHtml(B,W,at,Mt):(Q.formatter&&(k=Q.formatter(at,Mt)),k?Object(b.isString)(k)?k:""+k:"<div></div>")}})),lt.forEach(function(y){K.annotation(y)}),ct.render(!0)})}},dt.prototype.reset=function(){var Z=this.context.view,ct=Z.getController("annotation");ct.clear(!0);var pt=this.getInitialAnnotation();Object(b.each)(pt,function(gt){Z.annotation()[gt.type](gt)}),Z.render(!0)},dt}(f.Action);Object(f.registerAction)("pie-statistic",V),Object(f.registerInteraction)("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),Object(f.registerAction)("pie-legend",j),Object(f.registerInteraction)("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});var H=function($){Object(Y.b)(dt,$);function dt(){var Z=$!==null&&$.apply(this,arguments)||this;return Z.type="pie",Z}return dt.getDefaultOptions=function(){return g},dt.prototype.changeData=function(Z){var ct=this.options,pt=this.options.angleField,gt=w(ct.data,pt),at=w(Z,pt);I(gt,pt)||I(at,pt)?this.update({data:Z}):(this.updateOption({data:Z}),this.chart.data(at),C({chart:this.chart,options:this.options}),this.chart.render(!0))},dt.prototype.getDefaultOptions=function(){return dt.getDefaultOptions()},dt.prototype.getSchemaAdaptor=function(){return A},dt}(i.a)},Cwc5:function(qe,Pt,E){var Y=E("NKxu"),i=E("Npjl");function b(t,n){var u=i(t,n);return Y(u)?u:void 0}qe.exports=b},DMQx:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return H});var Y=E("mrSG"),i=E("YuPD"),b=E("w02o"),t=E("iTfj"),n=E("Ihc8"),u=E("5OoT");function g($,dt){return Object(i.b)({size:dt?32:80,spacing:dt?8:12,offset:dt?32:0,arrow:$.arrow!==!1&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:$.text!==!1&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:u.a}},$)}function x($,dt){return Object(t.map)(dt.getModel().points,function(Z){return $.convertPoint(Z)})}function c($,dt,Z){var ct=$.view,pt=$.geometry,gt=$.group,at=$.options,Bt=$.horizontal,Lt=at.offset,Et=at.size,K=at.arrow,ft=ct.getCoordinate(),mt=x(ft,dt)[Bt?3:0],yt=x(ft,Z)[Bt?0:3],wt=yt.y-mt.y,J=yt.x-mt.x;if(typeof K!="boolean"){var lt=K.headSize,it=at.spacing,_;Bt?(J-lt)/2<it?(it=Math.max(1,(J-lt)/2),_=[[mt.x+it,mt.y-Lt],[mt.x+it,mt.y-Lt-Et],[yt.x-it,yt.y-Lt-Et/2]]):_=[[mt.x+it,mt.y-Lt],[mt.x+it,mt.y-Lt-Et],[yt.x-it-lt,yt.y-Lt-Et],[yt.x-it,yt.y-Lt-Et/2],[yt.x-it-lt,yt.y-Lt]]:(wt-lt)/2<it?(it=Math.max(1,(wt-lt)/2),_=[[mt.x+Lt,mt.y+it],[mt.x+Lt+Et,mt.y+it],[yt.x+Lt+Et/2,yt.y-it]]):_=[[mt.x+Lt,mt.y+it],[mt.x+Lt+Et,mt.y+it],[yt.x+Lt+Et,yt.y-it-lt],[yt.x+Lt+Et/2,yt.y-it],[yt.x+Lt,yt.y-it-lt]],gt.addShape("polygon",{id:ct.id+"-conversion-tag-arrow-"+pt.getElementId(dt.getModel().mappingData),name:"conversion-tag-arrow",attrs:Object(Y.a)(Object(Y.a)({},K.style||{}),{points:_})})}}function w($,dt,Z){var ct,pt,gt,at=$.view,Bt=$.geometry,Lt=$.group,Et=$.options,K=$.field,ft=$.horizontal,mt=Et.offset,yt=Et.size;if(typeof Et.text!="boolean"){var wt=at.getCoordinate(),J=((ct=Et.text)===null||ct===void 0?void 0:ct.formatter)&&((pt=Et.text)===null||pt===void 0?void 0:pt.formatter(dt.getData()[K],Z.getData()[K])),lt=x(wt,dt)[ft?3:0],it=x(wt,Z)[ft?0:3],_=Lt.addShape("text",{id:at.id+"-conversion-tag-text-"+Bt.getElementId(dt.getModel().mappingData),name:"conversion-tag-text",attrs:Object(Y.a)(Object(Y.a)({},((gt=Et.text)===null||gt===void 0?void 0:gt.style)||{}),{text:J,x:ft?(lt.x+it.x)/2:lt.x+mt+yt/2,y:ft?lt.y-mt-yt/2:(lt.y+it.y)/2})});if(ft){var P=it.x-lt.x,Q=_.getBBox().width;if(Q>P){var k=Q/J.length,p=Math.max(1,Math.ceil(P/k)-1),y=J.slice(0,p)+"...";_.attr("text",y)}}}}function I($,dt,Z){c($,dt,Z),w($,dt,Z)}function m($,dt,Z){return dt===void 0&&(dt=!0),Z===void 0&&(Z=!1),function(ct){var pt=ct.options,gt=ct.chart,at=pt.conversionTag,Bt=pt.theme;return at&&!Z&&(gt.theme(Object(i.b)({},Object(t.isObject)(Bt)?Bt:Object(n.getTheme)(Bt),{columnWidthRatio:1/3})),gt.annotation().shape({render:function(Et,K){var ft=Et.addGroup({id:gt.id+"-conversion-tag-group",name:"conversion-tag-group"}),mt=Object(t.find)(gt.geometries,function(J){return J.type==="interval"}),yt={view:K,geometry:mt,group:ft,field:$,horizontal:dt,options:g(at,dt)},wt=dt?mt.elements:mt.elements.slice().reverse();Object(t.each)(wt,function(J,lt){lt>0&&I(yt,wt[lt-1],J)})}})),ct}}var r={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"};Object(n.registerInteraction)(r.hover,{start:[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"]}],end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),Object(n.registerInteraction)(r.click,{start:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"]}],end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});function s($){return $===void 0&&($=!1),function(dt){var Z=dt.chart,ct=dt.options,pt=ct.connectedArea,gt=function(){Z.removeInteraction(r.hover),Z.removeInteraction(r.click)};if(!$&&pt){var at=pt.trigger||"hover";gt(),Z.interaction(r[at])}else gt();return dt}}var d=E("tKoa"),C=E("sqD9"),S=E("DyAw");function A($){var dt=$.options,Z=dt.legend,ct=dt.seriesField,pt=dt.isStack;return ct?Z!==!1&&(Z=Object(Y.a)({position:pt?"right-top":"top-left"},Z)):Z=!1,$.options.legend=Z,$}function f($){var dt=$.chart,Z=$.options,ct=Z.data,pt=Z.columnStyle,gt=Z.color,at=Z.columnWidthRatio,Bt=Z.isPercent,Lt=Z.xField,Et=Z.yField,K=Z.seriesField,ft=Z.tooltip;dt.data(Object(C.a)(ct,Et,Lt,Et,Bt));var mt=Bt?Object(Y.a)({formatter:function(J){return{name:J[K]||J[Lt],value:(Number(J[Et])*100).toFixed(2)+"%"}}},ft):ft,yt=Object(i.b)({},$,{options:{widthRatio:at,tooltip:mt,interval:{style:pt,color:gt}}});return Object(d.c)(yt),$}function O($){var dt,Z,ct=$.options,pt=ct.xAxis,gt=ct.yAxis,at=ct.xField,Bt=ct.yField,Lt=ct.data,Et=ct.isPercent,K=Et?{max:1,min:0,minLimit:0,maxLimit:1}:{};return Object(i.e)(Object(b.f)((dt={},dt[at]=pt,dt[Bt]=gt,dt),(Z={},Z[at]={type:"cat"},Z[Bt]=Object(Y.a)(Object(Y.a)({},Object(S.a)(Lt,Bt)),K),Z)))($)}function j($){var dt=$.chart,Z=$.options,ct=Z.xAxis,pt=Z.yAxis,gt=Z.xField,at=Z.yField;return ct===!1?dt.axis(gt,!1):dt.axis(gt,ct),pt===!1?dt.axis(at,!1):dt.axis(at,pt),$}function D($){var dt=$.chart,Z=$.options,ct=Z.legend,pt=Z.seriesField;return ct&&pt?dt.legend(pt,ct):ct===!1&&dt.legend(!1),$}function V($){var dt=$.chart,Z=$.options,ct=Z.label,pt=Z.yField,gt=Z.isRange,at=Object(i.c)(dt,"interval");if(!ct)at.label(!1);else{var Bt=ct.callback,Lt=Object(Y.c)(ct,["callback"]);at.label({fields:[pt],callback:Bt,cfg:Object(Y.a)({layout:(Lt==null?void 0:Lt.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(i.o)(gt?Object(Y.a)({content:function(K){var ft;return(ft=K[pt])===null||ft===void 0?void 0:ft.join("-")}},Lt):Lt))})}return $}function H($,dt){dt===void 0&&(dt=!1);var Z=$.options,ct=Z.seriesField;return Object(i.e)(A,b.j,f,O,j,D,b.k,b.h,b.g,V,b.c,b.a,Object(b.b)(),m(Z.yField,!dt,!!ct),s(!Z.isStack),b.e)($)}},DSRE:function(qe,Pt,E){(function(Y){var i=E("Kz5y"),b=E("B8du"),t=Pt&&!Pt.nodeType&&Pt,n=t&&typeof Y=="object"&&Y&&!Y.nodeType&&Y,u=n&&n.exports===t,g=u?i.Buffer:void 0,x=g?g.isBuffer:void 0,c=x||b;Y.exports=c}).call(this,E("YuTi")(qe))},DdT1:function(qe,Pt,E){"use strict";Pt.a=function(Y){Y.x0=Math.round(Y.x0),Y.y0=Math.round(Y.y0),Y.x1=Math.round(Y.x1),Y.y1=Math.round(Y.y1)}},Djfg:function(qe,Pt,E){"use strict";var Y=E("XiRp"),i=E.n(Y),b=E("h4/5"),t=E.n(b),n=E("N9hJ"),u=E.n(n),g=E("3T7b"),x=E.n(g),c=E("B0vJ"),w=E.n(c),I=E("B2d+"),m=E.n(I)},DjyN:function(qe,Pt,E){"use strict";var Y=E("cIOH"),i=E.n(Y),b=E("Urep"),t=E.n(b),n=E("OaEy")},DyAw:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return i}),E.d(Pt,"b",function(){return b});var Y=E("iTfj");function i(t,n){var u=t.filter(function(c){var w=Object(Y.get)(c,[n]);return Object(Y.isNumber)(w)&&!isNaN(w)}),g=u.every(function(c){return Object(Y.get)(c,[n])>=0}),x=u.every(function(c){return Object(Y.get)(c,[n])<=0});return g?{min:0}:x?{max:0}:{}}function b(t,n,u,g){if(!Array.isArray(t))return{nodes:[],links:[]};var x=[],c={},w=-1;return t.forEach(function(I){var m=I[n],r=I[u],s=I[g];c[m]||(c[m]={id:++w,name:m}),c[r]||(c[r]={id:++w,name:r}),x.push({source:c[m].id,target:c[r].id,value:s})}),{nodes:Object.values(c),links:x}}},E2jh:function(qe,Pt,E){var Y=E("2gN3"),i=function(){var t=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function b(t){return!!i&&i in t}qe.exports=b},EYNi:function(qe,Pt,E){"use strict";E.d(Pt,"e",function(){return f}),E.d(Pt,"b",function(){return $}),E.d(Pt,"a",function(){return mt}),E.d(Pt,"c",function(){return w}),E.d(Pt,"d",function(){return _}),E.d(Pt,"f",function(){return Y});var Y={};E.r(Y),E.d(Y,"distance",function(){return t}),E.d(Y,"isNumberEqual",function(){return n}),E.d(Y,"getBBoxByArray",function(){return u}),E.d(Y,"getBBoxRange",function(){return g}),E.d(Y,"piMod",function(){return x});function i(k){return Math.min.apply(null,k)}function b(k){return Math.max.apply(null,k)}function t(k,p,y,B){var W=k-y,rt=p-B;return Math.sqrt(W*W+rt*rt)}function n(k,p){return Math.abs(k-p)<.001}function u(k,p){var y=i(k),B=i(p),W=b(k),rt=b(p);return{x:y,y:B,width:W-y,height:rt-B}}function g(k,p,y,B){return{minX:i([k,y]),maxX:b([k,y]),minY:i([p,B]),maxY:b([p,B])}}function x(k){return(k+Math.PI*2)%(Math.PI*2)}var c=E("ZxFD"),w={box:function(p,y,B,W){return u([p,B],[y,W])},length:function(p,y,B,W){return t(p,y,B,W)},pointAt:function(p,y,B,W,rt){return{x:(1-rt)*p+rt*B,y:(1-rt)*y+rt*W}},pointDistance:function(p,y,B,W,rt,st){var ut=(B-p)*(rt-p)+(W-y)*(st-y);if(ut<0)return t(p,y,rt,st);var Mt=(B-p)*(B-p)+(W-y)*(W-y);return ut>Mt?t(B,W,rt,st):this.pointToLine(p,y,B,W,rt,st)},pointToLine:function(p,y,B,W,rt,st){var ut=[B-p,W-y];if(c.exactEquals(ut,[0,0]))return Math.sqrt((rt-p)*(rt-p)+(st-y)*(st-y));var Mt=[-ut[1],ut[0]];c.normalize(Mt,Mt);var bt=[rt-p,st-y];return Math.abs(c.dot(bt,Mt))},tangentAngle:function(p,y,B,W){return Math.atan2(W-y,B-p)}},I=1e-4;function m(k,p,y,B,W,rt){var st,ut=Infinity,Mt=[y,B],bt=20;rt&&rt>200&&(bt=rt/10);for(var xt=1/bt,Ot=xt/10,jt=0;jt<=bt;jt++){var Dt=jt*xt,zt=[W.apply(null,k.concat([Dt])),W.apply(null,p.concat([Dt]))],Tt=t(Mt[0],Mt[1],zt[0],zt[1]);Tt<ut&&(st=Dt,ut=Tt)}if(st===0)return{x:k[0],y:p[0]};if(st===1){var Vt=k.length;return{x:k[Vt-1],y:p[Vt-1]}}ut=Infinity;for(var jt=0;jt<32&&!(Ot<I);jt++){var Ht=st-Ot,re=st+Ot,zt=[W.apply(null,k.concat([Ht])),W.apply(null,p.concat([Ht]))],Tt=t(Mt[0],Mt[1],zt[0],zt[1]);if(Ht>=0&&Tt<ut)st=Ht,ut=Tt;else{var pe=[W.apply(null,k.concat([re])),W.apply(null,p.concat([re]))],me=t(Mt[0],Mt[1],pe[0],pe[1]);re<=1&&me<ut?(st=re,ut=me):Ot*=.5}}return{x:W.apply(null,k.concat([st])),y:W.apply(null,p.concat([st]))}}function r(k,p){for(var y=0,B=k.length,W=0;W<B;W++){var rt=k[W],st=p[W],ut=k[(W+1)%B],Mt=p[(W+1)%B];y+=t(rt,st,ut,Mt)}return y/2}function s(k,p,y,B){var W=1-B;return W*W*k+2*B*W*p+B*B*y}function d(k,p,y){var B=k+y-2*p;if(n(B,0))return[.5];var W=(k-p)/B;return W<=1&&W>=0?[W]:[]}function C(k,p,y,B){return 2*(1-B)*(p-k)+2*B*(y-p)}function S(k,p,y,B,W,rt,st){var ut=s(k,y,W,st),Mt=s(p,B,rt,st),bt=w.pointAt(k,p,y,B,st),xt=w.pointAt(y,B,W,rt,st);return[[k,p,bt.x,bt.y,ut,Mt],[ut,Mt,xt.x,xt.y,W,rt]]}function A(k,p,y,B,W,rt,st){if(st===0)return(t(k,p,y,B)+t(y,B,W,rt)+t(k,p,W,rt))/2;var ut=S(k,p,y,B,W,rt,.5),Mt=ut[0],bt=ut[1];return Mt.push(st-1),bt.push(st-1),A.apply(null,Mt)+A.apply(null,bt)}var f={box:function(p,y,B,W,rt,st){var ut=d(p,B,rt)[0],Mt=d(y,W,st)[0],bt=[p,rt],xt=[y,st];return ut!==void 0&&bt.push(s(p,B,rt,ut)),Mt!==void 0&&xt.push(s(y,W,st,Mt)),u(bt,xt)},length:function(p,y,B,W,rt,st){return A(p,y,B,W,rt,st,3)},nearestPoint:function(p,y,B,W,rt,st,ut,Mt){return m([p,B,rt],[y,W,st],ut,Mt,s)},pointDistance:function(p,y,B,W,rt,st,ut,Mt){var bt=this.nearestPoint(p,y,B,W,rt,st,ut,Mt);return t(bt.x,bt.y,ut,Mt)},interpolationAt:s,pointAt:function(p,y,B,W,rt,st,ut){return{x:s(p,B,rt,ut),y:s(y,W,st,ut)}},divide:function(p,y,B,W,rt,st,ut){return S(p,y,B,W,rt,st,ut)},tangentAngle:function(p,y,B,W,rt,st,ut){var Mt=C(p,B,rt,ut),bt=C(y,W,st,ut),xt=Math.atan2(bt,Mt);return x(xt)}};function O(k,p,y,B,W){var rt=1-W;return rt*rt*rt*k+3*p*W*rt*rt+3*y*W*W*rt+B*W*W*W}function j(k,p,y,B,W){var rt=1-W;return 3*(rt*rt*(p-k)+2*rt*W*(y-p)+W*W*(B-y))}function D(k,p,y,B){var W=-3*k+9*p-9*y+3*B,rt=6*k-12*p+6*y,st=3*p-3*k,ut=[],Mt,bt,xt;if(n(W,0))n(rt,0)||(Mt=-st/rt,Mt>=0&&Mt<=1&&ut.push(Mt));else{var Ot=rt*rt-4*W*st;n(Ot,0)?ut.push(-rt/(2*W)):Ot>0&&(xt=Math.sqrt(Ot),Mt=(-rt+xt)/(2*W),bt=(-rt-xt)/(2*W),Mt>=0&&Mt<=1&&ut.push(Mt),bt>=0&&bt<=1&&ut.push(bt))}return ut}function V(k,p,y,B,W,rt,st,ut,Mt){var bt=O(k,y,W,st,Mt),xt=O(p,B,rt,ut,Mt),Ot=w.pointAt(k,p,y,B,Mt),jt=w.pointAt(y,B,W,rt,Mt),Dt=w.pointAt(W,rt,st,ut,Mt),zt=w.pointAt(Ot.x,Ot.y,jt.x,jt.y,Mt),Tt=w.pointAt(jt.x,jt.y,Dt.x,Dt.y,Mt);return[[k,p,Ot.x,Ot.y,zt.x,zt.y,bt,xt],[bt,xt,Tt.x,Tt.y,Dt.x,Dt.y,st,ut]]}function H(k,p,y,B,W,rt,st,ut,Mt){if(Mt===0)return r([k,y,W,st],[p,B,rt,ut]);var bt=V(k,p,y,B,W,rt,st,ut,.5),xt=bt[0],Ot=bt[1];return xt.push(Mt-1),Ot.push(Mt-1),H.apply(null,xt)+H.apply(null,Ot)}var $={extrema:D,box:function(p,y,B,W,rt,st,ut,Mt){for(var bt=[p,ut],xt=[y,Mt],Ot=D(p,B,rt,ut),jt=D(y,W,st,Mt),Dt=0;Dt<Ot.length;Dt++)bt.push(O(p,B,rt,ut,Ot[Dt]));for(var Dt=0;Dt<jt.length;Dt++)xt.push(O(y,W,st,Mt,jt[Dt]));return u(bt,xt)},length:function(p,y,B,W,rt,st,ut,Mt){return H(p,y,B,W,rt,st,ut,Mt,3)},nearestPoint:function(p,y,B,W,rt,st,ut,Mt,bt,xt,Ot){return m([p,B,rt,ut],[y,W,st,Mt],bt,xt,O,Ot)},pointDistance:function(p,y,B,W,rt,st,ut,Mt,bt,xt,Ot){var jt=this.nearestPoint(p,y,B,W,rt,st,ut,Mt,bt,xt,Ot);return t(jt.x,jt.y,bt,xt)},interpolationAt:O,pointAt:function(p,y,B,W,rt,st,ut,Mt,bt){return{x:O(p,B,rt,ut,bt),y:O(y,W,st,Mt,bt)}},divide:function(p,y,B,W,rt,st,ut,Mt,bt){return V(p,y,B,W,rt,st,ut,Mt,bt)},tangentAngle:function(p,y,B,W,rt,st,ut,Mt,bt){var xt=j(p,B,rt,ut,bt),Ot=j(y,W,st,Mt,bt);return x(Math.atan2(Ot,xt))}};function dt(k,p){var y=Math.abs(k);return p>0?y:y*-1}var Z={box:function(p,y,B,W){return{x:p-B,y:y-W,width:B*2,height:W*2}},length:function(p,y,B,W){return Math.PI*(3*(B+W)-Math.sqrt((3*B+W)*(B+3*W)))},nearestPoint:function(p,y,B,W,rt,st){var ut=B,Mt=W;if(ut===0||Mt===0)return{x:p,y};for(var bt=rt-p,xt=st-y,Ot=Math.abs(bt),jt=Math.abs(xt),Dt=ut*ut,zt=Mt*Mt,Tt=Math.PI/4,Vt,Ht,re=0;re<4;re++){Vt=ut*Math.cos(Tt),Ht=Mt*Math.sin(Tt);var pe=(Dt-zt)*Math.pow(Math.cos(Tt),3)/ut,me=(zt-Dt)*Math.pow(Math.sin(Tt),3)/Mt,Ee=Vt-pe,Le=Ht-me,Je=Ot-pe,On=jt-me,gn=Math.hypot(Le,Ee),Vn=Math.hypot(On,Je),kn=gn*Math.asin((Ee*On-Le*Je)/(gn*Vn)),Wn=kn/Math.sqrt(Dt+zt-Vt*Vt-Ht*Ht);Tt+=Wn,Tt=Math.min(Math.PI/2,Math.max(0,Tt))}return{x:p+dt(Vt,bt),y:y+dt(Ht,xt)}},pointDistance:function(p,y,B,W,rt,st){var ut=this.nearestPoint(p,y,B,W,rt,st);return t(ut.x,ut.y,rt,st)},pointAt:function(p,y,B,W,rt){var st=2*Math.PI*rt;return{x:p+B*Math.cos(st),y:y+W*Math.sin(st)}},tangentAngle:function(p,y,B,W,rt){var st=2*Math.PI*rt,ut=Math.atan2(W*Math.cos(st),-B*Math.sin(st));return x(ut)}};function ct(k,p,y,B,W,rt,st,ut){return-1*y*Math.cos(W)*Math.sin(ut)-B*Math.sin(W)*Math.cos(ut)}function pt(k,p,y,B,W,rt,st,ut){return-1*y*Math.sin(W)*Math.sin(ut)+B*Math.cos(W)*Math.cos(ut)}function gt(k,p,y){return Math.atan(-p/k*Math.tan(y))}function at(k,p,y){return Math.atan(p/(k*Math.tan(y)))}function Bt(k,p,y,B,W,rt){return y*Math.cos(W)*Math.cos(rt)-B*Math.sin(W)*Math.sin(rt)+k}function Lt(k,p,y,B,W,rt){return y*Math.sin(W)*Math.cos(rt)+B*Math.cos(W)*Math.sin(rt)+p}function Et(k,p,y,B){var W=Math.atan2(B*k,y*p);return(W+Math.PI*2)%(Math.PI*2)}function K(k,p,y){return{x:k*Math.cos(y),y:p*Math.sin(y)}}function ft(k,p,y){var B=Math.cos(y),W=Math.sin(y);return[k*B-p*W,k*W+p*B]}var mt={box:function(p,y,B,W,rt,st,ut){for(var Mt=gt(B,W,rt),bt=Infinity,xt=-Infinity,Ot=[st,ut],jt=-Math.PI*2;jt<=Math.PI*2;jt+=Math.PI){var Dt=Mt+jt;st<ut?st<Dt&&Dt<ut&&Ot.push(Dt):ut<Dt&&Dt<st&&Ot.push(Dt)}for(var jt=0;jt<Ot.length;jt++){var zt=Bt(p,y,B,W,rt,Ot[jt]);zt<bt&&(bt=zt),zt>xt&&(xt=zt)}for(var Tt=at(B,W,rt),Vt=Infinity,Ht=-Infinity,re=[st,ut],jt=-Math.PI*2;jt<=Math.PI*2;jt+=Math.PI){var pe=Tt+jt;st<ut?st<pe&&pe<ut&&re.push(pe):ut<pe&&pe<st&&re.push(pe)}for(var jt=0;jt<re.length;jt++){var me=Lt(p,y,B,W,rt,re[jt]);me<Vt&&(Vt=me),me>Ht&&(Ht=me)}return{x:bt,y:Vt,width:xt-bt,height:Ht-Vt}},length:function(p,y,B,W,rt,st,ut){},nearestPoint:function(p,y,B,W,rt,st,ut,Mt,bt){var xt=ft(Mt-p,bt-y,-rt),Ot=xt[0],jt=xt[1],Dt=Z.nearestPoint(0,0,B,W,Ot,jt),zt=Et(B,W,Dt.x,Dt.y);zt<st?Dt=K(B,W,st):zt>ut&&(Dt=K(B,W,ut));var Tt=ft(Dt.x,Dt.y,rt);return{x:Tt[0]+p,y:Tt[1]+y}},pointDistance:function(p,y,B,W,rt,st,ut,Mt,bt){var xt=this.nearestPoint(p,y,B,W,Mt,bt);return t(xt.x,xt.y,Mt,bt)},pointAt:function(p,y,B,W,rt,st,ut,Mt){var bt=(ut-st)*Mt+st;return{x:Bt(p,y,B,W,rt,bt),y:Lt(p,y,B,W,rt,bt)}},tangentAngle:function(p,y,B,W,rt,st,ut,Mt){var bt=(ut-st)*Mt+st,xt=ct(p,y,B,W,rt,st,ut,bt),Ot=pt(p,y,B,W,rt,st,ut,bt);return x(Math.atan2(Ot,xt))}};function yt(k){for(var p=0,y=[],B=0;B<k.length-1;B++){var W=k[B],rt=k[B+1],st=t(W[0],W[1],rt[0],rt[1]),ut={from:W,to:rt,length:st};y.push(ut),p+=st}return{segments:y,totalLength:p}}function wt(k){if(k.length<2)return 0;for(var p=0,y=0;y<k.length-1;y++){var B=k[y],W=k[y+1];p+=t(B[0],B[1],W[0],W[1])}return p}function J(k,p){if(p>1||p<0||k.length<2)return null;var y=yt(k),B=y.segments,W=y.totalLength;if(W===0)return{x:k[0][0],y:k[0][1]};for(var rt=0,st=null,ut=0;ut<B.length;ut++){var Mt=B[ut],bt=Mt.from,xt=Mt.to,Ot=Mt.length/W;if(p>=rt&&p<=rt+Ot){var jt=(p-rt)/Ot;st=w.pointAt(bt[0],bt[1],xt[0],xt[1],jt);break}rt+=Ot}return st}function lt(k,p){if(p>1||p<0||k.length<2)return 0;for(var y=yt(k),B=y.segments,W=y.totalLength,rt=0,st=0,ut=0;ut<B.length;ut++){var Mt=B[ut],bt=Mt.from,xt=Mt.to,Ot=Mt.length/W;if(p>=rt&&p<=rt+Ot){st=Math.atan2(xt[1]-bt[1],xt[0]-bt[0]);break}rt+=Ot}return st}function it(k,p,y){for(var B=Infinity,W=0;W<k.length-1;W++){var rt=k[W],st=k[W+1],ut=w.pointDistance(rt[0],rt[1],st[0],st[1],p,y);ut<B&&(B=ut)}return B}var _={box:function(p){for(var y=[],B=[],W=0;W<p.length;W++){var rt=p[W];y.push(rt[0]),B.push(rt[1])}return u(y,B)},length:function(p){return wt(p)},pointAt:function(p,y){return J(p,y)},pointDistance:function(p,y,B){return it(p,y,B)},tangentAngle:function(p,y){return lt(p,y)}};function P(k){var p=k.slice(0);return k.length&&p.push(k[0]),p}var Q={box:function(p){return _.box(p)},length:function(p){return wt(P(p))},pointAt:function(p,y){return J(P(p),y)},pointDistance:function(p,y,B){return it(P(p),y,B)},tangentAngle:function(p,y){return lt(P(p),y)}}},EkMX:function(qe,Pt,E){"use strict";var Y={};E.r(Y),E.d(Y,"easeLinear",function(){return Z}),E.d(Y,"easeQuad",function(){return gt}),E.d(Y,"easeQuadIn",function(){return ct}),E.d(Y,"easeQuadOut",function(){return pt}),E.d(Y,"easeQuadInOut",function(){return gt}),E.d(Y,"easeCubic",function(){return Lt}),E.d(Y,"easeCubicIn",function(){return at}),E.d(Y,"easeCubicOut",function(){return Bt}),E.d(Y,"easeCubicInOut",function(){return Lt}),E.d(Y,"easePoly",function(){return mt}),E.d(Y,"easePolyIn",function(){return K}),E.d(Y,"easePolyOut",function(){return ft}),E.d(Y,"easePolyInOut",function(){return mt}),E.d(Y,"easeSin",function(){return it}),E.d(Y,"easeSinIn",function(){return J}),E.d(Y,"easeSinOut",function(){return lt}),E.d(Y,"easeSinInOut",function(){return it}),E.d(Y,"easeExp",function(){return k}),E.d(Y,"easeExpIn",function(){return P}),E.d(Y,"easeExpOut",function(){return Q}),E.d(Y,"easeExpInOut",function(){return k}),E.d(Y,"easeCircle",function(){return B}),E.d(Y,"easeCircleIn",function(){return p}),E.d(Y,"easeCircleOut",function(){return y}),E.d(Y,"easeCircleInOut",function(){return B}),E.d(Y,"easeBounce",function(){return Tt}),E.d(Y,"easeBounceIn",function(){return zt}),E.d(Y,"easeBounceOut",function(){return Tt}),E.d(Y,"easeBounceInOut",function(){return Vt}),E.d(Y,"easeBack",function(){return me}),E.d(Y,"easeBackIn",function(){return re}),E.d(Y,"easeBackOut",function(){return pe}),E.d(Y,"easeBackInOut",function(){return me}),E.d(Y,"easeElastic",function(){return gn}),E.d(Y,"easeElasticIn",function(){return On}),E.d(Y,"easeElasticOut",function(){return gn}),E.d(Y,"easeElasticInOut",function(){return Vn});var i=E("mrSG"),b=E("e0ae"),t=E("Mw2x"),n=E("sstZ"),u=E("iTfj"),g=0,x=0,c=0,w=1e3,I,m,r=0,s=0,d=0,C=typeof performance=="object"&&performance.now?performance:Date,S=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(U){setTimeout(U,17)};function A(){return s||(S(f),s=C.now()+d)}function f(){s=0}function O(){this._call=this._time=this._next=null}O.prototype=j.prototype={constructor:O,restart:function(G,nt,vt){if(typeof G!="function")throw new TypeError("callback is not a function");vt=(vt==null?A():+vt)+(nt==null?0:+nt),!this._next&&m!==this&&(m?m._next=this:I=this,m=this),this._call=G,this._time=vt,dt()},stop:function(){this._call&&(this._call=null,this._time=Infinity,dt())}};function j(U,G,nt){var vt=new O;return vt.restart(U,G,nt),vt}function D(){A(),++g;for(var U=I,G;U;)(G=s-U._time)>=0&&U._call.call(null,G),U=U._next;--g}function V(){s=(r=C.now())+d,g=x=0;try{D()}finally{g=0,$(),s=0}}function H(){var U=C.now(),G=U-r;G>w&&(d-=G,r=U)}function $(){for(var U,G=I,nt,vt=Infinity;G;)G._call?(vt>G._time&&(vt=G._time),U=G,G=G._next):(nt=G._next,G._next=null,G=U?U._next=nt:I=nt);m=U,dt(vt)}function dt(U){if(!g){x&&(x=clearTimeout(x));var G=U-s;G>24?(U<Infinity&&(x=setTimeout(V,U-C.now()-d)),c&&(c=clearInterval(c))):(c||(r=C.now(),c=setInterval(H,w)),g=1,S(V))}}function Z(U){return+U}function ct(U){return U*U}function pt(U){return U*(2-U)}function gt(U){return((U*=2)<=1?U*U:--U*(2-U)+1)/2}function at(U){return U*U*U}function Bt(U){return--U*U*U+1}function Lt(U){return((U*=2)<=1?U*U*U:(U-=2)*U*U+2)/2}var Et=3,K=function U(G){G=+G;function nt(vt){return Math.pow(vt,G)}return nt.exponent=U,nt}(Et),ft=function U(G){G=+G;function nt(vt){return 1-Math.pow(1-vt,G)}return nt.exponent=U,nt}(Et),mt=function U(G){G=+G;function nt(vt){return((vt*=2)<=1?Math.pow(vt,G):2-Math.pow(2-vt,G))/2}return nt.exponent=U,nt}(Et),yt=Math.PI,wt=yt/2;function J(U){return+U==1?1:1-Math.cos(U*wt)}function lt(U){return Math.sin(U*wt)}function it(U){return(1-Math.cos(yt*U))/2}function _(U){return(Math.pow(2,-10*U)-.0009765625)*1.0009775171065494}function P(U){return _(1-+U)}function Q(U){return 1-_(U)}function k(U){return((U*=2)<=1?_(1-U):2-_(U-1))/2}function p(U){return 1-Math.sqrt(1-U*U)}function y(U){return Math.sqrt(1- --U*U)}function B(U){return((U*=2)<=1?1-Math.sqrt(1-U*U):Math.sqrt(1-(U-=2)*U)+1)/2}var W=4/11,rt=6/11,st=8/11,ut=3/4,Mt=9/11,bt=10/11,xt=15/16,Ot=21/22,jt=63/64,Dt=1/W/W;function zt(U){return 1-Tt(1-U)}function Tt(U){return(U=+U)<W?Dt*U*U:U<st?Dt*(U-=rt)*U+ut:U<bt?Dt*(U-=Mt)*U+xt:Dt*(U-=Ot)*U+jt}function Vt(U){return((U*=2)<=1?1-Tt(1-U):Tt(U-1)+1)/2}var Ht=1.70158,re=function U(G){G=+G;function nt(vt){return(vt=+vt)*vt*(G*(vt-1)+vt)}return nt.overshoot=U,nt}(Ht),pe=function U(G){G=+G;function nt(vt){return--vt*vt*((vt+1)*G+vt)+1}return nt.overshoot=U,nt}(Ht),me=function U(G){G=+G;function nt(vt){return((vt*=2)<1?vt*vt*((G+1)*vt-G):(vt-=2)*vt*((G+1)*vt+G)+2)/2}return nt.overshoot=U,nt}(Ht),Ee=2*Math.PI,Le=1,Je=.3,On=function U(G,nt){var vt=Math.asin(1/(G=Math.max(1,G)))*(nt/=Ee);function Gt(Jt){return G*_(- --Jt)*Math.sin((vt-Jt)/nt)}return Gt.amplitude=function(Jt){return U(Jt,nt*Ee)},Gt.period=function(Jt){return U(G,Jt)},Gt}(Le,Je),gn=function U(G,nt){var vt=Math.asin(1/(G=Math.max(1,G)))*(nt/=Ee);function Gt(Jt){return 1-G*_(Jt=+Jt)*Math.sin((Jt+vt)/nt)}return Gt.amplitude=function(Jt){return U(Jt,nt*Ee)},Gt.period=function(Jt){return U(G,Jt)},Gt}(Le,Je),Vn=function U(G,nt){var vt=Math.asin(1/(G=Math.max(1,G)))*(nt/=Ee);function Gt(Jt){return((Jt=Jt*2-1)<0?G*_(-Jt)*Math.sin((vt-Jt)/nt):2-G*_(Jt)*Math.sin((vt+Jt)/nt))/2}return Gt.amplitude=function(Jt){return U(Jt,nt*Ee)},Gt.period=function(Jt){return U(G,Jt)},Gt}(Le,Je),kn=function(U,G,nt){U.prototype=G.prototype=nt,nt.constructor=U};function Wn(U,G){var nt=Object.create(U.prototype);for(var vt in G)nt[vt]=G[vt];return nt}function Dn(){}var Nn=.7,Qn=1/Nn,ir="\\s*([+-]?\\d+)\\s*",hr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Er="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mr=/^#([0-9a-f]{3,8})$/,dr=new RegExp("^rgb\\("+[ir,ir,ir]+"\\)$"),Br=new RegExp("^rgb\\("+[Er,Er,Er]+"\\)$"),ii=new RegExp("^rgba\\("+[ir,ir,ir,hr]+"\\)$"),mi=new RegExp("^rgba\\("+[Er,Er,Er,hr]+"\\)$"),Pi=new RegExp("^hsl\\("+[hr,Er,Er]+"\\)$"),sa=new RegExp("^hsla\\("+[hr,Er,Er,hr]+"\\)$"),Pa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kn(Dn,oa,{copy:function(G){return Object.assign(new this.constructor,this,G)},displayable:function(){return this.rgb().displayable()},hex:Mi,formatHex:Mi,formatHsl:Ki,formatRgb:fa,toString:fa});function Mi(){return this.rgb().formatHex()}function Ki(){return li(this).formatHsl()}function fa(){return this.rgb().formatRgb()}function oa(U){var G,nt;return U=(U+"").trim().toLowerCase(),(G=mr.exec(U))?(nt=G[1].length,G=parseInt(G[1],16),nt===6?pa(G):nt===3?new Pr(G>>8&15|G>>4&240,G>>4&15|G&240,(G&15)<<4|G&15,1):nt===8?La(G>>24&255,G>>16&255,G>>8&255,(G&255)/255):nt===4?La(G>>12&15|G>>8&240,G>>8&15|G>>4&240,G>>4&15|G&240,((G&15)<<4|G&15)/255):null):(G=dr.exec(U))?new Pr(G[1],G[2],G[3],1):(G=Br.exec(U))?new Pr(G[1]*255/100,G[2]*255/100,G[3]*255/100,1):(G=ii.exec(U))?La(G[1],G[2],G[3],G[4]):(G=mi.exec(U))?La(G[1]*255/100,G[2]*255/100,G[3]*255/100,G[4]):(G=Pi.exec(U))?ui(G[1],G[2]/100,G[3]/100,1):(G=sa.exec(U))?ui(G[1],G[2]/100,G[3]/100,G[4]):Pa.hasOwnProperty(U)?pa(Pa[U]):U==="transparent"?new Pr(NaN,NaN,NaN,0):null}function pa(U){return new Pr(U>>16&255,U>>8&255,U&255,1)}function La(U,G,nt,vt){return vt<=0&&(U=G=nt=NaN),new Pr(U,G,nt,vt)}function Yr(U){return U instanceof Dn||(U=oa(U)),U?(U=U.rgb(),new Pr(U.r,U.g,U.b,U.opacity)):new Pr}function Ea(U,G,nt,vt){return arguments.length===1?Yr(U):new Pr(U,G,nt,vt==null?1:vt)}function Pr(U,G,nt,vt){this.r=+U,this.g=+G,this.b=+nt,this.opacity=+vt}kn(Pr,Ea,Wn(Dn,{brighter:function(G){return G=G==null?Qn:Math.pow(Qn,G),new Pr(this.r*G,this.g*G,this.b*G,this.opacity)},darker:function(G){return G=G==null?Nn:Math.pow(Nn,G),new Pr(this.r*G,this.g*G,this.b*G,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:si,formatHex:si,formatRgb:ti,toString:ti}));function si(){return"#"+$r(this.r)+$r(this.g)+$r(this.b)}function ti(){var U=this.opacity;return U=isNaN(U)?1:Math.max(0,Math.min(1,U)),(U===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(U===1?")":", "+U+")")}function $r(U){return U=Math.max(0,Math.min(255,Math.round(U)||0)),(U<16?"0":"")+U.toString(16)}function ui(U,G,nt,vt){return vt<=0?U=G=nt=NaN:nt<=0||nt>=1?U=G=NaN:G<=0&&(U=NaN),new Ci(U,G,nt,vt)}function li(U){if(U instanceof Ci)return new Ci(U.h,U.s,U.l,U.opacity);if(U instanceof Dn||(U=oa(U)),!U)return new Ci;if(U instanceof Ci)return U;U=U.rgb();var G=U.r/255,nt=U.g/255,vt=U.b/255,Gt=Math.min(G,nt,vt),Jt=Math.max(G,nt,vt),ie=NaN,ue=Jt-Gt,Ce=(Jt+Gt)/2;return ue?(G===Jt?ie=(nt-vt)/ue+(nt<vt)*6:nt===Jt?ie=(vt-G)/ue+2:ie=(G-nt)/ue+4,ue/=Ce<.5?Jt+Gt:2-Jt-Gt,ie*=60):ue=Ce>0&&Ce<1?0:ie,new Ci(ie,ue,Ce,U.opacity)}function xi(U,G,nt,vt){return arguments.length===1?li(U):new Ci(U,G,nt,vt==null?1:vt)}function Ci(U,G,nt,vt){this.h=+U,this.s=+G,this.l=+nt,this.opacity=+vt}kn(Ci,xi,Wn(Dn,{brighter:function(G){return G=G==null?Qn:Math.pow(Qn,G),new Ci(this.h,this.s,this.l*G,this.opacity)},darker:function(G){return G=G==null?Nn:Math.pow(Nn,G),new Ci(this.h,this.s,this.l*G,this.opacity)},rgb:function(){var G=this.h%360+(this.h<0)*360,nt=isNaN(G)||isNaN(this.s)?0:this.s,vt=this.l,Gt=vt+(vt<.5?vt:1-vt)*nt,Jt=2*vt-Gt;return new Pr(di(G>=240?G-240:G+120,Jt,Gt),di(G,Jt,Gt),di(G<120?G+240:G-120,Jt,Gt),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var G=this.opacity;return G=isNaN(G)?1:Math.max(0,Math.min(1,G)),(G===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(G===1?")":", "+G+")")}}));function di(U,G,nt){return(U<60?G+(nt-G)*U/60:U<180?nt:U<240?G+(nt-G)*(240-U)/60:G)*255}function Ti(U,G,nt,vt,Gt){var Jt=U*U,ie=Jt*U;return((1-3*U+3*Jt-ie)*G+(4-6*Jt+3*ie)*nt+(1+3*U+3*Jt-3*ie)*vt+ie*Gt)/6}var pi=function(U){var G=U.length-1;return function(nt){var vt=nt<=0?nt=0:nt>=1?(nt=1,G-1):Math.floor(nt*G),Gt=U[vt],Jt=U[vt+1],ie=vt>0?U[vt-1]:2*Gt-Jt,ue=vt<G-1?U[vt+2]:2*Jt-Gt;return Ti((nt-vt/G)*G,ie,Gt,Jt,ue)}},Ni=function(U){var G=U.length;return function(nt){var vt=Math.floor(((nt%=1)<0?++nt:nt)*G),Gt=U[(vt+G-1)%G],Jt=U[vt%G],ie=U[(vt+1)%G],ue=U[(vt+2)%G];return Ti((nt-vt/G)*G,Gt,Jt,ie,ue)}},Bi=function(U){return function(){return U}};function Fi(U,G){return function(nt){return U+nt*G}}function ma(U,G,nt){return U=Math.pow(U,nt),G=Math.pow(G,nt)-U,nt=1/nt,function(vt){return Math.pow(U+vt*G,nt)}}function ua(U,G){var nt=G-U;return nt?Fi(U,nt>180||nt<-180?nt-360*Math.round(nt/360):nt):Bi(isNaN(U)?G:U)}function Ra(U){return(U=+U)==1?xa:function(G,nt){return nt-G?ma(G,nt,U):Bi(isNaN(G)?nt:G)}}function xa(U,G){var nt=G-U;return nt?Fi(U,nt):Bi(isNaN(U)?G:U)}var Ma=function U(G){var nt=Ra(G);function vt(Gt,Jt){var ie=nt((Gt=Ea(Gt)).r,(Jt=Ea(Jt)).r),ue=nt(Gt.g,Jt.g),Ce=nt(Gt.b,Jt.b),we=xa(Gt.opacity,Jt.opacity);return function(cn){return Gt.r=ie(cn),Gt.g=ue(cn),Gt.b=Ce(cn),Gt.opacity=we(cn),Gt+""}}return vt.gamma=U,vt}(1);function Qi(U){return function(G){var nt=G.length,vt=new Array(nt),Gt=new Array(nt),Jt=new Array(nt),ie,ue;for(ie=0;ie<nt;++ie)ue=Ea(G[ie]),vt[ie]=ue.r||0,Gt[ie]=ue.g||0,Jt[ie]=ue.b||0;return vt=U(vt),Gt=U(Gt),Jt=U(Jt),ue.opacity=1,function(Ce){return ue.r=vt(Ce),ue.g=Gt(Ce),ue.b=Jt(Ce),ue+""}}}var ka=Qi(pi),vo=Qi(Ni),za=function(U,G){G||(G=[]);var nt=U?Math.min(G.length,U.length):0,vt=G.slice(),Gt;return function(Jt){for(Gt=0;Gt<nt;++Gt)vt[Gt]=U[Gt]*(1-Jt)+G[Gt]*Jt;return vt}};function Ga(U){return ArrayBuffer.isView(U)&&!(U instanceof DataView)}var eo=function(U,G){return(Ga(G)?za:ae)(U,G)};function ae(U,G){var nt=G?G.length:0,vt=U?Math.min(nt,U.length):0,Gt=new Array(vt),Jt=new Array(nt),ie;for(ie=0;ie<vt;++ie)Gt[ie]=sn(U[ie],G[ie]);for(;ie<nt;++ie)Jt[ie]=G[ie];return function(ue){for(ie=0;ie<vt;++ie)Jt[ie]=Gt[ie](ue);return Jt}}var Kt=function(U,G){var nt=new Date;return U=+U,G=+G,function(vt){return nt.setTime(U*(1-vt)+G*vt),nt}},te=function(U,G){return U=+U,G=+G,function(nt){return U*(1-nt)+G*nt}},Oe=function(U,G){var nt={},vt={},Gt;(U===null||typeof U!="object")&&(U={}),(G===null||typeof G!="object")&&(G={});for(Gt in G)Gt in U?nt[Gt]=sn(U[Gt],G[Gt]):vt[Gt]=G[Gt];return function(Jt){for(Gt in nt)vt[Gt]=nt[Gt](Jt);return vt}},Ze=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,An=new RegExp(Ze.source,"g");function qn(U){return function(){return U}}function rr(U){return function(G){return U(G)+""}}var tn=function(U,G){var nt=Ze.lastIndex=An.lastIndex=0,vt,Gt,Jt,ie=-1,ue=[],Ce=[];for(U=U+"",G=G+"";(vt=Ze.exec(U))&&(Gt=An.exec(G));)(Jt=Gt.index)>nt&&(Jt=G.slice(nt,Jt),ue[ie]?ue[ie]+=Jt:ue[++ie]=Jt),(vt=vt[0])===(Gt=Gt[0])?ue[ie]?ue[ie]+=Gt:ue[++ie]=Gt:(ue[++ie]=null,Ce.push({i:ie,x:te(vt,Gt)})),nt=An.lastIndex;return nt<G.length&&(Jt=G.slice(nt),ue[ie]?ue[ie]+=Jt:ue[++ie]=Jt),ue.length<2?Ce[0]?rr(Ce[0].x):qn(G):(G=Ce.length,function(we){for(var cn=0,Cn;cn<G;++cn)ue[(Cn=Ce[cn]).i]=Cn.x(we);return ue.join("")})},sn=function(U,G){var nt=typeof G,vt;return G==null||nt==="boolean"?Bi(G):(nt==="number"?te:nt==="string"?(vt=oa(G))?(G=vt,Ma):tn:G instanceof oa?Ma:G instanceof Date?Kt:Ga(G)?za:Array.isArray(G)?ae:typeof G.valueOf!="function"&&typeof G.toString!="function"||isNaN(G)?Oe:te)(U,G)},un=E("tvuL"),ur=function(G){return["fill","stroke","fillStyle","strokeStyle"].includes(G)},jr=function(G){return/^[r,R,L,l]{1}[\s]*\(/.test(G)},wr=[1,0,0,0,1,0,0,0,1];function yr(U,G,nt){var vt={},Gt=G.fromAttrs,Jt=G.toAttrs;if(!U.destroyed){var ie;for(var ue in Jt)if(!Object(u.isEqual)(Gt[ue],Jt[ue]))if(ue==="path"){var Ce=Jt[ue],we=Gt[ue];Ce.length>we.length?(Ce=un.parsePathString(Jt[ue]),we=un.parsePathString(Gt[ue]),we=un.fillPathByDiff(we,Ce),we=un.formatPath(we,Ce),G.fromAttrs.path=we,G.toAttrs.path=Ce):G.pathFormatted||(Ce=un.parsePathString(Jt[ue]),we=un.parsePathString(Gt[ue]),we=un.formatPath(we,Ce),G.fromAttrs.path=we,G.toAttrs.path=Ce,G.pathFormatted=!0),vt[ue]=[];for(var cn=0;cn<Ce.length;cn++){for(var Cn=Ce[cn],_t=we[cn],Xt=[],Se=0;Se<Cn.length;Se++)Object(u.isNumber)(Cn[Se])&&_t&&Object(u.isNumber)(_t[Se])?(ie=sn(_t[Se],Cn[Se]),Xt.push(ie(nt))):Xt.push(Cn[Se]);vt[ue].push(Xt)}}else if(ue==="matrix"){var Wt=eo(Gt[ue]||wr,Jt[ue]||wr),ce=Wt(nt);vt[ue]=ce}else ur(ue)&&jr(Jt[ue])?vt[ue]=Jt[ue]:Object(u.isFunction)(Jt[ue])||(ie=sn(Gt[ue],Jt[ue]),vt[ue]=ie(nt));U.attr(vt)}}function ni(U,G,nt){var vt=G.startTime,Gt=G.delay;if(nt<vt+Gt||G._paused)return!1;var Jt,ie=G.duration,ue=G.easing;if(nt=nt-vt-G.delay,G.repeat)Jt=nt%ie/ie,Jt=Y[ue](Jt);else if(Jt=nt/ie,Jt<1)Jt=Y[ue](Jt);else return G.onFrame?U.attr(G.onFrame(1)):U.attr(G.toAttrs),!0;if(G.onFrame){var Ce=G.onFrame(Jt);U.attr(Ce)}else yr(U,G,Jt);return!1}var _r=function(){function U(G){this.animators=[],this.current=0,this.timer=null,this.canvas=G}return U.prototype.initTimer=function(){var G=this,nt=!1,vt,Gt,Jt;this.timer=j(function(ie){if(G.current=ie,G.animators.length>0){for(var ue=G.animators.length-1;ue>=0;ue--){if(vt=G.animators[ue],vt.destroyed){G.removeAnimator(ue);continue}if(!vt.isAnimatePaused()){Gt=vt.get("animations");for(var Ce=Gt.length-1;Ce>=0;Ce--)Jt=Gt[Ce],nt=ni(vt,Jt,ie),nt&&(Gt.splice(Ce,1),nt=!1,Jt.callback&&Jt.callback())}Gt.length===0&&G.removeAnimator(ue)}var we=G.canvas.get("autoDraw");we||G.canvas.draw()}})},U.prototype.addAnimator=function(G){this.animators.push(G)},U.prototype.removeAnimator=function(G){this.animators.splice(G,1)},U.prototype.isAnimating=function(){return!!this.animators.length},U.prototype.stop=function(){this.timer&&this.timer.stop()},U.prototype.stopAllAnimations=function(G){G===void 0&&(G=!0),this.animators.forEach(function(nt){nt.stopAnimate(G)}),this.animators=[],this.canvas.draw()},U.prototype.getTime=function(){return this.current},U}(),Fr=_r,Lr=E("5eLp"),Gr=40,Hr=0,ei=":",Kr=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Qr(U,G){for(var nt in U)if(U.hasOwnProperty(nt)&&nt.indexOf(ei+G)>=0)return!0;return!1}function Oi(U,G,nt){nt.name=G,nt.target=U,nt.currentTarget=U,nt.delegateTarget=U,U.emit(G,nt)}function Ri(U,G,nt){if(nt.bubbles){var vt=void 0,Gt=!1;if(G==="mouseenter"?(vt=nt.fromShape,Gt=!0):G==="mouseleave"&&(Gt=!0,vt=nt.toShape),U.isCanvas()&&Gt)return;if(vt&&Object(n.g)(U,vt)){nt.bubbles=!1;return}nt.name=G,nt.currentTarget=U,nt.delegateTarget=U,U.emit(G,nt)}}var Ei=function(){function U(G){var nt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(vt){var Gt=vt.type;nt._triggerEvent(Gt,vt)},this._onDocumentMove=function(vt){var Gt=nt.canvas,Jt=Gt.get("el");if(Jt!==vt.target&&(nt.dragging||nt.currentShape)){var ie=nt._getPointInfo(vt);nt.dragging&&nt._emitEvent("drag",vt,ie,nt.draggingShape)}},this._onDocumentMouseUp=function(vt){var Gt=nt.canvas,Jt=Gt.get("el");if(Jt!==vt.target&&nt.dragging){var ie=nt._getPointInfo(vt);nt.draggingShape&&nt._emitEvent("drop",vt,ie,null),nt._emitEvent("dragend",vt,ie,nt.draggingShape),nt._afterDrag(nt.draggingShape,ie,vt)}},this.canvas=G.canvas}return U.prototype.init=function(){this._bindEvents()},U.prototype._bindEvents=function(){var G=this,nt=this.canvas.get("el");Object(n.a)(Kr,function(vt){nt.addEventListener(vt,G._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},U.prototype._clearEvents=function(){var G=this,nt=this.canvas.get("el");Object(n.a)(Kr,function(vt){nt.removeEventListener(vt,G._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},U.prototype._getEventObj=function(G,nt,vt,Gt,Jt,ie){var ue=new Lr.a(G,nt);return ue.fromShape=Jt,ue.toShape=ie,ue.x=vt.x,ue.y=vt.y,ue.clientX=vt.clientX,ue.clientY=vt.clientY,ue.propagationPath.push(Gt),ue},U.prototype._getShape=function(G,nt){return this.canvas.getShape(G.x,G.y,nt)},U.prototype._getPointInfo=function(G){var nt=this.canvas,vt=nt.getClientByEvent(G),Gt=nt.getPointByEvent(G);return{x:Gt.x,y:Gt.y,clientX:vt.x,clientY:vt.y}},U.prototype._triggerEvent=function(G,nt){var vt=this._getPointInfo(nt),Gt=this._getShape(vt,nt),Jt=this["_on"+G],ie=!1;if(Jt)Jt.call(this,vt,Gt,nt);else{var ue=this.currentShape;G==="mouseenter"||G==="dragenter"||G==="mouseover"?(this._emitEvent(G,nt,vt,null,null,Gt),Gt&&this._emitEvent(G,nt,vt,Gt,null,Gt),G==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",nt,vt,null)):G==="mouseleave"||G==="dragleave"||G==="mouseout"?(ie=!0,ue&&this._emitEvent(G,nt,vt,ue,ue,null),this._emitEvent(G,nt,vt,null,ue,null),G==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",nt,vt,null)):this._emitEvent(G,nt,vt,Gt,null,null)}if(ie||(this.currentShape=Gt),Gt&&!Gt.get("destroyed")){var Ce=this.canvas,we=Ce.get("el");we.style.cursor=Gt.attr("cursor")||Ce.get("cursor")}},U.prototype._onmousedown=function(G,nt,vt){vt.button===Hr&&(this.mousedownShape=nt,this.mousedownPoint=G,this.mousedownTimeStamp=vt.timeStamp),this._emitEvent("mousedown",vt,G,nt,null,null)},U.prototype._emitMouseoverEvents=function(G,nt,vt,Gt){var Jt=this.canvas.get("el");vt!==Gt&&(vt&&(this._emitEvent("mouseout",G,nt,vt,vt,Gt),this._emitEvent("mouseleave",G,nt,vt,vt,Gt),(!Gt||Gt.get("destroyed"))&&(Jt.style.cursor=this.canvas.get("cursor"))),Gt&&(this._emitEvent("mouseover",G,nt,Gt,vt,Gt),this._emitEvent("mouseenter",G,nt,Gt,vt,Gt)))},U.prototype._emitDragoverEvents=function(G,nt,vt,Gt,Jt){Gt?(Gt!==vt&&(vt&&this._emitEvent("dragleave",G,nt,vt,vt,Gt),this._emitEvent("dragenter",G,nt,Gt,vt,Gt)),Jt||this._emitEvent("dragover",G,nt,Gt)):vt&&this._emitEvent("dragleave",G,nt,vt,vt,Gt),Jt&&this._emitEvent("dragover",G,nt,Gt)},U.prototype._afterDrag=function(G,nt,vt){G&&(G.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Gt=this._getShape(nt,vt);Gt!==G&&this._emitMouseoverEvents(vt,nt,G,Gt),this.currentShape=Gt},U.prototype._onmouseup=function(G,nt,vt){if(vt.button===Hr){var Gt=this.draggingShape;this.dragging?(Gt&&this._emitEvent("drop",vt,G,nt),this._emitEvent("dragend",vt,G,Gt),this._afterDrag(Gt,G,vt)):(this._emitEvent("mouseup",vt,G,nt),nt===this.mousedownShape&&this._emitEvent("click",vt,G,nt),this.mousedownShape=null,this.mousedownPoint=null)}},U.prototype._ondragover=function(G,nt,vt){vt.preventDefault();var Gt=this.currentShape;this._emitDragoverEvents(vt,G,Gt,nt,!0)},U.prototype._onmousemove=function(G,nt,vt){var Gt=this.canvas,Jt=this.currentShape,ie=this.draggingShape;if(this.dragging)ie&&this._emitDragoverEvents(vt,G,Jt,nt,!1),this._emitEvent("drag",vt,G,ie);else{var ue=this.mousedownPoint;if(ue){var Ce=this.mousedownShape,we=vt.timeStamp,cn=we-this.mousedownTimeStamp,Cn=ue.clientX-G.clientX,_t=ue.clientY-G.clientY,Xt=Cn*Cn+_t*_t;cn>120||Xt>Gr?Ce&&Ce.get("draggable")?(ie=this.mousedownShape,ie.set("capture",!1),this.draggingShape=ie,this.dragging=!0,this._emitEvent("dragstart",vt,G,ie),this.mousedownShape=null,this.mousedownPoint=null):!Ce&&Gt.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",vt,G,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(vt,G,Jt,nt),this._emitEvent("mousemove",vt,G,nt)):(this._emitMouseoverEvents(vt,G,Jt,nt),this._emitEvent("mousemove",vt,G,nt))}else this._emitMouseoverEvents(vt,G,Jt,nt),this._emitEvent("mousemove",vt,G,nt)}},U.prototype._emitEvent=function(G,nt,vt,Gt,Jt,ie){var ue=this._getEventObj(G,nt,vt,Gt,Jt,ie);if(Gt){ue.shape=Gt,Oi(Gt,G,ue);for(var Ce=Gt.getParent();Ce;)Ce.emitDelegation(G,ue),ue.propagationStopped||Ri(Ce,G,ue),ue.propagationPath.push(Ce),Ce=Ce.getParent()}else{var we=this.canvas;Oi(we,G,ue)}},U.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},U}(),Gi=Ei,ca="px",ha=Object(b.a)(),na=ha&&ha.name==="firefox",Zi=function(U){Object(i.b)(G,U);function G(nt){var vt=U.call(this,nt)||this;return vt.initContainer(),vt.initDom(),vt.initEvents(),vt.initTimeline(),vt}return G.prototype.getDefaultCfg=function(){var nt=U.prototype.getDefaultCfg.call(this);return nt.cursor="default",nt.supportCSSTransform=!1,nt},G.prototype.initContainer=function(){var nt=this.get("container");Object(n.h)(nt)&&(nt=document.getElementById(nt),this.set("container",nt))},G.prototype.initDom=function(){var nt=this.createDom();this.set("el",nt);var vt=this.get("container");vt.appendChild(nt),this.setDOMSize(this.get("width"),this.get("height"))},G.prototype.initEvents=function(){var nt=new Gi({canvas:this});nt.init(),this.set("eventController",nt)},G.prototype.initTimeline=function(){var nt=new Fr(this);this.set("timeline",nt)},G.prototype.setDOMSize=function(nt,vt){var Gt=this.get("el");n.c&&(Gt.style.width=nt+ca,Gt.style.height=vt+ca)},G.prototype.changeSize=function(nt,vt){this.setDOMSize(nt,vt),this.set("width",nt),this.set("height",vt),this.onCanvasChange("changeSize")},G.prototype.getRenderer=function(){return this.get("renderer")},G.prototype.getCursor=function(){return this.get("cursor")},G.prototype.setCursor=function(nt){this.set("cursor",nt);var vt=this.get("el");n.c&&vt&&(vt.style.cursor=nt)},G.prototype.getPointByEvent=function(nt){var vt=this.get("supportCSSTransform");if(vt){if(na&&!Object(n.e)(nt.layerX)&&nt.layerX!==nt.offsetX)return{x:nt.layerX,y:nt.layerY};if(!Object(n.e)(nt.offsetX))return{x:nt.offsetX,y:nt.offsetY}}var Gt=this.getClientByEvent(nt),Jt=Gt.x,ie=Gt.y;return this.getPointByClient(Jt,ie)},G.prototype.getClientByEvent=function(nt){var vt=nt;return nt.touches&&(nt.type==="touchend"?vt=nt.changedTouches[0]:vt=nt.touches[0]),{x:vt.clientX,y:vt.clientY}},G.prototype.getPointByClient=function(nt,vt){var Gt=this.get("el"),Jt=Gt.getBoundingClientRect();return{x:nt-Jt.left,y:vt-Jt.top}},G.prototype.getClientByPoint=function(nt,vt){var Gt=this.get("el"),Jt=Gt.getBoundingClientRect();return{x:nt+Jt.left,y:vt+Jt.top}},G.prototype.draw=function(){},G.prototype.removeDom=function(){var nt=this.get("el");nt.parentNode.removeChild(nt)},G.prototype.clearEvents=function(){var nt=this.get("eventController");nt.destroy()},G.prototype.isCanvas=function(){return!0},G.prototype.getParent=function(){return null},G.prototype.destroy=function(){var nt=this.get("timeline");this.get("destroyed")||(this.clear(),nt&&nt.stop(),this.clearEvents(),this.removeDom(),U.prototype.destroy.call(this))},G}(t.a),ve=Pt.a=Zi},Em2t:function(qe,Pt,E){var Y=E("bahg"),i=E("quyA"),b=E("0JQy");function t(n){return i(n)?b(n):Y(n)}qe.exports=t},EpBk:function(qe,Pt){function E(Y){var i=typeof Y;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?Y!=="__proto__":Y===null}qe.exports=E},"F/eT":function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return Y});function Y(i){return typeof i=="number"&&!isNaN(i)}},FAXy:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return j});var Y=E("mrSG"),i=E("zJSt"),b=E("iTfj"),t=E("w02o"),n=E("YuPD"),u=E("tKoa"),g="liquid";function x(D){return[{percent:D,type:g}]}function c(D){var V=D.chart,H=D.options,$=H.percent,dt=H.color,Z=H.liquidStyle,ct=H.radius,pt=H.outline,gt=H.wave;V.scale({percent:{min:0,max:1}}),V.data(x($));var at=Object(n.b)({},D,{options:{xField:"type",yField:"percent",widthRatio:ct,interval:{color:dt,style:Z,shape:"liquid-fill-gauge"}}}),Bt=Object(u.c)(at).ext,Lt=Bt.geometry;return Lt.customInfo({radius:ct,outline:pt,wave:gt}),V.legend(!1),V.axis(!1),V.tooltip(!1),D}function w(D,V){var H=D.chart,$=D.options,dt=$.statistic,Z=$.percent,ct=$.meta;if(H.getController("annotation").clear(!0),dt.content&&!dt.content.formatter){var pt=Object(b.get)(ct,["percent","formatter"]);dt.content.formatter=function(gt){var at=gt.percent;return pt?pt(at):(at*100).toFixed(2)+"%"}}return Object(n.m)(H,{statistic:dt,plotType:"liquid"},{percent:Z}),V&&H.render(!0),D}function I(D){return Object(n.e)(c,w,Object(t.f)({}),t.a,t.j,t.c)(D)}var m=E("Ihc8"),r=E("qaDU"),s=5e3;function d(D,V,H){return D+(V-D)*H}function C(D){var V=Object(Y.a)({opacity:1},D.style);return D.color&&!V.fill&&(V.fill=D.color),V}function S(D){var V={fill:"#fff",fillOpacity:0,lineWidth:4},H=Object(b.mix)({},V,D.style);return D.color&&!H.stroke&&(H.stroke=D.color),Object(b.isNumber)(D.opacity)&&(H.opacity=H.strokeOpacity=D.opacity),H}function A(D,V,H,$){return V===0?[[D+1/2*H/Math.PI/2,$/2],[D+1/2*H/Math.PI,$],[D+H/4,$]]:V===1?[[D+1/2*H/Math.PI/2*(Math.PI-2),$],[D+1/2*H/Math.PI/2*(Math.PI-1),$/2],[D+H/4,0]]:V===2?[[D+1/2*H/Math.PI/2,-$/2],[D+1/2*H/Math.PI,-$],[D+H/4,-$]]:[[D+1/2*H/Math.PI/2*(Math.PI-2),-$],[D+1/2*H/Math.PI/2*(Math.PI-1),-$/2],[D+H/4,0]]}function f(D,V,H,$,dt,Z,ct){for(var pt=Math.ceil(2*D/H*4)*4,gt=[],at=$;at<-Math.PI*2;)at+=Math.PI*2;for(;at>0;)at-=Math.PI*2;at=at/Math.PI/2*H;var Bt=Z-D+at-D*2;gt.push(["M",Bt,V]);for(var Lt=0,Et=0;Et<pt;++Et){var K=Et%4,ft=A(Et*H/4,K,H,dt);gt.push(["C",ft[0][0]+Bt,-ft[0][1]+V,ft[1][0]+Bt,-ft[1][1]+V,ft[2][0]+Bt,-ft[2][1]+V]),Et===pt-1&&(Lt=ft[2][0])}return gt.push(["L",Lt+Bt,ct+D]),gt.push(["L",Bt,ct+D]),gt.push(["Z"]),gt}function O(D,V,H,$,dt,Z,ct,pt,gt){for(var at=dt.fill,Bt=dt.opacity,Lt=ct.getBBox(),Et=Lt.maxX-Lt.minX,K=Lt.maxY-Lt.minY,ft=0;ft<$;ft++){var mt=$<=1?0:ft/($-1),yt=Z.addShape("path",{name:"waterwave-path",attrs:{path:f(pt,Lt.minY+K*H,gt,0,Et/32,D,V),fill:at,opacity:d(.2,.9,mt)*Bt}});try{var wt=Object(r.a)([["t",gt,0]]);yt.stopAnimate(),yt.animate({matrix:wt},{duration:d(.5*s,s,mt),repeat:!0})}catch(J){console.warn("off-screen group animate error!")}}}Object(m.registerShape)("interval","liquid-fill-gauge",{draw:function(V,H){var $=.5,dt=.5,Z=V.customInfo,ct=Z.radius,pt=Z.outline,gt=Z.wave,at=pt.border,Bt=pt.distance,Lt=gt.count,Et=gt.length,K=Object(b.reduce)(V.points,function(P,Q){return Math.min(P,Q.x)},Infinity),ft=this.parsePoint({x:$,y:dt}),mt=this.parsePoint({x:K,y:dt}),yt=ft.x-mt.x,wt=Math.min(yt,mt.y*ct),J=C(V),lt=S(V);H.addShape("circle",{name:"wrap",attrs:Object(b.mix)(lt,{x:ft.x,y:ft.y,r:wt,fill:"transparent",lineWidth:at})});var it=H.addGroup({name:"waves"}),_=it.setClip({type:"circle",attrs:{x:ft.x,y:ft.y,r:wt-Bt-at/2}});return O(ft.x,ft.y,1-V.points[1].y,Lt,J,it,_,wt*2,Et),H}});var j=function(D){Object(Y.b)(V,D);function V(){var H=D!==null&&D.apply(this,arguments)||this;return H.type="liquid",H}return V.prototype.getDefaultOptions=function(){return{color:"#6a99f9",radius:.9,statistic:{title:!1,content:{formatter:function($){var dt=$.percent;return(dt*100).toFixed(2)+"%"},style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192}}},V.prototype.changeData=function(H){this.updateOption({percent:H}),this.chart.data(x(H)),w({chart:this.chart,options:this.options},!0)},V.prototype.getSchemaAdaptor=function(){return I},V}(i.a)},FH2j:function(qe,Pt,E){"use strict";E.d(Pt,"getAdjust",function(){return n}),E.d(Pt,"registerAdjust",function(){return u});var Y=E("Qci9"),i=E("WbAE"),b=E.n(i),t={},n=function(x){return t[x.toLowerCase()]},u=function(x,c){if(n(x))throw new Error("Adjust type '"+x+"' existed.");t[x.toLowerCase()]=c}},FLLP:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return V});var Y=E("mrSG"),i=E("zJSt"),b=E("iTfj"),t=E("w02o"),n=E("tKoa"),u=E("YuPD"),g="$$yField$$",x="$$diffField$$",c="$$absoluteField$$",w="$$isTotal$$";function I(H,$,dt,Z,ct){var pt,gt=[];if(Object(b.reduce)(H,function(Bt,Lt){var Et;Object(u.j)(u.a.WARN,Object(b.isNumber)(Lt[dt]),Lt[dt]+" is not a valid number");var K=Object(b.isUndefined)(Lt[dt])?null:Lt[dt];return gt.push(Object(Y.a)(Object(Y.a)({},Lt),(Et={},Et[Z]=[Bt,Bt+K],Et))),Bt+K},0),gt.length&&ct){var at=Object(b.get)(gt,[[H.length-1],Z,[1]]);gt.push((pt={},pt[$]=ct.label,pt[dt]=at,pt[Z]=[0,at],pt))}return gt}function m(H,$,dt,Z){var ct=I(H,$,dt,g,Z);return ct.map(function(pt,gt){var at;return Object(b.isObject)(pt)?Object(Y.a)(Object(Y.a)({},pt),(at={},at[c]=pt[g][1],at[x]=pt[g][1]-pt[g][0],at[w]=gt===H.length,at)):pt})}var r=E("Ihc8");function s(H){for(var $=[],dt=0;dt<H.length;dt++){var Z=H[dt];if(Z){var ct=dt===0?"M":"L";$.push([ct,Z.x,Z.y])}}var pt=H[0];return $.push(["L",pt.x,pt.y]),$.push(["z"]),$}function d(H){return Object(u.b)({},H.defaultStyle,H.style,{fill:H.color})}Object(r.registerShape)("interval","waterfall",{draw:function($,dt){var Z=$.customInfo,ct=$.points,pt=$.nextPoints,gt=dt.addGroup(),at=this.parsePath(s(ct)),Bt=d($);gt.addShape("path",{attrs:Object(Y.a)(Object(Y.a)({},Bt),{path:at})});var Lt=Object(b.get)(Z,"leaderLine");if(Lt&&pt){var Et=[["M",ct[2].x,ct[2].y],["L",pt[0].x,pt[0].y]];ct[2].y===pt[1].y&&(Et[1]=["L",pt[1].x,pt[1].y]),Et=this.parsePath(Et),gt.addShape("path",{attrs:Object(Y.a)({path:Et},Lt.style||{})})}return gt}});function C(H){var $=H.chart,dt=H.options,Z=dt.data,ct=dt.xField,pt=dt.yField,gt=dt.total,at=dt.leaderLine,Bt=dt.columnWidthRatio,Lt=dt.waterfallStyle,Et=dt.risingFill,K=dt.fallingFill,ft=dt.color;$.data(m(Z,ct,pt,gt));var mt=ft||function(lt){return Object(b.get)(lt,[w])?Object(b.get)(gt,["style","fill"],""):Object(b.get)(lt,[g,1])-Object(b.get)(lt,[g,0])>0?Et:K},yt=Object(u.b)({},H,{options:{xField:ct,yField:g,seriesField:ct,rawFields:[pt,x,w,g],widthRatio:Bt,interval:{style:Lt,shape:"waterfall",color:mt}}}),wt=Object(n.c)(yt).ext,J=wt.geometry;return J.customInfo({leaderLine:at}),H}function S(H){var $,dt,Z=H.options,ct=Z.xAxis,pt=Z.yAxis,gt=Z.xField,at=Z.yField,Bt=Z.meta,Lt=Object(u.b)({},{alias:at},Object(b.get)(Bt,at));return Object(u.e)(Object(t.f)(($={},$[gt]=ct,$[at]=pt,$[g]=pt,$),Object(u.b)({},Bt,(dt={},dt[g]=Lt,dt[x]=Lt,dt[c]=Lt,dt))))(H)}function A(H){var $=H.chart,dt=H.options,Z=dt.xAxis,ct=dt.yAxis,pt=dt.xField,gt=dt.yField;return Z===!1?$.axis(pt,!1):$.axis(pt,Z),ct===!1?($.axis(gt,!1),$.axis(g,!1)):($.axis(gt,ct),$.axis(g,ct)),H}function f(H){var $=H.chart,dt=H.options,Z=dt.legend,ct=dt.total,pt=dt.risingFill,gt=dt.fallingFill;if(Z===!1)$.legend(!1);else{var at=[{name:"\u589E\u52A0",value:"increase",marker:{symbol:"square",style:{r:5,fill:pt}}},{name:"\u51CF\u5C11",value:"decrease",marker:{symbol:"square",style:{r:5,fill:gt}}}];ct&&at.push({name:ct.label||"",value:"total",marker:{symbol:"square",style:Object(u.b)({},{r:5},Object(b.get)(ct,"style"))}}),$.legend(Object(u.b)({},{custom:!0,position:"top",items:at},Z)),$.removeInteraction("legend-filter")}return H}function O(H){var $=H.chart,dt=H.options,Z=dt.label,ct=dt.labelMode,pt=dt.xField,gt=Object(u.c)($,"interval");if(!Z)gt.label(!1);else{var at=Z.callback,Bt=Object(Y.c)(Z,["callback"]);gt.label({fields:ct==="absolute"?[c,pt]:[x,pt],callback:at,cfg:Object(u.o)(Bt)})}return H}function j(H){var $=H.chart,dt=H.options,Z=dt.tooltip,ct=dt.xField,pt=dt.yField;if(Z!==!1){$.tooltip(Object(Y.a)({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[pt]},Z));var gt=$.geometries[0];(Z==null?void 0:Z.formatter)?gt.tooltip(ct+"*"+pt,Z.formatter):gt.tooltip(pt)}else $.tooltip(!1);return H}function D(H){return Object(u.e)(C,S,A,f,j,O,t.i,t.j,t.c,t.a,Object(t.b)())(H)}var V=function(H){Object(Y.b)($,H);function $(){var dt=H!==null&&H.apply(this,arguments)||this;return dt.type="waterfall",dt}return $.prototype.changeData=function(dt){var Z=this.options,ct=Z.xField,pt=Z.yField,gt=Z.total;this.updateOption({data:dt}),this.chart.changeData(m(dt,ct,pt,gt))},$.prototype.getSchemaAdaptor=function(){return D},$.prototype.getDefaultOptions=function(){return{label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{label:"\u603B\u8BA1",style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}}},$}(i.a)},FPPI:function(qe,Pt,E){"use strict";Pt.a=function(Y,i,b,t,n){for(var u=Y.children,g,x=-1,c=u.length,w=Y.value&&(t-i)/Y.value;++x<c;)g=u[x],g.y0=b,g.y1=n,g.x0=i,g.x1=i+=g.value*w}},FxDU:function(qe,Pt,E){"use strict";Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.createSensor=void 0;var Y=E("QO+J"),i=E("j5sG"),b=typeof ResizeObserver!="undefined"?i.createSensor:Y.createSensor;Pt.createSensor=b},H8j4:function(qe,Pt,E){var Y=E("QkVE");function i(b,t){var n=Y(this,b),u=n.size;return n.set(b,t),this.size+=n.size==u?0:1,this}qe.exports=i},HDyB:function(qe,Pt,E){var Y=E("nmnc"),i=E("JHRd"),b=E("ljhN"),t=E("or5M"),n=E("7fqy"),u=E("rEGp"),g=1,x=2,c="[object Boolean]",w="[object Date]",I="[object Error]",m="[object Map]",r="[object Number]",s="[object RegExp]",d="[object Set]",C="[object String]",S="[object Symbol]",A="[object ArrayBuffer]",f="[object DataView]",O=Y?Y.prototype:void 0,j=O?O.valueOf:void 0;function D(V,H,$,dt,Z,ct,pt){switch($){case f:if(V.byteLength!=H.byteLength||V.byteOffset!=H.byteOffset)return!1;V=V.buffer,H=H.buffer;case A:return!(V.byteLength!=H.byteLength||!ct(new i(V),new i(H)));case c:case w:case r:return b(+V,+H);case I:return V.name==H.name&&V.message==H.message;case s:case C:return V==H+"";case m:var gt=n;case d:var at=dt&g;if(gt||(gt=u),V.size!=H.size&&!at)return!1;var Bt=pt.get(V);if(Bt)return Bt==H;dt|=x,pt.set(V,H);var Lt=t(gt(V),gt(H),dt,Z,ct,pt);return pt.delete(V),Lt;case S:if(j)return j.call(V)==j.call(H)}return!1}qe.exports=D},HOxn:function(qe,Pt,E){var Y=E("Cwc5"),i=E("Kz5y"),b=Y(i,"Promise");qe.exports=b},Hvzi:function(qe,Pt){function E(Y){var i=this.has(Y)&&delete this.__data__[Y];return this.size-=i?1:0,i}qe.exports=E},I4jL:function(qe,Pt,E){"use strict";E.d(Pt,"b",function(){return b}),E.d(Pt,"c",function(){return t});var Y=E("FPPI"),i=E("7IPS"),b=(1+Math.sqrt(5))/2;function t(n,u,g,x,c,w){for(var I=[],m=u.children,r,s,d=0,C=0,S=m.length,A,f,O=u.value,j,D,V,H,$,dt,Z;d<S;){A=c-g,f=w-x;do j=m[C++].value;while(!j&&C<S);for(D=V=j,dt=Math.max(f/A,A/f)/(O*n),Z=j*j*dt,$=Math.max(V/Z,Z/D);C<S;++C){if(j+=s=m[C].value,s<D&&(D=s),s>V&&(V=s),Z=j*j*dt,H=Math.max(V/Z,Z/D),H>$){j-=s;break}$=H}I.push(r={value:j,dice:A<f,children:m.slice(d,C)}),r.dice?Object(Y.a)(r,g,x,c,O?x+=f*j/O:w):Object(i.a)(r,g,x,O?g+=A*j/O:c,w),O-=j,d=C}return I}Pt.a=function n(u){function g(x,c,w,I,m){t(u,x,c,w,I,m)}return g.ratio=function(x){return n((x=+x)>1?x:1)},g}(b)},I7nc:function(qe,Pt,E){"use strict";E.d(Pt,"b",function(){return b}),E.d(Pt,"a",function(){return t});var Y=E("iTfj"),i="Invalid field: it must be a string!";function b(n,u){var g=n.field,x=n.fields;if(Object(Y.isString)(g))return g;if(Object(Y.isArray)(g))return console.warn(i),g[0];if(console.warn(i+" will try to get fields instead."),Object(Y.isString)(x))return x;if(Object(Y.isArray)(x)&&x.length)return x[0];if(u)return u;throw new TypeError(i)}function t(n){var u=[];return n&&n.each?n.each(function(g){u.push(g)}):n&&n.eachNode&&n.eachNode(function(g){u.push(g)}),u}},IeU1:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return Y}),E.d(Pt,"b",function(){return i});function Y(b){return b==null?null:i(b)}function i(b){if(typeof b!="function")throw new Error;return b}},Ihc8:function(qe,Pt,E){"use strict";E.r(Pt),E.d(Pt,"VERSION",function(){return Rr}),E.d(Pt,"Chart",function(){return Wa}),E.d(Pt,"View",function(){return So}),E.d(Pt,"Event",function(){return $i}),E.d(Pt,"ComponentController",function(){return ja}),E.d(Pt,"TooltipController",function(){return wa}),E.d(Pt,"Geometry",function(){return Da}),E.d(Pt,"Element",function(){return Lo}),E.d(Pt,"GeometryLabel",function(){return Ge}),E.d(Pt,"Interaction",function(){return Cr}),E.d(Pt,"Action",function(){return vt}),E.d(Pt,"Facet",function(){return Zi}),E.d(Pt,"InteractionAction",function(){return vt}),E.d(Pt,"registerComponentController",function(){return er}),E.d(Pt,"registerGeometry",function(){return Sa}),E.d(Pt,"registerShape",function(){return ia}),E.d(Pt,"registerShapeFactory",function(){return mo}),E.d(Pt,"getShapeFactory",function(){return Bo}),E.d(Pt,"registerGeometryLabel",function(){return Rn}),E.d(Pt,"registerGeometryLabelLayout",function(){return wo}),E.d(Pt,"getGeometryLabel",function(){return uo}),E.d(Pt,"getGeometryLabelLayout",function(){return qo}),E.d(Pt,"getInteraction",function(){return Oa}),E.d(Pt,"registerInteraction",function(){return Aa}),E.d(Pt,"registerAction",function(){return we}),E.d(Pt,"getActionClass",function(){return Ce}),E.d(Pt,"getFacet",function(){return U}),E.d(Pt,"registerFacet",function(){return G}),E.d(Pt,"getTheme",function(){return sr}),E.d(Pt,"registerTheme",function(){return vr}),E.d(Pt,"registerEngine",function(){return A}),E.d(Pt,"getEngine",function(){return S}),E.d(Pt,"registerAnimation",function(){return va}),E.d(Pt,"getAnimation",function(){return Xo}),E.d(Pt,"LAYER",function(){return b}),E.d(Pt,"DIRECTION",function(){return t}),E.d(Pt,"Types",function(){return Ue}),E.d(Pt,"Coordinate",function(){return Pr}),E.d(Pt,"Scale",function(){return Ee.c}),E.d(Pt,"Util",function(){return yi});var Y=E("mrSG"),i=E("iTfj"),b;(function(h){h.FORE="fore",h.MID="mid",h.BG="bg"})(b||(b={}));var t;(function(h){h.TOP="top",h.TOP_LEFT="top-left",h.TOP_RIGHT="top-right",h.RIGHT="right",h.RIGHT_TOP="right-top",h.RIGHT_BOTTOM="right-bottom",h.LEFT="left",h.LEFT_TOP="left-top",h.LEFT_BOTTOM="left-bottom",h.BOTTOM="bottom",h.BOTTOM_LEFT="bottom-left",h.BOTTOM_RIGHT="bottom-right",h.RADIUS="radius",h.CIRCLE="circle",h.NONE="none"})(t||(t={}));var n;(function(h){h.AXIS="axis",h.GRID="grid",h.LEGEND="legend",h.TOOLTIP="tooltip",h.ANNOTATION="annotation",h.SLIDER="slider",h.SCROLLBAR="scrollbar",h.OTHER="other"})(n||(n={}));var u={FORE:3,MID:2,BG:1},g;(function(h){h.BEFORE_RENDER="beforerender",h.AFTER_RENDER="afterrender",h.BEFORE_PAINT="beforepaint",h.AFTER_PAINT="afterpaint",h.BEFORE_CHANGE_DATA="beforechangedata",h.AFTER_CHANGE_DATA="afterchangedata",h.BEFORE_CLEAR="beforeclear",h.AFTER_CLEAR="afterclear",h.BEFORE_DESTROY="beforedestroy",h.BEFORE_CHANGE_SIZE="beforechangesize",h.AFTER_CHANGE_SIZE="afterchangesize"})(g||(g={}));var x;(function(h){h.BEFORE_DRAW_ANIMATE="beforeanimate",h.AFTER_DRAW_ANIMATE="afteranimate"})(x||(x={}));var c;(function(h){h.MOUSE_ENTER="plot:mouseenter",h.MOUSE_DOWN="plot:mousedown",h.MOUSE_MOVE="plot:mousemove",h.MOUSE_UP="plot:mouseup",h.MOUSE_LEAVE="plot:mouseleave",h.TOUCH_START="plot:touchstart",h.TOUCH_MOVE="plot:touchmove",h.TOUCH_END="plot:touchend",h.TOUCH_CANCEL="plot:touchcancel",h.CLICK="plot:click",h.DBLCLICK="plot:dblclick",h.CONTEXTMENU="plot:contextmenu",h.LEAVE="plot:leave",h.ENTER="plot:enter"})(c||(c={}));var w;(function(h){h.ACTIVE="active",h.INACTIVE="inactive",h.SELECTED="selected",h.DEFAULT="default"})(w||(w={}));var I=["color","shape","size"],m="_origin",r=1,s=1,d=.25,C={};function S(h){var o=C[h];if(!o)throw new Error("G engine '"+h+"' is not exist, please register it at first.");return o}function A(h,o){C[h]=o}var f=E("fIp6");function O(h){var o=getComputedStyle(h);return{width:(h.clientWidth||parseInt(o.width,10))-parseInt(o.paddingLeft,10)-parseInt(o.paddingRight,10),height:(h.clientHeight||parseInt(o.height,10))-parseInt(o.paddingTop,10)-parseInt(o.paddingBottom,10)}}function j(h){return typeof h=="number"&&!isNaN(h)}function D(h,o,e,a){var M=e,N=a;if(o){var ot=O(h);M=ot.width?ot.width:M,N=ot.height?ot.height:N}return{width:Math.max(j(M)?M:r,r),height:Math.max(j(N)?N:s,s)}}function V(h){var o=h.parentNode;o&&o.removeChild(h)}var H=E("f6Jy"),$=function(h){Object(Y.b)(o,h);function o(e){var a=h.call(this)||this;a.destroyed=!1;var M=e.visible,N=M===void 0?!0:M;return a.visible=N,a}return o.prototype.show=function(){var e=this.visible;e||this.changeVisible(!0)},o.prototype.hide=function(){var e=this.visible;e&&this.changeVisible(!1)},o.prototype.destroy=function(){this.off(),this.destroyed=!0},o.prototype.changeVisible=function(e){this.visible!==e&&(this.visible=e)},o}(H.a),dt=$,Z=E("aFU3"),ct=E("7s0d"),pt=function(o,e){return Object(i.isString)(e)?e:o.invert(o.scale(e))},gt=function(){function h(o){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(o)}return h.prototype.mapping=function(){for(var o=this,e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];var M=e.map(function(N,ot){return o._toOriginParam(N,o.scales[ot])});return this.callback.apply(this,M)},h.prototype.getLinearValue=function(o){var e=this.values.length-1,a=Math.floor(e*o),M=e*o-a,N=this.values[a],ot=a===e?N:this.values[a+1];return N+(ot-N)*M},h.prototype.getNames=function(){for(var o=this.scales,e=this.names,a=Math.min(o.length,e.length),M=[],N=0;N<a;N+=1)M.push(e[N]);return M},h.prototype.getFields=function(){return this.scales.map(function(o){return o.field})},h.prototype.getScale=function(o){return this.scales[this.names.indexOf(o)]},h.prototype.defaultCallback=function(){for(var o=this,e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return e.length===0?this.values:e.map(function(M,N){var ot=o.scales[N];return ot.type==="identity"?ot.values[0]:o._getAttributeValue(ot,M)})},h.prototype._parseCfg=function(o){var e=this,a=o.type,M=a===void 0?"base":a,N=o.names,ot=N===void 0?[]:N,Ct=o.scales,Ft=Ct===void 0?[]:Ct,ne=o.values,ge=ne===void 0?[]:ne,be=o.callback;this.type=M,this.scales=Ft,this.values=ge,this.names=ot,this.callback=function(){for(var Ae=[],Xe=0;Xe<arguments.length;Xe++)Ae[Xe]=arguments[Xe];if(be){var fn=be.apply(void 0,Ae);if(!Object(i.isNil)(fn))return[fn]}return e.defaultCallback.apply(e,Ae)}},h.prototype._getAttributeValue=function(o,e){if(o.isCategory&&!this.linear){var a=o.translate(e);return this.values[a%this.values.length]}var M=o.scale(e);return this.getLinearValue(M)},h.prototype._toOriginParam=function(o,e){return e.isLinear?o:Object(i.isArray)(o)?o.map(function(a){return pt(e,a)}):pt(e,o)},h}(),at=gt;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Bt=function(o,e){return Bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,M){a.__proto__=M}||function(a,M){for(var N in M)M.hasOwnProperty(N)&&(a[N]=M[N])},Bt(o,e)};function Lt(h,o){Bt(h,o);function e(){this.constructor=h}h.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}var Et=function(){return Et=Object.assign||function(e){for(var a,M=1,N=arguments.length;M<N;M++){a=arguments[M];for(var ot in a)Object.prototype.hasOwnProperty.call(a,ot)&&(e[ot]=a[ot])}return e},Et.apply(this,arguments)};function K(h,o){var e={};for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&o.indexOf(a)<0&&(e[a]=h[a]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,a=Object.getOwnPropertySymbols(h);M<a.length;M++)o.indexOf(a[M])<0&&Object.prototype.propertyIsEnumerable.call(h,a[M])&&(e[a[M]]=h[a[M]]);return e}function ft(h,o,e,a){var M=arguments.length,N=M<3?o:a===null?a=Object.getOwnPropertyDescriptor(o,e):a,ot;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(h,o,e,a);else for(var Ct=h.length-1;Ct>=0;Ct--)(ot=h[Ct])&&(N=(M<3?ot(N):M>3?ot(o,e,N):ot(o,e))||N);return M>3&&N&&Object.defineProperty(o,e,N),N}function mt(h,o){return function(e,a){o(e,a,h)}}function yt(h,o){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(h,o)}function wt(h,o,e,a){function M(N){return N instanceof e?N:new e(function(ot){ot(N)})}return new(e||(e=Promise))(function(N,ot){function Ct(ge){try{ne(a.next(ge))}catch(be){ot(be)}}function Ft(ge){try{ne(a.throw(ge))}catch(be){ot(be)}}function ne(ge){ge.done?N(ge.value):M(ge.value).then(Ct,Ft)}ne((a=a.apply(h,o||[])).next())})}function J(h,o){var e={label:0,sent:function(){if(N[0]&1)throw N[1];return N[1]},trys:[],ops:[]},a,M,N,ot;return ot={next:Ct(0),throw:Ct(1),return:Ct(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function Ct(ne){return function(ge){return Ft([ne,ge])}}function Ft(ne){if(a)throw new TypeError("Generator is already executing.");for(;e;)try{if(a=1,M&&(N=ne[0]&2?M.return:ne[0]?M.throw||((N=M.return)&&N.call(M),0):M.next)&&!(N=N.call(M,ne[1])).done)return N;switch(M=0,N&&(ne=[ne[0]&2,N.value]),ne[0]){case 0:case 1:N=ne;break;case 4:return e.label++,{value:ne[1],done:!1};case 5:e.label++,M=ne[1],ne=[0];continue;case 7:ne=e.ops.pop(),e.trys.pop();continue;default:if(N=e.trys,!(N=N.length>0&&N[N.length-1])&&(ne[0]===6||ne[0]===2)){e=0;continue}if(ne[0]===3&&(!N||ne[1]>N[0]&&ne[1]<N[3])){e.label=ne[1];break}if(ne[0]===6&&e.label<N[1]){e.label=N[1],N=ne;break}if(N&&e.label<N[2]){e.label=N[2],e.ops.push(ne);break}N[2]&&e.ops.pop(),e.trys.pop();continue}ne=o.call(h,e)}catch(ge){ne=[6,ge],M=0}finally{a=N=0}if(ne[0]&5)throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}}function lt(h,o,e,a){a===void 0&&(a=e),h[a]=o[e]}function it(h,o){for(var e in h)e!=="default"&&!o.hasOwnProperty(e)&&(o[e]=h[e])}function _(h){var o=typeof Symbol=="function"&&Symbol.iterator,e=o&&h[o],a=0;if(e)return e.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&a>=h.length&&(h=void 0),{value:h&&h[a++],done:!h}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function P(h,o){var e=typeof Symbol=="function"&&h[Symbol.iterator];if(!e)return h;var a=e.call(h),M,N=[],ot;try{for(;(o===void 0||o-- >0)&&!(M=a.next()).done;)N.push(M.value)}catch(Ct){ot={error:Ct}}finally{try{M&&!M.done&&(e=a.return)&&e.call(a)}finally{if(ot)throw ot.error}}return N}function Q(){for(var h=[],o=0;o<arguments.length;o++)h=h.concat(P(arguments[o]));return h}function k(){for(var h=0,o=0,e=arguments.length;o<e;o++)h+=arguments[o].length;for(var a=Array(h),M=0,o=0;o<e;o++)for(var N=arguments[o],ot=0,Ct=N.length;ot<Ct;ot++,M++)a[M]=N[ot];return a}function p(h){return this instanceof p?(this.v=h,this):new p(h)}function y(h,o,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=e.apply(h,o||[]),M,N=[];return M={},ot("next"),ot("throw"),ot("return"),M[Symbol.asyncIterator]=function(){return this},M;function ot(Ae){a[Ae]&&(M[Ae]=function(Xe){return new Promise(function(fn,Sn){N.push([Ae,Xe,fn,Sn])>1||Ct(Ae,Xe)})})}function Ct(Ae,Xe){try{Ft(a[Ae](Xe))}catch(fn){be(N[0][3],fn)}}function Ft(Ae){Ae.value instanceof p?Promise.resolve(Ae.value.v).then(ne,ge):be(N[0][2],Ae)}function ne(Ae){Ct("next",Ae)}function ge(Ae){Ct("throw",Ae)}function be(Ae,Xe){Ae(Xe),N.shift(),N.length&&Ct(N[0][0],N[0][1])}}function B(h){var o,e;return o={},a("next"),a("throw",function(M){throw M}),a("return"),o[Symbol.iterator]=function(){return this},o;function a(M,N){o[M]=h[M]?function(ot){return(e=!e)?{value:p(h[M](ot)),done:M==="return"}:N?N(ot):ot}:N}}function W(h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=h[Symbol.asyncIterator],e;return o?o.call(h):(h=typeof _=="function"?_(h):h[Symbol.iterator](),e={},a("next"),a("throw"),a("return"),e[Symbol.asyncIterator]=function(){return this},e);function a(N){e[N]=h[N]&&function(ot){return new Promise(function(Ct,Ft){ot=h[N](ot),M(Ct,Ft,ot.done,ot.value)})}}function M(N,ot,Ct,Ft){Promise.resolve(Ft).then(function(ne){N({value:ne,done:Ct})},ot)}}function rt(h,o){return Object.defineProperty?Object.defineProperty(h,"raw",{value:o}):h.raw=o,h}function st(h){if(h&&h.__esModule)return h;var o={};if(h!=null)for(var e in h)Object.hasOwnProperty.call(h,e)&&(o[e]=h[e]);return o.default=h,o}function ut(h){return h&&h.__esModule?h:{default:h}}function Mt(h,o){if(!o.has(h))throw new TypeError("attempted to get private field on non-instance");return o.get(h)}function bt(h,o,e){if(!o.has(h))throw new TypeError("attempted to set private field on non-instance");return o.set(h,e),e}var xt=E("6UX8"),Ot=function(h){Lt(o,h);function o(e){var a=h.call(this,e)||this;return a.type="color",a.names=["color"],Object(i.isString)(a.values)&&(a.linear=!0),a.gradient=xt.a.gradient(a.values),a}return o.prototype.getLinearValue=function(e){return this.gradient(e)},o}(at),jt=Ot,Dt=function(h){Lt(o,h);function o(e){var a=h.call(this,e)||this;return a.type="opacity",a.names=["opacity"],a}return o}(at),zt=Dt,Tt=function(h){Lt(o,h);function o(e){var a=h.call(this,e)||this;return a.names=["x","y"],a.type="position",a}return o.prototype.mapping=function(e,a){var M=this.scales,N=M[0],ot=M[1];return Object(i.isNil)(e)||Object(i.isNil)(a)?[]:[Object(i.isArray)(e)?e.map(function(Ct){return N.scale(Ct)}):N.scale(e),Object(i.isArray)(a)?a.map(function(Ct){return ot.scale(Ct)}):ot.scale(a)]},o}(at),Vt=Tt,Ht=function(h){Lt(o,h);function o(e){var a=h.call(this,e)||this;return a.type="shape",a.names=["shape"],a}return o.prototype.getLinearValue=function(e){var a=Math.round((this.values.length-1)*e);return this.values[a]},o}(at),re=Ht,pe=function(h){Lt(o,h);function o(e){var a=h.call(this,e)||this;return a.type="size",a.names=["size"],a}return o}(at),me=pe,Ee=E("8vsG"),Le={},Je=function(o){return Le[o.toLowerCase()]},On=function(o,e){if(Je(o))throw new Error("Attribute type '"+o+"' existed.");Le[o.toLowerCase()]=e};On("Color",jt),On("Opacity",zt),On("Position",Vt),On("Shape",re),On("Size",me);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gn=function(o,e){return gn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,M){a.__proto__=M}||function(a,M){for(var N in M)M.hasOwnProperty(N)&&(a[N]=M[N])},gn(o,e)};function Vn(h,o){gn(h,o);function e(){this.constructor=h}h.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)}var kn=function(){return kn=Object.assign||function(e){for(var a,M=1,N=arguments.length;M<N;M++){a=arguments[M];for(var ot in a)Object.prototype.hasOwnProperty.call(a,ot)&&(e[ot]=a[ot])}return e},kn.apply(this,arguments)};function Wn(h,o){var e={};for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&o.indexOf(a)<0&&(e[a]=h[a]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var M=0,a=Object.getOwnPropertySymbols(h);M<a.length;M++)o.indexOf(a[M])<0&&Object.prototype.propertyIsEnumerable.call(h,a[M])&&(e[a[M]]=h[a[M]]);return e}function Dn(h,o,e,a){var M=arguments.length,N=M<3?o:a===null?a=Object.getOwnPropertyDescriptor(o,e):a,ot;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(h,o,e,a);else for(var Ct=h.length-1;Ct>=0;Ct--)(ot=h[Ct])&&(N=(M<3?ot(N):M>3?ot(o,e,N):ot(o,e))||N);return M>3&&N&&Object.defineProperty(o,e,N),N}function Nn(h,o){return function(e,a){o(e,a,h)}}function Qn(h,o){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(h,o)}function ir(h,o,e,a){function M(N){return N instanceof e?N:new e(function(ot){ot(N)})}return new(e||(e=Promise))(function(N,ot){function Ct(ge){try{ne(a.next(ge))}catch(be){ot(be)}}function Ft(ge){try{ne(a.throw(ge))}catch(be){ot(be)}}function ne(ge){ge.done?N(ge.value):M(ge.value).then(Ct,Ft)}ne((a=a.apply(h,o||[])).next())})}function hr(h,o){var e={label:0,sent:function(){if(N[0]&1)throw N[1];return N[1]},trys:[],ops:[]},a,M,N,ot;return ot={next:Ct(0),throw:Ct(1),return:Ct(2)},typeof Symbol=="function"&&(ot[Symbol.iterator]=function(){return this}),ot;function Ct(ne){return function(ge){return Ft([ne,ge])}}function Ft(ne){if(a)throw new TypeError("Generator is already executing.");for(;e;)try{if(a=1,M&&(N=ne[0]&2?M.return:ne[0]?M.throw||((N=M.return)&&N.call(M),0):M.next)&&!(N=N.call(M,ne[1])).done)return N;switch(M=0,N&&(ne=[ne[0]&2,N.value]),ne[0]){case 0:case 1:N=ne;break;case 4:return e.label++,{value:ne[1],done:!1};case 5:e.label++,M=ne[1],ne=[0];continue;case 7:ne=e.ops.pop(),e.trys.pop();continue;default:if(N=e.trys,!(N=N.length>0&&N[N.length-1])&&(ne[0]===6||ne[0]===2)){e=0;continue}if(ne[0]===3&&(!N||ne[1]>N[0]&&ne[1]<N[3])){e.label=ne[1];break}if(ne[0]===6&&e.label<N[1]){e.label=N[1],N=ne;break}if(N&&e.label<N[2]){e.label=N[2],e.ops.push(ne);break}N[2]&&e.ops.pop(),e.trys.pop();continue}ne=o.call(h,e)}catch(ge){ne=[6,ge],M=0}finally{a=N=0}if(ne[0]&5)throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}}function Er(h,o,e,a){a===void 0&&(a=e),h[a]=o[e]}function mr(h,o){for(var e in h)e!=="default"&&!o.hasOwnProperty(e)&&(o[e]=h[e])}function dr(h){var o=typeof Symbol=="function"&&Symbol.iterator,e=o&&h[o],a=0;if(e)return e.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&a>=h.length&&(h=void 0),{value:h&&h[a++],done:!h}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")}function Br(h,o){var e=typeof Symbol=="function"&&h[Symbol.iterator];if(!e)return h;var a=e.call(h),M,N=[],ot;try{for(;(o===void 0||o-- >0)&&!(M=a.next()).done;)N.push(M.value)}catch(Ct){ot={error:Ct}}finally{try{M&&!M.done&&(e=a.return)&&e.call(a)}finally{if(ot)throw ot.error}}return N}function ii(){for(var h=[],o=0;o<arguments.length;o++)h=h.concat(Br(arguments[o]));return h}function mi(){for(var h=0,o=0,e=arguments.length;o<e;o++)h+=arguments[o].length;for(var a=Array(h),M=0,o=0;o<e;o++)for(var N=arguments[o],ot=0,Ct=N.length;ot<Ct;ot++,M++)a[M]=N[ot];return a}function Pi(h){return this instanceof Pi?(this.v=h,this):new Pi(h)}function sa(h,o,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=e.apply(h,o||[]),M,N=[];return M={},ot("next"),ot("throw"),ot("return"),M[Symbol.asyncIterator]=function(){return this},M;function ot(Ae){a[Ae]&&(M[Ae]=function(Xe){return new Promise(function(fn,Sn){N.push([Ae,Xe,fn,Sn])>1||Ct(Ae,Xe)})})}function Ct(Ae,Xe){try{Ft(a[Ae](Xe))}catch(fn){be(N[0][3],fn)}}function Ft(Ae){Ae.value instanceof Pi?Promise.resolve(Ae.value.v).then(ne,ge):be(N[0][2],Ae)}function ne(Ae){Ct("next",Ae)}function ge(Ae){Ct("throw",Ae)}function be(Ae,Xe){Ae(Xe),N.shift(),N.length&&Ct(N[0][0],N[0][1])}}function Pa(h){var o,e;return o={},a("next"),a("throw",function(M){throw M}),a("return"),o[Symbol.iterator]=function(){return this},o;function a(M,N){o[M]=h[M]?function(ot){return(e=!e)?{value:Pi(h[M](ot)),done:M==="return"}:N?N(ot):ot}:N}}function Mi(h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=h[Symbol.asyncIterator],e;return o?o.call(h):(h=typeof dr=="function"?dr(h):h[Symbol.iterator](),e={},a("next"),a("throw"),a("return"),e[Symbol.asyncIterator]=function(){return this},e);function a(N){e[N]=h[N]&&function(ot){return new Promise(function(Ct,Ft){ot=h[N](ot),M(Ct,Ft,ot.done,ot.value)})}}function M(N,ot,Ct,Ft){Promise.resolve(Ft).then(function(ne){N({value:ne,done:Ct})},ot)}}function Ki(h,o){return Object.defineProperty?Object.defineProperty(h,"raw",{value:o}):h.raw=o,h}function fa(h){if(h&&h.__esModule)return h;var o={};if(h!=null)for(var e in h)Object.hasOwnProperty.call(h,e)&&(o[e]=h[e]);return o.default=h,o}function oa(h){return h&&h.__esModule?h:{default:h}}function pa(h,o){if(!o.has(h))throw new TypeError("attempted to get private field on non-instance");return o.get(h)}function La(h,o,e){if(!o.has(h))throw new TypeError("attempted to set private field on non-instance");return o.set(h,e),e}var Yr=E("6JdA"),Ea=function(){function h(o){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var e=o.start,a=o.end,M=o.matrix,N=M===void 0?[1,0,0,0,1,0,0,0,1]:M,ot=o.isTransposed,Ct=ot===void 0?!1:ot;this.start=e,this.end=a,this.matrix=N,this.originalMatrix=mi(N),this.isTransposed=Ct}return h.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},h.prototype.update=function(o){Object(i.assign)(this,o),this.initial()},h.prototype.convertDim=function(o,e){var a,M=this[e],N=M.start,ot=M.end;return this.isReflect(e)&&(a=[ot,N],N=a[0],ot=a[1]),N+o*(ot-N)},h.prototype.invertDim=function(o,e){var a,M=this[e],N=M.start,ot=M.end;return this.isReflect(e)&&(a=[ot,N],N=a[0],ot=a[1]),(o-N)/(ot-N)},h.prototype.applyMatrix=function(o,e,a){a===void 0&&(a=0);var M=this.matrix,N=[o,e,a];return Yr.d.transformMat3(N,N,M),N},h.prototype.invertMatrix=function(o,e,a){a===void 0&&(a=0);var M=this.matrix,N=Yr.b.invert([0,0,0,0,0,0,0,0,0],M),ot=[o,e,a];return N&&Yr.d.transformMat3(ot,ot,N),ot},h.prototype.convert=function(o){var e=this.convertPoint(o),a=e.x,M=e.y,N=this.applyMatrix(a,M,1);return{x:N[0],y:N[1]}},h.prototype.invert=function(o){var e=this.invertMatrix(o.x,o.y,1);return this.invertPoint({x:e[0],y:e[1]})},h.prototype.rotate=function(o){var e=this.matrix,a=this.center;return Yr.a.leftTranslate(e,e,[-a.x,-a.y]),Yr.a.leftRotate(e,e,o),Yr.a.leftTranslate(e,e,[a.x,a.y]),this},h.prototype.reflect=function(o){return o==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},h.prototype.scale=function(o,e){var a=this.matrix,M=this.center;return Yr.a.leftTranslate(a,a,[-M.x,-M.y]),Yr.a.leftScale(a,a,[o,e]),Yr.a.leftTranslate(a,a,[M.x,M.y]),this},h.prototype.translate=function(o,e){var a=this.matrix;return Yr.a.leftTranslate(a,a,[o,e]),this},h.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},h.prototype.getCenter=function(){return this.center},h.prototype.getWidth=function(){return this.width},h.prototype.getHeight=function(){return this.height},h.prototype.getRadius=function(){return this.radius},h.prototype.isReflect=function(o){return o==="x"?this.isReflectX:this.isReflectY},h.prototype.resetMatrix=function(o){this.matrix=o||mi(this.originalMatrix)},h}(),Pr=Ea,si=function(h){Vn(o,h);function o(e){var a=h.call(this,e)||this;return a.isRect=!0,a.type="cartesian",a.initial(),a}return o.prototype.initial=function(){h.prototype.initial.call(this);var e=this.start,a=this.end;this.x={start:e.x,end:a.x},this.y={start:e.y,end:a.y}},o.prototype.convertPoint=function(e){var a,M=e.x,N=e.y;return this.isTransposed&&(a=[N,M],M=a[0],N=a[1]),{x:this.convertDim(M,"x"),y:this.convertDim(N,"y")}},o.prototype.invertPoint=function(e){var a,M=this.invertDim(e.x,"x"),N=this.invertDim(e.y,"y");return this.isTransposed&&(a=[N,M],M=a[0],N=a[1]),{x:M,y:N}},o}(Pr),ti=si,$r=function(h){Vn(o,h);function o(e){var a=h.call(this,e)||this;a.isHelix=!0,a.type="helix";var M=e.startAngle,N=M===void 0?1.25*Math.PI:M,ot=e.endAngle,Ct=ot===void 0?7.25*Math.PI:ot,Ft=e.innerRadius,ne=Ft===void 0?0:Ft,ge=e.radius;return a.startAngle=N,a.endAngle=Ct,a.innerRadius=ne,a.radius=ge,a.initial(),a}return o.prototype.initial=function(){h.prototype.initial.call(this);var e=(this.endAngle-this.startAngle)/(2*Math.PI)+1,a=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(a=a*this.radius),this.d=Math.floor(a*(1-this.innerRadius)/e),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*a,end:this.innerRadius*a+this.d*.99}},o.prototype.convertPoint=function(e){var a,M=e.x,N=e.y;this.isTransposed&&(a=[N,M],M=a[0],N=a[1]);var ot=this.convertDim(M,"x"),Ct=this.a*ot,Ft=this.convertDim(N,"y");return{x:this.center.x+Math.cos(ot)*(Ct+Ft),y:this.center.y+Math.sin(ot)*(Ct+Ft)}},o.prototype.invertPoint=function(e){var a,M=this.d+this.y.start,N=Yr.c.subtract([0,0],[e.x,e.y],[this.center.x,this.center.y]),ot=Yr.a.angleTo(N,[1,0],!0),Ct=ot*this.a;Yr.c.length(N)<Ct&&(Ct=Yr.c.length(N));var Ft=Math.floor((Yr.c.length(N)-Ct)/M);ot=2*Ft*Math.PI+ot;var ne=this.a*ot,ge=Yr.c.length(N)-ne;ge=Object(i.isNumberEqual)(ge,0)?0:ge;var be=this.invertDim(ot,"x"),Ae=this.invertDim(ge,"y");return be=Object(i.isNumberEqual)(be,0)?0:be,Ae=Object(i.isNumberEqual)(Ae,0)?0:Ae,this.isTransposed&&(a=[Ae,be],be=a[0],Ae=a[1]),{x:be,y:Ae}},o}(Pr),ui=$r,li=function(h){Vn(o,h);function o(e){var a=h.call(this,e)||this;a.isPolar=!0,a.type="polar";var M=e.startAngle,N=M===void 0?-Math.PI/2:M,ot=e.endAngle,Ct=ot===void 0?Math.PI*3/2:ot,Ft=e.innerRadius,ne=Ft===void 0?0:Ft,ge=e.radius;return a.startAngle=N,a.endAngle=Ct,a.innerRadius=ne,a.radius=ge,a.initial(),a}return o.prototype.initial=function(){for(h.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var e=this.getOneBox(),a=e.maxX-e.minX,M=e.maxY-e.minY,N=Math.abs(e.minX)/a,ot=Math.abs(e.minY)/M,Ct;this.height/M>this.width/a?(Ct=this.width/a,this.circleCenter={x:this.center.x-(.5-N)*this.width,y:this.center.y-(.5-ot)*Ct*M}):(Ct=this.height/M,this.circleCenter={x:this.center.x-(.5-N)*Ct*a,y:this.center.y-(.5-ot)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=Ct*this.radius:(this.radius<=0||this.radius>Ct)&&(this.polarRadius=Ct):this.polarRadius=Ct,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},o.prototype.getRadius=function(){return this.polarRadius},o.prototype.convertPoint=function(e){var a,M=this.getCenter(),N=e.x,ot=e.y;return this.isTransposed&&(a=[ot,N],N=a[0],ot=a[1]),N=this.convertDim(N,"x"),ot=this.convertDim(ot,"y"),{x:M.x+Math.cos(N)*ot,y:M.y+Math.sin(N)*ot}},o.prototype.invertPoint=function(e){var a=this.getCenter(),M=[e.x-a.x,e.y-a.y],N=[1,0,0,0,1,0,0,0,1];Yr.a.leftRotate(N,N,this.startAngle);var ot=[1,0,0];Yr.d.transformMat3(ot,ot,N);var Ct=[ot[0],ot[1]],Ft=Yr.a.angleTo(Ct,M,this.endAngle<this.startAngle);Object(i.isNumberEqual)(Ft,Math.PI*2)&&(Ft=0);var ne=Yr.c.length(M),ge=Ft/(this.endAngle-this.startAngle);ge=this.endAngle-this.startAngle>0?ge:-ge;var be=this.invertDim(ne,"y"),Ae={x:0,y:0};return Ae.x=this.isTransposed?be:ge,Ae.y=this.isTransposed?ge:be,Ae},o.prototype.getCenter=function(){return this.circleCenter},o.prototype.getOneBox=function(){var e=this.startAngle,a=this.endAngle;if(Math.abs(a-e)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var M=[0,Math.cos(e),Math.cos(a)],N=[0,Math.sin(e),Math.sin(a)],ot=Math.min(e,a);ot<Math.max(e,a);ot+=Math.PI/18)M.push(Math.cos(ot)),N.push(Math.sin(ot));return{minX:Math.min.apply(Math,M),maxX:Math.max.apply(Math,M),minY:Math.min.apply(Math,N),maxY:Math.max.apply(Math,N)}},o}(Pr),xi=li,Ci={},di=function(o){return Ci[o.toLowerCase()]},Ti=function(o,e){Ci[o.toLowerCase()]=e};Ti("rect",ti),Ti("cartesian",ti),Ti("polar",xi),Ti("helix",ui);var pi=E("17Tr"),Ni=pi.Axis.Line,Bi=pi.Axis.Circle,Fi=pi.Grid.Line,ma=pi.Grid.Circle,ua=pi.Legend.Category,Ra=pi.Legend.Continuous,xa=pi.Tooltip.Html;function Ma(h){if(Object(i.isEmpty)(h))return null;var o=h[0].x,e=h[0].x,a=h[0].y,M=h[0].y;return Object(i.each)(h,function(N){o=o>N.x?N.x:o,e=e<N.x?N.x:e,a=a>N.y?N.y:a,M=M<N.y?N.y:M}),{minX:o,maxX:e,minY:a,maxY:M,centerX:(o+e)/2,centerY:(a+M)/2}}function Qi(h,o,e,a){return{x:h+e*Math.cos(a),y:o+e*Math.sin(a)}}function ka(h,o,e,a,M,N){N===void 0&&(N=0);var ot=Qi(h,o,e,a),Ct=Qi(h,o,e,M),Ft=Qi(h,o,N,a),ne=Qi(h,o,N,M);if(M-a==Math.PI*2){var ge=Qi(h,o,e,a+Math.PI),be=Qi(h,o,N,a+Math.PI),Ae=[["M",ot.x,ot.y],["A",e,e,0,1,1,ge.x,ge.y],["A",e,e,0,1,1,Ct.x,Ct.y],["M",Ft.x,Ft.y]];return N&&(Ae.push(["A",N,N,0,1,0,be.x,be.y]),Ae.push(["A",N,N,0,1,0,ne.x,ne.y])),Ae.push(["M",ot.x,ot.y]),Ae.push(["Z"]),Ae}var Xe=M-a<=Math.PI?0:1,fn=[["M",ot.x,ot.y],["A",e,e,0,Xe,1,Ct.x,Ct.y],["L",ne.x,ne.y]];return N&&fn.push(["A",N,N,0,Xe,0,Ft.x,Ft.y]),fn.push(["L",ot.x,ot.y]),fn.push(["Z"]),fn}function vo(h,o,e,a,M){var N=Qi(h,o,e,a),ot=Qi(h,o,e,M);if(Object(i.isNumberEqual)(M-a,Math.PI*2)){var Ct=Qi(h,o,e,a+Math.PI);return[["M",N.x,N.y],["A",e,e,0,1,1,Ct.x,Ct.y],["A",e,e,0,1,1,N.x,N.y],["A",e,e,0,1,0,Ct.x,Ct.y],["A",e,e,0,1,0,N.x,N.y],["Z"]]}var Ft=M-a<=Math.PI?0:1;return[["M",N.x,N.y],["A",e,e,0,Ft,1,ot.x,ot.y]]}function za(h,o){var e=h.points,a=Ma(e),M,N,ot=o.startAngle,Ct=o.endAngle,Ft=Ct-ot;return o.isTransposed?(M=a.maxY*Ft,N=a.minY*Ft):(M=a.maxX*Ft,N=a.minX*Ft),M+=ot,N+=ot,{startAngle:N,endAngle:M}}function Ga(h,o){if(Object(i.isNumber)(h)&&Object(i.isNumber)(o))return[h,o];for(var e=-1,a=0,M=0,N,ot=h.length-1,Ct,Ft=0;++e<h.length;)N=ot,ot=e,Ft+=Ct=h[N]*o[ot]-h[ot]*o[N],a+=(h[N]+h[ot])*Ct,M+=(o[N]+o[ot])*Ct;return Ft*=3,[a/Ft,M/Ft]}function eo(h,o){var e=h.attr(),a=o.attr();return Object(i.each)(e,function(M,N){a[N]===void 0&&(a[N]=void 0)}),a}function ae(h,o,e){var a=Math.min(o,e),M=Math.max(o,e);return h>=a&&h<=M}function Kt(h,o,e){if(Object(i.isString)(h))return h.padEnd(o,e);if(Object(i.isArray)(h)){var a=h.length;if(a<o)for(var M=o-a,N=0;N<M;N++)h.push(e)}return h}function te(h,o){return o.forEach(function(e){delete h[e]}),h}function Oe(h,o,e){o===void 0&&(o=[]),e===void 0&&(e={});for(var a=0,M=h;a<M.length;a++){var N=M[a];e[N]||(o.push(N),e[N]=!0)}return o}var Ze=function(){function h(o,e,a,M){o===void 0&&(o=0),e===void 0&&(e=0),a===void 0&&(a=0),M===void 0&&(M=0),this.x=o,this.y=e,this.height=M,this.width=a}return h.fromRange=function(o,e,a,M){return new h(o,e,a-o,M-e)},h.fromObject=function(o){return new h(o.minX,o.minY,o.width,o.height)},Object.defineProperty(h.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),h.prototype.isEqual=function(o){return this.x===o.x&&this.y===o.y&&this.width===o.width&&this.height===o.height},h.prototype.contains=function(o){return o.minX>=this.minX&&o.maxX<=this.maxX&&o.minY>=this.minY&&o.maxY<=this.maxY},h.prototype.clone=function(){return new h(this.x,this.y,this.width,this.height)},h.prototype.add=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];var a=this.clone();return Object(i.each)(o,function(M){a.x=Math.min(M.x,a.x),a.y=Math.min(M.y,a.y),a.width=Math.max(M.maxX,a.maxX)-a.x,a.height=Math.max(M.maxY,a.maxY)-a.y}),a},h.prototype.merge=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];var a=this.clone();return Object(i.each)(o,function(M){a.x=Math.max(M.x,a.x),a.y=Math.max(M.y,a.y),a.width=Math.min(M.maxX,a.maxX)-a.x,a.height=Math.min(M.maxY,a.maxY)-a.y}),a},h.prototype.cut=function(o,e){var a=o.width,M=o.height;switch(e){case t.TOP:case t.TOP_LEFT:case t.TOP_RIGHT:return h.fromRange(this.minX,this.minY+M,this.maxX,this.maxY);case t.RIGHT:case t.RIGHT_TOP:case t.RIGHT_BOTTOM:return h.fromRange(this.minX,this.minY,this.maxX-a,this.maxY);case t.BOTTOM:case t.BOTTOM_LEFT:case t.BOTTOM_RIGHT:return h.fromRange(this.minX,this.minY,this.maxX,this.maxY-M);case t.LEFT:case t.LEFT_TOP:case t.LEFT_BOTTOM:return h.fromRange(this.minX+a,this.minY,this.maxX,this.maxY);default:return this}},h.prototype.shrink=function(o){var e=o[0],a=o[1],M=o[2],N=o[3];return new h(this.x+N,this.y+e,this.width-N-a,this.height-e-M)},h.prototype.expand=function(o){var e=o[0],a=o[1],M=o[2],N=o[3];return new h(this.x-N,this.y-e,this.width+N+a,this.height+e+M)},h.prototype.exceed=function(o){return[Math.max(-this.minY+o.minY,0),Math.max(this.maxX-o.maxX,0),Math.max(this.maxY-o.maxY,0),Math.max(-this.minX+o.minX,0)]},h.prototype.collide=function(o){return this.minX<o.maxX&&this.maxX>o.minX&&this.minY<o.maxY&&this.maxY>o.minY},h.prototype.size=function(){return this.width*this.height},h.prototype.isPointIn=function(o){return o.x>=this.minX&&o.x<=this.maxX&&o.y>=this.minY&&o.y<=this.maxY},h}(),An=function(o,e){var a=e.start,M=e.end;return new Ze(o.x+o.width*a.x,o.y+o.height*a.y,o.width*Math.abs(M.x-a.x),o.height*Math.abs(M.y-a.y))};function qn(h){return[[h.minX,h.minY],[h.maxX,h.minY],[h.maxX,h.maxY],[h.minX,h.maxY]]}function rr(h){if(h.isPolar&&!h.isTransposed)return(h.endAngle-h.startAngle)*h.getRadius();var o=h.convert({x:0,y:0}),e=h.convert({x:1,y:0});return Math.sqrt(Math.pow(e.x-o.x,2)+Math.pow(e.y-o.y,2))}function tn(h){if(h.isPolar){var o=h.startAngle,e=h.endAngle;return e-o==Math.PI*2}return!1}function sn(h,o){var e=h.getCenter();return Math.sqrt(Math.pow(o.x-e.x,2)+Math.pow(o.y-e.y,2))}function un(h,o){var e=!1;if(h)if(h.type==="theta"){var a=h.start,M=h.end;e=ae(o.x,a.x,M.x)&&ae(o.y,a.y,M.y)}else{var N=h.invert(o);e=ae(N.x,0,1)&&ae(N.y,0,1)}return e}function ur(h,o){var e=h.getCenter();return Math.atan2(o.y-e.y,o.x-e.x)}function jr(h,o){o===void 0&&(o=0);var e=h.start,a=h.end,M=h.getWidth(),N=h.getHeight();if(h.isPolar){var ot=h.startAngle,Ct=h.endAngle,Ft=h.getCenter(),ne=h.getRadius();return{type:"path",startState:{path:ka(Ft.x,Ft.y,ne+o,ot,ot)},endState:function(Ae){var Xe=(Ct-ot)*Ae+ot,fn=ka(Ft.x,Ft.y,ne+o,ot,Xe);return{path:fn}},attrs:{path:ka(Ft.x,Ft.y,ne+o,ot,Ct)}}}var ge;return h.isTransposed?ge={height:N+o*2}:ge={width:M+o*2},{type:"rect",startState:{x:e.x-o,y:a.y-o,width:h.isTransposed?M+o*2:0,height:h.isTransposed?0:N+o*2},endState:ge,attrs:{x:e.x-o,y:a.y-o,width:M+o*2,height:N+o*2}}}function wr(h,o){o===void 0&&(o=0);var e=h.start,a=h.end,M=h.getWidth(),N=h.getHeight(),ot=Math.min(e.x,a.x),Ct=Math.min(e.y,a.y);return Ze.fromRange(ot-o,Ct-o,ot+M+o,Ct+N+o)}var yr=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function ni(h){var o="linear";return yr.test(h)?o="timeCat":Object(i.isString)(h)&&(o="cat"),o}function _r(h,o,e){var a=o||[];if(Object(i.isNumber)(h)||Object(i.isNil)(Object(i.firstValue)(a,h))&&Object(i.isEmpty)(e)){var M=Object(Ee.d)("identity");return new M({field:h.toString(),values:[h]})}var N=Object(i.valuesOfKey)(a,h),ot=Object(i.get)(e,"type",ni(N[0])),Ct=Object(Ee.d)(ot);return new Ct(Object(Y.a)({field:h,values:N},e))}function Fr(h,o){if(h.type!=="identity"&&o.type!=="identity"){var e={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);h.change(e)}}function Lr(h){return h.alias||h.field}function Gr(h,o,e){var a=h.values,M=a.length,N;if(M===1)N=[.5,1];else{var ot=1,Ct=0;tn(o)?o.isTransposed?(ot=Object(i.get)(e,"widthRatio.multiplePie",1/1.3),Ct=1/M*ot,N=[Ct/2,1-Ct/2]):N=[0,1-1/M]:(Ct=1/M/2,N=[Ct,1-Ct])}return N}function Hr(h){var o,e;switch(h){case t.TOP:o={x:0,y:1},e={x:1,y:1};break;case t.RIGHT:o={x:1,y:0},e={x:1,y:1};break;case t.BOTTOM:o={x:0,y:0},e={x:1,y:0};break;case t.LEFT:o={x:0,y:0},e={x:0,y:1};break;default:o=e={x:0,y:0}}return{start:o,end:e}}function ei(h){var o,e;return h.isTransposed?(o={x:0,y:0},e={x:1,y:0}):(o={x:0,y:0},e={x:0,y:1}),{start:o,end:e}}function Kr(h,o){var e={start:{x:0,y:0},end:{x:0,y:0}};h.isRect?e=Hr(o):h.isPolar&&(e=ei(h));var a=e.start,M=e.end;return{start:h.convert(a),end:h.convert(M)}}function Qr(h,o){if(h.isRect)return h.isTransposed?[t.RIGHT,t.BOTTOM].includes(o)?1:-1:[t.BOTTOM,t.RIGHT].includes(o)?-1:1;if(h.isPolar){var e=h.x.start;return e<0?-1:1}return 1}function Oi(h){var o=h.start,e=h.end;return o.x===e.x}function Ri(h,o){var e=h.start,a=h.end,M=Oi(h);return M?(e.y-a.y)*(o.x-e.x)>0?1:-1:(a.x-e.x)*(e.y-o.y)>0?-1:1}function Ei(h,o){return Object(i.get)(h,["components","axis",o],{})}function Gi(h){var o=h.x,e=h.y,a=h.circleCenter,M=e.start>e.end,N=h.isTransposed?h.convert({x:M?0:1,y:0}):h.convert({x:0,y:M?0:1}),ot=[N.x-a.x,N.y-a.y],Ct=[1,0],Ft=N.y>a.y?Yr.c.angle(ot,Ct):Yr.c.angle(ot,Ct)*-1,ne=Ft+(o.end-o.start),ge=Math.sqrt(Math.pow(N.x-a.x,2)+Math.pow(N.y-a.y,2));return{center:a,radius:ge,startAngle:Ft,endAngle:ne}}function ca(h,o){return Object(i.isBoolean)(h)?h===!1?!1:{}:Object(i.get)(h,[o])}function ha(h,o){return Object(i.get)(h,"position",o)}function na(h,o){return Object(i.get)(o,["title","text"],Lr(h))}var Zi=function(){function h(o,e){this.destroyed=!1,this.facets=[],this.view=o,this.cfg=Object(i.deepMix)({},this.getDefaultCfg(),e)}return h.prototype.init=function(){this.container||(this.container=this.createContainer());var o=this.view.getData();this.facets=this.generateFacets(o)},h.prototype.render=function(){this.renderViews()},h.prototype.update=function(){},h.prototype.clear=function(){this.clearFacetViews()},h.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},h.prototype.facetToView=function(o){var e=o.region,a=o.data,M=o.padding,N=M===void 0?this.cfg.padding:M,ot=this.view.createView({region:e,padding:N});ot.data(a||[]),o.view=ot,this.beforeEachView(ot,o);var Ct=this.cfg.eachView;return Ct&&Ct(ot,o),this.afterEachView(ot,o),ot},h.prototype.createContainer=function(){var o=this.view.getLayer(b.FORE);return o.addGroup()},h.prototype.renderViews=function(){this.createFacetViews()},h.prototype.createFacetViews=function(){var o=this;return this.facets.map(function(e){return o.facetToView(e)})},h.prototype.clearFacetViews=function(){var o=this;Object(i.each)(this.facets,function(e){e.view&&(o.view.removeView(e.view),e.view=void 0)})},h.prototype.getFieldValues=function(o,e){var a=[],M={};return Object(i.each)(o,function(N){var ot=N[e];!Object(i.isNil)(ot)&&!M[ot]&&(a.push(ot),M[ot]=!0)}),a},h.prototype.getRegion=function(o,e,a,M){var N=1/(e===0?1:e),ot=1/(o===0?1:o),Ct={x:N*a,y:ot*M},Ft={x:N*(a+1),y:ot*(M+1)};return{start:Ct,end:Ft}},h.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},h.prototype.getDefaultTitleCfg=function(){var o=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:o}}},h.prototype.processAxis=function(o,e){var a=o.getOptions(),M=a.coordinate,N=o.geometries,ot=Object(i.get)(M,"type","rect");if(ot==="rect"&&N.length){Object(i.isNil)(a.axes)&&(a.axes={});var Ct=a.axes,Ft=N[0].getXYFields(),ne=Ft[0],ge=Ft[1],be=ca(Ct,ne),Ae=ca(Ct,ge);be!==!1&&(a.axes[ne]=this.getXAxisOption(ne,Ct,be,e)),Ae!==!1&&(a.axes[ge]=this.getYAxisOption(ge,Ct,Ae,e))}},h.prototype.getFacetDataFilter=function(o){return function(e){return Object(i.every)(o,function(a){var M=a.field,N=a.value;return!Object(i.isNil)(N)&&M?e[M]===N:!0})}},h}(),ve={},U=function(o){return ve[Object(i.lowerCase)(o)]},G=function(o,e){ve[Object(i.lowerCase)(o)]=e},nt=function(){function h(o,e){this.context=o,this.cfg=e,o.addAction(this)}return h.prototype.applyCfg=function(o){Object(i.assign)(this,o)},h.prototype.init=function(){this.applyCfg(this.cfg)},h.prototype.destroy=function(){this.context.removeAction(this),this.context=null},h}(),vt=nt,Gt=function(h){Object(Y.b)(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}return o.prototype.execute=function(){this.callback&&this.callback(this.context)},o.prototype.destroy=function(){h.prototype.destroy.call(this),this.callback=null},o}(vt),Jt=Gt,ie={};function ue(h,o){var e=ie[h],a=null;if(e){var M=e.ActionClass,N=e.cfg;a=new M(o,N),a.name=h,a.init()}return a}function Ce(h){var o=ie[h];return Object(i.get)(o,"ActionClass")}function we(h,o,e){ie[h]={ActionClass:o,cfg:e}}function cn(h){delete ie[h]}function Cn(h,o){var e=new Jt(o);return e.callback=h,e.name="callback",e}function _t(h,o){var e=[];if(h.length){e.push(["M",h[0].x,h[0].y]);for(var a=1,M=h.length;a<M;a+=1){var N=h[a];e.push(["L",N.x,N.y])}o&&e.push(["Z"])}return e}function Xt(h,o){for(var e=[h[0]],a=1,M=h.length;a<M;a=a+2){var N=o.convert({x:h[a],y:h[a+1]});e.push(N.x,N.y)}return e}function Se(h,o){var e=o.isTransposed,a=h[1],M=h[6],N=h[7],ot=o.convert({x:M,y:N}),Ct=e?0:1;return["A",a,a,0,0,Ct,ot.x,ot.y]}function Wt(h,o,e){var a=e.isTransposed,M=e.startAngle,N=e.endAngle,ot=h[0].toLowerCase()==="a"?{x:h[6],y:h[7]}:{x:h[1],y:h[2]},Ct={x:o[1],y:o[2]},Ft=[],ne=a?"y":"x",ge=Math.abs(Ct[ne]-ot[ne])*(N-M),be=Ct[ne]>=ot[ne]?1:0,Ae=ge>Math.PI?1:0,Xe=e.convert(Ct),fn=sn(e,Xe);if(fn>=.5)if(ge===Math.PI*2){var Sn={x:(Ct.x+ot.x)/2,y:(Ct.y+ot.y)/2},nr=e.convert(Sn);Ft.push(["A",fn,fn,0,Ae,be,nr.x,nr.y]),Ft.push(["A",fn,fn,0,Ae,be,Xe.x,Xe.y])}else Ft.push(["A",fn,fn,0,Ae,be,Xe.x,Xe.y]);return Ft}function ce(h){Object(i.each)(h,function(o,e){var a=o;if(a[0].toLowerCase()==="a"){var M=h[e-1],N=h[e+1];N&&N[0].toLowerCase()==="a"?M&&M[0].toLowerCase()==="l"&&(M[0]="M"):M&&M[0].toLowerCase()==="a"&&N&&N[0].toLowerCase()==="l"&&(N[0]="M")}})}var yn=function(o,e,a,M){var N=[],ot,Ct,Ft=!!M,ne,ge;if(Ft){ne=[Infinity,Infinity],ge=[-Infinity,-Infinity];for(var be=0,Ae=o.length;be<Ae;be++){var Xe=o[be];ne=Yr.c.min([0,0],ne,Xe),ge=Yr.c.max([0,0],ge,Xe)}ne=Yr.c.min([0,0],ne,M[0]),ge=Yr.c.max([0,0],ge,M[1])}for(var be=0,fn=o.length;be<fn;be++){var Xe=o[be];if(a)ot=o[be?be-1:fn-1],Ct=o[(be+1)%fn];else if(be===0||be===fn-1){N.push(Xe);continue}else ot=o[be-1],Ct=o[be+1];var Sn=[0,0];Sn=Yr.c.sub(Sn,Ct,ot),Sn=Yr.c.scale(Sn,Sn,e);var nr=Yr.c.distance(Xe,ot),ar=Yr.c.distance(Xe,Ct),Sr=nr+ar;Sr!==0&&(nr/=Sr,ar/=Sr);var Mr=Yr.c.scale([0,0],Sn,-nr),qr=Yr.c.scale([0,0],Sn,ar),oi=Yr.c.add([0,0],Xe,Mr),ai=Yr.c.add([0,0],Xe,qr);Ft&&(oi=Yr.c.max([0,0],oi,ne),oi=Yr.c.min([0,0],oi,ge),ai=Yr.c.max([0,0],ai,ne),ai=Yr.c.min([0,0],ai,ge)),N.push(oi),N.push(ai)}return a&&N.push(N.shift()),N};function Bn(h,o,e){for(var a=!!o,M=[],N=0,ot=h.length;N<ot;N+=2)M.push([h[N],h[N+1]]);for(var Ct=yn(M,.4,a,e),Ft=M.length,ne=[],ge,be,Ae,N=0;N<Ft-1;N++)ge=Ct[N*2],be=Ct[N*2+1],Ae=M[N+1],ne.push(["C",ge[0],ge[1],be[0],be[1],Ae[0],Ae[1]]);return a&&(ge=Ct[Ft],be=Ct[Ft+1],Ae=M[0],ne.push(["C",ge[0],ge[1],be[0],be[1],Ae[0],Ae[1]])),ne}function Zn(h,o){return _t(h,o)}function Kn(h,o,e){var a=[],M=h[0],N=null;if(h.length<=2)return Zn(h,o);for(var ot=0,Ct=h.length;ot<Ct;ot++){var Ft=h[ot];(!N||!(N.x===Ft.x&&N.y===Ft.y))&&(a.push(Ft.x),a.push(Ft.y),N=Ft)}var ne=e||[[0,0],[1,1]],ge=Bn(a,o,ne);return ge.unshift(["M",M.x,M.y]),ge}function $e(h,o){var e=[];return Object(i.each)(o,function(a){var M=a[0];switch(M.toLowerCase()){case"m":case"l":case"c":e.push(Xt(a,h));break;case"a":e.push(Se(a,h));break;case"z":default:e.push(a);break}}),e}function je(h,o){var e=[],a,M,N,ot;return Object(i.each)(o,function(Ct,Ft){var ne=Ct[0];switch(ne.toLowerCase()){case"m":case"c":case"q":e.push(Xt(Ct,h));break;case"l":a=o[Ft-1],M=Ct,N=h.isTransposed,ot=N?a[a.length-2]===M[1]:a[a.length-1]===M[2],ot?e=e.concat(Wt(a,M,h)):e.push(Xt(Ct,h));break;case"a":e.push(Se(Ct,h));break;case"z":default:e.push(Ct);break}}),ce(e),e}var L=E("LvGN");function St(h,o){var e=h.event,a=e.target,M=a.getCanvasBBox();return M.width>=o||M.height>=o?M:null}function $t(h,o){var e=h.event,a=e.target,M=a.getCanvasBBox();return M.width>=o||M.height>=o?a.attr("path"):null}function ye(h){var o=h.event,e,a=o.target;return a&&(e=a.get("element")),e}function Zt(h){var o=h.event,e=o.target,a;return e&&(a=e.get("delegateObject")),a}function de(h){var o=h.event.gEvent;return!(o&&o.fromShape&&o.toShape&&o.fromShape.get("element")===o.toShape.get("element"))}function he(h){return h&&h.component&&h.component.isList()}function le(h){return h&&h.component&&h.component.isSlider()}function Me(h){var o=h.event,e=o.target;return e&&e.get("name")==="mask"}function We(h,o){var e=h.event.target;if(e.get("type")==="path"){var a=$t(h,o);return a?jn(h.view,a):void 0}var M=St(h,o);return M?on(h.view,M):null}function Ye(h,o,e){var a=St(h,e);if(!a)return null;var M=h.view,N=_e(M,o,{x:a.x,y:a.y}),ot=_e(M,o,{x:a.maxX,y:a.maxY}),Ct={minX:N.x,minY:N.y,maxX:ot.x,maxY:ot.y};return on(o,Ct)}function ke(h){var o=h.geometries,e=[];return Object(i.each)(o,function(a){var M=a.elements;e=e.concat(M)}),h.views&&h.views.length&&Object(i.each)(h.views,function(a){e=e.concat(ke(a))}),e}function nn(h,o,e){var a=ke(h);return a.filter(function(M){return hn(M,o)===e})}function Re(h,o){var e=h.geometries,a=[];return Object(i.each)(e,function(M){var N=M.getElementsBy(function(ot){return ot.hasState(o)});a=a.concat(N)}),a}function hn(h,o){var e=h.getModel(),a=e.data,M;return Object(i.isArray)(a)?M=a[0][o]:M=a[o],M}function pn(h,o){return!(o.minX>h.maxX||o.maxX<h.minX||o.minY>h.maxY||o.maxY<h.minY)}function on(h,o){var e=ke(h),a=[];return Object(i.each)(e,function(M){var N=M.shape,ot=N.getCanvasBBox();pn(o,ot)&&a.push(M)}),a}function mn(h){var o=[];return Object(i.each)(h,function(e){var a=e[0];if(a!=="A")for(var M=1;M<e.length;M=M+2)o.push([e[M],e[M+1]]);else{var N=e.length;o.push([e[N-2],e[N-1]])}}),o}function jn(h,o){var e=ke(h),a=mn(o),M=e.filter(function(N){var ot=N.shape,Ct;if(ot.get("type")==="path")Ct=mn(ot.attr("path"));else{var Ft=ot.getCanvasBBox();Ct=qn(Ft)}return Object(L.b)(a,Ct)});return M}function Ie(h){return h.getComponents().map(function(o){return o.component})}function fe(h,o){var e=o.x-h.x,a=o.y-h.y;return Math.sqrt(e*e+a*a)}function Ne(h,o){if(h.length<=2)return Zn(h,!1);var e=h[0],a=[];Object(i.each)(h,function(N){a.push(N.x),a.push(N.y)});var M=Bn(a,o,null);return M.unshift(["M",e.x,e.y]),M}function Fe(h,o){return h.x<=o.x&&h.maxX>=o.x&&h.y<=o.y&&h.maxY>o.y}function rn(h){var o=h.parent,e=null;return o&&(e=o.views.filter(function(a){return a!==h})),e}function ln(h,o){var e=h.getCoordinate();return e.invert(o)}function _e(h,o,e){var a=ln(h,e);return o.getCoordinate().convert(a)}function dn(h,o,e,a){var M=!1;return Object(i.each)(h,function(N){if(N[e]===o[e]&&N[a]===o[a])return M=!0,!1}),M}function En(h,o){var e=h.getScaleByField(o);return!e&&h.views&&Object(i.each)(h.views,function(a){if(e=En(a,o),e)return!1}),e}var tr=function(){function h(o){this.actions=[],this.event=null,this.cacheMap={},this.view=o}return h.prototype.cache=function(){for(var o=[],e=0;e<arguments.length;e++)o[e]=arguments[e];if(o.length===1)return this.cacheMap[o[0]];o.length===2&&(this.cacheMap[o[0]]=o[1])},h.prototype.getAction=function(o){return this.actions.find(function(e){return e.name===o})},h.prototype.addAction=function(o){this.actions.push(o)},h.prototype.removeAction=function(o){var e=this.actions,a=this.actions.indexOf(o);a>=0&&e.splice(a,1)},h.prototype.getCurrentPoint=function(){var o=this.event;if(o)if(o.target instanceof HTMLElement){var e=this.view.getCanvas(),a=e.getPointByClient(o.clientX,o.clientY);return a}else return{x:o.x,y:o.y};return null},h.prototype.getCurrentShape=function(){return Object(i.get)(this.event,["gEvent","shape"])},h.prototype.isInPlot=function(){var o=this.getCurrentPoint();return o?this.view.isPointInPlot(o):!1},h.prototype.isInShape=function(o){var e=this.getCurrentShape();return e?e.get("name")===o:!1},h.prototype.isInComponent=function(o){var e=Ie(this.view),a=this.getCurrentPoint();return a?!!e.find(function(M){var N=M.getBBox();return o?M.get("name")===o&&Fe(N,a):Fe(N,a)}):!1},h.prototype.destroy=function(){this.view=null,this.event=null,Object(i.each)(this.actions.slice(),function(o){o.destroy()}),this.actions=null,this.cacheMap=null},h}(),Pn=tr,Fn=function(){function h(o,e){this.view=o,this.cfg=e}return h.prototype.init=function(){this.initEvents()},h.prototype.initEvents=function(){},h.prototype.clearEvents=function(){},h.prototype.destroy=function(){this.clearEvents()},h}(),Cr=Fn;function fi(h,o){var e=h.split(":"),a=e[0],M=o.getAction(a)||ue(a,o);if(!M)throw new Error("There is no action named "+a);var N=e[1];return{action:M,methodName:N}}function ri(h){var o=h.action,e=h.methodName;if(o[e])o[e]();else throw new Error("Action("+o.name+") doesn't have a method called "+e)}var zr={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},wi=function(h){Object(Y.b)(o,h);function o(e,a){var M=h.call(this,e,a)||this;return M.callbackCaches={},M.emitCaches={},M.steps=a,M}return o.prototype.init=function(){this.initContext(),h.prototype.init.call(this)},o.prototype.destroy=function(){h.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},o.prototype.initEvents=function(){var e=this;Object(i.each)(this.steps,function(a,M){Object(i.each)(a,function(N){var ot=e.getActionCallback(M,N);ot&&e.bindEvent(N.trigger,ot)})})},o.prototype.clearEvents=function(){var e=this;Object(i.each)(this.steps,function(a,M){Object(i.each)(a,function(N){var ot=e.getActionCallback(M,N);ot&&e.offEvent(N.trigger,ot)})})},o.prototype.initContext=function(){var e=this.view,a=new Pn(e);this.context=a;var M=this.steps;Object(i.each)(M,function(N){Object(i.each)(N,function(ot){if(Object(i.isFunction)(ot.action))ot.actionObject={action:Cn(ot.action,a),methodName:"execute"};else if(Object(i.isString)(ot.action))ot.actionObject=fi(ot.action,a);else if(Object(i.isArray)(ot.action)){var Ct=ot.action;ot.actionObject=[],Object(i.each)(Ct,function(Ft){ot.actionObject.push(fi(Ft,a))})}})})},o.prototype.isAllowStep=function(e){var a=this.currentStepName,M=this.steps;if(a===e||e===zr.SHOW_ENABLE)return!0;if(e===zr.PROCESSING)return a===zr.START;if(e===zr.START)return a!==zr.PROCESSING;if(e===zr.END)return a===zr.PROCESSING||a===zr.START;if(e===zr.ROLLBACK){if(M[zr.END])return a===zr.END;if(a===zr.START)return!0}return!1},o.prototype.isAllowExecute=function(e,a){if(this.isAllowStep(e)){var M=this.getKey(e,a);return a.once&&this.emitCaches[M]?!1:a.isEnable?a.isEnable(this.context):!0}return!1},o.prototype.enterStep=function(e){this.currentStepName=e,this.emitCaches={}},o.prototype.afterExecute=function(e,a){e!==zr.SHOW_ENABLE&&this.currentStepName!==e&&this.enterStep(e);var M=this.getKey(e,a);this.emitCaches[M]=!0},o.prototype.getKey=function(e,a){return e+a.trigger+a.action},o.prototype.getActionCallback=function(e,a){var M=this,N=this.context,ot=this.callbackCaches,Ct=a.actionObject;if(a.action&&Ct){var Ft=this.getKey(e,a);if(!ot[Ft]){var ne=function(be){N.event=be,M.isAllowExecute(e,a)?(Object(i.isArray)(Ct)?Object(i.each)(Ct,function(Ae){N.event=be,ri(Ae)}):(N.event=be,ri(Ct)),M.afterExecute(e,a),a.callback&&(N.event=be,a.callback(N))):N.event=null};a.debounce?ot[Ft]=Object(i.debounce)(ne,a.debounce.wait,a.debounce.immediate):a.throttle?ot[Ft]=Object(i.throttle)(ne,a.throttle.wait,{leading:a.throttle.leading,trailing:a.throttle.trailing}):ot[Ft]=ne}return ot[Ft]}return null},o.prototype.bindEvent=function(e,a){var M=e.split(":");M[0]==="window"?window.addEventListener(M[1],a):M[0]==="document"?document.addEventListener(M[1],a):this.view.on(e,a)},o.prototype.offEvent=function(e,a){var M=e.split(":");M[0]==="window"?window.removeEventListener(M[1],a):M[0]==="document"?document.removeEventListener(M[1],a):this.view.off(e,a)},o}(Cr),Ai=wi,gi={};function Oa(h){return gi[Object(i.lowerCase)(h)]}function Aa(h,o){gi[Object(i.lowerCase)(h)]=o}function Oo(h,o,e){var a=Oa(h);if(!a)return null;if(Object(i.isPlainObject)(a)){var M=Object(i.mix)(Object(i.clone)(a),e);return new Ai(o,M)}else{var N=a;return new N(o,e)}}function Fo(h){return{title:{autoRotate:!0,position:"center",spacing:h.axisTitleSpacing,style:{fill:h.axisTitleTextFillColor,fontSize:h.axisTitleTextFontSize,lineHeight:h.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:h.fontFamily}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:h.axisLabelOffset,style:{fill:h.axisLabelFillColor,fontSize:h.axisLabelFontSize,lineHeight:h.axisLabelLineHeight,fontFamily:h.fontFamily}},line:{style:{lineWidth:h.axisLineBorder,stroke:h.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:h.axisGridBorderColor,lineWidth:h.axisGridBorder,lineDash:h.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:h.axisTickLineBorder,stroke:h.axisTickLineBorderColor},alignTick:!0,length:h.axisTickLineLength},subTickLine:null,animate:!0}}function Yo(h){return{title:null,marker:{symbol:"circle",spacing:h.legendMarkerSpacing,style:{r:h.legendCircleMarkerSize,fill:h.legendMarkerColor}},itemName:{spacing:5,style:{fill:h.legendItemNameFillColor,fontFamily:h.fontFamily,fontSize:h.legendItemNameFontSize,lineHeight:h.legendItemNameLineHeight,fontWeight:h.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},flipPage:!0,animate:!1,maxItemWidth:200,itemSpacing:h.legendItemSpacing,itemMarginBottom:h.legendItemMarginBottom,padding:h.legendPadding}}function De(h){var o,e={point:{default:{fill:h.pointFillColor,r:h.pointSize,stroke:h.pointBorderColor,lineWidth:h.pointBorder,fillOpacity:h.pointFillOpacity},active:{stroke:h.pointActiveBorderColor,lineWidth:h.pointActiveBorder},selected:{stroke:h.pointSelectedBorderColor,lineWidth:h.pointSelectedBorder},inactive:{fillOpacity:h.pointInactiveFillOpacity,strokeOpacity:h.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:h.hollowPointFillColor,lineWidth:h.hollowPointBorder,stroke:h.hollowPointBorderColor,strokeOpacity:h.hollowPointBorderOpacity,r:h.hollowPointSize},active:{stroke:h.hollowPointActiveBorderColor,strokeOpacity:h.hollowPointActiveBorderOpacity},selected:{lineWidth:h.hollowPointSelectedBorder,stroke:h.hollowPointSelectedBorderColor,strokeOpacity:h.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:h.hollowPointInactiveBorderOpacity}},area:{default:{fill:h.areaFillColor,fillOpacity:h.areaFillOpacity,stroke:null},active:{fillOpacity:h.areaActiveFillOpacity},selected:{fillOpacity:h.areaSelectedFillOpacity},inactive:{fillOpacity:h.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:h.hollowAreaBorderColor,lineWidth:h.hollowAreaBorder,strokeOpacity:h.hollowAreaBorderOpacity},active:{fill:null,lineWidth:h.hollowAreaActiveBorder},selected:{fill:null,lineWidth:h.hollowAreaSelectedBorder},inactive:{strokeOpacity:h.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:h.intervalFillColor,fillOpacity:h.intervalFillOpacity},active:{stroke:h.intervalActiveBorderColor,lineWidth:h.intervalActiveBorder},selected:{stroke:h.intervalSelectedBorderColor,lineWidth:h.intervalSelectedBorder},inactive:{fillOpacity:h.intervalInactiveFillOpacity,strokeOpacity:h.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:h.hollowIntervalFillColor,stroke:h.hollowIntervalBorderColor,lineWidth:h.hollowIntervalBorder,strokeOpacity:h.hollowIntervalBorderOpacity},active:{stroke:h.hollowIntervalActiveBorderColor,lineWidth:h.hollowIntervalActiveBorder,strokeOpacity:h.hollowIntervalActiveBorderOpacity},selected:{stroke:h.hollowIntervalSelectedBorderColor,lineWidth:h.hollowIntervalSelectedBorder,strokeOpacity:h.hollowIntervalSelectedBorderOpacity},inactive:{stroke:h.hollowIntervalInactiveBorderColor,lineWidth:h.hollowIntervalInactiveBorder,strokeOpacity:h.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:h.lineBorderColor,lineWidth:h.lineBorder,strokeOpacity:h.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:h.lineActiveBorder},selected:{lineWidth:h.lineSelectedBorder},inactive:{strokeOpacity:h.lineInactiveBorderOpacity}}},a=Fo(h),M=Yo(h);return{background:h.backgroundColor,defaultColor:h.brandColor,padding:"auto",fontFamily:h.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:h.paletteQualitative10,colors20:h.paletteQualitative20,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:e.interval.default},active:{style:e.interval.active},inactive:{style:e.interval.inactive},selected:{style:function(ot){var Ct=ot.geometry.coordinate;if(Ct.isPolar&&Ct.isTransposed){var Ft=za(ot.getModel(),Ct),ne=Ft.startAngle,ge=Ft.endAngle,be=(ne+ge)/2,Ae=7.5,Xe=Ae*Math.cos(be),fn=Ae*Math.sin(be);return{matrix:Yr.a.transform(null,[["t",Xe,fn]])}}return e.interval.selected}}},"hollow-rect":{default:{style:e.hollowInterval.default},active:{style:e.hollowInterval.active},inactive:{style:e.hollowInterval.inactive},selected:{style:e.hollowInterval.selected}},line:{default:{style:e.hollowInterval.default},active:{style:e.hollowInterval.active},inactive:{style:e.hollowInterval.inactive},selected:{style:e.hollowInterval.selected}},tick:{default:{style:e.hollowInterval.default},active:{style:e.hollowInterval.active},inactive:{style:e.hollowInterval.inactive},selected:{style:e.hollowInterval.selected}},funnel:{default:{style:e.interval.default},active:{style:e.interval.active},inactive:{style:e.interval.inactive},selected:{style:e.interval.selected}},pyramid:{default:{style:e.interval.default},active:{style:e.interval.active},inactive:{style:e.interval.inactive},selected:{style:e.interval.selected}}},line:{line:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},dot:{default:{style:Object(Y.a)(Object(Y.a)({},e.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:Object(Y.a)(Object(Y.a)({},e.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:Object(Y.a)(Object(Y.a)({},e.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:Object(Y.a)(Object(Y.a)({},e.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:Object(Y.a)(Object(Y.a)({},e.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:Object(Y.a)(Object(Y.a)({},e.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:Object(Y.a)(Object(Y.a)({},e.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:Object(Y.a)(Object(Y.a)({},e.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},hv:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},vh:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},hvh:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},vhv:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}}},polygon:{polygon:{default:{style:e.interval.default},active:{style:e.interval.active},inactive:{style:e.interval.inactive},selected:{style:e.interval.selected}}},point:{circle:{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},square:{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},bowtie:{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},diamond:{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},hexagon:{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},triangle:{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},"triangle-down":{default:{style:e.point.default},active:{style:e.point.active},inactive:{style:e.point.inactive},selected:{style:e.point.selected}},"hollow-circle":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},"hollow-square":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},"hollow-bowtie":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},"hollow-diamond":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},"hollow-hexagon":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},"hollow-triangle":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},"hollow-triangle-down":{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},cross:{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},tick:{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},plus:{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},hyphen:{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}},line:{default:{style:e.hollowPoint.default},active:{style:e.hollowPoint.active},inactive:{style:e.hollowPoint.inactive},selected:{style:e.hollowPoint.selected}}},area:{area:{default:{style:e.area.default},active:{style:e.area.active},inactive:{style:e.area.inactive},selected:{style:e.area.selected}},smooth:{default:{style:e.area.default},active:{style:e.area.active},inactive:{style:e.area.inactive},selected:{style:e.area.selected}},line:{default:{style:e.hollowArea.default},active:{style:e.hollowArea.active},inactive:{style:e.hollowArea.inactive},selected:{style:e.hollowArea.selected}},"smooth-line":{default:{style:e.hollowArea.default},active:{style:e.hollowArea.active},inactive:{style:e.hollowArea.inactive},selected:{style:e.hollowArea.selected}}},schema:{candle:{default:{style:e.hollowInterval.default},active:{style:e.hollowInterval.active},inactive:{style:e.hollowInterval.inactive},selected:{style:e.hollowInterval.selected}},box:{default:{style:e.hollowInterval.default},active:{style:e.hollowInterval.active},inactive:{style:e.hollowInterval.inactive},selected:{style:e.hollowInterval.selected}}},edge:{line:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},vhv:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},smooth:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}},arc:{default:{style:e.line.default},active:{style:e.line.active},inactive:{style:e.line.inactive},selected:{style:e.line.selected}}}},components:{axis:{common:a,top:Object(i.deepMix)({},a,{position:"top",grid:null,title:null,verticalLimitLength:1/2}),bottom:Object(i.deepMix)({},a,{position:"bottom",grid:null,title:null,verticalLimitLength:1/2}),left:Object(i.deepMix)({},a,{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3}),right:Object(i.deepMix)({},a,{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3}),circle:Object(i.deepMix)({},a,{title:null,grid:Object(i.deepMix)({},a.grid,{line:{type:"line"}})}),radius:Object(i.deepMix)({},a,{title:null,grid:Object(i.deepMix)({},a.grid,{line:{type:"circle"}})})},legend:{common:M,right:Object(i.deepMix)({},M,{layout:"vertical",padding:h.legendVerticalPadding}),left:Object(i.deepMix)({},M,{layout:"vertical",padding:h.legendVerticalPadding}),top:Object(i.deepMix)({},M,{layout:"horizontal",padding:h.legendHorizontalPadding}),bottom:Object(i.deepMix)({},M,{layout:"horizontal",padding:h.legendHorizontalPadding}),continuous:{title:null,background:null,track:{},rail:{type:"color",size:h.sliderRailHeight,defaultLength:h.sliderRailWidth,style:{fill:h.sliderRailFillColor,stroke:h.sliderRailBorderColor,lineWidth:h.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:h.sliderLabelTextFillColor,fontSize:h.sliderLabelTextFontSize,lineHeight:h.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:h.fontFamily}},handler:{size:h.sliderHandlerWidth,style:{fill:h.sliderHandlerFillColor,stroke:h.sliderHandlerBorderColor}},slidable:!0,padding:M.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffSetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:h.tooltipCrosshairsBorderColor,lineWidth:h.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(o={},o[""+pi.TOOLTIP_CSS_CONST.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:h.tooltipContainerFillColor,opacity:h.tooltipContainerFillOpacity,boxShadow:h.tooltipContainerShadow,borderRadius:h.tooltipContainerBorderRadius+"px",color:h.tooltipTextFillColor,fontSize:h.tooltipTextFontSize+"px",fontFamily:h.fontFamily,lineHeight:h.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},o[""+pi.TOOLTIP_CSS_CONST.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},o[""+pi.TOOLTIP_CSS_CONST.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},o[""+pi.TOOLTIP_CSS_CONST.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},o[""+pi.TOOLTIP_CSS_CONST.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},o[""+pi.TOOLTIP_CSS_CONST.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},o)},annotation:{arc:{style:{stroke:h.annotationArcBorderColor,lineWidth:h.annotationArcBorder},animate:!0},line:{style:{stroke:h.annotationLineBorderColor,lineDash:h.annotationLineDash,lineWidth:h.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:h.annotationTextFillColor,stroke:h.annotationTextBorderColor,lineWidth:h.annotationTextBorder,fontSize:h.annotationTextFontSize,textAlign:"start",fontFamily:h.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:h.annotationTextFillColor,stroke:h.annotationTextBorderColor,lineWidth:h.annotationTextBorder,fontSize:h.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:h.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:h.annotationRegionBorder,stroke:h.annotationRegionBorderColor,fill:h.annotationRegionFillColor,fillOpacity:h.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:h.brandColor,lineWidth:2}},line:{style:{stroke:h.annotationLineBorderColor,lineWidth:h.annotationLineBorder},length:h.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:h.annotationTextFillColor,stroke:h.annotationTextBorderColor,lineWidth:h.annotationTextBorder,fontSize:h.annotationTextFontSize,fontFamily:h.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:h.annotationRegionFillColor,fillOpacity:h.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:h.annotationTextFillColor,stroke:h.annotationTextBorderColor,lineWidth:h.annotationTextBorder,fontSize:h.annotationTextFontSize,fontFamily:h.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8]}},scrollbar:{common:{padding:[8,8,8,8]}}},labels:{offset:12,style:{fill:h.labelFillColor,fontSize:h.labelFontSize,fontFamily:h.fontFamily,stroke:h.labelBorderColor,lineWidth:h.labelBorder},fillColorDark:h.labelFillColorDark,fillColorLight:h.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:h.innerLabelFillColor,fontSize:h.innerLabelFontSize,fontFamily:h.fontFamily,stroke:h.innerLabelBorderColor,lineWidth:h.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:h.overflowLabelFillColor,fontSize:h.overflowLabelFontSize,fontFamily:h.fontFamily,stroke:h.overflowLabelBorderColor,lineWidth:h.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:h.labelLineBorder}},autoRotate:!0}}}var an={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Mn={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},xn=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],bn=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Yn=function(o){o===void 0&&(o={});var e=o.backgroundColor,a=e===void 0?"transparent":e,M=o.paletteQualitative10,N=M===void 0?xn:M,ot=o.paletteQualitative20,Ct=ot===void 0?bn:ot,Ft=o.paletteSemanticRed,ne=Ft===void 0?"#F4664A":Ft,ge=o.paletteSemanticGreen,be=ge===void 0?"#30BF78":ge,Ae=o.paletteSemanticYellow,Xe=Ae===void 0?"#FAAD14":Ae,fn=o.fontFamily,Sn=fn===void 0?`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`:fn,nr=o.brandColor,ar=nr===void 0?N[0]:nr;return{backgroundColor:a,brandColor:ar,paletteQualitative10:N,paletteQualitative20:Ct,paletteSemanticRed:ne,paletteSemanticGreen:be,paletteSemanticYellow:Xe,fontFamily:Sn,axisLineBorderColor:an[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:an[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:an[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:an[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:an[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:an[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:an[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:ar,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:an[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],sliderRailFillColor:an[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:an[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:an[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:an[25],annotationArcBorderColor:an[15],annotationArcBorder:1,annotationLineBorderColor:an[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:an[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:an[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:an[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:an[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:an[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Mn[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:an[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Mn[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:an[25],pointFillColor:ar,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Mn[100],pointBorderOpacity:1,pointActiveBorderColor:an[100],pointSelectedBorder:2,pointSelectedBorderColor:an[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:ar,hollowPointBorderOpacity:.95,hollowPointFillColor:Mn[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:an[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:an[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:ar,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:ar,areaFillOpacity:.25,areaActiveFillColor:ar,areaActiveFillOpacity:.5,areaSelectedFillColor:ar,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:ar,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:an[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:an[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:ar,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:an[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:an[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:ar,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Mn[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:an[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:an[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}},Jn=Yn();function $n(h){var o=h.styleSheet,e=o===void 0?{}:o,a=Object(Y.c)(h,["styleSheet"]),M=Yn(e);return Object(i.deepMix)({},De(M),a)}var _n=$n({}),fr={default:_n};function sr(h){return Object(i.get)(fr,Object(i.lowerCase)(h),fr.default)}function vr(h,o){fr[Object(i.lowerCase)(h)]=$n(o)}function pr(h,o,e){var a=e.translate(h),M=e.translate(o);return Object(i.isNumberEqual)(a,M)}function Wr(h,o){var e=o.coordinate,a=o.getXScale(),M=a.range,N=M[M.length-1],ot=M[0],Ct=e.invert(h),Ft=Ct.x;return e.isPolar&&Ft>(1+N)/2&&(Ft=ot),a.translate(a.invert(Ft))}function Ur(h,o,e){var a=e.coordinate,M=e.getYScale(),N=M.field,ot=a.invert(o),Ct=M.invert(ot.y),Ft=Object(i.find)(h,function(ne){var ge=ne[m];return ge[N][0]<=Ct&&ge[N][1]>=Ct});return Ft||h[h.length-1]}var Ii=Object(i.memoize)(function(h){if(h.isCategory)return 1;for(var o=h.values,e=o.length,a=h.translate(o[0]),M=a,N=0;N<e;N++){var ot=o[N],Ct=h.translate(ot);Ct<a&&(a=Ct),Ct>M&&(M=Ct)}return(M-a)/(e-1)});function br(h,o,e){var a=o.getAttribute("position"),M=a.getFields(),N=o.scales,ot=Object(i.isFunction)(e)||!e?M[0]:e,Ct=N[ot],Ft=Ct?Ct.getText(h[ot]):h[ot]||ot;return Object(i.isFunction)(e)?e(Ft,h):Ft}function hi(h){var o=Object(i.values)(h.attributes);return Object(i.filter)(o,function(e){return Object(i.contains)(I,e.type)})}function Vr(h){for(var o=hi(h),e,a=0,M=o;a<M.length;a++){var N=M[a],ot=N.getScale(N.type);if(ot&&ot.isLinear){e=ot;break}}var Ct=h.getXScale(),Ft=h.getYScale();return e||Ft||Ct}function ji(h,o){var e=o.field,a=h[e];if(Object(i.isArray)(a)){var M=a.map(function(N){return o.getText(N)});return M.join("-")}return o.getText(a)}function zi(h,o){var e,a=o.getGroupScales();if(a.length&&(e=a[0]),e){var M=e.field;return e.getText(h[M])}var N=Vr(o);return Lr(N)}function Ui(h,o,e){if(o.length===0)return null;var a=e.type,M=e.getXScale(),N=e.getYScale(),ot=M.field,Ct=N.field,Ft=null;if(a==="heatmap"||a==="point"){for(var ne=e.coordinate,ge=ne.invert(h),be=M.invert(ge.x),Ae=N.invert(ge.y),Xe=Infinity,fn=0;fn<o.length;fn++){var Sn=o[fn],nr=Sn[m],ar=Math.pow(nr[ot]-be,2)+Math.pow(nr[Ct]-Ae,2);ar<Xe&&(Xe=ar,Ft=Sn)}return Ft}var Sr=o[0],Mr=o[o.length-1],qr=Wr(h,e),oi=Sr[m][ot],ai=Sr[m][Ct],aa=Mr[m][ot],Ji=N.isLinear&&Object(i.isArray)(ai);if(Object(i.isArray)(oi)){for(var fn=0;fn<o.length;fn++){var _i=o[fn],nr=_i[m];if(M.translate(nr[ot][0])<=qr&&M.translate(nr[ot][1])>=qr)if(Ji)Object(i.isArray)(Ft)||(Ft=[]),Ft.push(_i);else{Ft=_i;break}}Object(i.isArray)(Ft)&&(Ft=Ur(Ft,h,e))}else{var Ca=void 0;if(!M.isLinear&&M.type!=="timeCat"){for(var fn=0;fn<o.length;fn++){var _i=o[fn],nr=_i[m];if(pr(nr[ot],qr,M))if(Ji)Object(i.isArray)(Ft)||(Ft=[]),Ft.push(_i);else{Ft=_i;break}else M.translate(nr[ot])<=qr&&(Mr=_i,Ca=o[fn+1])}Object(i.isArray)(Ft)&&(Ft=Ur(Ft,h,e))}else{if((qr>M.translate(aa)||qr<M.translate(oi))&&(qr>M.max||qr<M.min))return null;for(var io=0,ao=o.length-1,co=void 0;io<=ao;){co=Math.floor((io+ao)/2);var go=o[co][m][ot];if(pr(go,qr,M))return o[co];M.translate(go)<=M.translate(qr)?(io=co+1,Mr=o[co],Ca=o[co+1]):(ao===0&&(Mr=o[0]),ao=co-1)}}Mr&&Ca&&Math.abs(M.translate(Mr[m][ot])-qr)>Math.abs(M.translate(Ca[m][ot])-qr)&&(Mr=Ca)}var et=Ii(e.getXScale());return!Ft&&Math.abs(M.translate(Mr[m][ot])-qr)<=et/2&&(Ft=Mr),Ft}function ra(h,o,e,a){e===void 0&&(e=""),a===void 0&&(a=!1);var M=h[m],N=br(M,o,e),ot=o.tooltipOption,Ct=o.theme.defaultColor,Ft=[],ne,ge;function be(aa,Ji){if(a||!Object(i.isNil)(Ji)&&Ji!==""){var _i={title:N,data:M,mappingData:h,name:aa,value:Ji,color:h.color||Ct,marker:!0};Ft.push(_i)}}if(Object(i.isObject)(ot)){var Ae=ot.fields,Xe=ot.callback;if(Xe){var fn=Ae.map(function(aa){return h[m][aa]}),Sn=Xe.apply(void 0,fn),nr=Object(Y.a)({data:h[m],mappingData:h,title:N,color:h.color||Ct,marker:!0},Sn);Ft.push(nr)}else for(var ar=o.scales,Sr=0,Mr=Ae;Sr<Mr.length;Sr++){var qr=Mr[Sr];if(!Object(i.isNil)(M[qr])){var oi=ar[qr];ne=Lr(oi),ge=oi.getText(M[qr]),be(ne,ge)}}}else{var ai=Vr(o);ge=ji(M,ai),ne=zi(M,o),be(ne,ge)}return Ft}function da(h){return!Object(i.isNumber)(h)&&!Object(i.isArray)(h)}function Di(h){h===void 0&&(h=0);var o=Object(i.isArray)(h)?h:[h];switch(o.length){case 0:o=[0,0,0,0];break;case 1:o=new Array(4).fill(o[0]);break;case 2:o=Object(Y.d)(o,o);break;case 3:o=Object(Y.d)(o,[o[1]]);break;default:o=o.slice(0,4);break}return o}var kr={};function er(h,o){kr[h]=o}function Vi(h){delete kr[h]}function _a(){return Object.keys(kr)}function Si(h){return kr[h]}var Yi=function(){function h(o){this.option=this.wrapperOption(o)}return h.prototype.update=function(o){return this.option=this.wrapperOption(o),this},h.prototype.hasAction=function(o){var e=this.option.actions;return Object(i.some)(e,function(a){return a[0]===o})},h.prototype.create=function(o,e){var a=this.option,M=a.type,N=a.cfg,ot=M==="theta",Ct=Object(Y.a)({start:o,end:e},N),Ft=di(ot?"polar":M);return this.coordinate=new Ft(Ct),this.coordinate.type=M,ot&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},h.prototype.adjust=function(o,e){return this.coordinate.update({start:o,end:e}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},h.prototype.rotate=function(o){return this.option.actions.push(["rotate",o]),this},h.prototype.reflect=function(o){return this.option.actions.push(["reflect",o]),this},h.prototype.scale=function(o,e){return this.option.actions.push(["scale",o,e]),this},h.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},h.prototype.getOption=function(){return this.option},h.prototype.getCoordinate=function(){return this.coordinate},h.prototype.wrapperOption=function(o){return Object(Y.a)({type:"rect",actions:[],cfg:{}},o)},h.prototype.execActions=function(o){var e=this,a=this.option.actions;Object(i.each)(a,function(M){var N,ot=M[0],Ct=M.slice(1),Ft=Object(i.isNil)(o)?!0:o.includes(ot);Ft&&(N=e.coordinate)[ot].apply(N,Ct)})},h}(),ea=Yi,no=function(){function h(o,e,a){this.view=o,this.gEvent=e,this.data=a,this.type=e.type}return h.fromData=function(o,e,a){return new h(o,new Z.Event(e,{}),a)},Object.defineProperty(h.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),h.prototype.toString=function(){return"[Event (type="+this.type+")]"},h.prototype.clone=function(){return new h(this.view,this.gEvent,this.data)},h}(),$i=no;function Va(h){var o=h.getController("axis"),e=h.getController("legend"),a=h.getController("annotation"),M=h.getController("slider"),N=h.getController("scrollbar");[o,M,N,e,a].forEach(function(ot){ot&&ot.layout()})}var Ta=function(){function h(){this.scales=new Map,this.syncScales=new Map}return h.prototype.createScale=function(o,e,a,M){var N=a,ot=this.getScaleMeta(M);if(e.length===0&&ot){var Ct=ot.scale,Ft={type:Ct.type};Ct.isCategory&&(Ft.values=Ct.values),N=Object(i.deepMix)(Ft,ot.scaleDef,a)}var ne=_r(o,e,N);return this.cacheScale(ne,a,M),ne},h.prototype.sync=function(o,e){var a=this;this.syncScales.forEach(function(M,N){var ot=Number.MAX_SAFE_INTEGER,Ct=Number.MIN_SAFE_INTEGER,Ft=[];Object(i.each)(M,function(ne){var ge=a.getScale(ne);Ct=Object(i.isNumber)(ge.max)?Math.max(Ct,ge.max):Ct,ot=Object(i.isNumber)(ge.min)?Math.min(ot,ge.min):ot,Object(i.each)(ge.values,function(be){Ft.includes(be)||Ft.push(be)})}),Object(i.each)(M,function(ne){var ge=a.getScale(ne);if(ge.isContinuous)ge.change({min:ot,max:Ct,values:Ft});else if(ge.isCategory){var be=ge.range,Ae=a.getScaleMeta(ne);Ft&&!Object(i.get)(Ae,["scaleDef","range"])&&(be=Gr(Object(i.deepMix)({},ge,{values:Ft}),o,e)),ge.change({values:Ft,range:be})}})})},h.prototype.cacheScale=function(o,e,a){var M=this.getScaleMeta(a);M&&M.scale.type===o.type?(Fr(M.scale,o),M.scaleDef=e):(M={key:a,scale:o,scaleDef:e},this.scales.set(a,M));var N=this.getSyncKey(M);if(M.syncKey=N,this.removeFromSyncScales(a),N){var ot=this.syncScales.get(N);ot||(ot=[],this.syncScales.set(N,ot)),ot.push(a)}},h.prototype.getScale=function(o){var e=this.getScaleMeta(o);if(!e){var a=Object(i.last)(o.split("-")),M=this.syncScales.get(a);M&&M.length&&(e=this.getScaleMeta(M[0]))}return e&&e.scale},h.prototype.deleteScale=function(o){var e=this.getScaleMeta(o);if(e){var a=e.syncKey,M=this.syncScales.get(a);if(M&&M.length){var N=M.indexOf(o);N!==-1&&M.splice(N,1)}}this.scales.delete(o)},h.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},h.prototype.removeFromSyncScales=function(o){var e=this;this.syncScales.forEach(function(a,M){var N=a.indexOf(o);if(N!==-1)return a.splice(N,1),a.length===0&&e.syncScales.delete(M),!1})},h.prototype.getSyncKey=function(o){var e=o.scale,a=o.scaleDef,M=e.field,N=Object(i.get)(a,["sync"]);return N===!0?M:N===!1?void 0:N},h.prototype.getScaleMeta=function(o){return this.scales.get(o)},h}(),bo=function(){function h(o,e,a,M){o===void 0&&(o=0),e===void 0&&(e=0),a===void 0&&(a=0),M===void 0&&(M=0),this.top=o,this.right=e,this.bottom=a,this.left=M}return h.instance=function(o,e,a,M){return o===void 0&&(o=0),e===void 0&&(e=0),a===void 0&&(a=0),M===void 0&&(M=0),new h(o,e,a,M)},h.prototype.max=function(o){var e=o[0],a=o[1],M=o[2],N=o[3];return this.top=Math.max(this.top,e),this.right=Math.max(this.right,a),this.bottom=Math.max(this.bottom,M),this.left=Math.max(this.left,N),this},h.prototype.shrink=function(o){var e=o[0],a=o[1],M=o[2],N=o[3];return this.top+=e,this.right+=a,this.bottom+=M,this.left+=N,this},h.prototype.inc=function(o,e){var a=o.width,M=o.height;switch(e){case t.TOP:case t.TOP_LEFT:case t.TOP_RIGHT:this.top+=M;break;case t.RIGHT:case t.RIGHT_TOP:case t.RIGHT_BOTTOM:this.right+=a;break;case t.BOTTOM:case t.BOTTOM_LEFT:case t.BOTTOM_RIGHT:this.bottom+=M;break;case t.LEFT:case t.LEFT_TOP:case t.LEFT_BOTTOM:this.left+=a;break;default:break}return this},h.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},h.prototype.clone=function(){return new(h.bind.apply(h,Object(Y.d)([void 0],this.getPadding())))},h}();function Na(h){var o=h.padding;if(!da(o))return new(bo.bind.apply(bo,Object(Y.d)([void 0],Di(o))));var e=h.viewBBox,a=new bo,M=[],N=[],ot=[];return Object(i.each)(h.getComponents(),function(Ct){var Ft=Ct.type;Ft===n.AXIS?M.push(Ct):[n.LEGEND,n.SLIDER,n.SCROLLBAR].includes(Ft)?N.push(Ct):Ft!==n.GRID&&Ft!==n.TOOLTIP&&ot.push(Ct)}),Object(i.each)(M,function(Ct){var Ft=Ct.component,ne=Ft.getLayoutBBox(),ge=new Ze(ne.x,ne.y,ne.width,ne.height),be=ge.exceed(e);a.max(be)}),Object(i.each)(N,function(Ct){var Ft=Ct.component,ne=Ct.direction,ge=Ft.getLayoutBBox(),be=Ft.get("padding"),Ae=new Ze(ge.x,ge.y,ge.width,ge.height).expand(be);a.inc(Ae,ne)}),Object(i.each)(ot,function(Ct){var Ft=Ct.component,ne=Ct.direction,ge=Ft.getLayoutBBox(),be=new Ze(ge.x,ge.y,ge.width,ge.height);a.inc(be,ne)}),a}function Fa(h,o,e){var a=e.instance();o.forEach(function(M){M.autoPadding=a.max(M.autoPadding.getPadding())})}var ro=function(h){Object(Y.b)(o,h);function o(e){var a=h.call(this,{visible:e.visible})||this;a.views=[],a.geometries=[],a.controllers=[],a.interactions={},a.limitInPlot=!1,a.options={data:[],animate:!0},a.usedControllers=_a(),a.scalePool=new Ta,a.layoutFunc=Va,a.isPreMouseInPlot=!1,a.isDataChanged=!1,a.isCoordinateChanged=!1,a.createdScaleKeys=new Map,a.onCanvasEvent=function(Mr){var qr=Mr.name;if(!qr.includes(":")){var oi=a.createViewEvent(Mr);a.doPlotEvent(oi),a.emit(qr,oi)}},a.onDelegateEvents=function(Mr){var qr=Mr.name;if(!!qr.includes(":")){var oi=a.createViewEvent(Mr);a.emit(qr,oi)}};var M=e.id,N=M===void 0?Object(i.uniqueId)("view"):M,ot=e.parent,Ct=e.canvas,Ft=e.backgroundGroup,ne=e.middleGroup,ge=e.foregroundGroup,be=e.region,Ae=be===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:be,Xe=e.padding,fn=e.appendPadding,Sn=e.theme,nr=e.options,ar=e.limitInPlot,Sr=e.syncViewPadding;return a.parent=ot,a.canvas=Ct,a.backgroundGroup=Ft,a.middleGroup=ne,a.foregroundGroup=ge,a.region=Ae,a.padding=Xe,a.appendPadding=fn,a.options=Object(Y.a)(Object(Y.a)({},a.options),nr),a.limitInPlot=ar,a.id=N,a.syncViewPadding=Sr,a.themeObject=Object(i.isObject)(Sn)?Object(i.deepMix)({},sr("default"),$n(Sn)):sr(Sn),a.init(),a}return o.prototype.setLayout=function(e){this.layoutFunc=e},o.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},o.prototype.render=function(e){e===void 0&&(e=!1),this.emit(g.BEFORE_RENDER),this.paint(e),this.emit(g.AFTER_RENDER),this.visible===!1&&this.changeVisible(!1)},o.prototype.clear=function(){var e=this;this.emit(g.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var a=this.geometries,M=0;M<a.length;M++)a[M].clear(),a[M].container.remove(!0);this.geometries=[];for(var N=this.controllers,M=0;M<N.length;M++)N[M].name==="annotation"?N[M].clear(!0):N[M].clear();this.createdScaleKeys.forEach(function(Ct,Ft){e.getRootView().scalePool.deleteScale(Ft)}),this.createdScaleKeys.clear();for(var ot=this.views,M=0;M<ot.length;M++)ot[M].clear();this.emit(g.AFTER_CLEAR)},o.prototype.destroy=function(){this.emit(g.BEFORE_DESTROY);var e=this.interactions;Object(i.each)(e,function(Ct){Ct&&Ct.destroy()}),this.clear();for(var a=this.controllers,M=0,N=a.length;M<N;M++){var ot=a[M];ot.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),h.prototype.destroy.call(this)},o.prototype.changeVisible=function(e){h.prototype.changeVisible.call(this,e);for(var a=this.geometries,M=0,N=a.length;M<N;M++){var ot=a[M];ot.changeVisible(e)}for(var Ct=this.controllers,M=0,N=Ct.length;M<N;M++){var Ft=Ct[M];Ft.changeVisible(e)}return this.foregroundGroup.set("visible",e),this.middleGroup.set("visible",e),this.backgroundGroup.set("visible",e),this.getCanvas().draw(),this},o.prototype.data=function(e){return Object(i.set)(this.options,"data",e),this.isDataChanged=!0,this},o.prototype.source=function(e){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(e)},o.prototype.filter=function(e,a){return Object(i.isFunction)(a)?(Object(i.set)(this.options,["filters",e],a),this):(!a&&Object(i.get)(this.options,["filters",e])&&delete this.options.filters[e],this)},o.prototype.axis=function(e,a){return Object(i.isBoolean)(e)?Object(i.set)(this.options,["axes"],e):Object(i.set)(this.options,["axes",e],a),this},o.prototype.legend=function(e,a){return Object(i.isBoolean)(e)?Object(i.set)(this.options,["legends"],e):Object(i.isString)(e)?Object(i.set)(this.options,["legends",e],a):Object(i.set)(this.options,["legends"],e),this},o.prototype.scale=function(e,a){var M=this;return Object(i.isString)(e)?Object(i.set)(this.options,["scales",e],a):Object(i.isObject)(e)&&Object(i.each)(e,function(N,ot){Object(i.set)(M.options,["scales",ot],N)}),this},o.prototype.tooltip=function(e){return Object(i.set)(this.options,"tooltip",e),this},o.prototype.annotation=function(){return this.getController("annotation")},o.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},o.prototype.coordinate=function(e,a){return Object(i.isString)(e)?Object(i.set)(this.options,"coordinate",{type:e,cfg:a}):Object(i.set)(this.options,"coordinate",e),this.coordinateController.update(this.options.coordinate),this.coordinateController},o.prototype.coord=function(e,a){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(e,a)},o.prototype.facet=function(e,a){this.facetInstance&&this.facetInstance.destroy();var M=U(e);if(!M)throw new Error("facet '"+e+"' is not exist!");return this.facetInstance=new M(this,Object(Y.a)(Object(Y.a)({},a),{type:e})),this},o.prototype.animate=function(e){return Object(i.set)(this.options,"animate",e),this},o.prototype.updateOptions=function(e){return this.clear(),Object(i.mix)(this.options,e),this.views.forEach(function(a){return a.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},o.prototype.option=function(e,a){if(o.prototype[e])throw new Error(`Can't use built in variable name "`+e+'", please change another one.');return Object(i.set)(this.options,e,a),this},o.prototype.theme=function(e){return this.themeObject=Object(i.isObject)(e)?Object(i.deepMix)({},this.themeObject,$n(e)):sr(e),this},o.prototype.interaction=function(e,a){var M=this.interactions[e];M&&M.destroy();var N=Oo(e,this,a);return N&&(N.init(),this.interactions[e]=N),this},o.prototype.removeInteraction=function(e){var a=this.interactions[e];a&&(a.destroy(),this.interactions[e]=void 0)},o.prototype.changeData=function(e){this.isDataChanged=!0,this.emit(g.BEFORE_CHANGE_DATA),this.data(e),this.paint(!0);for(var a=this.views,M=0,N=a.length;M<N;M++){var ot=a[M];ot.changeData(e)}this.emit(g.AFTER_CHANGE_DATA)},o.prototype.createView=function(e){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var a={data:this.options.data,scales:Object(i.clone)(this.options.scales),axes:Object(i.clone)(this.options.axes),coordinate:Object(i.clone)(this.coordinateController.getOption()),tooltip:Object(i.clone)(this.options.tooltip),legends:Object(i.clone)(this.options.legends),animate:this.options.animate,visible:this.visible},M=new o(Object(Y.a)(Object(Y.a)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:u.BG}),middleGroup:this.middleGroup.addGroup({zIndex:u.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:u.FORE}),theme:this.themeObject,padding:this.padding},e),{options:Object(Y.a)(Object(Y.a)({},a),Object(i.get)(e,"options",{}))}));return this.views.push(M),M},o.prototype.view=function(e){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(e)},o.prototype.removeView=function(e){var a=Object(i.remove)(this.views,function(M){return M===e})[0];return a&&a.destroy(),a},o.prototype.getCoordinate=function(){return this.coordinateInstance},o.prototype.getTheme=function(){return this.themeObject},o.prototype.getXScale=function(){var e=this.geometries[0];return e?e.getXScale():null},o.prototype.getYScales=function(){var e={};return this.geometries.map(function(a){var M=a.getYScale(),N=M.field;if(!e[N])return e[N]=!0,M})},o.prototype.getScalesByDim=function(e){for(var a=this.geometries,M={},N=0,ot=a.length;N<ot;N++){var Ct=a[N],Ft=e==="x"?Ct.getXScale():Ct.getYScale();Ft&&!M[Ft.field]&&(M[Ft.field]=Ft)}return M},o.prototype.getScaleByField=function(e,a){var M=a||this.getScaleKey(e);return this.getRootView().scalePool.getScale(M)},o.prototype.getOptions=function(){return this.options},o.prototype.getData=function(){return this.filteredData},o.prototype.getLayer=function(e){return e===b.BG?this.backgroundGroup:e===b.MID?this.middleGroup:e===b.FORE?this.foregroundGroup:this.foregroundGroup},o.prototype.isPointInPlot=function(e){return un(this.getCoordinate(),e)},o.prototype.getLegendAttributes=function(){return Object(i.flatten)(this.geometries.map(function(e){return e.getGroupAttributes()}))},o.prototype.getGroupScales=function(){var e=this.geometries.map(function(a){return a.getGroupScales()});return Oe(Object(i.flatten)(e))},o.prototype.getCanvas=function(){return this.getRootView().canvas},o.prototype.getRootView=function(){for(var e=this;;){if(e.parent){e=e.parent;continue}break}return e},o.prototype.getXY=function(e){var a=this.getCoordinate(),M=this.getScalesByDim("x"),N=this.getScalesByDim("y"),ot,Ct;if(Object(i.each)(e,function(Ft,ne){M[ne]&&(ot=M[ne].scale(Ft)),N[ne]&&(Ct=N[ne].scale(Ft))}),!Object(i.isNil)(ot)&&!Object(i.isNil)(Ct))return a.convert({x:ot,y:Ct})},o.prototype.getController=function(e){return Object(i.find)(this.controllers,function(a){return a.name===e})},o.prototype.showTooltip=function(e){var a=this.getController("tooltip");return a&&a.showTooltip(e),this},o.prototype.hideTooltip=function(){var e=this.getController("tooltip");return e&&e.hideTooltip(),this},o.prototype.lockTooltip=function(){var e=this.getController("tooltip");return e&&e.lockTooltip(),this},o.prototype.unlockTooltip=function(){var e=this.getController("tooltip");return e&&e.unlockTooltip(),this},o.prototype.isTooltipLocked=function(){var e=this.getController("tooltip");return e&&e.isTooltipLocked()},o.prototype.getTooltipItems=function(e){var a=this.getController("tooltip");return a?a.getTooltipItems(e):[]},o.prototype.getSnapRecords=function(e){for(var a=this.geometries,M=[],N=0,ot=a.length;N<ot;N++){var Ct=a[N],Ft=Ct.dataArray;Ct.sort(Ft);for(var ne=void 0,ge=0,be=Ft.length;ge<be;ge++){var Ae=Ft[ge];ne=Ui(e,Ae,Ct),ne&&M.push(ne)}}for(var Xe=this.views,N=0,ot=Xe.length;N<ot;N++){var fn=Xe[N],Sn=fn.getSnapRecords(e);M=M.concat(Sn)}return M},o.prototype.getComponents=function(){for(var e=[],a=this.controllers,M=0,N=a.length;M<N;M++){var ot=a[M];e=e.concat(ot.getComponents())}return e},o.prototype.filterData=function(e){var a=this.options.filters;return Object(i.size)(a)===0?e:Object(i.filter)(e,function(M,N){var ot=Object.keys(a);return ot.every(function(Ct){var Ft=a[Ct];return Ft(M[Ct],M,N)})})},o.prototype.filterFieldData=function(e,a){var M=this.options.filters,N=Object(i.get)(M,e);return Object(i.isUndefined)(N)?a:a.filter(function(ot,Ct){return N(ot[e],ot,Ct)})},o.prototype.adjustCoordinate=function(){var e=this.getCoordinate(),a=e.start,M=e.end,N=this.coordinateBBox.bl,ot=this.coordinateBBox.tr;if(Object(i.isEqual)(a,N)&&Object(i.isEqual)(M,ot)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(N,ot)},o.prototype.paint=function(e){this.renderDataRecursive(e),this.syncScale(),this.emit(g.BEFORE_PAINT),this.renderPaddingRecursive(e),this.renderLayoutRecursive(e),this.renderBackgroundStyleShape(),this.renderPaintRecursive(e),this.emit(g.AFTER_PAINT),this.isDataChanged=!1},o.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var e=Object(i.get)(this.themeObject,"background");if(e){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var a=this.viewBBox,M=a.x,N=a.y,ot=a.width,Ct=a.height;this.backgroundStyleRectShape.attr({fill:e,x:M,y:N,width:ot,height:Ct})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},o.prototype.renderPaddingRecursive=function(e){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(e),this.autoPadding=Na(this).shrink(Di(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();for(var a=this.views,M=0,N=a.length;M<N;M++){var ot=a[M];ot.renderPaddingRecursive(e)}},o.prototype.renderLayoutRecursive=function(e){var a=this.syncViewPadding===!0?Fa:Object(i.isFunction)(this.syncViewPadding)?this.syncViewPadding:void 0;a&&(a(this,this.views,bo),this.views.forEach(function(Ft){Ft.coordinateBBox=Ft.viewBBox.shrink(Ft.autoPadding.getPadding()),Ft.adjustCoordinate()})),this.doLayout();for(var M=this.views,N=0,ot=M.length;N<ot;N++){var Ct=M[N];Ct.renderLayoutRecursive(e)}},o.prototype.renderPaintRecursive=function(e){var a=this.middleGroup;if(this.limitInPlot){var M=jr(this.coordinateInstance),N=M.type,ot=M.attrs;a.setClip({type:N,attrs:ot})}else a.setClip(void 0);this.paintGeometries(e),this.renderComponents(e);for(var Ct=this.views,Ft=0,ne=Ct.length;Ft<ne;Ft++){var ge=Ct[Ft];ge.renderPaintRecursive(e)}},o.prototype.createScale=function(e,a,M,N){var ot=Object(i.get)(this.options.scales,[e]),Ct=Object(Y.a)(Object(Y.a)({},ot),M);return this.parent?this.parent.createScale(e,a,Ct,N):this.scalePool.createScale(e,a,Ct,N)},o.prototype.renderDataRecursive=function(e){this.doFilterData(),this.createCoordinate(),this.initGeometries(e),this.renderFacet(e);for(var a=this.views,M=0,N=a.length;M<N;M++){var ot=a[M];ot.renderDataRecursive(e)}},o.prototype.calculateViewBBox=function(){var e,a,M,N;if(this.parent){var ot=this.parent.coordinateBBox;e=ot.x,a=ot.y,M=ot.width,N=ot.height}else e=0,a=0,M=this.canvas.get("width"),N=this.canvas.get("height");var Ct=this.region,Ft=Ct.start,ne=Ct.end,ge=new Ze(e+M*Ft.x,a+N*Ft.y,M*(ne.x-Ft.x),N*(ne.y-Ft.y));(!this.viewBBox||!this.viewBBox.isEqual(ge))&&(this.viewBBox=new Ze(e+M*Ft.x,a+N*Ft.y,M*(ne.x-Ft.x),N*(ne.y-Ft.y))),this.coordinateBBox=this.viewBBox},o.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},o.prototype.initComponentController=function(){for(var e=this.usedControllers,a=0,M=e.length;a<M;a++){var N=e[a],ot=Si(N);ot&&this.controllers.push(new ot(this))}},o.prototype.createViewEvent=function(e){var a=e.shape,M=e.name,N=a?a.get("origin"):null,ot=new $i(this,e,N);return ot.type=M,ot},o.prototype.doPlotEvent=function(e){var a=e.type,M=e.x,N=e.y,ot={x:M,y:N},Ct=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(Ct.includes(a)){var Ft=this.isPointInPlot(ot);if(Ft){var ne="plot:"+a;e.type=ne,this.emit(ne,e),(a==="mouseleave"||a==="touchend")&&(this.isPreMouseInPlot=!1)}a==="mousemove"||a==="touchmove"?(this.isPreMouseInPlot&&!Ft?(a==="mousemove"&&(e.type=c.MOUSE_LEAVE,this.emit(c.MOUSE_LEAVE,e)),e.type=c.LEAVE,this.emit(c.LEAVE,e)):!this.isPreMouseInPlot&&Ft&&(a==="mousemove"&&(e.type=c.MOUSE_ENTER,this.emit(c.MOUSE_ENTER,e)),e.type=c.ENTER,this.emit(c.ENTER,e)),this.isPreMouseInPlot=Ft):(a==="mouseleave"||a==="touchend")&&this.isPreMouseInPlot&&(a==="mouseleave"&&(e.type=c.MOUSE_LEAVE,this.emit(c.MOUSE_LEAVE,e)),e.type=c.LEAVE,this.emit(c.LEAVE,e),this.isPreMouseInPlot=!1)}},o.prototype.doFilterData=function(){var e=this.options.data;this.filteredData=this.filterData(e)},o.prototype.initGeometries=function(e){this.createOrUpdateScales();for(var a=this.getCoordinate(),M=Object(i.get)(this.options,"scales",{}),N=this.geometries,ot=0,Ct=N.length;ot<Ct;ot++){var Ft=N[ot];Ft.scales=this.getGeometryScales();var ne={coordinate:a,scaleDefs:M,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};e?Ft.update(ne):Ft.init(ne)}this.adjustScales()},o.prototype.createOrUpdateScales=function(){for(var e=this.getScaleFields(),a=this.getGroupedFields(),M=this.getOptions(),N=M.data,ot=M.scales,Ct=ot===void 0?{}:ot,Ft=this.filteredData,ne=0,ge=e.length;ne<ge;ne++){var be=e[ne],Ae=Ct[be],Xe=this.getScaleKey(be);this.createScale(be,a.includes(be)?N:Ft,Ae,Xe),this.createdScaleKeys.set(Xe,!0)}},o.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},o.prototype.getGeometryScales=function(){for(var e=this.getScaleFields(),a={},M=0;M<e.length;M++){var N=e[M];a[N]=this.getScaleByField(N)}return a},o.prototype.getScaleFields=function(){for(var e=[],a={},M=this.geometries,N=0;N<M.length;N++){var ot=M[N],Ct=ot.getScaleFields();Oe(Ct,e,a)}return e},o.prototype.getGroupedFields=function(){for(var e=[],a={},M=this.geometries,N=0;N<M.length;N++){var ot=M[N],Ct=ot.getGroupFields();Oe(Ct,e,a)}return e},o.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},o.prototype.adjustCategoryScaleRange=function(){var e=this,a=Object(Y.d)([this.getXScale()],this.getYScales()).filter(function(ot){return!!ot}),M=this.getCoordinate(),N=this.options.scales;Object(i.each)(a,function(ot){var Ct=ot.field,Ft=ot.values,ne=ot.isCategory,ge=ot.isIdentity;(ne||ge)&&Ft&&!Object(i.get)(N,[Ct,"range"])&&(ot.range=Gr(ot,M,e.theme))})},o.prototype.initComponents=function(e){for(var a=this.controllers,M=0;M<a.length;M++){var N=a[M];e?N.update():(N.clear(),N.render())}},o.prototype.doLayout=function(){this.layoutFunc(this)},o.prototype.createCoordinate=function(){var e=this.coordinateBBox.bl,a=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(e,a)},o.prototype.paintGeometries=function(e){for(var a=this.options.animate,M=this.getCoordinate(),N={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},ot=this.geometries,Ct=0;Ct<ot.length;Ct++){var Ft=ot[Ct];Ft.coordinate=M,Ft.canvasRegion=N,a||Ft.animate(!1),Ft.paint(e)}},o.prototype.renderComponents=function(e){for(var a=0;a<this.getComponents().length;a++){var M=this.getComponents()[a];M.component.render()}},o.prototype.renderFacet=function(e){this.facetInstance&&(e?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},o.prototype.initOptions=function(){var e=this,a=this.options,M=a.geometries,N=M===void 0?[]:M,ot=a.interactions,Ct=ot===void 0?[]:ot,Ft=a.views,ne=Ft===void 0?[]:Ft,ge=a.annotations,be=ge===void 0?[]:ge,Ae=a.coordinate,Xe=a.events,fn=a.facets;this.coordinateController?Ae&&this.coordinateController.update(Ae):this.coordinateController=new ea(Ae);for(var Sn=0;Sn<N.length;Sn++){var nr=N[Sn];this.createGeometry(nr)}for(var ar=0;ar<Ct.length;ar++){var Sr=Ct[ar],Mr=Sr.type,qr=Sr.cfg;this.interaction(Mr,qr)}for(var oi=0;oi<ne.length;oi++){var ai=ne[oi];this.createView(ai)}for(var aa=this.getController("annotation"),Ji=0;Ji<be.length;Ji++){var _i=be[Ji];aa.annotation(_i)}Xe&&Object(i.each)(Xe,function(Ca,io){e.on(io,Ca)}),fn&&Object(i.each)(fn,function(Ca){var io=Ca.type,ao=Object(Y.c)(Ca,["type"]);e.facet(io,ao)})},o.prototype.createGeometry=function(e){var a=e.type,M=e.cfg,N=M===void 0?{}:M;if(this[a]){var ot=this[a](N);Object(i.each)(e,function(Ct,Ft){Object(i.isFunction)(ot[Ft])&&ot[Ft](Ct)})}},o.prototype.getScaleKey=function(e){return this.id+"-"+e},o}(dt);function Sa(h,o){ro.prototype[h.toLowerCase()]=function(e){e===void 0&&(e={});var a=Object(Y.a)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},e),M=new o(a);return this.geometries.push(M),M}}var So=ro,Ua=function(h){Object(Y.b)(o,h);function o(e){var a=this,M=e.container,N=e.width,ot=e.height,Ct=e.autoFit,Ft=Ct===void 0?!1:Ct,ne=e.padding,ge=e.appendPadding,be=e.renderer,Ae=be===void 0?"canvas":be,Xe=e.pixelRatio,fn=e.localRefresh,Sn=fn===void 0?!0:fn,nr=e.visible,ar=nr===void 0?!0:nr,Sr=e.supportCSSTransform,Mr=Sr===void 0?!1:Sr,qr=e.defaultInteractions,oi=qr===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:qr,ai=e.options,aa=e.limitInPlot,Ji=e.theme,_i=e.syncViewPadding,Ca=Object(i.isString)(M)?document.getElementById(M):M,io=Object(f.b)('<div style="position:relative;"></div>');Ca.appendChild(io);var ao=D(Ca,Ft,N,ot),co=S(Ae),go=new co.Canvas(Object(Y.a)({container:io,pixelRatio:Xe,localRefresh:Sn,supportCSSTransform:Mr},ao));return a=h.call(this,{parent:null,canvas:go,backgroundGroup:go.addGroup({zIndex:u.BG}),middleGroup:go.addGroup({zIndex:u.MID}),foregroundGroup:go.addGroup({zIndex:u.FORE}),padding:ne,appendPadding:ge,visible:ar,options:ai,limitInPlot:aa,theme:Ji,syncViewPadding:_i})||this,a.onResize=Object(i.debounce)(function(){a.forceFit()},300),a.ele=Ca,a.canvas=go,a.width=ao.width,a.height=ao.height,a.autoFit=Ft,a.localRefresh=Sn,a.renderer=Ae,a.wrapperElement=io,a.updateCanvasStyle(),a.bindAutoFit(),a.initDefaultInteractions(oi),a}return o.prototype.initDefaultInteractions=function(e){var a=this;Object(i.each)(e,function(M){a.interaction(M)})},o.prototype.changeSize=function(e,a){return this.width===e&&this.height===a?this:(this.emit(g.BEFORE_CHANGE_SIZE),this.width=e,this.height=a,this.canvas.changeSize(e,a),this.render(!0),this.emit(g.AFTER_CHANGE_SIZE),this)},o.prototype.destroy=function(){h.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),V(this.wrapperElement),this.wrapperElement=null},o.prototype.changeVisible=function(e){return h.prototype.changeVisible.call(this,e),this.wrapperElement.style.display=e?"":"none",this},o.prototype.forceFit=function(){if(!this.destroyed){var e=D(this.ele,!0,this.width,this.height),a=e.width,M=e.height;this.changeSize(a,M)}},o.prototype.updateCanvasStyle=function(){Object(f.e)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},o.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},o.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},o}(So),Wa=Ua,ja=function(){function h(o){this.visible=!0,this.components=[],this.view=o}return h.prototype.clear=function(o){Object(i.each)(this.components,function(e){e.component.destroy()}),this.components=[]},h.prototype.destroy=function(){this.clear()},h.prototype.getComponents=function(){return this.components},h.prototype.changeVisible=function(o){this.visible!==o&&(this.components.forEach(function(e){o?e.component.show():e.component.hide()}),this.visible=o)},h}();function to(h){for(var o=[],e=function(N){var ot=h[N],Ct=Object(i.find)(o,function(Ft){return Ft.color===ot.color&&Ft.name===ot.name&&Ft.value===ot.value&&Ft.title===ot.title});Ct||o.push(ot)},a=0;a<h.length;a++)e(a);return o}var fo=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.isLocked=!1,e}return Object.defineProperty(o.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),o.prototype.init=function(){},o.prototype.isVisible=function(){var e=this.view.getOptions().tooltip;return e!==!1},o.prototype.render=function(){},o.prototype.showTooltip=function(e){if(this.point=e,!!this.isVisible()){var a=this.view,M=this.getTooltipItems(e);if(!M.length){this.hideTooltip();return}var N=this.getTitle(M),ot={x:M[0].x,y:M[0].y};a.emit("tooltip:show",$i.fromData(a,"tooltip:show",Object(Y.a)({items:M,title:N},e)));var Ct=this.getTooltipCfg(),Ft=Ct.follow,ne=Ct.showMarkers,ge=Ct.showCrosshairs,be=Ct.showContent,Ae=Ct.marker,Xe=this.items,fn=this.title;if(!Object(i.isEqual)(fn,N)||!Object(i.isEqual)(Xe,M)?(a.emit("tooltip:change",$i.fromData(a,"tooltip:change",Object(Y.a)({items:M,title:N},e))),be&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Object(i.mix)({},Ct,{items:this.getItemsAfterProcess(M),title:N},Ft?e:{})),this.tooltip.show()),ne&&this.renderTooltipMarkers(M,Ae)):(this.tooltip&&Ft&&(this.tooltip.update(e),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=M,this.title=N,ge){var Sn=Object(i.get)(Ct,["crosshairs","follow"],!1);this.renderCrosshairs(Sn?e:ot,Ct)}}},o.prototype.hideTooltip=function(){var e=this.getTooltipCfg().follow;if(!e){this.point=null;return}var a=this.tooltipMarkersGroup;a&&a.hide();var M=this.xCrosshair,N=this.yCrosshair;M&&M.hide(),N&&N.hide();var ot=this.tooltip;ot&&ot.hide(),this.view.emit("tooltip:hide",$i.fromData(this.view,"tooltip:hide",{})),this.point=null},o.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},o.prototype.unlockTooltip=function(){this.isLocked=!1;var e=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(e.capture)},o.prototype.isTooltipLocked=function(){return this.isLocked},o.prototype.clear=function(){var e=this,a=e.tooltip,M=e.xCrosshair,N=e.yCrosshair,ot=e.tooltipMarkersGroup;a&&(a.hide(),a.clear()),M&&M.clear(),N&&N.clear(),ot&&ot.clear(),this.reset()},o.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},o.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},o.prototype.changeVisible=function(e){if(this.visible!==e){var a=this,M=a.tooltip,N=a.tooltipMarkersGroup,ot=a.xCrosshair,Ct=a.yCrosshair;e?(M&&M.show(),N&&N.show(),ot&&ot.show(),Ct&&Ct.show()):(M&&M.hide(),N&&N.hide(),ot&&ot.hide(),Ct&&Ct.hide()),this.visible=e}},o.prototype.getTooltipItems=function(e){var a=this.findItemsFromView(this.view,e);if(a.length){a=Object(i.flatten)(a);for(var M=0,N=a;M<N.length;M++)for(var ot=N[M],Ct=0,Ft=ot;Ct<Ft.length;Ct++){var ne=Ft[Ct],ge=ne.mappingData,be=ge.x,Ae=ge.y;ne.x=Object(i.isArray)(be)?be[be.length-1]:be,ne.y=Object(i.isArray)(Ae)?Ae[Ae.length-1]:Ae}var Xe=this.getTooltipCfg().shared;if(Xe===!1&&a.length>1){for(var fn=a[0],Sn=Math.abs(e.y-fn[0].y),nr=0,ar=a;nr<ar.length;nr++){var Sr=ar[nr],Mr=Math.abs(e.y-Sr[0].y);Mr<=Sn&&(fn=Sr,Sn=Mr)}a=[fn]}return to(Object(i.flatten)(a))}return[]},o.prototype.layout=function(){},o.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var e=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}})}},o.prototype.isCursorEntered=function(e){if(this.tooltip){var a=this.tooltip.getContainer(),M=this.tooltip.get("capture");if(a&&M){var N=a.getBoundingClientRect(),ot=N.x,Ct=N.y,Ft=N.width,ne=N.height;return new Ze(ot,Ct,Ft,ne).isPointIn(e)}}return!1},o.prototype.getTooltipCfg=function(){var e=this.view,a=e.getOptions().tooltip,M=this.processCustomContent(a),N=e.getTheme(),ot=Object(i.get)(N,["components","tooltip"],{}),Ct=Object(i.get)(M,"enterable",ot.enterable);return Object(i.deepMix)({},ot,M,{capture:!!(Ct||this.isLocked)})},o.prototype.processCustomContent=function(e){if(Object(i.isBoolean)(e)||!Object(i.get)(e,"customContent"))return e;var a=e.customContent,M=function(ot,Ct){var Ft=a(ot,Ct)||"";return Object(i.isString)(Ft)?'<div class="g2-tooltip">'+Ft+"</div>":Ft};return Object(Y.a)(Object(Y.a)({},e),{customContent:M})},o.prototype.getTitle=function(e){var a=e[0].title||e[0].name;return this.title=a,a},o.prototype.renderTooltip=function(){var e=this.view.getCanvas(),a={start:{x:0,y:0},end:{x:e.get("width"),y:e.get("height")}},M=this.getTooltipCfg(),N=new xa(Object(Y.a)(Object(Y.a)({parent:e.get("el").parentNode,region:a},M),{visible:!1,crosshairs:null}));N.init(),this.tooltip=N},o.prototype.renderTooltipMarkers=function(e,a){for(var M=this.getTooltipMarkersGroup(),N=0,ot=e;N<ot.length;N++){var Ct=ot[N],Ft=Ct.x,ne=Ct.y,ge=Object(Y.a)(Object(Y.a)({fill:Ct.color,symbol:"circle",shadowColor:Ct.color},a),{x:Ft,y:ne});M.addShape("marker",{attrs:ge})}},o.prototype.renderCrosshairs=function(e,a){var M=Object(i.get)(a,["crosshairs","type"],"x");M==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(e,a)):M==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(e,a)):M==="xy"&&(this.renderXCrosshairs(e,a),this.renderYCrosshairs(e,a))},o.prototype.renderXCrosshairs=function(e,a){var M=this.getViewWithGeometry(this.view).getCoordinate();if(!!un(M,e)){var N,ot;if(M.isRect)M.isTransposed?(N={x:M.start.x,y:e.y},ot={x:M.end.x,y:e.y}):(N={x:e.x,y:M.end.y},ot={x:e.x,y:M.start.y});else{var Ct=ur(M,e),Ft=M.getCenter(),ne=M.getRadius();ot=Qi(Ft.x,Ft.y,ne,Ct),N=Ft}var ge=Object(i.deepMix)({start:N,end:ot,container:this.getTooltipCrosshairsGroup()},Object(i.get)(a,"crosshairs",{}),this.getCrosshairsText("x",e,a));delete ge.type;var be=this.xCrosshair;be?be.update(ge):(be=new pi.Crosshair.Line(ge),be.init()),be.render(),be.show(),this.xCrosshair=be}},o.prototype.renderYCrosshairs=function(e,a){var M=this.getViewWithGeometry(this.view).getCoordinate();if(!!un(M,e)){var N,ot;if(M.isRect){var Ct=void 0,Ft=void 0;M.isTransposed?(Ct={x:e.x,y:M.end.y},Ft={x:e.x,y:M.start.y}):(Ct={x:M.start.x,y:e.y},Ft={x:M.end.x,y:e.y}),N={start:Ct,end:Ft},ot="Line"}else N={center:M.getCenter(),radius:sn(M,e),startAngle:M.startAngle,endAngle:M.endAngle},ot="Circle";N=Object(i.deepMix)({container:this.getTooltipCrosshairsGroup()},N,Object(i.get)(a,"crosshairs",{}),this.getCrosshairsText("y",e,a)),delete N.type;var ne=this.yCrosshair;ne?M.isRect&&ne.get("type")==="circle"||!M.isRect&&ne.get("type")==="line"?(ne=new pi.Crosshair[ot](N),ne.init()):ne.update(N):(ne=new pi.Crosshair[ot](N),ne.init()),ne.render(),ne.show(),this.yCrosshair=ne}},o.prototype.getCrosshairsText=function(e,a,M){var N=Object(i.get)(M,["crosshairs","text"]),ot=Object(i.get)(M,["crosshairs","follow"]),Ct=this.items;if(N){var Ft=this.getViewWithGeometry(this.view),ne=Ct[0],ge=Ft.getXScale(),be=Ft.getYScales()[0],Ae=void 0,Xe=void 0;if(ot){var fn=this.view.getCoordinate().invert(a);Ae=ge.invert(fn.x),Xe=be.invert(fn.y)}else Ae=ne.data[ge.field],Xe=ne.data[be.field];var Sn=e==="x"?Ae:Xe;return Object(i.isFunction)(N)?N=N(e,Sn,Ct,a):N.content=Sn,{text:N}}},o.prototype.getGuideGroup=function(){if(!this.guideGroup){var e=this.view.foregroundGroup;this.guideGroup=e.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},o.prototype.getTooltipMarkersGroup=function(){var e=this.tooltipMarkersGroup;return e&&!e.destroyed?(e.clear(),e.show()):(e=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),e.toFront(),this.tooltipMarkersGroup=e),e},o.prototype.getTooltipCrosshairsGroup=function(){var e=this.tooltipCrosshairsGroup;return e||(e=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),e.toBack(),this.tooltipCrosshairsGroup=e),e},o.prototype.getTooltipItemsByHitShape=function(e,a,M){var N=this.getTooltipCfg().showNil,ot=[],Ct=e.container,Ft=Ct.getShape(a.x,a.y);if(Ft&&Ft.get("visible")&&Ft.get("origin")){var ne=Ft.get("origin").mappingData,ge=ra(ne,e,M,N);ge.length&&ot.push(ge)}return ot},o.prototype.getTooltipItemsByFindData=function(e,a,M){var N=this.getTooltipCfg().showNil,ot=[],Ct=e.dataArray;if(!Object(i.isEmpty)(Ct)){e.sort(Ct);for(var Ft=0,ne=Ct;Ft<ne.length;Ft++){var ge=ne[Ft],be=Ui(a,ge,e);if(be){var Ae=e.getElementId(be),Xe=e.elementsMap[Ae];if(e.type==="heatmap"||Xe.visible){var fn=ra(be,e,M,N);fn.length&&ot.push(fn)}}}}return ot},o.prototype.findItemsFromView=function(e,a){if(e.getOptions().tooltip===!1)return[];for(var M=[],N=e.geometries,ot=this.getTooltipCfg(),Ct=ot.shared,Ft=ot.title,ne=ot.reversed,ge=0,be=N;ge<be.length;ge++){var Ae=be[ge];if(Ae.visible&&Ae.tooltipOption!==!1){var Xe=Ae.type,fn=void 0;["point","edge","polygon"].includes(Xe)?fn=this.getTooltipItemsByHitShape(Ae,a,Ft):["area","line","path","heatmap"].includes(Xe)?fn=this.getTooltipItemsByFindData(Ae,a,Ft):Ct!==!1?fn=this.getTooltipItemsByFindData(Ae,a,Ft):fn=this.getTooltipItemsByHitShape(Ae,a,Ft),fn.length&&(ne&&fn.reverse(),M.push(fn))}}for(var Sn=0,nr=e.views;Sn<nr.length;Sn++){var ar=nr[Sn];M=M.concat(this.findItemsFromView(ar,a))}return M},o.prototype.getViewWithGeometry=function(e){var a=this;return e.geometries.length?e:Object(i.find)(e.views,function(M){return a.getViewWithGeometry(M)})},o.prototype.getItemsAfterProcess=function(e){var a=this.getTooltipCfg().customItems,M=a||function(N){return N};return M(e)},o}(ja),wa=fo,gr={};function Xo(h){return gr[h.toLowerCase()]}function va(h,o){gr[h.toLowerCase()]=o}var Ya={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},Eo={interval:function(o){return{enter:{animation:o.isRect?o.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:o.isPolar&&o.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},No={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(o){var e;return o.isRect?e=o.isTransposed?"grow-in-x":"grow-in-y":(e="grow-in-xy",o.isPolar&&o.isTransposed&&(e="wave-in")),{animation:e}},schema:function(o){var e;return o.isRect?e=o.isTransposed?"grow-in-x":"grow-in-y":e="grow-in-xy",{animation:e}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function Gn(h,o){return{delay:Object(i.isFunction)(h.delay)?h.delay(o):h.delay,easing:Object(i.isFunction)(h.easing)?h.easing(o):h.easing,duration:Object(i.isFunction)(h.duration)?h.duration(o):h.duration,callback:h.callback}}function se(h,o,e){var a=Eo[h];return a&&(Object(i.isFunction)(a)&&(a=a(o)),a=Object(i.deepMix)({},Ya,a),e)?a[e]:a}function Ia(h,o,e){var a=Object(i.get)(h.get("origin"),"data",m),M=o.animation,N=Gn(o,a);if(M){var ot=Xo(M);ot&&ot(h,N,e)}else h.animate(e.toAttrs,N)}function ho(h,o,e,a,M){if(No[e]){var N=No[e](a),ot=Xo(Object(i.get)(N,"animation",""));if(ot){var Ct=Object(Y.a)(Object(Y.a)(Object(Y.a)({},Ya.appear),N),o);h.stopAnimate(),ot(h,Ct,{coordinate:a,minYPoint:M,toAttrs:null})}}}var Xa="element-background",so=function(h){Object(Y.b)(o,h);function o(e){var a=h.call(this,e)||this;a.states=[];var M=e.shapeFactory,N=e.container,ot=e.offscreenGroup,Ct=e.visible,Ft=Ct===void 0?!0:Ct;return a.shapeFactory=M,a.container=N,a.offscreenGroup=ot,a.visible=Ft,a}return o.prototype.draw=function(e,a){a===void 0&&(a=!1),this.model=e,this.data=e.data,this.shapeType=this.getShapeType(e),this.drawShape(e,a),this.visible===!1&&this.changeVisible(!1)},o.prototype.update=function(e){var a=this,M=a.shapeFactory,N=a.shape;if(!!N){this.model=e,this.data=e.data,this.shapeType=this.getShapeType(e),this.setShapeInfo(N,e);var ot=this.getOffscreenGroup(),Ct=M.drawShape(this.shapeType,e,ot);Ct.cfg.data=this.data,Ct.cfg.origin=e,Ct.cfg.element=this,this.syncShapeStyle(N,Ct,this.getStates(),this.getAnimateCfg("update"))}},o.prototype.destroy=function(){var e=this,a=e.shapeFactory,M=e.shape;if(M){var N=this.getAnimateCfg("leave");N?Ia(M,N,{coordinate:a.coordinate,toAttrs:Object(Y.a)({},M.attr())}):M.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,h.prototype.destroy.call(this)},o.prototype.changeVisible=function(e){h.prototype.changeVisible.call(this,e),e?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(a){a.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(a){a.hide()}))},o.prototype.setState=function(e,a){var M=this,N=M.states,ot=M.shapeFactory,Ct=M.model,Ft=M.shape,ne=M.shapeType,ge=N.indexOf(e);if(a){if(ge>-1)return;N.push(e),(e==="active"||e==="selected")&&Ft.toFront()}else{if(ge===-1)return;N.splice(ge,1),(e==="active"||e==="selected")&&Ft.toBack()}var be=ot.drawShape(ne,Ct,this.getOffscreenGroup());N.length?this.syncShapeStyle(Ft,be,N,null):this.syncShapeStyle(Ft,be,["reset"],null),be.remove(!0);var Ae={state:e,stateStatus:a,element:this,target:this.container};this.container.emit("statechange",Ae),Object(pi.propagationDelegate)(this.shape,"statechange",Ae)},o.prototype.clearStates=function(){var e=this,a=this.states;Object(i.each)(a,function(M){e.setState(M,!1)}),this.states=[]},o.prototype.hasState=function(e){return this.states.includes(e)},o.prototype.getStates=function(){return this.states},o.prototype.getData=function(){return this.data},o.prototype.getModel=function(){return this.model},o.prototype.getBBox=function(){var e=this,a=e.shape,M=e.labelShape,N={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return a&&(N=a.getCanvasBBox()),M&&M.forEach(function(ot){var Ct=ot.getCanvasBBox();N.x=Math.min(Ct.x,N.x),N.y=Math.min(Ct.y,N.y),N.minX=Math.min(Ct.minX,N.minX),N.minY=Math.min(Ct.minY,N.minY),N.maxX=Math.max(Ct.maxX,N.maxX),N.maxY=Math.max(Ct.maxY,N.maxY)}),N.width=N.maxX-N.minX,N.height=N.maxY-N.minY,N},o.prototype.getStatesStyle=function(){if(!this.statesStyle){var e=this,a=e.shapeType,M=e.geometry,N=e.shapeFactory,ot=M.stateOption,Ct=N.defaultShapeType,Ft=N.theme[a]||N.theme[Ct];this.statesStyle=Object(i.deepMix)({},Ft,ot)}return this.statesStyle},o.prototype.getStateStyle=function(e,a){var M=this.getStatesStyle(),N=Object(i.get)(M,[e,"style"],{}),ot=N[a]||N;return Object(i.isFunction)(ot)?ot(this):ot},o.prototype.getAnimateCfg=function(e){var a=this,M=this.animate;if(M){var N=M[e];return N&&Object(Y.a)(Object(Y.a)({},N),{callback:function(){var Ct;Object(i.isFunction)(N.callback)&&N.callback(),(Ct=a.geometry)===null||Ct===void 0||Ct.emit(x.AFTER_DRAW_ANIMATE)}})}return null},o.prototype.drawShape=function(e,a){var M;a===void 0&&(a=!1);var N=this,ot=N.shapeFactory,Ct=N.container,Ft=N.shapeType;if(this.shape=ot.drawShape(Ft,e,Ct),this.shape){this.setShapeInfo(this.shape,e);var ne=this.shape.cfg.name;ne?Object(i.isString)(ne)&&(this.shape.cfg.name=["element",ne]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var ge=a?"enter":"appear",be=this.getAnimateCfg(ge);be&&((M=this.geometry)===null||M===void 0||M.emit(x.BEFORE_DRAW_ANIMATE),Ia(this.shape,be,{coordinate:ot.coordinate,toAttrs:Object(Y.a)({},this.shape.attr())}))}},o.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var e=this.container.getGroupBase();this.offscreenGroup=new e({})}return this.offscreenGroup},o.prototype.setShapeInfo=function(e,a){var M=this;if(e.cfg.origin=a,e.cfg.element=this,e.isGroup()){var N=e.get("children");N.forEach(function(ot){M.setShapeInfo(ot,a)})}},o.prototype.syncShapeStyle=function(e,a,M,N,ot){var Ct=this,Ft;if(M===void 0&&(M=[]),ot===void 0&&(ot=0),!(!e||!a)){var ne=e.get("clipShape"),ge=a.get("clipShape");if(this.syncShapeStyle(ne,ge,M,N),e.isGroup())for(var be=e.get("children"),Ae=a.get("children"),Xe=0;Xe<be.length;Xe++)this.syncShapeStyle(be[Xe],Ae[Xe],M,N,ot+Xe);else{if(!Object(i.isEmpty)(M)&&!Object(i.isEqual)(M,["reset"])){var fn=e.get("name");Object(i.isArray)(fn)&&(fn=fn[1]),Object(i.each)(M,function(nr){if(a.get("name")!==Xa){var ar=Ct.getStateStyle(nr,fn||ot);a.attr(ar)}})}var Sn=eo(e,a);this.animate?N?((Ft=this.geometry)===null||Ft===void 0||Ft.emit(x.BEFORE_DRAW_ANIMATE),Ia(e,N,{coordinate:this.shapeFactory.coordinate,toAttrs:Sn,shapeModel:this.model})):Object(i.isEmpty)(M)?(e.stopAnimate(),e.animate(Sn,{duration:300})):e.attr(Sn):e.attr(Sn)}}},o.prototype.getShapeType=function(e){var a=Object(i.get)(e,"shape");return Object(i.isArray)(a)?a[0]:a},o}(dt),Lo=so,zo={},Jo={};function uo(h){return zo[h.toLowerCase()]}function Rn(h,o){zo[h.toLowerCase()]=o}function qo(h){return Jo[h.toLowerCase()]}function wo(h,o){Jo[h.toLowerCase()]=o}var Ho={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(o,e){var a=this.getShape(o);return a.getPoints?a.getPoints(e):this.getDefaultPoints(e)},getShape:function(o){var e=this[o]||this[this.defaultShapeType];return e.coordinate=this.coordinate,e},getDefaultPoints:function(){return[]},getDefaultStyle:function(o){return Object(i.get)(o,[this.defaultShapeType,"default","style"],{})},getMarker:function(o,e){var a=this.getShape(o);if(!a.getMarker){var M=this.defaultShapeType;a=this.getShape(M)}var N=this.theme,ot=Object(i.get)(N,[o,"default"],{}),Ct=a.getMarker(e);return Object(i.deepMix)({},ot,Ct)},drawShape:function(o,e,a){var M=this.getShape(o);return M.draw(e,a)}},ss={coordinate:null,parsePath:function(o){var e=this.coordinate,a=Object(L.c)(o);return e.isPolar?a=je(e,a):a=$e(e,a),a},parsePoint:function(o){var e=this.coordinate;return e.convert(o)},parsePoints:function(o){var e=this.coordinate;return o.map(function(a){return e.convert(a)})},draw:function(o,e){}},ts={};function mo(h,o){var e=Object(i.upperFirst)(h),a=Object(Y.a)(Object(Y.a)(Object(Y.a)({},Ho),o),{geometryType:h});return ts[e]=a,a}function ia(h,o,e){var a=Object(i.upperFirst)(h),M=ts[a],N=Object(Y.a)(Object(Y.a)({},ss),e);return M[o]=N,N}function Bo(h){var o=Object(i.upperFirst)(h);return ts[o]}function Io(h,o,e){if(e===void 0&&(e={}),!o)return[h];var a=Object(i.groupToMap)(h,o),M=[];if(o.length===1&&e[o[0]])for(var N=e[o[0]],ot=0,Ct=N;ot<Ct.length;ot++){var Ft=Ct[ot],ne=a["_"+Ft];ne&&M.push(ne)}else for(var ge in a)if(a.hasOwnProperty(ge)){var be=a[ge];M.push(be)}return M}function Qa(h,o){return Object(i.some)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(e){return!Object(i.isEqual)(h[e],o[e])})}function yo(h){return Object(i.isArray)(h)?h:h.split("*")}function Co(h,o){var e=[];return Object(i.each)(o,function(a,M){var N=M.split(" ")[0];N===h&&e.push(a)}),e}var Do=function(h){Object(Y.b)(o,h);function o(e){var a=h.call(this,e)||this;a.type="base",a.attributes={},a.elements=[],a.elementsMap={},a.animateOption=!0,a.attributeOption={},a.lastElementsMap={},a.generatePoints=!1,a.beforeMappingData=null,a.adjusts={},a.idFields=[],a.hasSorted=!1,a.isCoordinateChanged=!1;var M=e.container,N=e.labelsContainer,ot=e.coordinate,Ct=e.data,Ft=e.sortable,ne=Ft===void 0?!1:Ft,ge=e.visible,be=ge===void 0?!0:ge,Ae=e.theme,Xe=e.scales,fn=Xe===void 0?{}:Xe,Sn=e.scaleDefs,nr=Sn===void 0?{}:Sn,ar=e.intervalPadding,Sr=e.dodgePadding,Mr=e.maxColumnWidth,qr=e.minColumnWidth,oi=e.columnWidthRatio,ai=e.roseWidthRatio,aa=e.multiplePieWidthRatio,Ji=e.zIndexReversed;return a.container=M,a.labelsContainer=N,a.coordinate=ot,a.data=Ct,a.sortable=ne,a.visible=be,a.userTheme=Ae,a.scales=fn,a.scaleDefs=nr,a.intervalPadding=ar,a.dodgePadding=Sr,a.maxColumnWidth=Mr,a.minColumnWidth=qr,a.columnWidthRatio=oi,a.roseWidthRatio=ai,a.multiplePieWidthRatio=aa,a.zIndexReversed=Ji,a}return o.prototype.position=function(e){var a=e;Object(i.isPlainObject)(e)||(a={fields:yo(e)});var M=Object(i.get)(a,"fields");return M.length===1&&(M.unshift("1"),Object(i.set)(a,"fields",M)),Object(i.set)(this.attributeOption,"position",a),this},o.prototype.color=function(e,a){return this.createAttrOption("color",e,a),this},o.prototype.shape=function(e,a){return this.createAttrOption("shape",e,a),this},o.prototype.size=function(e,a){return this.createAttrOption("size",e,a),this},o.prototype.adjust=function(e){var a=e;return(Object(i.isString)(e)||Object(i.isPlainObject)(e))&&(a=[e]),Object(i.each)(a,function(M,N){Object(i.isObject)(M)||(a[N]={type:M})}),this.adjustOption=a,this},o.prototype.style=function(e,a){if(Object(i.isString)(e)){var M=yo(e);this.styleOption={fields:M,callback:a}}else{var N=e,M=N.fields,ot=N.callback,Ct=N.cfg;M||ot||Ct?this.styleOption=e:this.styleOption={cfg:e}}return this},o.prototype.tooltip=function(e,a){if(Object(i.isString)(e)){var M=yo(e);this.tooltipOption={fields:M,callback:a}}else this.tooltipOption=e;return this},o.prototype.animate=function(e){return this.animateOption=e,this},o.prototype.label=function(e,a,M){if(Object(i.isString)(e)){var N={},ot=yo(e);N.fields=ot,Object(i.isFunction)(a)?N.callback=a:Object(i.isPlainObject)(a)&&(N.cfg=a),M&&(N.cfg=M),this.labelOption=N}else this.labelOption=e;return this},o.prototype.state=function(e){return this.stateOption=e,this},o.prototype.customInfo=function(e){return this.customOption=e,this},o.prototype.init=function(e){e===void 0&&(e={}),this.setCfg(e),this.initAttributes(),this.processData(this.data),this.adjustScale()},o.prototype.update=function(e){e===void 0&&(e={});var a=e.data,M=e.isDataChanged,N=e.isCoordinateChanged,ot=this,Ct=ot.attributeOption,Ft=ot.lastAttributeOption;Object(i.isEqual)(Ct,Ft)?a&&(M||!Object(i.isEqual)(a,this.data))?(this.setCfg(e),this.initAttributes(),this.processData(a)):this.setCfg(e):this.init(e),this.adjustScale(),this.isCoordinateChanged=N},o.prototype.paint=function(e){var a=this;e===void 0&&(e=!1),this.animateOption&&(this.animateOption=Object(i.deepMix)({},se(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var M=this.getOffscreenGroup();M.clear();for(var N=this.beforeMappingData,ot=this.beforeMapping(N),Ct=[],Ft=0,ne=ot.length;Ft<ne;Ft++){var ge=ot[Ft],be=this.mapping(ge);Ct.push(be),this.createElements(be,Ft,e)}if(this.canDoGroupAnimation(e)){var Ae=this.container,Xe=this.type,fn=this.coordinate,Sn=Object(i.get)(this.animateOption,"appear"),nr=this.getYScale(),ar=fn.convert({x:0,y:nr.scale(this.getYMinValue())});ho(Ae,Sn,Xe,fn,ar)}this.labelOption&&this.renderLabels(Object(i.flatten)(Ct),e),this.dataArray=Ct,Object(i.each)(this.lastElementsMap,function(Sr){Sr.animate=a.animateOption,Sr.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=Object(Y.a)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},o.prototype.clear=function(){var e=this,a=e.container,M=e.geometryLabel,N=e.offscreenGroup;a&&a.clear(),M&&M.clear(),N&&N.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},o.prototype.destroy=function(){this.clear();var e=this.container;e.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,h.prototype.destroy.call(this)},o.prototype.getGroupScales=function(){return this.groupScales},o.prototype.getAttribute=function(e){return this.attributes[e]},o.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},o.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},o.prototype.getGroupAttributes=function(){var e=[];return Object(i.each)(this.attributes,function(a){I.includes(a.type)&&e.push(a)}),e},o.prototype.getDefaultValue=function(e){var a,M=this.getAttribute(e);return M&&Object(i.isEmpty)(M.scales)&&(a=M.values[0]),a},o.prototype.getAttributeValues=function(e,a){for(var M=[],N=e.scales,ot=0,Ct=N.length;ot<Ct;ot++){var Ft=N[ot],ne=Ft.field;Ft.isIdentity?M.push(Ft.values):M.push(a[ne])}return e.mapping.apply(e,M)},o.prototype.getAdjust=function(e){return this.adjusts[e]},o.prototype.getShapeMarker=function(e,a){var M=this.getShapeFactory();return M.getMarker(e,a)},o.prototype.getElementsBy=function(e){return this.elements.filter(function(a){return e(a)})},o.prototype.getElementId=function(e){e=Object(i.isArray)(e)?e[0]:e;var a=e[m];if(this.idFields.length){for(var M=a[this.idFields[0]],N=1;N<this.idFields.length;N++)M+="-"+a[this.idFields[N]];return M}var ot=this.type,Ct=this.getXScale(),Ft=this.getYScale(),ne=Ct.field||"x",ge=Ft.field||"y",be=a[ge],Ae;Ct.type==="identity"?Ae=Ct.values[0]:Ae=a[ne];var Xe;ot==="interval"||ot==="schema"?Xe=""+Ae:ot==="line"||ot==="area"||ot==="path"?Xe=ot:Xe=Ae+"-"+be;for(var fn=this.groupScales,N=0,Sn=fn.length;N<Sn;N++){var nr=fn[N],ar=nr.field;Xe=Xe+"-"+a[ar]}var Sr=this.getAdjust("dodge");if(Sr){var Mr=Sr.dodgeBy;Mr&&(Xe=Xe+"-"+a[Mr])}return this.getAdjust("jitter")&&(Xe=Xe+"-"+e.x+"-"+e.y),Xe},o.prototype.getScaleFields=function(){var e=[],a={},M=this,N=M.attributeOption,ot=M.labelOption,Ct=M.tooltipOption;for(var Ft in N)if(N.hasOwnProperty(Ft)){var ne=N[Ft];ne.fields?Oe(ne.fields,e,a):ne.values&&Oe(ne.values,e,a)}return ot&&ot.fields&&Oe(ot.fields,e,a),Object(i.isObject)(Ct)&&Ct.fields&&Oe(Ct.fields,e,a),e},o.prototype.changeVisible=function(e){h.prototype.changeVisible.call(this,e);for(var a=this.elements,M=0,N=a.length;M<N;M++){var ot=a[M];ot.changeVisible(e)}e?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},o.prototype.getGroupFields=function(){for(var e=[],a={},M=0,N=I.length;M<N;M++){var ot=I[M],Ct=this.attributeOption[ot];Ct&&Ct.fields&&Oe(Ct.fields,e,a)}return e},o.prototype.getXYFields=function(){var e=this.attributeOption.position.fields,a=e[0],M=e[1];return[a,M]},o.prototype.getShapes=function(){return this.elements.map(function(e){return e.shape})},o.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var e=this.container.getGroupBase();this.offscreenGroup=new e({})}return this.offscreenGroup},o.prototype.sort=function(e){if(!this.hasSorted)for(var a=this.getXScale(),M=a.field,N=0;N<e.length;N++){var ot=e[N];ot.sort(function(Ct,Ft){return a.translate(Ct[m][M])-a.translate(Ft[m][M])})}this.hasSorted=!0},o.prototype.adjustScale=function(){var e=this.getYScale();e&&this.getAdjust("stack")&&this.updateStackRange(e,this.beforeMappingData)},o.prototype.getShapeFactory=function(){var e=this.shapeType;if(!!Bo(e))return this.shapeFactory||(this.shapeFactory=Object(i.clone)(Bo(e))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[e]||{},this.shapeFactory},o.prototype.createShapePointsCfg=function(e){var a=this.getXScale(),M=this.getYScale(),N=this.normalizeValues(e[a.field],a),ot;return M?ot=this.normalizeValues(e[M.field],M):ot=e.y?e.y:.1,{x:N,y:ot,y0:M?M.scale(this.getYMinValue()):void 0}},o.prototype.createElement=function(e,a){a===void 0&&(a=!1);var M=this.container,N=this.getDrawCfg(e),ot=this.getShapeFactory(),Ct=new Lo({shapeFactory:ot,container:M,offscreenGroup:this.getOffscreenGroup()});return Ct.animate=this.animateOption,Ct.geometry=this,Ct.draw(N,a),Ct},o.prototype.getDrawCfg=function(e){var a=e[m],M={mappingData:e,data:a,x:e.x,y:e.y,color:e.color,size:e.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},N=e.shape;!N&&this.getShapeFactory()&&(N=this.getShapeFactory().defaultShapeType),M.shape=N;var ot=this.theme.geometries[this.shapeType];M.defaultStyle=Object(i.get)(ot,[N,"default"],{}).style,!M.defaultStyle&&this.getShapeFactory()&&(M.defaultStyle=this.getShapeFactory().getDefaultStyle(ot));var Ct=this.styleOption;return Ct&&(M.style=this.getStyleCfg(Ct,a)),this.generatePoints&&(M.points=e.points,M.nextPoints=e.nextPoints),M},o.prototype.createElements=function(e,a,M){M===void 0&&(M=!1);for(var N=this,ot=N.lastElementsMap,Ct=N.elementsMap,Ft=N.elements,ne=0,ge=e.length;ne<ge;ne++){var be=e[ne],Ae=this.getElementId(be);Ct[Ae]&&(Ae=Ae+"-"+a+"-"+ne);var Xe=ot[Ae];if(!Xe)Xe=this.createElement(be,M);else{var fn=this.getDrawCfg(be),Sn=Xe.getModel();(this.isCoordinateChanged||Qa(fn,Sn))&&(Xe.animate=this.animateOption,Xe.update(fn)),delete ot[Ae]}Ft.push(Xe),Ct[Ae]=Xe}if(this.zIndexReversed){var nr=Ft.length;Ft.forEach(function(ar,Sr){ar.shape.setZIndex(nr-Sr)})}return Ft},o.prototype.getLabelType=function(){var e=this,a=e.labelOption,M=e.coordinate,N=e.type,ot=M.type,Ct=M.isTransposed,Ft=Object(i.get)(a,["cfg","type"]);return Ft||(ot==="polar"?Ft=Ct?"pie":"polar":ot==="theta"?Ft="pie":N==="interval"||N==="polygon"?Ft="interval":Ft="base"),Ft},o.prototype.getYMinValue=function(){var e=this.getYScale(),a=e.min,M=e.max,N;return a>=0?N=a:M<=0?N=M:N=0,N},o.prototype.createAttrOption=function(e,a,M){if(Object(i.isNil)(a)||Object(i.isObject)(a))Object(i.isObject)(a)&&Object(i.isEqual)(Object.keys(a),["values"])?Object(i.set)(this.attributeOption,e,{fields:a.values}):Object(i.set)(this.attributeOption,e,a);else{var N={};Object(i.isNumber)(a)?N.values=[a]:N.fields=yo(a),M&&(Object(i.isFunction)(M)?N.callback=M:N.values=M),Object(i.set)(this.attributeOption,e,N)}},o.prototype.initAttributes=function(){var e=this,a=this,M=a.attributes,N=a.attributeOption,ot=a.theme,Ct=a.shapeType;this.groupScales=[];var Ft={},ne=function(Xe){if(N.hasOwnProperty(Xe)){var fn=N[Xe];if(!fn)return{value:void 0};var Sn=Object(Y.a)({},fn),nr=Sn.callback,ar=Sn.values,Sr=Sn.fields,Mr=Sr===void 0?[]:Sr,qr=Mr.map(function(ai){var aa=e.scales[ai];return aa.isCategory&&!Ft[ai]&&I.includes(Xe)&&(e.groupScales.push(aa),Ft[ai]=!0),aa});Sn.scales=qr,Xe!=="position"&&qr.length===1&&qr[0].type==="identity"?Sn.values=qr[0].values:!nr&&!ar&&(Xe==="size"?Sn.values=ot.sizes:Xe==="shape"?Sn.values=ot.shapes[Ct]||[]:Xe==="color"&&(qr.length?Sn.values=qr[0].values.length<=10?ot.colors10:ot.colors20:Sn.values=ot.colors10));var oi=Je(Xe);M[Xe]=new oi(Sn)}};for(var ge in N){var be=ne(ge);if(typeof be=="object")return be.value}},o.prototype.processData=function(e){this.hasSorted=!1;for(var a=this.getAttribute("position").scales,M=a.filter(function(oi){return oi.isCategory}),N=this.groupData(e),ot=[],Ct=0,Ft=N.length;Ct<Ft;Ct++){for(var ne=N[Ct],ge=[],be=0,Ae=ne.length;be<Ae;be++){var Xe=ne[be],fn={};for(var Sn in Xe)fn[Sn]=Xe[Sn];fn[m]=Xe;for(var nr=0,ar=M;nr<ar.length;nr++){var Sr=ar[nr],Mr=Sr.field;fn[Mr]=Sr.translate(fn[Mr])}ge.push(fn)}ot.push(ge)}var qr=this.adjustData(ot);return this.beforeMappingData=qr,qr},o.prototype.adjustData=function(e){var a=this.adjustOption,M=this,N=M.intervalPadding,ot=M.dodgePadding,Ct=M.theme,Ft=this.maxColumnWidth||Ct.maxColumnWidth,ne=this.minColumnWidth||Ct.minColumnWidth,ge=this.columnWidthRatio||Ct.columnWidthRatio,be=e;if(a){var Ae=this.getXScale(),Xe=this.getYScale(),fn=Ae.field,Sn=Xe?Xe.field:null,nr=rr(this.coordinate),ar=Ae.values.length,Sr=this.getAttribute("size"),Mr=void 0;Sr&&(Mr=Sr.values[0]);for(var qr=0,oi=a.length;qr<oi;qr++){var ai=a[qr],aa=Object(Y.a)({xField:fn,yField:Sn,intervalPadding:N,dodgePadding:ot,xDimensionLength:nr,groupNum:ar,defaultSize:Mr,maxColumnWidth:Ft,minColumnWidth:ne,columnWidthRatio:ge},ai),Ji=ai.type;if(Ji==="dodge"){var _i=[];if(Ae.isCategory||Ae.type==="identity")_i.push("x");else if(!Xe)_i.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");aa.adjustNames=_i,aa.dodgeRatio=ge}else if(Ji==="stack"){var Ca=this.coordinate;if(!Xe){aa.height=Ca.getHeight();var io=this.getDefaultValue("size")||3;aa.size=io}!Ca.isTransposed&&Object(i.isNil)(aa.reverseOrder)&&(aa.reverseOrder=!0)}var ao=Object(ct.getAdjust)(Ji),co=new ao(aa);be=co.process(be),this.adjusts[Ji]=co}}return be},o.prototype.groupData=function(e){for(var a=this.getGroupScales(),M=this.scaleDefs,N={},ot=[],Ct=0;Ct<a.length;Ct++){var Ft=a[Ct],ne=Ft.field;ot.push(ne),Object(i.get)(M,[ne,"values"])&&(N[ne]=M[ne].values)}return Io(e,ot,N)},o.prototype.updateStackRange=function(e,a){for(var M=Object(i.flatten)(a),N=e.field,ot=e.min,Ct=e.max,Ft=0;Ft<M.length;Ft++){var ne=M[Ft],ge=Math.min.apply(null,ne[N]),be=Math.max.apply(null,ne[N]);ge<ot&&(ot=ge),be>Ct&&(Ct=be)}var Ae=this.scaleDefs,Xe={};ot<e.min&&!Object(i.get)(Ae,[N,"min"])&&(Xe.min=ot),Ct>e.max&&!Object(i.get)(Ae,[N,"max"])&&(Xe.max=Ct),e.change(Xe)},o.prototype.beforeMapping=function(e){var a=e;if(this.sortable&&this.sort(a),this.generatePoints)for(var M=0,N=a.length;M<N;M++){var ot=a[M];this.generateShapePoints(ot);var Ct=a[M+1];Ct&&(this.generateShapePoints(Ct),ot[0].nextPoints=Ct[0].points)}return a},o.prototype.generateShapePoints=function(e){for(var a=this.getShapeFactory(),M=this.getAttribute("shape"),N=0;N<e.length;N++){var ot=e[N],Ct=this.createShapePointsCfg(ot),Ft=M?this.getAttributeValues(M,ot):null,ne=a.getShapePoints(Ft,Ct);ot.points=ne}},o.prototype.normalizeValues=function(e,a){var M=[];if(Object(i.isArray)(e))for(var N=0;N<e.length;N++){var ot=e[N];M.push(a.scale(ot))}else M=a.scale(e);return M},o.prototype.mapping=function(e){for(var a=this.attributes,M=[],N=0;N<e.length;N++){var ot=e[N],Ct={_origin:ot[m],points:ot.points,nextPoints:ot.nextPoints};for(var Ft in a)if(a.hasOwnProperty(Ft)){var ne=a[Ft],ge=ne.names,be=this.getAttributeValues(ne,ot);if(ge.length>1)for(var Ae=0;Ae<be.length;Ae+=1){var Xe=be[Ae],fn=ge[Ae];Ct[fn]=Object(i.isArray)(Xe)&&Xe.length===1?Xe[0]:Xe}else Ct[ge[0]]=be.length===1?be[0]:be}this.convertPoint(Ct),M.push(Ct)}return M},o.prototype.convertPoint=function(e){var a=e.x,M=e.y,N,ot,Ct,Ft=this.coordinate;if(Object(i.isArray)(a)&&Object(i.isArray)(M)){N=[],ot=[];for(var ne=0,ge=0,be=a.length,Ae=M.length;ne<be&&ge<Ae;ne+=1,ge+=1)Ct=Ft.convert({x:a[ne],y:M[ge]}),N.push(Ct.x),ot.push(Ct.y)}else if(Object(i.isArray)(M)){ot=[];for(var Xe=0;Xe<M.length;Xe++){var fn=M[Xe];Ct=Ft.convert({x:a,y:fn}),N&&N!==Ct.x?(Object(i.isArray)(N)||(N=[N]),N.push(Ct.x)):N=Ct.x,ot.push(Ct.y)}}else if(Object(i.isArray)(a)){N=[];for(var Xe=0;Xe<a.length;Xe++){var Sn=a[Xe];Ct=Ft.convert({x:Sn,y:M}),ot&&ot!==Ct.y?(Object(i.isArray)(ot)||(ot=[ot]),ot.push(Ct.y)):ot=Ct.y,N.push(Ct.x)}}else{var nr=Ft.convert({x:a,y:M});N=nr.x,ot=nr.y}e.x=N,e.y=ot},o.prototype.getStyleCfg=function(e,a){var M=e.fields,N=M===void 0?[]:M,ot=e.callback,Ct=e.cfg;if(Ct)return Ct;var Ft=N.map(function(ne){return a[ne]});return ot.apply(void 0,Ft)},o.prototype.setCfg=function(e){var a=this,M=e.coordinate,N=e.data,ot=e.theme,Ct=e.scaleDefs;M&&(this.coordinate=M),N&&(this.data=N),Ct&&(this.scaleDefs=Ct,this.idFields=[],Object(i.each)(Ct,function(Ft,ne){Ft&&Ft.key&&a.idFields.push(ne)})),ot&&(this.theme=this.userTheme?Object(i.deepMix)({},ot,this.userTheme):ot)},o.prototype.renderLabels=function(e,a){a===void 0&&(a=!1);var M=this.geometryLabel;if(!M){var N=this.getLabelType(),ot=uo(N);M=new ot(this),this.geometryLabel=M}M.render(e,a);var Ct=M.labelsRenderer.shapesMap;Object(i.each)(this.elementsMap,function(Ft,ne){var ge=Co(ne,Ct);if(ge.length){Ft.labelShape=ge;for(var be=0;be<ge.length;be++)for(var Ae=ge[be],Xe=Ae.getChildren(),fn=0;fn<Xe.length;fn++){var Sn=Xe[fn];Sn.cfg.name=["element","label"],Sn.cfg.element=Ft}}})},o.prototype.canDoGroupAnimation=function(e){return!e&&this.animateOption&&(Object(i.get)(this.animateOption,"appear")===void 0||Object(i.get)(this.animateOption,"appear")&&Object(i.get)(this.animateOption,["appear","animation"])===void 0)},o}(dt),Da=Do,_o=Yr.a.transform;function Ko(h,o,e){var a=_o(h.getMatrix(),[["t",o,e]]);h.setMatrix(a)}function is(h,o){var e=h.attr(),a=e.x,M=e.y,N=_o(h.getMatrix(),[["t",-a,-M],["r",o],["t",a,M]]);return N}function kt(h,o){var e=is(h,o);h.setMatrix(e)}function v(){return[1,0,0,0,1,0,0,0,1]}function l(h,o){var e=h.getBBox(),a=(e.minX+e.maxX)/2,M=(e.minY+e.maxY)/2;h.applyToMatrix([a,M,1]);var N=_o(h.getMatrix(),[["t",-a,-M],["s",o,o],["t",a,M]]);h.setMatrix(N)}function R(h){return h.find(function(o){return o.get("type")==="text"})}function X(h,o,e){e===void 0&&(e=[0,0,0,0]);var a=h.getChildren()[0];if(a){var M=a.clone();(o==null?void 0:o.rotate)&&kt(M,-o.rotate);var N=M.getCanvasBBox(),ot=N.x,Ct=N.y,Ft=N.width,ne=N.height;M.destroy();var ge=e;return Object(i.isNil)(ge)?ge=[2,2,2,2]:Object(i.isNumber)(ge)&&(ge=new Array(4).fill(ge)),{x:ot-ge[3],y:Ct-ge[0],width:Ft+ge[1]+ge[3],height:ne+ge[0]+ge[2],rotation:(o==null?void 0:o.rotate)||0}}}function ht(h,o,e){e===void 0&&(e=0);var a=Math.max(0,Math.min(h.x+h.width+e,o.x+o.width+e)-Math.max(h.x-e,o.x-e)),M=Math.max(0,Math.min(h.y+h.height+e,o.y+o.height+e)-Math.max(h.y-e,o.y-e));return a*M}function At(h,o){var e=h.getBBox();return Object(i.some)(o,function(a){var M=a.getBBox();return ht(e,M,2)>0})}function Ut(h,o,e){var a=e.data,M=e.origin,N=e.animateCfg,ot=e.coordinate,Ct=Object(i.get)(N,"update");h.set("data",a),h.set("origin",M),h.set("animateCfg",N),h.set("coordinate",ot),h.set("visible",o.get("visible")),h.getChildren().forEach(function(Ft,ne){var ge=o.getChildByIndex(ne);if(!ge)h.removeChild(Ft),Ft.remove(!0);else{Ft.set("data",a),Ft.set("origin",M),Ft.set("animateCfg",N),Ft.set("coordinate",ot);var be=eo(Ft,ge);Ct?Ia(Ft,Ct,{toAttrs:be,coordinate:ot}):Ft.attr(be),ge.isGroup()&&Ut(Ft,ge,e)}}),Object(i.each)(o.getChildren(),function(Ft,ne){ne>=h.getCount()&&(Ft.destroyed||h.add(Ft))})}var Yt=function(){function h(o){this.shapesMap={},this.lastShapesMap={};var e=o.layout,a=o.container;this.layout=e,this.container=a}return h.prototype.render=function(o,e,a){var M=this;a===void 0&&(a=!1),this.shapesMap={};var N=this.container,ot=this.createOffscreenGroup();if(o.length){for(var Ct=0,Ft=o;Ct<Ft.length;Ct++){var ne=Ft[Ct];ne&&this.renderLabel(ne,ot)}this.doLayout(o,e),this.renderLabelLine(o),this.renderLabelBackground(o),this.adjustLabel(o)}var ge=this.lastShapesMap,be=this.shapesMap;Object(i.each)(be,function(Ae,Xe){if(Ae.destroyed)delete be[Xe];else{if(ge[Xe]){var fn=Ae.get("data"),Sn=Ae.get("origin"),nr=Ae.get("coordinate"),ar=Ae.get("animateCfg"),Sr=ge[Xe];Ut(Sr,be[Xe],{data:fn,origin:Sn,animateCfg:ar,coordinate:nr}),M.shapesMap[Xe]=Sr}else{N.add(Ae);var Mr=Object(i.get)(Ae.get("animateCfg"),a?"enter":"appear");Mr&&Ia(Ae,Mr,{toAttrs:Object(Y.a)({},Ae.attr()),coordinate:Ae.get("coordinate")})}delete ge[Xe]}}),Object(i.each)(ge,function(Ae){var Xe=Object(i.get)(Ae.get("animateCfg"),"leave");Xe?Ia(Ae,Xe,{toAttrs:null,coordinate:Ae.get("coordinate")}):Ae.remove(!0)}),this.lastShapesMap=be,ot.destroy()},h.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},h.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},h.prototype.renderLabel=function(o,e){var a=o.id,M=o.elementId,N=o.data,ot=o.mappingData,Ct=o.coordinate,Ft=o.animate,ne=o.content,ge={id:a,elementId:M,data:N,origin:Object(Y.a)(Object(Y.a)({},ot),{data:ot[m]}),coordinate:Ct},be=e.addGroup(Object(Y.a)({name:"label",animateCfg:this.animate===!1||Ft===null||Ft===!1?!1:Object(i.deepMix)({},this.animate,Ft)},ge)),Ae;if(ne.isGroup&&ne.isGroup()||ne.isShape&&ne.isShape()){var Xe=ne.getCanvasBBox(),fn=Xe.width,Sn=Xe.height,nr=Object(i.get)(o,"textAlign","left"),ar=o.x,Sr=o.y-Sn/2;nr==="center"?ar=ar-fn/2:(nr==="right"||nr==="end")&&(ar=ar-fn),Ko(ne,ar,Sr),Ae=ne,be.add(ne)}else{var Mr=Object(i.get)(o,["style","fill"]);Ae=be.addShape("text",Object(Y.a)({attrs:Object(Y.a)(Object(Y.a)({x:o.x,y:o.y,textAlign:o.textAlign,textBaseline:Object(i.get)(o,"textBaseline","middle"),text:o.content},o.style),{fill:Object(i.isNull)(Mr)?o.color:Mr})},ge))}o.rotate&&kt(Ae,o.rotate),this.shapesMap[a]=be},h.prototype.doLayout=function(o,e){var a=this;if(this.layout){var M=Object(i.isArray)(this.layout)?this.layout:[this.layout];Object(i.each)(M,function(N){var ot=qo(Object(i.get)(N,"type",""));if(ot){var Ct=[],Ft=[];Object(i.each)(a.shapesMap,function(ne,ge){Ct.push(ne),Ft.push(e[ne.get("elementId")])}),ot(o,Ct,Ft,a.region,N.cfg)}})}},h.prototype.renderLabelLine=function(o){var e=this;Object(i.each)(o,function(a){var M=Object(i.get)(a,"coordinate");if(!(!a||!M)){var N=M.getCenter(),ot=M.getRadius();if(!!a.labelLine){var Ct=Object(i.get)(a,"labelLine",{}),Ft=a.id,ne=Ct.path;if(!ne){var ge=Qi(N.x,N.y,ot,a.angle);ne=[["M",ge.x,ge.y],["L",a.x,a.y]]}var be=e.shapesMap[Ft];be.destroyed||be.addShape("path",{capture:!1,attrs:Object(Y.a)({path:ne,stroke:a.color?a.color:Object(i.get)(a,["style","fill"],"#000"),fill:null},Ct.style),id:Ft,origin:a.mappingData,data:a.data,coordinate:a.coordinate})}}})},h.prototype.renderLabelBackground=function(o){var e=this;Object(i.each)(o,function(a){var M=Object(i.get)(a,"coordinate"),N=Object(i.get)(a,"background");if(!(!N||!M)){var ot=a.id,Ct=e.shapesMap[ot];if(!Ct.destroyed){var Ft=Ct.getChildren()[0];if(Ft){var ne=X(Ct,a,N.padding),ge=ne.rotation,be=Object(Y.c)(ne,["rotation"]),Ae=Ct.addShape("rect",{attrs:Object(Y.a)(Object(Y.a)({},be),N.style||{}),id:ot,origin:a.mappingData,data:a.data,coordinate:a.coordinate});if(Ae.setZIndex(-1),ge){var Xe=Ft.getMatrix();Ae.setMatrix(Xe)}}}}})},h.prototype.createOffscreenGroup=function(){var o=this.container,e=o.getGroupBase(),a=new e({});return a},h.prototype.adjustLabel=function(o){var e=this;Object(i.each)(o,function(a){if(a){var M=a.id,N=e.shapesMap[M];if(!N.destroyed){var ot=N.findAll(function(Ct){return Ct.get("type")!=="path"});Object(i.each)(ot,function(Ct){Ct&&(a.offsetX&&Ct.attr("x",Ct.attr("x")+a.offsetX),a.offsetY&&Ct.attr("y",Ct.attr("y")+a.offsetY))})}}})},h}(),qt=Yt;function oe(h){var o=0;return Object(i.each)(h,function(e){o+=e}),o/h.length}var Te=function(){function h(o){this.geometry=o}return h.prototype.getLabelItems=function(o){var e=this,a=[],M=this.getLabelCfgs(o);return Object(i.each)(o,function(N,ot){var Ct=M[ot];if(!Ct||Object(i.isNil)(N.x)||Object(i.isNil)(N.y)){a.push(null);return}var Ft=Object(i.isArray)(Ct.content)?Ct.content:[Ct.content];Ct.content=Ft;var ne=Ft.length;Object(i.each)(Ft,function(ge,be){if(Object(i.isNil)(ge)||ge===""){a.push(null);return}var Ae=Object(Y.a)(Object(Y.a)({},Ct),e.getLabelPoint(Ct,N,be));Ae.textAlign||(Ae.textAlign=e.getLabelAlign(Ae,be,ne)),Ae.offset<=0&&(Ae.labelLine=null),a.push(Ae)})}),a},h.prototype.render=function(o,e){e===void 0&&(e=!1);var a=this.getLabelItems(o),M=this.getLabelsRenderer(),N=this.getGeometryShapes();M.render(a,N,e)},h.prototype.clear=function(){var o=this.labelsRenderer;o&&o.clear()},h.prototype.destroy=function(){var o=this.labelsRenderer;o&&o.destroy(),this.labelsRenderer=null},h.prototype.getCoordinate=function(){return this.geometry.coordinate},h.prototype.getDefaultLabelCfg=function(o,e){var a=this.geometry,M=a.type,N=a.theme;return M==="polygon"||M==="interval"&&e==="middle"||o<0&&!["line","point","path"].includes(M)?Object(i.get)(N,"innerLabels",{}):Object(i.get)(N,"labels",{})},h.prototype.getThemedLabelCfg=function(o){var e=this.geometry,a=this.getDefaultLabelCfg(),M=e.type,N=e.theme,ot;return M==="polygon"||o.offset<0&&!["line","point","path"].includes(M)?ot=Object(i.deepMix)({},a,N.innerLabels,o):ot=Object(i.deepMix)({},a,N.labels,o),ot},h.prototype.setLabelPosition=function(o,e,a,M){},h.prototype.getLabelOffset=function(o){var e=this.getCoordinate(),a=this.getOffsetVector(o);return e.isTransposed?a[0]:a[1]},h.prototype.getLabelOffsetPoint=function(o,e,a){var M=o.offset,N=this.getCoordinate(),ot=N.isTransposed,Ct=ot?"x":"y",Ft=ot?1:-1,ne={x:0,y:0};return e>0||a===1?ne[Ct]=M*Ft:ne[Ct]=M*Ft*-1,ne},h.prototype.getLabelPoint=function(o,e,a){var M=this.getCoordinate(),N=o.content.length;function ot(nr,ar,Sr){Sr===void 0&&(Sr=!1);var Mr=nr;return Object(i.isArray)(Mr)&&(o.content.length===1?Sr?Mr=oe(Mr):Mr.length<=2?Mr=Mr[nr.length-1]:Mr=oe(Mr):Mr=Mr[ar]),Mr}var Ct={content:o.content[a],x:0,y:0,start:{x:0,y:0},color:"#fff"},Ft=Object(i.isArray)(e.shape)?e.shape[0]:e.shape,ne=Ft==="funnel"||Ft==="pyramid";if(this.geometry.type==="polygon"){var ge=Ga(e.x,e.y);Ct.x=ge[0],Ct.y=ge[1]}else this.geometry.type==="interval"&&!ne?(Ct.x=ot(e.x,a,!0),Ct.y=ot(e.y,a)):(Ct.x=ot(e.x,a),Ct.y=ot(e.y,a));if(ne){var be=Object(i.get)(e,"nextPoints"),Ae=Object(i.get)(e,"points");if(be){var Xe=M.convert(Ae[1]),fn=M.convert(be[1]);Ct.x=(Xe.x+fn.x)/2,Ct.y=(Xe.y+fn.y)/2}else if(Ft==="pyramid"){var Xe=M.convert(Ae[1]),fn=M.convert(Ae[2]);Ct.x=(Xe.x+fn.x)/2,Ct.y=(Xe.y+fn.y)/2}}o.position&&this.setLabelPosition(Ct,e,a,o.position);var Sn=this.getLabelOffsetPoint(o,a,N);return Ct.start={x:Ct.x,y:Ct.y},Ct.x+=Sn.x,Ct.y+=Sn.y,Ct.color=e.color,Ct},h.prototype.getLabelAlign=function(o,e,a){var M="center",N=this.getCoordinate();if(N.isTransposed){var ot=o.offset;ot<0?M="right":ot===0?M="center":M="left",a>1&&e===0&&(M==="right"?M="left":M==="left"&&(M="right"))}return M},h.prototype.getLabelId=function(o){var e=this.geometry,a=e.type,M=e.getXScale(),N=e.getYScale(),ot=o[m],Ct=e.getElementId(o);return a==="line"||a==="area"?Ct+=" "+ot[M.field]:a==="path"&&(Ct+=" "+ot[M.field]+"-"+ot[N.field]),Ct},h.prototype.getLabelsRenderer=function(){var o=this.geometry,e=o.labelsContainer,a=o.labelOption,M=o.canvasRegion,N=o.animateOption,ot=this.geometry.coordinate,Ct=this.labelsRenderer;return Ct||(Ct=new qt({container:e,layout:Object(i.get)(a,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=Ct),Ct.region=M,Ct.animate=N?se("label",ot):!1,Ct},h.prototype.getLabelCfgs=function(o){var e=this,a=this.geometry,M=a.labelOption,N=a.scales,ot=a.coordinate,Ct=M,Ft=Ct.fields,ne=Ct.callback,ge=Ct.cfg,be=Ft.map(function(Xe){return N[Xe]}),Ae=[];return Object(i.each)(o,function(Xe,fn){var Sn=Xe[m],nr=e.getLabelText(Sn,be),ar;if(ne){var Sr=Ft.map(function(aa){return Sn[aa]});if(ar=ne.apply(void 0,Sr),Object(i.isNil)(ar)){Ae.push(null);return}}var Mr=Object(Y.a)(Object(Y.a)({id:e.getLabelId(Xe),elementId:e.geometry.getElementId(Xe),data:Sn,mappingData:Xe,coordinate:ot},ge),ar);Object(i.isFunction)(Mr.position)&&(Mr.position=Mr.position(Sn,Xe,fn));var qr=e.getLabelOffset(Mr.offset||0),oi=e.getDefaultLabelCfg(qr,Mr.position);Mr=Object(i.deepMix)({},oi,Mr),Mr.offset=e.getLabelOffset(Mr.offset||0);var ai=Mr.content;Object(i.isFunction)(ai)?Mr.content=ai(Sn,Xe,fn):Object(i.isUndefined)(ai)&&(Mr.content=nr[0]),Ae.push(Mr)}),Ae},h.prototype.getLabelText=function(o,e){var a=[];return Object(i.each)(e,function(M){var N=o[M.field];Object(i.isArray)(N)?N=N.map(function(ot){return M.getText(ot)}):N=M.getText(N),Object(i.isNil)(N)||N===""?a.push(null):a.push(N)}),a},h.prototype.getOffsetVector=function(o){o===void 0&&(o=0);var e=this.getCoordinate(),a=0;return Object(i.isNumber)(o)&&(a=o),e.isTransposed?e.applyMatrix(a,0):e.applyMatrix(0,a)},h.prototype.getGeometryShapes=function(){var o=this.geometry,e={};return Object(i.each)(o.elementsMap,function(a,M){e[M]=a.shape}),Object(i.each)(o.getOffscreenGroup().getChildren(),function(a){var M=o.getElementId(a.get("origin").mappingData);e[M]=a}),e},h}(),Ge=Te,Ue=E("B+CY");function Ve(h,o,e){if(!h)return e;var a;if(h.callback&&h.callback.length>1){var M=Array(h.callback.length-1).fill("");a=h.mapping.apply(h,Object(Y.d)([o],M)).join("")}else a=h.mapping(o).join("");return a||e}var vn={hexagon:function(o,e,a){var M=a/2*Math.sqrt(3);return[["M",o,e-a],["L",o+M,e-a/2],["L",o+M,e+a/2],["L",o,e+a],["L",o-M,e+a/2],["L",o-M,e-a/2],["Z"]]},bowtie:function(o,e,a){var M=a-1.5;return[["M",o-a,e-M],["L",o+a,e+M],["L",o+a,e-M],["L",o-a,e+M],["Z"]]},cross:function(o,e,a){return[["M",o-a,e-a],["L",o+a,e+a],["M",o+a,e-a],["L",o-a,e+a]]},tick:function(o,e,a){return[["M",o-a/2,e-a],["L",o+a/2,e-a],["M",o,e-a],["L",o,e+a],["M",o-a/2,e+a],["L",o+a/2,e+a]]},plus:function(o,e,a){return[["M",o-a,e],["L",o+a,e],["M",o,e-a],["L",o,e+a]]},hyphen:function(o,e,a){return[["M",o-a,e],["L",o+a,e]]},line:function(o,e,a){return[["M",o,e-a],["L",o,e+a]]}},Tn=["line","cross","tick","plus","hyphen"];function Ln(h,o){var e=h.symbol;Object(i.isString)(e)&&Tn.indexOf(e)!==-1&&(h.style=Object(i.deepMix)({},h.style,{lineWidth:1,stroke:o,fill:null}))}function Un(h){var o=h.symbol;Object(i.isString)(o)&&vn[o]&&(h.symbol=vn[o])}function Hn(h){return h.startsWith(t.LEFT)||h.startsWith(t.RIGHT)?"vertical":"horizontal"}function xr(h,o,e,a,M){var N=e.getScale(e.type);if(N.isCategory){var ot=N.field,Ct=o.getAttribute("color"),Ft=o.getAttribute("shape"),ne=h.getTheme().defaultColor,ge=o.coordinate.isPolar;return N.getTicks().map(function(be){var Ae,Xe=be.text,fn=be.value,Sn=Xe,nr=N.invert(fn),ar=h.filterFieldData(ot,[(Ae={},Ae[ot]=nr,Ae)]).length===0;Object(i.each)(h.views,function(oi){var ai;oi.filterFieldData(ot,[(ai={},ai[ot]=nr,ai)]).length||(ar=!0)});var Sr=Ve(Ct,nr,ne),Mr=Ve(Ft,nr,"point"),qr=o.getShapeMarker(Mr,{color:Sr,isInPolar:ge});return qr=Object(i.deepMix)({},a,qr,M),Ln(qr,Sr),Un(qr),{id:nr,name:Sn,value:nr,marker:qr,unchecked:ar}})}return[]}function Or(h,o,e){return e.map(function(a){var M=Object(i.deepMix)({},h,o,a.marker);return Un(M),a.marker=M,a})}var Rr="4.1.9",yi={getLegendItems:xr,translate:Ko,rotate:kt,zoom:l,transform:_o,getAngle:za,getSectorPath:ka,polarToCartesian:Qi,getDelegationObject:Zt,getTooltipItems:ra},Xi={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Zr={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},ki=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Ba=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],Ha=function(o){o===void 0&&(o={});var e=o.backgroundColor,a=e===void 0?"#141414":e,M=o.paletteQualitative10,N=M===void 0?ki:M,ot=o.paletteQualitative20,Ct=ot===void 0?Ba:ot,Ft=o.paletteSemanticRed,ne=Ft===void 0?"#F4664A":Ft,ge=o.paletteSemanticGreen,be=ge===void 0?"#30BF78":ge,Ae=o.paletteSemanticYellow,Xe=Ae===void 0?"#FAAD14":Ae,fn=o.fontFamily,Sn=fn===void 0?`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`:fn,nr=o.brandColor,ar=nr===void 0?N[0]:nr;return{backgroundColor:a,brandColor:ar,paletteQualitative10:N,paletteQualitative20:Ct,paletteSemanticRed:ne,paletteSemanticGreen:be,paletteSemanticYellow:Xe,fontFamily:Sn,axisLineBorderColor:Zr[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Zr[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:Zr[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Zr[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Zr[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Zr[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Zr[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:ki[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Zr[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],sliderRailFillColor:Zr[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Zr[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Xi[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Xi[25],annotationArcBorderColor:Zr[15],annotationArcBorder:1,annotationLineBorderColor:Zr[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Zr[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Zr[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Zr[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Zr[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Zr[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Xi[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Zr[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Xi[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Zr[25],pointFillColor:ki[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Xi[100],pointBorderOpacity:1,pointActiveBorderColor:Zr[100],pointSelectedBorder:2,pointSelectedBorderColor:Zr[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:ki[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Xi[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Zr[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Zr[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:ki[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:ki[0],areaFillOpacity:.25,areaActiveFillColor:ki[0],areaActiveFillOpacity:.5,areaSelectedFillColor:ki[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:ki[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Zr[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Zr[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:ki[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Zr[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Zr[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:ki[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Xi[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Zr[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Zr[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}},Ka=Ha(),Ja=E("U8jP"),ya=E("v7Ed");function Mo(h){return h?!1:h==null||isNaN(h)}function jo(h){if(Object(i.isArray)(h))return Mo(h[1].y);var o=h.y;return Object(i.isArray)(o)?Mo(o[0]):Mo(o)}function Ro(h,o,e){if(o===void 0&&(o=!1),e===void 0&&(e=!0),!h.length||h.length===1&&!e)return[];if(o){for(var a=[],M=0,N=h.length;M<N;M++){var ot=h[M];jo(ot)||a.push(ot)}return[a]}for(var Ct=[],Ft=[],M=0,N=h.length;M<N;M++){var ot=h[M];jo(ot)?Ft.length&&(Ft.length===1&&!e||Ct.push(Ft),Ft=[]):Ft.push(ot)}return Ft.length&&Ct.push(Ft),Ct}function Za(h,o,e,a){a===void 0&&(a="");var M=h.style,N=M===void 0?{}:M,ot=h.defaultStyle,Ct=h.color,Ft=h.size,ne=Object(Y.a)(Object(Y.a)({},ot),N);return Ct&&(o&&(N.stroke||(ne.stroke=Ct)),e&&(N.fill||(ne.fill=Ct))),a&&Object(i.isNil)(N[a])&&!Object(i.isNil)(Ft)&&(ne[a]=Ft),ne}function Ao(h){return Object(i.deepMix)({},{fill:"#CCD6EC",fillOpacity:.3},Object(i.get)(h,["background","style"]))}function $a(h){var o=h.x,e=Object(i.isArray)(h.y)?h.y:[h.y];return e.map(function(a,M){return{x:Object(i.isArray)(o)?o[M]:o,y:a}})}var ns={line:function(o,e,a){return[["M",o-a,e],["L",o+a,e]]},dot:function(o,e,a){return[["M",o-a,e],["L",o+a,e]]},dash:function(o,e,a){return[["M",o-a,e],["L",o+a,e]]},smooth:function(o,e,a){return[["M",o-a,e],["A",a/2,a/2,0,1,1,o,e],["A",a/2,a/2,0,1,0,o+a,e]]},hv:function(o,e,a){return[["M",o-a-1,e-2.5],["L",o,e-2.5],["L",o,e+2.5],["L",o+a+1,e+2.5]]},vh:function(o,e,a){return[["M",o-a-1,e+2.5],["L",o,e+2.5],["L",o,e-2.5],["L",o+a+1,e-2.5]]},hvh:function(o,e,a){return[["M",o-(a+1),e+2.5],["L",o-a/2,e+2.5],["L",o-a/2,e-2.5],["L",o+a/2,e-2.5],["L",o+a/2,e+2.5],["L",o+a+1,e+2.5]]},vhv:function(o,e){return[["M",o-5,e+2.5],["L",o-5,e],["L",o,e],["L",o,e-3],["L",o,e+3],["L",o+6.5,e+3]]}};function ba(h,o){var e=h.color;return{symbol:ns[o],style:{lineWidth:2,r:6,stroke:e}}}function qa(h,o,e){for(var a=h.isStack,M=h.connectNulls,N=h.isInCircle,ot=h.showSinglePoint,Ct=Za(h,!0,!1,"lineWidth"),Ft=Ro(h.points,M,ot),ne=[],ge=0,be=Ft.length;ge<be;ge++){var Ae=Ft[ge];ne=ne.concat(Nu(Ae,N,a,o,e,Ct))}return Ct.path=ne,Ct}function Po(h,o,e,a,M){if(h.length===1)return[["M",h[0].x,h[0].y-M.lineWidth/2],["L",h[0].x,h[0].y],["L",h[0].x,h[0].y+M.lineWidth/2]];var N;return e?(o&&h.length&&h.push({x:h[0].x,y:h[0].y}),N=Kn(h,!1,a)):(N=Zn(h,!1),o&&N.push(["Z"])),N}function Qo(h,o,e,a,M,N){var ot=[],Ct=[];Object(i.each)(h,function(ge){var be=$a(ge);ot.push(be[1]),Ct.push(be[0])});var Ft=Po(ot,o,a,M,N),ne=Po(Ct,o,a,M,N);return e?Ft:Ft.concat(ne)}function Nu(h,o,e,a,M,N){if(h.length){var ot=h[0];return Object(i.isArray)(ot.y)?Qo(h,o,e,a,M,N):Po(h,o,a,M,N)}return[]}var ds=mo("line",{defaultShapeType:"line"});Object(i.each)(["line","dot","dash","smooth"],function(h){ia("line",h,{draw:function(e,a){var M=h==="smooth",N;if(M){var ot=this.coordinate,Ct=ot.start,Ft=ot.end;N=[[Ct.x,Ft.y],[Ft.x,Ct.y]]}var ne=qa(e,M,N),ge=a.addShape({type:"path",attrs:ne,name:"line",capture:!M});return ge},getMarker:function(e){return ba(e,h)}})});var Lu=ds,$s=function(h){Object(Y.b)(o,h);function o(e){var a=h.call(this,e)||this;a.type="path",a.shapeType="line";var M=e.connectNulls,N=M===void 0?!1:M,ot=e.showSinglePoint,Ct=ot===void 0?!0:ot;return a.connectNulls=N,a.showSinglePoint=Ct,a}return o.prototype.createElements=function(e,a,M){M===void 0&&(M=!1);var N=this,ot=N.lastElementsMap,Ct=N.elementsMap,Ft=N.elements,ne=N.container,ge=this.getElementId(e),be=this.getShapeInfo(e),Ae=ot[ge];if(Ae){var fn=Ae.getModel();(this.isCoordinateChanged||Qa(fn,be))&&(Ae.animate=this.animateOption,Ae.update(be)),delete ot[ge]}else{var Xe=this.getShapeFactory();Ae=new Lo({shapeFactory:Xe,container:ne,offscreenGroup:this.getOffscreenGroup()}),Ae.geometry=this,Ae.animate=this.animateOption,Ae.draw(be,M)}return Ft.push(Ae),Ct[ge]=Ae,Ft},o.prototype.getPointsAndData=function(e){for(var a=[],M=[],N=0,ot=e.length;N<ot;N++){var Ct=e[N];a.push({x:Ct.x,y:Ct.y}),M.push(Ct[m])}return{points:a,data:M}},o.prototype.getShapeInfo=function(e){var a=this.getDrawCfg(e[0]),M=this.getPointsAndData(e),N=M.points,ot=M.data;return a.mappingData=e,a.data=ot,a.isStack=!!this.getAdjust("stack"),a.points=N,a.connectNulls=this.connectNulls,a.showSinglePoint=this.showSinglePoint,a},o}(Da),_s=$s;function hu(h,o,e,a,M){var N=[];if(h.length){for(var ot=[],Ct=[],Ft=0,ne=h.length;Ft<ne;Ft++){var ge=h[Ft];ot.push(ge[1]),Ct.push(ge[0])}Ct=Ct.reverse(),Object(i.each)([ot,Ct],function(be,Ae){var Xe=[],fn=a.parsePoints(be),Sn=fn[0];ot.length===1&&Ct.length===1?Xe=Ae===0?[["M",Sn.x-.5,Sn.y],["L",Sn.x+.5,Sn.y]]:[["L",Sn.x+.5,Sn.y],["L",Sn.x-.5,Sn.y]]:(o&&fn.push({x:Sn.x,y:Sn.y}),e?Xe=Kn(fn,!1,M):Xe=Zn(fn,!1),Ae>0&&(Xe[0][0]="L")),N=N.concat(Xe)}),N.push(["Z"])}return N}function Bu(h,o,e,a,M){for(var N=Za(h,o,!o,"lineWidth"),ot=h.connectNulls,Ct=h.isInCircle,Ft=h.points,ne=h.showSinglePoint,ge=Ro(Ft,ot,ne),be=[],Ae=0,Xe=ge.length;Ae<Xe;Ae++){var fn=ge[Ae];be=be.concat(hu(fn,Ct,e,a,M))}return N.path=be,N}function du(h){var o=h.start,e=h.end;return[[o.x,e.y],[e.x,o.y]]}var tl=mo("area",{defaultShapeType:"area",getDefaultPoints:function(o){var e=o.x,a=o.y0,M=Object(i.isArray)(o.y)?o.y:[a,o.y];return M.map(function(N){return{x:e,y:N}})}});ia("area","area",{draw:function(o,e){var a=Bu(o,!1,!1,this),M=e.addShape({type:"path",attrs:a,name:"area"});return M},getMarker:function(o){var e=o.color;return{symbol:function(M,N,ot){return ot===void 0&&(ot=5.5),[["M",M-ot,N-4],["L",M+ot,N-4],["L",M+ot,N+4],["L",M-ot,N+4],["Z"]]},style:{r:5,fill:e}}}});var bh=tl,el=function(h){Object(Y.b)(o,h);function o(e){var a=h.call(this,e)||this;a.type="area",a.shapeType="area",a.generatePoints=!0,a.startOnZero=!0;var M=e.startOnZero,N=M===void 0?!0:M,ot=e.sortable,Ct=ot===void 0?!1:ot,Ft=e.showSinglePoint,ne=Ft===void 0?!1:Ft;return a.startOnZero=N,a.sortable=Ct,a.showSinglePoint=ne,a}return o.prototype.getPointsAndData=function(e){for(var a=[],M=[],N=0,ot=e.length;N<ot;N++){var Ct=e[N];a.push(Ct.points),M.push(Ct[m])}return{points:a,data:M}},o.prototype.getYMinValue=function(){if(this.startOnZero)return h.prototype.getYMinValue.call(this);var e=this.getYScale();return e.min},o}(_s),nl=el,rl=mo("edge",{defaultShapeType:"line",getDefaultPoints:function(o){return $a(o)}});ia("edge","line",{draw:function(o,e){var a=Za(o,!0,!1,"lineWidth"),M=Zn(this.parsePoints(o.points),this.coordinate.isPolar);return e.addShape("path",{attrs:Object(Y.a)(Object(Y.a)({},a),{path:M})})},getMarker:function(o){return{symbol:"circle",style:{r:4.5,fill:o.color}}}});var dc=rl,il=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.type="edge",e.shapeType="edge",e.generatePoints=!0,e}return o}(Da),al=il,ol=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.type="heatmap",e.paletteCache={},e}return o.prototype.createElements=function(e,a,M){M===void 0&&(M=!1);var N=this.prepareRange(e),ot=this.prepareSize(),Ct=Object(i.get)(this.styleOption,["style","shadowBlur"]);return Object(i.isNumber)(Ct)||(Ct=ot/2),this.prepareGreyScaleBlurredCircle(ot,Ct),this.drawWithRange(e,N,ot,Ct),null},o.prototype.clear=function(){h.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},o.prototype.prepareRange=function(e){var a=this.getAttribute("color"),M=a.getFields()[0],N=Infinity,ot=-Infinity;return e.forEach(function(Ct){var Ft=Ct[m][M];Ft>ot&&(ot=Ft),Ft<N&&(N=Ft)}),N===ot&&(N=ot-1),[N,ot]},o.prototype.prepareSize=function(){var e=this.getDefaultValue("size");return Object(i.isNumber)(e)||(e=this.getDefaultSize()),e},o.prototype.prepareGreyScaleBlurredCircle=function(e,a){var M=this.getGrayScaleBlurredCanvas(),N=e+a,ot=M.getContext("2d");M.width=M.height=N*2,ot.clearRect(0,0,M.width,M.height),ot.shadowOffsetX=ot.shadowOffsetY=N*2,ot.shadowBlur=a,ot.shadowColor="black",ot.beginPath(),ot.arc(-N,-N,e,0,Math.PI*2,!0),ot.closePath(),ot.fill()},o.prototype.drawWithRange=function(e,a,M,N){var ot=this.coordinate,Ct=ot.start,Ft=ot.end,ne=this.coordinate.getWidth(),ge=this.coordinate.getHeight(),be=this.getAttribute("color"),Ae=be.getFields()[0];this.clearShadowCanvasCtx();var Xe=this.getShadowCanvasCtx();a&&(e=e.filter(function(Ji){return Ji[m][Ae]<=a[1]&&Ji[m][Ae]>=a[0]}));for(var fn=this.scales[Ae],Sn=0,nr=e;Sn<nr.length;Sn++){var ar=nr[Sn],Sr=this.getDrawCfg(ar),Mr=Sr.x,qr=Sr.y,oi=fn.scale(ar[m][Ae]);this.drawGrayScaleBlurredCircle(Mr-Ct.x,qr-Ft.y,M+N,oi,Xe)}var ai=Xe.getImageData(0,0,ne,ge);this.clearShadowCanvasCtx(),this.colorize(ai),Xe.putImageData(ai,0,0);var aa=this.getImageShape();aa.attr("x",Ct.x),aa.attr("y",Ft.y),aa.attr("width",ne),aa.attr("height",ge),aa.attr("img",Xe.canvas),aa.set("origin",this.getShapeInfo(e))},o.prototype.getDefaultSize=function(){var e=this.getAttribute("position"),a=this.coordinate;return Math.min(a.getWidth()/(e.scales[0].ticks.length*4),a.getHeight()/(e.scales[1].ticks.length*4))},o.prototype.clearShadowCanvasCtx=function(){var e=this.getShadowCanvasCtx();e.clearRect(0,0,e.canvas.width,e.canvas.height)},o.prototype.getShadowCanvasCtx=function(){var e=this.shadowCanvas;return e||(e=document.createElement("canvas"),this.shadowCanvas=e),e.width=this.coordinate.getWidth(),e.height=this.coordinate.getHeight(),e.getContext("2d")},o.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},o.prototype.drawGrayScaleBlurredCircle=function(e,a,M,N,ot){var Ct=this.getGrayScaleBlurredCanvas();ot.globalAlpha=N,ot.drawImage(Ct,e-M,a-M)},o.prototype.colorize=function(e){for(var a=this.getAttribute("color"),M=e.data,N=this.paletteCache,ot=3;ot<M.length;ot+=4){var Ct=M[ot];if(Object(i.isNumber)(Ct)){var Ft=N[Ct]?N[Ct]:xt.a.rgb2arr(a.gradient(Ct/256));M[ot-3]=Ft[0],M[ot-2]=Ft[1],M[ot-1]=Ft[2],M[ot]=Ct}}},o.prototype.getImageShape=function(){var e=this.imageShape;if(e)return e;var a=this.container;return e=a.addShape({type:"image",attrs:{}}),this.imageShape=e,e},o.prototype.getShapeInfo=function(e){var a=this.getDrawCfg(e[0]);return Object(Y.a)(Object(Y.a)({},a),{mappingData:e,data:this.getData(e)})},o.prototype.getData=function(e){return e.map(function(a){return a[m]})},o}(Da),sl=ol;function Fu(h,o){o===void 0&&(o=!1);var e=h.x,a=h.y,M=h.y0,N=h.size,ot,Ct;Object(i.isArray)(a)?(ot=a[0],Ct=a[1]):(ot=M,Ct=a);var Ft,ne;Object(i.isArray)(e)?(Ft=e[0],ne=e[1]):(Ft=e-N/2,ne=e+N/2);var ge=[{x:Ft,y:ot},{x:Ft,y:Ct}];return o?ge.push({x:ne,y:(Ct+ot)/2}):ge.push({x:ne,y:Ct},{x:ne,y:ot}),ge}function Gu(h,o){o===void 0&&(o=!0);var e=[],a=h[0];e.push(["M",a.x,a.y]);for(var M=1,N=h.length;M<N;M++)e.push(["L",h[M].x,h[M].y]);return o&&(e.push(["L",a.x,a.y]),e.push(["z"])),e}function qs(h,o){var e=0,a=0,M=0,N=0;return Object(i.isArray)(h)?h.length===1?e=a=M=N=h[0]:h.length===2?(e=M=h[0],a=N=h[1]):h.length===3?(e=h[0],a=N=h[1],M=h[2]):(e=h[0],a=h[1],M=h[2],N=h[3]):e=a=M=N=h,e+a>o&&(e=e?o/(1+a/e):0,a=o-e),M+N>o&&(M=M?o/(1+N/M):0,N=o-M),[e||0,a||0,M||0,N||0]}function vc(h,o,e){var a=[];if(e.isRect){var M=e.isTransposed?{x:e.start.x,y:o[0].y}:{x:o[0].x,y:e.start.y},N=e.isTransposed?{x:e.end.x,y:o[2].y}:{x:o[3].x,y:e.end.y},ot=Object(i.get)(h,["background","style","radius"]);if(ot){var Ct=e.isTransposed?Math.abs(o[0].y-o[2].y):o[2].x-o[1].x,Ft=e.isTransposed?e.getWidth():e.getHeight(),ne=qs(ot,Math.min(Ct,Ft)),ge=ne[0],be=ne[1],Ae=ne[2],Xe=ne[3];a.push(["M",M.x,N.y+ge]),ge!==0&&a.push(["A",ge,ge,0,0,1,M.x+ge,N.y]),a.push(["L",N.x-be,N.y]),be!==0&&a.push(["A",be,be,0,0,1,N.x,N.y+be]),a.push(["L",N.x,M.y-Ae]),Ae!==0&&a.push(["A",Ae,Ae,0,0,1,N.x-Ae,M.y]),a.push(["L",M.x+Xe,M.y]),Xe!==0&&a.push(["A",Xe,Xe,0,0,1,M.x,M.y-Xe])}else a.push(["M",M.x,M.y]),a.push(["L",N.x,M.y]),a.push(["L",N.x,N.y]),a.push(["L",M.x,N.y]),a.push(["L",M.x,M.y]);a.push(["z"])}if(e.isPolar){var fn=e.getCenter(),Sn=za(h,e),nr=Sn.startAngle,ar=Sn.endAngle;if(e.type!=="theta"&&!e.isTransposed)a=ka(fn.x,fn.y,e.getRadius(),nr,ar);else{var Sr=function(ai){return Math.pow(ai,2)},ge=Math.sqrt(Sr(fn.x-o[0].x)+Sr(fn.y-o[0].y)),be=Math.sqrt(Sr(fn.x-o[2].x)+Sr(fn.y-o[2].y));a=ka(fn.x,fn.y,ge,e.startAngle,e.endAngle,be)}}return a}function ul(h,o,e){var a=e.getWidth(),M=e.getHeight(),N=e.type==="rect",ot=[],Ct=(h[2].x-h[1].x)/2,Ft=e.isTransposed?Ct*M/a:Ct*a/M;return o==="round"?(N?(ot.push(["M",h[0].x,h[0].y+Ft]),ot.push(["L",h[1].x,h[1].y-Ft]),ot.push(["A",Ct,Ct,0,0,1,h[2].x,h[2].y-Ft]),ot.push(["L",h[3].x,h[3].y+Ft]),ot.push(["A",Ct,Ct,0,0,1,h[0].x,h[0].y+Ft])):(ot.push(["M",h[0].x,h[0].y]),ot.push(["L",h[1].x,h[1].y]),ot.push(["A",Ct,Ct,0,0,1,h[2].x,h[2].y]),ot.push(["L",h[3].x,h[3].y]),ot.push(["A",Ct,Ct,0,0,1,h[0].x,h[0].y])),ot.push(["z"])):ot=Gu(h),ot}function pc(h,o,e){var a=[];return Object(i.isNil)(o)?e?a.push(["M",h[0].x,h[0].y],["L",h[1].x,h[1].y],["L",h[2].x,h[2].y],["L",h[2].x,h[2].y],["Z"]):a.push(["M",h[0].x,h[0].y],["L",h[1].x,h[1].y],["L",h[2].x,h[2].y],["L",h[3].x,h[3].y],["Z"]):a.push(["M",h[0].x,h[0].y],["L",h[1].x,h[1].y],["L",o[1].x,o[1].y],["L",o[0].x,o[0].y],["Z"]),a}function tu(h,o,e){var a,M,N,ot,Ct=h[0],Ft=h[1],ne=h[2],ge=h[3],be=[0,0,0,0],Ae=be[0],Xe=be[1],fn=be[2],Sn=be[3];Ct.y<Ft.y?(Ft=h[0],Ct=h[1],ge=h[2],ne=h[3],a=qs(e,Math.min(ge.x-Ct.x,Ct.y-Ft.y)),Sn=a[0],fn=a[1],Xe=a[2],Ae=a[3]):(M=qs(e,Math.min(ge.x-Ct.x,Ct.y-Ft.y)),Ae=M[0],Xe=M[1],fn=M[2],Sn=M[3]),o.isTransposed&&(Ct=h[0],ge=h[1],ne=h[2],Ft=h[3],h[0].x>h[1].x?(ge=h[0],Ct=h[1],Ft=h[2],ne=h[3],N=qs(e,Math.min(ge.x-Ct.x,Ct.y-Ft.y)),Ae=N[0],Sn=N[1],fn=N[2],Xe=N[3]):(ot=qs(e,Math.min(ge.x-Ct.x,Ct.y-Ft.y)),Xe=ot[0],fn=ot[1],Sn=ot[2],Ae=ot[3]));var nr=[];return nr.push(["M",Ft.x,Ft.y+Ae]),Ae!==0&&nr.push(["A",Ae,Ae,0,0,1,Ft.x+Ae,Ft.y]),nr.push(["L",ne.x-Xe,ne.y]),Xe!==0&&nr.push(["A",Xe,Xe,0,0,1,ne.x,ne.y+Xe]),nr.push(["L",ge.x,ge.y-fn]),fn!==0&&nr.push(["A",fn,fn,0,0,1,ge.x-fn,ge.y]),nr.push(["L",Ct.x+Sn,Ct.y]),Sn!==0&&nr.push(["A",Sn,Sn,0,0,1,Ct.x,Ct.y-Sn]),nr.push(["L",Ft.x,Ft.y+Ae]),nr.push(["z"]),nr}var cl=mo("interval",{defaultShapeType:"rect",getDefaultPoints:function(o){return Fu(o)}});ia("interval","rect",{draw:function(o,e){var a=Za(o,!1,!0),M=e,N=o==null?void 0:o.background;if(N){M=e.addGroup();var ot=Ao(o),Ct=vc(o,this.parsePoints(o.points),this.coordinate);M.addShape("path",{attrs:Object(Y.a)(Object(Y.a)({},ot),{path:Ct}),zIndex:-1,name:Xa})}var Ft;a.radius&&this.coordinate.isRect?Ft=tu(this.parsePoints(o.points),this.coordinate,a.radius):Ft=this.parsePath(ul(o.points,a.lineCap,this.coordinate));var ne=M.addShape("path",{attrs:Object(Y.a)(Object(Y.a)({},a),{path:Ft}),name:"interval"});return N?M:ne},getMarker:function(o){var e=o.color,a=o.isInPolar;return a?{symbol:"circle",style:{r:4.5,fill:e}}:{symbol:"square",style:{r:4,fill:e}}}});var xh=cl;function ll(h,o){var e=h.length,a=h;Object(i.isString)(a[0])&&(a=h.map(function(Ct){return o.translate(Ct)}));for(var M=a[1]-a[0],N=2;N<e;N++){var ot=a[N]-a[N-1];M>ot&&(M=ot)}return M}function fl(h,o){if(o){var e=Object(i.flatten)(h),a=Object(i.valuesOfKey)(e,o);return a.length}return h.length}function gc(h){var o=h.theme,e=h.coordinate,a=h.getXScale(),M=a.values,N=h.beforeMappingData,ot=M.length,Ct=rr(h.coordinate),Ft=h.intervalPadding,ne=h.dodgePadding,ge=h.maxColumnWidth||o.maxColumnWidth,be=h.minColumnWidth||o.minColumnWidth,Ae=h.columnWidthRatio||o.columnWidthRatio,Xe=h.multiplePieWidthRatio||o.multiplePieWidthRatio,fn=h.roseWidthRatio||o.roseWidthRatio;if(a.isLinear&&M.length>1){M.sort();var Sn=ll(M,a);ot=(a.max-a.min)/Sn,M.length>ot&&(ot=M.length)}var nr=a.range,ar=1/ot,Sr=1;if(e.isPolar?e.isTransposed&&ot>1?Sr=Xe:Sr=fn:(a.isLinear&&(ar*=nr[1]-nr[0]),Sr=Ae),!Object(i.isNil)(Ft)&&Ft>=0){var Mr=Ft/Ct;ar=(1-(ot-1)*Mr)/ot}else ar*=Sr;if(h.getAdjust("dodge")){var qr=h.getAdjust("dodge"),oi=qr.dodgeBy,ai=fl(N,oi);if(!Object(i.isNil)(ne)&&ne>=0){var aa=ne/Ct;ar=(ar-aa*(ai-1))/ai}else!Object(i.isNil)(Ft)&&Ft>=0&&(ar*=Sr),ar=ar/ai;ar=ar>=0?ar:0}if(!Object(i.isNil)(ge)&&ge>=0){var Ji=ge/Ct;ar>Ji&&(ar=Ji)}if(!Object(i.isNil)(be)&&be>=0){var _i=be/Ct;ar<_i&&(ar=_i)}return ar}var hl=function(h){Object(Y.b)(o,h);function o(e){var a=h.call(this,e)||this;a.type="interval",a.shapeType="interval",a.generatePoints=!0;var M=e.background;return a.background=M,a}return o.prototype.createShapePointsCfg=function(e){var a=h.prototype.createShapePointsCfg.call(this,e),M,N=this.getAttribute("size");if(N){M=this.getAttributeValues(N,e)[0];var ot=this.coordinate,Ct=rr(ot);M=M/Ct}else this.defaultSize||(this.defaultSize=gc(this)),M=this.defaultSize;return a.size=M,a},o.prototype.adjustScale=function(){h.prototype.adjustScale.call(this);var e=this.getYScale();if(this.coordinate.type==="theta")e.change({nice:!1,min:0,max:Math.max(Math.max.apply(null,e.values),e.max)});else{var a=this.scaleDefs,M=e.field,N=e.min,ot=e.max,Ct=e.type;Ct!=="time"&&(N>0&&!Object(i.get)(a,[M,"min"])&&e.change({min:0}),ot<=0&&!Object(i.get)(a,[M,"max"])&&e.change({max:0}))}},o.prototype.getDrawCfg=function(e){var a=h.prototype.getDrawCfg.call(this,e);return a.background=this.background,a},o}(Da),eu=hl,Uu=function(h){Object(Y.b)(o,h);function o(e){var a=h.call(this,e)||this;a.type="line";var M=e.sortable,N=M===void 0?!1:M;return a.sortable=N,a}return o}(_s),mc=Uu,yc=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],dl=["cross","tick","plus","hyphen","line"];function zu(h,o,e,a,M){var N=Za(o,M,!M,"r"),ot=h.parsePoints(o.points),Ct=ot[0];if(o.isStack)Ct=ot[1];else if(ot.length>1){for(var Ft=e.addGroup(),ne=0,ge=ot;ne<ge.length;ne++){var be=ge[ne];Ft.addShape({type:"marker",attrs:Object(Y.a)(Object(Y.a)(Object(Y.a)({},N),{symbol:vn[a]||a}),be)})}return Ft}return e.addShape({type:"marker",attrs:Object(Y.a)(Object(Y.a)(Object(Y.a)({},N),{symbol:vn[a]||a}),Ct)})}var vl=mo("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(o){return $a(o)}});Object(i.each)(yc,function(h){ia("point","hollow-"+h,{draw:function(e,a){return zu(this,e,a,h,!0)},getMarker:function(e){var a=e.color;return{symbol:vn[h]||h,style:{r:4.5,stroke:a,fill:null}}}})});var Oh=vl,pl=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.type="point",e.shapeType="point",e.generatePoints=!0,e}return o.prototype.getDrawCfg=function(e){var a=h.prototype.getDrawCfg.call(this,e);return Object(Y.a)(Object(Y.a)({},a),{isStack:!!this.getAdjust("stack")})},o}(Da),gl=pl;function ml(h){for(var o=h[0],e=1,a=[["M",o.x,o.y]];e<h.length;){var M=h[e];(M.x!==h[e-1].x||M.y!==h[e-1].y)&&(a.push(["L",M.x,M.y]),M.x===o.x&&M.y===o.y&&e<h.length-1&&(o=h[e+1],a.push(["Z"]),a.push(["M",o.x,o.y]),e++)),e++}return Object(i.isEqual)(Object(i.last)(a),o)||a.push(["L",o.x,o.y]),a.push(["Z"]),a}var nu=mo("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(o){var e=[];return Object(i.each)(o.x,function(a,M){var N=o.y[M];e.push({x:a,y:N})}),e}});ia("polygon","polygon",{draw:function(o,e){if(!Object(i.isEmpty)(o.points)){var a=Za(o,!0,!0),M=this.parsePath(ml(o.points));return e.addShape("path",{attrs:Object(Y.a)(Object(Y.a)({},a),{path:M}),name:"polygon"})}},getMarker:function(o){var e=o.color;return{symbol:"square",style:{r:4,fill:e}}}});var Sh=nu,yl=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.type="polygon",e.shapeType="polygon",e.generatePoints=!0,e}return o.prototype.createShapePointsCfg=function(e){var a=h.prototype.createShapePointsCfg.call(this,e),M=a.x,N=a.y,ot;if(!(Object(i.isArray)(M)&&Object(i.isArray)(N))){var Ct=this.getXScale(),Ft=this.getYScale(),ne=Ct.values.length,ge=Ft.values.length,be=.5*1/ne,Ae=.5*1/ge;Ct.isCategory&&Ft.isCategory?(M=[M-be,M-be,M+be,M+be],N=[N-Ae,N+Ae,N+Ae,N-Ae]):Object(i.isArray)(M)?(ot=M,M=[ot[0],ot[0],ot[1],ot[1]],N=[N-Ae/2,N+Ae/2,N+Ae/2,N-Ae/2]):Object(i.isArray)(N)&&(ot=N,N=[ot[0],ot[1],ot[1],ot[0]],M=[M-be/2,M-be/2,M+be/2,M+be/2]),a.x=M,a.y=N}return a},o}(Da),bl=yl,xl=mo("schema",{defaultShapeType:""}),jd=xl,Ol=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.type="schema",e.shapeType="schema",e.generatePoints=!0,e}return o.prototype.createShapePointsCfg=function(e){var a=h.prototype.createShapePointsCfg.call(this,e),M,N=this.getAttribute("size");if(N){M=this.getAttributeValues(N,e)[0];var ot=this.coordinate,Ct=rr(ot);M=M/Ct}else this.defaultSize||(this.defaultSize=gc(this)),M=this.defaultSize;return a.size=M,a},o}(Da),bc=Ol;ia("area","line",{draw:function(o,e){var a=Bu(o,!0,!1,this),M=e.addShape({type:"path",attrs:a,name:"area"});return M},getMarker:function(o){var e=o.color;return{symbol:function(M,N,ot){return ot===void 0&&(ot=5.5),[["M",M-ot,N-4],["L",M+ot,N-4],["L",M+ot,N+4],["L",M-ot,N+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}}),ia("area","smooth",{draw:function(o,e){var a=this.coordinate,M=Bu(o,!1,!0,this,du(a)),N=e.addShape({type:"path",attrs:M,name:"area"});return N},getMarker:function(o){var e=o.color;return{symbol:function(M,N,ot){return ot===void 0&&(ot=5.5),[["M",M-ot,N-4],["L",M+ot,N-4],["L",M+ot,N+4],["L",M-ot,N+4],["Z"]]},style:{r:5,fill:e}}}}),ia("area","smooth-line",{draw:function(o,e){var a=this.coordinate,M=Bu(o,!0,!0,this,du(a)),N=e.addShape({type:"path",attrs:M,name:"area"});return N},getMarker:function(o){var e=o.color;return{symbol:function(M,N,ot){return ot===void 0&&(ot=5.5),[["M",M-ot,N-4],["L",M+ot,N-4],["L",M+ot,N+4],["L",M-ot,N+4],["Z"]]},style:{r:5,stroke:e,fill:null}}}});function xc(h,o){return["C",h.x*1/2+o.x*1/2,h.y,h.x*1/2+o.x*1/2,o.y,o.x,o.y]}function Oc(h,o){var e=[];e.push({x:o.x,y:o.y}),e.push(h);var a=["Q"];return Object(i.each)(e,function(M){a.push(M.x,M.y)}),a}function Sl(h,o,e){var a=Oc(o,e),M=[["M",h.x,h.y]];return M.push(a),M}function El(h,o){var e=Oc(h[1],o),a=Oc(h[3],o),M=[["M",h[0].x,h[0].y]];return M.push(a),M.push(["L",h[3].x,h[3].y]),M.push(["L",h[2].x,h[2].y]),M.push(e),M.push(["L",h[1].x,h[1].y]),M.push(["L",h[0].x,h[0].y]),M.push(["Z"]),M}ia("edge","arc",{draw:function(o,e){var a=Za(o,!0,!1,"lineWidth"),M=o.points,N=M.length>2?"weight":"normal",ot;if(o.isInCircle){var Ct={x:0,y:1};return N==="normal"?ot=Sl(M[0],M[1],Ct):(a.fill=a.stroke,ot=El(M,Ct)),ot=this.parsePath(ot),e.addShape("path",{attrs:Object(Y.a)(Object(Y.a)({},a),{path:ot})})}else{if(N==="normal")return M=this.parsePoints(M),ot=vo((M[1].x+M[0].x)/2,M[0].y,Math.abs(M[1].x-M[0].x)/2,Math.PI,Math.PI*2),e.addShape("path",{attrs:Object(Y.a)(Object(Y.a)({},a),{path:ot})});var Ft=xc(M[1],M[3]),ne=xc(M[2],M[0]);return ot=[["M",M[0].x,M[0].y],["L",M[1].x,M[1].y],Ft,["L",M[3].x,M[3].y],["L",M[2].x,M[2].y],ne,["Z"]],ot=this.parsePath(ot),a.fill=a.stroke,e.addShape("path",{attrs:Object(Y.a)(Object(Y.a)({},a),{path:ot})})}},getMarker:function(o){return{symbol:"circle",style:{r:4.5,fill:o.color}}}});function wl(h,o){var e=xc(h,o),a=[["M",h.x,h.y]];return a.push(e),a}ia("edge","smooth",{draw:function(o,e){var a=Za(o,!0,!1,"lineWidth"),M=o.points,N=this.parsePath(wl(M[0],M[1]));return e.addShape("path",{attrs:Object(Y.a)(Object(Y.a)({},a),{path:N})})},getMarker:function(o){return{symbol:"circle",style:{r:4.5,fill:o.color}}}});var vu=1/3;function Cl(h,o){var e=[];e.push({x:h.x,y:h.y*(1-vu)+o.y*vu}),e.push({x:o.x,y:h.y*(1-vu)+o.y*vu}),e.push(o);var a=[["M",h.x,h.y]];return Object(i.each)(e,function(M){a.push(["L",M.x,M.y])}),a}ia("edge","vhv",{draw:function(o,e){var a=Za(o,!0,!1,"lineWidth"),M=o.points,N=this.parsePath(Cl(M[0],M[1]));return e.addShape("path",{attrs:Object(Y.a)(Object(Y.a)({},a),{path:N})})},getMarker:function(o){return{symbol:"circle",style:{r:4.5,fill:o.color}}}}),ia("interval","funnel",{getPoints:function(o){return o.size=o.size*2,Fu(o)},draw:function(o,e){var a=Za(o,!1,!0),M=this.parsePath(pc(o.points,o.nextPoints,!1)),N=e.addShape("path",{attrs:Object(Y.a)(Object(Y.a)({},a),{path:M}),name:"interval"});return N},getMarker:function(o){var e=o.color;return{symbol:"square",style:{r:4,fill:e}}}}),ia("interval","hollow-rect",{draw:function(o,e){var a=Za(o,!0,!1),M=e,N=o==null?void 0:o.background;if(N){M=e.addGroup();var ot=Ao(o),Ct=vc(o,this.parsePoints(o.points),this.coordinate);M.addShape("path",{attrs:Object(Y.a)(Object(Y.a)({},ot),{path:Ct}),zIndex:-1,name:Xa})}var Ft=this.parsePath(Gu(o.points)),ne=M.addShape("path",{attrs:Object(Y.a)(Object(Y.a)({},a),{path:Ft}),name:"interval"});return N?M:ne},getMarker:function(o){var e=o.color,a=o.isInPolar;return a?{symbol:"circle",style:{r:4.5,stroke:e,fill:null}}:{symbol:"square",style:{r:4,stroke:e,fill:null}}}});function pu(h){var o=h.x,e=h.y,a=h.y0;return Object(i.isArray)(e)?e.map(function(M,N){return{x:Object(i.isArray)(o)?o[N]:o,y:M}}):[{x:o,y:a},{x:o,y:e}]}ia("interval","line",{getPoints:function(o){return pu(o)},draw:function(o,e){var a=Za(o,!0,!1,"lineWidth"),M=te(Object(Y.a)({},a),["fill"]),N=this.parsePath(Gu(o.points,!1)),ot=e.addShape("path",{attrs:Object(Y.a)(Object(Y.a)({},M),{path:N}),name:"interval"});return ot},getMarker:function(o){var e=o.color;return{symbol:function(M,N,ot){return[["M",M,N-ot],["L",M,N+ot]]},style:{r:5,stroke:e}}}}),ia("interval","pyramid",{getPoints:function(o){return o.size=o.size*2,Fu(o,!0)},draw:function(o,e){var a=Za(o,!1,!0),M=this.parsePath(pc(o.points,o.nextPoints,!0)),N=e.addShape("path",{attrs:Object(Y.a)(Object(Y.a)({},a),{path:M}),name:"interval"});return N},getMarker:function(o){var e=o.color;return{symbol:"square",style:{r:4,fill:e}}}});function Ml(h){var o=h.x,e=h.y,a=h.y0,M=h.size,N,ot;Object(i.isArray)(e)?(N=e[0],ot=e[1]):(N=a,ot=e);var Ct=o+M/2,Ft=o-M/2;return[{x:o,y:N},{x:o,y:ot},{x:Ft,y:N},{x:Ct,y:N},{x:Ft,y:ot},{x:Ct,y:ot}]}function Al(h){return[["M",h[0].x,h[0].y],["L",h[1].x,h[1].y],["M",h[2].x,h[2].y],["L",h[3].x,h[3].y],["M",h[4].x,h[4].y],["L",h[5].x,h[5].y]]}ia("interval","tick",{getPoints:function(o){return Ml(o)},draw:function(o,e){var a=Za(o,!0,!1),M=this.parsePath(Al(o.points)),N=e.addShape("path",{attrs:Object(Y.a)(Object(Y.a)({},a),{path:M}),name:"interval"});return N},getMarker:function(o){var e=o.color;return{symbol:function(M,N,ot){return[["M",M-ot/2,N-ot],["L",M+ot/2,N-ot],["M",M,N-ot],["L",M,N+ot],["M",M-ot/2,N+ot],["L",M+ot/2,N+ot]]},style:{r:5,stroke:e}}}});var Tl=function(o,e,a){var M=o.x,N=o.y,ot=e.x,Ct=e.y,Ft;switch(a){case"hv":Ft=[{x:ot,y:N}];break;case"vh":Ft=[{x:M,y:Ct}];break;case"hvh":var ne=(ot+M)/2;Ft=[{x:ne,y:N},{x:ne,y:Ct}];break;case"vhv":var ge=(N+Ct)/2;Ft=[{x:M,y:ge},{x:ot,y:ge}];break;default:break}return Ft};function Eh(h,o){var e=[];return Object(i.each)(h,function(a,M){var N=h[M+1];if(e.push(a),N){var ot=Tl(a,N,o);e=e.concat(ot)}}),e}function wh(h){return h.map(function(o,e){return e===0?["M",o.x,o.y]:["L",o.x,o.y]})}function Ch(h,o){var e=Ro(h.points,h.connectNulls,h.showSinglePoint),a=[];return Object(i.each)(e,function(M){var N=Eh(M,o);a=a.concat(wh(N))}),Object(Y.a)(Object(Y.a)({},Za(h,!0,!1,"lineWidth")),{path:a})}Object(i.each)(["hv","vh","hvh","vhv"],function(h){ia("line",h,{draw:function(e,a){var M=Ch(e,h),N=a.addShape({type:"path",attrs:M,name:"line"});return N},getMarker:function(e){return ba(e,h)}})}),Object(i.each)(dl,function(h){ia("point",h,{draw:function(e,a){return zu(this,e,a,h,!0)},getMarker:function(e){var a=e.color;return{symbol:vn[h],style:{r:4.5,stroke:a,fill:null}}}})}),ia("point","image",{draw:function(o,e){var a=Za(o,!1,!1,"r").r,M=this.parsePoints(o.points),N=M[0];if(o.isStack)N=M[1];else if(M.length>1){for(var ot=e.addGroup(),Ct=0,Ft=M;Ct<Ft.length;Ct++){var ne=Ft[Ct];ot.addShape("image",{attrs:{x:ne.x-a/2,y:ne.y-a,width:a,height:a,img:o.shape[1]}})}return ot}return e.addShape("image",{attrs:{x:N.x-a/2,y:N.y-a,width:a,height:a,img:o.shape[1]}})},getMarker:function(o){var e=o.color;return{symbol:"circle",style:{r:4.5,fill:e}}}}),Object(i.each)(yc,function(h){ia("point",h,{draw:function(e,a){return zu(this,e,a,h,!1)},getMarker:function(e){var a=e.color;return{symbol:vn[h]||h,style:{r:4.5,fill:a}}}})});function Sc(h){var o=Object(i.isArray)(h)?h:[h],e=o[0],a=o[o.length-1],M=o.length>1?o[1]:e,N=o.length>3?o[3]:a,ot=o.length>2?o[2]:M;return{min:e,max:a,min1:M,max1:N,median:ot}}function Ec(h,o,e){var a=e/2,M;if(Object(i.isArray)(o)){var N=Sc(o),ot=N.min,Ct=N.max,Ft=N.median,ne=N.min1,ge=N.max1,be=h-a,Ae=h+a;M=[[be,Ct],[Ae,Ct],[h,Ct],[h,ge],[be,ne],[be,ge],[Ae,ge],[Ae,ne],[h,ne],[h,ot],[be,ot],[Ae,ot],[be,Ft],[Ae,Ft]]}else{o=Object(i.isNil)(o)?.5:o;var Xe=Sc(h),ot=Xe.min,Ct=Xe.max,Ft=Xe.median,ne=Xe.min1,ge=Xe.max1,fn=o-a,Sn=o+a;M=[[ot,fn],[ot,Sn],[ot,o],[ne,o],[ne,fn],[ne,Sn],[ge,Sn],[ge,fn],[ge,o],[Ct,o],[Ct,fn],[Ct,Sn],[Ft,fn],[Ft,Sn]]}return M.map(function(nr){return{x:nr[0],y:nr[1]}})}function jl(h){return[["M",h[0].x,h[0].y],["L",h[1].x,h[1].y],["M",h[2].x,h[2].y],["L",h[3].x,h[3].y],["M",h[4].x,h[4].y],["L",h[5].x,h[5].y],["L",h[6].x,h[6].y],["L",h[7].x,h[7].y],["L",h[4].x,h[4].y],["Z"],["M",h[8].x,h[8].y],["L",h[9].x,h[9].y],["M",h[10].x,h[10].y],["L",h[11].x,h[11].y],["M",h[12].x,h[12].y],["L",h[13].x,h[13].y]]}ia("schema","box",{getPoints:function(o){var e=o.x,a=o.y,M=o.size;return Ec(e,a,M)},draw:function(o,e){var a=Za(o,!0,!1),M=this.parsePath(jl(o.points)),N=e.addShape("path",{attrs:Object(Y.a)(Object(Y.a)({},a),{path:M,name:"schema"})});return N},getMarker:function(o){var e=o.color;return{symbol:function(M,N,ot){var Ct=[N-6,N-3,N,N+3,N+6],Ft=Ec(M,Ct,ot);return[["M",Ft[0].x+1,Ft[0].y],["L",Ft[1].x-1,Ft[1].y],["M",Ft[2].x,Ft[2].y],["L",Ft[3].x,Ft[3].y],["M",Ft[4].x,Ft[4].y],["L",Ft[5].x,Ft[5].y],["L",Ft[6].x,Ft[6].y],["L",Ft[7].x,Ft[7].y],["L",Ft[4].x,Ft[4].y],["Z"],["M",Ft[8].x,Ft[8].y],["L",Ft[9].x,Ft[9].y],["M",Ft[10].x+1,Ft[10].y],["L",Ft[11].x-1,Ft[11].y],["M",Ft[12].x,Ft[12].y],["L",Ft[13].x,Ft[13].y]]},style:{r:6,lineWidth:1,stroke:e}}}});function Il(h){var o=Object(i.isArray)(h)?h:[h],e=o.sort(function(a,M){return M-a});return Kt(e,4,e[e.length-1])}function _u(h,o,e){var a=Il(o);return[{x:h,y:a[0]},{x:h,y:a[1]},{x:h-e/2,y:a[2]},{x:h-e/2,y:a[1]},{x:h+e/2,y:a[1]},{x:h+e/2,y:a[2]},{x:h,y:a[2]},{x:h,y:a[3]}]}function Pl(h){return[["M",h[0].x,h[0].y],["L",h[1].x,h[1].y],["M",h[2].x,h[2].y],["L",h[3].x,h[3].y],["L",h[4].x,h[4].y],["L",h[5].x,h[5].y],["Z"],["M",h[6].x,h[6].y],["L",h[7].x,h[7].y]]}ia("schema","candle",{getPoints:function(o){var e=o.x,a=o.y,M=o.size;return _u(e,a,M)},draw:function(o,e){var a=Za(o,!0,!0),M=this.parsePath(Pl(o.points)),N=e.addShape("path",{attrs:Object(Y.a)(Object(Y.a)({},a),{path:M,name:"schema"})});return N},getMarker:function(o){var e=o.color;return{symbol:function(M,N,ot){var Ct=[N+7.5,N+3,N-3,N-7.5],Ft=_u(M,Ct,ot);return[["M",Ft[0].x,Ft[0].y],["L",Ft[1].x,Ft[1].y],["M",Ft[2].x,Ft[2].y],["L",Ft[3].x,Ft[3].y],["L",Ft[4].x,Ft[4].y],["L",Ft[5].x,Ft[5].y],["Z"],["M",Ft[6].x,Ft[6].y],["L",Ft[7].x,Ft[7].y]]},style:{lineWidth:1,stroke:e,fill:e,r:6}}}});function Dl(h,o){var e=Math.abs(h[0].x-h[2].x),a=Math.abs(h[0].y-h[2].y),M=Math.min(e,a);o&&(M=Object(i.clamp)(o,0,Math.min(e,a))),M=M/2;var N=(h[0].x+h[2].x)/2,ot=(h[0].y+h[2].y)/2;return{x:N-M,y:ot-M,width:M*2,height:M*2}}ia("polygon","square",{draw:function(o,e){if(!Object(i.isEmpty)(o.points)){var a=Za(o,!0,!0),M=this.parsePoints(o.points);return e.addShape("rect",{attrs:Object(Y.a)(Object(Y.a)({},a),Dl(M,o.size)),name:"polygon"})}},getMarker:function(o){var e=o.color;return{symbol:"square",style:{r:4,fill:e}}}});var Mh=function(h){Object(Y.b)(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}return o.prototype.getLabelValueDir=function(e){var a="y",M=e.points;return M[0][a]<=M[2][a]?1:-1},o.prototype.getLabelOffsetPoint=function(e,a,M){var N,ot=h.prototype.getLabelOffsetPoint.call(this,e,a,M),Ct=this.getCoordinate().isTransposed,Ft=Ct?"x":"y",ne=this.getLabelValueDir(e.mappingData);return Object(Y.a)(Object(Y.a)({},ot),(N={},N[Ft]=ot[Ft]*ne,N))},o.prototype.getThemedLabelCfg=function(e){var a=this.geometry,M=this.getDefaultLabelCfg(),N=a.theme;return Object(i.deepMix)({},M,N.labels,e.position==="middle"?{offset:0}:{},e)},o.prototype.setLabelPosition=function(e,a,M,N){var ot=this.getCoordinate(),Ct=ot.isTransposed,Ft=a.points,ne=ot.convert(Ft[0]),ge=ot.convert(Ft[2]),be=this.getLabelValueDir(a),Ae,Xe,fn,Sn,nr=Object(i.isArray)(a.shape)?a.shape[0]:a.shape;if(nr==="funnel"||nr==="pyramid"){var ar=Object(i.get)(a,"nextPoints"),Sr=Object(i.get)(a,"points");if(ar){var Mr=ot.convert(Sr[0]),qr=ot.convert(Sr[1]),oi=ot.convert(ar[0]),ai=ot.convert(ar[1]);Ct?(Ae=Math.min(oi.y,Mr.y),fn=Math.max(oi.y,Mr.y),Xe=(qr.x+ai.x)/2,Sn=(Mr.x+oi.x)/2):(Ae=Math.min((qr.y+ai.y)/2,(Mr.y+oi.y)/2),fn=Math.max((qr.y+ai.y)/2,(Mr.y+oi.y)/2),Xe=ai.x,Sn=Mr.x)}else Ae=Math.min(ge.y,ne.y),fn=Math.max(ge.y,ne.y),Xe=ge.x,Sn=ne.x}else Ae=Math.min(ge.y,ne.y),fn=Math.max(ge.y,ne.y),Xe=ge.x,Sn=ne.x;switch(N){case"right":e.x=Xe,e.y=(Ae+fn)/2,e.textAlign=Object(i.get)(e,"textAlign",be>0?"left":"right");break;case"left":e.x=Sn,e.y=(Ae+fn)/2,e.textAlign=Object(i.get)(e,"textAlign",be>0?"left":"right");break;case"bottom":Ct&&(e.x=(Xe+Sn)/2),e.y=fn,e.textAlign=Object(i.get)(e,"textAlign","center"),e.textBaseline=Object(i.get)(e,"textBaseline",be>0?"bottom":"top");break;case"middle":Ct&&(e.x=(Xe+Sn)/2),e.y=(Ae+fn)/2,e.textAlign=Object(i.get)(e,"textAlign","center"),e.textBaseline=Object(i.get)(e,"textBaseline","middle");break;case"top":Ct&&(e.x=(Xe+Sn)/2),e.y=Ae,e.textAlign=Object(i.get)(e,"textAlign","center"),e.textBaseline=Object(i.get)(e,"textBaseline",be>0?"bottom":"top");break;default:break}},o}(Ge),Ah=Mh,Vu=Math.PI/2,Th=function(h){Object(Y.b)(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}return o.prototype.getLabelOffset=function(e){var a=this.getCoordinate(),M=0;if(Object(i.isNumber)(e))M=e;else if(Object(i.isString)(e)&&e.indexOf("%")!==-1){var N=a.getRadius();a.innerRadius>0&&(N=N*(1-a.innerRadius)),M=parseFloat(e)*.01*N}return M},o.prototype.getLabelItems=function(e){var a=h.prototype.getLabelItems.call(this,e),M=this.geometry.getYScale();return Object(i.map)(a,function(N){if(N&&M){var ot=M.scale(Object(i.get)(N.data,M.field));return Object(Y.a)(Object(Y.a)({},N),{percent:ot})}return N})},o.prototype.getLabelAlign=function(e){var a=this.getCoordinate(),M;if(e.labelEmit)M=e.angle<=Math.PI/2&&e.angle>=-Math.PI/2?"left":"right";else if(!a.isTransposed)M="center";else{var N=a.getCenter(),ot=e.offset;Math.abs(e.x-N.x)<1?M="center":e.angle>Math.PI||e.angle<=0?M=ot>0?"left":"right":M=ot>0?"right":"left"}return M},o.prototype.getLabelPoint=function(e,a,M){var N=1,ot,Ct=e.content[M];this.isToMiddle(a)?ot=this.getMiddlePoint(a.points):(e.content.length===1&&M===0?M=1:M===0&&(N=-1),ot=this.getArcPoint(a,M));var Ft=e.offset*N,ne=this.getPointAngle(ot),ge=e.labelEmit,be=this.getCirclePoint(ne,Ft,ot,ge);return be.r===0?be.content="":(be.content=Ct,be.angle=ne,be.color=a.color),be.rotate=e.autoRotate?this.getLabelRotate(ne,Ft,ge):e.rotate,be.start={x:ot.x,y:ot.y},be},o.prototype.getArcPoint=function(e,a){return a===void 0&&(a=0),!Object(i.isArray)(e.x)&&!Object(i.isArray)(e.y)?{x:e.x,y:e.y}:{x:Object(i.isArray)(e.x)?e.x[a]:e.x,y:Object(i.isArray)(e.y)?e.y[a]:e.y}},o.prototype.getPointAngle=function(e){return ur(this.getCoordinate(),e)},o.prototype.getCirclePoint=function(e,a,M,N){var ot=this.getCoordinate(),Ct=ot.getCenter(),Ft=sn(ot,M);if(Ft===0)return Object(Y.a)(Object(Y.a)({},Ct),{r:Ft});var ne=e;if(ot.isTransposed&&Ft>a&&!N){var ge=Math.asin(a/(2*Ft));ne=e+ge*2}else Ft=Ft+a;return{x:Ct.x+Ft*Math.cos(ne),y:Ct.y+Ft*Math.sin(ne),r:Ft}},o.prototype.getLabelRotate=function(e,a,M){var N=e+Vu;return M&&(N-=Vu),N&&(N>Vu?N=N-Math.PI:N<-Vu&&(N=N+Math.PI)),N},o.prototype.getMiddlePoint=function(e){var a=this.getCoordinate(),M=e.length,N={x:0,y:0};return Object(i.each)(e,function(ot){N.x+=ot.x,N.y+=ot.y}),N.x/=M,N.y/=M,N=a.convert(N),N},o.prototype.isToMiddle=function(e){return e.x.length>2},o}(Ge),wc=Th,Rl=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.defaultLayout="distribute",e}return o.prototype.getDefaultLabelCfg=function(e,a){var M=h.prototype.getDefaultLabelCfg.call(this,e,a);return Object(i.deepMix)({},M,Object(i.get)(this.geometry.theme,"pieLabels",{}))},o.prototype.getLabelOffset=function(e){return h.prototype.getLabelOffset.call(this,e)||0},o.prototype.getLabelRotate=function(e,a,M){var N;return a<0&&(N=e,N>Math.PI/2&&(N=N-Math.PI),N<-Math.PI/2&&(N=N+Math.PI)),N},o.prototype.getLabelAlign=function(e){var a=this.getCoordinate(),M=a.getCenter(),N;return e.angle<=Math.PI/2&&e.x>=M.x?N="left":N="right",e.offset<=0&&(N==="right"?N="left":N="right"),N},o.prototype.getArcPoint=function(e){return e},o.prototype.getPointAngle=function(e){var a=this.getCoordinate(),M={x:Object(i.isArray)(e.x)?e.x[0]:e.x,y:e.y[0]},N={x:Object(i.isArray)(e.x)?e.x[1]:e.x,y:e.y[1]},ot,Ct=ur(a,M);if(e.points&&e.points[0].y===e.points[1].y)ot=Ct;else{var Ft=ur(a,N);Ct>=Ft&&(Ft=Ft+Math.PI*2),ot=Ct+(Ft-Ct)/2}return ot},o.prototype.getCirclePoint=function(e,a){var M=this.getCoordinate(),N=M.getCenter(),ot=M.getRadius()+a;return Object(Y.a)(Object(Y.a)({},Qi(N.x,N.y,ot,e)),{angle:e,r:ot})},o}(wc),jh=Rl,kl=4;function Ih(h,o,e,a,M,N){var ot=!0,Ct=a.start,Ft=a.end,ne=Math.min(Ct.y,Ft.y),ge=Math.abs(Ct.y-Ft.y),be,Ae=0,Xe=Number.MIN_VALUE,fn=o.map(function(oi){return oi.y>Ae&&(Ae=oi.y),oi.y<Xe&&(Xe=oi.y),{size:e,targets:[oi.y-ne]}});for(Xe-=ne,Ae-ne>ge&&(ge=Ae-ne);ot;)for(fn.forEach(function(oi){var ai=(Math.min.apply(Xe,oi.targets)+Math.max.apply(Xe,oi.targets))/2;oi.pos=Math.min(Math.max(Xe,ai-oi.size/2),ge-oi.size)}),ot=!1,be=fn.length;be--;)if(be>0){var Sn=fn[be-1],nr=fn[be];Sn.pos+Sn.size>nr.pos&&(Sn.size+=nr.size,Sn.targets=Sn.targets.concat(nr.targets),Sn.pos+Sn.size>ge&&(Sn.pos=ge-Sn.size),fn.splice(be,1),ot=!0)}be=0,fn.forEach(function(oi){var ai=ne+e/2;oi.targets.forEach(function(){o[be].y=oi.pos+ai,ai+=e,be++})});for(var ar={},Sr=0,Mr=h;Sr<Mr.length;Sr++){var qr=Mr[Sr];ar[qr.get("id")]=qr}o.forEach(function(oi){var ai=oi.r*oi.r,aa=Math.pow(Math.abs(oi.y-M.y),2);if(ai<aa)oi.x=M.x;else{var Ji=Math.sqrt(ai-aa);N?oi.x=M.x+Ji:oi.x=M.x-Ji}var _i=ar[oi.id];_i.attr("x",oi.x),_i.attr("y",oi.y);var Ca=Object(i.find)(_i.getChildren(),function(io){return io.get("type")==="text"});Ca&&(Ca.attr("y",oi.y),Ca.attr("x",oi.x))})}function Ph(h,o,e,a){if(!(!h.length||!o.length)){var M=h[0]?h[0].offset:0,N=o[0].get("coordinate"),ot=N.getRadius(),Ct=N.getCenter();if(M>0){var Ft=14,ne=ot+M,ge=ne*2+Ft*2,be={start:N.start,end:N.end},Ae=[[],[]];h.forEach(function(Xe){!Xe||(Xe.textAlign==="right"?Ae[0].push(Xe):Ae[1].push(Xe))}),Ae.forEach(function(Xe,fn){var Sn=ge/Ft;Xe.length>Sn&&(Xe.sort(function(nr,ar){return ar["..percent"]-nr["..percent"]}),Xe.splice(Sn,Xe.length-Sn)),Xe.sort(function(nr,ar){return nr.y-ar.y}),Ih(o,Xe,Ft,be,Ct,fn)})}Object(i.each)(h,function(Xe){if(Xe&&Xe.labelLine){var fn=Xe.offset,Sn=Xe.angle,nr=Qi(Ct.x,Ct.y,ot,Sn),ar=Qi(Ct.x,Ct.y,ot+fn/2,Sn),Sr=Xe.x+Object(i.get)(Xe,"offsetX",0),Mr=Xe.y+Object(i.get)(Xe,"offsetY",0),qr={x:Sr-Math.cos(Sn)*kl,y:Mr-Math.sin(Sn)*kl};Object(i.isObject)(Xe.labelLine)||(Xe.labelLine={}),Xe.labelLine.path=["M "+nr.x,nr.y+" Q"+ar.x,ar.y+" "+qr.x,qr.y].join(",")}})}}function Nl(h,o,e){var a=h.filter(function(fn){return!fn.invisible});a.sort(function(fn,Sn){return fn.y-Sn.y});var M=!0,N=e.minY,ot=e.maxY,Ct=Math.abs(N-ot),Ft,ne=0,ge=Number.MIN_VALUE,be=a.map(function(fn){return fn.y>ne&&(ne=fn.y),fn.y<ge&&(ge=fn.y),{content:fn.content,size:o,targets:[fn.y-N],pos:null}});for(ge-=N,ne-N>Ct&&(Ct=ne-N);M;)for(be.forEach(function(fn){var Sn=(Math.min.apply(ge,fn.targets)+Math.max.apply(ge,fn.targets))/2;fn.pos=Math.min(Math.max(ge,Sn-fn.size/2),Ct-fn.size),fn.pos=Math.max(0,fn.pos)}),M=!1,Ft=be.length;Ft--;)if(Ft>0){var Ae=be[Ft-1],Xe=be[Ft];Ae.pos+Ae.size>Xe.pos&&(Ae.size+=Xe.size,Ae.targets=Ae.targets.concat(Xe.targets),Ae.pos+Ae.size>Ct&&(Ae.pos=Ct-Ae.size),be.splice(Ft,1),M=!0)}Ft=0,be.forEach(function(fn){var Sn=N+o/2;fn.targets.forEach(function(){a[Ft].y=fn.pos+Sn,Sn+=o,Ft++})})}var Cc=4;function Dh(h,o){var e=o.getCenter(),a=o.getRadius();if(h&&h.labelLine){var M=h.angle,N=h.offset,ot=Qi(e.x,e.y,a,M),Ct=h.x+Object(i.get)(h,"offsetX",0)*(Math.cos(M)>0?1:-1),Ft=h.y+Object(i.get)(h,"offsetY",0)*(Math.sin(M)>0?1:-1),ne={x:Ct-Math.cos(M)*Cc,y:Ft-Math.sin(M)*Cc},ge=h.labelLine.smooth,be=[],Ae=ne.x-e.x,Xe=ne.y-e.y,fn=Math.atan(Xe/Ae);if(Ae<0&&(fn+=Math.PI),ge===!1){Object(i.isObject)(h.labelLine)||(h.labelLine={});var Sn=0;(M<0&&M>-Math.PI/2||M>Math.PI*1.5)&&ne.y>ot.y&&(Sn=1),M>=0&&M<Math.PI/2&&ne.y>ot.y&&(Sn=1),M>=Math.PI/2&&M<Math.PI&&ot.y>ne.y&&(Sn=1),(M<-Math.PI/2||M>=Math.PI&&M<Math.PI*1.5)&&ot.y>ne.y&&(Sn=1);var nr=N/2>4?4:Math.max(N/2-1,0),ar=Qi(e.x,e.y,a+nr,M),Sr=Qi(e.x,e.y,a+N/2,fn),Mr=0;be.push("M "+ot.x+" "+ot.y),be.push("L "+ar.x+" "+ar.y),be.push("A "+e.x+" "+e.y+" 0 "+Mr+" "+Sn+" "+Sr.x+" "+Sr.y),be.push("L "+ne.x+" "+ne.y)}else{var ar=Qi(e.x,e.y,a+(N/2>4?4:Math.max(N/2-1,0)),M),qr=ot.x<e.x?1:-1;be.push("M "+ne.x+" "+ne.y);var oi=(ot.y-e.y)/(ot.x-e.x),ai=(ne.y-e.y)/(ne.x-e.x);Math.abs(oi-ai)>Math.pow(Math.E,-16)&&be.push.apply(be,["C",ne.x+qr*4,ne.y,2*ar.x-ot.x,2*ar.y-ot.y,ot.x,ot.y]),be.push("L "+ot.x+" "+ot.y)}h.labelLine.path=be.join(" ")}}function Ll(h,o,e,a){var M=Object(i.filter)(h,function(ai){return!Object(i.isNil)(ai)}),N=o[0]&&o[0].get("coordinate");if(!!N){for(var ot=N.getCenter(),Ct=N.getRadius(),Ft={},ne=0,ge=o;ne<ge.length;ne++){var be=ge[ne];Ft[be.get("id")]=be}var Ae=Object(i.get)(M[0],"labelHeight",14),Xe=Object(i.get)(M[0],"offset",0);if(!(Xe<=0)){var fn="left",Sn="right",nr=Object(i.groupBy)(M,function(ai){return ai.x<ot.x?fn:Sn}),ar=N.start,Sr=N.end,Mr=Math.min((Ct+Xe+Ae)*2,N.getHeight()),qr=Mr/2,oi={minX:ar.x,maxX:Sr.x,minY:ot.y-qr,maxY:ot.y+qr};Object(i.each)(nr,function(ai,aa){var Ji=Math.floor(Mr/Ae);ai.length>Ji&&(ai.sort(function(_i,Ca){return Ca.percent-_i.percent}),Object(i.each)(ai,function(_i,Ca){Ca+1>Ji&&(Ft[_i.id].set("visible",!1),_i.invisible=!0)})),Nl(ai,Ae,oi)}),Object(i.each)(nr,function(ai,aa){Object(i.each)(ai,function(Ji){var _i=aa===Sn,Ca=Ft[Ji.id],io=Ca.getChildByIndex(0);if(io){var ao=Ct+Xe,co=Ji.y-ot.y,go=Math.pow(ao,2),et=Math.pow(co,2),z=go-et>0?go-et:0,T=Math.sqrt(z),F=Math.abs(Math.cos(Ji.angle)*ao);_i?Ji.x=ot.x+Math.max(T,F):Ji.x=ot.x-Math.max(T,F)}io&&(io.attr("y",Ji.y),io.attr("x",Ji.x)),Dh(Ji,N)})})}}}var Wu=4,gu=4,Bl=4;function Rh(h,o,e){var a=o.getCenter(),M=o.getRadius(),N={x:h.x-(e?Bl:-Bl),y:h.y},ot=Qi(a.x,a.y,M+Wu,h.angle),Ct={x:N.x,y:N.y},Ft={x:ot.x,y:ot.y},ne=Qi(a.x,a.y,M,h.angle),ge="";if(N.y!==ot.y){var be=e?4:-4;Ct.y=N.y,h.angle<0&&h.angle>=-Math.PI/2&&(Ct.x=Math.max(ot.x,N.x-be),N.y<ot.y?Ft.y=Ct.y:(Ft.y=ot.y,Ft.x=Math.max(Ft.x,Ct.x-be))),h.angle>0&&h.angle<Math.PI/2&&(Ct.x=Math.max(ot.x,N.x-be),N.y>ot.y?Ft.y=Ct.y:(Ft.y=ot.y,Ft.x=Math.max(Ft.x,Ct.x-be))),h.angle>Math.PI/2&&(Ct.x=Math.min(ot.x,N.x-be),N.y>ot.y?Ft.y=Ct.y:(Ft.y=ot.y,Ft.x=Math.min(Ft.x,Ct.x-be))),h.angle<-Math.PI/2&&(Ct.x=Math.min(ot.x,N.x-be),N.y<ot.y?Ft.y=Ct.y:(Ft.y=ot.y,Ft.x=Math.min(Ft.x,Ct.x-be)))}ge=["M "+N.x+","+N.y,"L "+Ct.x+","+Ct.y,"L "+Ft.x+","+Ft.y,"L "+ot.x+","+ot.y,"L "+ne.x+","+ne.y].join(" "),h.labelLine=Object(i.deepMix)({},h.labelLine,{path:ge})}function kh(h,o,e,a){var M=o[0]&&o[0].get("coordinate");if(!!M){for(var N=M.getCenter(),ot=M.getRadius(),Ct={},Ft=0,ne=o;Ft<ne.length;Ft++){var ge=ne[Ft];Ct[ge.get("id")]=ge}var be=Object(i.get)(h[0],"labelHeight",14),Ae=Math.max(Object(i.get)(h[0],"offset",0),Wu);Object(i.each)(h,function(ai){var aa=Object(i.get)(Ct,ai.id);if(!!aa){var Ji=ai.x>N.x||ai.x===N.x&&ai.y>N.y,_i=Object(i.isNil)(ai.offsetX)?gu:ai.offsetX,Ca=Qi(N.x,N.y,ot+Wu,ai.angle),io=Ae+_i;ai.x=N.x+(Ji?1:-1)*(ot+io),ai.y=Ca.y}});var Xe=M.start,fn=M.end,Sn="left",nr="right",ar=Object(i.groupBy)(h,function(ai){return ai.x<N.x?Sn:nr}),Sr=(ot+Ae)*2+be;Object(i.each)(ar,function(ai){var aa=ai.length*be;aa>Sr&&(Sr=Math.min(aa,Math.abs(Xe.y-fn.y)))});var Mr={minX:Xe.x,maxX:fn.x,minY:N.y-Sr/2,maxY:N.y+Sr/2};Object(i.each)(ar,function(ai,aa){var Ji=Sr/be;ai.length>Ji&&(ai.sort(function(_i,Ca){return Ca.percent-_i.percent}),Object(i.each)(ai,function(_i,Ca){Ca>Ji&&(Ct[_i.id].set("visible",!1),_i.invisible=!0)})),Nl(ai,be,Mr)});var qr=Mr.minY,oi=Mr.maxY;Object(i.each)(ar,function(ai,aa){var Ji=aa===nr;Object(i.each)(ai,function(_i){var Ca=Object(i.get)(Ct,_i&&_i.id);if(!!Ca){if(_i.y<qr||_i.y>oi){Ca.set("visible",!1);return}var io=Ca.getChildByIndex(0),ao=io.getCanvasBBox(),co={x:Ji?ao.x:ao.maxX,y:ao.y+ao.height/2};Ko(io,_i.x-co.x,_i.y-co.y),_i.labelLine&&Rh(_i,M,Ji)}})})}}function us(h,o,e,a){Object(i.each)(o,function(M){var N=a.minX,ot=a.minY,Ct=a.maxX,Ft=a.maxY,ne=M.getCanvasBBox(),ge=ne.minX,be=ne.minY,Ae=ne.maxX,Xe=ne.maxY,fn=ne.x,Sn=ne.y,nr=ne.width,ar=ne.height,Sr=fn,Mr=Sn;(ge<N||Ae<N)&&(Sr=N),(be<ot||Xe<ot)&&(Mr=ot),ge>Ct?Sr=Ct-nr:Ae>Ct&&(Sr=Sr-(Ae-Ct)),be>Ft?Mr=Ft-ar:Xe>Ft&&(Mr=Mr-(Xe-Ft)),(Sr!==fn||Mr!==Sn)&&Ko(M,Sr-fn,Mr-Sn)})}function Nh(h,o,e,a){Object(i.each)(o,function(M,N){var ot=M.getCanvasBBox(),Ct=e[N].getBBox();(ot.minX<Ct.minX||ot.minY<Ct.minY||ot.maxX>Ct.maxX||ot.maxY>Ct.maxY)&&M.remove(!0)})}var Fl=100,js=function(){function h(o){o===void 0&&(o={}),this.bitmap={};var e=o.xGap,a=e===void 0?1:e,M=o.yGap,N=M===void 0?8:M;this.xGap=a,this.yGap=N}return h.prototype.hasGap=function(o){for(var e=!0,a=this.bitmap,M=Math.round(o.minX),N=Math.round(o.maxX),ot=Math.round(o.minY),Ct=Math.round(o.maxY),Ft=M;Ft<=N;Ft+=1){if(!a[Ft]){a[Ft]={};continue}if(Ft===M||Ft===N){for(var ne=ot;ne<=Ct;ne++)if(a[Ft][ne]){e=!1;break}}else if(a[Ft][ot]||a[Ft][Ct]){e=!1;break}}return e},h.prototype.fillGap=function(o){for(var e=this.bitmap,a=Math.round(o.minX),M=Math.round(o.maxX),N=Math.round(o.minY),ot=Math.round(o.maxY),Ct=a;Ct<=M;Ct+=1)e[Ct]||(e[Ct]={});for(var Ct=a;Ct<=M;Ct+=this.xGap){for(var Ft=N;Ft<=ot;Ft+=this.yGap)e[Ct][Ft]=!0;e[Ct][ot]=!0}if(this.yGap!==1)for(var Ct=N;Ct<=ot;Ct+=1)e[a][Ct]=!0,e[M][Ct]=!0;if(this.xGap!==1)for(var Ct=a;Ct<=M;Ct+=1)e[Ct][N]=!0,e[Ct][ot]=!0},h.prototype.destroy=function(){this.bitmap={}},h}();function Gl(h,o,e){e===void 0&&(e=Fl);var a=-1,M=h.attr(),N=M.x,ot=M.y,Ct=h.getCanvasBBox(),Ft=Math.sqrt(Ct.width*Ct.width+Ct.height*Ct.height),ne,ge=-a,be=0,Ae=0,Xe=function(Sr){var Mr=Sr*.1;return[Mr*Math.cos(Mr),Mr*Math.sin(Mr)]};if(o.hasGap(Ct))return o.fillGap(Ct),!0;for(var fn=!1,Sn=0,nr={};Math.min(Math.abs(be),Math.abs(Ae))<Ft&&Sn<e;)if(ne=Xe(ge+=a),be=~~ne[0],Ae=~~ne[1],!(!be&&!Ae||nr[be+"-"+Ae])&&(h.attr({x:N+be,y:ot+Ae}),be+Ae<0&&h.attr("textAlign","right"),Sn++,o.hasGap(h.getCanvasBBox()))){o.fillGap(h.getCanvasBBox()),fn=!0,nr[be+"-"+Ae]=!0;break}return fn}function Is(h,o,e,a){var M=h.getCanvasBBox(),N=M.width,ot=M.height,Ct={x:o,y:e,textAlign:"center"};switch(a){case 0:Ct.y-=ot+1,Ct.x+=1,Ct.textAlign="left";break;case 1:Ct.y-=ot+1,Ct.x-=1,Ct.textAlign="right";break;case 2:Ct.y+=ot+1,Ct.x-=1,Ct.textAlign="right";break;case 3:Ct.y+=ot+1,Ct.x+=1,Ct.textAlign="left";break;case 5:Ct.y-=ot*2+2;break;case 6:Ct.y+=ot*2+2;break;case 7:Ct.x+=N+1,Ct.textAlign="left";break;case 8:Ct.x-=N+1,Ct.textAlign="right";break;default:break}return h.attr(Ct),h.getCanvasBBox()}function mu(h,o,e,a){var M=new js;Object(i.each)(o,function(N){var ot=N.find(function(Ct){return Ct.get("type")==="text"});Gl(ot,M)||N.remove(!0)}),M.destroy()}function es(h,o,e,a){var M=new js;Object(i.each)(o,function(N){for(var ot=N.find(function(Xe){return Xe.get("type")==="text"}),Ct=ot.attr(),Ft=Ct.x,ne=Ct.y,ge=!1,be=0;be<=8;be++){var Ae=Is(ot,Ft,ne,be);if(M.hasGap(Ae)){M.fillGap(Ae),ge=!0;break}}ge||N.remove(!0)}),M.destroy()}var xs=Yr.c.dot;function Ps(h){if(h.length>4)return[];var o=function(N,ot){return[ot.x-N.x,ot.y-N.y]},e=o(h[0],h[1]),a=o(h[1],h[2]);return[e,a]}function yu(h,o,e){o===void 0&&(o=0),e===void 0&&(e={x:0,y:0});var a=h.x,M=h.y;return{x:(a-e.x)*Math.cos(-o)+(M-e.y)*Math.sin(-o)+e.x,y:(e.x-a)*Math.sin(-o)+(M-e.y)*Math.cos(-o)+e.y}}function Mc(h){var o=[{x:h.x,y:h.y},{x:h.x+h.width,y:h.y},{x:h.x+h.width,y:h.y+h.height},{x:h.x,y:h.y+h.height}],e=h.rotation;return e?[yu(o[0],e,o[0]),yu(o[1],e,o[0]),yu(o[2],e,o[0]),yu(o[3],e,o[0])]:o}function Ac(h,o){if(h.length>4)return{min:0,max:0};var e=[];return h.forEach(function(a){e.push(xs([a.x,a.y],o))}),{min:Math.min.apply(Math,e),max:Math.max.apply(Math,e)}}function Tc(h,o){return h.max>o.min&&h.min<o.max}function Ul(h,o,e){return e===void 0&&(e=0),!(o.x>h.x+h.width+e||o.x+o.width<h.x-e||o.y>h.y+h.height+e||o.y+o.height<h.y-e)}function po(h,o){if(!h.rotation&&!o.rotation)return Ul(h,o);for(var e=Mc(h),a=Mc(o),M=Object(Y.d)(Ps(e),Ps(a)),N=0;N<M.length;N++){var ot=M[N],Ct=Ac(e,ot),Ft=Ac(a,ot);if(!Tc(Ct,Ft))return!1}return!0}function Yu(h,o,e,a){for(var M=0;M<o.length;M++){var N=o[M];if(o[M].get("visible"))for(var ot=M+1;ot<o.length;ot++){var Ct=o[ot];if(N&&Ct&&N!==Ct&&Ct.get("visible")){var Ft=X(N,h[M],Object(i.get)(h[M],"background.padding")),ne=X(Ct,h[ot],Object(i.get)(h[ot],"background.padding"));po(Ft,ne)&&o[ot].set("visible",!1)}}}}var Ds={"#5B8FF9":!0},zl=function(o){var e=xt.a.toRGB(o).toUpperCase();if(Ds[e])return Ds[e];var a=xt.a.rgb2arr(e),M=a[0],N=a[1],ot=a[2],Ct=(M*299+N*587+ot*114)/1e3<128;return Ct};function _l(h,o,e){if(e.length!==0){var a=e[0].get("element"),M=a.geometry.theme,N=M.labels||{},ot=N.fillColorLight,Ct=N.fillColorDark;e.forEach(function(Ft,ne){var ge=o[ne],be=ge.find(function(ar){return ar.get("type")==="text"}),Ae=Ze.fromObject(Ft.getBBox()),Xe=Ze.fromObject(be.getCanvasBBox()),fn=!Ae.contains(Xe),Sn=Ft.attr("fill"),nr=zl(Sn);fn?be.attr(M.overflowLabels.style):nr?ot&&be.attr("fill",ot):Ct&&be.attr("fill",Ct)})}}function Vl(h,o,e){var a=h.coordinate,M=R(o),N=Ze.fromObject(M.getCanvasBBox()),ot=Ze.fromObject(e.getBBox());return a.isTransposed?ot.height>=N.height:ot.width>=N.width}function Wl(h,o,e){var a=!!h.getAdjust("stack");return a||o.every(function(M,N){var ot=e[N];return Vl(h,M,ot)})}function Yl(h,o,e){var a=h.coordinate,M=Ze.fromObject(e.getBBox()),N=R(o);a.isTransposed?N.attr({x:M.minX+M.width/2,textAlign:"center"}):N.attr({y:M.minY+M.height/2,textBaseline:"middle"})}function Xu(h,o,e){var a;if(e.length!==0){var M=(a=e[0])===null||a===void 0?void 0:a.get("element"),N=M==null?void 0:M.geometry;if(!(!N||N.type!=="interval")){var ot=Wl(N,o,e);ot&&e.forEach(function(Ct,Ft){var ne=o[Ft];Yl(N,ne,Ct)})}}}function Xl(h){var o=500,e=[],a=Math.max(Math.floor(h.length/o),1);return Object(i.each)(h,function(M,N){N%a==0?e.push(M):M.set("visible",!1)}),e}function Hl(h,o,e){var a;if(e.length!==0){var M=(a=e[0])===null||a===void 0?void 0:a.get("element"),N=M==null?void 0:M.geometry;if(!(!N||N.type!=="interval")){var ot=Xl(o),Ct=N.getXYFields()[0],Ft=[],ne=[],ge=Object(i.groupBy)(ot,function(Sn){return Sn.get("data")[Ct]}),be=Object(i.uniq)(Object(i.map)(ot,function(Sn){return Sn.get("data")[Ct]})),Ae;ot.forEach(function(Sn){Sn.set("visible",!0)});var Xe=function(nr){nr&&(nr.length&&ne.push(nr.pop()),ne.push.apply(ne,nr))};for(Object(i.size)(be)>0&&(Ae=be.shift(),Xe(ge[Ae])),Object(i.size)(be)>0&&(Ae=be.pop(),Xe(ge[Ae])),Object(i.each)(be.reverse(),function(Sn){Xe(ge[Sn])});ne.length>0;){var fn=ne.shift();fn.get("visible")&&(At(fn,Ft)?fn.set("visible",!1):Ft.push(fn))}}}}function Os(h,o){var e=h.getXYFields()[1],a=[],M=o.sort(function(N,ot){return N.get("data")[e]-N.get("data")[e]});return M.length>0&&a.push(M.shift()),M.length>0&&a.push(M.pop()),a.push.apply(a,M),a}function Vs(h,o,e){return h.some(function(a){return e(a,o)})}function Kl(h,o,e){e===void 0&&(e=0);var a=Math.max(0,Math.min(h.x+h.width+e,o.x+o.width+e)-Math.max(h.x-e,o.x-e)),M=Math.max(0,Math.min(h.y+h.height+e,o.y+o.height+e)-Math.max(h.y-e,o.y-e));return a*M}function Jl(h,o){return Vs(h,o,function(e,a){var M=R(e),N=R(a);return Kl(M.getCanvasBBox(),N.getCanvasBBox(),2)>0})}function Hu(h,o,e,a,M){var N,ot;if(e.length!==0){var Ct=(N=e[0])===null||N===void 0?void 0:N.get("element"),Ft=Ct==null?void 0:Ct.geometry;if(!(!Ft||Ft.type!=="point")){var ne=Ft.getXYFields(),ge=ne[0],be=ne[1],Ae=Object(i.groupBy)(o,function(Sn){return Sn.get("data")[ge]}),Xe=[],fn=M&&M.offset||((ot=h[0])===null||ot===void 0?void 0:ot.offset)||12;Object(i.map)(Object(i.keys)(Ae).reverse(),function(Sn){for(var nr=Os(Ft,Ae[Sn]);nr.length;){var ar=nr.shift(),Sr=R(ar);if(Vs(Xe,ar,function(oi,ai){return oi.get("data")[ge]===ai.get("data")[ge]&&oi.get("data")[be]===ai.get("data")[be]})){Sr.set("visible",!1);continue}var Mr=Jl(Xe,ar),qr=!1;if(Mr&&(Sr.attr("y",Sr.attr("y")+2*fn),qr=Jl(Xe,ar)),qr){Sr.set("visible",!1);continue}Xe.push(ar)}})}}}function Lh(h,o){var e=h.getXYFields()[1],a=[],M=o.sort(function(N,ot){return N.get("data")[e]-N.get("data")[e]});return M.length>0&&a.push(M.shift()),M.length>0&&a.push(M.pop()),a.push.apply(a,M),a}function Ql(h,o,e){return h.some(function(a){return e(a,o)})}function ci(h,o,e){e===void 0&&(e=0);var a=Math.max(0,Math.min(h.x+h.width+e,o.x+o.width+e)-Math.max(h.x-e,o.x-e)),M=Math.max(0,Math.min(h.y+h.height+e,o.y+o.height+e)-Math.max(h.y-e,o.y-e));return a*M}function jc(h,o){return Ql(h,o,function(e,a){var M=R(e),N=R(a);return ci(M.getCanvasBBox(),N.getCanvasBBox(),2)>0})}function Zl(h,o,e,a,M){var N,ot;if(e.length!==0){var Ct=(N=e[0])===null||N===void 0?void 0:N.get("element"),Ft=Ct==null?void 0:Ct.geometry;if(!(!Ft||["path","line","area"].indexOf(Ft.type)<0)){var ne=Ft.getXYFields(),ge=ne[0],be=ne[1],Ae=Object(i.groupBy)(o,function(Sn){return Sn.get("data")[ge]}),Xe=[],fn=M&&M.offset||((ot=h[0])===null||ot===void 0?void 0:ot.offset)||12;Object(i.map)(Object(i.keys)(Ae).reverse(),function(Sn){for(var nr=Lh(Ft,Ae[Sn]);nr.length;){var ar=nr.shift(),Sr=R(ar);if(Ql(Xe,ar,function(oi,ai){return oi.get("data")[ge]===ai.get("data")[ge]&&oi.get("data")[be]===ai.get("data")[be]})){Sr.set("visible",!1);continue}var Mr=jc(Xe,ar),qr=!1;if(Mr&&(Sr.attr("y",Sr.attr("y")+2*fn),qr=jc(Xe,ar)),qr){Sr.set("visible",!1);continue}Xe.push(ar)}})}}}var Ku;function $l(){return Ku||(Ku=document.createElement("canvas").getContext("2d")),Ku}var bu=Object(i.memoize)(function(h,o){o===void 0&&(o={});var e=o.fontSize,a=o.fontFamily,M=o.fontWeight,N=o.fontStyle,ot=o.fontVariant,Ct=$l();return Ct.font=[N,ot,M,e+"px",a].join(" "),Ct.measureText(Object(i.isString)(h)?h:"").width},function(h,o){return o===void 0&&(o={}),Object(Y.d)([h],Object(i.values)(o)).join("")}),ql=function(o,e,a){var M=16,N=bu("...",a),ot;Object(i.isString)(o)?ot=o:ot=Object(i.toString)(o);var Ct=e,Ft=[],ne,ge;if(bu(o,a)<=e)return o;for(;ne=ot.substr(0,M),ge=bu(ne,a),!(ge+N>Ct&&ge>Ct);)if(Ft.push(ne),Ct-=ge,ot=ot.substr(M),!ot)return Ft.join("");for(;ne=ot.substr(0,1),ge=bu(ne,a),!(ge+N>Ct);)if(Ft.push(ne),Ct-=ge,ot=ot.substr(1),!ot)return Ft.join("");return Ft.join("")+"..."};function tf(h,o,e,a,M){if(!(o.length<=0)){var N=(M==null?void 0:M.direction)||["top","right","bottom","left"],ot=(M==null?void 0:M.action)||"translate",Ct=(M==null?void 0:M.margin)||0,Ft=o[0].get("coordinate");if(!!Ft){var ne=wr(Ft,Ct),ge=ne.minX,be=ne.minY,Ae=ne.maxX,Xe=ne.maxY;Object(i.each)(o,function(fn){var Sn=fn.getCanvasBBox(),nr=Sn.minX,ar=Sn.minY,Sr=Sn.maxX,Mr=Sn.maxY,qr=Sn.x,oi=Sn.y,ai=Sn.width,aa=Sn.height,Ji=qr,_i=oi;if(N.indexOf("left")>=0&&(nr<ge||Sr<ge)&&(Ji=ge),N.indexOf("top")>=0&&(ar<be||Mr<be)&&(_i=be),N.indexOf("right")>=0&&(nr>Ae?Ji=Ae-ai:Sr>Ae&&(Ji=Ji-(Sr-Ae))),N.indexOf("bottom")>=0&&(ar>Xe?_i=Xe-aa:Mr>Xe&&(_i=_i-(Mr-Xe))),Ji!==qr||_i!==oi){var Ca=Ji-qr;if(ot==="translate")Ko(fn,Ca,_i-oi);else if(ot==="ellipsis"){var io=fn.findAll(function(ao){return ao.get("type")==="text"});io.forEach(function(ao){var co=Object(i.pick)(ao.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),go=ao.getCanvasBBox(),et=ql(ao.attr("text"),go.width-Math.abs(Ca),co);ao.attr("text",et)})}else fn.hide()}})}}}function ef(h,o,e){var a={fillOpacity:Object(i.isNil)(h.attr("fillOpacity"))?1:h.attr("fillOpacity"),strokeOpacity:Object(i.isNil)(h.attr("strokeOpacity"))?1:h.attr("strokeOpacity"),opacity:Object(i.isNil)(h.attr("opacity"))?1:h.attr("opacity")};h.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),h.animate(a,o)}function nf(h,o,e){var a={fillOpacity:0,strokeOpacity:0,opacity:0},M=o.easing,N=o.duration,ot=o.delay;h.animate(a,N,M,function(){h.remove(!0)},ot)}function rf(h,o,e){var a,M=o[0],N=o[1];return h.applyToMatrix([M,N,1]),e==="x"?(h.setMatrix(Yr.a.transform(h.getMatrix(),[["t",-M,-N],["s",.01,1],["t",M,N]])),a=Yr.a.transform(h.getMatrix(),[["t",-M,-N],["s",100,1],["t",M,N]])):e==="y"?(h.setMatrix(Yr.a.transform(h.getMatrix(),[["t",-M,-N],["s",1,.01],["t",M,N]])),a=Yr.a.transform(h.getMatrix(),[["t",-M,-N],["s",1,100],["t",M,N]])):e==="xy"&&(h.setMatrix(Yr.a.transform(h.getMatrix(),[["t",-M,-N],["s",.01,.01],["t",M,N]])),a=Yr.a.transform(h.getMatrix(),[["t",-M,-N],["s",100,100],["t",M,N]])),a}function Rs(h,o,e,a,M){var N=e.start,ot=e.end,Ct=e.getWidth(),Ft=e.getHeight(),ne,ge;M==="y"?(ne=N.x+Ct/2,ge=a.y<N.y?a.y:N.y):M==="x"?(ne=a.x>N.x?a.x:N.x,ge=N.y+Ft/2):M==="xy"&&(e.isPolar?(ne=e.getCenter().x,ge=e.getCenter().y):(ne=(N.x+ot.x)/2,ge=(N.y+ot.y)/2));var be=rf(h,[ne,ge],M);h.animate({matrix:be},o)}function af(h,o,e){var a=e.coordinate,M=e.minYPoint;Rs(h,o,a,M,"x")}function of(h,o,e){var a=e.coordinate,M=e.minYPoint;Rs(h,o,a,M,"y")}function sf(h,o,e){var a=e.coordinate,M=e.minYPoint;Rs(h,o,a,M,"xy")}function uf(h,o,e){var a=h.getTotalLength();h.attr("lineDash",[a]),h.animate(function(M){return{lineDashOffset:(1-M)*a}},o)}function Ju(h,o,e){var a=e.toAttrs,M=a.x,N=a.y;delete a.x,delete a.y,h.attr(a),h.animate({x:M,y:N},o)}function cf(h,o,e){var a=h.getBBox(),M=h.get("origin").mappingData,N=M.points,ot=N[0].y-N[1].y>0?a.maxX:a.minX,Ct=(a.minY+a.maxY)/2;h.applyToMatrix([ot,Ct,1]);var Ft=Yr.a.transform(h.getMatrix(),[["t",-ot,-Ct],["s",.01,1],["t",ot,Ct]]);h.setMatrix(Ft),h.animate({matrix:Yr.a.transform(h.getMatrix(),[["t",-ot,-Ct],["s",100,1],["t",ot,Ct]])},o)}function Ss(h,o,e){var a=h.getBBox(),M=h.get("origin").mappingData,N=(a.minX+a.maxX)/2,ot=M.points,Ct=ot[0].y-ot[1].y<=0?a.maxY:a.minY;h.applyToMatrix([N,Ct,1]);var Ft=Yr.a.transform(h.getMatrix(),[["t",-N,-Ct],["s",1,.01],["t",N,Ct]]);h.setMatrix(Ft),h.animate({matrix:Yr.a.transform(h.getMatrix(),[["t",-N,-Ct],["s",1,100],["t",N,Ct]])},o)}function ru(h,o){var e,a=Object(Ja.getArcParams)(h,o),M=a.startAngle,N=a.endAngle;return!Object(i.isNumberEqual)(M,-Math.PI*.5)&&M<-Math.PI*.5&&(M+=Math.PI*2),!Object(i.isNumberEqual)(N,-Math.PI*.5)&&N<-Math.PI*.5&&(N+=Math.PI*2),o[5]===0&&(e=[N,M],M=e[0],N=e[1]),Object(i.isNumberEqual)(M,Math.PI*1.5)&&(M=Math.PI*-.5),Object(i.isNumberEqual)(N,Math.PI*-.5)&&(N=Math.PI*1.5),{startAngle:M,endAngle:N}}function vs(h){var o;return h[0]==="M"||h[0]==="L"?o=[h[1],h[2]]:(h[0]==="a"||h[0]==="A")&&(o=[h[h.length-2],h[h.length-1]]),o}function rs(h){var o,e,a,M=h.filter(function(Mr){return Mr[0]==="A"||Mr[0]==="a"}),N=M[0],ot=M.length>1?M[1]:M[0],Ct=h.indexOf(N),Ft=h.indexOf(ot),ne=vs(h[Ct-1]),ge=vs(h[Ft-1]),be=ru(ne,N),Ae=be.startAngle,Xe=be.endAngle,fn=ru(ge,ot),Sn=fn.startAngle,nr=fn.endAngle;Object(i.isNumberEqual)(Ae,Sn)&&Object(i.isNumberEqual)(Xe,nr)?(e=Ae,a=Xe):(e=Math.min(Ae,Sn),a=Math.max(Xe,nr));var ar=N[1],Sr=M[M.length-1][1];return ar<Sr?(o=[Sr,ar],ar=o[0],Sr=o[1]):ar===Sr&&(Sr=0),{startAngle:e,endAngle:a,radius:ar,innerRadius:Sr}}function xu(h,o,e){var a=e.toAttrs,M=e.coordinate,N=a.path||[],ot=N.map(function(Sr){return Sr[0]});if(!(N.length<1)){var Ct=rs(N),Ft=Ct.startAngle,ne=Ct.endAngle,ge=Ct.radius,be=Ct.innerRadius,Ae=rs(h.attr("path")),Xe=Ae.startAngle,fn=Ae.endAngle,Sn=M.getCenter(),nr=Ft-Xe,ar=ne-fn;h.animate(function(Sr){var Mr=Xe+Sr*nr,qr=fn+Sr*ar;return Object(Y.a)(Object(Y.a)({},a),{path:Object(i.isEqual)(ot,["M","A","A","Z"])?vo(Sn.x,Sn.y,ge,Mr,qr):ka(Sn.x,Sn.y,ge,Mr,qr,be)})},Object(Y.a)(Object(Y.a)({},o),{callback:function(){h.attr("path",N)}}))}}function ks(h,o,e){var a=jr(e.coordinate,20),M=a.type,N=a.startState,ot=a.endState,Ct=h.setClip({type:M,attrs:N});Ct.animate(ot,Object(Y.a)(Object(Y.a)({},o),{callback:function(){h&&!h.get("destroyed")&&h.set("clipShape",null),Ct.remove(!0)}}))}function Ws(h,o,e){if(h.isGroup())Object(i.each)(h.getChildren(),function(Ct){Ws(Ct,o,e)});else{var a=h.getBBox(),M=(a.minX+a.maxX)/2,N=(a.minY+a.maxY)/2;if(h.applyToMatrix([M,N,1]),e==="zoomIn"){var ot=Yr.a.transform(h.getMatrix(),[["t",-M,-N],["s",.01,.01],["t",M,N]]);h.setMatrix(ot),h.animate({matrix:Yr.a.transform(h.getMatrix(),[["t",-M,-N],["s",100,100],["t",M,N]])},o)}else h.animate({matrix:Yr.a.transform(h.getMatrix(),[["t",-M,-N],["s",.01,.01],["t",M,N]])},Object(Y.a)(Object(Y.a)({},o),{callback:function(){h.remove(!0)}}))}}function Qu(h,o,e){Ws(h,o,"zoomIn")}function ps(h,o,e){Ws(h,o,"zoomOut")}function Zo(h){return[t.TOP,t.BOTTOM].includes(h)?{offsetX:0,offsetY:h===t.TOP?-8:8,style:{textAlign:"center",textBaseline:h===t.TOP?"bottom":"top"}}:[t.LEFT,t.RIGHT].includes(h)?{offsetX:h===t.LEFT?-8:8,offsetY:0,style:{textAlign:h===t.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function Vo(h,o,e){return{x:h.x+o*Math.cos(e),y:h.y+o*Math.sin(e)}}var gs=function(h){Object(Y.b)(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}return o.prototype.getDefaultCfg=function(){return Object(i.deepMix)({},h.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:h.prototype.getDefaultTitleCfg.call(this)})},o.prototype.render=function(){h.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},o.prototype.getRegion=function(e,a){var M=1/2,N={x:.5,y:.5},ot=Math.PI*2/e,Ct=-1*Math.PI/2+ot*a,Ft=M/(1+1/Math.sin(ot/2)),ne=Vo(N,M-Ft,Ct),ge=Math.PI*5/4,be=Math.PI*1/4;return{start:Vo(ne,Ft,ge),end:Vo(ne,Ft,be)}},o.prototype.afterEachView=function(e,a){this.processAxis(e,a)},o.prototype.beforeEachView=function(e,a){},o.prototype.generateFacets=function(e){var a=this,M=this.cfg,N=M.fields,ot=M.type,Ct=N[0];if(!Ct)throw new Error("No `fields` specified!");var Ft=this.getFieldValues(e,Ct),ne=Ft.length,ge=[];return Ft.forEach(function(be,Ae){var Xe=[{field:Ct,value:be,values:Ft}],fn=Object(i.filter)(e,a.getFacetDataFilter(Xe)),Sn={type:ot,data:fn,region:a.getRegion(ne,Ae),columnValue:be,columnField:Ct,columnIndex:Ae,columnValuesLength:ne,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};ge.push(Sn)}),ge},o.prototype.getXAxisOption=function(e,a,M,N){return M},o.prototype.getYAxisOption=function(e,a,M,N){return M},o.prototype.renderTitle=function(){var e=this;Object(i.each)(this.facets,function(a){var M=a.columnValue,N=a.view,ot=Object(i.get)(e.cfg.title,"formatter"),Ct=Object(i.deepMix)({position:["50%","0%"],content:ot?ot(M):M},Zo(t.TOP),e.cfg.title);N.annotation().text(Ct)})},o}(Zi),ms=gs,Zu=function(h){Object(Y.b)(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}return o.prototype.getDefaultCfg=function(){return Object(i.deepMix)({},h.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:h.prototype.getDefaultTitleCfg.call(this)})},o.prototype.render=function(){h.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},o.prototype.afterEachView=function(e,a){this.processAxis(e,a)},o.prototype.beforeEachView=function(e,a){},o.prototype.generateFacets=function(e){var a=this,M=this.cfg.fields,N=this.cfg.cols,ot=M[0];if(!ot)throw new Error("No `fields` specified!");var Ct=this.getFieldValues(e,ot),Ft=Ct.length;N=N||Ft;var ne=this.getPageCount(Ft,N),ge=[];return Ct.forEach(function(be,Ae){var Xe=a.getRowCol(Ae,N),fn=Xe.row,Sn=Xe.col,nr=[{field:ot,value:be,values:Ct}],ar=Object(i.filter)(e,a.getFacetDataFilter(nr)),Sr={type:a.cfg.type,data:ar,region:a.getRegion(ne,N,Sn,fn),columnValue:be,rowValue:be,columnField:ot,rowField:null,columnIndex:Sn,rowIndex:fn,columnValuesLength:N,rowValuesLength:ne,total:Ft};ge.push(Sr)}),ge},o.prototype.getXAxisOption=function(e,a,M,N){return N.rowIndex!==N.rowValuesLength-1&&N.columnValuesLength*N.rowIndex+N.columnIndex+1+N.columnValuesLength<=N.total?Object(Y.a)(Object(Y.a)({},M),{label:null,title:null}):M},o.prototype.getYAxisOption=function(e,a,M,N){return N.columnIndex!==0?Object(Y.a)(Object(Y.a)({},M),{title:null,label:null}):M},o.prototype.renderTitle=function(){var e=this;Object(i.each)(this.facets,function(a){var M=a.columnValue,N=a.view,ot=Object(i.get)(e.cfg.title,"formatter"),Ct=Object(i.deepMix)({position:["50%","0%"],content:ot?ot(M):M},Zo(t.TOP),e.cfg.title);N.annotation().text(Ct)})},o.prototype.getPageCount=function(e,a){return Math.floor((e+a-1)/a)},o.prototype.getRowCol=function(e,a){var M=Math.floor(e/a),N=e%a;return{row:M,col:N}},o}(Zi),lf=Zu,Ns=function(h){Object(Y.b)(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}return o.prototype.getDefaultCfg=function(){return Object(i.deepMix)({},h.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:Object(Y.a)({},h.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(Y.a)({},h.prototype.getDefaultTitleCfg.call(this))})},o.prototype.render=function(){h.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},o.prototype.afterEachView=function(e,a){this.processAxis(e,a)},o.prototype.beforeEachView=function(e,a){},o.prototype.generateFacets=function(e){for(var a=this.cfg,M=a.fields,N=a.type,ot=M.length,Ct=ot,Ft=[],ne=0;ne<Ct;ne++)for(var ge=M[ne],be=0;be<ot;be++){var Ae=M[be],Xe={type:N,data:e,region:this.getRegion(ot,Ct,ne,be),columnValue:ge,rowValue:Ae,columnField:ge,rowField:Ae,columnIndex:ne,rowIndex:be,columnValuesLength:Ct,rowValuesLength:ot};Ft.push(Xe)}return Ft},o.prototype.getXAxisOption=function(e,a,M,N){return N.rowIndex!==N.rowValuesLength-1?Object(Y.a)(Object(Y.a)({},M),{label:null,title:null}):M},o.prototype.getYAxisOption=function(e,a,M,N){return N.columnIndex!==0?Object(Y.a)(Object(Y.a)({},M),{title:null,label:null}):M},o.prototype.renderTitle=function(){var e=this;Object(i.each)(this.facets,function(a,M){var N=a.columnIndex,ot=a.rowIndex,Ct=a.columnValuesLength,Ft=a.rowValuesLength,ne=a.columnValue,ge=a.rowValue,be=a.view;if(ot===0){var Ae=Object(i.get)(e.cfg.columnTitle,"formatter"),Xe=Object(i.deepMix)({position:["50%","0%"],content:Ae?Ae(ne):ne},Zo(t.TOP),e.cfg.columnTitle);be.annotation().text(Xe)}if(N===Ct-1){var Ae=Object(i.get)(e.cfg.rowTitle,"formatter"),Xe=Object(i.deepMix)({position:["100%","50%"],content:Ae?Ae(ge):ge},Zo(t.RIGHT),e.cfg.rowTitle);be.annotation().text(Xe)}})},o}(Zi),Bh=Ns,Fh=function(h){Object(Y.b)(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}return o.prototype.getDefaultCfg=function(){return Object(i.deepMix)({},h.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:h.prototype.getDefaultTitleCfg.call(this),transpose:!1})},o.prototype.render=function(){h.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},o.prototype.beforeEachView=function(e,a){this.cfg.transpose?a.columnIndex%2==0?e.coordinate().transpose().reflect("x"):e.coordinate().transpose():a.rowIndex%2!=0&&e.coordinate().reflect("y")},o.prototype.afterEachView=function(e,a){this.processAxis(e,a)},o.prototype.generateFacets=function(e){var a=this,M=this.cfg.fields[0],N=[],ot=1,Ct=1,Ft=[""],ne=[""],ge,be;return this.cfg.transpose?(ge=M,Ft=this.getFieldValues(e,ge).slice(0,2),ot=Ft.length):(be=M,ne=this.getFieldValues(e,be).slice(0,2),Ct=ne.length),Ft.forEach(function(Ae,Xe){ne.forEach(function(fn,Sn){var nr=[{field:ge,value:Ae,values:Ft},{field:be,value:fn,values:ne}],ar=Object(i.filter)(e,a.getFacetDataFilter(nr)),Sr={type:a.cfg.type,data:ar,region:a.getRegion(Ct,ot,Xe,Sn),columnValue:Ae,rowValue:fn,columnField:ge,rowField:be,columnIndex:Xe,rowIndex:Sn,columnValuesLength:ot,rowValuesLength:Ct};N.push(Sr)})}),N},o.prototype.getXAxisOption=function(e,a,M,N){return N.columnIndex===1||N.rowIndex===1?Object(Y.a)(Object(Y.a)({},M),{label:null,title:null}):M},o.prototype.getYAxisOption=function(e,a,M,N){return M},o.prototype.renderTitle=function(){var e=this;Object(i.each)(this.facets,function(a,M){var N=a.columnValue,ot=a.rowValue,Ct=a.view,Ft=Object(i.get)(e.cfg.title,"formatter");if(e.cfg.transpose){var ne=Object(i.deepMix)({position:["50%","0%"],content:Ft?Ft(N):N},Zo(t.TOP),e.cfg.title);Ct.annotation().text(ne)}else{var ne=Object(i.deepMix)({position:["100%","50%"],content:Ft?Ft(ot):ot},Zo(t.RIGHT),e.cfg.title);Ct.annotation().text(ne)}})},o}(Zi),Gh=Fh,Uh=function(h){Object(Y.b)(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}return o.prototype.afterEachView=function(e,a){this.processAxis(e,a)},o.prototype.beforeEachView=function(e,a){},o.prototype.getDefaultCfg=function(){return Object(i.deepMix)({},h.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:Object(Y.a)({},h.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(Y.a)({},h.prototype.getDefaultTitleCfg.call(this))})},o.prototype.render=function(){h.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},o.prototype.generateFacets=function(e){var a=this,M=this.cfg.fields,N=M[0],ot=M[1],Ct=[],Ft=1,ne=1,ge=[""],be=[""];return N&&(ge=this.getFieldValues(e,N),Ft=ge.length),ot&&(be=this.getFieldValues(e,ot),ne=be.length),ge.forEach(function(Ae,Xe){be.forEach(function(fn,Sn){var nr=[{field:N,value:Ae,values:ge},{field:ot,value:fn,values:be}],ar=Object(i.filter)(e,a.getFacetDataFilter(nr)),Sr={type:a.cfg.type,data:ar,region:a.getRegion(ne,Ft,Xe,Sn),columnValue:Ae,rowValue:fn,columnField:N,rowField:ot,columnIndex:Xe,rowIndex:Sn,columnValuesLength:Ft,rowValuesLength:ne};Ct.push(Sr)})}),Ct},o.prototype.renderTitle=function(){var e=this;Object(i.each)(this.facets,function(a,M){var N=a.columnIndex,ot=a.rowIndex,Ct=a.columnValuesLength,Ft=a.columnValue,ne=a.rowValue,ge=a.view;if(ot===0){var be=Object(i.get)(e.cfg.columnTitle,"formatter"),Ae=Object(i.deepMix)({position:["50%","0%"],content:be?be(Ft):Ft},Zo(t.TOP),e.cfg.columnTitle);ge.annotation().text(Ae)}if(N===Ct-1){var be=Object(i.get)(e.cfg.rowTitle,"formatter"),Ae=Object(i.deepMix)({position:["100%","50%"],content:be?be(ne):ne},Zo(t.RIGHT),e.cfg.rowTitle);ge.annotation().text(Ae)}})},o.prototype.getXAxisOption=function(e,a,M,N){return N.rowIndex!==N.rowValuesLength-1?Object(Y.a)(Object(Y.a)({},M),{title:null,label:null}):N.columnIndex!==Math.floor((N.columnValuesLength-1)/2)?Object(Y.a)(Object(Y.a)({},M),{title:null}):M},o.prototype.getYAxisOption=function(e,a,M,N){return N.columnIndex!==0?Object(Y.a)(Object(Y.a)({},M),{title:null,label:null}):N.rowIndex!==Math.floor((N.rowValuesLength-1)/2)?Object(Y.a)(Object(Y.a)({},M),{title:null}):M},o}(Zi),ff=Uh,Ic=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.afterChartRender=function(){e.facets&&e.cfg.line&&(e.container.clear(),e.drawLines(e.facets))},e}return o.prototype.afterEachView=function(e,a){this.processAxis(e,a)},o.prototype.beforeEachView=function(e,a){},o.prototype.init=function(){h.prototype.init.call(this),this.view.on(g.AFTER_RENDER,this.afterChartRender)},o.prototype.getDefaultCfg=function(){return Object(i.deepMix)({},h.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:h.prototype.getDefaultTitleCfg.call(this)})},o.prototype.generateFacets=function(e){var a=this.cfg.fields;if(!a.length)throw new Error("Please specify for the fields for rootFacet!");var M=[],N={type:this.cfg.type,data:e,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return M.push(N),N.children=this.getChildFacets(e,1,M),this.setRegion(M),M},o.prototype.setRegion=function(e){var a=this;this.forceColIndex(e),e.forEach(function(M){M.region=a.getRegion(M.rowValuesLength,M.columnValuesLength,M.columnIndex,M.rowIndex)})},o.prototype.getRegion=function(e,a,M,N){var ot=1/a,Ct=1/e,Ft={x:ot*M,y:Ct*N},ne={x:Ft.x+ot,y:Ft.y+Ct*2/3};return{start:Ft,end:ne}},o.prototype.forceColIndex=function(e){var a=this,M=[],N=0;e.forEach(function(Ae){a.isLeaf(Ae)&&(M.push(Ae),Ae.columnIndex=N,N++)}),M.forEach(function(Ae){Ae.columnValuesLength=M.length});for(var ot=this.cfg.fields.length,Ct=ot-1;Ct>=0;Ct--)for(var Ft=this.getFacetsByLevel(e,Ct),ne=0,ge=Ft;ne<ge.length;ne++){var be=ge[ne];this.isLeaf(be)||(be.originColIndex=be.columnIndex,be.columnIndex=this.getRegionIndex(be.children),be.columnValuesLength=M.length)}},o.prototype.getFacetsByLevel=function(e,a){var M=[];return e.forEach(function(N){N.rowIndex===a&&M.push(N)}),M},o.prototype.getRegionIndex=function(e){var a=e[0],M=e[e.length-1];return(M.columnIndex-a.columnIndex)/2+a.columnIndex},o.prototype.isLeaf=function(e){return!e.children||!e.children.length},o.prototype.getRows=function(){return this.cfg.fields.length+1},o.prototype.getChildFacets=function(e,a,M){var N=this,ot=this.cfg.fields,Ct=ot.length;if(!(Ct<a)){var Ft=[],ne=ot[a-1],ge=this.getFieldValues(e,ne);return ge.forEach(function(be,Ae){var Xe=[{field:ne,value:be,values:ge}],fn=e.filter(N.getFacetDataFilter(Xe));if(fn.length){var Sn={type:N.cfg.type,data:fn,region:null,columnValue:be,rowValue:"",columnField:ne,rowField:"",columnIndex:Ae,rowValuesLength:N.getRows(),columnValuesLength:1,rowIndex:a,children:N.getChildFacets(fn,a+1,M)};Ft.push(Sn),M.push(Sn)}}),Ft}},o.prototype.render=function(){h.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},o.prototype.renderTitle=function(){var e=this;Object(i.each)(this.facets,function(a){var M=a.columnValue,N=a.view,ot=Object(i.get)(e.cfg.title,"formatter"),Ct=Object(i.deepMix)({position:["50%","0%"],content:ot?ot(M):M},Zo(t.TOP),e.cfg.title);N.annotation().text(Ct)})},o.prototype.drawLines=function(e){var a=this;e.forEach(function(M){if(!a.isLeaf(M)){var N=M.children;a.addFacetLines(M,N)}})},o.prototype.addFacetLines=function(e,a){var M=this,N=e.view,ot=N.coordinateBBox,Ct={x:ot.x+ot.width/2,y:ot.y+ot.height};a.forEach(function(Ft){var ne=Ft.view.coordinateBBox,ge={x:ne.bl.x+(ne.tr.x-ne.bl.x)/2,y:ne.tr.y},be={x:Ct.x,y:Ct.y+(ge.y-Ct.y)/2},Ae={x:ge.x,y:be.y};M.drawLine([Ct,be,Ae,ge])})},o.prototype.getPath=function(e){var a=[],M=this.cfg.line.smooth;return M?(a.push(["M",e[0].x,e[0].y]),a.push(["C",e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y])):e.forEach(function(N,ot){ot===0?a.push(["M",N.x,N.y]):a.push(["L",N.x,N.y])}),a},o.prototype.drawLine=function(e){var a=this.getPath(e),M=this.cfg.line.style;this.container.addShape("path",{attrs:Object(i.assign)({path:a},M)})},o.prototype.getXAxisOption=function(e,a,M,N){return N.rowIndex!==N.rowValuesLength-1?Object(Y.a)(Object(Y.a)({},M),{title:null,label:null}):M},o.prototype.getYAxisOption=function(e,a,M,N){return N.originColIndex!==0&&N.columnIndex!==0?Object(Y.a)(Object(Y.a)({},M),{title:null,label:null}):M},o}(Zi),zh=Ic;function hf(h){var o=Object(Y.d)(h);o.sort(function(a,M){return a-M});var e=o.length;return e===0?0:e%2==1?o[(e-1)/2]:(o[e/2]+o[e/2-1])/2}function df(h){var o=Object(i.reduce)(h,function(e,a){return e+=isNaN(a)||!Object(i.isNumber)(a)?0:a},0);return h.length===0?0:o/h.length}function Ou(h,o){var e;switch(h){case"start":return 0;case"end":return 1;case"median":{e=o.isCategory?hf(o.values.map(function(a,M){return M})):hf(o.values);break}case"mean":{e=o.isCategory?(o.values.length-1)/2:df(o.values);break}case"min":e=o.isCategory?0:o[h];break;case"max":e=o.isCategory?o.values.length-1:o[h];break;default:e=h;break}return o.scale(e)}var $u=["regionFilter","shape"],_h=function(h){Object(Y.b)(o,h);function o(e){var a=h.call(this,e)||this;return a.cache=new Map,a.foregroundContainer=a.view.getLayer(b.FORE).addGroup(),a.backgroundContainer=a.view.getLayer(b.BG).addGroup(),a.option=[],a}return Object.defineProperty(o.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),o.prototype.init=function(){},o.prototype.layout=function(){this.update()},o.prototype.render=function(){},o.prototype.update=function(){var e=this;this.onAfterRender(function(){var M=new Map;Object(i.each)(e.option,function(N){if(Object(i.includes)($u,N.type)){var ot=e.updateOrCreate(N);ot&&M.set(e.getCacheKey(N),ot)}}),e.cache=e.syncCache(M)});var a=new Map;Object(i.each)(this.option,function(M){if(!Object(i.includes)($u,M.type)){var N=e.updateOrCreate(M);N&&a.set(e.getCacheKey(M),N)}}),this.cache=this.syncCache(a)},o.prototype.clear=function(e){e===void 0&&(e=!1),h.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),e&&(this.option=[])},o.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},o.prototype.getComponents=function(){var e=[];return this.cache.forEach(function(a){e.push(a)}),e},o.prototype.clearComponents=function(){this.getComponents().forEach(function(e){e.component.destroy()}),this.cache.clear()},o.prototype.onAfterRender=function(e){this.view.getOptions().animate?this.view.geometries.forEach(function(a){a.animateOption&&a.once(x.AFTER_DRAW_ANIMATE,function(){e()})}):this.view.getRootView().once(g.AFTER_RENDER,function(){e()})},o.prototype.createAnnotation=function(e){var a=e.type,M=pi.Annotation[Object(i.upperFirst)(a)];if(M){var N=this.getAnnotationTheme(a),ot=this.getAnnotationCfg(a,e,N),Ct=new M(ot);return{component:Ct,layer:this.isTop(ot)?b.FORE:b.BG,direction:t.NONE,type:n.ANNOTATION,extra:e}}},o.prototype.annotation=function(e){this.option.push(e)},o.prototype.arc=function(e){return this.annotation(Object(Y.a)({type:"arc"},e)),this},o.prototype.image=function(e){return this.annotation(Object(Y.a)({type:"image"},e)),this},o.prototype.line=function(e){return this.annotation(Object(Y.a)({type:"line"},e)),this},o.prototype.region=function(e){return this.annotation(Object(Y.a)({type:"region"},e)),this},o.prototype.text=function(e){return this.annotation(Object(Y.a)({type:"text"},e)),this},o.prototype.dataMarker=function(e){return this.annotation(Object(Y.a)({type:"dataMarker"},e)),this},o.prototype.dataRegion=function(e){this.annotation(Object(Y.a)({type:"dataRegion"},e))},o.prototype.regionFilter=function(e){this.annotation(Object(Y.a)({type:"regionFilter"},e))},o.prototype.shape=function(e){this.annotation(Object(Y.a)({type:"shape"},e))},o.prototype.html=function(e){this.annotation(Object(Y.a)({type:"html"},e))},o.prototype.parsePosition=function(e){var a=this.view.getXScale(),M=this.view.getScalesByDim("y"),N=Object(i.isFunction)(e)?e.call(null,a,M):e,ot=0,Ct=0;if(Object(i.isArray)(N)){var Ft=N[0],ne=N[1];if(Object(i.isString)(Ft)&&Ft.indexOf("%")!==-1&&!isNaN(Ft.slice(0,-1)))return this.parsePercentPosition(N);ot=Ou(Ft,a),Ct=Ou(ne,Object.values(M)[0])}else if(!Object(i.isNil)(N))for(var ge=0,be=Object(i.keys)(N);ge<be.length;ge++){var Ae=be[ge],Xe=N[Ae];Ae===a.field&&(ot=Ou(Xe,a)),M[Ae]&&(Ct=Ou(Xe,M[Ae]))}return this.view.getCoordinate().convert({x:ot,y:Ct})},o.prototype.getRegionPoints=function(e,a){var M=this,N=this.view.getXScale(),ot=this.view.getScalesByDim("y"),Ct=Object.values(ot)[0],Ft=N.field,ne=this.view.getData(),ge=Object(i.isArray)(e)?e[0]:e[Ft],be=Object(i.isArray)(a)?a[0]:a[Ft],Ae=[],Xe;return Object(i.each)(ne,function(fn,Sn){if(fn[Ft]===ge&&(Xe=Sn),Sn>=Xe){var nr=M.parsePosition([fn[Ft],fn[Ct.field]]);nr&&Ae.push(nr)}if(fn[Ft]===be)return!1}),Ae},o.prototype.parsePercentPosition=function(e){var a=parseFloat(e[0])/100,M=parseFloat(e[1])/100,N=this.view.getCoordinate(),ot=N.start,Ct=N.end,Ft={x:Math.min(ot.x,Ct.x),y:Math.min(ot.y,Ct.y)},ne=N.getWidth()*a+Ft.x,ge=N.getHeight()*M+Ft.y;return{x:ne,y:ge}},o.prototype.getCoordinateBBox=function(){var e=this.view.getCoordinate(),a=e.start,M=e.end,N=e.getWidth(),ot=e.getHeight(),Ct={x:Math.min(a.x,M.x),y:Math.min(a.y,M.y)};return{x:Ct.x,y:Ct.y,minX:Ct.x,minY:Ct.y,maxX:Ct.x+N,maxY:Ct.y+ot,width:N,height:ot}},o.prototype.getAnnotationCfg=function(e,a,M){var N=this,ot=this.view.getCoordinate(),Ct=this.view.getCanvas(),Ft={};if(Object(i.isNil)(a))return null;if(e==="arc"){var ne=a,ge=ne.start,be=ne.end,Ae=this.parsePosition(ge),Xe=this.parsePosition(be),fn=ur(ot,Ae),Sn=ur(ot,Xe);fn>Sn&&(Sn=Math.PI*2+Sn),Ft={center:ot.getCenter(),radius:sn(ot,Ae),startAngle:fn,endAngle:Sn}}else if(e==="image"){var nr=a,ge=nr.start,be=nr.end;Ft={start:this.parsePosition(ge),end:this.parsePosition(be),src:a.src}}else if(e==="line"){var ar=a,ge=ar.start,be=ar.end;Ft={start:this.parsePosition(ge),end:this.parsePosition(be),text:Object(i.get)(a,"text",null)}}else if(e==="region"){var Sr=a,ge=Sr.start,be=Sr.end;Ft={start:this.parsePosition(ge),end:this.parsePosition(be)}}else if(e==="text"){var Mr=this.view.getData(),qr=a,oi=qr.position,ai=qr.content,aa=Object(Y.c)(qr,["position","content"]),Ji=ai;Object(i.isFunction)(ai)&&(Ji=ai(Mr)),Ft=Object(Y.a)(Object(Y.a)(Object(Y.a)({},this.parsePosition(oi)),aa),{content:Ji})}else if(e==="dataMarker"){var _i=a,oi=_i.position,Ca=_i.point,io=_i.line,ao=_i.text,co=_i.autoAdjust,go=_i.direction;Ft=Object(Y.a)(Object(Y.a)({},this.parsePosition(oi)),{coordinateBBox:this.getCoordinateBBox(),point:Ca,line:io,text:ao,autoAdjust:co,direction:go})}else if(e==="dataRegion"){var et=a,ge=et.start,be=et.end,z=et.region,ao=et.text,T=et.lineLength;Ft={points:this.getRegionPoints(ge,be),region:z,text:ao,lineLength:T}}else if(e==="regionFilter"){var F=a,ge=F.start,be=F.end,tt=F.apply,It=F.color,Nt=this.view.geometries,q=[],Rt=function wn(zn){!zn||(zn.isGroup()?zn.getChildren().forEach(function(In){return wn(In)}):q.push(zn))};Object(i.each)(Nt,function(wn){tt?Object(i.contains)(tt,wn.type)&&Object(i.each)(wn.elements,function(zn){Rt(zn.shape)}):Object(i.each)(wn.elements,function(zn){Rt(zn.shape)})}),Ft={color:It,shapes:q,start:this.parsePosition(ge),end:this.parsePosition(be)}}else if(e==="shape"){var Qt=a,ee=Qt.render,xe=Object(Y.c)(Qt,["render"]),Pe=function(en){if(Object(i.isFunction)(a.render))return ee(en,N.view,{parsePosition:N.parsePosition.bind(N)})};Ft=Object(Y.a)(Object(Y.a)({},xe),{render:Pe})}else if(e==="html"){var He=a,Be=He.html,oi=He.position,xe=Object(Y.c)(He,["html","position"]),Ke=function(zn){return Object(i.isFunction)(Be)?Be(zn,N.view):Be};Ft=Object(Y.a)(Object(Y.a)(Object(Y.a)({},xe),this.parsePosition(oi)),{parent:Ct.get("el").parentNode,html:Ke})}var Qe=Object(i.deepMix)({},M,Object(Y.a)(Object(Y.a)({},Ft),{top:a.top,style:a.style,offsetX:a.offsetX,offsetY:a.offsetY}));return e!=="html"&&(Qe.container=this.getComponentContainer(Qe)),Qe.animate=this.view.getOptions().animate&&Qe.animate&&Object(i.get)(a,"animate",Qe.animate),Qe.animateOption=Object(i.deepMix)({},Ya,Qe.animateOption,a.animateOption),Qe},o.prototype.isTop=function(e){return Object(i.get)(e,"top",!0)},o.prototype.getComponentContainer=function(e){return this.isTop(e)?this.foregroundContainer:this.backgroundContainer},o.prototype.getAnnotationTheme=function(e){return Object(i.get)(this.view.getTheme(),["components","annotation",e],{})},o.prototype.updateOrCreate=function(e){var a=this.cache.get(this.getCacheKey(e));if(a){var M=e.type,N=this.getAnnotationTheme(M),ot=this.getAnnotationCfg(M,e,N);te(ot,["container"]),a.component.update(ot),Object(i.includes)($u,e.type)&&a.component.render()}else a=this.createAnnotation(e),a&&(a.component.init(),Object(i.includes)($u,e.type)&&a.component.render());return a},o.prototype.syncCache=function(e){var a=this,M=new Map(this.cache);return e.forEach(function(N,ot){M.set(ot,N)}),M.forEach(function(N,ot){Object(i.find)(a.option,function(Ct){return ot===a.getCacheKey(Ct)})||(N.component.destroy(),M.delete(ot))}),M},o.prototype.getCacheKey=function(e){return e},o}(ja),vf=_h;function Su(h,o){return Object(i.get)(h,["components","axis",o,"grid"],{})}function qu(h,o,e,a){var M=[],N=o.getTicks();return h.isPolar&&N.push({value:1,text:"",tickValue:""}),N.reduce(function(ot,Ct,Ft){var ne=Ct.value;if(a)M.push({points:[h.convert(e==="y"?{x:0,y:ne}:{x:ne,y:0}),h.convert(e==="y"?{x:1,y:ne}:{x:ne,y:1})]});else if(Ft){var ge=ot.value,be=(ge+ne)/2;M.push({points:[h.convert(e==="y"?{x:0,y:be}:{x:be,y:0}),h.convert(e==="y"?{x:1,y:be}:{x:be,y:1})]})}return Ct},N[0]),M}function Ls(h,o,e,a,M){var N=o.values.length,ot=[],Ct=e.getTicks();return Ct.reduce(function(Ft,ne){var ge=Ft?Ft.value:ne.value,be=ne.value,Ae=(ge+be)/2;return M==="x"?ot.push({points:[h.convert({x:a?be:Ae,y:0}),h.convert({x:a?be:Ae,y:1})]}):ot.push({points:Object(i.map)(Array(N+1),function(Xe,fn){return h.convert({x:fn/N,y:a?be:Ae})})}),ne},Ct[0]),ot}function pf(h,o){var e=Object(i.get)(o,"grid");if(e===null)return!1;var a=Object(i.get)(h,"grid");return!(e===void 0&&a===null)}var Bs=["container"],gf=Object(Y.a)(Object(Y.a)({},Ya),{appear:null}),Go=function(h){Object(Y.b)(o,h);function o(e){var a=h.call(this,e)||this;return a.cache=new Map,a.gridContainer=a.view.getLayer(b.BG).addGroup(),a.axisContainer=a.view.getLayer(b.BG).addGroup(),a}return Object.defineProperty(o.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),o.prototype.init=function(){},o.prototype.render=function(){this.update()},o.prototype.layout=function(){var e=this,a=this.view.getCoordinate();Object(i.each)(this.getComponents(),function(M){var N=M.component,ot=M.direction,Ct=M.type,Ft=M.extra,ne=Ft.dim,ge=Ft.scale,be=Ft.alignTick,Ae;if(Ct===n.AXIS)a.isPolar?ne==="x"?Ae=a.isTransposed?Kr(a,ot):Gi(a):ne==="y"&&(Ae=a.isTransposed?Gi(a):Kr(a,ot)):Ae=Kr(a,ot);else if(Ct===n.GRID)if(a.isPolar){var Xe=void 0;a.isTransposed?Xe=ne==="x"?Ls(a,e.view.getYScales()[0],ge,be,ne):qu(a,ge,ne,be):Xe=ne==="x"?qu(a,ge,ne,be):Ls(a,e.view.getXScale(),ge,be,ne),Ae={items:Xe,center:e.view.getCoordinate().getCenter()}}else Ae={items:qu(a,ge,ne,be)};N.update(Ae)})},o.prototype.update=function(){this.option=this.view.getOptions().axes;var e=new Map;this.updateXAxes(e),this.updateYAxes(e);var a=new Map;this.cache.forEach(function(M,N){e.has(N)?a.set(N,M):M.component.destroy()}),this.cache=a},o.prototype.clear=function(){h.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.axisContainer.clear()},o.prototype.destroy=function(){h.prototype.destroy.call(this),this.gridContainer.remove(!0),this.axisContainer.remove(!0)},o.prototype.getComponents=function(){var e=[];return this.cache.forEach(function(a){e.push(a)}),e},o.prototype.updateXAxes=function(e){var a=this.view.getXScale();if(!(!a||a.isIdentity)){var M=ca(this.option,a.field);if(M!==!1){var N=ha(M,t.BOTTOM),ot=b.BG,Ct="x",Ft=this.view.getCoordinate(),ne=this.getId("axis",a.field),ge=this.getId("grid",a.field);if(Ft.isRect){var be=this.cache.get(ne);if(be){var Ae=this.getLineAxisCfg(a,M,N);te(Ae,Bs),be.component.update(Ae),e.set(ne,be)}else be=this.createLineAxis(a,M,ot,N,Ct),this.cache.set(ne,be),e.set(ne,be);var Xe=this.cache.get(ge);if(Xe){var Ae=this.getLineGridCfg(a,M,N,Ct);te(Ae,Bs),Xe.component.update(Ae),e.set(ge,Xe)}else Xe=this.createLineGrid(a,M,ot,N,Ct),Xe&&(this.cache.set(ge,Xe),e.set(ge,Xe))}else if(Ft.isPolar){var be=this.cache.get(ne);if(be){var Ae=Ft.isTransposed?this.getLineAxisCfg(a,M,t.RADIUS):this.getCircleAxisCfg(a,M,N);te(Ae,Bs),be.component.update(Ae),e.set(ne,be)}else{if(Ft.isTransposed){if(Object(i.isUndefined)(M))return;be=this.createLineAxis(a,M,ot,t.RADIUS,Ct)}else be=this.createCircleAxis(a,M,ot,N,Ct);this.cache.set(ne,be),e.set(ne,be)}var Xe=this.cache.get(ge);if(Xe){var Ae=Ft.isTransposed?this.getCircleGridCfg(a,M,t.RADIUS,Ct):this.getLineGridCfg(a,M,t.CIRCLE,Ct);te(Ae,Bs),Xe.component.update(Ae),e.set(ge,Xe)}else{if(Ft.isTransposed){if(Object(i.isUndefined)(M))return;Xe=this.createCircleGrid(a,M,ot,t.RADIUS,Ct)}else Xe=this.createLineGrid(a,M,ot,t.CIRCLE,Ct);Xe&&(this.cache.set(ge,Xe),e.set(ge,Xe))}}}}},o.prototype.updateYAxes=function(e){var a=this,M=this.view.getYScales();Object(i.each)(M,function(N,ot){if(!(!N||N.isIdentity)){var Ct=N.field,Ft=ca(a.option,Ct);if(Ft!==!1){var ne=b.BG,ge="y",be=a.getId("axis",Ct),Ae=a.getId("grid",Ct),Xe=a.view.getCoordinate();if(Xe.isRect){var fn=ha(Ft,ot===0?t.LEFT:t.RIGHT),Sn=a.cache.get(be);if(Sn){var nr=a.getLineAxisCfg(N,Ft,fn);te(nr,Bs),Sn.component.update(nr),e.set(be,Sn)}else Sn=a.createLineAxis(N,Ft,ne,fn,ge),a.cache.set(be,Sn),e.set(be,Sn);var ar=a.cache.get(Ae);if(ar){var nr=a.getLineGridCfg(N,Ft,fn,ge);te(nr,Bs),ar.component.update(nr),e.set(Ae,ar)}else ar=a.createLineGrid(N,Ft,ne,fn,ge),ar&&(a.cache.set(Ae,ar),e.set(Ae,ar))}else if(Xe.isPolar){var Sn=a.cache.get(be);if(Sn){var nr=Xe.isTransposed?a.getCircleAxisCfg(N,Ft,t.CIRCLE):a.getLineAxisCfg(N,Ft,t.RADIUS);te(nr,Bs),Sn.component.update(nr),e.set(be,Sn)}else{if(Xe.isTransposed){if(Object(i.isUndefined)(Ft))return;Sn=a.createCircleAxis(N,Ft,ne,t.CIRCLE,ge)}else Sn=a.createLineAxis(N,Ft,ne,t.RADIUS,ge);a.cache.set(be,Sn),e.set(be,Sn)}var ar=a.cache.get(Ae);if(ar){var nr=Xe.isTransposed?a.getLineGridCfg(N,Ft,t.CIRCLE,ge):a.getCircleGridCfg(N,Ft,t.RADIUS,ge);te(nr,Bs),ar.component.update(nr),e.set(Ae,ar)}else{if(Xe.isTransposed){if(Object(i.isUndefined)(Ft))return;ar=a.createLineGrid(N,Ft,ne,t.CIRCLE,ge)}else ar=a.createCircleGrid(N,Ft,ne,t.RADIUS,ge);ar&&(a.cache.set(Ae,ar),e.set(Ae,ar))}}}}})},o.prototype.createLineAxis=function(e,a,M,N,ot){var Ct={component:new Ni(this.getLineAxisCfg(e,a,N)),layer:M,direction:N===t.RADIUS?t.NONE:N,type:n.AXIS,extra:{dim:ot,scale:e}};return Ct.component.set("field",e.field),Ct.component.init(),Ct},o.prototype.createLineGrid=function(e,a,M,N,ot){var Ct=this.getLineGridCfg(e,a,N,ot);if(Ct){var Ft={component:new Fi(Ct),layer:M,direction:t.NONE,type:n.GRID,extra:{dim:ot,scale:e,alignTick:Object(i.get)(Ct,"alignTick",!0)}};return Ft.component.init(),Ft}},o.prototype.createCircleAxis=function(e,a,M,N,ot){var Ct={component:new Bi(this.getCircleAxisCfg(e,a,N)),layer:M,direction:N,type:n.AXIS,extra:{dim:ot,scale:e}};return Ct.component.set("field",e.field),Ct.component.init(),Ct},o.prototype.createCircleGrid=function(e,a,M,N,ot){var Ct=this.getCircleGridCfg(e,a,N,ot);if(Ct){var Ft={component:new ma(Ct),layer:M,direction:t.NONE,type:n.GRID,extra:{dim:ot,scale:e,alignTick:Object(i.get)(Ct,"alignTick",!0)}};return Ft.component.init(),Ft}},o.prototype.getLineAxisCfg=function(e,a,M){var N=this.axisContainer,ot=this.view.getCoordinate(),Ct=Kr(ot,M),Ft=na(e,a),ne=Ei(this.view.getTheme(),M),ge=Object(i.get)(a,["title"])?Object(i.deepMix)({title:{style:{text:Ft}}},{title:Object(i.get)(Ei(this.view.getTheme(),"common"),"title")},a):a,be=Object(i.deepMix)(Object(Y.a)(Object(Y.a)({container:N},Ct),{ticks:e.getTicks().map(function(Mr){return{id:""+Mr.tickValue,name:Mr.text,value:Mr.value}}),verticalFactor:ot.isPolar?Ri(Ct,ot.getCenter())*-1:Ri(Ct,ot.getCenter()),theme:ne}),ne,ge),Ae=this.getAnimateCfg(be),Xe=Ae.animate,fn=Ae.animateOption;be.animateOption=fn,be.animate=Xe;var Sn=Oi(Ct),nr=Object(i.get)(be,"verticalLimitLength",Sn?1/3:1/2);if(nr<=1){var ar=this.view.getCanvas().get("width"),Sr=this.view.getCanvas().get("height");be.verticalLimitLength=nr*(Sn?ar:Sr)}return be},o.prototype.getLineGridCfg=function(e,a,M,N){if(!!pf(Ei(this.view.getTheme(),M),a)){var ot=Su(this.view.getTheme(),M),Ct=Object(i.deepMix)({container:this.gridContainer},ot,Object(i.get)(a,"grid"),this.getAnimateCfg(a));return Ct.items=qu(this.view.getCoordinate(),e,N,Object(i.get)(Ct,"alignTick",!0)),Ct}},o.prototype.getCircleAxisCfg=function(e,a,M){var N=this.axisContainer,ot=this.view.getCoordinate(),Ct=e.getTicks().map(function(Sn){return{id:""+Sn.tickValue,name:Sn.text,value:Sn.value}});!e.isCategory&&Math.abs(ot.endAngle-ot.startAngle)===Math.PI*2&&Ct.pop();var Ft=na(e,a),ne=Ei(this.view.getTheme(),t.CIRCLE),ge=Object(i.get)(a,["title"])?Object(i.deepMix)({title:{style:{text:Ft}}},{title:Object(i.get)(Ei(this.view.getTheme(),"common"),"title")},a):a,be=Object(i.deepMix)(Object(Y.a)(Object(Y.a)({container:N},Gi(this.view.getCoordinate())),{ticks:Ct,verticalFactor:1,theme:ne}),ne,ge),Ae=this.getAnimateCfg(be),Xe=Ae.animate,fn=Ae.animateOption;return be.animate=Xe,be.animateOption=fn,be},o.prototype.getCircleGridCfg=function(e,a,M,N){if(!!pf(Ei(this.view.getTheme(),M),a)){var ot=Su(this.view.getTheme(),t.RADIUS),Ct=Object(i.deepMix)({container:this.gridContainer,center:this.view.getCoordinate().getCenter()},ot,Object(i.get)(a,"grid"),this.getAnimateCfg(a)),Ft=Object(i.get)(Ct,"alignTick",!0),ne=N==="x"?this.view.getYScales()[0]:this.view.getXScale();return Ct.items=Ls(this.view.getCoordinate(),ne,e,Ft,N),Ct}},o.prototype.getId=function(e,a){var M=this.view.getCoordinate();return e+"-"+a+"-"+M.type},o.prototype.getAnimateCfg=function(e){return{animate:this.view.getOptions().animate&&Object(i.get)(e,"animate"),animateOption:e&&e.animateOption?Object(i.deepMix)({},gf,e.animateOption):gf}},o}(ja),mf=Go;function Es(h,o,e){return e===t.TOP?[h.minX+h.width/2-o.width/2,h.minY]:e===t.BOTTOM?[h.minX+h.width/2-o.width/2,h.maxY-o.height]:e===t.LEFT?[h.minX,h.minY+h.height/2-o.height/2]:e===t.RIGHT?[h.maxX-o.width,h.minY+h.height/2-o.height/2]:e===t.TOP_LEFT||e===t.LEFT_TOP?[h.tl.x,h.tl.y]:e===t.TOP_RIGHT||e===t.RIGHT_TOP?[h.tr.x-o.width,h.tr.y]:e===t.BOTTOM_LEFT||e===t.LEFT_BOTTOM?[h.bl.x,h.bl.y-o.height]:e===t.BOTTOM_RIGHT||e===t.RIGHT_BOTTOM?[h.br.x-o.width,h.br.y-o.height]:[0,0]}function yf(h,o){if(o.isTransposed)switch(h){case t.BOTTOM:return t.LEFT;case t.LEFT:return t.BOTTOM;case t.RIGHT:return t.TOP;case t.TOP:return t.RIGHT}return h}function bf(h){return h===t.LEFT?t.RIGHT:h===t.RIGHT?t.LEFT:h}function xf(h){return h===t.TOP?t.BOTTOM:h===t.BOTTOM?t.TOP:h}function Vh(h,o){var e=o.matrix[0],a=o.matrix[4],M=h;return e<0&&(M=bf(M)),a<0&&(M=xf(M)),M}function Wh(h,o){var e=h;return o.isReflect("x")&&(e=bf(e)),o.isReflect("y")&&(e=xf(e)),e}function Yh(h,o){var e=h;return e=yf(e,o),e=Vh(e,o),e=Wh(e,o),e}function Of(h,o){return Object(i.isBoolean)(h)?h===!1?!1:{}:Object(i.get)(h,[o],h)}function tc(h){return Object(i.get)(h,"position",t.BOTTOM)}var Eu=function(h){Object(Y.b)(o,h);function o(e){var a=h.call(this,e)||this;return a.container=a.view.getLayer(b.FORE).addGroup(),a}return Object.defineProperty(o.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),o.prototype.init=function(){},o.prototype.render=function(){this.update()},o.prototype.layout=function(){var e=this;this.layoutBBox=this.view.viewBBox,Object(i.each)(this.components,function(a){var M=a.component,N=a.direction,ot=Hn(N),Ct=e.getCategoryLegendSizeCfg(ot),Ft=M.get("maxWidth"),ne=M.get("maxHeight");M.update({maxWidth:Math.min(Ct.maxWidth,Ft||0),maxHeight:Math.min(Ct.maxHeight,ne||0)});var ge=M.get("padding"),be=M.getLayoutBBox(),Ae=new Ze(be.x,be.y,be.width,be.height).expand(ge),Xe=Es(e.view.viewBBox,Ae,N),fn=Xe[0],Sn=Xe[1],nr=Es(e.layoutBBox,Ae,N),ar=nr[0],Sr=nr[1],Mr=0,qr=0;N.startsWith("top")||N.startsWith("bottom")?(Mr=fn,qr=Sr):(Mr=ar,qr=Sn),M.setLocation({x:Mr+ge[3],y:qr+ge[0]}),e.layoutBBox=e.layoutBBox.cut(Ae,N)})},o.prototype.update=function(){var e=this;this.option=this.view.getOptions().legends;var a={},M=function(Xe,fn,Sn){var nr=e.getId(Sn.field),ar=e.getComponentById(nr);if(ar){var Sr=void 0,Mr=Of(e.option,Sn.field);Mr!==!1&&(Object(i.get)(Mr,"custom")?Sr=e.getCategoryCfg(Xe,fn,Sn,Mr,!0):Sn.isLinear?Sr=e.getContinuousCfg(Xe,fn,Sn,Mr):Sn.isCategory&&(Sr=e.getCategoryCfg(Xe,fn,Sn,Mr))),Sr&&(te(Sr,["container"]),ar.direction=tc(Mr),ar.component.update(Sr),a[nr]=!0)}else{var qr=e.createFieldLegend(Xe,fn,Sn);qr&&(qr.component.init(),e.components.push(qr),a[nr]=!0)}};if(Object(i.get)(this.option,"custom")){var N="global-custom",ot=this.getComponentById(N);if(ot){var Ct=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);te(Ct,["container"]),ot.component.update(Ct),a[N]=!0}else{var Ft=this.createCustomLegend(void 0,void 0,void 0,this.option);if(Ft){Ft.init();var ne=b.FORE,ge=tc(this.option);this.components.push({id:N,component:Ft,layer:ne,direction:ge,type:n.LEGEND,extra:void 0}),a[N]=!0}}}else this.loopLegends(M);var be=[];Object(i.each)(this.getComponents(),function(Ae){a[Ae.id]?be.push(Ae):Ae.component.destroy()}),this.components=be},o.prototype.clear=function(){h.prototype.clear.call(this),this.container.clear()},o.prototype.destroy=function(){h.prototype.destroy.call(this),this.container.remove(!0)},o.prototype.getGeometries=function(e){var a=this,M=e.geometries;return Object(i.each)(e.views,function(N){M=M.concat(a.getGeometries(N))}),M},o.prototype.loopLegends=function(e){var a=this.view.getRootView()===this.view;if(!!a){var M=this.getGeometries(this.view),N={};Object(i.each)(M,function(ot){var Ct=ot.getGroupAttributes();Object(i.each)(Ct,function(Ft){var ne=Ft.getScale(Ft.type);!ne||ne.type==="identity"||N[ne.field]||(e(ot,Ft,ne),N[ne.field]=!0)})})}},o.prototype.createFieldLegend=function(e,a,M){var N,ot=Of(this.option,M.field),Ct=b.FORE,Ft=tc(ot);if(ot!==!1&&(Object(i.get)(ot,"custom")?N=this.createCustomLegend(e,a,M,ot):M.isLinear?N=this.createContinuousLegend(e,a,M,ot):M.isCategory&&(N=this.createCategoryLegend(e,a,M,ot))),N)return N.set("field",M.field),{id:this.getId(M.field),component:N,layer:Ct,direction:Ft,type:n.LEGEND,extra:{scale:M}}},o.prototype.createCustomLegend=function(e,a,M,N){var ot=this.getCategoryCfg(e,a,M,N,!0);return new ua(ot)},o.prototype.createContinuousLegend=function(e,a,M,N){var ot=this.getContinuousCfg(e,a,M,N);return new Ra(ot)},o.prototype.createCategoryLegend=function(e,a,M,N){var ot=this.getCategoryCfg(e,a,M,N);return new ua(ot)},o.prototype.getContinuousCfg=function(e,a,M,N){var ot=M.getTicks(),Ct=Object(i.find)(ot,function(Sn){return Sn.value===0}),Ft=Object(i.find)(ot,function(Sn){return Sn.value===1}),ne=ot.map(function(Sn){var nr=Sn.value,ar=Sn.tickValue,Sr=a.mapping(M.invert(nr)).join("");return{value:ar,attrValue:Sr,color:Sr,scaleValue:nr}});Ct||ne.push({value:M.min,attrValue:a.mapping(M.invert(0)).join(""),color:a.mapping(M.invert(0)).join(""),scaleValue:0}),Ft||ne.push({value:M.max,attrValue:a.mapping(M.invert(1)).join(""),color:a.mapping(M.invert(1)).join(""),scaleValue:1}),ne.sort(function(Sn,nr){return Sn.value-nr.value});var ge={min:Object(i.head)(ne).value,max:Object(i.last)(ne).value,colors:[],rail:{type:a.type},track:{}};a.type==="size"&&(ge.track={style:{fill:a.type==="size"?this.view.getTheme().defaultColor:void 0}}),a.type==="color"&&(ge.colors=ne.map(function(Sn){return Sn.attrValue}));var be=this.container,Ae=tc(N),Xe=Hn(Ae),fn=Object(i.get)(N,"title");return fn&&(fn=Object(i.deepMix)({text:Lr(M)},fn)),ge.container=be,ge.layout=Xe,ge.title=fn,ge.animateOption=Ya,this.mergeLegendCfg(ge,N,"continuous")},o.prototype.getCategoryCfg=function(e,a,M,N,ot){var Ct=this.container,Ft=Object(i.get)(N,"position",t.BOTTOM),ne=Object(i.get)(this.view.getTheme(),["components","legend",Ft,"marker"]),ge=Object(i.get)(N,"marker"),be=Hn(Ft),Ae=ot?Or(ne,ge,N.items):xr(this.view,e,a,ne,ge),Xe=Object(i.get)(N,"title");Xe&&(Xe=Object(i.deepMix)({text:M?Lr(M):""},Xe));var fn=this.getCategoryLegendSizeCfg(be);fn.container=Ct,fn.layout=be,fn.items=Ae,fn.title=Xe,fn.animateOption=Ya;var Sn=this.mergeLegendCfg(fn,N,Ft);Sn.reversed&&Sn.items.reverse();var nr=Object(i.get)(Sn,"maxItemWidth");return nr&&nr<=1&&(Sn.maxItemWidth=this.view.viewBBox.width*nr),Sn},o.prototype.mergeLegendCfg=function(e,a,M){var N=M.split("-")[0],ot=Object(i.get)(this.view.getTheme(),["components","legend",N],{});return Object(i.deepMix)({},ot,e,a)},o.prototype.getId=function(e){return this.name+"-"+e},o.prototype.getComponentById=function(e){return Object(i.find)(this.components,function(a){return a.id===e})},o.prototype.getCategoryLegendSizeCfg=function(e){var a=this.view.viewBBox,M=a.width,N=a.height;return e==="vertical"?{maxWidth:M*d,maxHeight:N}:{maxWidth:M,maxHeight:N*d}},o}(ja),Sf=Eu,iu=function(h){Object(Y.b)(o,h);function o(e){var a=h.call(this,e)||this;return a.onChangeFn=i.noop,a.resetMeasure=function(){a.clear()},a.onValueChange=function(M){var N=M[0],ot=M[1];a.start=N,a.end=ot,a.changeViewData(N,ot)},a.container=a.view.getLayer(b.FORE).addGroup(),a.onChangeFn=Object(i.throttle)(a.onValueChange,20,{leading:!0}),a.width=0,a.view.on(g.BEFORE_CHANGE_DATA,a.resetMeasure),a.view.on(g.BEFORE_CHANGE_SIZE,a.resetMeasure),a}return Object.defineProperty(o.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),o.prototype.destroy=function(){h.prototype.destroy.call(this),this.view.off(g.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(g.BEFORE_CHANGE_SIZE,this.resetMeasure)},o.prototype.init=function(){},o.prototype.render=function(){this.option=this.view.getOptions().slider;var e=this.getSliderCfg(),a=e.start,M=e.end;Object(i.isNil)(this.start)&&(this.start=a,this.end=M);var N=this.view.getOptions().data;this.option&&!Object(i.isEmpty)(N)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},o.prototype.layout=function(){var e=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){e.view.destroyed||e.changeViewData(e.start,e.end)},0)),this.slider){var a=this.view.coordinateBBox.width,M=this.slider.component.get("padding"),N=M[0],ot=M[1],Ct=M[2],Ft=M[3],ne=this.slider.component.getLayoutBBox(),ge=new Ze(ne.x,ne.y,Math.min(ne.width,a),ne.height).expand(M),be=this.getMinMaxText(this.start,this.end),Ae=be.minText,Xe=be.maxText,fn=Es(this.view.viewBBox,ge,t.BOTTOM),Sn=fn[0],nr=fn[1],ar=Es(this.view.coordinateBBox,ge,t.BOTTOM),Sr=ar[0],Mr=ar[1];this.slider.component.update(Object(Y.a)(Object(Y.a)({},this.getSliderCfg()),{x:Sr+Ft,y:nr+N,width:this.width,start:this.start,end:this.end,minText:Ae,maxText:Xe})),this.view.viewBBox=this.view.viewBBox.cut(ge,t.BOTTOM)}},o.prototype.update=function(){this.render()},o.prototype.createSlider=function(){var e=this.getSliderCfg(),a=new pi.Slider(Object(Y.a)({container:this.container},e));return a.init(),{component:a,layer:b.FORE,direction:t.BOTTOM,type:n.SLIDER}},o.prototype.updateSlider=function(){var e=this.getSliderCfg();if(this.width){var a=this.getMinMaxText(this.start,this.end),M=a.minText,N=a.maxText;e=Object(Y.a)(Object(Y.a)({},e),{width:this.width,start:this.start,end:this.end,minText:M,maxText:N})}return this.slider.component.update(e),this.slider},o.prototype.measureSlider=function(){var e=this.getSliderCfg().width;this.width=e},o.prototype.getSliderCfg=function(){var e={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if(Object(i.isObject)(this.option)){var a=Object(Y.a)({data:this.getData()},Object(i.get)(this.option,"trendCfg",{}));e=Object(i.deepMix)({},e,this.getThemeOptions(),this.option),e=Object(Y.a)(Object(Y.a)({},e),{trendCfg:a})}return e.start=Object(i.clamp)(Math.min(Object(i.isNil)(e.start)?0:e.start,Object(i.isNil)(e.end)?1:e.end),0,1),e.end=Object(i.clamp)(Math.max(Object(i.isNil)(e.start)?0:e.start,Object(i.isNil)(e.end)?1:e.end),0,1),e},o.prototype.getData=function(){var e=this.view.getOptions().data,a=this.view.getYScales()[0],M=this.view.getGroupScales();if(M.length){var N=M[0],ot=N.field,Ct=N.ticks;return e.reduce(function(Ft,ne){return ne[ot]===Ct[0]&&Ft.push(ne[a.field]),Ft},[])}return e.map(function(Ft){return Ft[a.field]||0})},o.prototype.getThemeOptions=function(){var e=this.view.getTheme();return Object(i.get)(e,["components","slider","common"],{})},o.prototype.getMinMaxText=function(e,a){var M=this.view.getOptions().data,N=this.view.getXScale(),ot=!0,Ct=Object(i.valuesOfKey)(M,N.field),Ft=ot?Ct:Ct.reverse(),ne=Object(i.size)(M);if(!N||!ne)return{};var ge=Object(i.size)(Ft),be=Math.floor(e*(ge-1)),Ae=Math.floor(a*(ge-1)),Xe=Object(i.get)(Ft,[be]),fn=Object(i.get)(Ft,[Ae]),Sn=this.getSliderCfg().formatter;return Sn&&(Xe=Sn(Xe,M[be],be),fn=Sn(fn,M[Ae],Ae)),{minText:Xe,maxText:fn}},o.prototype.changeViewData=function(e,a){var M=this.view.getOptions().data,N=this.view.getXScale(),ot=!0,Ct=Object(i.valuesOfKey)(M,N.field),Ft=ot?Ct:Ct.reverse(),ne=Object(i.size)(M);if(!(!N||!ne)){var ge=Object(i.size)(Ft),be=Math.floor(e*(ge-1)),Ae=Math.floor(a*(ge-1));this.view.filter(N.field,function(Xe,fn){var Sn=Ft.indexOf(Xe);return Sn>-1?ae(Sn,be,Ae):!0}),this.view.render(!0)}},o.prototype.getComponents=function(){return this.slider?[this.slider]:[]},o.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},o}(ja),Ef=iu,Ys=0,wf=8,Xh=32,Hh=20,Kh=function(h){Object(Y.b)(o,h);function o(e){var a=h.call(this,e)||this;return a.onChangeFn=i.noop,a.resetMeasure=function(){a.clear()},a.onValueChange=function(M){var N=M.ratio,ot=a.getValidScrollbarCfg().animate;a.ratio=Object(i.clamp)(N,0,1);var Ct=a.view.getOptions().animate;ot||a.view.animate(!1),a.changeViewData(a.getScrollRange(),!0),a.view.animate(Ct)},a.container=a.view.getLayer(b.FORE).addGroup(),a.onChangeFn=Object(i.throttle)(a.onValueChange,20,{leading:!0}),a.trackLen=0,a.thumbLen=0,a.ratio=0,a.view.on(g.BEFORE_CHANGE_DATA,a.resetMeasure),a.view.on(g.BEFORE_CHANGE_SIZE,a.resetMeasure),a}return Object.defineProperty(o.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),o.prototype.destroy=function(){h.prototype.destroy.call(this),this.view.off(g.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(g.BEFORE_CHANGE_SIZE,this.resetMeasure)},o.prototype.init=function(){},o.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},o.prototype.layout=function(){var e=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){e.view.destroyed||e.changeViewData(e.getScrollRange(),!0)})),this.scrollbar){var a=this.view.coordinateBBox.width,M=this.scrollbar.component.get("padding"),N=this.scrollbar.component.getLayoutBBox(),ot=new Ze(N.x,N.y,Math.min(N.width,a),N.height).expand(M),Ct=this.getScrollbarComponentCfg(),Ft=void 0,ne=void 0;if(Ct.isHorizontal){var ge=Es(this.view.viewBBox,ot,t.BOTTOM),be=ge[0],Ae=ge[1],Xe=Es(this.view.coordinateBBox,ot,t.BOTTOM),fn=Xe[0],Sn=Xe[1];Ft=fn,ne=Ae}else{var nr=Es(this.view.viewBBox,ot,t.RIGHT),be=nr[0],Ae=nr[1],ar=Es(this.view.viewBBox,ot,t.RIGHT),fn=ar[0],Sn=ar[1];Ft=fn,ne=Ae}Ft+=M[3],ne+=M[0],this.trackLen?this.scrollbar.component.update(Object(Y.a)(Object(Y.a)({},Ct),{x:Ft,y:ne,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(Object(Y.a)(Object(Y.a)({},Ct),{x:Ft,y:ne})),this.view.viewBBox=this.view.viewBBox.cut(ot,Ct.isHorizontal?t.BOTTOM:t.RIGHT)}},o.prototype.update=function(){this.render()},o.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},o.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},o.prototype.getThemeOptions=function(){var e=this.view.getTheme();return Object(i.get)(e,["components","slider","common"],{})},o.prototype.measureScrollbar=function(){var e=this.view.getXScale(),a=this.view.getYScales().slice();this.data=this.view.getOptions().data,this.step=this.getStep(),this.cnt=this.getCnt();var M=this.getScrollbarComponentCfg(),N=M.trackLen,ot=M.thumbLen;this.trackLen=N,this.thumbLen=ot,this.xScaleCfg={field:e.field,values:e.values||[]},this.yScalesCfg=a},o.prototype.getScrollRange=function(){var e=Math.floor((this.cnt-this.step)*Object(i.clamp)(this.ratio,0,1)),a=Math.min(e+this.step-1,this.cnt-1);return[e,a]},o.prototype.changeViewData=function(e,a){var M=this,N=e[0],ot=e[1],Ct=this.getValidScrollbarCfg().type,Ft=Ct!=="vertical",ne=Object(i.valuesOfKey)(this.data,this.xScaleCfg.field),ge=Ft?ne:ne.reverse();this.yScalesCfg.forEach(function(be){M.view.scale(be.field,{formatter:be.formatter,type:be.type,min:be.min,max:be.max})}),this.view.filter(this.xScaleCfg.field,function(be){var Ae=ge.indexOf(be);return Ae>-1?ae(Ae,N,ot):!0}),this.view.render(!0)},o.prototype.createScrollbar=function(){var e=this.getValidScrollbarCfg().type,a=e!=="vertical",M=new pi.Scrollbar(Object(Y.a)(Object(Y.a)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return M.init(),{component:M,layer:b.FORE,direction:a?t.BOTTOM:t.RIGHT,type:n.SCROLLBAR}},o.prototype.updateScrollbar=function(){var e=this.getScrollbarComponentCfg(),a=this.trackLen?Object(Y.a)(Object(Y.a)({},e),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):Object(Y.a)({},e);return this.scrollbar.component.update(a),this.scrollbar},o.prototype.getStep=function(){if(this.step)return this.step;var e=this.view.coordinateBBox,a=this.getValidScrollbarCfg(),M=a.type,N=a.categorySize,ot=M!=="vertical";return Math.floor((ot?e.width:e.height)/N)},o.prototype.getCnt=function(){if(this.cnt)return this.cnt;var e=this.view.getXScale(),a=this.view.getOptions().data,M=Object(i.valuesOfKey)(a,e.field);return Object(i.size)(M)},o.prototype.getScrollbarComponentCfg=function(){var e=this.view,a=e.coordinateBBox,M=e.viewBBox,N=this.view.getXScale(),ot=this.getValidScrollbarCfg(),Ct=ot.type,Ft=ot.padding,ne=ot.width,ge=ot.height,be=Ct!=="vertical",Ae=Ft[0],Xe=Ft[1],fn=Ft[2],Sn=Ft[3],nr=be?{x:a.minX+Sn,y:M.maxY-ge-fn}:{x:M.maxX-ne-Xe,y:a.minY+Ae},ar=this.getStep(),Sr=this.getCnt(),Mr=be?a.width-Sn-Xe:a.height-Ae-fn,qr=Math.max(Mr*Object(i.clamp)(ar/Sr,0,1),Hh);return Object(Y.a)(Object(Y.a)({},this.getThemeOptions()),{x:nr.x,y:nr.y,size:be?ge:ne,isHorizontal:be,trackLen:Mr,thumbLen:qr,thumbOffset:0})},o.prototype.getValidScrollbarCfg=function(){var e={type:"horizontal",categorySize:Xh,width:wf,height:wf,padding:[0,0,0,0],animate:!0};return Object(i.isObject)(this.option)&&(e=Object(Y.a)(Object(Y.a)({},e),this.option)),(!Object(i.isObject)(this.option)||!this.option.padding)&&(e.padding=e.type==="horizontal"?[Ys,0,Ys,0]:[0,Ys,0,Ys]),e},o}(ja),Jh=Kh,Qh=function(h){Object(Y.b)(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}return o.prototype.show=function(){var e=this.context.view,a=this.context.event,M=e.getTooltipItems({x:a.x,y:a.y});if(!Object(i.isEqual)(M,this.items)&&(this.items=M,M.length)){var N=e.getXScale().field,ot=M[0].data[N],Ct=[],Ft=e.geometries;if(Object(i.each)(Ft,function(co){if(co.type==="interval"||co.type==="schema"){var go=co.getElementsBy(function(et){var z=et.getData();return z[N]===ot});Ct=Ct.concat(go)}}),Ct.length){var ne=e.getCoordinate(),ge=Ct[0].shape.getCanvasBBox(),be=Ct[0].shape.getCanvasBBox(),Ae=ge;Object(i.each)(Ct,function(co){var go=co.shape.getCanvasBBox();ne.isTransposed?(go.minY<ge.minY&&(ge=go),go.maxY>be.maxY&&(be=go)):(go.minX<ge.minX&&(ge=go),go.maxX>be.maxX&&(be=go)),Ae.x=Math.min(go.minX,Ae.minX),Ae.y=Math.min(go.minY,Ae.minY),Ae.width=Math.max(go.maxX,Ae.maxX)-Ae.x,Ae.height=Math.max(go.maxY,Ae.maxY)-Ae.y});var Xe=e.backgroundGroup,fn=e.coordinateBBox,Sn=void 0;if(ne.isRect){var nr=e.getXScale(),ar=nr.isLinear?0:.25,Sr=void 0,Mr=void 0,qr=void 0,oi=void 0;ne.isTransposed?(Sr=fn.minX,Mr=Math.min(be.minY,ge.minY)-ar*be.height,qr=fn.width,oi=Ae.height+ar*2*be.height):(Sr=Math.min(ge.minX,be.minX)-ar*ge.width,Mr=Math.min(fn.minY,ge.minY),qr=Ae.width+ar*2*ge.width,oi=fn.height),Sn=[["M",Sr,Mr],["L",Sr+qr,Mr],["L",Sr+qr,Mr+oi],["L",Sr,Mr+oi],["Z"]]}else{var ai=Object(i.head)(Ct),aa=Object(i.last)(Ct),Ji=za(ai.getModel(),ne).startAngle,_i=za(aa.getModel(),ne).endAngle,Ca=ne.getCenter(),io=ne.getRadius(),ao=ne.innerRadius*io;Sn=ka(Ca.x,Ca.y,io,Ji,_i,ao)}this.regionPath?(this.regionPath.attr("path",Sn),this.regionPath.show()):this.regionPath=Xe.addShape({type:"path",name:"active-region",capture:!1,attrs:{path:Sn,fill:"#CCD6EC",opacity:.3}})}}},o.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},o.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),h.prototype.destroy.call(this)},o}(vt),Cf=Qh,ws=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.timeStamp=0,e}return o.prototype.show=function(){var e=this.context,a=e.event,M=e.view,N=M.isTooltipLocked();if(!N){var ot=this.timeStamp,Ct=+new Date,Ft=Object(i.get)(e.view.getOptions(),"tooltip.showDelay",16);if(Ct-ot>Ft){var ne=this.location,ge={x:a.x,y:a.y};(!ne||!Object(i.isEqual)(ne,ge))&&this.showTooltip(M,ge),this.timeStamp=Ct,this.location=ge}}},o.prototype.hide=function(){var e=this.context.view,a=e.getController("tooltip"),M=this.context.event,N=M.clientX,ot=M.clientY;a.isCursorEntered({x:N,y:ot})||e.isTooltipLocked()||(this.hideTooltip(e),this.location=null)},o.prototype.showTooltip=function(e,a){e.showTooltip(a)},o.prototype.hideTooltip=function(e){e.hideTooltip()},o}(vt),cs=ws,Xs=function(h){Object(Y.b)(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}return o.prototype.showTooltip=function(e,a){var M=rn(e);Object(i.each)(M,function(N){var ot=_e(e,N,a);N.showTooltip(ot)})},o.prototype.hideTooltip=function(e){var a=rn(e);Object(i.each)(a,function(M){M.hideTooltip()})},o}(cs),$o=Xs,au=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.timeStamp=0,e}return o.prototype.destroy=function(){h.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},o.prototype.show=function(){var e=this.context,a=e.event,M=this.timeStamp,N=+new Date;if(N-M>16){var ot=this.location,Ct={x:a.x,y:a.y};(!ot||!Object(i.isEqual)(ot,Ct))&&this.showTooltip(Ct),this.timeStamp=N,this.location=Ct}},o.prototype.hide=function(){this.hideTooltip(),this.location=null},o.prototype.showTooltip=function(e){var a=this.context,M=a.event,N=M.target;if(N&&N.get("tip")){this.tooltip||this.renderTooltip();var ot=N.get("tip");this.tooltip.update(Object(Y.a)({title:ot},e)),this.tooltip.show()}},o.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},o.prototype.renderTooltip=function(){var e,a=this.context.view,M=a.canvas,N={start:{x:0,y:0},end:{x:M.get("width"),y:M.get("height")}},ot=a.getTheme(),Ct=Object(i.get)(ot,["components","tooltip","domStyles"],{}),Ft=new xa({parent:M.get("el").parentNode,region:N,visible:!1,crosshairs:null,domStyles:Object(Y.a)({},Object(i.deepMix)({},Ct,(e={},e[pi.TOOLTIP_CSS_CONST.CONTAINER_CLASS]={"max-width":"50%"},e[pi.TOOLTIP_CSS_CONST.TITLE_CLASS]={"word-break":"break-all"},e)))});Ft.init(),Ft.setCapture(!1),this.tooltip=Ft},o}(vt),ec=au,wu=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.stateName="",e}return o.prototype.hasState=function(e){return e.hasState(this.stateName)},o.prototype.setElementState=function(e,a){e.setState(this.stateName,a)},o.prototype.setState=function(){this.setStateEnable(!0)},o.prototype.clear=function(){var e=this.context.view;this.clearViewState(e)},o.prototype.clearViewState=function(e){var a=this,M=Re(e,this.stateName);Object(i.each)(M,function(N){a.setElementState(N,!1)})},o}(vt),Pc=wu;function Hs(h){return Object(i.get)(h.get("delegateObject"),"item")}var Zh=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.ignoreListItemStates=["unchecked"],e}return o.prototype.isItemIgnore=function(e,a){var M=this.ignoreListItemStates,N=M.filter(function(ot){return a.hasState(e,ot)});return!!N.length},o.prototype.setStateByComponent=function(e,a,M){var N=this.context.view,ot=e.get("field"),Ct=ke(N);this.setElementsStateByItem(Ct,ot,a,M)},o.prototype.setStateByElement=function(e,a){this.setElementState(e,a)},o.prototype.isMathItem=function(e,a,M){var N=this.context.view,ot=En(N,a),Ct=hn(e,a);return!Object(i.isNil)(Ct)&&M.name===ot.getText(Ct)},o.prototype.setElementsStateByItem=function(e,a,M,N){var ot=this;Object(i.each)(e,function(Ct){ot.isMathItem(Ct,a,M)&&Ct.setState(ot.stateName,N)})},o.prototype.setStateEnable=function(e){var a=ye(this.context);if(a)de(this.context)&&this.setStateByElement(a,e);else{var M=Zt(this.context);if(he(M)){var N=M.item,ot=M.component;if(N&&ot&&!this.isItemIgnore(N,ot)){var Ct=this.context.event.gEvent;if(Ct&&Ct.fromShape&&Ct.toShape&&Hs(Ct.fromShape)===Hs(Ct.toShape))return;this.setStateByComponent(ot,N,e)}}}},o.prototype.toggle=function(){var e=ye(this.context);if(e){var a=e.hasState(this.stateName);this.setElementState(e,!a)}},o.prototype.reset=function(){this.setStateEnable(!1)},o}(Pc),Cu=Zh,$h=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.stateName="active",e}return o.prototype.active=function(){this.setState()},o}(Cu),qh=$h,td=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.cache={},e}return o.prototype.getColorScale=function(e,a){var M=a.geometry.getAttribute("color");if(!M)return null;var N=e.getScaleByField(M.getFields()[0]);return N},o.prototype.getLinkPath=function(e,a){var M=this.context.view,N=M.getCoordinate().isTransposed,ot=e.shape.getCanvasBBox(),Ct=a.shape.getCanvasBBox(),Ft=N?[["M",ot.minX,ot.minY],["L",Ct.minX,Ct.maxY],["L",Ct.maxX,Ct.maxY],["L",ot.maxX,ot.minY],["Z"]]:[["M",ot.maxX,ot.minY],["L",Ct.minX,Ct.minY],["L",Ct.minX,Ct.maxY],["L",ot.maxX,ot.maxY],["Z"]];return Ft},o.prototype.addLinkShape=function(e,a,M){e.addShape({type:"path",attrs:{opacity:.4,fill:a.shape.attr("fill"),path:this.getLinkPath(a,M)}})},o.prototype.linkByElement=function(e){var a=this,M=this.context.view,N=this.getColorScale(M,e);if(!!N){var ot=hn(e,N.field);if(!this.cache[ot]){var Ct=nn(M,N.field,ot),Ft=this.linkGroup,ne=Ft.addGroup();this.cache[ot]=ne;var ge=Ct.length;Object(i.each)(Ct,function(be,Ae){if(Ae<ge-1){var Xe=Ct[Ae+1];a.addLinkShape(ne,be,Xe)}})}}},o.prototype.removeLink=function(e){var a=this.getColorScale(this.context.view,e);if(!!a){var M=hn(e,a.field);this.cache[M]&&(this.cache[M].remove(),this.cache[M]=null)}},o.prototype.link=function(){var e=this.context;this.linkGroup||(this.linkGroup=e.view.foregroundGroup.addGroup({capture:!1}));var a=ye(e);a&&this.linkByElement(a)},o.prototype.unlink=function(){var e=ye(this.context);e&&this.removeLink(e)},o.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},o.prototype.destroy=function(){h.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},o}(vt),ed=td,nd=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.startPoint=null,e.endPoint=null,e.isStarted=!1,e.effectSiblings=!1,e.effectByRecord=!1,e}return o.prototype.getCurrentPoint=function(){var e=this.context.event;return{x:e.x,y:e.y}},o.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},o.prototype.getIntersectElements=function(){var e=null;if(Me(this.context))e=We(this.context,10);else{var a=this.startPoint,M=this.isStarted?this.getCurrentPoint():this.endPoint;if(!a||!M)return;var N={minX:Math.min(a.x,M.x),minY:Math.min(a.y,M.y),maxX:Math.max(a.x,M.x),maxY:Math.max(a.y,M.y)},ot=this.context.view;e=on(ot,N)}return e},o.prototype.setStateEnable=function(e){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(e);else{var a=ke(this.context.view),M=this.getIntersectElements();M&&M.length?this.effectByRecord?this.setSiblingsStateByRecord(M,e):this.setElementsState(M,e,a):this.clear()}},o.prototype.setSiblingsStateByRecord=function(e,a){var M=this,N=this.context.view,ot=rn(N),Ct=e.map(function(ge){return ge.getModel().data}),Ft=N.getXScale().field,ne=N.getYScales()[0].field;Object(i.each)(ot,function(ge){var be=ke(ge),Ae=be.filter(function(Xe){var fn=Xe.getModel().data;return dn(Ct,fn,Ft,ne)});M.setElementsState(Ae,a,be)})},o.prototype.setSiblingsState=function(e){var a=this,M=this.context.view,N=rn(M);Me(this.context)&&Object(i.each)(N,function(ot){var Ct=ke(ot),Ft=Ye(a.context,ot,10);Ft&&Ft.length?a.setElementsState(Ft,e,Ct):a.clearViewState(ot)})},o.prototype.setElementsState=function(e,a,M){var N=this;Object(i.each)(M,function(ot){e.includes(ot)?N.setElementState(ot,a):N.setElementState(ot,!1)})},o.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},o.prototype.clear=function(){var e=this,a=this.context.view;if(this.effectSiblings){var M=rn(a);Object(i.each)(M,function(N){e.clearViewState(N)})}else this.clearViewState(a)},o}(Pc),nc=nd,rc=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.stateName="active",e}return o.prototype.active=function(){this.setState()},o}(nc),rd=rc,Mf=function(h){Object(Y.b)(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}return o.prototype.setStateEnable=function(e){var a=ye(this.context);if(a){if(!de(this.context))return;e?(this.clear(),this.setElementState(a,!0)):this.hasState(a)&&this.setElementState(a,!1)}},o.prototype.toggle=function(){var e=ye(this.context);if(e){var a=this.hasState(e);a||this.clear(),this.setElementState(e,!a)}},o.prototype.reset=function(){this.setStateEnable(!1)},o}(Pc),Mu=Mf,id=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.stateName="active",e}return o.prototype.active=function(){this.setState()},o}(Mu),ad=id,Au="inactive",ou="active";function Fs(h){var o=ke(h);Object(i.each)(o,function(e){e.hasState(ou)&&e.setState(ou,!1),e.hasState(Au)&&e.setState(Au,!1)})}function Af(h,o,e){Object(i.each)(h,function(a){o(a)?(a.hasState(Au)&&a.setState(Au,!1),a.setState(ou,e)):(a.hasState(ou)&&a.setState(ou,!1),a.setState(Au,e))})}var Gs=w.INACTIVE,ys=w.ACTIVE,Tf=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.stateName=ys,e}return o.prototype.setElementsStateByItem=function(e,a,M,N){var ot=this,Ct=function(ne){return ot.isMathItem(ne,a,M)};this.setHighlightBy(e,Ct,N)},o.prototype.setElementHighlight=function(e,a){a(e)?(e.hasState(Gs)&&e.setState(Gs,!1),e.setState(ys,!0)):e.hasState(ys)||e.setState(Gs,!0)},o.prototype.setHighlightBy=function(e,a,M){var N=this;if(M)Object(i.each)(e,function(Ft){N.setElementHighlight(Ft,a)});else{var ot=Re(this.context.view,ys),Ct=!0;Object(i.each)(ot,function(Ft){if(!a(Ft))return Ct=!1,!1}),Ct?this.clear():Object(i.each)(e,function(Ft){a(Ft)&&(Ft.hasState(ys)&&Ft.setState(ys,!1),Ft.setState(Gs,!0))})}},o.prototype.setElementState=function(e,a){var M=this.context.view,N=ke(M);this.setHighlightBy(N,function(ot){return e===ot},a)},o.prototype.highlight=function(){this.setState()},o.prototype.clear=function(){var e=this.context.view;Fs(e)},o}(Cu),ic=Tf,jf=function(h){Object(Y.b)(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}return o.prototype.setStateByElement=function(e,a){var M=this.context.view,N=e.geometry.getAttribute("color");if(!!N){var ot=M.getScaleByField(N.getFields()[0]),Ct=hn(e,ot.field),Ft=ke(M),ne=Ft.filter(function(ge){return hn(ge,ot.field)===Ct});this.setHighlightBy(Ft,function(ge){return ne.includes(ge)},a)}},o}(ic),If=jf,Pf=function(h){Object(Y.b)(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}return o.prototype.setElementHighlight=function(e,a){a(e)?(e.hasState(Gs)&&e.setState(Gs,!1),e.setState(ys,!0)):(e.setState(Gs,!0),e.hasState(ys)&&e.setState(ys,!1))},o.prototype.setStateByElement=function(e,a){var M=this.context.view,N=M.getXScale(),ot=hn(e,N.field),Ct=ke(M),Ft=Ct.filter(function(ne){return hn(ne,N.field)===ot});this.setHighlightBy(Ct,function(ne){return Ft.includes(ne)},a)},o.prototype.toggle=function(){var e=ye(this.context);if(e){var a=e.hasState(this.stateName);this.setStateByElement(e,!a)}},o}(ic),Df=Pf,Tu=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.stateName="active",e}return o.prototype.clearViewState=function(e){Fs(e)},o.prototype.highlight=function(){this.setState()},o.prototype.setElementsState=function(e,a,M){Af(M,function(N){return e.indexOf(N)>=0},a)},o}(nc),Dc=Tu,Rf=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.stateName="active",e}return o.prototype.highlight=function(){this.setState()},o.prototype.setElementState=function(e,a){var M=this.context.view,N=ke(M);Af(N,function(ot){return e===ot},a)},o.prototype.clear=function(){var e=this.context.view;Fs(e)},o}(Mu),kf=Rf,od=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.stateName="selected",e}return o.prototype.selected=function(){this.setState()},o}(nc),sd=od,ud=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.stateName="selected",e}return o.prototype.selected=function(){this.setState()},o}(Cu),cd=ud,ld=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.stateName="selected",e}return o.prototype.selected=function(){this.setState()},o}(Mu),ac=ld,Ks=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.stateName="",e.ignoreItemStates=[],e}return o.prototype.getTriggerListInfo=function(){var e=Zt(this.context),a=null;return he(e)&&(a={item:e.item,list:e.component}),a},o.prototype.getAllowComponents=function(){var e=this,a=this.context.view,M=Ie(a),N=[];return Object(i.each)(M,function(ot){ot.isList()&&e.allowSetStateByElement(ot)&&N.push(ot)}),N},o.prototype.hasState=function(e,a){return e.hasState(a,this.stateName)},o.prototype.clearAllComponentsState=function(){var e=this,a=this.getAllowComponents();Object(i.each)(a,function(M){M.clearItemsState(e.stateName)})},o.prototype.allowSetStateByElement=function(e){var a=e.get("field");if(!a)return!1;if(this.cfg&&this.cfg.componentNames){var M=e.get("name");if(this.cfg.componentNames.indexOf(M)===-1)return!1}var N=this.context.view,ot=En(N,a);return ot&&ot.isCategory},o.prototype.allowSetStateByItem=function(e,a){var M=this.ignoreItemStates;if(M.length){var N=M.filter(function(ot){return a.hasState(e,ot)});return N.length===0}return!0},o.prototype.setStateByElement=function(e,a,M){var N=e.get("field"),ot=this.context.view,Ct=En(ot,N),Ft=hn(a,N),ne=Ct.getText(Ft);this.setItemsState(e,ne,M)},o.prototype.setStateEnable=function(e){var a=this,M=ye(this.context);if(M){var N=this.getAllowComponents();Object(i.each)(N,function(ne){a.setStateByElement(ne,M,e)})}else{var ot=Zt(this.context);if(he(ot)){var Ct=ot.item,Ft=ot.component;this.allowSetStateByElement(Ft)&&this.allowSetStateByItem(Ct,Ft)&&this.setItemState(Ft,Ct,e)}}},o.prototype.setItemsState=function(e,a,M){var N=this,ot=e.getItems();Object(i.each)(ot,function(Ct){Ct.name===a&&N.setItemState(e,Ct,M)})},o.prototype.setItemState=function(e,a,M){e.setItemState(a,this.stateName,M)},o.prototype.setState=function(){this.setStateEnable(!0)},o.prototype.reset=function(){this.setStateEnable(!1)},o.prototype.toggle=function(){var e=this.getTriggerListInfo();if(e&&e.item){var a=e.list,M=e.item,N=this.hasState(a,M);this.setItemState(a,M,!N)}},o.prototype.clear=function(){var e=this.getTriggerListInfo();e?e.list.clearItemsState(this.stateName):this.clearAllComponentsState()},o}(vt),Js=Ks,ju=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.stateName="active",e}return o.prototype.active=function(){this.setState()},o}(Js),Nf=ju,Rc="inactive",kc="active";function Lf(h){var o=h.getItems();Object(i.each)(o,function(e){h.hasState(e,kc)&&h.setItemState(e,kc,!1),h.hasState(e,Rc)&&h.setItemState(e,Rc,!1)})}var su="inactive",Us="active",Bf=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.stateName=Us,e.ignoreItemStates=["unchecked"],e}return o.prototype.setItemsState=function(e,a,M){this.setHighlightBy(e,function(N){return N.name===a},M)},o.prototype.setItemState=function(e,a,M){var N=e.getItems();this.setHighlightBy(e,function(ot){return ot===a},M)},o.prototype.setHighlightBy=function(e,a,M){var N=e.getItems();if(M)Object(i.each)(N,function(Ft){a(Ft)?(e.hasState(Ft,su)&&e.setItemState(Ft,su,!1),e.setItemState(Ft,Us,!0)):e.hasState(Ft,Us)||e.setItemState(Ft,su,!0)});else{var ot=e.getItemsByState(Us),Ct=!0;Object(i.each)(ot,function(Ft){if(!a(Ft))return Ct=!1,!1}),Ct?this.clear():Object(i.each)(N,function(Ft){a(Ft)&&(e.hasState(Ft,Us)&&e.setItemState(Ft,Us,!1),e.setItemState(Ft,su,!0))})}},o.prototype.highlight=function(){this.setState()},o.prototype.clear=function(){var e=this.getTriggerListInfo();if(e)Lf(e.list);else{var a=this.getAllowComponents();Object(i.each)(a,function(M){M.clearItemsState(Us),M.clearItemsState(su)})}},o}(Js),Qs=Bf,Ff=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.stateName="selected",e}return o.prototype.selected=function(){this.setState()},o}(Js),Gf=Ff,Uf=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.stateName="unchecked",e}return o.prototype.unchecked=function(){this.setState()},o}(Js),fd=Uf,zf=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.maskShape=null,e.points=[],e.starting=!1,e.moving=!1,e.preMovePoint=null,e.shapeType="path",e}return o.prototype.getCurrentPoint=function(){var e=this.context.event;return{x:e.x,y:e.y}},o.prototype.emitEvent=function(e){var a="mask:"+e,M=this.context.view,N=this.context.event;M.emit(a,{target:this.maskShape,shape:this.maskShape,points:this.points,x:N.x,y:N.y})},o.prototype.createMask=function(){var e=this.context.view,a=this.getMaskAttrs(),M=e.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:Object(Y.a)({fill:"#C5D4EB",opacity:.3},a)});return M},o.prototype.getMaskPath=function(){return[]},o.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},o.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},o.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},o.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var e=this.getCurrentPoint(),a=this.preMovePoint,M=e.x-a.x,N=e.y-a.y,ot=this.points;Object(i.each)(ot,function(Ct){Ct.x+=M,Ct.y+=N}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=e}},o.prototype.updateMask=function(){var e=this.getMaskAttrs();this.maskShape.attr(e)},o.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},o.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},o.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},o.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},o.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,h.prototype.destroy.call(this)},o}(vt),oc=zf,_f=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.shapeType="circle",e}return o.prototype.getMaskAttrs=function(){var e=this.points,a=Object(i.last)(this.points),M=0,N=0,ot=0;if(e.length){var Ct=e[0];M=fe(Ct,a)/2,N=(a.x+Ct.x)/2,ot=(a.y+Ct.y)/2}return{x:N,y:ot,r:M}},o}(oc),Vf=_f,Wf=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.shapeType="rect",e}return o.prototype.getRegion=function(){var e=this.points;return{start:Object(i.head)(e),end:Object(i.last)(e)}},o.prototype.getMaskAttrs=function(){var e=this.getRegion(),a=e.start,M=e.end,N=Math.min(a.x,M.x),ot=Math.min(a.y,M.y),Ct=Math.abs(M.x-a.x),Ft=Math.abs(M.y-a.y);return{x:N,y:ot,width:Ct,height:Ft}},o}(oc),Nc=Wf;function Lc(h){h.x=Object(i.clamp)(h.x,0,1),h.y=Object(i.clamp)(h.y,0,1)}var Iu=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.dim="x",e.inPlot=!0,e}return o.prototype.getRegion=function(){var e=null,a=null,M=this.points,N=this.dim,ot=this.context.view.getCoordinate(),Ct=ot.invert(Object(i.head)(M)),Ft=ot.invert(Object(i.last)(M));return this.inPlot&&(Lc(Ct),Lc(Ft)),N==="x"?(e=ot.convert({x:Ct.x,y:0}),a=ot.convert({x:Ft.x,y:1})):(e=ot.convert({x:0,y:Ct.y}),a=ot.convert({x:1,y:Ft.y})),{start:e,end:a}},o}(Nc),Bc=Iu,Yf=function(h){Object(Y.b)(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}return o.prototype.getMaskPath=function(){var e=this.points,a=[];return e.length&&(Object(i.each)(e,function(M,N){N===0?a.push(["M",M.x,M.y]):a.push(["L",M.x,M.y])}),a.push(["L",e[0].x,e[0].y])),a},o.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},o.prototype.addPoint=function(){this.resize()},o}(oc),Fc=Yf,hd=function(h){Object(Y.b)(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}return o.prototype.getMaskPath=function(){var e=this.points;return Ne(e,!0)},o}(Fc),Xf=hd,dd=function(h){Object(Y.b)(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}return o.prototype.setCursor=function(e){var a=this.context.view;a.getCanvas().setCursor(e)},o.prototype.default=function(){this.setCursor("default")},o.prototype.pointer=function(){this.setCursor("pointer")},o.prototype.move=function(){this.setCursor("move")},o.prototype.crosshair=function(){this.setCursor("crosshair")},o.prototype.wait=function(){this.setCursor("wait")},o.prototype.help=function(){this.setCursor("help")},o.prototype.text=function(){this.setCursor("text")},o.prototype.eResize=function(){this.setCursor("e-resize")},o.prototype.wResize=function(){this.setCursor("w-resize")},o.prototype.nResize=function(){this.setCursor("n-resize")},o.prototype.sResize=function(){this.setCursor("s-resize")},o.prototype.neResize=function(){this.setCursor("ne-resize")},o.prototype.nwResize=function(){this.setCursor("nw-resize")},o.prototype.seResize=function(){this.setCursor("se-resize")},o.prototype.swResize=function(){this.setCursor("sw-resize")},o.prototype.nsResize=function(){this.setCursor("ns-resize")},o.prototype.ewResize=function(){this.setCursor("ew-resize")},o}(vt),vd=dd,Hf=function(h){Object(Y.b)(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}return o.prototype.filterView=function(e,a,M){var N=this;e.getScaleByField(a)&&e.filter(a,M),e.views&&e.views.length&&Object(i.each)(e.views,function(ot){N.filterView(ot,a,M)})},o.prototype.filter=function(){var e=Zt(this.context);if(e){var a=this.context.view,M=e.component,N=M.get("field");if(he(e)){if(N){var ot=M.getItemsByState("unchecked"),Ct=En(a,N),Ft=ot.map(function(Ae){return Ae.name});Ft.length?this.filterView(a,N,function(Ae){var Xe=Ct.getText(Ae);return!Ft.includes(Xe)}):this.filterView(a,N,null),a.render(!0)}}else if(le(e)){var ne=M.getValue(),ge=ne[0],be=ne[1];this.filterView(a,N,function(Ae){return Ae>=ge&&Ae<=be}),a.render(!0)}}},o}(vt),Kf=Hf;function Gc(h,o,e,a){var M=Math.min(e[o],a[o]),N=Math.max(e[o],a[o]),ot=h.range,Ct=ot[0],Ft=ot[1];if(M<Ct&&(M=Ct),N>Ft&&(N=Ft),M===Ft&&N===Ft)return null;var ne=h.invert(M),ge=h.invert(N);if(h.isCategory){var be=h.values.indexOf(ne),Ae=h.values.indexOf(ge),Xe=h.values.slice(be,Ae+1);return function(fn){return Xe.includes(fn)}}else return function(fn){return fn>=ne&&fn<=ge}}var Jf=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.dims=["x","y"],e.startPoint=null,e.isStarted=!1,e}return o.prototype.hasDim=function(e){return this.dims.includes(e)},o.prototype.start=function(){var e=this.context;this.isStarted=!0,this.startPoint=e.getCurrentPoint()},o.prototype.filter=function(){var e,a;if(Me(this.context)){var M=this.context.event.target,N=M.getCanvasBBox();e={x:N.x,y:N.y},a={x:N.maxX,y:N.maxY}}else{if(!this.isStarted)return;e=this.startPoint,a=this.context.getCurrentPoint()}if(!(Math.abs(e.x-a.x)<5||Math.abs(e.x-a.y)<5)){var ot=this.context.view,Ct=ot.getCoordinate(),Ft=Ct.invert(a),ne=Ct.invert(e);if(this.hasDim("x")){var ge=ot.getXScale(),be=Gc(ge,"x",Ft,ne);this.filterView(ot,ge.field,be)}if(this.hasDim("y")){var Ae=ot.getYScales()[0],be=Gc(Ae,"y",Ft,ne);this.filterView(ot,Ae.field,be)}this.reRender(ot)}},o.prototype.end=function(){this.isStarted=!1},o.prototype.reset=function(){var e=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var a=e.getXScale();this.filterView(e,a.field,null)}if(this.hasDim("y")){var M=e.getYScales()[0];this.filterView(e,M.field,null)}this.reRender(e)},o.prototype.filterView=function(e,a,M){e.filter(a,M)},o.prototype.reRender=function(e){e.render(!0)},o}(vt),Pu=Jf,Du=function(h){Object(Y.b)(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}return o.prototype.filterView=function(e,a,M){var N=rn(e);Object(i.each)(N,function(ot){ot.filter(a,M)})},o.prototype.reRender=function(e){var a=rn(e);Object(i.each)(a,function(M){M.render(!0)})},o}(Pu),sc=Du,Qf=function(h){Object(Y.b)(o,h);function o(){return h!==null&&h.apply(this,arguments)||this}return o.prototype.filter=function(){var e=Zt(this.context),a=this.context.view,M=ke(a);if(Me(this.context)){var N=We(this.context,10);N&&Object(i.each)(M,function(fn){N.includes(fn)?fn.show():fn.hide()})}else if(e){var ot=e.component,Ct=ot.get("field");if(he(e)){if(Ct){var Ft=ot.getItemsByState("unchecked"),ne=En(a,Ct),ge=Ft.map(function(fn){return fn.name});Object(i.each)(M,function(fn){var Sn=hn(fn,Ct),nr=ne.getText(Sn);ge.indexOf(nr)>=0?fn.hide():fn.show()})}}else if(le(e)){var be=ot.getValue(),Ae=be[0],Xe=be[1];Object(i.each)(M,function(fn){var Sn=hn(fn,Ct);Sn>=Ae&&Sn<=Xe?fn.show():fn.hide()})}}},o.prototype.clear=function(){var e=ke(this.context.view);Object(i.each)(e,function(a){a.show()})},o.prototype.reset=function(){this.clear()},o}(vt),Zf=Qf,pd=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.byRecord=!1,e}return o.prototype.filter=function(){Me(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},o.prototype.filterByRecord=function(){var e=this.context.view,a=We(this.context,10);if(!!a){var M=e.getXScale().field,N=e.getYScales()[0].field,ot=a.map(function(Ft){return Ft.getModel().data}),Ct=rn(e);Object(i.each)(Ct,function(Ft){var ne=ke(Ft);Object(i.each)(ne,function(ge){var be=ge.getModel().data;dn(ot,be,M,N)?ge.show():ge.hide()})})}},o.prototype.filterByBBox=function(){var e=this,a=this.context.view,M=rn(a);Object(i.each)(M,function(N){var ot=Ye(e.context,N,10),Ct=ke(N);ot&&Object(i.each)(Ct,function(Ft){ot.includes(Ft)?Ft.show():Ft.hide()})})},o.prototype.reset=function(){var e=rn(this.context.view);Object(i.each)(e,function(a){var M=ke(a);Object(i.each)(M,function(N){N.show()})})},o}(vt),Uc=pd,$f=10,qf=5,th=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.buttonGroup=null,e.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},e}return o.prototype.getButtonCfg=function(){return Object(i.deepMix)(this.buttonCfg,this.cfg)},o.prototype.drawButton=function(){var e=this.getButtonCfg(),a=this.context.view.foregroundGroup.addGroup({name:e.name}),M=a.addShape({type:"text",name:"button-text",attrs:Object(Y.a)({text:e.text},e.textStyle)}),N=M.getBBox(),ot=Di(e.padding),Ct=a.addShape({type:"rect",name:"button-rect",attrs:Object(Y.a)({x:N.x-ot[3],y:N.y-ot[0],width:N.width+ot[1]+ot[3],height:N.height+ot[0]+ot[2]},e.style)});Ct.toBack(),a.on("mouseenter",function(){Ct.attr(e.activeStyle)}),a.on("mouseleave",function(){Ct.attr(e.style)}),this.buttonGroup=a},o.prototype.resetPosition=function(){var e=this.context.view,a=e.getCoordinate(),M=a.convert({x:1,y:1}),N=this.buttonGroup,ot=N.getBBox(),Ct=Yr.a.transform(null,[["t",M.x-ot.width-$f,M.y+ot.height+qf]]);N.setMatrix(Ct)},o.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},o.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},o.prototype.destroy=function(){var e=this.buttonGroup;e&&e.remove(),h.prototype.destroy.call(this)},o}(vt),eh=th,nh=4,rh=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.starting=!1,e.dragStart=!1,e}return o.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},o.prototype.drag=function(){if(!!this.startPoint){var e=this.context.getCurrentPoint(),a=this.context.view,M=this.context.event;this.dragStart?a.emit("drag",{target:M.target,x:M.x,y:M.y}):fe(e,this.startPoint)>nh&&(a.emit("dragstart",{target:M.target,x:M.x,y:M.y}),this.dragStart=!0)}},o.prototype.end=function(){if(this.dragStart){var e=this.context.view,a=this.context.event;e.emit("dragend",{target:a.target,x:a.x,y:a.y})}this.starting=!1,this.dragStart=!1},o}(vt),zc=rh,ih=5,ah=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.starting=!1,e.isMoving=!1,e.startPoint=null,e.startMatrix=null,e}return o.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},o.prototype.move=function(){if(!!this.starting){var e=this.startPoint,a=this.context.getCurrentPoint(),M=fe(e,a);if(M>ih&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var N=this.context.view,ot=Yr.a.transform(this.startMatrix,[["t",a.x-e.x,a.y-e.y]]);N.backgroundGroup.setMatrix(ot),N.foregroundGroup.setMatrix(ot),N.middleGroup.setMatrix(ot)}}},o.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},o.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var e=this.context.view;e.backgroundGroup.resetMatrix(),e.foregroundGroup.resetMatrix(),e.middleGroup.resetMatrix(),this.isMoving=!1},o}(vt),oh=ah,_c="x",uc="y",sh=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.dims=[_c,uc],e.cfgFields=["dims"],e.cacheScaleDefs={},e}return o.prototype.hasDim=function(e){return this.dims.includes(e)},o.prototype.getScale=function(e){var a=this.context.view;return e==="x"?a.getXScale():a.getYScales()[0]},o.prototype.resetDim=function(e){var a=this.context.view;if(this.hasDim(e)&&this.cacheScaleDefs[e]){var M=this.getScale(e);a.scale(M.field,this.cacheScaleDefs[e]),this.cacheScaleDefs[e]=null}},o.prototype.reset=function(){this.resetDim(_c),this.resetDim(uc);var e=this.context.view;e.render(!0)},o}(vt),Vc=sh,uh=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.startPoint=null,e.starting=!1,e.startCache={},e}return o.prototype.start=function(){var e=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var a=this.dims;Object(i.each)(a,function(M){var N=e.getScale(M),ot=N.min,Ct=N.max,Ft=N.values;e.startCache[M]={min:ot,max:Ct,values:Ft}})},o.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},o.prototype.translate=function(){var e=this;if(!!this.starting){var a=this.startPoint,M=this.context.view.getCoordinate(),N=this.context.getCurrentPoint(),ot=M.invert(a),Ct=M.invert(N),Ft=Ct.x-ot.x,ne=Ct.y-ot.y,ge=this.context.view,be=this.dims;Object(i.each)(be,function(Ae){e.translateDim(Ae,{x:Ft*-1,y:ne*-1})}),ge.render(!0)}},o.prototype.translateDim=function(e,a){if(this.hasDim(e)){var M=this.getScale(e);M.isLinear&&this.translateLinear(e,M,a)}},o.prototype.translateLinear=function(e,a,M){var N=this.context.view,ot=this.startCache[e],Ct=ot.min,Ft=ot.max,ne=Ft-Ct,ge=M[e]*ne;this.cacheScaleDefs[e]||(this.cacheScaleDefs[e]={nice:a.nice,min:Ct,max:Ft}),N.scale(a.field,{nice:!1,min:Ct+ge,max:Ft+ge})},o.prototype.reset=function(){h.prototype.reset.call(this),this.startPoint=null,this.starting=!1},o}(Vc),ch=uh,lh=function(h){Object(Y.b)(o,h);function o(){var e=h!==null&&h.apply(this,arguments)||this;return e.zoomRatio=.05,e}return o.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},o.prototype.zoom=function(e){var a=this,M=this.dims;Object(i.each)(M,function(N){a.zoomDim(N,e)}),this.context.view.render(!0)},o.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},o.prototype.zoomDim=function(e,a){if(this.hasDim(e)){var M=this.getScale(e);M.isLinear&&this.zoomLinear(e,M,a)}},o.prototype.zoomLinear=function(e,a,M){var N=this.context.view;this.cacheScaleDefs[e]||(this.cacheScaleDefs[e]={nice:a.nice,min:a.min,max:a.max});var ot=this.cacheScaleDefs[e],Ct=ot.max-ot.min,Ft=a.min,ne=a.max,ge=M*Ct,be=Ft-ge,Ae=ne+ge,Xe=Ae-be,fn=Xe/Ct;Ae>be&&fn<100&&fn>.01&&N.scale(a.field,{nice:!1,min:Ft-ge,max:ne+ge})},o}(Vc),gd=lh;vr("dark",De(Ka)),A("canvas",Ja),A("svg",ya),Sa("Polygon",bl),Sa("Interval",eu),Sa("Schema",bc),Sa("Path",_s),Sa("Point",gl),Sa("Line",mc),Sa("Area",nl),Sa("Edge",al),Sa("Heatmap",sl),Rn("base",Ge),Rn("interval",Ah),Rn("pie",jh),Rn("polar",wc),wo("overlap",es),wo("distribute",Ph),wo("fixed-overlap",mu),wo("hide-overlap",Yu),wo("limit-in-shape",Nh),wo("limit-in-canvas",us),wo("limit-in-plot",tf),wo("pie-outer",Ll),wo("adjust-color",_l),wo("interval-adjust-position",Xu),wo("interval-hide-overlap",Hl),wo("point-adjust-position",Hu),wo("pie-spider",kh),wo("path-adjust-position",Zl),va("fade-in",ef),va("fade-out",nf),va("grow-in-x",af),va("grow-in-xy",sf),va("grow-in-y",of),va("scale-in-x",cf),va("scale-in-y",Ss),va("wave-in",ks),va("zoom-in",Qu),va("zoom-out",ps),va("position-update",Ju),va("sector-path-update",xu),va("path-in",uf),G("rect",ff),G("mirror",Gh),G("list",lf),G("matrix",Bh),G("circle",ms),G("tree",zh),er("axis",mf),er("legend",Sf),er("tooltip",wa),er("annotation",vf),er("slider",Ef),er("scrollbar",Jh),we("tooltip",cs),we("sibling-tooltip",$o),we("ellipsis-text",ec),we("element-active",qh),we("element-single-active",ad),we("element-range-active",rd),we("element-highlight",ic),we("element-highlight-by-x",Df),we("element-highlight-by-color",If),we("element-single-highlight",kf),we("element-range-highlight",Dc),we("element-sibling-highlight",Dc,{effectSiblings:!0,effectByRecord:!0}),we("element-selected",cd),we("element-single-selected",ac),we("element-range-selected",sd),we("element-link-by-color",ed),we("active-region",Cf),we("list-active",Nf),we("list-selected",Gf),we("list-highlight",Qs),we("list-unchecked",fd),we("legend-item-highlight",Qs,{componentNames:["legend"]}),we("axis-label-highlight",Qs,{componentNames:["axis"]}),we("rect-mask",Nc),we("x-rect-mask",Bc,{dim:"x"}),we("y-rect-mask",Bc,{dim:"y"}),we("circle-mask",Vf),we("path-mask",Fc),we("smooth-path-mask",Xf),we("cursor",vd),we("data-filter",Kf),we("brush",Pu),we("brush-x",Pu,{dims:["x"]}),we("brush-y",Pu,{dims:["y"]}),we("sibling-filter",sc),we("sibling-x-filter",sc),we("sibling-y-filter",sc),we("element-filter",Zf),we("element-sibling-filter",Uc),we("element-sibling-filter-record",Uc,{byRecord:!0}),we("view-drag",zc),we("view-move",oh),we("scale-translate",ch),we("scale-zoom",gd),we("reset-button",eh,{name:"reset-button",text:"reset"});function ls(h){return h.isInPlot()}Aa("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),Aa("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),Aa("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),Aa("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),Aa("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),Aa("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),Aa("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),Aa("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),Aa("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),Aa("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),Aa("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),Aa("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(o){return!o.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(o){return!o.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),Aa("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ls,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:ls,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:ls,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),Aa("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),Aa("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ls,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:ls,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:ls,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),Aa("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ls,action:"path-mask:start"},{trigger:"mousedown",isEnable:ls,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),Aa("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),Aa("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),Aa("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),Aa("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),Aa("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),Aa("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function Zs(h){return h.gEvent.preventDefault(),h.gEvent.originalEvent.deltaY>0}Aa("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(o){return Zs(o.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(o){return!Zs(o.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),Aa("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]})},IvmH:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return Y}),E.d(Pt,"b",function(){return i});var Y={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},i={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},b=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},JHRd:function(qe,Pt,E){var Y=E("Kz5y"),i=Y.Uint8Array;qe.exports=i},JHgL:function(qe,Pt,E){var Y=E("QkVE");function i(b){return Y(this,b).get(b)}qe.exports=i},JSQU:function(qe,Pt,E){var Y=E("YESw"),i="__lodash_hash_undefined__";function b(t,n){var u=this.__data__;return this.size+=this.has(t)?0:1,u[t]=Y&&n===void 0?i:n,this}qe.exports=b},JTzB:function(qe,Pt,E){var Y=E("NykK"),i=E("ExA7"),b="[object Arguments]";function t(n){return i(n)&&Y(n)==b}qe.exports=t},KCY9:function(qe,Pt,E){},KMYG:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return n});var Y=E("mrSG"),i=E("5HRO"),b=E("YuPD"),t=E("WOQw");function n(u){var g=u.options,x=g.polygon,c=g.xField,w=g.yField,I=g.seriesField,m=g.tooltip,r=Object(i.a)(m,[c,w,I]),s=r.fields,d=r.formatter;return x?Object(t.a)(Object(b.b)({},u,{options:{type:"polygon",colorField:I,tooltipFields:s,mapping:Object(Y.a)({tooltip:d},x)}})):u}},KMkd:function(qe,Pt){function E(){this.__data__=[],this.size=0}qe.exports=E},KPFz:function(qe,Pt,E){},KavR:function(qe,Pt,E){"use strict";var Y=E("AA7f"),i=E("iTfj"),b=E("0Xep"),t=E("Qci9");function n(g,x){return(x-g)*Math.random()+g}var u=function(g){Object(Y.b)(x,g);function x(){return g!==null&&g.apply(this,arguments)||this}return x.prototype.process=function(c){var w=i.clone(c),I=i.flatten(w);return this.adjustData(w,I),w},x.prototype.adjustDim=function(c,w,I){var m=this,r=this.groupData(I,c);return i.each(r,function(s,d){return m.adjustGroup(s,c,parseFloat(d),w)})},x.prototype.getAdjustOffset=function(c){var w=c.pre,I=c.next,m=(I-w)*b.c;return n(w+m,I-m)},x.prototype.adjustGroup=function(c,w,I,m){var r=this,s=this.getAdjustRange(w,I,m);return i.each(c,function(d){d[w]=r.getAdjustOffset(s)}),c},x}(t.a);Pt.a=u},KxBF:function(qe,Pt){function E(Y,i,b){var t=-1,n=Y.length;i<0&&(i=-i>n?0:n+i),b=b>n?n:b,b<0&&(b+=n),n=i>b?0:b-i>>>0,i>>>=0;for(var u=Array(n);++t<n;)u[t]=Y[t+i];return u}qe.exports=E},L16w:function(qe,Pt,E){"use strict";Pt.a={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},L8xA:function(qe,Pt){function E(Y){var i=this.__data__,b=i.delete(Y);return this.size=i.size,b}qe.exports=E},LXxW:function(qe,Pt){function E(Y,i){for(var b=-1,t=Y==null?0:Y.length,n=0,u=[];++b<t;){var g=Y[b];i(g,b,Y)&&(u[n++]=g)}return u}qe.exports=E},LmB6:function(qe,Pt,E){"use strict";var Y=E("mrSG"),i=E("f6Jy"),b=E("sstZ"),t=function(n){Object(Y.b)(u,n);function u(g){var x=n.call(this)||this;x.destroyed=!1;var c=x.getDefaultCfg();return x.cfg=Object(b.i)(c,g),x}return u.prototype.getDefaultCfg=function(){return{}},u.prototype.get=function(g){return this.cfg[g]},u.prototype.set=function(g,x){this.cfg[g]=x},u.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},u}(i.a);Pt.a=t},LvGN:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return u}),E.d(Pt,"c",function(){return j}),E.d(Pt,"d",function(){return H}),E.d(Pt,"e",function(){return B}),E.d(Pt,"b",function(){return zt});var Y=E("iTfj"),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,b=/[^\s\,]+/ig;function t(Tt){var Vt=Tt||[];if(Object(Y.isArray)(Vt))return Vt;if(Object(Y.isString)(Vt))return Vt=Vt.match(i),Object(Y.each)(Vt,function(Ht,re){if(Ht=Ht.match(b),Ht[0].length>1){var pe=Ht[0].charAt(0);Ht.splice(1,0,Ht[0].substr(1)),Ht[0]=pe}Object(Y.each)(Ht,function(me,Ee){isNaN(me)||(Ht[Ee]=+me)}),Vt[re]=Ht}),Vt}var n=t;function u(Tt,Vt){for(var Ht=[],re=0,pe=Tt.length;pe-2*!Vt>re;re+=2){var me=[{x:+Tt[re-2],y:+Tt[re-1]},{x:+Tt[re],y:+Tt[re+1]},{x:+Tt[re+2],y:+Tt[re+3]},{x:+Tt[re+4],y:+Tt[re+5]}];Vt?re?pe-4===re?me[3]={x:+Tt[0],y:+Tt[1]}:pe-2===re&&(me[2]={x:+Tt[0],y:+Tt[1]},me[3]={x:+Tt[2],y:+Tt[3]}):me[0]={x:+Tt[pe-2],y:+Tt[pe-1]}:pe-4===re?me[3]=me[2]:re||(me[0]={x:+Tt[re],y:+Tt[re+1]}),Ht.push(["C",(-me[0].x+6*me[1].x+me[2].x)/6,(-me[0].y+6*me[1].y+me[2].y)/6,(me[1].x+6*me[2].x-me[3].x)/6,(me[1].y+6*me[2].y-me[3].y)/6,me[2].x,me[2].y])}return Ht}function g(Tt,Vt){var Ht=[],re=[];function pe(me,Ee){if(me.length===1)Ht.push(me[0]),re.push(me[0]);else{for(var Le=[],Je=0;Je<me.length-1;Je++)Je===0&&Ht.push(me[0]),Je===me.length-2&&re.push(me[Je+1]),Le[Je]=[(1-Ee)*me[Je][0]+Ee*me[Je+1][0],(1-Ee)*me[Je][1]+Ee*me[Je+1][1]];pe(Le,Ee)}}return Tt.length&&pe(Tt,Vt),{left:Ht,right:re.reverse()}}function x(Tt,Vt,Ht){var re=[[Tt[1],Tt[2]]];Ht=Ht||2;var pe=[];Vt[0]==="A"?(re.push(Vt[6]),re.push(Vt[7])):Vt[0]==="C"?(re.push([Vt[1],Vt[2]]),re.push([Vt[3],Vt[4]]),re.push([Vt[5],Vt[6]])):Vt[0]==="S"||Vt[0]==="Q"?(re.push([Vt[1],Vt[2]]),re.push([Vt[3],Vt[4]])):re.push([Vt[1],Vt[2]]);for(var me=re,Ee=1/Ht,Le=0;Le<Ht-1;Le++){var Je=Ee/(1-Ee*Le),On=g(me,Je);pe.push(On.left),me=On.right}pe.push(me);var gn=pe.map(function(Vn){var kn=[];return Vn.length===4&&(kn.push("C"),kn=kn.concat(Vn[2])),Vn.length>=3&&(Vn.length===3&&kn.push("Q"),kn=kn.concat(Vn[1])),Vn.length===2&&kn.push("L"),kn=kn.concat(Vn[Vn.length-1]),kn});return gn}function c(Tt,Vt,Ht){if(Ht===1)return[[].concat(Tt)];var re=[];if(Vt[0]==="L"||Vt[0]==="C"||Vt[0]==="Q")re=re.concat(x(Tt,Vt,Ht));else{var pe=[].concat(Tt);pe[0]==="M"&&(pe[0]="L");for(var me=0;me<=Ht-1;me++)re.push(pe)}return re}function w(Tt,Vt){if(Tt.length===1)return Tt;var Ht=Tt.length-1,re=Vt.length-1,pe=Ht/re,me=[];if(Tt.length===1&&Tt[0][0]==="M"){for(var Ee=0;Ee<re-Ht;Ee++)Tt.push(Tt[0]);return Tt}for(var Ee=0;Ee<re;Ee++){var Le=Math.floor(pe*Ee);me[Le]=(me[Le]||0)+1}var Je=me.reduce(function(On,gn,Vn){return Vn===Ht?On.concat(Tt[Ht]):On.concat(c(Tt[Vn],Tt[Vn+1],gn))},[]);return Je.unshift(Tt[0]),(Vt[re]==="Z"||Vt[re]==="z")&&Je.push("Z"),Je}function I(Tt,Vt,Ht){var re=null,pe=Ht;return Vt<pe&&(pe=Vt,re="add"),Tt<pe&&(pe=Tt,re="del"),{type:re,min:pe}}var m=function(Vt,Ht){var re=Vt.length,pe=Ht.length,me,Ee,Le=0;if(re===0||pe===0)return null;for(var Je=[],On=0;On<=re;On++)Je[On]=[],Je[On][0]={min:On};for(var gn=0;gn<=pe;gn++)Je[0][gn]={min:gn};for(var On=1;On<=re;On++){me=Vt[On-1];for(var gn=1;gn<=pe;gn++){Ee=Ht[gn-1],Object(Y.isEqual)(me,Ee)?Le=0:Le=1;var Vn=Je[On-1][gn].min+1,kn=Je[On][gn-1].min+1,Wn=Je[On-1][gn-1].min+Le;Je[On][gn]=I(Vn,kn,Wn)}}return Je};function r(Tt,Vt){var Ht=m(Tt,Vt),re=Tt.length,pe=Vt.length,me=[],Ee=1,Le=1;if(Ht[re][pe]!==re){for(var Je=1;Je<=re;Je++){var On=Ht[Je][Je].min;Le=Je;for(var gn=Ee;gn<=pe;gn++)Ht[Je][gn].min<On&&(On=Ht[Je][gn].min,Le=gn);Ee=Le,Ht[Je][Ee].type&&me.push({index:Je-1,type:Ht[Je][Ee].type})}for(var Je=me.length-1;Je>=0;Je--)Ee=me[Je].index,me[Je].type==="add"?Tt.splice(Ee,0,[].concat(Tt[Ee])):Tt.splice(Ee,1)}if(re=Tt.length,re<pe)for(var Je=0;Je<pe-re;Je++)Tt[re-1][0]==="z"||Tt[re-1][0]==="Z"?Tt.splice(re-2,0,Tt[re-2]):Tt.push(Tt[re-1]);return Tt}function s(Tt){var Vt=[];switch(Tt[0]){case"M":Vt.push([Tt[1],Tt[2]]);break;case"L":Vt.push([Tt[1],Tt[2]]);break;case"A":Vt.push([Tt[6],Tt[7]]);break;case"Q":Vt.push([Tt[3],Tt[4]]),Vt.push([Tt[1],Tt[2]]);break;case"T":Vt.push([Tt[1],Tt[2]]);break;case"C":Vt.push([Tt[5],Tt[6]]),Vt.push([Tt[1],Tt[2]]),Vt.push([Tt[3],Tt[4]]);break;case"S":Vt.push([Tt[3],Tt[4]]),Vt.push([Tt[1],Tt[2]]);break;case"H":Vt.push([Tt[1],Tt[1]]);break;case"V":Vt.push([Tt[1],Tt[1]]);break;default:}return Vt}function d(Tt,Vt,Ht){for(var re=[].concat(Tt),pe,me=1/(Ht+1),Ee=s(Vt)[0],Le=1;Le<=Ht;Le++)me*=Le,pe=Math.floor(Tt.length*me),pe===0?re.unshift([Ee[0]*me+Tt[pe][0]*(1-me),Ee[1]*me+Tt[pe][1]*(1-me)]):re.splice(pe,0,[Ee[0]*me+Tt[pe][0]*(1-me),Ee[1]*me+Tt[pe][1]*(1-me)]);return re}function C(Tt,Vt){if(Tt.length<=1)return Tt;for(var Ht,re=0;re<Vt.length;re++)if(Tt[re][0]!==Vt[re][0])switch(Ht=s(Tt[re]),Vt[re][0]){case"M":Tt[re]=["M"].concat(Ht[0]);break;case"L":Tt[re]=["L"].concat(Ht[0]);break;case"A":Tt[re]=[].concat(Vt[re]),Tt[re][6]=Ht[0][0],Tt[re][7]=Ht[0][1];break;case"Q":if(Ht.length<2)if(re>0)Ht=d(Ht,Tt[re-1],1);else{Tt[re]=Vt[re];break}Tt[re]=["Q"].concat(Ht.reduce(function(pe,me){return pe.concat(me)},[]));break;case"T":Tt[re]=["T"].concat(Ht[0]);break;case"C":if(Ht.length<3)if(re>0)Ht=d(Ht,Tt[re-1],2);else{Tt[re]=Vt[re];break}Tt[re]=["C"].concat(Ht.reduce(function(pe,me){return pe.concat(me)},[]));break;case"S":if(Ht.length<2)if(re>0)Ht=d(Ht,Tt[re-1],1);else{Tt[re]=Vt[re];break}Tt[re]=["S"].concat(Ht.reduce(function(pe,me){return pe.concat(me)},[]));break;default:Tt[re]=Vt[re]}return Tt}function S(Tt,Vt,Ht,re,pe){return pe?[["M",+Tt+ +pe,Vt],["l",Ht-pe*2,0],["a",pe,pe,0,0,1,pe,pe],["l",0,re-pe*2],["a",pe,pe,0,0,1,-pe,pe],["l",pe*2-Ht,0],["a",pe,pe,0,0,1,-pe,-pe],["l",0,pe*2-re],["a",pe,pe,0,0,1,pe,-pe],["z"]]:[["M",Tt,Vt],["l",Ht,0],["l",0,re],["l",-Ht,0],["z"]]}var A=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,f=new RegExp("([a-z])["+A+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+A+"]*,?["+A+"]*)+)","ig"),O=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+A+"]*,?["+A+"]*","ig");function j(Tt){if(!Tt)return null;if(Object(Y.isArray)(Tt))return Tt;var Vt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},Ht=[];return String(Tt).replace(f,function(re,pe,me){var Ee=[],Le=pe.toLowerCase();if(me.replace(O,function(Je,On){On&&Ee.push(+On)}),Le==="m"&&Ee.length>2&&(Ht.push([pe].concat(Ee.splice(0,2))),Le="l",pe=pe==="m"?"l":"L"),Le==="o"&&Ee.length===1&&Ht.push([pe,Ee[0]]),Le==="r")Ht.push([pe].concat(Ee));else for(;Ee.length>=Vt[Le]&&(Ht.push([pe].concat(Ee.splice(0,Vt[Le]))),!!Vt[Le]););return""}),Ht}var D=/[a-z]/;function V(Tt,Vt){return[Vt[0]+(Vt[0]-Tt[0]),Vt[1]+(Vt[1]-Tt[1])]}function H(Tt){var Vt=j(Tt);if(!Vt||!Vt.length)return[["M",0,0]];for(var Ht=!1,re=0;re<Vt.length;re++){var pe=Vt[re][0];if(D.test(pe)||["V","H","T","S"].indexOf(pe)>=0){Ht=!0;break}}if(!Ht)return Vt;var me=[],Ee=0,Le=0,Je=0,On=0,gn=0,Vn,kn,Wn=Vt[0];(Wn[0]==="M"||Wn[0]==="m")&&(Ee=+Wn[1],Le=+Wn[2],Je=Ee,On=Le,gn++,me[0]=["M",Ee,Le]);for(var re=gn,Dn=Vt.length;re<Dn;re++){var Nn=Vt[re],Qn=me[re-1],ir=[],pe=Nn[0],hr=pe.toUpperCase();if(pe!==hr)switch(ir[0]=hr,hr){case"A":ir[1]=Nn[1],ir[2]=Nn[2],ir[3]=Nn[3],ir[4]=Nn[4],ir[5]=Nn[5],ir[6]=+Nn[6]+Ee,ir[7]=+Nn[7]+Le;break;case"V":ir[1]=+Nn[1]+Le;break;case"H":ir[1]=+Nn[1]+Ee;break;case"M":Je=+Nn[1]+Ee,On=+Nn[2]+Le;break;default:for(var Er=1,mr=Nn.length;Er<mr;Er++)ir[Er]=+Nn[Er]+(Er%2?Ee:Le)}else ir=Vt[re];switch(hr){case"Z":Ee=+Je,Le=+On;break;case"H":Ee=ir[1],ir=["L",Ee,Le];break;case"V":Le=ir[1],ir=["L",Ee,Le];break;case"T":Ee=ir[1],Le=ir[2];var dr=V([Qn[1],Qn[2]],[Qn[3],Qn[4]]);ir=["Q",dr[0],dr[1],Ee,Le];break;case"S":Ee=ir[ir.length-2],Le=ir[ir.length-1];var Br=Qn.length,ii=V([Qn[Br-4],Qn[Br-3]],[Qn[Br-2],Qn[Br-1]]);ir=["C",ii[0],ii[1],ir[1],ir[2],Ee,Le];break;case"M":Je=ir[ir.length-2],On=ir[ir.length-1];break;default:Ee=ir[ir.length-2],Le=ir[ir.length-1]}me.push(ir)}return me}var $=function Tt(Vt,Ht,re,pe,me,Ee,Le,Je,On,gn){re===pe&&(re+=1);var Vn=Math.PI*120/180,kn=Math.PI/180*(+me||0),Wn=[],Dn,Nn,Qn,ir,hr,Er=function(Ti,pi,Ni){var Bi=Ti*Math.cos(Ni)-pi*Math.sin(Ni),Fi=Ti*Math.sin(Ni)+pi*Math.cos(Ni);return{x:Bi,y:Fi}};if(gn)Nn=gn[0],Qn=gn[1],ir=gn[2],hr=gn[3];else{Dn=Er(Vt,Ht,-kn),Vt=Dn.x,Ht=Dn.y,Dn=Er(Je,On,-kn),Je=Dn.x,On=Dn.y,Vt===Je&&Ht===On&&(Je+=1,On+=1);var mr=(Vt-Je)/2,dr=(Ht-On)/2,Br=mr*mr/(re*re)+dr*dr/(pe*pe);Br>1&&(Br=Math.sqrt(Br),re=Br*re,pe=Br*pe);var ii=re*re,mi=pe*pe,Pi=(Ee===Le?-1:1)*Math.sqrt(Math.abs((ii*mi-ii*dr*dr-mi*mr*mr)/(ii*dr*dr+mi*mr*mr)));ir=Pi*re*dr/pe+(Vt+Je)/2,hr=Pi*-pe*mr/re+(Ht+On)/2,Nn=Math.asin(Number(((Ht-hr)/pe).toFixed(9))),Qn=Math.asin(Number(((On-hr)/pe).toFixed(9))),Nn=Vt<ir?Math.PI-Nn:Nn,Qn=Je<ir?Math.PI-Qn:Qn,Nn<0&&(Nn=Math.PI*2+Nn),Qn<0&&(Qn=Math.PI*2+Qn),Le&&Nn>Qn&&(Nn=Nn-Math.PI*2),!Le&&Qn>Nn&&(Qn=Qn-Math.PI*2)}var sa=Qn-Nn;if(Math.abs(sa)>Vn){var Pa=Qn,Mi=Je,Ki=On;Qn=Nn+Vn*(Le&&Qn>Nn?1:-1),Je=ir+re*Math.cos(Qn),On=hr+pe*Math.sin(Qn),Wn=Tt(Je,On,re,pe,me,0,Le,Mi,Ki,[Qn,Pa,ir,hr])}sa=Qn-Nn;var fa=Math.cos(Nn),oa=Math.sin(Nn),pa=Math.cos(Qn),La=Math.sin(Qn),Yr=Math.tan(sa/4),Ea=4/3*re*Yr,Pr=4/3*pe*Yr,si=[Vt,Ht],ti=[Vt+Ea*oa,Ht-Pr*fa],$r=[Je+Ea*La,On-Pr*pa],ui=[Je,On];if(ti[0]=2*si[0]-ti[0],ti[1]=2*si[1]-ti[1],gn)return[ti,$r,ui].concat(Wn);Wn=[ti,$r,ui].concat(Wn).join().split(",");for(var li=[],xi=0,Ci=Wn.length;xi<Ci;xi++)li[xi]=xi%2?Er(Wn[xi-1],Wn[xi],kn).y:Er(Wn[xi],Wn[xi+1],kn).x;return li},dt=function(Vt,Ht,re,pe){return[Vt,Ht,re,pe,re,pe]},Z=function(Vt,Ht,re,pe,me,Ee){var Le=1/3,Je=2/3;return[Le*Vt+Je*re,Le*Ht+Je*pe,Le*me+Je*re,Le*Ee+Je*pe,me,Ee]};function ct(Tt,Vt){var Ht=H(Tt),re=Vt&&H(Vt),pe={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},me={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ee=[],Le=[],Je="",On="",gn,Vn=function(mr,dr,Br){var ii,mi;if(!mr)return["C",dr.x,dr.y,dr.x,dr.y,dr.x,dr.y];switch(!(mr[0]in{T:1,Q:1})&&(dr.qx=dr.qy=null),mr[0]){case"M":dr.X=mr[1],dr.Y=mr[2];break;case"A":mr=["C"].concat($.apply(0,[dr.x,dr.y].concat(mr.slice(1))));break;case"S":Br==="C"||Br==="S"?(ii=dr.x*2-dr.bx,mi=dr.y*2-dr.by):(ii=dr.x,mi=dr.y),mr=["C",ii,mi].concat(mr.slice(1));break;case"T":Br==="Q"||Br==="T"?(dr.qx=dr.x*2-dr.qx,dr.qy=dr.y*2-dr.qy):(dr.qx=dr.x,dr.qy=dr.y),mr=["C"].concat(Z(dr.x,dr.y,dr.qx,dr.qy,mr[1],mr[2]));break;case"Q":dr.qx=mr[1],dr.qy=mr[2],mr=["C"].concat(Z(dr.x,dr.y,mr[1],mr[2],mr[3],mr[4]));break;case"L":mr=["C"].concat(dt(dr.x,dr.y,mr[1],mr[2]));break;case"H":mr=["C"].concat(dt(dr.x,dr.y,mr[1],dr.y));break;case"V":mr=["C"].concat(dt(dr.x,dr.y,dr.x,mr[1]));break;case"Z":mr=["C"].concat(dt(dr.x,dr.y,dr.X,dr.Y));break;default:break}return mr},kn=function(mr,dr){if(mr[dr].length>7){mr[dr].shift();for(var Br=mr[dr];Br.length;)Ee[dr]="A",re&&(Le[dr]="A"),mr.splice(dr++,0,["C"].concat(Br.splice(0,6)));mr.splice(dr,1),gn=Math.max(Ht.length,re&&re.length||0)}},Wn=function(mr,dr,Br,ii,mi){mr&&dr&&mr[mi][0]==="M"&&dr[mi][0]!=="M"&&(dr.splice(mi,0,["M",ii.x,ii.y]),Br.bx=0,Br.by=0,Br.x=mr[mi][1],Br.y=mr[mi][2],gn=Math.max(Ht.length,re&&re.length||0))};gn=Math.max(Ht.length,re&&re.length||0);for(var Dn=0;Dn<gn;Dn++){Ht[Dn]&&(Je=Ht[Dn][0]),Je!=="C"&&(Ee[Dn]=Je,Dn&&(On=Ee[Dn-1])),Ht[Dn]=Vn(Ht[Dn],pe,On),Ee[Dn]!=="A"&&Je==="C"&&(Ee[Dn]="C"),kn(Ht,Dn),re&&(re[Dn]&&(Je=re[Dn][0]),Je!=="C"&&(Le[Dn]=Je,Dn&&(On=Le[Dn-1])),re[Dn]=Vn(re[Dn],me,On),Le[Dn]!=="A"&&Je==="C"&&(Le[Dn]="C"),kn(re,Dn)),Wn(Ht,re,pe,me,Dn),Wn(re,Ht,me,pe,Dn);var Nn=Ht[Dn],Qn=re&&re[Dn],ir=Nn.length,hr=re&&Qn.length;pe.x=Nn[ir-2],pe.y=Nn[ir-1],pe.bx=parseFloat(Nn[ir-4])||pe.x,pe.by=parseFloat(Nn[ir-3])||pe.y,me.bx=re&&(parseFloat(Qn[hr-4])||me.x),me.by=re&&(parseFloat(Qn[hr-3])||me.y),me.x=re&&Qn[hr-2],me.y=re&&Qn[hr-1]}return re?[Ht,re]:Ht}var pt=function(Vt,Ht,re,pe,me){var Ee=-3*Ht+9*re-9*pe+3*me,Le=Vt*Ee+6*Ht-12*re+6*pe;return Vt*Le-3*Ht+3*re},gt=function(Vt,Ht,re,pe,me,Ee,Le,Je,On){On===null&&(On=1),On=On>1?1:On<0?0:On;for(var gn=On/2,Vn=12,kn=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Wn=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Dn=0,Nn=0;Nn<Vn;Nn++){var Qn=gn*kn[Nn]+gn,ir=pt(Qn,Vt,re,me,Le),hr=pt(Qn,Ht,pe,Ee,Je),Er=ir*ir+hr*hr;Dn+=Wn[Nn]*Math.sqrt(Er)}return gn*Dn},at=function(Vt,Ht,re,pe,me,Ee,Le,Je){for(var On=[],gn=[[],[]],Vn,kn,Wn,Dn,Nn=0;Nn<2;++Nn){if(Nn===0?(kn=6*Vt-12*re+6*me,Vn=-3*Vt+9*re-9*me+3*Le,Wn=3*re-3*Vt):(kn=6*Ht-12*pe+6*Ee,Vn=-3*Ht+9*pe-9*Ee+3*Je,Wn=3*pe-3*Ht),Math.abs(Vn)<1e-12){if(Math.abs(kn)<1e-12)continue;Dn=-Wn/kn,Dn>0&&Dn<1&&On.push(Dn);continue}var Qn=kn*kn-4*Wn*Vn,ir=Math.sqrt(Qn);if(!(Qn<0)){var hr=(-kn+ir)/(2*Vn);hr>0&&hr<1&&On.push(hr);var Er=(-kn-ir)/(2*Vn);Er>0&&Er<1&&On.push(Er)}}for(var mr=On.length,dr=mr,Br;mr--;)Dn=On[mr],Br=1-Dn,gn[0][mr]=Br*Br*Br*Vt+3*Br*Br*Dn*re+3*Br*Dn*Dn*me+Dn*Dn*Dn*Le,gn[1][mr]=Br*Br*Br*Ht+3*Br*Br*Dn*pe+3*Br*Dn*Dn*Ee+Dn*Dn*Dn*Je;return gn[0][dr]=Vt,gn[1][dr]=Ht,gn[0][dr+1]=Le,gn[1][dr+1]=Je,gn[0].length=gn[1].length=dr+2,{min:{x:Math.min.apply(0,gn[0]),y:Math.min.apply(0,gn[1])},max:{x:Math.max.apply(0,gn[0]),y:Math.max.apply(0,gn[1])}}},Bt=function(Vt,Ht,re,pe,me,Ee,Le,Je){if(!(Math.max(Vt,re)<Math.min(me,Le)||Math.min(Vt,re)>Math.max(me,Le)||Math.max(Ht,pe)<Math.min(Ee,Je)||Math.min(Ht,pe)>Math.max(Ee,Je))){var On=(Vt*pe-Ht*re)*(me-Le)-(Vt-re)*(me*Je-Ee*Le),gn=(Vt*pe-Ht*re)*(Ee-Je)-(Ht-pe)*(me*Je-Ee*Le),Vn=(Vt-re)*(Ee-Je)-(Ht-pe)*(me-Le);if(!!Vn){var kn=On/Vn,Wn=gn/Vn,Dn=+kn.toFixed(2),Nn=+Wn.toFixed(2);if(!(Dn<+Math.min(Vt,re).toFixed(2)||Dn>+Math.max(Vt,re).toFixed(2)||Dn<+Math.min(me,Le).toFixed(2)||Dn>+Math.max(me,Le).toFixed(2)||Nn<+Math.min(Ht,pe).toFixed(2)||Nn>+Math.max(Ht,pe).toFixed(2)||Nn<+Math.min(Ee,Je).toFixed(2)||Nn>+Math.max(Ee,Je).toFixed(2)))return{x:kn,y:Wn}}}},Lt=function(Vt,Ht,re){return Ht>=Vt.x&&Ht<=Vt.x+Vt.width&&re>=Vt.y&&re<=Vt.y+Vt.height},Et=function(Vt,Ht,re,pe){return Vt===null&&(Vt=Ht=re=pe=0),Ht===null&&(Ht=Vt.y,re=Vt.width,pe=Vt.height,Vt=Vt.x),{x:Vt,y:Ht,width:re,w:re,height:pe,h:pe,x2:Vt+re,y2:Ht+pe,cx:Vt+re/2,cy:Ht+pe/2,r1:Math.min(re,pe)/2,r2:Math.max(re,pe)/2,r0:Math.sqrt(re*re+pe*pe)/2,path:S(Vt,Ht,re,pe),vb:[Vt,Ht,re,pe].join(" ")}},K=function(Vt,Ht){return Vt=Et(Vt),Ht=Et(Ht),Lt(Ht,Vt.x,Vt.y)||Lt(Ht,Vt.x2,Vt.y)||Lt(Ht,Vt.x,Vt.y2)||Lt(Ht,Vt.x2,Vt.y2)||Lt(Vt,Ht.x,Ht.y)||Lt(Vt,Ht.x2,Ht.y)||Lt(Vt,Ht.x,Ht.y2)||Lt(Vt,Ht.x2,Ht.y2)||(Vt.x<Ht.x2&&Vt.x>Ht.x||Ht.x<Vt.x2&&Ht.x>Vt.x)&&(Vt.y<Ht.y2&&Vt.y>Ht.y||Ht.y<Vt.y2&&Ht.y>Vt.y)},ft=function(Vt,Ht,re,pe,me,Ee,Le,Je){Object(Y.isArray)(Vt)||(Vt=[Vt,Ht,re,pe,me,Ee,Le,Je]);var On=at.apply(null,Vt);return Et(On.min.x,On.min.y,On.max.x-On.min.x,On.max.y-On.min.y)},mt=function(Vt,Ht,re,pe,me,Ee,Le,Je,On){var gn=1-On,Vn=Math.pow(gn,3),kn=Math.pow(gn,2),Wn=On*On,Dn=Wn*On,Nn=Vn*Vt+kn*3*On*re+gn*3*On*On*me+Dn*Le,Qn=Vn*Ht+kn*3*On*pe+gn*3*On*On*Ee+Dn*Je,ir=Vt+2*On*(re-Vt)+Wn*(me-2*re+Vt),hr=Ht+2*On*(pe-Ht)+Wn*(Ee-2*pe+Ht),Er=re+2*On*(me-re)+Wn*(Le-2*me+re),mr=pe+2*On*(Ee-pe)+Wn*(Je-2*Ee+pe),dr=gn*Vt+On*re,Br=gn*Ht+On*pe,ii=gn*me+On*Le,mi=gn*Ee+On*Je,Pi=90-Math.atan2(ir-Er,hr-mr)*180/Math.PI;return{x:Nn,y:Qn,m:{x:ir,y:hr},n:{x:Er,y:mr},start:{x:dr,y:Br},end:{x:ii,y:mi},alpha:Pi}},yt=function(Vt,Ht,re){var pe=ft(Vt),me=ft(Ht);if(!K(pe,me))return re?0:[];for(var Ee=gt.apply(0,Vt),Le=gt.apply(0,Ht),Je=~~(Ee/8),On=~~(Le/8),gn=[],Vn=[],kn={},Wn=re?0:[],Dn=0;Dn<Je+1;Dn++){var Nn=mt.apply(0,Vt.concat(Dn/Je));gn.push({x:Nn.x,y:Nn.y,t:Dn/Je})}for(var Dn=0;Dn<On+1;Dn++){var Nn=mt.apply(0,Ht.concat(Dn/On));Vn.push({x:Nn.x,y:Nn.y,t:Dn/On})}for(var Dn=0;Dn<Je;Dn++)for(var Qn=0;Qn<On;Qn++){var ir=gn[Dn],hr=gn[Dn+1],Er=Vn[Qn],mr=Vn[Qn+1],dr=Math.abs(hr.x-ir.x)<.001?"y":"x",Br=Math.abs(mr.x-Er.x)<.001?"y":"x",ii=Bt(ir.x,ir.y,hr.x,hr.y,Er.x,Er.y,mr.x,mr.y);if(ii){if(kn[ii.x.toFixed(4)]===ii.y.toFixed(4))continue;kn[ii.x.toFixed(4)]=ii.y.toFixed(4);var mi=ir.t+Math.abs((ii[dr]-ir[dr])/(hr[dr]-ir[dr]))*(hr.t-ir.t),Pi=Er.t+Math.abs((ii[Br]-Er[Br])/(mr[Br]-Er[Br]))*(mr.t-Er.t);mi>=0&&mi<=1&&Pi>=0&&Pi<=1&&(re?Wn++:Wn.push({x:ii.x,y:ii.y,t1:mi,t2:Pi}))}}return Wn},wt=function(Vt,Ht,re){Vt=ct(Vt),Ht=ct(Ht);for(var pe,me,Ee,Le,Je,On,gn,Vn,kn,Wn,Dn=re?0:[],Nn=0,Qn=Vt.length;Nn<Qn;Nn++){var ir=Vt[Nn];if(ir[0]==="M")pe=Je=ir[1],me=On=ir[2];else{ir[0]==="C"?(kn=[pe,me].concat(ir.slice(1)),pe=kn[6],me=kn[7]):(kn=[pe,me,pe,me,Je,On,Je,On],pe=Je,me=On);for(var hr=0,Er=Ht.length;hr<Er;hr++){var mr=Ht[hr];if(mr[0]==="M")Ee=gn=mr[1],Le=Vn=mr[2];else{mr[0]==="C"?(Wn=[Ee,Le].concat(mr.slice(1)),Ee=Wn[6],Le=Wn[7]):(Wn=[Ee,Le,Ee,Le,gn,Vn,gn,Vn],Ee=gn,Le=Vn);var dr=yt(kn,Wn,re);if(re)Dn+=dr;else{for(var Br=0,ii=dr.length;Br<ii;Br++)dr[Br].segment1=Nn,dr[Br].segment2=hr,dr[Br].bez1=kn,dr[Br].bez2=Wn;Dn=Dn.concat(dr)}}}}}return Dn};function J(Tt,Vt){return wt(Tt,Vt)}var lt=/,?([a-z]),?/gi;function it(Tt){return Tt.join(",").replace(lt,"$1")}function _(Tt){return Math.sqrt(Tt[0]*Tt[0]+Tt[1]*Tt[1])}function P(Tt,Vt){return _(Tt)*_(Vt)?(Tt[0]*Vt[0]+Tt[1]*Vt[1])/(_(Tt)*_(Vt)):1}function Q(Tt,Vt){return(Tt[0]*Vt[1]<Tt[1]*Vt[0]?-1:1)*Math.acos(P(Tt,Vt))}function k(Tt,Vt){return Tt[0]===Vt[0]&&Tt[1]===Vt[1]}function p(Tt,Vt){var Ht=Vt[1],re=Vt[2],pe=Object(Y.mod)(Object(Y.toRadian)(Vt[3]),Math.PI*2),me=Vt[4],Ee=Vt[5],Le=Tt[0],Je=Tt[1],On=Vt[6],gn=Vt[7],Vn=Math.cos(pe)*(Le-On)/2+Math.sin(pe)*(Je-gn)/2,kn=-1*Math.sin(pe)*(Le-On)/2+Math.cos(pe)*(Je-gn)/2,Wn=Vn*Vn/(Ht*Ht)+kn*kn/(re*re);Wn>1&&(Ht*=Math.sqrt(Wn),re*=Math.sqrt(Wn));var Dn=Ht*Ht*(kn*kn)+re*re*(Vn*Vn),Nn=Dn?Math.sqrt((Ht*Ht*(re*re)-Dn)/Dn):1;me===Ee&&(Nn*=-1),isNaN(Nn)&&(Nn=0);var Qn=re?Nn*Ht*kn/re:0,ir=Ht?Nn*-re*Vn/Ht:0,hr=(Le+On)/2+Math.cos(pe)*Qn-Math.sin(pe)*ir,Er=(Je+gn)/2+Math.sin(pe)*Qn+Math.cos(pe)*ir,mr=[(Vn-Qn)/Ht,(kn-ir)/re],dr=[(-1*Vn-Qn)/Ht,(-1*kn-ir)/re],Br=Q([1,0],mr),ii=Q(mr,dr);return P(mr,dr)<=-1&&(ii=Math.PI),P(mr,dr)>=1&&(ii=0),Ee===0&&ii>0&&(ii=ii-2*Math.PI),Ee===1&&ii<0&&(ii=ii+2*Math.PI),{cx:hr,cy:Er,rx:k(Tt,[On,gn])?0:Ht,ry:k(Tt,[On,gn])?0:re,startAngle:Br,endAngle:Br+ii,xRotation:pe,arcFlag:me,sweepFlag:Ee}}function y(Tt,Vt){return[Vt[0]+(Vt[0]-Tt[0]),Vt[1]+(Vt[1]-Tt[1])]}function B(Tt){Tt=n(Tt);for(var Vt=[],Ht=null,re=null,pe=null,me=0,Ee=Tt.length,Le=0;Le<Ee;Le++){var Je=Tt[Le];re=Tt[Le+1];var On=Je[0],gn={command:On,prePoint:Ht,params:Je,startTangent:null,endTangent:null};switch(On){case"M":pe=[Je[1],Je[2]],me=Le;break;case"A":var Vn=p(Ht,Je);gn.arcParams=Vn;break;default:break}if(On==="Z")Ht=pe,re=Tt[me+1];else{var kn=Je.length;Ht=[Je[kn-2],Je[kn-1]]}re&&re[0]==="Z"&&(re=Tt[me],Vt[me]&&(Vt[me].prePoint=Ht)),gn.currentPoint=Ht,Vt[me]&&k(Ht,Vt[me].currentPoint)&&(Vt[me].prePoint=gn.prePoint);var Wn=re?[re[re.length-2],re[re.length-1]]:null;gn.nextPoint=Wn;var Dn=gn.prePoint;if(["L","H","V"].includes(On))gn.startTangent=[Dn[0]-Ht[0],Dn[1]-Ht[1]],gn.endTangent=[Ht[0]-Dn[0],Ht[1]-Dn[1]];else if(On==="Q"){var Nn=[Je[1],Je[2]];gn.startTangent=[Dn[0]-Nn[0],Dn[1]-Nn[1]],gn.endTangent=[Ht[0]-Nn[0],Ht[1]-Nn[1]]}else if(On==="T"){var Qn=Vt[Le-1],Nn=y(Qn.currentPoint,Dn);Qn.command==="Q"?(gn.command="Q",gn.startTangent=[Dn[0]-Nn[0],Dn[1]-Nn[1]],gn.endTangent=[Ht[0]-Nn[0],Ht[1]-Nn[1]]):(gn.command="TL",gn.startTangent=[Dn[0]-Ht[0],Dn[1]-Ht[1]],gn.endTangent=[Ht[0]-Dn[0],Ht[1]-Dn[1]])}else if(On==="C"){var ir=[Je[1],Je[2]],hr=[Je[3],Je[4]];gn.startTangent=[Dn[0]-ir[0],Dn[1]-ir[1]],gn.endTangent=[Ht[0]-hr[0],Ht[1]-hr[1]]}else if(On==="S"){var Qn=Vt[Le-1],ir=y(Qn.currentPoint,Dn),hr=[Je[1],Je[2]];Qn.command==="C"?(gn.command="C",gn.startTangent=[Dn[0]-ir[0],Dn[1]-ir[1]],gn.endTangent=[Ht[0]-hr[0],Ht[1]-hr[1]]):(gn.command="SQ",gn.startTangent=[Dn[0]-hr[0],Dn[1]-hr[1]],gn.endTangent=[Ht[0]-hr[0],Ht[1]-hr[1]])}else if(On==="A"){var Er=.001,mr=gn.arcParams||{},dr=mr.cx,Br=dr===void 0?0:dr,ii=mr.cy,mi=ii===void 0?0:ii,Pi=mr.rx,sa=Pi===void 0?0:Pi,Pa=mr.ry,Mi=Pa===void 0?0:Pa,Ki=mr.sweepFlag,fa=Ki===void 0?0:Ki,oa=mr.startAngle,pa=oa===void 0?0:oa,La=mr.endAngle,Yr=La===void 0?0:La;fa===0&&(Er*=-1);var Ea=sa*Math.cos(pa-Er)+Br,Pr=Mi*Math.sin(pa-Er)+mi;gn.startTangent=[Ea-pe[0],Pr-pe[1]];var si=sa*Math.cos(pa+Yr+Er)+Br,ti=Mi*Math.sin(pa+Yr-Er)+mi;gn.endTangent=[Dn[0]-si,Dn[1]-ti]}Vt.push(gn)}return Vt}var W=function(Vt,Ht,re){return Vt>=Ht&&Vt<=re};function rt(Tt,Vt,Ht,re){var pe=.001,me={x:Ht.x-Tt.x,y:Ht.y-Tt.y},Ee={x:Vt.x-Tt.x,y:Vt.y-Tt.y},Le={x:re.x-Ht.x,y:re.y-Ht.y},Je=Ee.x*Le.y-Ee.y*Le.x,On=Je*Je,gn=Ee.x*Ee.x+Ee.y*Ee.y,Vn=Le.x*Le.x+Le.y*Le.y,kn=null;if(On>pe*gn*Vn){var Wn=(me.x*Le.y-me.y*Le.x)/Je,Dn=(me.x*Ee.y-me.y*Ee.x)/Je;W(Wn,0,1)&&W(Dn,0,1)&&(kn={x:Tt.x+Wn*Ee.x,y:Tt.y+Wn*Ee.y})}return kn}var st=1e-6;function ut(Tt){return Math.abs(Tt)<st?0:Tt<0?-1:1}function Mt(Tt,Vt,Ht){return(Ht[0]-Tt[0])*(Vt[1]-Tt[1])==(Vt[0]-Tt[0])*(Ht[1]-Tt[1])&&Math.min(Tt[0],Vt[0])<=Ht[0]&&Ht[0]<=Math.max(Tt[0],Vt[0])&&Math.min(Tt[1],Vt[1])<=Ht[1]&&Ht[1]<=Math.max(Tt[1],Vt[1])}function bt(Tt,Vt,Ht){var re=!1,pe=Tt.length;if(pe<=2)return!1;for(var me=0;me<pe;me++){var Ee=Tt[me],Le=Tt[(me+1)%pe];if(Mt(Ee,Le,[Vt,Ht]))return!0;ut(Ee[1]-Ht)>0!=ut(Le[1]-Ht)>0&&ut(Vt-(Ht-Ee[1])*(Ee[0]-Le[0])/(Ee[1]-Le[1])-Ee[0])<0&&(re=!re)}return re}function xt(Tt){for(var Vt=[],Ht=Tt.length,re=0;re<Ht-1;re++){var pe=Tt[re],me=Tt[re+1];Vt.push({from:{x:pe[0],y:pe[1]},to:{x:me[0],y:me[1]}})}if(Vt.length>1){var Ee=Tt[0],Le=Tt[Ht-1];Vt.push({from:{x:Le[0],y:Le[1]},to:{x:Ee[0],y:Ee[1]}})}return Vt}function Ot(Tt,Vt){var Ht=!1;return Object(Y.each)(Tt,function(re){if(rt(re.from,re.to,Vt.from,Vt.to))return Ht=!0,!1}),Ht}function jt(Tt){var Vt=Tt.map(function(re){return re[0]}),Ht=Tt.map(function(re){return re[1]});return{minX:Math.min.apply(null,Vt),maxX:Math.max.apply(null,Vt),minY:Math.min.apply(null,Ht),maxY:Math.max.apply(null,Ht)}}function Dt(Tt,Vt){return!(Vt.minX>Tt.maxX||Vt.maxX<Tt.minX||Vt.minY>Tt.maxY||Vt.maxY<Tt.minY)}function zt(Tt,Vt){if(Tt.length<2||Vt.length<2)return!1;var Ht=jt(Tt),re=jt(Vt);if(!Dt(Ht,re))return!1;var pe=!1;if(Object(Y.each)(Vt,function(Je){if(bt(Tt,Je[0],Je[1]))return pe=!0,!1}),pe||(Object(Y.each)(Tt,function(Je){if(bt(Vt,Je[0],Je[1]))return pe=!0,!1}),pe))return!0;var me=xt(Tt),Ee=xt(Vt),Le=!1;return Object(Y.each)(Ee,function(Je){if(Ot(me,Je))return Le=!0,!1}),Le}},MMmD:function(qe,Pt,E){var Y=E("lSCD"),i=E("shjB");function b(t){return t!=null&&i(t.length)&&!Y(t)}qe.exports=b},MaEA:function(qe,Pt,E){"use strict";var Y=E("mrSG"),i=E("zK8m"),b=E("aSjE"),t=function(n){Object(Y.b)(u,n);function u(g){return n.call(this,g)||this}return u.prototype._isInBBox=function(g,x){var c=this.getBBox();return c.minX<=g&&c.maxX>=g&&c.minY<=x&&c.maxY>=x},u.prototype.afterAttrsChange=function(g){n.prototype.afterAttrsChange.call(this,g),this.clearCacheBBox()},u.prototype.getBBox=function(){var g=this.cfg.bbox;return g||(g=this.calculateBBox(),this.set("bbox",g)),g},u.prototype.getCanvasBBox=function(){var g=this.cfg.canvasBBox;return g||(g=this.calculateCanvasBBox(),this.set("canvasBBox",g)),g},u.prototype.applyMatrix=function(g){n.prototype.applyMatrix.call(this,g),this.set("canvasBBox",null)},u.prototype.calculateCanvasBBox=function(){var g=this.getBBox(),x=this.getTotalMatrix(),c=g.minX,w=g.minY,I=g.maxX,m=g.maxY;if(x){var r=Object(b.c)(x,[g.minX,g.minY]),s=Object(b.c)(x,[g.maxX,g.minY]),d=Object(b.c)(x,[g.minX,g.maxY]),C=Object(b.c)(x,[g.maxX,g.maxY]);c=Math.min(r[0],s[0],d[0],C[0]),I=Math.max(r[0],s[0],d[0],C[0]),w=Math.min(r[1],s[1],d[1],C[1]),m=Math.max(r[1],s[1],d[1],C[1])}var S=this.attrs;if(S.shadowColor){var A=S.shadowBlur,f=A===void 0?0:A,O=S.shadowOffsetX,j=O===void 0?0:O,D=S.shadowOffsetY,V=D===void 0?0:D,H=c-f+j,$=I+f+j,dt=w-f+V,Z=m+f+V;c=Math.min(c,H),I=Math.max(I,$),w=Math.min(w,dt),m=Math.max(m,Z)}return{x:c,y:w,minX:c,minY:w,maxX:I,maxY:m,width:I-c,height:m-w}},u.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},u.prototype.isClipShape=function(){return this.get("isClipShape")},u.prototype.isInShape=function(g,x){return!1},u.prototype.isOnlyHitBox=function(){return!1},u.prototype.isHit=function(g,x){var c=this.get("startArrowShape"),w=this.get("endArrowShape"),I=[g,x,1];I=this.invertFromMatrix(I);var m=I[0],r=I[1],s=this._isInBBox(m,r);return this.isOnlyHitBox()?s:!!(s&&!this.isClipped(m,r)&&(this.isInShape(m,r)||c&&c.isHit(m,r)||w&&w.isHit(m,r)))},u}(i.a);Pt.a=t},MeYt:function(qe,Pt,E){"use strict";var Y=E("mrSG"),i=E("iTfj"),b=E("1//c"),t=E("jqgP"),n=E("5UbV"),u=E("NmWf"),g="update_status",x=["visible","tip","delegateObject"],c=["container","group","shapesMap","isRegister","isUpdating","destroyed"],w=function(I){Object(Y.b)(m,I);function m(){return I!==null&&I.apply(this,arguments)||this}return m.prototype.getDefaultCfg=function(){var r=I.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},r),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},m.prototype.remove=function(){this.clear();var r=this.get("group");r.remove()},m.prototype.clear=function(){var r=this.get("group");r.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},m.prototype.getChildComponentById=function(r){var s=this.getElementById(r),d=s&&s.get("component");return d},m.prototype.getElementById=function(r){return this.get("shapesMap")[r]},m.prototype.getElementByLocalId=function(r){var s=this.getElementId(r);return this.getElementById(s)},m.prototype.getElementsByName=function(r){var s=[];return Object(i.each)(this.get("shapesMap"),function(d){d.get("name")===r&&s.push(d)}),s},m.prototype.getContainer=function(){return this.get("container")},m.prototype.updateInner=function(r){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},m.prototype.render=function(){var r=this.get("offScreenGroup");r||(r=this.offScreenRender());var s=this.get("group");this.updateElements(r,s),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},m.prototype.show=function(){var r=this.get("group");r.show(),this.set("visible",!0)},m.prototype.hide=function(){var r=this.get("group");r.hide(),this.set("visible",!1)},m.prototype.setCapture=function(r){var s=this.get("group");s.set("capture",r),this.set("capture",r)},m.prototype.destroy=function(){this.removeEvent(),this.remove(),I.prototype.destroy.call(this)},m.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},m.prototype.getLayoutBBox=function(){var r=this.get("group"),s=this.getInnerLayoutBBox(),d=r.getTotalMatrix();return d&&(s=Object(t.a)(d,s)),s},m.prototype.on=function(r,s,d){var C=this.get("group");return C.on(r,s,d),this},m.prototype.off=function(r,s){var d=this.get("group");return d&&d.off(r,s),this},m.prototype.emit=function(r,s){var d=this.get("group");d.emit(r,s)},m.prototype.init=function(){I.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},m.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},m.prototype.delegateEmit=function(r,s){var d=this.get("group");s.target=d,d.emit(r,s),Object(b.a)(d,r,s)},m.prototype.createOffScreenGroup=function(){var r=this.get("group"),s=r.getGroupBase(),d=new s({delegateObject:this.getDelegateObject()});return d},m.prototype.applyOffset=function(){var r=this.get("offsetX"),s=this.get("offsetY");this.moveElementTo(this.get("group"),{x:r,y:s})},m.prototype.initGroup=function(){var r=this.get("container");this.set("group",r.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},m.prototype.offScreenRender=function(){this.clearOffScreenCache();var r=this.createOffScreenGroup();return this.renderInner(r),this.set("offScreenGroup",r),this.set("offScreenBBox",Object(n.d)(r)),r},m.prototype.addGroup=function(r,s){this.appendDelegateObject(r,s);var d=r.addGroup(s);return this.get("isRegister")&&this.registerElement(d),d},m.prototype.addShape=function(r,s){this.appendDelegateObject(r,s);var d=r.addShape(s);return this.get("isRegister")&&this.registerElement(d),d},m.prototype.addComponent=function(r,s){var d=s.id,C=s.component,S=Object(Y.c)(s,["id","component"]),A=new C(Object(Y.a)(Object(Y.a)({},S),{id:d,container:r,updateAutoRender:this.get("updateAutoRender")}));return A.init(),A.render(),this.get("isRegister")&&this.registerElement(A.get("group")),A},m.prototype.initEvent=function(){},m.prototype.removeEvent=function(){var r=this.get("group");r.off()},m.prototype.getElementId=function(r){var s=this.get("id"),d=this.get("name");return s+"-"+d+"-"+r},m.prototype.registerElement=function(r){var s=r.get("id");this.get("shapesMap")[s]=r},m.prototype.unregisterElement=function(r){var s=r.get("id");delete this.get("shapesMap")[s]},m.prototype.moveElementTo=function(r,s){var d=Object(t.f)(s);r.attr("matrix",d)},m.prototype.addAnimation=function(r,s,d){var C=s.attr("opacity");Object(i.isNil)(C)&&(C=1),s.attr("opacity",0),s.animate({opacity:C},d)},m.prototype.removeAnimation=function(r,s,d){s.animate({opacity:0},d)},m.prototype.updateAnimation=function(r,s,d,C){s.animate(d,C)},m.prototype.updateElements=function(r,s){var d=this,C=this.get("animate"),S=this.get("animateOption"),A=r.getChildren().slice(0),f;Object(i.each)(A,function(O){var j=O.get("id"),D=d.getElementById(j),V=O.get("name");if(D)if(O.get("isComponent")){var H=O.get("component"),$=D.get("component"),dt=Object(i.pick)(H.cfg,Object(i.difference)(Object(i.keys)(H.cfg),c));$.update(dt),D.set(g,"update")}else{var Z=d.getReplaceAttrs(D,O);C&&S.update?d.updateAnimation(V,D,Z,S.update):D.attr(Z),O.isGroup()&&d.updateElements(O,D),Object(i.each)(x,function(at){D.set(at,O.get(at))}),Object(n.m)(D,O),f=D,D.set(g,"update")}else{s.add(O);var ct=s.getChildren();if(ct.splice(ct.length-1,1),f){var pt=ct.indexOf(f);ct.splice(pt+1,0,O)}else ct.unshift(O);if(d.registerElement(O),O.set(g,"add"),O.get("isComponent")){var H=O.get("component");H.set("container",s)}else O.isGroup()&&d.registerNewGroup(O);if(f=O,C){var gt=d.get("isInit")?S.appear:S.enter;gt&&d.addAnimation(V,O,gt)}}})},m.prototype.clearUpdateStatus=function(r){var s=r.getChildren();Object(i.each)(s,function(d){d.set(g,null)})},m.prototype.clearOffScreenCache=function(){var r=this.get("offScreenGroup");r&&r.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},m.prototype.getDelegateObject=function(){var r,s=this.get("name"),d=(r={},r[s]=this,r.component=this,r);return d},m.prototype.appendDelegateObject=function(r,s){var d=r.get("delegateObject");s.delegateObject||(s.delegateObject={}),Object(i.mix)(s.delegateObject,d)},m.prototype.getReplaceAttrs=function(r,s){var d=r.attr(),C=s.attr();return Object(i.each)(d,function(S,A){C[A]===void 0&&(C[A]=void 0)}),C},m.prototype.registerNewGroup=function(r){var s=this,d=r.getChildren();Object(i.each)(d,function(C){s.registerElement(C),C.set(g,"add"),C.isGroup()&&s.registerNewGroup(C)})},m.prototype.deleteElements=function(){var r=this,s=this.get("shapesMap"),d=[];Object(i.each)(s,function(A,f){!A.get(g)||A.destroyed?d.push([f,A]):A.set(g,null)});var C=this.get("animate"),S=this.get("animateOption");Object(i.each)(d,function(A){var f=A[0],O=A[1];if(!O.destroyed){var j=O.get("name");if(C&&S.leave){var D=Object(i.mix)({callback:function(){r.removeElement(O)}},S.leave);r.removeAnimation(j,O,D)}else r.removeElement(O)}delete s[f]})},m.prototype.removeElement=function(r){if(r.get("isGroup")){var s=r.get("component");s&&s.destroy()}r.remove()},m}(u.a);Pt.a=w},Mj7Y:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return k});var Y=E("mrSG"),i=E("zJSt"),b=E("YuPD"),t=E("w02o"),n=E("tKoa"),u=E("iTfj"),g={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function x(p,y){return y=Object(u.assign)({},g,y),c(p,y)}function c(p,y){var B=pt();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(bt){Object(u.isNil)(y[bt])||B[bt](y[bt])}),B.words(p),y.imageMask&&B.createMask(y.imageMask);var W=B.start(),rt=W._tags;rt.forEach(function(bt){bt.x+=y.size[0]/2,bt.y+=y.size[1]/2});var st=y.size,ut=st[0],Mt=st[1];return rt.push({text:"",value:0,x:0,y:0,opacity:0}),rt.push({text:"",value:0,x:ut,y:Mt,opacity:0}),rt}var w=Math.PI/180,I=1<<11>>5,m=1<<11;function r(p){return p.text}function s(){return"serif"}function d(){return"normal"}function C(p){return p.value}function S(){return~~(Math.random()*2)*90}function A(){return 1}function f(p,y,B,W){if(!y.sprite){var rt=p.context,st=p.ratio;rt.clearRect(0,0,(I<<5)/st,m/st);var ut=0,Mt=0,bt=0,xt=B.length;for(--W;++W<xt;){y=B[W],rt.save(),rt.font=y.style+" "+y.weight+" "+~~((y.size+1)/st)+"px "+y.font;var Ot=rt.measureText(y.text+"m").width*st,jt=y.size<<1;if(y.rotate){var Dt=Math.sin(y.rotate*w),zt=Math.cos(y.rotate*w),Tt=Ot*zt,Vt=Ot*Dt,Ht=jt*zt,re=jt*Dt;Ot=Math.max(Math.abs(Tt+re),Math.abs(Tt-re))+31>>5<<5,jt=~~Math.max(Math.abs(Vt+Ht),Math.abs(Vt-Ht))}else Ot=Ot+31>>5<<5;if(jt>bt&&(bt=jt),ut+Ot>=I<<5&&(ut=0,Mt+=bt,bt=0),Mt+jt>=m)break;rt.translate((ut+(Ot>>1))/st,(Mt+(jt>>1))/st),y.rotate&&rt.rotate(y.rotate*w),rt.fillText(y.text,0,0),y.padding&&(rt.lineWidth=2*y.padding,rt.strokeText(y.text,0,0)),rt.restore(),y.width=Ot,y.height=jt,y.xoff=ut,y.yoff=Mt,y.x1=Ot>>1,y.y1=jt>>1,y.x0=-y.x1,y.y0=-y.y1,y.hasText=!0,ut+=Ot}for(var pe=rt.getImageData(0,0,(I<<5)/st,m/st).data,me=[];--W>=0;)if(y=B[W],!!y.hasText){for(var Ot=y.width,Ee=Ot>>5,jt=y.y1-y.y0,Le=0;Le<jt*Ee;Le++)me[Le]=0;if(ut=y.xoff,ut==null)return;Mt=y.yoff;for(var Je=0,On=-1,gn=0;gn<jt;gn++){for(var Le=0;Le<Ot;Le++){var Vn=Ee*gn+(Le>>5),kn=pe[(Mt+gn)*(I<<5)+(ut+Le)<<2]?1<<31-Le%32:0;me[Vn]|=kn,Je|=kn}Je?On=gn:(y.y0++,jt--,gn--,Mt++)}y.y1=y.y0+On,y.sprite=me.slice(0,(y.y1-y.y0)*Ee)}}}function O(p,y,B){B>>=5;for(var W=p.sprite,rt=p.width>>5,st=p.x-(rt<<4),ut=st&127,Mt=32-ut,bt=p.y1-p.y0,xt=(p.y+p.y0)*B+(st>>5),Ot,jt=0;jt<bt;jt++){Ot=0;for(var Dt=0;Dt<=rt;Dt++)if((Ot<<Mt|(Dt<rt?(Ot=W[jt*rt+Dt])>>>ut:0))&y[xt+Dt])return!0;xt+=B}return!1}function j(p,y){var B=p[0],W=p[1];y.x+y.x0<B.x&&(B.x=y.x+y.x0),y.y+y.y0<B.y&&(B.y=y.y+y.y0),y.x+y.x1>W.x&&(W.x=y.x+y.x1),y.y+y.y1>W.y&&(W.y=y.y+y.y1)}function D(p,y){return p.x+p.x1>y[0].x&&p.x+p.x0<y[1].x&&p.y+p.y1>y[0].y&&p.y+p.y0<y[1].y}function V(p){var y=p[0]/p[1];return function(B){return[y*(B*=.1)*Math.cos(B),B*Math.sin(B)]}}function H(p){var y=4,B=y*p[0]/p[1],W=0,rt=0;return function(st){var ut=st<0?-1:1;switch(Math.sqrt(1+4*ut*st)-ut&3){case 0:W+=B;break;case 1:rt+=y;break;case 2:W-=B;break;default:rt-=y;break}return[W,rt]}}function $(p){for(var y=[],B=-1;++B<p;)y[B]=0;return y}function dt(){return document.createElement("canvas")}function Z(p){return Object(u.isFunction)(p)?p:function(){return p}}var ct={archimedean:V,rectangular:H};function pt(){var p=[256,256],y=s,B=C,W=d,rt=S,st=A,ut=V,Mt=Math.random,bt=[],xt=Infinity,Ot=r,jt=d,Dt=dt,zt={};zt.start=function(){var Ht=p[0],re=p[1],pe=Tt(Dt()),me=zt.board?zt.board:$((p[0]>>5)*p[1]),Ee=bt.length,Le=[],Je=bt.map(function(kn,Wn,Dn){return kn.text=Ot.call(this,kn,Wn,Dn),kn.font=y.call(this,kn,Wn,Dn),kn.style=jt.call(this,kn,Wn,Dn),kn.weight=W.call(this,kn,Wn,Dn),kn.rotate=rt.call(this,kn,Wn,Dn),kn.size=~~B.call(this,kn,Wn,Dn),kn.padding=st.call(this,kn,Wn,Dn),kn}).sort(function(kn,Wn){return Wn.size-kn.size}),On=-1,gn=zt.board?[{x:0,y:0},{x:Ht,y:re}]:null;Vn();function Vn(){for(var kn=Date.now();Date.now()-kn<xt&&++On<Ee;){var Wn=Je[On];Wn.x=Ht*(Mt()+.5)>>1,Wn.y=re*(Mt()+.5)>>1,f(pe,Wn,Je,On),Wn.hasText&&Vt(me,Wn,gn)&&(Le.push(Wn),gn?zt.hasImage||j(gn,Wn):gn=[{x:Wn.x+Wn.x0,y:Wn.y+Wn.y0},{x:Wn.x+Wn.x1,y:Wn.y+Wn.y1}],Wn.x-=p[0]>>1,Wn.y-=p[1]>>1)}zt._tags=Le,zt._bounds=gn}return zt};function Tt(Ht){Ht.width=Ht.height=1;var re=Math.sqrt(Ht.getContext("2d").getImageData(0,0,1,1).data.length>>2);Ht.width=(I<<5)/re,Ht.height=m/re;var pe=Ht.getContext("2d");return pe.fillStyle=pe.strokeStyle="red",pe.textAlign="center",{context:pe,ratio:re}}function Vt(Ht,re,pe){for(var me=re.x,Ee=re.y,Le=Math.sqrt(p[0]*p[0]+p[1]*p[1]),Je=ut(p),On=Mt()<.5?1:-1,gn,Vn=-On,kn,Wn;(gn=Je(Vn+=On))&&(kn=~~gn[0],Wn=~~gn[1],!(Math.min(Math.abs(kn),Math.abs(Wn))>=Le));)if(re.x=me+kn,re.y=Ee+Wn,!(re.x+re.x0<0||re.y+re.y0<0||re.x+re.x1>p[0]||re.y+re.y1>p[1])&&(!pe||!O(re,Ht,p[0]))&&(!pe||D(re,pe))){for(var Dn=re.sprite,Nn=re.width>>5,Qn=p[0]>>5,ir=re.x-(Nn<<4),hr=ir&127,Er=32-hr,mr=re.y1-re.y0,dr=void 0,Br=(re.y+re.y0)*Qn+(ir>>5),ii=0;ii<mr;ii++){dr=0;for(var mi=0;mi<=Nn;mi++)Ht[Br+mi]|=dr<<Er|(mi<Nn?(dr=Dn[ii*Nn+mi])>>>hr:0);Br+=Qn}return delete re.sprite,!0}return!1}return zt.createMask=function(Ht){var re=document.createElement("canvas"),pe=p[0],me=p[1];if(!(!pe||!me)){var Ee=pe>>5,Le=$((pe>>5)*me);re.width=pe,re.height=me;var Je=re.getContext("2d");Je.drawImage(Ht,0,0,Ht.width,Ht.height,0,0,pe,me);for(var On=Je.getImageData(0,0,pe,me).data,gn=0;gn<me;gn++)for(var Vn=0;Vn<pe;Vn++){var kn=Ee*gn+(Vn>>5),Wn=gn*pe+Vn<<2,Dn=On[Wn]>=250&&On[Wn+1]>=250&&On[Wn+2]>=250,Nn=Dn?1<<31-Vn%32:0;Le[kn]|=Nn}zt.board=Le,zt.hasImage=!0}},zt.timeInterval=function(Ht){xt=Ht==null?Infinity:Ht},zt.words=function(Ht){bt=Ht},zt.size=function(Ht){p=[+Ht[0],+Ht[1]]},zt.font=function(Ht){y=Z(Ht)},zt.fontWeight=function(Ht){W=Z(Ht)},zt.rotate=function(Ht){rt=Z(Ht)},zt.spiral=function(Ht){ut=ct[Ht]||Ht},zt.fontSize=function(Ht){B=Z(Ht)},zt.padding=function(Ht){st=Z(Ht)},zt.random=function(Ht){Mt=Z(Ht)},zt}function gt(p){var y=p.options,B=p.chart,W=B,rt=W.width,st=W.height,ut=W.padding,Mt=W.appendPadding,bt=W.ele,xt=y.data,Ot=y.imageMask,jt=y.wordField,Dt=y.weightField,zt=y.colorField,Tt=y.wordStyle,Vt=y.timeInterval,Ht=y.random,re=y.spiral,pe=y.autoFit,me=pe===void 0?!0:pe,Ee=y.placementStrategy;if(!xt||!xt.length)return[];var Le=Tt.fontFamily,Je=Tt.fontWeight,On=Tt.padding,gn=Tt.fontSize,Vn=ft(xt,Dt),kn=[wt(Vn),J(Vn)],Wn=xt.map(function(Qn){return{text:Qn[jt],value:Qn[Dt],color:Qn[zt],datum:Qn}}),Dn={imageMask:Ot,font:Le,fontSize:K(gn,kn),fontWeight:Je,size:at({width:rt,height:st,padding:ut,appendPadding:Mt,autoFit:me,container:bt}),padding:On,timeInterval:Vt,random:Ht,spiral:re,rotate:mt(y)};if(Object(u.isFunction)(Ee)){var Nn=Wn.map(function(Qn,ir,hr){return Object(Y.a)(Object(Y.a)(Object(Y.a)({},Qn),{hasText:!!Qn.text,font:Z(Dn.font)(Qn,ir,hr),weight:Z(Dn.fontWeight)(Qn,ir,hr),rotate:Z(Dn.rotate)(Qn,ir,hr),size:Z(Dn.fontSize)(Qn,ir,hr),style:"normal"}),Ee.call(B,Qn,ir,hr))});return Nn.push({text:"",value:0,x:0,y:0,opacity:0}),Nn.push({text:"",value:0,x:Dn.size[0],y:Dn.size[1],opacity:0}),Nn}return x(Wn,Dn)}function at(p){var y=p.width,B=p.height,W=p.container,rt=p.autoFit,st=p.padding,ut=p.appendPadding;if(rt){var Mt=Object(b.g)(W);y=Mt.width,B=Mt.height}y=y||400,B=B||400;var bt=Bt({padding:st,appendPadding:ut}),xt=bt[0],Ot=bt[1],jt=bt[2],Dt=bt[3],zt=[y-(Dt+Ot),B-(xt+jt)];return zt}function Bt(p){var y=Lt(p.padding),B=Lt(p.appendPadding),W=y[0]+B[0],rt=y[1]+B[1],st=y[2]+B[2],ut=y[3]+B[3];return[W,rt,st,ut]}function Lt(p){if(Object(u.isNumber)(p))return[p,p,p,p];if(Object(u.isArray)(p)){var y=p.length;if(y===1)return[p[0],p[0],p[0],p[0]];if(y===2)return[p[0],p[1],p[0],p[1]];if(y===3)return[p[0],p[1],p[2],p[1]];if(y===4)return p}return[0,0,0,0]}function Et(p){return new Promise(function(y,B){if(p instanceof HTMLImageElement){y(p);return}if(Object(u.isString)(p)){var W=new Image;W.crossOrigin="anonymous",W.src=p,W.onload=function(){y(W)},W.onerror=function(){Object(b.j)(b.a.ERROR,!1,"image %s load failed !!!",p),B()};return}Object(b.j)(b.a.WARN,p===void 0,"The type of imageMask option must be String or HTMLImageElement."),B()})}function K(p,y){if(Object(u.isFunction)(p))return p;if(Object(u.isArray)(p)){var B=p[0],W=p[1];if(!y)return function(){return(W+B)/2};var rt=y[0],st=y[1];return st===rt?function(){return(W+B)/2}:function(Mt){var bt=Mt.value;return(W-B)/(st-rt)*(bt-rt)+B}}return function(){return p}}function ft(p,y){return p.map(function(B){return B[y]}).filter(function(B){return typeof B=="number"&&!isNaN(B)})}function mt(p){var y=yt(p),B=y.rotation,W=y.rotationSteps;if(!Object(u.isArray)(B))return B;var rt=B[0],st=B[1],ut=W===1?0:(st-rt)/(W-1);return function(){return st===rt?st:Math.floor(Math.random()*W)*ut}}function yt(p){var y=p.wordStyle.rotationSteps;return y<1&&(Object(b.j)(b.a.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),y=1),{rotation:p.wordStyle.rotation,rotationSteps:y}}function wt(p){return Math.min.apply(Math,p)}function J(p){return Math.max.apply(Math,p)}function lt(p){var y=p.chart,B=p.options,W=B.colorField,rt=B.color,st=gt(p);y.data(st);var ut=Object(b.b)({},p,{options:{xField:"x",yField:"y",seriesField:W&&"color",point:{color:rt,shape:"word-cloud"}}}),Mt=Object(n.e)(ut).ext;return Mt.geometry.label(!1),y.coordinate().reflect("y"),y.axis(!1),p}function it(p){return Object(b.e)(Object(t.f)({x:{nice:!1},y:{nice:!1}}))(p)}function _(p){Object(b.e)(lt,it,t.k,t.d,t.c,t.a,t.j,t.i)(p)}var P=E("Ihc8");Object(P.registerShape)("point","word-cloud",{draw:function(y,B){var W=y.x,rt=y.y,st=B.addShape("text",{attrs:Object(Y.a)(Object(Y.a)({},Q(y)),{x:W,y:rt})}),ut=y.data.rotate;return typeof ut=="number"&&P.Util.rotate(st,ut*Math.PI/180),st}});function Q(p){return{fontSize:p.data.size,text:p.data.text,textAlign:"center",fontFamily:p.data.font,fontWeight:p.data.weight,fill:p.color||p.defaultStyle.stroke,textBaseline:"alphabetic"}}var k=function(p){Object(Y.b)(y,p);function y(){var B=p!==null&&p.apply(this,arguments)||this;return B.type="word-cloud",B}return y.prototype.changeData=function(B){this.updateOption({data:B}),this.options.imageMask?this.render():this.chart.changeData(gt({chart:this.chart,options:this.options}))},y.prototype.getDefaultOptions=function(){return Object(b.b)({},p.prototype.getDefaultOptions.call(this),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value","color"],formatter:function(W){return{name:W.text,value:W.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}})},y.prototype.render=function(){var B=this;return new Promise(function(W){var rt=B.options.imageMask;if(!rt){p.prototype.render.call(B),W();return}var st=function(Mt){B.options=Object(Y.a)(Object(Y.a)({},B.options),{imageMask:Mt||null}),p.prototype.render.call(B),W()};Et(rt).then(st).catch(st)})},y.prototype.getSchemaAdaptor=function(){return _},y.prototype.triggerResize=function(){var B=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){p.prototype.triggerResize.call(B)}))},y}(i.a)},MvSz:function(qe,Pt,E){var Y=E("LXxW"),i=E("0ycA"),b=Object.prototype,t=b.propertyIsEnumerable,n=Object.getOwnPropertySymbols,u=n?function(g){return g==null?[]:(g=Object(g),Y(n(g),function(x){return t.call(g,x)}))}:i;qe.exports=u},Mw2x:function(qe,Pt,E){"use strict";var Y=E("mrSG"),i=E("zK8m"),b=E("sstZ"),t={},n="_INDEX";function u(m,r){if(m.set("canvas",r),m.isGroup()){var s=m.get("children");s.length&&s.forEach(function(d){u(d,r)})}}function g(m,r){if(m.set("timeline",r),m.isGroup()){var s=m.get("children");s.length&&s.forEach(function(d){g(d,r)})}}function x(m,r){var s=m.getChildren();return s.indexOf(r)>=0}function c(m,r,s){s===void 0&&(s=!0),s?r.destroy():(r.set("parent",null),r.set("canvas",null)),Object(b.j)(m.getChildren(),r)}function w(m){return function(r,s){var d=m(r,s);return d===0?r[n]-s[n]:d}}var I=function(m){Object(Y.b)(r,m);function r(){return m!==null&&m.apply(this,arguments)||this}return r.prototype.isCanvas=function(){return!1},r.prototype.getBBox=function(){var s=Infinity,d=-Infinity,C=Infinity,S=-Infinity,A=[],f=[],O=this.getChildren().filter(function(D){return D.get("visible")&&(!D.isGroup()||D.isGroup()&&D.getChildren().length>0)});O.length>0?(Object(b.a)(O,function(D){var V=D.getBBox();A.push(V.minX,V.maxX),f.push(V.minY,V.maxY)}),s=Math.min.apply(null,A),d=Math.max.apply(null,A),C=Math.min.apply(null,f),S=Math.max.apply(null,f)):(s=0,d=0,C=0,S=0);var j={x:s,y:C,minX:s,minY:C,maxX:d,maxY:S,width:d-s,height:S-C};return j},r.prototype.getCanvasBBox=function(){var s=Infinity,d=-Infinity,C=Infinity,S=-Infinity,A=[],f=[],O=this.getChildren().filter(function(D){return D.get("visible")&&(!D.isGroup()||D.isGroup()&&D.getChildren().length>0)});O.length>0?(Object(b.a)(O,function(D){var V=D.getCanvasBBox();A.push(V.minX,V.maxX),f.push(V.minY,V.maxY)}),s=Math.min.apply(null,A),d=Math.max.apply(null,A),C=Math.min.apply(null,f),S=Math.max.apply(null,f)):(s=0,d=0,C=0,S=0);var j={x:s,y:C,minX:s,minY:C,maxX:d,maxY:S,width:d-s,height:S-C};return j},r.prototype.getDefaultCfg=function(){var s=m.prototype.getDefaultCfg.call(this);return s.children=[],s},r.prototype.onAttrChange=function(s,d,C){if(m.prototype.onAttrChange.call(this,s,d,C),s==="matrix"){var S=this.getTotalMatrix();this._applyChildrenMarix(S)}},r.prototype.applyMatrix=function(s){var d=this.getTotalMatrix();m.prototype.applyMatrix.call(this,s);var C=this.getTotalMatrix();C!==d&&this._applyChildrenMarix(C)},r.prototype._applyChildrenMarix=function(s){var d=this.getChildren();Object(b.a)(d,function(C){C.applyMatrix(s)})},r.prototype.addShape=function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];var C=s[0],S=s[1];Object(b.f)(C)?S=C:S.type=C;var A=t[S.type];A||(A=Object(b.k)(S.type),t[S.type]=A);var f=this.getShapeBase(),O=new f[A](S);return this.add(O),O},r.prototype.addGroup=function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];var C=s[0],S=s[1],A;if(Object(b.d)(C))S?A=new C(S):A=new C({parent:this});else{var f=C||{},O=this.getGroupBase();A=new O(f)}return this.add(A),A},r.prototype.getCanvas=function(){var s;return this.isCanvas()?s=this:s=this.get("canvas"),s},r.prototype.getShape=function(s,d,C){if(!Object(b.b)(this))return null;var S=this.getChildren(),A;if(this.isCanvas())A=this._findShape(S,s,d,C);else{var f=[s,d,1];f=this.invertFromMatrix(f),this.isClipped(f[0],f[1])||(A=this._findShape(S,f[0],f[1],C))}return A},r.prototype._findShape=function(s,d,C,S){for(var A=null,f=s.length-1;f>=0;f--){var O=s[f];if(Object(b.b)(O)&&(O.isGroup()?A=O.getShape(d,C,S):O.isHit(d,C)&&(A=O)),A)break}return A},r.prototype.add=function(s){var d=this.getCanvas(),C=this.getChildren(),S=this.get("timeline"),A=s.getParent();A&&c(A,s,!1),s.set("parent",this),d&&u(s,d),S&&g(s,S),C.push(s),s.onCanvasChange("add"),this._applyElementMatrix(s)},r.prototype._applyElementMatrix=function(s){var d=this.getTotalMatrix();d&&s.applyMatrix(d)},r.prototype.getChildren=function(){return this.get("children")},r.prototype.sort=function(){var s=this.getChildren();Object(b.a)(s,function(d,C){return d[n]=C,d}),s.sort(w(function(d,C){return d.get("zIndex")-C.get("zIndex")})),this.onCanvasChange("sort")},r.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var s=this.getChildren(),d=s.length-1;d>=0;d--)s[d].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},r.prototype.destroy=function(){this.get("destroyed")||(this.clear(),m.prototype.destroy.call(this))},r.prototype.getFirst=function(){return this.getChildByIndex(0)},r.prototype.getLast=function(){var s=this.getChildren();return this.getChildByIndex(s.length-1)},r.prototype.getChildByIndex=function(s){var d=this.getChildren();return d[s]},r.prototype.getCount=function(){var s=this.getChildren();return s.length},r.prototype.contain=function(s){var d=this.getChildren();return d.indexOf(s)>-1},r.prototype.removeChild=function(s,d){d===void 0&&(d=!0),this.contain(s)&&s.remove(d)},r.prototype.findAll=function(s){var d=[],C=this.getChildren();return Object(b.a)(C,function(S){s(S)&&d.push(S),S.isGroup()&&(d=d.concat(S.findAll(s)))}),d},r.prototype.find=function(s){var d=null,C=this.getChildren();return Object(b.a)(C,function(S){if(s(S)?d=S:S.isGroup()&&(d=S.find(s)),d)return!1}),d},r.prototype.findById=function(s){return this.find(function(d){return d.get("id")===s})},r.prototype.findByClassName=function(s){return this.find(function(d){return d.get("className")===s})},r.prototype.findAllByName=function(s){return this.findAll(function(d){return d.get("name")===s})},r}(i.a);Pt.a=I},N9hJ:function(qe,Pt){},NKxu:function(qe,Pt,E){var Y=E("lSCD"),i=E("E2jh"),b=E("GoyQ"),t=E("3Fdi"),n=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,g=Function.prototype,x=Object.prototype,c=g.toString,w=x.hasOwnProperty,I=RegExp("^"+c.call(w).replace(n,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(r){if(!b(r)||i(r))return!1;var s=Y(r)?I:u;return s.test(t(r))}qe.exports=m},NmWf:function(qe,Pt,E){"use strict";var Y=E("mrSG"),i=E("aFU3"),b=E("iTfj"),t={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},n=function(u){Object(Y.b)(g,u);function g(x){var c=u.call(this,x)||this;return c.initCfg(),c}return g.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},g.prototype.clear=function(){},g.prototype.update=function(x){var c=this,w=this.get("defaultCfg");Object(b.each)(x,function(I,m){var r=c.get(m),s=I;r!==I&&(Object(b.isObject)(I)&&w[m]&&(s=Object(b.deepMix)({},w[m],I)),c.set(m,s))}),this.updateInner(x),this.afterUpdate(x)},g.prototype.updateInner=function(x){},g.prototype.afterUpdate=function(x){Object(b.hasKey)(x,"visible")&&(x.visible?this.show():this.hide()),Object(b.hasKey)(x,"capture")&&this.setCapture(x.capture)},g.prototype.getLayoutBBox=function(){return this.getBBox()},g.prototype.getLocationType=function(){return this.get("locationType")},g.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},g.prototype.setOffset=function(x,c){this.update({offsetX:x,offsetY:c})},g.prototype.setLocation=function(x){var c=Object(Y.a)({},x);this.update(c)},g.prototype.getLocation=function(){var x=this,c={},w=this.get("locationType"),I=t[w];return Object(b.each)(I,function(m){c[m]=x.get(m)}),c},g.prototype.isList=function(){return!1},g.prototype.isSlider=function(){return!1},g.prototype.init=function(){},g.prototype.initCfg=function(){var x=this,c=this.get("defaultCfg");Object(b.each)(c,function(w,I){var m=x.get(I);if(Object(b.isObject)(m)){var r=Object(b.deepMix)({},w,m);x.set(I,r)}})},g}(i.Base);Pt.a=n},NohK:function(qe,Pt,E){"use strict";Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.default=void 0;var Y=function(b){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,n=null;return function(){for(var u=this,g=arguments.length,x=new Array(g),c=0;c<g;c++)x[c]=arguments[c];clearTimeout(n),n=setTimeout(function(){b.apply(u,x)},t)}};Pt.default=Y},Npjl:function(qe,Pt){function E(Y,i){return Y==null?void 0:Y[i]}qe.exports=E},NvD2:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return u});var Y=E("Kwbf");function i(g,x){var c=new Set;return g.forEach(function(w){x.has(w)||c.add(w)}),c}function b(g){var x=g||{},c=x.disabled,w=x.disableCheckbox,I=x.checkable;return!!(c||w)||I===!1}function t(g,x,c,w){for(var I=new Set(g),m=new Set,r=0;r<=c;r+=1){var s=x.get(r)||new Set;s.forEach(function(A){var f=A.key,O=A.node,j=A.children,D=j===void 0?[]:j;I.has(f)&&!w(O)&&D.filter(function(V){return!w(V.node)}).forEach(function(V){I.add(V.key)})})}for(var d=new Set,C=c;C>=0;C-=1){var S=x.get(C)||new Set;S.forEach(function(A){var f=A.parent,O=A.node;if(!(w(O)||!A.parent||d.has(A.parent.key))){if(w(A.parent.node)){d.add(f.key);return}var j=!0,D=!1;(f.children||[]).filter(function(V){return!w(V.node)}).forEach(function(V){var H=V.key,$=I.has(H);j&&!$&&(j=!1),!D&&($||m.has(H))&&(D=!0)}),j&&I.add(f.key),D&&m.add(f.key),d.add(f.key)}})}return{checkedKeys:Array.from(I),halfCheckedKeys:Array.from(i(m,I))}}function n(g,x,c,w,I){for(var m=new Set(g),r=new Set(x),s=0;s<=w;s+=1){var d=c.get(s)||new Set;d.forEach(function(f){var O=f.key,j=f.node,D=f.children,V=D===void 0?[]:D;!m.has(O)&&!r.has(O)&&!I(j)&&V.filter(function(H){return!I(H.node)}).forEach(function(H){m.delete(H.key)})})}r=new Set;for(var C=new Set,S=w;S>=0;S-=1){var A=c.get(S)||new Set;A.forEach(function(f){var O=f.parent,j=f.node;if(!(I(j)||!f.parent||C.has(f.parent.key))){if(I(f.parent.node)){C.add(O.key);return}var D=!0,V=!1;(O.children||[]).filter(function(H){return!I(H.node)}).forEach(function(H){var $=H.key,dt=m.has($);D&&!dt&&(D=!1),!V&&(dt||r.has($))&&(V=!0)}),D||m.delete(O.key),V&&r.add(O.key),C.add(O.key)}})}return{checkedKeys:Array.from(m),halfCheckedKeys:Array.from(i(r,m))}}function u(g,x,c,w){var I=[],m;w?m=w:m=b;var r=new Set(g.filter(function(S){var A=!!c[S];return A||I.push(S),A})),s=new Map,d=0;Object.keys(c).forEach(function(S){var A=c[S],f=A.level,O=s.get(f);O||(O=new Set,s.set(f,O)),O.add(A),d=Math.max(d,f)}),Object(Y.a)(!I.length,"Tree missing follow keys: ".concat(I.slice(0,100).map(function(S){return"'".concat(S,"'")}).join(", ")));var C;return x===!0?C=t(r,s,d,m):C=n(r,x.halfCheckedKeys,s,d,m),C}},NzZ7:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return g});var Y=E("tvR+"),i=E("yUfG"),b=E("a8tM"),t=E("iTfj"),n=E("I7nc"),u={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"]};function g(x,c){c=Object(t.assign)({},u,c);var w=c.as;if(!Object(t.isArray)(w)||w.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var I;try{I=Object(n.b)(c)}catch(C){console.warn(C)}var m=function(S){return Y.a().tile(i[c.tile]).size(c.size).round(c.round).padding(c.padding).paddingInner(c.paddingInner).paddingOuter(c.paddingOuter).paddingTop(c.paddingTop).paddingRight(c.paddingRight).paddingBottom(c.paddingBottom).paddingLeft(c.paddingLeft)(b.c(S).sum(function(A){return c.ignoreParentValue&&A.children?0:A[I]}))},r=m(x),s=w[0],d=w[1];return r.each(function(C){C[s]=[C.x0,C.x1,C.x1,C.x0],C[d]=[C.y1,C.y1,C.y0,C.y0],["x0","x1","y0","y1"].forEach(function(S){w.indexOf(S)===-1&&delete C[S]})}),Object(n.a)(r)}},OZM5:function(qe,Pt,E){"use strict";E.d(Pt,"b",function(){return x}),E.d(Pt,"a",function(){return c}),E.d(Pt,"k",function(){return w}),E.d(Pt,"h",function(){return I}),E.d(Pt,"i",function(){return m}),E.d(Pt,"g",function(){return r}),E.d(Pt,"c",function(){return C}),E.d(Pt,"d",function(){return S}),E.d(Pt,"j",function(){return O}),E.d(Pt,"e",function(){return j}),E.d(Pt,"f",function(){return D});var Y=E("KQm4"),i=E("U8pU"),b=E("Ff2n"),t=E("q1tI"),n=E.n(t),u=E("Kwbf"),g=E("WaYH");function x(V,H){var $=V.slice(),dt=$.indexOf(H);return dt>=0&&$.splice(dt,1),$}function c(V,H){var $=V.slice();return $.indexOf(H)===-1&&$.push(H),$}function w(V){return V.split("-")}function I(V,H){return"".concat(V,"-").concat(H)}function m(V){return V&&V.type&&V.type.isTreeNode}function r(V,H){var $=[],dt=H[V];function Z(){var ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];ct.forEach(function(pt){var gt=pt.key,at=pt.children;$.push(gt),Z(at)})}return Z(dt.children),$}function s(V){if(V.parent){var H=w(V.pos);return Number(H[H.length-1])===V.parent.children.length-1}return!1}function d(V){var H=w(V.pos);return Number(H[H.length-1])===0}function C(V,H,$,dt,Z,ct,pt,gt,at){var Bt,Lt=V.clientX,Et=V.clientY,K=V.target.getBoundingClientRect(),ft=K.top,mt=K.height,yt=(at==="rtl"?-1:1)*(((dt==null?void 0:dt.x)||0)-Lt),wt=(yt-12)/$,J=pt[H.props.eventKey];if(Et<ft+mt/2){var lt=ct.findIndex(function(rt){return rt.data.key===J.key}),it=lt<=0?0:lt-1,_=ct[it].data.key;J=pt[_]}for(var P=J,Q=J.key,k=0,p=0,y=0;y<wt&&s(J);y+=1)J=J.parent,p+=1;var B=J.node,W=!0;return d(J)&&J.level===0&&Et<ft+mt/2&&Z({dropNode:B,dropPosition:-1})&&J.key===H.props.eventKey?k=-1:(P.children||[]).length&&gt.includes(Q)?Z({dropNode:B,dropPosition:0})?k=0:W=!1:p===0?wt>-1.5?Z({dropNode:B,dropPosition:1})?k=1:W=!1:Z({dropNode:B,dropPosition:0})?k=0:Z({dropNode:B,dropPosition:1})?k=1:W=!1:Z({dropNode:B,dropPosition:1})?k=1:W=!1,{dropPosition:k,dropLevelOffset:p,dropTargetKey:J.key,dropTargetPos:J.pos,dragOverNodeKey:Q,dropContainerKey:k===0?null:((Bt=J.parent)===null||Bt===void 0?void 0:Bt.key)||null,dropAllowed:W}}function S(V,H){if(!!V){var $=H.multiple;return $?V.slice():V.length?[V[0]]:V}}var A=function(H){return H};function f(V,H){if(!V)return[];var $=H||{},dt=$.processProps,Z=dt===void 0?A:dt,ct=Array.isArray(V)?V:[V];return ct.map(function(pt){var gt=pt.children,at=Object(b.a)(pt,["children"]),Bt=f(gt,H);return n.a.createElement(g.a,Z(at),Bt)})}function O(V){if(!V)return null;var H;if(Array.isArray(V))H={checkedKeys:V,halfCheckedKeys:void 0};else if(Object(i.a)(V)==="object")H={checkedKeys:V.checked||void 0,halfCheckedKeys:V.halfChecked||void 0};else return Object(u.a)(!1,"`checkedKeys` is not an array or an object"),null;return H}function j(V,H){var $=new Set;function dt(Z){if(!$.has(Z)){var ct=H[Z];if(!!ct){$.add(Z);var pt=ct.parent,gt=ct.node;gt.disabled||pt&&dt(pt.key)}}}return(V||[]).forEach(function(Z){dt(Z)}),Object(Y.a)($)}function D(V){var H={};return Object.keys(V).forEach(function($){($.startsWith("data-")||$.startsWith("aria-"))&&(H[$]=V[$])}),H}},"Of+w":function(qe,Pt,E){var Y=E("Cwc5"),i=E("Kz5y"),b=Y(i,"WeakMap");qe.exports=b},P4Qj:function(qe,Pt,E){"use strict";Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.removeSensor=Pt.getSensor=void 0;var Y=t(E("chpo")),i=E("FxDU"),b=E("24YM");function t(x){return x&&x.__esModule?x:{default:x}}var n={},u=function(c){var w=c.getAttribute(b.SizeSensorId);if(w&&n[w])return n[w];var I=(0,Y.default)();c.setAttribute(b.SizeSensorId,I);var m=(0,i.createSensor)(c);return n[I]=m,m};Pt.getSensor=u;var g=function(c){var w=c.element.getAttribute(b.SizeSensorId);c.element.removeAttribute(b.SizeSensorId),c.destroy(),w&&n[w]&&delete n[w]};Pt.removeSensor=g},QG4C:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return w});var Y=E("mrSG"),i=E("zJSt"),b=E("iTfj"),t=E("WOQw"),n=E("w02o"),u=E("YuPD"),g=E("n/J0");function x(I){var m=I.chart,r=I.options,s=r.views,d=r.legend,C=r.tooltip;return Object(b.each)(s,function(S){var A=S.region,f=S.data,O=S.meta,j=S.axes,D=S.coordinate,V=S.interactions,H=S.annotations,$=S.geometries,dt=m.createView({region:A});dt.data(f);var Z={};j&&Object(b.each)(j,function(ct,pt){Z[pt]=Object(u.k)(ct,g.a)}),Z=Object(u.b)({},O,Z),dt.scale(Z),j?Object(b.each)(j,function(ct,pt){dt.axis(pt,ct)}):dt.axis(!1),dt.coordinate(D),Object(b.each)($,function(ct){var pt=Object(t.a)({chart:dt,options:ct}).ext,gt=ct.adjust;gt&&pt.geometry.adjust(gt)}),Object(b.each)(V,function(ct){ct.enable===!1?dt.removeInteraction(ct.type):dt.interaction(ct.type,ct.cfg)}),Object(b.each)(H,function(ct){dt.annotation()[ct.type](Object(Y.a)({},ct))})}),d?Object(b.each)(d,function(S,A){m.legend(A,S)}):m.legend(!1),m.tooltip(C),I}function c(I){return Object(u.e)(n.a,x,n.c,n.a,n.j,n.k)(I)}var w=function(I){Object(Y.b)(m,I);function m(){var r=I!==null&&I.apply(this,arguments)||this;return r.type="multi-view",r}return m.prototype.getSchemaAdaptor=function(){return c},m}(i.a)},"QO+J":function(qe,Pt,E){"use strict";Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.createSensor=void 0;var Y=b(E("NohK")),i=E("24YM");function b(n){return n&&n.__esModule?n:{default:n}}var t=function(u){var g=void 0,x=[],c=function(){getComputedStyle(u).position==="static"&&(u.style.position="relative");var d=document.createElement("object");return d.onload=function(){d.contentDocument.defaultView.addEventListener("resize",w),w()},d.style.display="block",d.style.position="absolute",d.style.top="0",d.style.left="0",d.style.height="100%",d.style.width="100%",d.style.overflow="hidden",d.style.pointerEvents="none",d.style.zIndex="-1",d.style.opacity="0",d.setAttribute("class",i.SensorClassName),d.setAttribute("tabindex",i.SensorTabIndex),d.type="text/html",u.appendChild(d),d.data="about:blank",d},w=(0,Y.default)(function(){x.forEach(function(s){s(u)})}),I=function(d){g||(g=c()),x.indexOf(d)===-1&&x.push(d)},m=function(){g&&g.parentNode&&(g.contentDocument&&g.contentDocument.defaultView.removeEventListener("resize",w),g.parentNode.removeChild(g),g=void 0,x=[])},r=function(d){var C=x.indexOf(d);C!==-1&&x.splice(C,1),x.length===0&&g&&m()};return{element:u,bind:I,destroy:m,unbind:r}};Pt.createSensor=t},"QQZ/":function(qe,Pt,E){var Y=E("Sq3C"),i=E("Z1HP"),b=E("Sxd8"),t=E("dt0z");function n(u,g,x){u=t(u),g=b(g);var c=g?i(u):0;return g&&c<g?Y(g-c,x)+u:u}qe.exports=n},Qci9:function(qe,Pt,E){"use strict";var Y=E("iTfj"),i=E("0Xep"),b=function(){function t(n){var u=n.xField,g=n.yField,x=n.adjustNames,c=x===void 0?["x","y"]:x;this.adjustNames=c,this.xField=u,this.yField=g}return t.prototype.isAdjust=function(n){return this.adjustNames.indexOf(n)>=0},t.prototype.getAdjustRange=function(n,u,g){var x=this.yField,c=g.indexOf(u),w=g.length,I,m;return!x&&this.isAdjust("y")?(I=0,m=1):w>1?(I=g[c===0?0:c-1],m=g[c===w-1?w-1:c+1],c!==0?I+=(u-I)/2:I-=(m-u)/2,c!==w-1?m-=(m-u)/2:m+=(u-g[w-2])/2):(I=u===0?0:u-.5,m=u===0?1:u+.5),{pre:I,next:m}},t.prototype.adjustData=function(n,u){var g=this,x=this.getDimValues(u);Y.each(n,function(c,w){Y.each(x,function(I,m){g.adjustDim(m,I,c,w)})})},t.prototype.groupData=function(n,u){return Y.each(n,function(g){g[u]===void 0&&(g[u]=i.a)}),Y.groupBy(n,u)},t.prototype.adjustDim=function(n,u,g,x){},t.prototype.getDimValues=function(n){var u=this,g=u.xField,x=u.yField,c={},w=[];if(g&&this.isAdjust("x")&&w.push(g),x&&this.isAdjust("y")&&w.push(x),w.forEach(function(m){c[m]=Y.valuesOfKey(n,m).sort(function(r,s){return r-s})}),!x&&this.isAdjust("y")){var I="y";c[I]=[i.a,1]}return c},t}();Pt.a=b},QkVE:function(qe,Pt,E){var Y=E("EpBk");function i(b,t){var n=b.__data__;return Y(t)?n[typeof t=="string"?"string":"hash"]:n.map}qe.exports=i},QoRX:function(qe,Pt){function E(Y,i){for(var b=-1,t=Y==null?0:Y.length;++b<t;)if(i(Y[b],b,Y))return!0;return!1}qe.exports=E},QqLw:function(qe,Pt,E){var Y=E("tadb"),i=E("ebwN"),b=E("HOxn"),t=E("yGk4"),n=E("Of+w"),u=E("NykK"),g=E("3Fdi"),x="[object Map]",c="[object Object]",w="[object Promise]",I="[object Set]",m="[object WeakMap]",r="[object DataView]",s=g(Y),d=g(i),C=g(b),S=g(t),A=g(n),f=u;(Y&&f(new Y(new ArrayBuffer(1)))!=r||i&&f(new i)!=x||b&&f(b.resolve())!=w||t&&f(new t)!=I||n&&f(new n)!=m)&&(f=function(O){var j=u(O),D=j==c?O.constructor:void 0,V=D?g(D):"";if(V)switch(V){case s:return r;case d:return x;case C:return w;case S:return I;case A:return m}return j}),qe.exports=f},R5nb:function(qe,Pt,E){"use strict";E.r(Pt),E.d(Pt,"Base",function(){return x}),E.d(Pt,"Circle",function(){return w}),E.d(Pt,"Ellipse",function(){return r}),E.d(Pt,"Image",function(){return C}),E.d(Pt,"Line",function(){return j}),E.d(Pt,"Marker",function(){return dt}),E.d(Pt,"Path",function(){return it}),E.d(Pt,"Polygon",function(){return Q}),E.d(Pt,"Polyline",function(){return p}),E.d(Pt,"Rect",function(){return st}),E.d(Pt,"Text",function(){return Mt});var Y={};E.r(Y),E.d(Y,"Base",function(){return x}),E.d(Y,"Circle",function(){return w}),E.d(Y,"Ellipse",function(){return r}),E.d(Y,"Image",function(){return C}),E.d(Y,"Line",function(){return j}),E.d(Y,"Marker",function(){return dt}),E.d(Y,"Path",function(){return it}),E.d(Y,"Polygon",function(){return Q}),E.d(Y,"Polyline",function(){return p}),E.d(Y,"Rect",function(){return st}),E.d(Y,"Text",function(){return Mt});var i=E("mrSG"),b=E("aFU3"),t=E("cyZq"),n=E("9eUa"),u=E("wq2r"),g=function(bt){Object(i.b)(xt,bt);function xt(){return bt!==null&&bt.apply(this,arguments)||this}return xt.prototype.getDefaultAttrs=function(){var Ot=bt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},Ot),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},xt.prototype.getShapeBase=function(){return Y},xt.prototype.getGroupBase=function(){return u.a},xt.prototype.onCanvasChange=function(Ot){Object(n.h)(this,Ot)},xt.prototype.calculateBBox=function(){var Ot=this.get("type"),jt=this.getHitLineWidth(),Dt=Object(b.getBBoxMethod)(Ot),zt=Dt(this),Tt=jt/2,Vt=zt.x-Tt,Ht=zt.y-Tt,re=zt.x+zt.width+Tt,pe=zt.y+zt.height+Tt;return{x:Vt,minX:Vt,y:Ht,minY:Ht,width:zt.width+jt,height:zt.height+jt,maxX:re,maxY:pe}},xt.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},xt.prototype.isStroke=function(){return!!this.attrs.stroke},xt.prototype._applyClip=function(Ot,jt){jt&&(Ot.save(),Object(n.a)(Ot,jt),jt.createPath(Ot),Ot.restore(),Ot.clip(),jt._afterDraw())},xt.prototype.draw=function(Ot,jt){var Dt=this.cfg.clipShape;if(jt){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var zt=this.getCanvasBBox();if(!Object(t.f)(jt,zt)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}Ot.save(),Object(n.a)(Ot,this),this._applyClip(Ot,Dt),this.drawPath(Ot),Ot.restore(),this._afterDraw()},xt.prototype.getCanvasViewBox=function(){var Ot=this.cfg.canvas;return Ot?Ot.getViewRange():null},xt.prototype.cacheCanvasBBox=function(){var Ot=this.getCanvasViewBox();if(Ot){var jt=this.getCanvasBBox(),Dt=Object(t.f)(jt,Ot);this.set("isInView",Dt),Dt?this.set("cacheCanvasBBox",jt):this.set("cacheCanvasBBox",null)}},xt.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},xt.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},xt.prototype.drawPath=function(Ot){this.createPath(Ot),this.strokeAndFill(Ot),this.afterDrawPath(Ot)},xt.prototype.fill=function(Ot){Ot.fill()},xt.prototype.stroke=function(Ot){Ot.stroke()},xt.prototype.strokeAndFill=function(Ot){var jt=this.attrs,Dt=jt.lineWidth,zt=jt.opacity,Tt=jt.strokeOpacity,Vt=jt.fillOpacity;this.isFill()&&(!Object(t.i)(Vt)&&Vt!==1?(Ot.globalAlpha=Vt,this.fill(Ot),Ot.globalAlpha=zt):this.fill(Ot)),this.isStroke()&&Dt>0&&(!Object(t.i)(Tt)&&Tt!==1&&(Ot.globalAlpha=Tt),this.stroke(Ot)),this.afterDrawPath(Ot)},xt.prototype.createPath=function(Ot){},xt.prototype.afterDrawPath=function(Ot){},xt.prototype.isInShape=function(Ot,jt){var Dt=this.isStroke(),zt=this.isFill(),Tt=this.getHitLineWidth();return this.isInStrokeOrPath(Ot,jt,Dt,zt,Tt)},xt.prototype.isInStrokeOrPath=function(Ot,jt,Dt,zt,Tt){return!1},xt.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var Ot=this.attrs;return Ot.lineWidth+Ot.lineAppendWidth},xt}(b.AbstractShape),x=g,c=function(bt){Object(i.b)(xt,bt);function xt(){return bt!==null&&bt.apply(this,arguments)||this}return xt.prototype.getDefaultAttrs=function(){var Ot=bt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},Ot),{x:0,y:0,r:0})},xt.prototype.isInStrokeOrPath=function(Ot,jt,Dt,zt,Tt){var Vt=this.attr(),Ht=Vt.x,re=Vt.y,pe=Vt.r,me=Tt/2,Ee=Object(t.b)(Ht,re,Ot,jt);return zt&&Dt?Ee<=pe+me:zt?Ee<=pe:Dt?Ee>=pe-me&&Ee<=pe+me:!1},xt.prototype.createPath=function(Ot){var jt=this.attr(),Dt=jt.x,zt=jt.y,Tt=jt.r;Ot.beginPath(),Ot.arc(Dt,zt,Tt,0,Math.PI*2,!1),Ot.closePath()},xt}(x),w=c;function I(bt,xt,Ot,jt){return bt/(Ot*Ot)+xt/(jt*jt)}var m=function(bt){Object(i.b)(xt,bt);function xt(){return bt!==null&&bt.apply(this,arguments)||this}return xt.prototype.getDefaultAttrs=function(){var Ot=bt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},Ot),{x:0,y:0,rx:0,ry:0})},xt.prototype.isInStrokeOrPath=function(Ot,jt,Dt,zt,Tt){var Vt=this.attr(),Ht=Tt/2,re=Vt.x,pe=Vt.y,me=Vt.rx,Ee=Vt.ry,Le=(Ot-re)*(Ot-re),Je=(jt-pe)*(jt-pe);return zt&&Dt?I(Le,Je,me+Ht,Ee+Ht)<=1:zt?I(Le,Je,me,Ee)<=1:Dt?I(Le,Je,me-Ht,Ee-Ht)>=1&&I(Le,Je,me+Ht,Ee+Ht)<=1:!1},xt.prototype.createPath=function(Ot){var jt=this.attr(),Dt=jt.x,zt=jt.y,Tt=jt.rx,Vt=jt.ry;if(Ot.beginPath(),Ot.ellipse)Ot.ellipse(Dt,zt,Tt,Vt,0,0,Math.PI*2,!1);else{var Ht=Tt>Vt?Tt:Vt,re=Tt>Vt?1:Tt/Vt,pe=Tt>Vt?Vt/Tt:1;Ot.save(),Ot.translate(Dt,zt),Ot.scale(re,pe),Ot.arc(0,0,Ht,0,Math.PI*2),Ot.restore(),Ot.closePath()}},xt}(x),r=m;function s(bt){return bt instanceof HTMLElement&&Object(t.k)(bt.nodeName)&&bt.nodeName.toUpperCase()==="CANVAS"}var d=function(bt){Object(i.b)(xt,bt);function xt(){return bt!==null&&bt.apply(this,arguments)||this}return xt.prototype.getDefaultAttrs=function(){var Ot=bt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},Ot),{x:0,y:0,width:0,height:0})},xt.prototype.initAttrs=function(Ot){this._setImage(Ot.img)},xt.prototype.isStroke=function(){return!1},xt.prototype.isOnlyHitBox=function(){return!0},xt.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var Ot=this.get("canvas");Ot?Ot.draw():this.createPath(this.get("context"))}},xt.prototype._setImage=function(Ot){var jt=this,Dt=this.attrs;if(Object(t.k)(Ot)){var zt=new Image;zt.onload=function(){if(jt.destroyed)return!1;jt.attr("img",zt),jt.set("loading",!1),jt._afterLoading();var Tt=jt.get("callback");Tt&&Tt.call(jt)},zt.crossOrigin="Anonymous",zt.src=Ot,this.set("loading",!0)}else Ot instanceof Image?(Dt.width||(Dt.width=Ot.width),Dt.height||(Dt.height=Ot.height)):s(Ot)&&(Dt.width||(Dt.width=Number(Ot.getAttribute("width"))),Dt.height||(Dt.height,Number(Ot.getAttribute("height"))))},xt.prototype.onAttrChange=function(Ot,jt,Dt){bt.prototype.onAttrChange.call(this,Ot,jt,Dt),Ot==="img"&&this._setImage(jt)},xt.prototype.createPath=function(Ot){if(this.get("loading")){this.set("toDraw",!0),this.set("context",Ot);return}var jt=this.attr(),Dt=jt.x,zt=jt.y,Tt=jt.width,Vt=jt.height,Ht=jt.sx,re=jt.sy,pe=jt.swidth,me=jt.sheight,Ee=jt.img;(Ee instanceof Image||s(Ee))&&(!Object(t.i)(Ht)&&!Object(t.i)(re)&&!Object(t.i)(pe)&&!Object(t.i)(me)?Ot.drawImage(Ee,Ht,re,pe,me,Dt,zt,Tt,Vt):Ot.drawImage(Ee,Dt,zt,Tt,Vt))},xt}(x),C=d,S=E("EYNi");function A(bt,xt,Ot,jt,Dt,zt,Tt){var Vt=Math.min(bt,Ot),Ht=Math.max(bt,Ot),re=Math.min(xt,jt),pe=Math.max(xt,jt),me=Dt/2;return zt>=Vt-me&&zt<=Ht+me&&Tt>=re-me&&Tt<=pe+me?S.c.pointToLine(bt,xt,Ot,jt,zt,Tt)<=Dt/2:!1}var f=E("nycV"),O=function(bt){Object(i.b)(xt,bt);function xt(){return bt!==null&&bt.apply(this,arguments)||this}return xt.prototype.getDefaultAttrs=function(){var Ot=bt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},Ot),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},xt.prototype.initAttrs=function(Ot){this.setArrow()},xt.prototype.onAttrChange=function(Ot,jt,Dt){bt.prototype.onAttrChange.call(this,Ot,jt,Dt),this.setArrow()},xt.prototype.setArrow=function(){var Ot=this.attr(),jt=Ot.x1,Dt=Ot.y1,zt=Ot.x2,Tt=Ot.y2,Vt=Ot.startArrow,Ht=Ot.endArrow;Vt&&f.b(this,Ot,zt,Tt,jt,Dt),Ht&&f.a(this,Ot,jt,Dt,zt,Tt)},xt.prototype.isInStrokeOrPath=function(Ot,jt,Dt,zt,Tt){if(!Dt||!Tt)return!1;var Vt=this.attr(),Ht=Vt.x1,re=Vt.y1,pe=Vt.x2,me=Vt.y2;return A(Ht,re,pe,me,Tt,Ot,jt)},xt.prototype.createPath=function(Ot){var jt=this.attr(),Dt=jt.x1,zt=jt.y1,Tt=jt.x2,Vt=jt.y2,Ht=jt.startArrow,re=jt.endArrow,pe={dx:0,dy:0},me={dx:0,dy:0};Ht&&Ht.d&&(pe=f.c(Dt,zt,Tt,Vt,jt.startArrow.d)),re&&re.d&&(me=f.c(Dt,zt,Tt,Vt,jt.endArrow.d)),Ot.beginPath(),Ot.moveTo(Dt+pe.dx,zt+pe.dy),Ot.lineTo(Tt-me.dx,Vt-me.dy)},xt.prototype.afterDrawPath=function(Ot){var jt=this.get("startArrowShape"),Dt=this.get("endArrowShape");jt&&jt.draw(Ot),Dt&&Dt.draw(Ot)},xt.prototype.getTotalLength=function(){var Ot=this.attr(),jt=Ot.x1,Dt=Ot.y1,zt=Ot.x2,Tt=Ot.y2;return S.c.length(jt,Dt,zt,Tt)},xt.prototype.getPoint=function(Ot){var jt=this.attr(),Dt=jt.x1,zt=jt.y1,Tt=jt.x2,Vt=jt.y2;return S.c.pointAt(Dt,zt,Tt,Vt,Ot)},xt}(x),j=O,D=E("iTfj"),V=E("LvGN"),H={circle:function(xt,Ot,jt){return[["M",xt-jt,Ot],["A",jt,jt,0,1,0,xt+jt,Ot],["A",jt,jt,0,1,0,xt-jt,Ot]]},square:function(xt,Ot,jt){return[["M",xt-jt,Ot-jt],["L",xt+jt,Ot-jt],["L",xt+jt,Ot+jt],["L",xt-jt,Ot+jt],["Z"]]},diamond:function(xt,Ot,jt){return[["M",xt-jt,Ot],["L",xt,Ot-jt],["L",xt+jt,Ot],["L",xt,Ot+jt],["Z"]]},triangle:function(xt,Ot,jt){var Dt=jt*Math.sin(1/3*Math.PI);return[["M",xt-jt,Ot+Dt],["L",xt,Ot-Dt],["L",xt+jt,Ot+Dt],["Z"]]},"triangle-down":function(xt,Ot,jt){var Dt=jt*Math.sin(1/3*Math.PI);return[["M",xt-jt,Ot-Dt],["L",xt+jt,Ot-Dt],["L",xt,Ot+Dt],["Z"]]}},$=function(bt){Object(i.b)(xt,bt);function xt(){return bt!==null&&bt.apply(this,arguments)||this}return xt.prototype.initAttrs=function(Ot){this._resetParamsCache()},xt.prototype._resetParamsCache=function(){this.set("paramsCache",{})},xt.prototype.onAttrChange=function(Ot,jt,Dt){bt.prototype.onAttrChange.call(this,Ot,jt,Dt),["symbol","x","y","r","radius"].indexOf(Ot)!==-1&&this._resetParamsCache()},xt.prototype.isOnlyHitBox=function(){return!0},xt.prototype._getR=function(Ot){return Object(D.isNil)(Ot.r)?Ot.radius:Ot.r},xt.prototype._getPath=function(){var Ot=this.attr(),jt=Ot.x,Dt=Ot.y,zt=Ot.symbol||"circle",Tt=this._getR(Ot),Vt,Ht;if(Object(t.h)(zt))Vt=zt,Ht=Vt(jt,Dt,Tt),Ht=Object(V.d)(Ht);else{if(Vt=xt.Symbols[zt],!Vt)return console.warn(zt+" marker is not supported."),null;Ht=Vt(jt,Dt,Tt)}return Ht},xt.prototype.createPath=function(Ot){var jt=this._getPath(),Dt=this.get("paramsCache");Object(n.e)(this,Ot,{path:jt},Dt)},xt.Symbols=H,xt}(x),dt=$;function Z(bt,xt,Ot){var jt=Object(b.getOffScreenContext)();return bt.createPath(jt),jt.isPointInPath(xt,Ot)}var ct=1e-6;function pt(bt){return Math.abs(bt)<ct?0:bt<0?-1:1}function gt(bt,xt,Ot){return(Ot[0]-bt[0])*(xt[1]-bt[1])==(xt[0]-bt[0])*(Ot[1]-bt[1])&&Math.min(bt[0],xt[0])<=Ot[0]&&Ot[0]<=Math.max(bt[0],xt[0])&&Math.min(bt[1],xt[1])<=Ot[1]&&Ot[1]<=Math.max(bt[1],xt[1])}function at(bt,xt,Ot){var jt=!1,Dt=bt.length;if(Dt<=2)return!1;for(var zt=0;zt<Dt;zt++){var Tt=bt[zt],Vt=bt[(zt+1)%Dt];if(gt(Tt,Vt,[xt,Ot]))return!0;pt(Tt[1]-Ot)>0!=pt(Vt[1]-Ot)>0&&pt(xt-(Ot-Tt[1])*(Tt[0]-Vt[0])/(Tt[1]-Vt[1])-Tt[0])<0&&(jt=!jt)}return jt}var Bt=E("6JdA"),Lt=E("n+fv");function Et(bt,xt,Ot,jt,Dt,zt,Tt,Vt){var Ht=(Math.atan2(Vt-xt,Tt-bt)+Math.PI*2)%(Math.PI*2);if(Ht<jt||Ht>Dt)return!1;var re={x:bt+Ot*Math.cos(Ht),y:xt+Ot*Math.sin(Ht)};return Object(t.b)(re.x,re.y,Tt,Vt)<=zt/2}var K=Bt.a.transform;function ft(bt){for(var xt=!1,Ot=bt.length,jt=0;jt<Ot;jt++){var Dt=bt[jt],zt=Dt[0];if(zt==="C"||zt==="A"||zt==="Q"){xt=!0;break}}return xt}function mt(bt,xt,Ot,jt,Dt){for(var zt=!1,Tt=xt/2,Vt=0;Vt<bt.length;Vt++){var Ht=bt[Vt],re=Ht.currentPoint,pe=Ht.params,me=Ht.prePoint,Ee=Ht.box;if(!(Ee&&!Object(t.e)(Ee.x-Tt,Ee.y-Tt,Ee.width+xt,Ee.height+xt,Ot,jt))){switch(Ht.command){case"L":case"Z":zt=A(me[0],me[1],re[0],re[1],xt,Ot,jt);break;case"Q":var Le=S.e.pointDistance(me[0],me[1],pe[1],pe[2],pe[3],pe[4],Ot,jt);zt=Le<=xt/2;break;case"C":var Je=S.b.pointDistance(me[0],me[1],pe[1],pe[2],pe[3],pe[4],pe[5],pe[6],Ot,jt,Dt);zt=Je<=xt/2;break;case"A":var On=Ht.arcParams,gn=On.cx,Vn=On.cy,kn=On.rx,Wn=On.ry,Dn=On.startAngle,Nn=On.endAngle,Qn=On.xRotation,ir=[Ot,jt,1],hr=kn>Wn?kn:Wn,Er=kn>Wn?1:kn/Wn,mr=kn>Wn?Wn/kn:1,dr=K(null,[["t",-gn,-Vn],["r",-Qn],["s",1/Er,1/mr]]);Lt.transformMat3(ir,ir,dr),zt=Et(0,0,hr,Dn,Nn,xt,ir[0],ir[1]);break;default:break}if(zt)break}}return zt}function yt(bt){for(var xt=bt.length,Ot=[],jt=[],Dt=[],zt=0;zt<xt;zt++){var Tt=bt[zt],Vt=Tt[0];Vt==="M"?(Dt.length&&(jt.push(Dt),Dt=[]),Dt.push([Tt[1],Tt[2]])):Vt==="Z"?Dt.length&&(Ot.push(Dt),Dt=[]):Dt.push([Tt[1],Tt[2]])}return Dt.length>0&&jt.push(Dt),{polygons:Ot,polylines:jt}}var wt=Object(i.a)({hasArc:ft,extractPolygons:yt,isPointInStroke:mt},b.PathUtil);function J(bt,xt,Ot){for(var jt=!1,Dt=0;Dt<bt.length;Dt++){var zt=bt[Dt];if(jt=at(zt,xt,Ot),jt)break}return jt}var lt=function(bt){Object(i.b)(xt,bt);function xt(){return bt!==null&&bt.apply(this,arguments)||this}return xt.prototype.getDefaultAttrs=function(){var Ot=bt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},Ot),{startArrow:!1,endArrow:!1})},xt.prototype.initAttrs=function(Ot){this._setPathArr(Ot.path),this.setArrow()},xt.prototype.onAttrChange=function(Ot,jt,Dt){bt.prototype.onAttrChange.call(this,Ot,jt,Dt),Ot==="path"&&this._setPathArr(jt),this.setArrow()},xt.prototype._setPathArr=function(Ot){this.attrs.path=Object(V.d)(Ot);var jt=wt.hasArc(Ot);this.set("hasArc",jt),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},xt.prototype.getSegments=function(){var Ot=this.get("segements");return Ot||(Ot=Object(V.e)(this.attr("path")),this.set("segments",Ot)),Ot},xt.prototype.setArrow=function(){var Ot=this.attr(),jt=Ot.startArrow,Dt=Ot.endArrow;if(jt){var zt=this.getStartTangent();f.b(this,Ot,zt[0][0],zt[0][1],zt[1][0],zt[1][1])}if(Dt){var zt=this.getEndTangent();f.a(this,Ot,zt[0][0],zt[0][1],zt[1][0],zt[1][1])}},xt.prototype.isInStrokeOrPath=function(Ot,jt,Dt,zt,Tt){var Vt=this.getSegments(),Ht=this.get("hasArc"),re=!1;if(Dt){var pe=this.getTotalLength();re=wt.isPointInStroke(Vt,Tt,Ot,jt,pe)}if(!re&&zt)if(Ht)re=Z(this,Ot,jt);else{var me=this.attr("path"),Ee=wt.extractPolygons(me);re=J(Ee.polygons,Ot,jt)||J(Ee.polylines,Ot,jt)}return re},xt.prototype.createPath=function(Ot){var jt=this.attr(),Dt=this.get("paramsCache");Object(n.e)(this,Ot,jt,Dt)},xt.prototype.afterDrawPath=function(Ot){var jt=this.get("startArrowShape"),Dt=this.get("endArrowShape");jt&&jt.draw(Ot),Dt&&Dt.draw(Ot)},xt.prototype.getTotalLength=function(){var Ot=this.get("totalLength");return Object(D.isNil)(Ot)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):Ot},xt.prototype.getPoint=function(Ot){var jt=this.get("tCache");jt||(this._calculateCurve(),this._setTcache(),jt=this.get("tCache"));var Dt,zt,Tt=this.get("curve");if(!jt||jt.length===0)return Tt?{x:Tt[0][1],y:Tt[0][2]}:null;Object(D.each)(jt,function(pe,me){Ot>=pe[0]&&Ot<=pe[1]&&(Dt=(Ot-pe[0])/(pe[1]-pe[0]),zt=me)});var Vt=Tt[zt];if(Object(D.isNil)(Vt)||Object(D.isNil)(zt))return null;var Ht=Vt.length,re=Tt[zt+1];return S.b.pointAt(Vt[Ht-2],Vt[Ht-1],re[1],re[2],re[3],re[4],re[5],re[6],Dt)},xt.prototype._calculateCurve=function(){var Ot=this.attr().path;this.set("curve",wt.pathToCurve(Ot))},xt.prototype._setTcache=function(){var Ot=0,jt=0,Dt=[],zt,Tt,Vt,Ht,re=this.get("curve");if(!!re){if(Object(D.each)(re,function(pe,me){Vt=re[me+1],Ht=pe.length,Vt&&(Ot+=S.b.length(pe[Ht-2],pe[Ht-1],Vt[1],Vt[2],Vt[3],Vt[4],Vt[5],Vt[6])||0)}),this.set("totalLength",Ot),Ot===0){this.set("tCache",[]);return}Object(D.each)(re,function(pe,me){Vt=re[me+1],Ht=pe.length,Vt&&(zt=[],zt[0]=jt/Ot,Tt=S.b.length(pe[Ht-2],pe[Ht-1],Vt[1],Vt[2],Vt[3],Vt[4],Vt[5],Vt[6]),jt+=Tt||0,zt[1]=jt/Ot,Dt.push(zt))}),this.set("tCache",Dt)}},xt.prototype.getStartTangent=function(){var Ot=this.getSegments(),jt;if(Ot.length>1){var Dt=Ot[0].currentPoint,zt=Ot[1].currentPoint,Tt=Ot[1].startTangent;jt=[],Tt?(jt.push([Dt[0]-Tt[0],Dt[1]-Tt[1]]),jt.push([Dt[0],Dt[1]])):(jt.push([zt[0],zt[1]]),jt.push([Dt[0],Dt[1]]))}return jt},xt.prototype.getEndTangent=function(){var Ot=this.getSegments(),jt=Ot.length,Dt;if(jt>1){var zt=Ot[jt-2].currentPoint,Tt=Ot[jt-1].currentPoint,Vt=Ot[jt-1].endTangent;Dt=[],Vt?(Dt.push([Tt[0]-Vt[0],Tt[1]-Vt[1]]),Dt.push([Tt[0],Tt[1]])):(Dt.push([zt[0],zt[1]]),Dt.push([Tt[0],Tt[1]]))}return Dt},xt}(x),it=lt;function _(bt,xt,Ot,jt,Dt){var zt=bt.length;if(zt<2)return!1;for(var Tt=0;Tt<zt-1;Tt++){var Vt=bt[Tt][0],Ht=bt[Tt][1],re=bt[Tt+1][0],pe=bt[Tt+1][1];if(A(Vt,Ht,re,pe,xt,Ot,jt))return!0}if(Dt){var me=bt[0],Ee=bt[zt-1];if(A(me[0],me[1],Ee[0],Ee[1],xt,Ot,jt))return!0}return!1}var P=function(bt){Object(i.b)(xt,bt);function xt(){return bt!==null&&bt.apply(this,arguments)||this}return xt.prototype.isInStrokeOrPath=function(Ot,jt,Dt,zt,Tt){var Vt=this.attr().points,Ht=!1;return Dt&&(Ht=_(Vt,Tt,Ot,jt,!0)),!Ht&&zt&&(Ht=at(Vt,Ot,jt)),Ht},xt.prototype.createPath=function(Ot){var jt=this.attr(),Dt=jt.points;if(!(Dt.length<2)){Ot.beginPath();for(var zt=0;zt<Dt.length;zt++){var Tt=Dt[zt];zt===0?Ot.moveTo(Tt[0],Tt[1]):Ot.lineTo(Tt[0],Tt[1])}Ot.closePath()}},xt}(x),Q=P,k=function(bt){Object(i.b)(xt,bt);function xt(){return bt!==null&&bt.apply(this,arguments)||this}return xt.prototype.getDefaultAttrs=function(){var Ot=bt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},Ot),{startArrow:!1,endArrow:!1})},xt.prototype.initAttrs=function(Ot){this.setArrow()},xt.prototype.onAttrChange=function(Ot,jt,Dt){bt.prototype.onAttrChange.call(this,Ot,jt,Dt),this.setArrow(),["points"].indexOf(Ot)!==-1&&this._resetCache()},xt.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},xt.prototype.setArrow=function(){var Ot=this.attr(),jt=this.attrs,Dt=jt.points,zt=jt.startArrow,Tt=jt.endArrow,Vt=Dt.length,Ht=Dt[0][0],re=Dt[0][1],pe=Dt[Vt-1][0],me=Dt[Vt-1][1];zt&&f.b(this,Ot,Dt[1][0],Dt[1][1],Ht,re),Tt&&f.a(this,Ot,Dt[Vt-2][0],Dt[Vt-2][1],pe,me)},xt.prototype.isFill=function(){return!1},xt.prototype.isInStrokeOrPath=function(Ot,jt,Dt,zt,Tt){if(!Dt||!Tt)return!1;var Vt=this.attr().points;return _(Vt,Tt,Ot,jt,!1)},xt.prototype.isStroke=function(){return!0},xt.prototype.createPath=function(Ot){var jt=this.attr(),Dt=jt.points,zt=jt.startArrow,Tt=jt.endArrow,Vt=Dt.length;if(!(Dt.length<2)){var Ht=Dt[0][0],re=Dt[0][1],pe=Dt[Vt-1][0],me=Dt[Vt-1][1];if(zt&&zt.d){var Ee=f.c(Ht,re,Dt[1][0],Dt[1][1],zt.d);Ht+=Ee.dx,re+=Ee.dy}if(Tt&&Tt.d){var Ee=f.c(Dt[Vt-2][0],Dt[Vt-2][1],pe,me,Tt.d);pe-=Ee.dx,me-=Ee.dy}Ot.beginPath(),Ot.moveTo(Ht,re);for(var Le=0;Le<Vt-1;Le++){var Je=Dt[Le];Ot.lineTo(Je[0],Je[1])}Ot.lineTo(pe,me)}},xt.prototype.afterDrawPath=function(Ot){var jt=this.get("startArrowShape"),Dt=this.get("endArrowShape");jt&&jt.draw(Ot),Dt&&Dt.draw(Ot)},xt.prototype.getTotalLength=function(){var Ot=this.attr().points,jt=this.get("totalLength");return Object(D.isNil)(jt)?(this.set("totalLength",S.d.length(Ot)),this.get("totalLength")):jt},xt.prototype.getPoint=function(Ot){var jt=this.attr().points,Dt=this.get("tCache");Dt||(this._setTcache(),Dt=this.get("tCache"));var zt,Tt;return Object(D.each)(Dt,function(Vt,Ht){Ot>=Vt[0]&&Ot<=Vt[1]&&(zt=(Ot-Vt[0])/(Vt[1]-Vt[0]),Tt=Ht)}),S.c.pointAt(jt[Tt][0],jt[Tt][1],jt[Tt+1][0],jt[Tt+1][1],zt)},xt.prototype._setTcache=function(){var Ot=this.attr().points;if(!(!Ot||Ot.length===0)){var jt=this.getTotalLength();if(!(jt<=0)){var Dt=0,zt=[],Tt,Vt;Object(D.each)(Ot,function(Ht,re){Ot[re+1]&&(Tt=[],Tt[0]=Dt/jt,Vt=S.c.length(Ht[0],Ht[1],Ot[re+1][0],Ot[re+1][1]),Dt+=Vt,Tt[1]=Dt/jt,zt.push(Tt))}),this.set("tCache",zt)}}},xt.prototype.getStartTangent=function(){var Ot=this.attr().points,jt=[];return jt.push([Ot[1][0],Ot[1][1]]),jt.push([Ot[0][0],Ot[0][1]]),jt},xt.prototype.getEndTangent=function(){var Ot=this.attr().points,jt=Ot.length-1,Dt=[];return Dt.push([Ot[jt-1][0],Ot[jt-1][1]]),Dt.push([Ot[jt][0],Ot[jt][1]]),Dt},xt}(x),p=k,y=E("r0DC");function B(bt,xt,Ot,jt,Dt,zt,Tt){var Vt=Dt/2;return Object(t.e)(bt-Vt,xt-Vt,Ot,Dt,zt,Tt)||Object(t.e)(bt+Ot-Vt,xt-Vt,Dt,jt,zt,Tt)||Object(t.e)(bt+Vt,xt+jt-Vt,Ot,Dt,zt,Tt)||Object(t.e)(bt-Vt,xt+Vt,Dt,jt,zt,Tt)}function W(bt,xt,Ot,jt,Dt,zt,Tt,Vt){var Ht=zt/2;return A(bt+Dt,xt,bt+Ot-Dt,xt,zt,Tt,Vt)||A(bt+Ot,xt+Dt,bt+Ot,xt+jt-Dt,zt,Tt,Vt)||A(bt+Ot-Dt,xt+jt,bt+Dt,xt+jt,zt,Tt,Vt)||A(bt,xt+jt-Dt,bt,xt+Dt,zt,Tt,Vt)||Et(bt+Ot-Dt,xt+Dt,Dt,1.5*Math.PI,2*Math.PI,zt,Tt,Vt)||Et(bt+Ot-Dt,xt+jt-Dt,Dt,0,.5*Math.PI,zt,Tt,Vt)||Et(bt+Dt,xt+jt-Dt,Dt,.5*Math.PI,Math.PI,zt,Tt,Vt)||Et(bt+Dt,xt+Dt,Dt,Math.PI,1.5*Math.PI,zt,Tt,Vt)}var rt=function(bt){Object(i.b)(xt,bt);function xt(){return bt!==null&&bt.apply(this,arguments)||this}return xt.prototype.getDefaultAttrs=function(){var Ot=bt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},Ot),{x:0,y:0,width:0,height:0,radius:0})},xt.prototype.isInStrokeOrPath=function(Ot,jt,Dt,zt,Tt){var Vt=this.attr(),Ht=Vt.x,re=Vt.y,pe=Vt.width,me=Vt.height,Ee=Vt.radius;if(Ee){var Je=!1;return Dt&&(Je=W(Ht,re,pe,me,Ee,Tt,Ot,jt)),!Je&&zt&&(Je=Z(this,Ot,jt)),Je}else{var Le=Tt/2;if(zt&&Dt)return Object(t.e)(Ht-Le,re-Le,pe+Le,me+Le,Ot,jt);if(zt)return Object(t.e)(Ht,re,pe,me,Ot,jt);if(Dt)return B(Ht,re,pe,me,Tt,Ot,jt)}},xt.prototype.createPath=function(Ot){var jt=this.attr(),Dt=jt.x,zt=jt.y,Tt=jt.width,Vt=jt.height,Ht=jt.radius;if(Ot.beginPath(),Ht===0)Ot.rect(Dt,zt,Tt,Vt);else{var re=Object(y.a)(Ht),pe=re[0],me=re[1],Ee=re[2],Le=re[3];Ot.moveTo(Dt+pe,zt),Ot.lineTo(Dt+Tt-me,zt),me!==0&&Ot.arc(Dt+Tt-me,zt+me,me,-Math.PI/2,0),Ot.lineTo(Dt+Tt,zt+Vt-Ee),Ee!==0&&Ot.arc(Dt+Tt-Ee,zt+Vt-Ee,Ee,0,Math.PI/2),Ot.lineTo(Dt+Le,zt+Vt),Le!==0&&Ot.arc(Dt+Le,zt+Vt-Le,Le,Math.PI/2,Math.PI),Ot.lineTo(Dt,zt+pe),pe!==0&&Ot.arc(Dt+pe,zt+pe,pe,Math.PI,Math.PI*1.5),Ot.closePath()}},xt}(x),st=rt,ut=function(bt){Object(i.b)(xt,bt);function xt(){return bt!==null&&bt.apply(this,arguments)||this}return xt.prototype.getDefaultAttrs=function(){var Ot=bt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},Ot),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},xt.prototype.isOnlyHitBox=function(){return!0},xt.prototype.initAttrs=function(Ot){this._assembleFont(),Ot.text&&this._setText(Ot.text)},xt.prototype._assembleFont=function(){var Ot=this.attrs;Ot.font=Object(b.assembleFont)(Ot)},xt.prototype._setText=function(Ot){var jt=null;Object(t.k)(Ot)&&Ot.indexOf(`
`)!==-1&&(jt=Ot.split(`
`)),this.set("textArr",jt)},xt.prototype.onAttrChange=function(Ot,jt,Dt){bt.prototype.onAttrChange.call(this,Ot,jt,Dt),Ot.startsWith("font")&&this._assembleFont(),Ot==="text"&&this._setText(jt)},xt.prototype._getSpaceingY=function(){var Ot=this.attrs,jt=Ot.lineHeight,Dt=Ot.fontSize*1;return jt?jt-Dt:Dt*.14},xt.prototype._drawTextArr=function(Ot,jt,Dt){var zt=this.attrs,Tt=zt.textBaseline,Vt=zt.x,Ht=zt.y,re=zt.fontSize*1,pe=this._getSpaceingY(),me=Object(b.getTextHeight)(zt.text,zt.fontSize,zt.lineHeight),Ee;Object(t.c)(jt,function(Le,Je){Ee=Ht+Je*(pe+re)-me+re,Tt==="middle"&&(Ee+=me-re-(me-re)/2),Tt==="top"&&(Ee+=me-re),Dt?Ot.fillText(Le,Vt,Ee):Ot.strokeText(Le,Vt,Ee)})},xt.prototype._drawText=function(Ot,jt){var Dt=this.attr(),zt=Dt.x,Tt=Dt.y,Vt=this.get("textArr");if(Vt)this._drawTextArr(Ot,Vt,jt);else{var Ht=Dt.text;jt?Ot.fillText(Ht,zt,Tt):Ot.strokeText(Ht,zt,Tt)}},xt.prototype.strokeAndFill=function(Ot){var jt=this.attrs,Dt=jt.lineWidth,zt=jt.opacity,Tt=jt.strokeOpacity,Vt=jt.fillOpacity;this.isStroke()&&Dt>0&&(!Object(t.i)(Tt)&&Tt!==1&&(Ot.globalAlpha=zt),this.stroke(Ot)),this.isFill()&&(!Object(t.i)(Vt)&&Vt!==1?(Ot.globalAlpha=Vt,this.fill(Ot),Ot.globalAlpha=zt):this.fill(Ot)),this.afterDrawPath(Ot)},xt.prototype.fill=function(Ot){this._drawText(Ot,!0)},xt.prototype.stroke=function(Ot){this._drawText(Ot,!1)},xt}(x),Mt=ut},SZbK:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return Y});var Y=["#FAAD14","#E8EDF3"]},SfRM:function(qe,Pt,E){var Y=E("YESw");function i(){this.__data__=Y?Y(null):{},this.size=0}qe.exports=i},ShmH:function(qe,Pt,E){var Y=E("o0o1");(function(i,b){qe.exports=b()})(this,function(){return function(i){var b={};function t(n){if(b[n])return b[n].exports;var u=b[n]={i:n,l:!1,exports:{}};return i[n].call(u.exports,u,u.exports,t),u.l=!0,u.exports}return t.m=i,t.c=b,t.d=function(n,u,g){t.o(n,u)||Object.defineProperty(n,u,{enumerable:!0,get:g})},t.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,u){if(1&u&&(n=t(n)),8&u||4&u&&typeof n=="object"&&n&&n.__esModule)return n;var g=Object.create(null);if(t.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:n}),2&u&&typeof n!="string")for(var x in n)t.d(g,x,function(c){return n[c]}.bind(null,x));return g},t.n=function(n){var u=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(u,"a",u),u},t.o=function(n,u){return Object.prototype.hasOwnProperty.call(n,u)},t.p="",t(t.s=262)}([function(i,b,t){"use strict";t.d(b,"j",function(){return A}),t.d(b,"k",function(){return j}),t.d(b,"y",function(){return D}),t.d(b,"g",function(){return u}),t.d(b,"J",function(){return V}),t.d(b,"h",function(){return H}),t.d(b,"u",function(){return dt}),t.d(b,"B",function(){return Z}),t.d(b,"G",function(){return pt}),t.d(b,"I",function(){return at}),t.d(b,"m",function(){return I}),t.d(b,"n",function(){return Et}),t.d(b,"o",function(){return K}),t.d(b,"r",function(){return c}),t.d(b,"s",function(){return w}),t.d(b,"t",function(){return $}),t.d(b,"v",function(){return r}),t.d(b,"w",function(){return S}),t.d(b,"x",function(){return O}),t.d(b,"D",function(){return yt}),t.d(b,"b",function(){return wt}),t.d(b,"c",function(){return _}),t.d(b,"d",function(){return P}),t.d(b,"e",function(){return k}),t.d(b,"f",function(){return s}),t.d(b,"l",function(){return p}),t.d(b,"p",function(){return B}),t.d(b,"q",function(){return W}),t.d(b,"z",function(){return rt}),t.d(b,"A",function(){return lt}),t.d(b,"a",function(){return lt}),t.d(b,"i",function(){return st}),t.d(b,"F",function(){return ut}),t.d(b,"H",function(){return bt}),t.d(b,"C",function(){return xt}),t.d(b,"E",function(){return Ot});var n=function(Dt){return Dt!==null&&typeof Dt!="function"&&isFinite(Dt.length)},u=function(Dt,zt){if(!n(Dt))return Dt;for(var Tt=[],Vt=0;Vt<Dt.length;Vt++){var Ht=Dt[Vt];zt(Ht,Vt)&&Tt.push(Ht)}return Tt},g={}.toString,x=function(Dt,zt){return g.call(Dt)==="[object "+zt+"]"},c=function(Dt){return x(Dt,"Function")},w=function(Dt){return Dt==null},I=function(Dt){return Array.isArray?Array.isArray(Dt):x(Dt,"Array")};function m(jt){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Dt){return typeof Dt}:function(Dt){return Dt&&typeof Symbol=="function"&&Dt.constructor===Symbol&&Dt!==Symbol.prototype?"symbol":typeof Dt})(jt)}var r=function(Dt){var zt=m(Dt);return Dt!==null&&zt==="object"||zt==="function"},s=function(Dt,zt){if(Dt){if(I(Dt))for(var Tt=0,Vt=Dt.length;Tt<Vt&&zt(Dt[Tt],Tt)!==!1;Tt++);else if(r(Dt)){for(var Ht in Dt)if(Dt.hasOwnProperty(Ht)&&zt(Dt[Ht],Ht)===!1)break}}};function d(jt){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Dt){return typeof Dt}:function(Dt){return Dt&&typeof Symbol=="function"&&Dt.constructor===Symbol&&Dt!==Symbol.prototype?"symbol":typeof Dt})(jt)}var C=function(Dt){return d(Dt)==="object"&&Dt!==null},S=function(Dt){if(!C(Dt)||!x(Dt,"Object"))return!1;if(Object.getPrototypeOf(Dt)===null)return!0;for(var zt=Dt;Object.getPrototypeOf(zt)!==null;)zt=Object.getPrototypeOf(zt);return Object.getPrototypeOf(Dt)===zt},A=function(Dt){var zt=Dt.filter(function(re){return!isNaN(re)});if(!zt.length)return{min:0,max:0};if(I(Dt[0])){for(var Tt=[],Vt=0;Vt<Dt.length;Vt++)Tt=Tt.concat(Dt[Vt]);zt=Tt}var Ht=Math.max.apply(null,zt);return{min:Math.min.apply(null,zt),max:Ht}},f=Array.prototype,O=(f.splice,f.indexOf,Array.prototype.splice,function(jt){return x(jt,"String")});function j(jt){if(n(jt))return jt[0]}function D(jt){if(n(jt))return jt[jt.length-1]}var V=function(Dt,zt){if(Dt["_wrap_"+zt])return Dt["_wrap_"+zt];var Tt=function(Ht){Dt[zt](Ht)};return Dt["_wrap_"+zt]=Tt,Tt},H=function(Dt,zt){var Tt=zt.toString(),Vt=Tt.indexOf(".");if(Vt===-1)return Math.round(Dt);var Ht=Tt.substr(Vt+1).length;return Ht>20&&(Ht=20),parseFloat(Dt.toFixed(Ht))},$=function(Dt){return x(Dt,"Number")};Number.isInteger&&Number.isInteger;function dt(jt,Dt,zt){return zt===void 0&&(zt=1e-5),Math.abs(jt-Dt)<zt}var Z=function(Dt,zt){return(Dt%zt+zt)%zt},ct=(parseInt,Math.PI/180),pt=function(Dt){return ct*Dt},gt=function(jt){return w(jt)?"":jt.toString()},at=function(Dt){var zt=gt(Dt);return zt.charAt(0).toUpperCase()+zt.substring(1)},Bt={}.toString,Lt=function(Dt){return Bt.call(Dt).replace(/^\[object /,"").replace(/]$/,"")},Et=function(Dt){return x(Dt,"Boolean")},K=function(Dt){return x(Dt,"Date")},ft=Object.prototype,mt=function(Dt){var zt=Dt&&Dt.constructor;return Dt===(typeof zt=="function"&&zt.prototype||ft)};function yt(jt){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(Dt){return setTimeout(Dt,16)})(jt)}function wt(jt){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(jt)}function J(jt,Dt){for(var zt in Dt)Dt.hasOwnProperty(zt)&&zt!=="constructor"&&Dt[zt]!==void 0&&(jt[zt]=Dt[zt])}function lt(jt,Dt,zt,Tt){return Dt&&J(jt,Dt),zt&&J(jt,zt),Tt&&J(jt,Tt),jt}function it(jt){return(it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Dt){return typeof Dt}:function(Dt){return Dt&&typeof Symbol=="function"&&Dt.constructor===Symbol&&Dt!==Symbol.prototype?"symbol":typeof Dt})(jt)}var _=function jt(Dt){if(it(Dt)!=="object"||Dt===null)return Dt;var zt;if(I(Dt)){zt=[];for(var Tt=0,Vt=Dt.length;Tt<Vt;Tt++)it(Dt[Tt])==="object"&&Dt[Tt]!=null?zt[Tt]=jt(Dt[Tt]):zt[Tt]=Dt[Tt]}else for(var Ht in zt={},Dt)it(Dt[Ht])==="object"&&Dt[Ht]!=null?zt[Ht]=jt(Dt[Ht]):zt[Ht]=Dt[Ht];return zt},P=function(Dt,zt,Tt){var Vt;return function(){var Ht=this,re=arguments,pe=function(){Vt=null,Tt||Dt.apply(Ht,re)},me=Tt&&!Vt;clearTimeout(Vt),Vt=setTimeout(pe,zt),me&&Dt.apply(Ht,re)}};function Q(jt,Dt,zt,Tt){for(var Vt in zt=zt||0,Tt=Tt||5,Dt)if(Dt.hasOwnProperty(Vt)){var Ht=Dt[Vt];Ht!==null&&S(Ht)?(S(jt[Vt])||(jt[Vt]={}),zt<Tt?Q(jt[Vt],Ht,zt+1,Tt):jt[Vt]=Dt[Vt]):I(Ht)?(jt[Vt]=[],jt[Vt]=jt[Vt].concat(Ht)):Ht!==void 0&&(jt[Vt]=Ht)}}var k=function(Dt){for(var zt=[],Tt=1;Tt<arguments.length;Tt++)zt[Tt-1]=arguments[Tt];for(var Vt=0;Vt<zt.length;Vt+=1)Q(Dt,zt[Vt]);return Dt},p=function(Dt,zt){if(!n(Dt))return-1;var Tt=Array.prototype.indexOf;if(Tt)return Tt.call(Dt,zt);for(var Vt=-1,Ht=0;Ht<Dt.length;Ht++)if(Dt[Ht]===zt){Vt=Ht;break}return Vt},y=Object.prototype.hasOwnProperty,B=function(Dt){if(w(Dt))return!0;if(n(Dt))return!Dt.length;var zt=Lt(Dt);if(zt==="Map"||zt==="Set")return!Dt.size;if(mt(Dt))return!Object.keys(Dt).length;for(var Tt in Dt)if(y.call(Dt,Tt))return!1;return!0},W=function jt(Dt,zt){if(Dt===zt)return!0;if(!Dt||!zt||O(Dt)||O(zt))return!1;if(n(Dt)||n(zt)){if(Dt.length!==zt.length)return!1;for(var Tt=!0,Vt=0;Vt<Dt.length&&(Tt=jt(Dt[Vt],zt[Vt]));Vt++);return Tt}if(C(Dt)||C(zt)){var Ht=Object.keys(Dt),re=Object.keys(zt);if(Ht.length!==re.length)return!1;for(Tt=!0,Vt=0;Vt<Ht.length&&(Tt=jt(Dt[Ht[Vt]],zt[Ht[Vt]]));Vt++);return Tt}return!1},rt=function(Dt,zt){if(!n(Dt))return Dt;for(var Tt=[],Vt=0;Vt<Dt.length;Vt++){var Ht=Dt[Vt];Tt.push(zt(Ht,Vt))}return Tt},st=function(Dt,zt,Tt){for(var Vt=0,Ht=O(zt)?zt.split("."):zt;Dt&&Vt<Ht.length;)Dt=Dt[Ht[Vt++]];return Dt===void 0||Vt<Ht.length?Tt:Dt},ut=function(jt){return n(jt)?Array.prototype.slice.call(jt):[]},Mt={},bt=function(Dt){return Mt[Dt=Dt||"g"]?Mt[Dt]+=1:Mt[Dt]=1,Dt+Mt[Dt]},xt=function(){};function Ot(jt){return w(jt)?0:n(jt)?jt.length:Object.keys(jt).length}(function(){function jt(){this.map={}}jt.prototype.has=function(Dt){return this.map[Dt]!==void 0},jt.prototype.get=function(Dt,zt){var Tt=this.map[Dt];return Tt===void 0?zt:Tt},jt.prototype.set=function(Dt,zt){this.map[Dt]=zt},jt.prototype.clear=function(){this.map={}},jt.prototype.delete=function(Dt){delete this.map[Dt]},jt.prototype.size=function(){return Object.keys(this.map).length}})()},function(i,b,t){"use strict";t.d(b,"b",function(){return u}),t.d(b,"a",function(){return g}),t.d(b,"c",function(){return x}),t.d(b,"d",function(){return c});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var n=function(I,m){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(r[d]=s[d])})(I,m)};function u(w,I){if(typeof I!="function"&&I!==null)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");function m(){this.constructor=w}n(w,I),w.prototype=I===null?Object.create(I):(m.prototype=I.prototype,new m)}var g=function(){return(g=Object.assign||function(I){for(var m,r=1,s=arguments.length;r<s;r++)for(var d in m=arguments[r])Object.prototype.hasOwnProperty.call(m,d)&&(I[d]=m[d]);return I}).apply(this,arguments)};function x(w,I){var m={};for(var r in w)Object.prototype.hasOwnProperty.call(w,r)&&I.indexOf(r)<0&&(m[r]=w[r]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(r=Object.getOwnPropertySymbols(w);s<r.length;s++)I.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(w,r[s])&&(m[r[s]]=w[r[s]])}return m}function c(){for(var w=0,I=0,m=arguments.length;I<m;I++)w+=arguments[I].length;var r=Array(w),s=0;for(I=0;I<m;I++)for(var d=arguments[I],C=0,S=d.length;C<S;C++,s++)r[s]=d[C];return r}},function(i,b,t){"use strict";t.d(b,"a",function(){return n}),t.d(b,"b",function(){return u}),t.d(b,"c",function(){return x}),t.d(b,"d",function(){return je}),t.d(b,"e",function(){return Mi}),t.d(b,"f",function(){return g});var n={};t.r(n),t.d(n,"create",function(){return w}),t.d(n,"fromMat4",function(){return I}),t.d(n,"clone",function(){return m}),t.d(n,"copy",function(){return r}),t.d(n,"fromValues",function(){return s}),t.d(n,"set",function(){return d}),t.d(n,"identity",function(){return C}),t.d(n,"transpose",function(){return S}),t.d(n,"invert",function(){return A}),t.d(n,"adjoint",function(){return f}),t.d(n,"determinant",function(){return O}),t.d(n,"multiply",function(){return j}),t.d(n,"translate",function(){return D}),t.d(n,"rotate",function(){return V}),t.d(n,"scale",function(){return H}),t.d(n,"fromTranslation",function(){return $}),t.d(n,"fromRotation",function(){return dt}),t.d(n,"fromScaling",function(){return Z}),t.d(n,"fromMat2d",function(){return ct}),t.d(n,"fromQuat",function(){return pt}),t.d(n,"normalFromMat4",function(){return gt}),t.d(n,"projection",function(){return at}),t.d(n,"str",function(){return Bt}),t.d(n,"frob",function(){return Lt}),t.d(n,"add",function(){return Et}),t.d(n,"subtract",function(){return K}),t.d(n,"multiplyScalar",function(){return ft}),t.d(n,"multiplyScalarAndAdd",function(){return mt}),t.d(n,"exactEquals",function(){return yt}),t.d(n,"equals",function(){return wt}),t.d(n,"mul",function(){return J}),t.d(n,"sub",function(){return lt});var u={};t.r(u),t.d(u,"create",function(){return it}),t.d(u,"clone",function(){return _}),t.d(u,"copy",function(){return P}),t.d(u,"fromValues",function(){return Q}),t.d(u,"set",function(){return k}),t.d(u,"identity",function(){return p}),t.d(u,"transpose",function(){return y}),t.d(u,"invert",function(){return B}),t.d(u,"adjoint",function(){return W}),t.d(u,"determinant",function(){return rt}),t.d(u,"multiply",function(){return st}),t.d(u,"translate",function(){return ut}),t.d(u,"scale",function(){return Mt}),t.d(u,"rotate",function(){return bt}),t.d(u,"rotateX",function(){return xt}),t.d(u,"rotateY",function(){return Ot}),t.d(u,"rotateZ",function(){return jt}),t.d(u,"fromTranslation",function(){return Dt}),t.d(u,"fromScaling",function(){return zt}),t.d(u,"fromRotation",function(){return Tt}),t.d(u,"fromXRotation",function(){return Vt}),t.d(u,"fromYRotation",function(){return Ht}),t.d(u,"fromZRotation",function(){return re}),t.d(u,"fromRotationTranslation",function(){return pe}),t.d(u,"fromQuat2",function(){return me}),t.d(u,"getTranslation",function(){return Ee}),t.d(u,"getScaling",function(){return Le}),t.d(u,"getRotation",function(){return Je}),t.d(u,"fromRotationTranslationScale",function(){return On}),t.d(u,"fromRotationTranslationScaleOrigin",function(){return gn}),t.d(u,"fromQuat",function(){return Vn}),t.d(u,"frustum",function(){return kn}),t.d(u,"perspective",function(){return Wn}),t.d(u,"perspectiveFromFieldOfView",function(){return Dn}),t.d(u,"ortho",function(){return Nn}),t.d(u,"lookAt",function(){return Qn}),t.d(u,"targetTo",function(){return ir}),t.d(u,"str",function(){return hr}),t.d(u,"frob",function(){return Er}),t.d(u,"add",function(){return mr}),t.d(u,"subtract",function(){return dr}),t.d(u,"multiplyScalar",function(){return Br}),t.d(u,"multiplyScalarAndAdd",function(){return ii}),t.d(u,"exactEquals",function(){return mi}),t.d(u,"equals",function(){return Pi}),t.d(u,"mul",function(){return sa}),t.d(u,"sub",function(){return Pa});var g={};t.r(g),t.d(g,"create",function(){return Ki}),t.d(g,"clone",function(){return fa}),t.d(g,"fromValues",function(){return oa}),t.d(g,"copy",function(){return pa}),t.d(g,"set",function(){return La}),t.d(g,"add",function(){return Yr}),t.d(g,"subtract",function(){return Ea}),t.d(g,"multiply",function(){return Pr}),t.d(g,"divide",function(){return si}),t.d(g,"ceil",function(){return ti}),t.d(g,"floor",function(){return $r}),t.d(g,"min",function(){return ui}),t.d(g,"max",function(){return li}),t.d(g,"round",function(){return xi}),t.d(g,"scale",function(){return Ci}),t.d(g,"scaleAndAdd",function(){return di}),t.d(g,"distance",function(){return Ti}),t.d(g,"squaredDistance",function(){return pi}),t.d(g,"length",function(){return Ni}),t.d(g,"squaredLength",function(){return Bi}),t.d(g,"negate",function(){return Fi}),t.d(g,"inverse",function(){return ma}),t.d(g,"normalize",function(){return ua}),t.d(g,"dot",function(){return Ra}),t.d(g,"cross",function(){return xa}),t.d(g,"lerp",function(){return Ma}),t.d(g,"random",function(){return Qi}),t.d(g,"transformMat4",function(){return ka}),t.d(g,"transformQuat",function(){return vo}),t.d(g,"zero",function(){return za}),t.d(g,"str",function(){return Ga}),t.d(g,"exactEquals",function(){return eo}),t.d(g,"equals",function(){return ae}),t.d(g,"sub",function(){return te}),t.d(g,"mul",function(){return Oe}),t.d(g,"div",function(){return Ze}),t.d(g,"dist",function(){return An}),t.d(g,"sqrDist",function(){return qn}),t.d(g,"len",function(){return rr}),t.d(g,"sqrLen",function(){return tn}),t.d(g,"forEach",function(){return sn});var x={};t.r(x),t.d(x,"create",function(){return un}),t.d(x,"identity",function(){return ur}),t.d(x,"setAxisAngle",function(){return jr}),t.d(x,"getAxisAngle",function(){return wr}),t.d(x,"getAngle",function(){return yr}),t.d(x,"multiply",function(){return ni}),t.d(x,"rotateX",function(){return _r}),t.d(x,"rotateY",function(){return Fr}),t.d(x,"rotateZ",function(){return Lr}),t.d(x,"calculateW",function(){return Gr}),t.d(x,"exp",function(){return Hr}),t.d(x,"ln",function(){return ei}),t.d(x,"pow",function(){return Kr}),t.d(x,"slerp",function(){return Qr}),t.d(x,"random",function(){return Oi}),t.d(x,"invert",function(){return Ri}),t.d(x,"conjugate",function(){return Ei}),t.d(x,"fromMat3",function(){return Gi}),t.d(x,"fromEuler",function(){return ca}),t.d(x,"str",function(){return ha}),t.d(x,"clone",function(){return vt}),t.d(x,"fromValues",function(){return Gt}),t.d(x,"copy",function(){return Jt}),t.d(x,"set",function(){return ie}),t.d(x,"add",function(){return ue}),t.d(x,"mul",function(){return Ce}),t.d(x,"scale",function(){return we}),t.d(x,"dot",function(){return cn}),t.d(x,"lerp",function(){return Cn}),t.d(x,"length",function(){return _t}),t.d(x,"len",function(){return Xt}),t.d(x,"squaredLength",function(){return Se}),t.d(x,"sqrLen",function(){return Wt}),t.d(x,"normalize",function(){return ce}),t.d(x,"exactEquals",function(){return yn}),t.d(x,"equals",function(){return Bn}),t.d(x,"rotationTo",function(){return Zn}),t.d(x,"sqlerp",function(){return Kn}),t.d(x,"setAxes",function(){return $e});var c=t(11);function w(){var L=new c.a(9);return c.a!=Float32Array&&(L[1]=0,L[2]=0,L[3]=0,L[5]=0,L[6]=0,L[7]=0),L[0]=1,L[4]=1,L[8]=1,L}function I(L,St){return L[0]=St[0],L[1]=St[1],L[2]=St[2],L[3]=St[4],L[4]=St[5],L[5]=St[6],L[6]=St[8],L[7]=St[9],L[8]=St[10],L}function m(L){var St=new c.a(9);return St[0]=L[0],St[1]=L[1],St[2]=L[2],St[3]=L[3],St[4]=L[4],St[5]=L[5],St[6]=L[6],St[7]=L[7],St[8]=L[8],St}function r(L,St){return L[0]=St[0],L[1]=St[1],L[2]=St[2],L[3]=St[3],L[4]=St[4],L[5]=St[5],L[6]=St[6],L[7]=St[7],L[8]=St[8],L}function s(L,St,$t,ye,Zt,de,he,le,Me){var We=new c.a(9);return We[0]=L,We[1]=St,We[2]=$t,We[3]=ye,We[4]=Zt,We[5]=de,We[6]=he,We[7]=le,We[8]=Me,We}function d(L,St,$t,ye,Zt,de,he,le,Me,We){return L[0]=St,L[1]=$t,L[2]=ye,L[3]=Zt,L[4]=de,L[5]=he,L[6]=le,L[7]=Me,L[8]=We,L}function C(L){return L[0]=1,L[1]=0,L[2]=0,L[3]=0,L[4]=1,L[5]=0,L[6]=0,L[7]=0,L[8]=1,L}function S(L,St){if(L===St){var $t=St[1],ye=St[2],Zt=St[5];L[1]=St[3],L[2]=St[6],L[3]=$t,L[5]=St[7],L[6]=ye,L[7]=Zt}else L[0]=St[0],L[1]=St[3],L[2]=St[6],L[3]=St[1],L[4]=St[4],L[5]=St[7],L[6]=St[2],L[7]=St[5],L[8]=St[8];return L}function A(L,St){var $t=St[0],ye=St[1],Zt=St[2],de=St[3],he=St[4],le=St[5],Me=St[6],We=St[7],Ye=St[8],ke=Ye*he-le*We,nn=-Ye*de+le*Me,Re=We*de-he*Me,hn=$t*ke+ye*nn+Zt*Re;return hn?(hn=1/hn,L[0]=ke*hn,L[1]=(-Ye*ye+Zt*We)*hn,L[2]=(le*ye-Zt*he)*hn,L[3]=nn*hn,L[4]=(Ye*$t-Zt*Me)*hn,L[5]=(-le*$t+Zt*de)*hn,L[6]=Re*hn,L[7]=(-We*$t+ye*Me)*hn,L[8]=(he*$t-ye*de)*hn,L):null}function f(L,St){var $t=St[0],ye=St[1],Zt=St[2],de=St[3],he=St[4],le=St[5],Me=St[6],We=St[7],Ye=St[8];return L[0]=he*Ye-le*We,L[1]=Zt*We-ye*Ye,L[2]=ye*le-Zt*he,L[3]=le*Me-de*Ye,L[4]=$t*Ye-Zt*Me,L[5]=Zt*de-$t*le,L[6]=de*We-he*Me,L[7]=ye*Me-$t*We,L[8]=$t*he-ye*de,L}function O(L){var St=L[0],$t=L[1],ye=L[2],Zt=L[3],de=L[4],he=L[5],le=L[6],Me=L[7],We=L[8];return St*(We*de-he*Me)+$t*(-We*Zt+he*le)+ye*(Me*Zt-de*le)}function j(L,St,$t){var ye=St[0],Zt=St[1],de=St[2],he=St[3],le=St[4],Me=St[5],We=St[6],Ye=St[7],ke=St[8],nn=$t[0],Re=$t[1],hn=$t[2],pn=$t[3],on=$t[4],mn=$t[5],jn=$t[6],Ie=$t[7],fe=$t[8];return L[0]=nn*ye+Re*he+hn*We,L[1]=nn*Zt+Re*le+hn*Ye,L[2]=nn*de+Re*Me+hn*ke,L[3]=pn*ye+on*he+mn*We,L[4]=pn*Zt+on*le+mn*Ye,L[5]=pn*de+on*Me+mn*ke,L[6]=jn*ye+Ie*he+fe*We,L[7]=jn*Zt+Ie*le+fe*Ye,L[8]=jn*de+Ie*Me+fe*ke,L}function D(L,St,$t){var ye=St[0],Zt=St[1],de=St[2],he=St[3],le=St[4],Me=St[5],We=St[6],Ye=St[7],ke=St[8],nn=$t[0],Re=$t[1];return L[0]=ye,L[1]=Zt,L[2]=de,L[3]=he,L[4]=le,L[5]=Me,L[6]=nn*ye+Re*he+We,L[7]=nn*Zt+Re*le+Ye,L[8]=nn*de+Re*Me+ke,L}function V(L,St,$t){var ye=St[0],Zt=St[1],de=St[2],he=St[3],le=St[4],Me=St[5],We=St[6],Ye=St[7],ke=St[8],nn=Math.sin($t),Re=Math.cos($t);return L[0]=Re*ye+nn*he,L[1]=Re*Zt+nn*le,L[2]=Re*de+nn*Me,L[3]=Re*he-nn*ye,L[4]=Re*le-nn*Zt,L[5]=Re*Me-nn*de,L[6]=We,L[7]=Ye,L[8]=ke,L}function H(L,St,$t){var ye=$t[0],Zt=$t[1];return L[0]=ye*St[0],L[1]=ye*St[1],L[2]=ye*St[2],L[3]=Zt*St[3],L[4]=Zt*St[4],L[5]=Zt*St[5],L[6]=St[6],L[7]=St[7],L[8]=St[8],L}function $(L,St){return L[0]=1,L[1]=0,L[2]=0,L[3]=0,L[4]=1,L[5]=0,L[6]=St[0],L[7]=St[1],L[8]=1,L}function dt(L,St){var $t=Math.sin(St),ye=Math.cos(St);return L[0]=ye,L[1]=$t,L[2]=0,L[3]=-$t,L[4]=ye,L[5]=0,L[6]=0,L[7]=0,L[8]=1,L}function Z(L,St){return L[0]=St[0],L[1]=0,L[2]=0,L[3]=0,L[4]=St[1],L[5]=0,L[6]=0,L[7]=0,L[8]=1,L}function ct(L,St){return L[0]=St[0],L[1]=St[1],L[2]=0,L[3]=St[2],L[4]=St[3],L[5]=0,L[6]=St[4],L[7]=St[5],L[8]=1,L}function pt(L,St){var $t=St[0],ye=St[1],Zt=St[2],de=St[3],he=$t+$t,le=ye+ye,Me=Zt+Zt,We=$t*he,Ye=ye*he,ke=ye*le,nn=Zt*he,Re=Zt*le,hn=Zt*Me,pn=de*he,on=de*le,mn=de*Me;return L[0]=1-ke-hn,L[3]=Ye-mn,L[6]=nn+on,L[1]=Ye+mn,L[4]=1-We-hn,L[7]=Re-pn,L[2]=nn-on,L[5]=Re+pn,L[8]=1-We-ke,L}function gt(L,St){var $t=St[0],ye=St[1],Zt=St[2],de=St[3],he=St[4],le=St[5],Me=St[6],We=St[7],Ye=St[8],ke=St[9],nn=St[10],Re=St[11],hn=St[12],pn=St[13],on=St[14],mn=St[15],jn=$t*le-ye*he,Ie=$t*Me-Zt*he,fe=$t*We-de*he,Ne=ye*Me-Zt*le,Fe=ye*We-de*le,rn=Zt*We-de*Me,ln=Ye*pn-ke*hn,_e=Ye*on-nn*hn,dn=Ye*mn-Re*hn,En=ke*on-nn*pn,tr=ke*mn-Re*pn,Pn=nn*mn-Re*on,Fn=jn*Pn-Ie*tr+fe*En+Ne*dn-Fe*_e+rn*ln;return Fn?(Fn=1/Fn,L[0]=(le*Pn-Me*tr+We*En)*Fn,L[1]=(Me*dn-he*Pn-We*_e)*Fn,L[2]=(he*tr-le*dn+We*ln)*Fn,L[3]=(Zt*tr-ye*Pn-de*En)*Fn,L[4]=($t*Pn-Zt*dn+de*_e)*Fn,L[5]=(ye*dn-$t*tr-de*ln)*Fn,L[6]=(pn*rn-on*Fe+mn*Ne)*Fn,L[7]=(on*fe-hn*rn-mn*Ie)*Fn,L[8]=(hn*Fe-pn*fe+mn*jn)*Fn,L):null}function at(L,St,$t){return L[0]=2/St,L[1]=0,L[2]=0,L[3]=0,L[4]=-2/$t,L[5]=0,L[6]=-1,L[7]=1,L[8]=1,L}function Bt(L){return"mat3("+L[0]+", "+L[1]+", "+L[2]+", "+L[3]+", "+L[4]+", "+L[5]+", "+L[6]+", "+L[7]+", "+L[8]+")"}function Lt(L){return Math.hypot(L[0],L[1],L[2],L[3],L[4],L[5],L[6],L[7],L[8])}function Et(L,St,$t){return L[0]=St[0]+$t[0],L[1]=St[1]+$t[1],L[2]=St[2]+$t[2],L[3]=St[3]+$t[3],L[4]=St[4]+$t[4],L[5]=St[5]+$t[5],L[6]=St[6]+$t[6],L[7]=St[7]+$t[7],L[8]=St[8]+$t[8],L}function K(L,St,$t){return L[0]=St[0]-$t[0],L[1]=St[1]-$t[1],L[2]=St[2]-$t[2],L[3]=St[3]-$t[3],L[4]=St[4]-$t[4],L[5]=St[5]-$t[5],L[6]=St[6]-$t[6],L[7]=St[7]-$t[7],L[8]=St[8]-$t[8],L}function ft(L,St,$t){return L[0]=St[0]*$t,L[1]=St[1]*$t,L[2]=St[2]*$t,L[3]=St[3]*$t,L[4]=St[4]*$t,L[5]=St[5]*$t,L[6]=St[6]*$t,L[7]=St[7]*$t,L[8]=St[8]*$t,L}function mt(L,St,$t,ye){return L[0]=St[0]+$t[0]*ye,L[1]=St[1]+$t[1]*ye,L[2]=St[2]+$t[2]*ye,L[3]=St[3]+$t[3]*ye,L[4]=St[4]+$t[4]*ye,L[5]=St[5]+$t[5]*ye,L[6]=St[6]+$t[6]*ye,L[7]=St[7]+$t[7]*ye,L[8]=St[8]+$t[8]*ye,L}function yt(L,St){return L[0]===St[0]&&L[1]===St[1]&&L[2]===St[2]&&L[3]===St[3]&&L[4]===St[4]&&L[5]===St[5]&&L[6]===St[6]&&L[7]===St[7]&&L[8]===St[8]}function wt(L,St){var $t=L[0],ye=L[1],Zt=L[2],de=L[3],he=L[4],le=L[5],Me=L[6],We=L[7],Ye=L[8],ke=St[0],nn=St[1],Re=St[2],hn=St[3],pn=St[4],on=St[5],mn=St[6],jn=St[7],Ie=St[8];return Math.abs($t-ke)<=c.b*Math.max(1,Math.abs($t),Math.abs(ke))&&Math.abs(ye-nn)<=c.b*Math.max(1,Math.abs(ye),Math.abs(nn))&&Math.abs(Zt-Re)<=c.b*Math.max(1,Math.abs(Zt),Math.abs(Re))&&Math.abs(de-hn)<=c.b*Math.max(1,Math.abs(de),Math.abs(hn))&&Math.abs(he-pn)<=c.b*Math.max(1,Math.abs(he),Math.abs(pn))&&Math.abs(le-on)<=c.b*Math.max(1,Math.abs(le),Math.abs(on))&&Math.abs(Me-mn)<=c.b*Math.max(1,Math.abs(Me),Math.abs(mn))&&Math.abs(We-jn)<=c.b*Math.max(1,Math.abs(We),Math.abs(jn))&&Math.abs(Ye-Ie)<=c.b*Math.max(1,Math.abs(Ye),Math.abs(Ie))}var J=j,lt=K;function it(){var L=new c.a(16);return c.a!=Float32Array&&(L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[11]=0,L[12]=0,L[13]=0,L[14]=0),L[0]=1,L[5]=1,L[10]=1,L[15]=1,L}function _(L){var St=new c.a(16);return St[0]=L[0],St[1]=L[1],St[2]=L[2],St[3]=L[3],St[4]=L[4],St[5]=L[5],St[6]=L[6],St[7]=L[7],St[8]=L[8],St[9]=L[9],St[10]=L[10],St[11]=L[11],St[12]=L[12],St[13]=L[13],St[14]=L[14],St[15]=L[15],St}function P(L,St){return L[0]=St[0],L[1]=St[1],L[2]=St[2],L[3]=St[3],L[4]=St[4],L[5]=St[5],L[6]=St[6],L[7]=St[7],L[8]=St[8],L[9]=St[9],L[10]=St[10],L[11]=St[11],L[12]=St[12],L[13]=St[13],L[14]=St[14],L[15]=St[15],L}function Q(L,St,$t,ye,Zt,de,he,le,Me,We,Ye,ke,nn,Re,hn,pn){var on=new c.a(16);return on[0]=L,on[1]=St,on[2]=$t,on[3]=ye,on[4]=Zt,on[5]=de,on[6]=he,on[7]=le,on[8]=Me,on[9]=We,on[10]=Ye,on[11]=ke,on[12]=nn,on[13]=Re,on[14]=hn,on[15]=pn,on}function k(L,St,$t,ye,Zt,de,he,le,Me,We,Ye,ke,nn,Re,hn,pn,on){return L[0]=St,L[1]=$t,L[2]=ye,L[3]=Zt,L[4]=de,L[5]=he,L[6]=le,L[7]=Me,L[8]=We,L[9]=Ye,L[10]=ke,L[11]=nn,L[12]=Re,L[13]=hn,L[14]=pn,L[15]=on,L}function p(L){return L[0]=1,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=1,L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[10]=1,L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L}function y(L,St){if(L===St){var $t=St[1],ye=St[2],Zt=St[3],de=St[6],he=St[7],le=St[11];L[1]=St[4],L[2]=St[8],L[3]=St[12],L[4]=$t,L[6]=St[9],L[7]=St[13],L[8]=ye,L[9]=de,L[11]=St[14],L[12]=Zt,L[13]=he,L[14]=le}else L[0]=St[0],L[1]=St[4],L[2]=St[8],L[3]=St[12],L[4]=St[1],L[5]=St[5],L[6]=St[9],L[7]=St[13],L[8]=St[2],L[9]=St[6],L[10]=St[10],L[11]=St[14],L[12]=St[3],L[13]=St[7],L[14]=St[11],L[15]=St[15];return L}function B(L,St){var $t=St[0],ye=St[1],Zt=St[2],de=St[3],he=St[4],le=St[5],Me=St[6],We=St[7],Ye=St[8],ke=St[9],nn=St[10],Re=St[11],hn=St[12],pn=St[13],on=St[14],mn=St[15],jn=$t*le-ye*he,Ie=$t*Me-Zt*he,fe=$t*We-de*he,Ne=ye*Me-Zt*le,Fe=ye*We-de*le,rn=Zt*We-de*Me,ln=Ye*pn-ke*hn,_e=Ye*on-nn*hn,dn=Ye*mn-Re*hn,En=ke*on-nn*pn,tr=ke*mn-Re*pn,Pn=nn*mn-Re*on,Fn=jn*Pn-Ie*tr+fe*En+Ne*dn-Fe*_e+rn*ln;return Fn?(Fn=1/Fn,L[0]=(le*Pn-Me*tr+We*En)*Fn,L[1]=(Zt*tr-ye*Pn-de*En)*Fn,L[2]=(pn*rn-on*Fe+mn*Ne)*Fn,L[3]=(nn*Fe-ke*rn-Re*Ne)*Fn,L[4]=(Me*dn-he*Pn-We*_e)*Fn,L[5]=($t*Pn-Zt*dn+de*_e)*Fn,L[6]=(on*fe-hn*rn-mn*Ie)*Fn,L[7]=(Ye*rn-nn*fe+Re*Ie)*Fn,L[8]=(he*tr-le*dn+We*ln)*Fn,L[9]=(ye*dn-$t*tr-de*ln)*Fn,L[10]=(hn*Fe-pn*fe+mn*jn)*Fn,L[11]=(ke*fe-Ye*Fe-Re*jn)*Fn,L[12]=(le*_e-he*En-Me*ln)*Fn,L[13]=($t*En-ye*_e+Zt*ln)*Fn,L[14]=(pn*Ie-hn*Ne-on*jn)*Fn,L[15]=(Ye*Ne-ke*Ie+nn*jn)*Fn,L):null}function W(L,St){var $t=St[0],ye=St[1],Zt=St[2],de=St[3],he=St[4],le=St[5],Me=St[6],We=St[7],Ye=St[8],ke=St[9],nn=St[10],Re=St[11],hn=St[12],pn=St[13],on=St[14],mn=St[15];return L[0]=le*(nn*mn-Re*on)-ke*(Me*mn-We*on)+pn*(Me*Re-We*nn),L[1]=-(ye*(nn*mn-Re*on)-ke*(Zt*mn-de*on)+pn*(Zt*Re-de*nn)),L[2]=ye*(Me*mn-We*on)-le*(Zt*mn-de*on)+pn*(Zt*We-de*Me),L[3]=-(ye*(Me*Re-We*nn)-le*(Zt*Re-de*nn)+ke*(Zt*We-de*Me)),L[4]=-(he*(nn*mn-Re*on)-Ye*(Me*mn-We*on)+hn*(Me*Re-We*nn)),L[5]=$t*(nn*mn-Re*on)-Ye*(Zt*mn-de*on)+hn*(Zt*Re-de*nn),L[6]=-($t*(Me*mn-We*on)-he*(Zt*mn-de*on)+hn*(Zt*We-de*Me)),L[7]=$t*(Me*Re-We*nn)-he*(Zt*Re-de*nn)+Ye*(Zt*We-de*Me),L[8]=he*(ke*mn-Re*pn)-Ye*(le*mn-We*pn)+hn*(le*Re-We*ke),L[9]=-($t*(ke*mn-Re*pn)-Ye*(ye*mn-de*pn)+hn*(ye*Re-de*ke)),L[10]=$t*(le*mn-We*pn)-he*(ye*mn-de*pn)+hn*(ye*We-de*le),L[11]=-($t*(le*Re-We*ke)-he*(ye*Re-de*ke)+Ye*(ye*We-de*le)),L[12]=-(he*(ke*on-nn*pn)-Ye*(le*on-Me*pn)+hn*(le*nn-Me*ke)),L[13]=$t*(ke*on-nn*pn)-Ye*(ye*on-Zt*pn)+hn*(ye*nn-Zt*ke),L[14]=-($t*(le*on-Me*pn)-he*(ye*on-Zt*pn)+hn*(ye*Me-Zt*le)),L[15]=$t*(le*nn-Me*ke)-he*(ye*nn-Zt*ke)+Ye*(ye*Me-Zt*le),L}function rt(L){var St=L[0],$t=L[1],ye=L[2],Zt=L[3],de=L[4],he=L[5],le=L[6],Me=L[7],We=L[8],Ye=L[9],ke=L[10],nn=L[11],Re=L[12],hn=L[13],pn=L[14],on=L[15];return(St*he-$t*de)*(ke*on-nn*pn)-(St*le-ye*de)*(Ye*on-nn*hn)+(St*Me-Zt*de)*(Ye*pn-ke*hn)+($t*le-ye*he)*(We*on-nn*Re)-($t*Me-Zt*he)*(We*pn-ke*Re)+(ye*Me-Zt*le)*(We*hn-Ye*Re)}function st(L,St,$t){var ye=St[0],Zt=St[1],de=St[2],he=St[3],le=St[4],Me=St[5],We=St[6],Ye=St[7],ke=St[8],nn=St[9],Re=St[10],hn=St[11],pn=St[12],on=St[13],mn=St[14],jn=St[15],Ie=$t[0],fe=$t[1],Ne=$t[2],Fe=$t[3];return L[0]=Ie*ye+fe*le+Ne*ke+Fe*pn,L[1]=Ie*Zt+fe*Me+Ne*nn+Fe*on,L[2]=Ie*de+fe*We+Ne*Re+Fe*mn,L[3]=Ie*he+fe*Ye+Ne*hn+Fe*jn,Ie=$t[4],fe=$t[5],Ne=$t[6],Fe=$t[7],L[4]=Ie*ye+fe*le+Ne*ke+Fe*pn,L[5]=Ie*Zt+fe*Me+Ne*nn+Fe*on,L[6]=Ie*de+fe*We+Ne*Re+Fe*mn,L[7]=Ie*he+fe*Ye+Ne*hn+Fe*jn,Ie=$t[8],fe=$t[9],Ne=$t[10],Fe=$t[11],L[8]=Ie*ye+fe*le+Ne*ke+Fe*pn,L[9]=Ie*Zt+fe*Me+Ne*nn+Fe*on,L[10]=Ie*de+fe*We+Ne*Re+Fe*mn,L[11]=Ie*he+fe*Ye+Ne*hn+Fe*jn,Ie=$t[12],fe=$t[13],Ne=$t[14],Fe=$t[15],L[12]=Ie*ye+fe*le+Ne*ke+Fe*pn,L[13]=Ie*Zt+fe*Me+Ne*nn+Fe*on,L[14]=Ie*de+fe*We+Ne*Re+Fe*mn,L[15]=Ie*he+fe*Ye+Ne*hn+Fe*jn,L}function ut(L,St,$t){var ye,Zt,de,he,le,Me,We,Ye,ke,nn,Re,hn,pn=$t[0],on=$t[1],mn=$t[2];return St===L?(L[12]=St[0]*pn+St[4]*on+St[8]*mn+St[12],L[13]=St[1]*pn+St[5]*on+St[9]*mn+St[13],L[14]=St[2]*pn+St[6]*on+St[10]*mn+St[14],L[15]=St[3]*pn+St[7]*on+St[11]*mn+St[15]):(ye=St[0],Zt=St[1],de=St[2],he=St[3],le=St[4],Me=St[5],We=St[6],Ye=St[7],ke=St[8],nn=St[9],Re=St[10],hn=St[11],L[0]=ye,L[1]=Zt,L[2]=de,L[3]=he,L[4]=le,L[5]=Me,L[6]=We,L[7]=Ye,L[8]=ke,L[9]=nn,L[10]=Re,L[11]=hn,L[12]=ye*pn+le*on+ke*mn+St[12],L[13]=Zt*pn+Me*on+nn*mn+St[13],L[14]=de*pn+We*on+Re*mn+St[14],L[15]=he*pn+Ye*on+hn*mn+St[15]),L}function Mt(L,St,$t){var ye=$t[0],Zt=$t[1],de=$t[2];return L[0]=St[0]*ye,L[1]=St[1]*ye,L[2]=St[2]*ye,L[3]=St[3]*ye,L[4]=St[4]*Zt,L[5]=St[5]*Zt,L[6]=St[6]*Zt,L[7]=St[7]*Zt,L[8]=St[8]*de,L[9]=St[9]*de,L[10]=St[10]*de,L[11]=St[11]*de,L[12]=St[12],L[13]=St[13],L[14]=St[14],L[15]=St[15],L}function bt(L,St,$t,ye){var Zt,de,he,le,Me,We,Ye,ke,nn,Re,hn,pn,on,mn,jn,Ie,fe,Ne,Fe,rn,ln,_e,dn,En,tr=ye[0],Pn=ye[1],Fn=ye[2],Cr=Math.hypot(tr,Pn,Fn);return Cr<c.b?null:(tr*=Cr=1/Cr,Pn*=Cr,Fn*=Cr,Zt=Math.sin($t),he=1-(de=Math.cos($t)),le=St[0],Me=St[1],We=St[2],Ye=St[3],ke=St[4],nn=St[5],Re=St[6],hn=St[7],pn=St[8],on=St[9],mn=St[10],jn=St[11],Ie=tr*tr*he+de,fe=Pn*tr*he+Fn*Zt,Ne=Fn*tr*he-Pn*Zt,Fe=tr*Pn*he-Fn*Zt,rn=Pn*Pn*he+de,ln=Fn*Pn*he+tr*Zt,_e=tr*Fn*he+Pn*Zt,dn=Pn*Fn*he-tr*Zt,En=Fn*Fn*he+de,L[0]=le*Ie+ke*fe+pn*Ne,L[1]=Me*Ie+nn*fe+on*Ne,L[2]=We*Ie+Re*fe+mn*Ne,L[3]=Ye*Ie+hn*fe+jn*Ne,L[4]=le*Fe+ke*rn+pn*ln,L[5]=Me*Fe+nn*rn+on*ln,L[6]=We*Fe+Re*rn+mn*ln,L[7]=Ye*Fe+hn*rn+jn*ln,L[8]=le*_e+ke*dn+pn*En,L[9]=Me*_e+nn*dn+on*En,L[10]=We*_e+Re*dn+mn*En,L[11]=Ye*_e+hn*dn+jn*En,St!==L&&(L[12]=St[12],L[13]=St[13],L[14]=St[14],L[15]=St[15]),L)}function xt(L,St,$t){var ye=Math.sin($t),Zt=Math.cos($t),de=St[4],he=St[5],le=St[6],Me=St[7],We=St[8],Ye=St[9],ke=St[10],nn=St[11];return St!==L&&(L[0]=St[0],L[1]=St[1],L[2]=St[2],L[3]=St[3],L[12]=St[12],L[13]=St[13],L[14]=St[14],L[15]=St[15]),L[4]=de*Zt+We*ye,L[5]=he*Zt+Ye*ye,L[6]=le*Zt+ke*ye,L[7]=Me*Zt+nn*ye,L[8]=We*Zt-de*ye,L[9]=Ye*Zt-he*ye,L[10]=ke*Zt-le*ye,L[11]=nn*Zt-Me*ye,L}function Ot(L,St,$t){var ye=Math.sin($t),Zt=Math.cos($t),de=St[0],he=St[1],le=St[2],Me=St[3],We=St[8],Ye=St[9],ke=St[10],nn=St[11];return St!==L&&(L[4]=St[4],L[5]=St[5],L[6]=St[6],L[7]=St[7],L[12]=St[12],L[13]=St[13],L[14]=St[14],L[15]=St[15]),L[0]=de*Zt-We*ye,L[1]=he*Zt-Ye*ye,L[2]=le*Zt-ke*ye,L[3]=Me*Zt-nn*ye,L[8]=de*ye+We*Zt,L[9]=he*ye+Ye*Zt,L[10]=le*ye+ke*Zt,L[11]=Me*ye+nn*Zt,L}function jt(L,St,$t){var ye=Math.sin($t),Zt=Math.cos($t),de=St[0],he=St[1],le=St[2],Me=St[3],We=St[4],Ye=St[5],ke=St[6],nn=St[7];return St!==L&&(L[8]=St[8],L[9]=St[9],L[10]=St[10],L[11]=St[11],L[12]=St[12],L[13]=St[13],L[14]=St[14],L[15]=St[15]),L[0]=de*Zt+We*ye,L[1]=he*Zt+Ye*ye,L[2]=le*Zt+ke*ye,L[3]=Me*Zt+nn*ye,L[4]=We*Zt-de*ye,L[5]=Ye*Zt-he*ye,L[6]=ke*Zt-le*ye,L[7]=nn*Zt-Me*ye,L}function Dt(L,St){return L[0]=1,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=1,L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[10]=1,L[11]=0,L[12]=St[0],L[13]=St[1],L[14]=St[2],L[15]=1,L}function zt(L,St){return L[0]=St[0],L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=St[1],L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[10]=St[2],L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L}function Tt(L,St,$t){var ye,Zt,de,he=$t[0],le=$t[1],Me=$t[2],We=Math.hypot(he,le,Me);return We<c.b?null:(he*=We=1/We,le*=We,Me*=We,ye=Math.sin(St),de=1-(Zt=Math.cos(St)),L[0]=he*he*de+Zt,L[1]=le*he*de+Me*ye,L[2]=Me*he*de-le*ye,L[3]=0,L[4]=he*le*de-Me*ye,L[5]=le*le*de+Zt,L[6]=Me*le*de+he*ye,L[7]=0,L[8]=he*Me*de+le*ye,L[9]=le*Me*de-he*ye,L[10]=Me*Me*de+Zt,L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L)}function Vt(L,St){var $t=Math.sin(St),ye=Math.cos(St);return L[0]=1,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=ye,L[6]=$t,L[7]=0,L[8]=0,L[9]=-$t,L[10]=ye,L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L}function Ht(L,St){var $t=Math.sin(St),ye=Math.cos(St);return L[0]=ye,L[1]=0,L[2]=-$t,L[3]=0,L[4]=0,L[5]=1,L[6]=0,L[7]=0,L[8]=$t,L[9]=0,L[10]=ye,L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L}function re(L,St){var $t=Math.sin(St),ye=Math.cos(St);return L[0]=ye,L[1]=$t,L[2]=0,L[3]=0,L[4]=-$t,L[5]=ye,L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[10]=1,L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L}function pe(L,St,$t){var ye=St[0],Zt=St[1],de=St[2],he=St[3],le=ye+ye,Me=Zt+Zt,We=de+de,Ye=ye*le,ke=ye*Me,nn=ye*We,Re=Zt*Me,hn=Zt*We,pn=de*We,on=he*le,mn=he*Me,jn=he*We;return L[0]=1-(Re+pn),L[1]=ke+jn,L[2]=nn-mn,L[3]=0,L[4]=ke-jn,L[5]=1-(Ye+pn),L[6]=hn+on,L[7]=0,L[8]=nn+mn,L[9]=hn-on,L[10]=1-(Ye+Re),L[11]=0,L[12]=$t[0],L[13]=$t[1],L[14]=$t[2],L[15]=1,L}function me(L,St){var $t=new c.a(3),ye=-St[0],Zt=-St[1],de=-St[2],he=St[3],le=St[4],Me=St[5],We=St[6],Ye=St[7],ke=ye*ye+Zt*Zt+de*de+he*he;return ke>0?($t[0]=2*(le*he+Ye*ye+Me*de-We*Zt)/ke,$t[1]=2*(Me*he+Ye*Zt+We*ye-le*de)/ke,$t[2]=2*(We*he+Ye*de+le*Zt-Me*ye)/ke):($t[0]=2*(le*he+Ye*ye+Me*de-We*Zt),$t[1]=2*(Me*he+Ye*Zt+We*ye-le*de),$t[2]=2*(We*he+Ye*de+le*Zt-Me*ye)),pe(L,St,$t),L}function Ee(L,St){return L[0]=St[12],L[1]=St[13],L[2]=St[14],L}function Le(L,St){var $t=St[0],ye=St[1],Zt=St[2],de=St[4],he=St[5],le=St[6],Me=St[8],We=St[9],Ye=St[10];return L[0]=Math.hypot($t,ye,Zt),L[1]=Math.hypot(de,he,le),L[2]=Math.hypot(Me,We,Ye),L}function Je(L,St){var $t=new c.a(3);Le($t,St);var ye=1/$t[0],Zt=1/$t[1],de=1/$t[2],he=St[0]*ye,le=St[1]*Zt,Me=St[2]*de,We=St[4]*ye,Ye=St[5]*Zt,ke=St[6]*de,nn=St[8]*ye,Re=St[9]*Zt,hn=St[10]*de,pn=he+Ye+hn,on=0;return pn>0?(on=2*Math.sqrt(pn+1),L[3]=.25*on,L[0]=(ke-Re)/on,L[1]=(nn-Me)/on,L[2]=(le-We)/on):he>Ye&&he>hn?(on=2*Math.sqrt(1+he-Ye-hn),L[3]=(ke-Re)/on,L[0]=.25*on,L[1]=(le+We)/on,L[2]=(nn+Me)/on):Ye>hn?(on=2*Math.sqrt(1+Ye-he-hn),L[3]=(nn-Me)/on,L[0]=(le+We)/on,L[1]=.25*on,L[2]=(ke+Re)/on):(on=2*Math.sqrt(1+hn-he-Ye),L[3]=(le-We)/on,L[0]=(nn+Me)/on,L[1]=(ke+Re)/on,L[2]=.25*on),L}function On(L,St,$t,ye){var Zt=St[0],de=St[1],he=St[2],le=St[3],Me=Zt+Zt,We=de+de,Ye=he+he,ke=Zt*Me,nn=Zt*We,Re=Zt*Ye,hn=de*We,pn=de*Ye,on=he*Ye,mn=le*Me,jn=le*We,Ie=le*Ye,fe=ye[0],Ne=ye[1],Fe=ye[2];return L[0]=(1-(hn+on))*fe,L[1]=(nn+Ie)*fe,L[2]=(Re-jn)*fe,L[3]=0,L[4]=(nn-Ie)*Ne,L[5]=(1-(ke+on))*Ne,L[6]=(pn+mn)*Ne,L[7]=0,L[8]=(Re+jn)*Fe,L[9]=(pn-mn)*Fe,L[10]=(1-(ke+hn))*Fe,L[11]=0,L[12]=$t[0],L[13]=$t[1],L[14]=$t[2],L[15]=1,L}function gn(L,St,$t,ye,Zt){var de=St[0],he=St[1],le=St[2],Me=St[3],We=de+de,Ye=he+he,ke=le+le,nn=de*We,Re=de*Ye,hn=de*ke,pn=he*Ye,on=he*ke,mn=le*ke,jn=Me*We,Ie=Me*Ye,fe=Me*ke,Ne=ye[0],Fe=ye[1],rn=ye[2],ln=Zt[0],_e=Zt[1],dn=Zt[2],En=(1-(pn+mn))*Ne,tr=(Re+fe)*Ne,Pn=(hn-Ie)*Ne,Fn=(Re-fe)*Fe,Cr=(1-(nn+mn))*Fe,fi=(on+jn)*Fe,ri=(hn+Ie)*rn,zr=(on-jn)*rn,wi=(1-(nn+pn))*rn;return L[0]=En,L[1]=tr,L[2]=Pn,L[3]=0,L[4]=Fn,L[5]=Cr,L[6]=fi,L[7]=0,L[8]=ri,L[9]=zr,L[10]=wi,L[11]=0,L[12]=$t[0]+ln-(En*ln+Fn*_e+ri*dn),L[13]=$t[1]+_e-(tr*ln+Cr*_e+zr*dn),L[14]=$t[2]+dn-(Pn*ln+fi*_e+wi*dn),L[15]=1,L}function Vn(L,St){var $t=St[0],ye=St[1],Zt=St[2],de=St[3],he=$t+$t,le=ye+ye,Me=Zt+Zt,We=$t*he,Ye=ye*he,ke=ye*le,nn=Zt*he,Re=Zt*le,hn=Zt*Me,pn=de*he,on=de*le,mn=de*Me;return L[0]=1-ke-hn,L[1]=Ye+mn,L[2]=nn-on,L[3]=0,L[4]=Ye-mn,L[5]=1-We-hn,L[6]=Re+pn,L[7]=0,L[8]=nn+on,L[9]=Re-pn,L[10]=1-We-ke,L[11]=0,L[12]=0,L[13]=0,L[14]=0,L[15]=1,L}function kn(L,St,$t,ye,Zt,de,he){var le=1/($t-St),Me=1/(Zt-ye),We=1/(de-he);return L[0]=2*de*le,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=2*de*Me,L[6]=0,L[7]=0,L[8]=($t+St)*le,L[9]=(Zt+ye)*Me,L[10]=(he+de)*We,L[11]=-1,L[12]=0,L[13]=0,L[14]=he*de*2*We,L[15]=0,L}function Wn(L,St,$t,ye,Zt){var de,he=1/Math.tan(St/2);return L[0]=he/$t,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=he,L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[11]=-1,L[12]=0,L[13]=0,L[15]=0,Zt!=null&&Zt!==1/0?(de=1/(ye-Zt),L[10]=(Zt+ye)*de,L[14]=2*Zt*ye*de):(L[10]=-1,L[14]=-2*ye),L}function Dn(L,St,$t,ye){var Zt=Math.tan(St.upDegrees*Math.PI/180),de=Math.tan(St.downDegrees*Math.PI/180),he=Math.tan(St.leftDegrees*Math.PI/180),le=Math.tan(St.rightDegrees*Math.PI/180),Me=2/(he+le),We=2/(Zt+de);return L[0]=Me,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=We,L[6]=0,L[7]=0,L[8]=-(he-le)*Me*.5,L[9]=(Zt-de)*We*.5,L[10]=ye/($t-ye),L[11]=-1,L[12]=0,L[13]=0,L[14]=ye*$t/($t-ye),L[15]=0,L}function Nn(L,St,$t,ye,Zt,de,he){var le=1/(St-$t),Me=1/(ye-Zt),We=1/(de-he);return L[0]=-2*le,L[1]=0,L[2]=0,L[3]=0,L[4]=0,L[5]=-2*Me,L[6]=0,L[7]=0,L[8]=0,L[9]=0,L[10]=2*We,L[11]=0,L[12]=(St+$t)*le,L[13]=(Zt+ye)*Me,L[14]=(he+de)*We,L[15]=1,L}function Qn(L,St,$t,ye){var Zt,de,he,le,Me,We,Ye,ke,nn,Re,hn=St[0],pn=St[1],on=St[2],mn=ye[0],jn=ye[1],Ie=ye[2],fe=$t[0],Ne=$t[1],Fe=$t[2];return Math.abs(hn-fe)<c.b&&Math.abs(pn-Ne)<c.b&&Math.abs(on-Fe)<c.b?p(L):(Ye=hn-fe,ke=pn-Ne,nn=on-Fe,Zt=jn*(nn*=Re=1/Math.hypot(Ye,ke,nn))-Ie*(ke*=Re),de=Ie*(Ye*=Re)-mn*nn,he=mn*ke-jn*Ye,(Re=Math.hypot(Zt,de,he))?(Zt*=Re=1/Re,de*=Re,he*=Re):(Zt=0,de=0,he=0),le=ke*he-nn*de,Me=nn*Zt-Ye*he,We=Ye*de-ke*Zt,(Re=Math.hypot(le,Me,We))?(le*=Re=1/Re,Me*=Re,We*=Re):(le=0,Me=0,We=0),L[0]=Zt,L[1]=le,L[2]=Ye,L[3]=0,L[4]=de,L[5]=Me,L[6]=ke,L[7]=0,L[8]=he,L[9]=We,L[10]=nn,L[11]=0,L[12]=-(Zt*hn+de*pn+he*on),L[13]=-(le*hn+Me*pn+We*on),L[14]=-(Ye*hn+ke*pn+nn*on),L[15]=1,L)}function ir(L,St,$t,ye){var Zt=St[0],de=St[1],he=St[2],le=ye[0],Me=ye[1],We=ye[2],Ye=Zt-$t[0],ke=de-$t[1],nn=he-$t[2],Re=Ye*Ye+ke*ke+nn*nn;Re>0&&(Ye*=Re=1/Math.sqrt(Re),ke*=Re,nn*=Re);var hn=Me*nn-We*ke,pn=We*Ye-le*nn,on=le*ke-Me*Ye;return(Re=hn*hn+pn*pn+on*on)>0&&(hn*=Re=1/Math.sqrt(Re),pn*=Re,on*=Re),L[0]=hn,L[1]=pn,L[2]=on,L[3]=0,L[4]=ke*on-nn*pn,L[5]=nn*hn-Ye*on,L[6]=Ye*pn-ke*hn,L[7]=0,L[8]=Ye,L[9]=ke,L[10]=nn,L[11]=0,L[12]=Zt,L[13]=de,L[14]=he,L[15]=1,L}function hr(L){return"mat4("+L[0]+", "+L[1]+", "+L[2]+", "+L[3]+", "+L[4]+", "+L[5]+", "+L[6]+", "+L[7]+", "+L[8]+", "+L[9]+", "+L[10]+", "+L[11]+", "+L[12]+", "+L[13]+", "+L[14]+", "+L[15]+")"}function Er(L){return Math.hypot(L[0],L[1],L[2],L[3],L[4],L[5],L[6],L[7],L[8],L[9],L[10],L[11],L[12],L[13],L[14],L[15])}function mr(L,St,$t){return L[0]=St[0]+$t[0],L[1]=St[1]+$t[1],L[2]=St[2]+$t[2],L[3]=St[3]+$t[3],L[4]=St[4]+$t[4],L[5]=St[5]+$t[5],L[6]=St[6]+$t[6],L[7]=St[7]+$t[7],L[8]=St[8]+$t[8],L[9]=St[9]+$t[9],L[10]=St[10]+$t[10],L[11]=St[11]+$t[11],L[12]=St[12]+$t[12],L[13]=St[13]+$t[13],L[14]=St[14]+$t[14],L[15]=St[15]+$t[15],L}function dr(L,St,$t){return L[0]=St[0]-$t[0],L[1]=St[1]-$t[1],L[2]=St[2]-$t[2],L[3]=St[3]-$t[3],L[4]=St[4]-$t[4],L[5]=St[5]-$t[5],L[6]=St[6]-$t[6],L[7]=St[7]-$t[7],L[8]=St[8]-$t[8],L[9]=St[9]-$t[9],L[10]=St[10]-$t[10],L[11]=St[11]-$t[11],L[12]=St[12]-$t[12],L[13]=St[13]-$t[13],L[14]=St[14]-$t[14],L[15]=St[15]-$t[15],L}function Br(L,St,$t){return L[0]=St[0]*$t,L[1]=St[1]*$t,L[2]=St[2]*$t,L[3]=St[3]*$t,L[4]=St[4]*$t,L[5]=St[5]*$t,L[6]=St[6]*$t,L[7]=St[7]*$t,L[8]=St[8]*$t,L[9]=St[9]*$t,L[10]=St[10]*$t,L[11]=St[11]*$t,L[12]=St[12]*$t,L[13]=St[13]*$t,L[14]=St[14]*$t,L[15]=St[15]*$t,L}function ii(L,St,$t,ye){return L[0]=St[0]+$t[0]*ye,L[1]=St[1]+$t[1]*ye,L[2]=St[2]+$t[2]*ye,L[3]=St[3]+$t[3]*ye,L[4]=St[4]+$t[4]*ye,L[5]=St[5]+$t[5]*ye,L[6]=St[6]+$t[6]*ye,L[7]=St[7]+$t[7]*ye,L[8]=St[8]+$t[8]*ye,L[9]=St[9]+$t[9]*ye,L[10]=St[10]+$t[10]*ye,L[11]=St[11]+$t[11]*ye,L[12]=St[12]+$t[12]*ye,L[13]=St[13]+$t[13]*ye,L[14]=St[14]+$t[14]*ye,L[15]=St[15]+$t[15]*ye,L}function mi(L,St){return L[0]===St[0]&&L[1]===St[1]&&L[2]===St[2]&&L[3]===St[3]&&L[4]===St[4]&&L[5]===St[5]&&L[6]===St[6]&&L[7]===St[7]&&L[8]===St[8]&&L[9]===St[9]&&L[10]===St[10]&&L[11]===St[11]&&L[12]===St[12]&&L[13]===St[13]&&L[14]===St[14]&&L[15]===St[15]}function Pi(L,St){var $t=L[0],ye=L[1],Zt=L[2],de=L[3],he=L[4],le=L[5],Me=L[6],We=L[7],Ye=L[8],ke=L[9],nn=L[10],Re=L[11],hn=L[12],pn=L[13],on=L[14],mn=L[15],jn=St[0],Ie=St[1],fe=St[2],Ne=St[3],Fe=St[4],rn=St[5],ln=St[6],_e=St[7],dn=St[8],En=St[9],tr=St[10],Pn=St[11],Fn=St[12],Cr=St[13],fi=St[14],ri=St[15];return Math.abs($t-jn)<=c.b*Math.max(1,Math.abs($t),Math.abs(jn))&&Math.abs(ye-Ie)<=c.b*Math.max(1,Math.abs(ye),Math.abs(Ie))&&Math.abs(Zt-fe)<=c.b*Math.max(1,Math.abs(Zt),Math.abs(fe))&&Math.abs(de-Ne)<=c.b*Math.max(1,Math.abs(de),Math.abs(Ne))&&Math.abs(he-Fe)<=c.b*Math.max(1,Math.abs(he),Math.abs(Fe))&&Math.abs(le-rn)<=c.b*Math.max(1,Math.abs(le),Math.abs(rn))&&Math.abs(Me-ln)<=c.b*Math.max(1,Math.abs(Me),Math.abs(ln))&&Math.abs(We-_e)<=c.b*Math.max(1,Math.abs(We),Math.abs(_e))&&Math.abs(Ye-dn)<=c.b*Math.max(1,Math.abs(Ye),Math.abs(dn))&&Math.abs(ke-En)<=c.b*Math.max(1,Math.abs(ke),Math.abs(En))&&Math.abs(nn-tr)<=c.b*Math.max(1,Math.abs(nn),Math.abs(tr))&&Math.abs(Re-Pn)<=c.b*Math.max(1,Math.abs(Re),Math.abs(Pn))&&Math.abs(hn-Fn)<=c.b*Math.max(1,Math.abs(hn),Math.abs(Fn))&&Math.abs(pn-Cr)<=c.b*Math.max(1,Math.abs(pn),Math.abs(Cr))&&Math.abs(on-fi)<=c.b*Math.max(1,Math.abs(on),Math.abs(fi))&&Math.abs(mn-ri)<=c.b*Math.max(1,Math.abs(mn),Math.abs(ri))}var sa=st,Pa=dr,Mi=t(40);function Ki(){var L=new c.a(4);return c.a!=Float32Array&&(L[0]=0,L[1]=0,L[2]=0,L[3]=0),L}function fa(L){var St=new c.a(4);return St[0]=L[0],St[1]=L[1],St[2]=L[2],St[3]=L[3],St}function oa(L,St,$t,ye){var Zt=new c.a(4);return Zt[0]=L,Zt[1]=St,Zt[2]=$t,Zt[3]=ye,Zt}function pa(L,St){return L[0]=St[0],L[1]=St[1],L[2]=St[2],L[3]=St[3],L}function La(L,St,$t,ye,Zt){return L[0]=St,L[1]=$t,L[2]=ye,L[3]=Zt,L}function Yr(L,St,$t){return L[0]=St[0]+$t[0],L[1]=St[1]+$t[1],L[2]=St[2]+$t[2],L[3]=St[3]+$t[3],L}function Ea(L,St,$t){return L[0]=St[0]-$t[0],L[1]=St[1]-$t[1],L[2]=St[2]-$t[2],L[3]=St[3]-$t[3],L}function Pr(L,St,$t){return L[0]=St[0]*$t[0],L[1]=St[1]*$t[1],L[2]=St[2]*$t[2],L[3]=St[3]*$t[3],L}function si(L,St,$t){return L[0]=St[0]/$t[0],L[1]=St[1]/$t[1],L[2]=St[2]/$t[2],L[3]=St[3]/$t[3],L}function ti(L,St){return L[0]=Math.ceil(St[0]),L[1]=Math.ceil(St[1]),L[2]=Math.ceil(St[2]),L[3]=Math.ceil(St[3]),L}function $r(L,St){return L[0]=Math.floor(St[0]),L[1]=Math.floor(St[1]),L[2]=Math.floor(St[2]),L[3]=Math.floor(St[3]),L}function ui(L,St,$t){return L[0]=Math.min(St[0],$t[0]),L[1]=Math.min(St[1],$t[1]),L[2]=Math.min(St[2],$t[2]),L[3]=Math.min(St[3],$t[3]),L}function li(L,St,$t){return L[0]=Math.max(St[0],$t[0]),L[1]=Math.max(St[1],$t[1]),L[2]=Math.max(St[2],$t[2]),L[3]=Math.max(St[3],$t[3]),L}function xi(L,St){return L[0]=Math.round(St[0]),L[1]=Math.round(St[1]),L[2]=Math.round(St[2]),L[3]=Math.round(St[3]),L}function Ci(L,St,$t){return L[0]=St[0]*$t,L[1]=St[1]*$t,L[2]=St[2]*$t,L[3]=St[3]*$t,L}function di(L,St,$t,ye){return L[0]=St[0]+$t[0]*ye,L[1]=St[1]+$t[1]*ye,L[2]=St[2]+$t[2]*ye,L[3]=St[3]+$t[3]*ye,L}function Ti(L,St){var $t=St[0]-L[0],ye=St[1]-L[1],Zt=St[2]-L[2],de=St[3]-L[3];return Math.hypot($t,ye,Zt,de)}function pi(L,St){var $t=St[0]-L[0],ye=St[1]-L[1],Zt=St[2]-L[2],de=St[3]-L[3];return $t*$t+ye*ye+Zt*Zt+de*de}function Ni(L){var St=L[0],$t=L[1],ye=L[2],Zt=L[3];return Math.hypot(St,$t,ye,Zt)}function Bi(L){var St=L[0],$t=L[1],ye=L[2],Zt=L[3];return St*St+$t*$t+ye*ye+Zt*Zt}function Fi(L,St){return L[0]=-St[0],L[1]=-St[1],L[2]=-St[2],L[3]=-St[3],L}function ma(L,St){return L[0]=1/St[0],L[1]=1/St[1],L[2]=1/St[2],L[3]=1/St[3],L}function ua(L,St){var $t=St[0],ye=St[1],Zt=St[2],de=St[3],he=$t*$t+ye*ye+Zt*Zt+de*de;return he>0&&(he=1/Math.sqrt(he)),L[0]=$t*he,L[1]=ye*he,L[2]=Zt*he,L[3]=de*he,L}function Ra(L,St){return L[0]*St[0]+L[1]*St[1]+L[2]*St[2]+L[3]*St[3]}function xa(L,St,$t,ye){var Zt=$t[0]*ye[1]-$t[1]*ye[0],de=$t[0]*ye[2]-$t[2]*ye[0],he=$t[0]*ye[3]-$t[3]*ye[0],le=$t[1]*ye[2]-$t[2]*ye[1],Me=$t[1]*ye[3]-$t[3]*ye[1],We=$t[2]*ye[3]-$t[3]*ye[2],Ye=St[0],ke=St[1],nn=St[2],Re=St[3];return L[0]=ke*We-nn*Me+Re*le,L[1]=-Ye*We+nn*he-Re*de,L[2]=Ye*Me-ke*he+Re*Zt,L[3]=-Ye*le+ke*de-nn*Zt,L}function Ma(L,St,$t,ye){var Zt=St[0],de=St[1],he=St[2],le=St[3];return L[0]=Zt+ye*($t[0]-Zt),L[1]=de+ye*($t[1]-de),L[2]=he+ye*($t[2]-he),L[3]=le+ye*($t[3]-le),L}function Qi(L,St){var $t,ye,Zt,de,he,le;St=St||1;do he=($t=2*c.c()-1)*$t+(ye=2*c.c()-1)*ye;while(he>=1);do le=(Zt=2*c.c()-1)*Zt+(de=2*c.c()-1)*de;while(le>=1);var Me=Math.sqrt((1-he)/le);return L[0]=St*$t,L[1]=St*ye,L[2]=St*Zt*Me,L[3]=St*de*Me,L}function ka(L,St,$t){var ye=St[0],Zt=St[1],de=St[2],he=St[3];return L[0]=$t[0]*ye+$t[4]*Zt+$t[8]*de+$t[12]*he,L[1]=$t[1]*ye+$t[5]*Zt+$t[9]*de+$t[13]*he,L[2]=$t[2]*ye+$t[6]*Zt+$t[10]*de+$t[14]*he,L[3]=$t[3]*ye+$t[7]*Zt+$t[11]*de+$t[15]*he,L}function vo(L,St,$t){var ye=St[0],Zt=St[1],de=St[2],he=$t[0],le=$t[1],Me=$t[2],We=$t[3],Ye=We*ye+le*de-Me*Zt,ke=We*Zt+Me*ye-he*de,nn=We*de+he*Zt-le*ye,Re=-he*ye-le*Zt-Me*de;return L[0]=Ye*We+Re*-he+ke*-Me-nn*-le,L[1]=ke*We+Re*-le+nn*-he-Ye*-Me,L[2]=nn*We+Re*-Me+Ye*-le-ke*-he,L[3]=St[3],L}function za(L){return L[0]=0,L[1]=0,L[2]=0,L[3]=0,L}function Ga(L){return"vec4("+L[0]+", "+L[1]+", "+L[2]+", "+L[3]+")"}function eo(L,St){return L[0]===St[0]&&L[1]===St[1]&&L[2]===St[2]&&L[3]===St[3]}function ae(L,St){var $t=L[0],ye=L[1],Zt=L[2],de=L[3],he=St[0],le=St[1],Me=St[2],We=St[3];return Math.abs($t-he)<=c.b*Math.max(1,Math.abs($t),Math.abs(he))&&Math.abs(ye-le)<=c.b*Math.max(1,Math.abs(ye),Math.abs(le))&&Math.abs(Zt-Me)<=c.b*Math.max(1,Math.abs(Zt),Math.abs(Me))&&Math.abs(de-We)<=c.b*Math.max(1,Math.abs(de),Math.abs(We))}var Kt,te=Ea,Oe=Pr,Ze=si,An=Ti,qn=pi,rr=Ni,tn=Bi,sn=(Kt=Ki(),function(L,St,$t,ye,Zt,de){var he,le;for(St||(St=4),$t||($t=0),le=ye?Math.min(ye*St+$t,L.length):L.length,he=$t;he<le;he+=St)Kt[0]=L[he],Kt[1]=L[he+1],Kt[2]=L[he+2],Kt[3]=L[he+3],Zt(Kt,Kt,de),L[he]=Kt[0],L[he+1]=Kt[1],L[he+2]=Kt[2],L[he+3]=Kt[3];return L});function un(){var L=new c.a(4);return c.a!=Float32Array&&(L[0]=0,L[1]=0,L[2]=0),L[3]=1,L}function ur(L){return L[0]=0,L[1]=0,L[2]=0,L[3]=1,L}function jr(L,St,$t){$t*=.5;var ye=Math.sin($t);return L[0]=ye*St[0],L[1]=ye*St[1],L[2]=ye*St[2],L[3]=Math.cos($t),L}function wr(L,St){var $t=2*Math.acos(St[3]),ye=Math.sin($t/2);return ye>c.b?(L[0]=St[0]/ye,L[1]=St[1]/ye,L[2]=St[2]/ye):(L[0]=1,L[1]=0,L[2]=0),$t}function yr(L,St){var $t=cn(L,St);return Math.acos(2*$t*$t-1)}function ni(L,St,$t){var ye=St[0],Zt=St[1],de=St[2],he=St[3],le=$t[0],Me=$t[1],We=$t[2],Ye=$t[3];return L[0]=ye*Ye+he*le+Zt*We-de*Me,L[1]=Zt*Ye+he*Me+de*le-ye*We,L[2]=de*Ye+he*We+ye*Me-Zt*le,L[3]=he*Ye-ye*le-Zt*Me-de*We,L}function _r(L,St,$t){$t*=.5;var ye=St[0],Zt=St[1],de=St[2],he=St[3],le=Math.sin($t),Me=Math.cos($t);return L[0]=ye*Me+he*le,L[1]=Zt*Me+de*le,L[2]=de*Me-Zt*le,L[3]=he*Me-ye*le,L}function Fr(L,St,$t){$t*=.5;var ye=St[0],Zt=St[1],de=St[2],he=St[3],le=Math.sin($t),Me=Math.cos($t);return L[0]=ye*Me-de*le,L[1]=Zt*Me+he*le,L[2]=de*Me+ye*le,L[3]=he*Me-Zt*le,L}function Lr(L,St,$t){$t*=.5;var ye=St[0],Zt=St[1],de=St[2],he=St[3],le=Math.sin($t),Me=Math.cos($t);return L[0]=ye*Me+Zt*le,L[1]=Zt*Me-ye*le,L[2]=de*Me+he*le,L[3]=he*Me-de*le,L}function Gr(L,St){var $t=St[0],ye=St[1],Zt=St[2];return L[0]=$t,L[1]=ye,L[2]=Zt,L[3]=Math.sqrt(Math.abs(1-$t*$t-ye*ye-Zt*Zt)),L}function Hr(L,St){var $t=St[0],ye=St[1],Zt=St[2],de=St[3],he=Math.sqrt($t*$t+ye*ye+Zt*Zt),le=Math.exp(de),Me=he>0?le*Math.sin(he)/he:0;return L[0]=$t*Me,L[1]=ye*Me,L[2]=Zt*Me,L[3]=le*Math.cos(he),L}function ei(L,St){var $t=St[0],ye=St[1],Zt=St[2],de=St[3],he=Math.sqrt($t*$t+ye*ye+Zt*Zt),le=he>0?Math.atan2(he,de)/he:0;return L[0]=$t*le,L[1]=ye*le,L[2]=Zt*le,L[3]=.5*Math.log($t*$t+ye*ye+Zt*Zt+de*de),L}function Kr(L,St,$t){return ei(L,St),we(L,L,$t),Hr(L,L),L}function Qr(L,St,$t,ye){var Zt,de,he,le,Me,We=St[0],Ye=St[1],ke=St[2],nn=St[3],Re=$t[0],hn=$t[1],pn=$t[2],on=$t[3];return(de=We*Re+Ye*hn+ke*pn+nn*on)<0&&(de=-de,Re=-Re,hn=-hn,pn=-pn,on=-on),1-de>c.b?(Zt=Math.acos(de),he=Math.sin(Zt),le=Math.sin((1-ye)*Zt)/he,Me=Math.sin(ye*Zt)/he):(le=1-ye,Me=ye),L[0]=le*We+Me*Re,L[1]=le*Ye+Me*hn,L[2]=le*ke+Me*pn,L[3]=le*nn+Me*on,L}function Oi(L){var St=c.c(),$t=c.c(),ye=c.c(),Zt=Math.sqrt(1-St),de=Math.sqrt(St);return L[0]=Zt*Math.sin(2*Math.PI*$t),L[1]=Zt*Math.cos(2*Math.PI*$t),L[2]=de*Math.sin(2*Math.PI*ye),L[3]=de*Math.cos(2*Math.PI*ye),L}function Ri(L,St){var $t=St[0],ye=St[1],Zt=St[2],de=St[3],he=$t*$t+ye*ye+Zt*Zt+de*de,le=he?1/he:0;return L[0]=-$t*le,L[1]=-ye*le,L[2]=-Zt*le,L[3]=de*le,L}function Ei(L,St){return L[0]=-St[0],L[1]=-St[1],L[2]=-St[2],L[3]=St[3],L}function Gi(L,St){var $t,ye=St[0]+St[4]+St[8];if(ye>0)$t=Math.sqrt(ye+1),L[3]=.5*$t,$t=.5/$t,L[0]=(St[5]-St[7])*$t,L[1]=(St[6]-St[2])*$t,L[2]=(St[1]-St[3])*$t;else{var Zt=0;St[4]>St[0]&&(Zt=1),St[8]>St[3*Zt+Zt]&&(Zt=2);var de=(Zt+1)%3,he=(Zt+2)%3;$t=Math.sqrt(St[3*Zt+Zt]-St[3*de+de]-St[3*he+he]+1),L[Zt]=.5*$t,$t=.5/$t,L[3]=(St[3*de+he]-St[3*he+de])*$t,L[de]=(St[3*de+Zt]+St[3*Zt+de])*$t,L[he]=(St[3*he+Zt]+St[3*Zt+he])*$t}return L}function ca(L,St,$t,ye){var Zt=.5*Math.PI/180;St*=Zt,$t*=Zt,ye*=Zt;var de=Math.sin(St),he=Math.cos(St),le=Math.sin($t),Me=Math.cos($t),We=Math.sin(ye),Ye=Math.cos(ye);return L[0]=de*Me*Ye-he*le*We,L[1]=he*le*Ye+de*Me*We,L[2]=he*Me*We-de*le*Ye,L[3]=he*Me*Ye+de*le*We,L}function ha(L){return"quat("+L[0]+", "+L[1]+", "+L[2]+", "+L[3]+")"}var na,Zi,ve,U,G,nt,vt=fa,Gt=oa,Jt=pa,ie=La,ue=Yr,Ce=ni,we=Ci,cn=Ra,Cn=Ma,_t=Ni,Xt=_t,Se=Bi,Wt=Se,ce=ua,yn=eo,Bn=ae,Zn=(na=Mi.create(),Zi=Mi.fromValues(1,0,0),ve=Mi.fromValues(0,1,0),function(L,St,$t){var ye=Mi.dot(St,$t);return ye<-.999999?(Mi.cross(na,Zi,St),Mi.len(na)<1e-6&&Mi.cross(na,ve,St),Mi.normalize(na,na),jr(L,na,Math.PI),L):ye>.999999?(L[0]=0,L[1]=0,L[2]=0,L[3]=1,L):(Mi.cross(na,St,$t),L[0]=na[0],L[1]=na[1],L[2]=na[2],L[3]=1+ye,ce(L,L))}),Kn=(U=un(),G=un(),function(L,St,$t,ye,Zt,de){return Qr(U,St,Zt,de),Qr(G,$t,ye,de),Qr(L,U,G,2*de*(1-de)),L}),$e=(nt=w(),function(L,St,$t,ye){return nt[0]=$t[0],nt[3]=$t[1],nt[6]=$t[2],nt[1]=ye[0],nt[4]=ye[1],nt[7]=ye[2],nt[2]=-St[0],nt[5]=-St[1],nt[8]=-St[2],ce(L,Gi(L,nt))}),je=t(80)},function(i,b){i.exports=function(t,n,u){return n in t?Object.defineProperty(t,n,{value:u,enumerable:!0,configurable:!0,writable:!0}):t[n]=u,t}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.METADATA_KEY=void 0;var n=t(32);b.METADATA_KEY=n;var u=t(446);Object.defineProperty(b,"Container",{enumerable:!0,get:function(){return u.Container}});var g=t(55);Object.defineProperty(b,"BindingScopeEnum",{enumerable:!0,get:function(){return g.BindingScopeEnum}}),Object.defineProperty(b,"BindingTypeEnum",{enumerable:!0,get:function(){return g.BindingTypeEnum}}),Object.defineProperty(b,"TargetTypeEnum",{enumerable:!0,get:function(){return g.TargetTypeEnum}});var x=t(462);Object.defineProperty(b,"AsyncContainerModule",{enumerable:!0,get:function(){return x.AsyncContainerModule}}),Object.defineProperty(b,"ContainerModule",{enumerable:!0,get:function(){return x.ContainerModule}});var c=t(463);Object.defineProperty(b,"injectable",{enumerable:!0,get:function(){return c.injectable}});var w=t(464);Object.defineProperty(b,"tagged",{enumerable:!0,get:function(){return w.tagged}});var I=t(465);Object.defineProperty(b,"named",{enumerable:!0,get:function(){return I.named}});var m=t(222);Object.defineProperty(b,"inject",{enumerable:!0,get:function(){return m.inject}}),Object.defineProperty(b,"LazyServiceIdentifer",{enumerable:!0,get:function(){return m.LazyServiceIdentifer}});var r=t(466);Object.defineProperty(b,"optional",{enumerable:!0,get:function(){return r.optional}});var s=t(467);Object.defineProperty(b,"unmanaged",{enumerable:!0,get:function(){return s.unmanaged}});var d=t(468);Object.defineProperty(b,"multiInject",{enumerable:!0,get:function(){return d.multiInject}});var C=t(469);Object.defineProperty(b,"targetName",{enumerable:!0,get:function(){return C.targetName}});var S=t(470);Object.defineProperty(b,"postConstruct",{enumerable:!0,get:function(){return S.postConstruct}});var A=t(220);Object.defineProperty(b,"MetadataReader",{enumerable:!0,get:function(){return A.MetadataReader}});var f=t(67);Object.defineProperty(b,"id",{enumerable:!0,get:function(){return f.id}});var O=t(59);Object.defineProperty(b,"decorate",{enumerable:!0,get:function(){return O.decorate}});var j=t(225);Object.defineProperty(b,"traverseAncerstors",{enumerable:!0,get:function(){return j.traverseAncerstors}}),Object.defineProperty(b,"taggedConstraint",{enumerable:!0,get:function(){return j.taggedConstraint}}),Object.defineProperty(b,"namedConstraint",{enumerable:!0,get:function(){return j.namedConstraint}}),Object.defineProperty(b,"typeConstraint",{enumerable:!0,get:function(){return j.typeConstraint}});var D=t(88);Object.defineProperty(b,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return D.getServiceIdentifierAsString}});var V=t(471);Object.defineProperty(b,"multiBindToService",{enumerable:!0,get:function(){return V.multiBindToService}})},function(i,b,t){"use strict";t.d(b,"i",function(){return jt}),t.d(b,"h",function(){return Gr}),t.d(b,"d",function(){return Hr}),t.d(b,"m",function(){return Kr}),t.d(b,"l",function(){return $r}),t.d(b,"g",function(){return ti}),t.d(b,"f",function(){return ui}),t.d(b,"j",function(){return Ze}),t.d(b,"k",function(){return ei}),t.d(b,"r",function(){return Gi}),t.d(b,"p",function(){return ha}),t.d(b,"b",function(){return qn}),t.d(b,"n",function(){return Oi}),t.d(b,"q",function(){return ca}),t.d(b,"o",function(){return na}),t.d(b,"c",function(){return Ri}),t.d(b,"a",function(){return Ei}),t.d(b,"e",function(){return Zi});var n={};t.r(n),t.d(n,"compare",function(){return A}),t.d(n,"getLineIntersect",function(){return O}),t.d(n,"getRectIntersectByPoint",function(){return j}),t.d(n,"getCircleIntersectByPoint",function(){return D}),t.d(n,"getEllipseIntersectByPoint",function(){return V}),t.d(n,"applyMatrix",function(){return H}),t.d(n,"invertMatrix",function(){return $}),t.d(n,"getCircleCenterByPoints",function(){return dt}),t.d(n,"distance",function(){return Z}),t.d(n,"scaleMatrix",function(){return ct}),t.d(n,"floydWarshall",function(){return pt}),t.d(n,"getAdjMatrix",function(){return gt}),t.d(n,"translate",function(){return at}),t.d(n,"move",function(){return Bt}),t.d(n,"scale",function(){return Lt}),t.d(n,"rotate",function(){return Et}),t.d(n,"getDegree",function(){return K}),t.d(n,"isPointInPolygon",function(){return mt}),t.d(n,"intersectBBox",function(){return yt}),t.d(n,"isPolygonsIntersect",function(){return wt}),t.d(n,"Line",function(){return J}),t.d(n,"getBBoxBoundLine",function(){return lt}),t.d(n,"itemIntersectByLine",function(){return _}),t.d(n,"fractionToLine",function(){return P}),t.d(n,"getPointsCenter",function(){return Q}),t.d(n,"squareDist",function(){return k}),t.d(n,"pointLineSquareDist",function(){return p}),t.d(n,"isPointsOverlap",function(){return y}),t.d(n,"pointRectSquareDist",function(){return B});var u={};t.r(u),t.d(u,"uniqueId",function(){return Dt}),t.d(u,"formatPadding",function(){return zt}),t.d(u,"cloneEvent",function(){return Tt}),t.d(u,"isViewportChanged",function(){return Vt}),t.d(u,"isNaN",function(){return Ht}),t.d(u,"calculationItemsBBox",function(){return re}),t.d(u,"processParallelEdges",function(){return pe});var g={};t.r(g),t.d(g,"getBBox",function(){return kn}),t.d(g,"getLoopCfgs",function(){return Wn}),t.d(g,"getLabelPosition",function(){return Dn}),t.d(g,"traverseTree",function(){return Qn}),t.d(g,"traverseTreeUp",function(){return ir}),t.d(g,"getLetterWidth",function(){return hr}),t.d(g,"getTextSize",function(){return Er}),t.d(g,"plainCombosToTrees",function(){return mr}),t.d(g,"reconstructTree",function(){return dr}),t.d(g,"getComboBBox",function(){return Br}),t.d(g,"shouldRefreshEdge",function(){return ii}),t.d(g,"cloneBesidesImg",function(){return mi});var x={};t.r(x),t.d(x,"getSpline",function(){return pi}),t.d(x,"getControlPoint",function(){return Ni}),t.d(x,"pointsToPolygon",function(){return Bi}),t.d(x,"pathToPoints",function(){return Fi}),t.d(x,"getClosedSpline",function(){return ma}),t.d(x,"roundedHull",function(){return Ma}),t.d(x,"paddedHull",function(){return Qi});var c=t(0),w={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(U){return Object.assign(this,U),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(U){var G=this,nt=this.events;this.graph=U,this.type!=="drag-canvas"&&this.type!=="brush-select"&&this.type!=="lasso-select"||U.get("canvas").set("draggable",!0),Object(c.f)(nt,function(vt,Gt){U.on(Gt,vt)}),document.addEventListener("visibilitychange",function(){G.keydown=!1})},unbind:function(U){var G=this.events;this.type!=="drag-canvas"&&this.type!=="brush-select"&&this.type!=="lasso-select"||U.get("canvas").set("draggable",!1),Object(c.f)(G,function(nt,vt){U.off(vt,nt)})},get:function(U){return this[U]},set:function(U,G){return this[U]=G,this}},I=function(){function ve(){}return ve.registerBehavior=function(U,G){if(!G)throw new Error("please specify handler for this behavior: "+U);var nt=Object(c.c)(w);Object.assign(nt,G);var vt=function(Jt){var ie=this;Object.assign(this,this.getDefaultCfg(),Jt);var ue=this.getEvents();this.events=null;var Ce={};ue&&(Object(c.f)(ue,function(we,cn){Ce[cn]=Object(c.J)(ie,we)}),this.events=Ce)};vt.prototype=nt,ve.types[U]=vt},ve.hasBehavior=function(U){return!!ve.types[U]},ve.getBehavior=function(U){return ve.types[U]},ve.types={},ve}(),m=I,r=t(1),s=t(79),d=t(10),C=t(33),S=d.a.transform,A=function(U){return function(G,nt){return G[U]-nt[U]}},f=function(U,G,nt){return U>=G&&U<=nt},O=function(U,G,nt,vt){var Gt=nt.x-U.x,Jt=nt.y-U.y,ie=G.x-U.x,ue=G.y-U.y,Ce=vt.x-nt.x,we=vt.y-nt.y,cn=ie*we-ue*Ce,Cn=1/cn,_t=null;if(cn*cn>1e-4*(ie*ie+ue*ue)*(Ce*Ce+we*we)){var Xt=(Gt*we-Jt*Ce)*Cn,Se=(Gt*ue-Jt*ie)*Cn;f(Xt,0,1)&&f(Se,0,1)&&(_t={x:U.x+Xt*ie,y:U.y+Xt*ue})}return _t},j=function(U,G){var nt=U.x,vt=U.y,Gt=U.width,Jt=U.height,ie=[],ue={x:nt+Gt/2,y:vt+Jt/2};ie.push({x:nt,y:vt}),ie.push({x:nt+Gt,y:vt}),ie.push({x:nt+Gt,y:vt+Jt}),ie.push({x:nt,y:vt+Jt}),ie.push({x:nt,y:vt});for(var Ce=null,we=1;we<ie.length&&!(Ce=O(ie[we-1],ie[we],ue,G));we++);return Ce},D=function(U,G){var nt=U.x,vt=U.y,Gt=U.r,Jt=G.x-nt,ie=G.y-vt;if(Math.sqrt(Jt*Jt+ie*ie)<Gt)return null;var ue=Math.sign(Jt),Ce=Math.sign(ie),we=Math.atan(ie/Jt);return{x:nt+Math.abs(Gt*Math.cos(we))*ue,y:vt+Math.abs(Gt*Math.sin(we))*Ce}},V=function(U,G){var nt=U.rx,vt=U.ry,Gt=U.x,Jt=U.y,ie=G.x-Gt,ue=G.y-Jt,Ce=Math.atan2(ue/vt,ie/nt);return Ce<0&&(Ce+=2*Math.PI),{x:Gt+nt*Math.cos(Ce),y:Jt+vt*Math.sin(Ce)}},H=function(U,G,nt){nt===void 0&&(nt=1);var vt=[U.x,U.y,nt];return G&&!isNaN(G[0])||(G=[1,0,0,0,1,0,0,0,1]),d.d.transformMat3(vt,vt,G),{x:vt[0],y:vt[1]}},$=function(U,G,nt){nt===void 0&&(nt=1),G&&!isNaN(G[0])||(G=[1,0,0,0,1,0,0,0,1]);var vt=d.b.invert([1,0,0,0,1,0,0,0,1],G);vt||(vt=[1,0,0,0,1,0,0,0,1]);var Gt=[U.x,U.y,nt];return d.d.transformMat3(Gt,Gt,vt),{x:Gt[0],y:Gt[1]}},dt=function(U,G,nt){var vt=U.x-G.x,Gt=U.y-G.y,Jt=U.x-nt.x,ie=U.y-nt.y,ue=(U.x*U.x-G.x*G.x-G.y*G.y+U.y*U.y)/2,Ce=(U.x*U.x-nt.x*nt.x-nt.y*nt.y+U.y*U.y)/2,we=Gt*Jt-vt*ie;return{x:-(ie*ue-Gt*Ce)/we,y:-(vt*Ce-Jt*ue)/we}},Z=function(U,G){var nt=U.x-G.x,vt=U.y-G.y;return Math.sqrt(nt*nt+vt*vt)},ct=function(U,G){var nt=[];return U.forEach(function(vt){var Gt=[];vt.forEach(function(Jt){Gt.push(Jt*G)}),nt.push(Gt)}),nt},pt=function(U){for(var G=[],nt=U.length,vt=0;vt<nt;vt+=1){G[vt]=[];for(var Gt=0;Gt<nt;Gt+=1)vt===Gt?G[vt][Gt]=0:U[vt][Gt]!==0&&U[vt][Gt]?G[vt][Gt]=U[vt][Gt]:G[vt][Gt]=1/0}for(var Jt=0;Jt<nt;Jt+=1)for(vt=0;vt<nt;vt+=1)for(Gt=0;Gt<nt;Gt+=1)G[vt][Gt]>G[vt][Jt]+G[Jt][Gt]&&(G[vt][Gt]=G[vt][Jt]+G[Jt][Gt]);return G},gt=function(U,G){var nt=U.nodes,vt=U.edges,Gt=[],Jt={};if(!nt)throw new Error("invalid nodes data!");return nt&&nt.forEach(function(ie,ue){Jt[ie.id]=ue,Gt.push([])}),vt&&vt.forEach(function(ie){var ue=ie.source,Ce=ie.target,we=Jt[ue],cn=Jt[Ce];Gt[we][cn]=1,G||(Gt[cn][we]=1)}),Gt},at=function(U,G){U.translate(G.x,G.y)},Bt=function(U,G){var nt=U.getMatrix();nt||(nt=[1,0,0,0,1,0,0,0,1]);var vt=U.getCanvasBBox(),Gt=G.x-vt.minX,Jt=G.y-vt.minY,ie=S(nt,[["t",Gt,Jt]]);U.setMatrix(ie)},Lt=function(U,G){var nt=U.getMatrix();nt||(nt=[1,0,0,0,1,0,0,0,1]);var vt=G;Object(c.m)(G)||(vt=[G,G]),Object(c.m)(G)&&G.length===1&&(vt=[G[0],G[0]]),nt=S(nt,[["s",vt[0],vt[1]]]),U.setMatrix(nt)},Et=function(U,G){var nt=U.getMatrix();nt||(nt=[1,0,0,0,1,0,0,0,1]),nt=S(nt,[["r",G]]),U.setMatrix(nt)},K=function(U,G,nt){for(var vt=[],Gt=0;Gt<U;Gt++)vt[Gt]=0;return nt.forEach(function(Jt){Jt.source&&(vt[G[Jt.source]]+=1),Jt.target&&(vt[G[Jt.target]]+=1)}),vt};function ft(ve,U,G){return(G[0]-ve[0])*(U[1]-ve[1])==(U[0]-ve[0])*(G[1]-ve[1])&&Math.min(ve[0],U[0])<=G[0]&&G[0]<=Math.max(ve[0],U[0])&&Math.min(ve[1],U[1])<=G[1]&&G[1]<=Math.max(ve[1],U[1])}var mt=function(U,G,nt){var vt=!1,Gt=U.length;function Jt(we){return Math.abs(we)<1e-6?0:we<0?-1:1}if(Gt<=2)return!1;for(var ie=0;ie<Gt;ie++){var ue=U[ie],Ce=U[(ie+1)%Gt];if(ft(ue,Ce,[G,nt]))return!0;Jt(ue[1]-nt)>0!=Jt(Ce[1]-nt)>0&&Jt(G-(nt-ue[1])*(ue[0]-Ce[0])/(ue[1]-Ce[1])-ue[0])<0&&(vt=!vt)}return vt},yt=function(U,G){return!(G.minX>U.maxX||G.maxX<U.minX||G.minY>U.maxY||G.maxY<U.minY)},wt=function(U,G){var nt=function(Cn){var _t=Cn.map(function(Se){return Se[0]}),Xt=Cn.map(function(Se){return Se[1]});return{minX:Math.min.apply(null,_t),maxX:Math.max.apply(null,_t),minY:Math.min.apply(null,Xt),maxY:Math.max.apply(null,Xt)}},vt=function(Cn){for(var _t=[],Xt=Cn.length,Se=0;Se<Xt-1;Se++){var Wt=Cn[Se],ce=Cn[Se+1];_t.push({from:{x:Wt[0],y:Wt[1]},to:{x:ce[0],y:ce[1]}})}if(_t.length>1){var yn=Cn[0],Bn=Cn[Xt-1];_t.push({from:{x:Bn[0],y:Bn[1]},to:{x:yn[0],y:yn[1]}})}return _t};if(U.length<2||G.length<2)return!1;var Gt=nt(U),Jt=nt(G);if(!yt(Gt,Jt))return!1;var ie=!1;if(Object(c.f)(G,function(cn){if(mt(U,cn[0],cn[1]))return ie=!0,!1}),ie||(Object(c.f)(U,function(cn){if(mt(G,cn[0],cn[1]))return ie=!0,!1}),ie))return!0;var ue=vt(U),Ce=vt(G),we=!1;return Object(c.f)(Ce,function(cn){if(function(Cn,_t){var Xt=!1;return Object(c.f)(Cn,function(Se){if(O(Se.from,Se.to,_t.from,_t.to))return Xt=!0,!1}),Xt}(ue,cn))return we=!0,!1}),we},J=function(){function ve(U,G,nt,vt){this.x1=U,this.y1=G,this.x2=nt,this.y2=vt}return ve.prototype.getBBox=function(){var U=Math.min(this.x1,this.x2),G=Math.min(this.y1,this.y2),nt=Math.max(this.x1,this.x2),vt=Math.max(this.y1,this.y2);return{x:U,y:G,minX:U,minY:G,maxX:nt,maxY:vt,width:nt-U,height:vt-G}},ve}(),lt=function(U,G){return{top:[U.minX,U.minY,U.maxX,U.minY],left:[U.minX,U.minY,U.minX,U.maxY],bottom:[U.minX,U.maxY,U.maxX,U.maxY],right:[U.maxX,U.minY,U.maxX,U.maxY]}[G]},it=function(U,G){var nt=(G.x2-G.x1)*(U.y1-G.y1)-(G.y2-G.y1)*(U.x1-G.x1),vt=(U.x2-U.x1)*(U.y1-G.y1)-(U.y2-U.y1)*(U.x1-G.x1),Gt=(G.y2-G.y1)*(U.x2-U.x1)-(G.x2-G.x1)*(U.y2-U.y1);if(Gt){var Jt=nt/Gt,ie=vt/Gt;if(Jt>=0&&Jt<=1&&ie>=0&&ie<=1)return Jt}return Number.POSITIVE_INFINITY},_=function(U,G){for(var nt=["top","left","bottom","right"],vt=U.getBBox(),Gt=0,Jt=[],ie=0;ie<4;ie++){var ue=lt(vt,nt[ie]),Ce=ue[0],we=ue[1],cn=ue[2],Cn=ue[3];Jt[ie]=O({x:G.x1,y:G.y1},{x:G.x2,y:G.y2},{x:Ce,y:we},{x:cn,y:Cn}),Jt[ie]&&(Gt+=1)}return[Jt,Gt]},P=function(U,G){for(var nt=["top","left","bottom","right"],vt=U.getBBox(),Gt=Number.POSITIVE_INFINITY,Jt=0,ie=0;ie<4;ie++){var ue=lt(vt,nt[ie]),Ce=ue[0],we=ue[1],cn=ue[2],Cn=ue[3],_t=it(G,new J(Ce,we,cn,Cn));(_t=Math.abs(_t-.5))>=0&&_t<=1&&(Jt+=1,Gt=_t<Gt?_t:Gt)}return Jt===0?-1:Gt},Q=function(U){var G=0,nt=0;if(U.length>0){for(var vt=0,Gt=U;vt<Gt.length;vt++){var Jt=Gt[vt];G+=Jt.x,nt+=Jt.y}G/=U.length,nt/=U.length}return{x:G,y:nt}},k=function(U,G){return Math.pow(U.x-G.x,2)+Math.pow(U.y-G.y,2)},p=function(U,G){var nt,vt=G.x1,Gt=G.y1,Jt=G.x2-vt,ie=G.y2-Gt,ue=U.x-vt,Ce=U.y-Gt,we=ue*Jt+Ce*ie;nt=we<=0||(we=(ue=Jt-ue)*Jt+(Ce=ie-Ce)*ie)<=0?0:we*we/(Jt*Jt+ie*ie);var cn=ue*ue+Ce*Ce-nt;return cn<0&&(cn=0),cn},y=function(U,G,nt){return nt===void 0&&(nt=.001),Math.pow(U.x-G.x,2)+Math.pow(U.y-G.y,2)<Math.pow(nt,2)},B=function(U,G){var nt=U.x<G.x,vt=U.x>G.x+G.width,Gt=U.y>G.y+G.height,Jt=U.y<G.y;if(!(nt||vt||Gt||Jt))return 0;if(Gt&&!nt&&!vt)return Math.pow(G.y+G.height-U.y,2);if(Jt&&!nt&&!vt)return Math.pow(U.y-G.y,2);if(nt&&!Gt&&!Jt)return Math.pow(G.x-U.x,2);if(vt&&!Gt&&!Jt)return Math.pow(G.x+G.width-U.x,2);var ie=Math.min(Math.abs(G.x-U.x),Math.abs(G.x+G.width-U.x)),ue=Math.min(Math.abs(G.y-U.y),Math.abs(G.y+G.height-U.y));return ie*ie+ue*ue},W="rgb(95, 149, 255)",rt="rgb(253, 253, 253)",st="rgb(247, 250, 255)",ut="rgb(224, 224, 224)",Mt="rgb(224, 224, 224)",bt={version:"0.0.9",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:W,fill:"rgb(239, 244, 255)"},size:20,color:W,linkPoints:{size:8,lineWidth:1,fill:st,stroke:W}},nodeStateStyles:{active:{fill:st,stroke:W,lineWidth:2,shadowColor:W,shadowBlur:10},selected:{fill:"rgb(255, 255, 255)",stroke:W,lineWidth:4,shadowColor:W,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:"rgb(223, 234, 255)",stroke:"#4572d9",lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:"rgb(247, 250, 255)",stroke:"rgb(191, 213, 255)",lineWidth:1},disable:{fill:"rgb(250, 250, 250)",stroke:"rgb(224, 224, 224)",lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:ut,lineAppendWidth:2},color:ut},edgeStateStyles:{active:{stroke:W,lineWidth:1},selected:{stroke:W,lineWidth:2,shadowColor:W,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:W,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:"rgb(234, 234, 234)",lineWidth:1},disable:{stroke:"rgb(245, 245, 245)",lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:rt,lineWidth:1,stroke:Mt,r:5,width:20,height:10},size:[20,5],color:Mt,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:W,lineWidth:1,fill:"rgb(247, 250, 255)"},selected:{stroke:W,lineWidth:2,fill:rt,shadowColor:W,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:"#4572d9",lineWidth:2,fill:rt,"text-shape":{fontWeight:500}},inactive:{stroke:"rgb(224, 224, 224)",fill:rt,lineWidth:1},disable:{stroke:"rgb(234, 234, 234)",fill:"rgb(250, 250, 250)",lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]}},xt=function(){function ve(U){this.graph=U,this.destroyed=!1,this.modes=U.get("modes")||{default:[]},this.formatModes(),this.mode=U.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return ve.prototype.formatModes=function(){var U=this.modes;Object(c.f)(U,function(G){Object(c.f)(G,function(nt,vt){Object(c.x)(nt)&&(G[vt]={type:nt})})})},ve.prototype.setBehaviors=function(U){var G,nt=this.graph,vt=this.modes[U],Gt=[];Object(c.f)(vt||[],function(Jt){var ie=I.getBehavior(Jt.type||Jt);ie&&(G=new ie(Jt))&&(G.bind(nt),Gt.push(G))}),this.currentBehaves=Gt},ve.mergeBehaviors=function(U,G){return Object(c.f)(G,function(nt){U.indexOf(nt)<0&&(Object(c.x)(nt)&&(nt={type:nt}),U.push(nt))}),U},ve.filterBehaviors=function(U,G){var nt=[];return U.forEach(function(vt){var Gt="";Gt=Object(c.x)(vt)?vt:vt.type,G.indexOf(Gt)<0&&nt.push(vt)}),nt},ve.prototype.setMode=function(U){var G=this.modes,nt=this.graph,vt=U;G[vt]&&(nt.emit("beforemodechange",{mode:U}),Object(c.f)(this.currentBehaves,function(Gt){Gt.delegate&&Gt.delegate.remove(),Gt.unbind(nt)}),this.setBehaviors(vt),nt.emit("aftermodechange",{mode:U}),this.mode=U)},ve.prototype.getMode=function(){return this.mode},ve.prototype.manipulateBehaviors=function(U,G,nt){var vt,Gt=this;if(vt=Object(c.m)(U)?U:[U],Object(c.m)(G))return Object(c.f)(G,function(ie){Gt.modes[ie]?Gt.modes[ie]=nt?ve.mergeBehaviors(Gt.modes[ie]||[],vt):ve.filterBehaviors(Gt.modes[ie]||[],vt):nt&&(Gt.modes[ie]=vt)}),this;var Jt=G;return G||(Jt=this.mode),this.modes[Jt]||nt&&(this.modes[Jt]=vt),this.modes[Jt]=nt?ve.mergeBehaviors(this.modes[Jt]||[],vt):ve.filterBehaviors(this.modes[Jt]||[],vt),this.setMode(this.mode),this},ve.prototype.updateBehavior=function(U,G,nt){Object(c.x)(U)&&(U={type:U});var vt=[];if(nt&&nt!==this.mode&&nt!=="default"){if(!(vt=this.modes[nt])||!vt.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;var Gt=vt.length;for(ie=0;ie<Gt;ie++){if((ue=vt[ie]).type===U.type||ue===U.type)return ue===U.type&&(ue={type:ue}),Object.assign(ue,G),vt[ie]=ue,this;ie===Gt-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(!(vt=this.currentBehaves)||!vt.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var Jt=vt.length,ie=0;ie<Jt;ie++){var ue;if((ue=vt[ie]).type===U.type)return ue.updateCfg(G),this;ie===Jt-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},ve.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},ve}(),Ot=t(14),jt=function(ve){function U(G,nt){var vt=ve.call(this,G,nt)||this;return vt.item=nt.item,vt.canvasX=nt.canvasX,vt.canvasY=nt.canvasY,vt.wheelDelta=nt.wheelDelta,vt.detail=nt.detail,vt}return Object(r.b)(U,ve),U}(t(18).Event),Dt=function(U){return U+"-"+Math.random()+Date.now()},zt=function(U){var G=0,nt=0,vt=0,Gt=0;return Object(c.t)(U)?G=nt=vt=Gt=U:Object(c.x)(U)?G=nt=vt=Gt=parseInt(U,10):Object(c.m)(U)&&(G=U[0],vt=Object(c.s)(U[1])?U[0]:U[1],Gt=Object(c.s)(U[2])?U[0]:U[2],nt=Object(c.s)(U[3])?vt:U[3]),[G,vt,Gt,nt]},Tt=function(U){var G=new jt(U.type,U);return G.clientX=U.clientX,G.clientY=U.clientY,G.x=U.x,G.y=U.y,G.target=U.target,G.currentTarget=U.currentTarget,G.bubbles=!0,G.item=U.item,G},Vt=function(U){if(!U)return!1;for(var G=[1,0,0,0,1,0,0,0,1],nt=0;nt<9;nt++)if(U[nt]!==G[nt])return!0;return!1},Ht=function(U){return Number.isNaN(Number(U))},re=function(U){for(var G=1/0,nt=-1/0,vt=1/0,Gt=-1/0,Jt=0;Jt<U.length;Jt++){var ie=U[Jt].getBBox(),ue=ie.minX,Ce=ie.minY,we=ie.maxX,cn=ie.maxY;ue<G&&(G=ue),Ce<vt&&(vt=Ce),we>nt&&(nt=we),cn>Gt&&(Gt=cn)}return{x:Math.floor(G),y:Math.floor(vt),width:Math.ceil(nt)-Math.floor(G),height:Math.ceil(Gt)-Math.floor(vt),minX:G,minY:vt,maxX:nt,maxY:Gt}},pe=function(U,G,nt,vt,Gt){G===void 0&&(G=15),nt===void 0&&(nt="quadratic");for(var Jt=U.length,ie=2*G,ue=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],Ce={},we=[],cn={},Cn=0;Cn<Jt;Cn++){var _t=U[Cn],Xt=_t.source,Se=_t.target,Wt=Xt+"-"+Se;if(!we[Cn]){Ce[Wt]||(Ce[Wt]=[]),we[Cn]=!0,Ce[Wt].push(_t);for(var ce=0;ce<Jt;ce++)if(Cn!==ce){var yn=U[ce],Bn=yn.source,Zn=yn.target;we[ce]||(Xt===Zn&&Se===Bn?(Ce[Wt].push(yn),we[ce]=!0,cn[Bn+"|"+Zn+"|"+(Ce[Wt].length-1)]=!0):Xt===Bn&&Se===Zn&&(Ce[Wt].push(yn),we[ce]=!0))}}}for(var Kn in Ce)for(var $e=Ce[Kn],je=$e.length,L=0;L<je;L++){var St=$e[L];if(St.source!==St.target)if(je===1&&vt&&St.source!==St.target)St.type=vt;else{St.type=nt;var $t=(L%2==0?1:-1)*(cn[St.source+"|"+St.target+"|"+L]?-1:1);St.curveOffset=je%2==1?$t*Math.ceil(L/2)*ie:$t*(Math.floor(L/2)*ie+G)}else Gt&&(St.type=Gt),St.loopCfg={position:ue[L%8],dist:20*Math.floor(L/8)+50}}return U},me=function(){function ve(U){this.destroyed=!1,this.graph=U,this.destroyed=!1}return ve.prototype.getViewCenter=function(){var U=this.getFormatPadding(),G=this.graph,nt=this.graph.get("width"),vt=G.get("height");return{x:(nt-U[1]-U[3])/2+U[3],y:(vt-U[0]-U[2])/2+U[0]}},ve.prototype.fitCenter=function(){var U=this.graph,G=U.get("group");G.resetMatrix();var nt=G.getCanvasBBox();if(nt.width!==0&&nt.height!==0){var vt=this.getViewCenter(),Gt=nt.x+nt.width/2,Jt=nt.y+nt.height/2;U.translate(vt.x-Gt,vt.y-Jt)}},ve.prototype.fitView=function(){var U=this.graph,G=this.getFormatPadding(),nt=U.get("width"),vt=U.get("height"),Gt=U.get("group");Gt.resetMatrix();var Jt=Gt.getCanvasBBox();if(Jt.width!==0&&Jt.height!==0){var ie=this.getViewCenter(),ue=Jt.x+Jt.width/2,Ce=Jt.y+Jt.height/2;U.translate(ie.x-ue,ie.y-Ce);var we=(nt-G[1]-G[3])/Jt.width,cn=(vt-G[0]-G[2])/Jt.height,Cn=we;we>cn&&(Cn=cn),U.zoom(Cn,ie)}},ve.prototype.getFormatPadding=function(){var U=this.graph.get("fitViewPadding");return zt(U)},ve.prototype.focusPoint=function(U,G,nt){var vt=this,Gt=this.getViewCenter(),Jt=this.getPointByCanvas(Gt.x,Gt.y),ie=this.graph.get("group").getMatrix();if(ie||(ie=[1,0,0,0,1,0,0,0,1]),G){var ue=(Jt.x-U.x)*ie[0],Ce=(Jt.y-U.y)*ie[4],we=0,cn=0,Cn=0,_t=0;this.graph.get("canvas").animate(function(Xt){Cn=ue*Xt,_t=Ce*Xt,vt.graph.translate(Cn-we,_t-cn),we=Cn,cn=_t},Object(r.a)({},nt))}else this.graph.translate((Jt.x-U.x)*ie[0],(Jt.y-U.y)*ie[4])},ve.prototype.getPointByCanvas=function(U,G){var nt=this.graph.get("group").getMatrix();return nt||(nt=[1,0,0,0,1,0,0,0,1]),$({x:U,y:G},nt)},ve.prototype.getPointByClient=function(U,G){var nt=this.graph.get("canvas").getPointByClient(U,G);return this.getPointByCanvas(nt.x,nt.y)},ve.prototype.getClientByPoint=function(U,G){var nt=this.graph.get("canvas"),vt=this.getCanvasByPoint(U,G),Gt=nt.getClientByPoint(vt.x,vt.y);return{x:Gt.x,y:Gt.y}},ve.prototype.getCanvasByPoint=function(U,G){var nt=this.graph.get("group").getMatrix();return nt||(nt=[1,0,0,0,1,0,0,0,1]),H({x:U,y:G},nt)},ve.prototype.focus=function(U,G,nt){Object(c.x)(U)&&(U=this.graph.findById(U));var vt=U.get("group").getMatrix();vt||(vt=[1,0,0,0,1,0,0,0,1]),U&&this.focusPoint({x:vt[6],y:vt[7]},G,nt)},ve.prototype.changeSize=function(U,G){var nt=this.graph;if(!Object(c.t)(U)||!Object(c.t)(G))throw Error("invalid canvas width & height, please make sure width & height type is number");nt.set({width:U,height:G}),nt.get("canvas").changeSize(U,G),nt.get("plugins").forEach(function(vt){if(vt.get("gridContainer")){var Gt=nt.get("minZoom");Object(Ot.c)(vt.get("container"),{width:U+"px",height:G+"px"}),Object(Ot.c)(vt.get("gridContainer"),{width:U/Gt+"px",height:G/Gt+"px",left:0,top:0})}})},ve.prototype.destroy=function(){this.graph=null,this.destroyed=!1},ve}(),Ee={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},Le=Math.PI,Je=Math.sin,On=Math.cos,gn=Je(Le/8),Vn=On(Le/8),kn=function(U,G){var nt=U.getBBox(),vt={x:nt.minX,y:nt.minY},Gt={x:nt.maxX,y:nt.maxY};if(G){var Jt=G.getMatrix();Jt||(Jt=[1,0,0,0,1,0,0,0,1]),vt=H(vt,Jt),Gt=H(Gt,Jt)}var ie=vt.x,ue=vt.y,Ce=Gt.x,we=Gt.y;return{x:ie,y:ue,minX:ie,minY:ue,maxX:Ce,maxY:we,width:Ce-ie,height:we-ue}},Wn=function(U){var G=U.sourceNode||U.targetNode,nt=G.get("group").getMatrix();nt||(nt=[1,0,0,0,1,0,0,0,1]);var vt=G.getKeyShape().getBBox(),Gt=U.loopCfg||{},Jt=Gt.dist||2*Math.max(vt.width,vt.height),ie=Gt.position||bt.defaultLoopPosition,ue=[nt[6],nt[7]],Ce=[U.startPoint.x,U.startPoint.y],we=[U.endPoint.x,U.endPoint.y],cn=vt.height/2,Cn=vt.height/2,_t=cn*gn,Xt=cn*Vn,Se=Cn*gn,Wt=Cn*Vn;if(Ce[0]===we[0]&&Ce[1]===we[1]){switch(ie){case"top":Ce=[ue[0]-_t,ue[1]-Xt],we=[ue[0]+Se,ue[1]-Wt];break;case"top-right":cn=vt.height/2,Cn=vt.width/2,Ce=[ue[0]+(_t=cn*gn),ue[1]-(Xt=cn*Vn)],we=[ue[0]+(Wt=Cn*Vn),ue[1]-(Se=Cn*gn)];break;case"right":cn=vt.width/2,Cn=vt.width/2,Ce=[ue[0]+(Xt=cn*Vn),ue[1]-(_t=cn*gn)],we=[ue[0]+(Wt=Cn*Vn),ue[1]+(Se=Cn*gn)];break;case"bottom-right":cn=vt.width/2,Cn=vt.height/2,Ce=[ue[0]+(Xt=cn*Vn),ue[1]+(_t=cn*gn)],we=[ue[0]+(Se=Cn*gn),ue[1]+(Wt=Cn*Vn)];break;case"bottom":cn=vt.height/2,Cn=vt.height/2,Ce=[ue[0]+(_t=cn*gn),ue[1]+(Xt=cn*Vn)],we=[ue[0]-(Se=Cn*gn),ue[1]+(Wt=Cn*Vn)];break;case"bottom-left":cn=vt.height/2,Cn=vt.width/2,Ce=[ue[0]-(_t=cn*gn),ue[1]+(Xt=cn*Vn)],we=[ue[0]-(Wt=Cn*Vn),ue[1]+(Se=Cn*gn)];break;case"left":cn=vt.width/2,Cn=vt.width/2,Ce=[ue[0]-(Xt=cn*Vn),ue[1]+(_t=cn*gn)],we=[ue[0]-(Wt=Cn*Vn),ue[1]-(Se=Cn*gn)];break;case"top-left":cn=vt.width/2,Cn=vt.height/2,Ce=[ue[0]-(Xt=cn*Vn),ue[1]-(_t=cn*gn)],we=[ue[0]-(Se=Cn*gn),ue[1]-(Wt=Cn*Vn)];break;default:cn=vt.width/2,Cn=vt.width/2,Ce=[ue[0]-(_t=cn*gn),ue[1]-(Xt=cn*Vn)],we=[ue[0]+(Se=Cn*gn),ue[1]-(Wt=Cn*Vn)]}if(Gt.clockwise===!1){var ce=[Ce[0],Ce[1]];Ce=[we[0],we[1]],we=[ce[0],ce[1]]}}var yn=[Ce[0]-ue[0],Ce[1]-ue[1]],Bn=(cn+Jt)/cn,Zn=(Cn+Jt)/Cn;Gt.clockwise===!1&&(Bn=(Cn+Jt)/Cn,Zn=(cn+Jt)/cn);var Kn=d.c.scale([0,0],yn,Bn),$e=[ue[0]+Kn[0],ue[1]+Kn[1]],je=[we[0]-ue[0],we[1]-ue[1]],L=d.c.scale([0,0],je,Zn),St=[ue[0]+L[0],ue[1]+L[1]];return U.startPoint={x:Ce[0],y:Ce[1]},U.endPoint={x:we[0],y:we[1]},U.controlPoints=[{x:$e[0],y:$e[1]},{x:St[0],y:St[1]}],U},Dn=function(U,G,nt,vt,Gt){var Jt=[],ie=U.getPoint(G);if(ie===null)return{x:0,y:0,angle:0};if(G<1e-4)Jt=U.getStartTangent().reverse();else if(G>.9999)Jt=U.getEndTangent();else{var ue=U.getPoint(G+1e-4);Jt.push([ie.x,ie.y]),Jt.push([ue.x,ue.y])}var Ce=Math.atan2(Jt[1][1]-Jt[0][1],Jt[1][0]-Jt[0][0]);if(Ce<0&&(Ce+=2*Le),nt&&(ie.x+=On(Ce)*nt,ie.y+=Je(Ce)*nt),vt){var we=Ce-Le/2;Ce>.5*Le&&Ce<1.5*Le&&(we-=Le),ie.x+=On(we)*vt,ie.y+=Je(we)*vt}var cn={x:ie.x,y:ie.y,angle:Ce};return Gt?(Ce>.5*Le&&Ce<1.5*Le&&(Ce-=Le),Object(r.a)({rotate:Ce},cn)):cn},Nn=function ve(U,G){if(G(U)===!1)return!1;if(U&&U.children){for(var nt=U.children.length-1;nt>=0;nt--)if(!ve(U.children[nt],G))return!1}return!0},Qn=function(U,G){typeof G=="function"&&Nn(U,G)},ir=function(U,G){typeof G=="function"&&function nt(vt,Gt){if(vt&&vt.children){for(var Jt=vt.children.length-1;Jt>=0;Jt--)if(!nt(vt.children[Jt],Gt))return}return Gt(vt)!==!1}(U,G)},hr=function(U,G){return G*(Ee[U]||1)},Er=function(U,G){var nt=0,vt=new RegExp("[\u4E00-\u9FA5]+");return U.split("").forEach(function(Gt){vt.test(Gt)?nt+=G:nt+=hr(Gt,G)}),[nt,G]},mr=function(U,G){var nt=[],vt={},Gt={};U.forEach(function(ue){Gt[ue.id]=ue}),U.forEach(function(ue,Ce){var we=Object(c.c)(ue);we.itemType="combo",we.children=void 0,we.parentId===we.id?(console.warn("The parentId for combo "+we.id+" can not be the same as the combo's id"),delete we.parentId):we.parentId&&!Gt[we.parentId]&&(console.warn("The parent combo for combo "+we.id+" does not exist!"),delete we.parentId);var cn=vt[we.id];if(cn){if(we.children=cn.children,vt[we.id]=we,!(cn=we).parentId)return void nt.push(cn);var Cn=vt[cn.parentId];if(Cn)Cn.children?Cn.children.push(we):Cn.children=[we];else{var _t={id:cn.parentId,children:[cn]};vt[cn.parentId]=_t,vt[we.id]=we}}else if(Object(c.x)(ue.parentId)){var Xt=vt[ue.parentId];if(Xt)Xt.children?Xt.children.push(we):Xt.children=[we],vt[we.id]=we;else{var Se={id:ue.parentId,children:[we]};vt[Se.id]=Se,vt[we.id]=we}}else nt.push(we),vt[we.id]=we});var Jt={};(G||[]).forEach(function(ue){Jt[ue.id]=ue;var Ce=vt[ue.comboId];if(Ce){var we={id:ue.id,comboId:ue.comboId};Ce.children?Ce.children.push(we):Ce.children=[we],we.itemType="node",vt[ue.id]=we}});var ie=0;return nt.forEach(function(ue){ue.depth=ie+10,Nn(ue,function(Ce){var we,cn=vt[Ce.id].itemType;we=cn==="node"?vt[Ce.comboId]:vt[Ce.parentId],Ce.depth=we&&cn==="node"?ie+1:ie+10,ie<Ce.depth&&(ie=Ce.depth);var Cn=Jt[Ce.id];return Cn&&(Cn.depth=Ce.depth),!0})}),nt},dr=function(U,G,nt){var vt,Gt=U,Jt={root:{children:U}},ie=!1,ue="root";(U||[]).forEach(function(_t){if(!ie)return _t.id===G?(vt=_t,_t.itemType==="combo"?vt.parentId=nt:vt.comboId=nt,void(ie=!0)):void Qn(_t,function(Xt){return Jt[Xt.id]={children:Xt.children},Gt=Jt[Xt.parentId||Xt.comboId||"root"].children,!Xt||!Xt.removed&&G!==Xt.id||!Gt||(ue=Xt.parentId||Xt.comboId||"root",vt=Xt,Xt.itemType==="combo"?vt.parentId=nt:vt.comboId=nt,ie=!0,!1)})});var Ce=(Gt=Jt[ue].children)?Gt.indexOf(vt):-1;if(Ce>-1&&Gt.splice(Ce,1),ie||(vt={id:G,itemType:"node",comboId:nt},Jt[G]={children:void 0}),G){var we=!1;if(nt){var cn=0;(U||[]).forEach(function(_t){we||Qn(_t,function(Xt){return nt!==Xt.id||(we=!0,Xt.children?Xt.children.push(vt):Xt.children=[vt],cn=Xt.depth,vt.itemType==="node"?vt.depth=cn+2:vt.depth=cn+1,!1)})})}else nt&&we||vt.itemType==="node"||U.push(vt);var Cn=vt.depth;Qn(vt,function(_t){return _t.itemType==="node"?Cn+=2:Cn+=1,_t.depth=Cn,!0})}return U},Br=function(U,G){var nt={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return U&&U.length!==0&&(U.forEach(function(vt){var Gt=G.findById(vt.id);if(Gt&&Gt.isVisible()){Gt.set("bboxCanvasCache",void 0);var Jt=Gt.getCanvasBBox();Jt.x&&nt.minX>Jt.minX&&(nt.minX=Jt.minX),Jt.y&&nt.minY>Jt.minY&&(nt.minY=Jt.minY),Jt.x&&nt.maxX<Jt.maxX&&(nt.maxX=Jt.maxX),Jt.y&&nt.maxY<Jt.maxY&&(nt.maxY=Jt.maxY)}}),nt.x=(nt.minX+nt.maxX)/2,nt.y=(nt.minY+nt.maxY)/2,nt.width=nt.maxX-nt.minX,nt.height=nt.maxY-nt.minY,nt.centerX=(nt.minX+nt.maxX)/2,nt.centerY=(nt.minY+nt.maxY)/2,Object.keys(nt).forEach(function(vt){nt[vt]!==1/0&&nt[vt]!==-1/0||(nt[vt]=void 0)})),nt},ii=function(U){var G=Object(c.t)(U.x)||Object(c.t)(U.y)||U.type||U.anchorPoints||U.size;return U.style&&(G=G||Object(c.t)(U.style.r)||Object(c.t)(U.style.width)||Object(c.t)(U.style.height)||Object(c.t)(U.style.rx)||Object(c.t)(U.style.ry)),G},mi=function(U){var G={};return Object.keys(U).forEach(function(nt){var vt=U[nt];if(Object(c.v)(vt)){var Gt={};Object.keys(vt).forEach(function(Jt){var ie=vt[Jt];(Jt!=="img"||Object(c.x)(ie))&&(Gt[Jt]=Object(c.c)(ie))}),G[nt]=Gt}else G[nt]=Object(c.c)(vt)}),G};function Pi(ve){return(Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(ve)}function sa(ve){if(typeof ve!="string")return ve;var U=function($e){if(typeof $e!="string")return $e;try{return JSON.parse($e.trim())}catch(je){return $e.trim()}},G=U(ve);if(typeof G!="string")return G;for(var nt=function($e){return $e[$e.length-1]},vt=ve.trim(),Gt=[],Jt=[],ie=function(){for(var $e=[],je=0;je<arguments.length;je++)$e[je]=arguments[je];return $e.some(function(L){return nt(Jt)===L})},ue=null,Ce=0,we="";Ce<vt.length;){var cn=vt[Ce],Cn=ie('"',"'");if(Cn||cn.trim()){var _t=vt[Ce-1]==="\\",Xt=ie("}"),Se=ie("]"),Wt=ie(","),ce=nt(Gt);if(Cn)if(nt(Jt)!==cn||_t)we+=cn;else{Jt.pop();var yn=U(we);ce.push(yn),ue=yn,we=""}else if(Se&&cn===",")we&&(ce.push(U(we)),we="");else if(Xt&&cn===":")Jt.push(","),we&&(ce.push(we),we="");else if(Wt&&cn===",")we&&(ce.push(U(we)),we=""),Jt.pop();else if(cn==="}"&&(Xt||Wt)){we&&(ce.push(U(we)),we=""),Wt&&Jt.pop();for(var Bn={},Zn=1;Zn<ce.length;Zn+=2)Bn[ce[Zn-1]]=ce[Zn];Gt.pop(),Gt.length&&nt(Gt).push(Bn),Jt.pop(),ue=Bn}else cn==="]"&&Se?(we&&(ce.push(U(we)),we=""),Gt.pop(),Gt.length&&nt(Gt).push(ce),Jt.pop(),ue=ce):cn==="{"?(Gt.push([]),Jt.push("}")):cn==="["?(Gt.push([]),Jt.push("]")):cn==='"'?Jt.push('"'):cn==="'"?Jt.push("'"):we+=cn;Ce+=1}else Ce+=1}return ue||we}function Pa(ve,U){var G;U===void 0&&(U={x:0,y:0});var nt=Object(r.a)({x:0,y:0,width:0,height:0},U);if((G=ve.children)===null||G===void 0?void 0:G.length){var vt=ve.attrs,Gt=vt===void 0?{}:vt,Jt=Gt.marginTop,ie=Object(r.a)({},U);Jt&&(ie.y+=Jt);for(var ue=0;ue<ve.children.length;ue++){ve.children[ue].attrs.key=(Gt.key||"root")+" -"+ue+" ";var Ce=Pa(ve.children[ue],ie);if(Ce.bbox){var we=Ce.bbox;Ce.attrs.next==="inline"?ie.x+=Ce.bbox.width:ie.y+=Ce.bbox.height,we.width+we.x>nt.width&&(nt.width=we.width+we.x),we.height+we.y>nt.height&&(nt.height=we.height+we.y)}}}return ve.bbox=function(cn,Cn,_t){var Xt,Se,Wt=cn.attrs,ce=Wt===void 0?{}:Wt,yn={x:Cn.x||0,y:Cn.y||0,width:_t.width||0,height:_t.height||0};switch(cn.type){case"maker":case"circle":ce.r&&(Se=2*ce.r,Xt=2*ce.r);break;case"text":ce.text&&(Se=Er(ce.text,ce.fontSize||12)[0],Xt=16,yn.y+=Xt,yn.height=Xt,yn.width=Se,cn.attrs=Object(r.a)({fontSize:12,fill:"#000"},ce));break;default:ce.width&&(Se=ce.width),ce.height&&(Xt=ce.height)}return Xt>=0&&(yn.height=Xt),Se>=0&&(yn.width=Se),ce.marginTop&&(yn.y+=ce.marginTop),ce.marginLeft&&(yn.x+=ce.marginLeft),yn}(ve,U,nt),ve.attrs=Object(r.a)(Object(r.a)({},ve.attrs),ve.bbox),ve}function Mi(ve){var U={},G=function(vt){var Gt=function(ue){return function(Ce){for(var we=ue.length,cn=[],Cn=0,_t="";Cn<we;)if(ue[Cn]==="{"&&ue[Cn+1]==="{")cn.push(_t),_t="",Cn+=2;else if(ue[Cn]==="}"&&ue[Cn+1]==="}"){if(cn.length){var Xt=cn.pop();_t=Object(c.i)(Ce,_t,Xt.endsWith("=")?'"{'+_t+'}"':_t),cn.push(Xt+_t)}Cn+=2,_t=""}else _t+=ue[Cn],Cn+=1;return cn.push(_t),cn.map(function(Se,Wt){return cn[Wt-1]&&cn[Wt-1].endsWith("=")?'"{'+Se+'}"':Se}).join("")}}(typeof ve=="function"?ve(vt):ve)(vt),Jt=document.createElement("div");Jt.innerHTML=Gt;var ie=Pa(function ue(Ce,we){var cn={},Cn=Ce.getAttributeNames&&Ce.getAttributeNames()||[],_t=Ce.children&&Array.from(Ce.children).map(function(Wt){return ue(Wt,we)}),Xt={},Se=Ce.tagName?Ce.tagName.toLowerCase():"group";return Se==="text"&&(cn.text=Ce.innerText),Xt.type=Se,Se==="img"&&(Xt.type="image"),Array.from(Cn).forEach(function(Wt){var ce=Wt.split("-").reduce(function(Zn,Kn){return Zn+Kn.charAt(0).toUpperCase()+Kn.slice(1)}),yn=Ce.getAttribute(Wt);try{if(ce==="style"||ce==="attrs"){var Bn=sa(yn);cn=Object(r.a)(Object(r.a)({},cn),Bn)}else Xt[ce]=sa(yn)}catch(Zn){if(ce==="style")throw Zn;Xt[ce]=yn}}),Xt.attrs=cn,we&&we.style&&Xt.name&&Pi(we.style[Xt.name])==="object"&&(Xt.attrs=Object(r.a)(Object(r.a)({},Xt.attrs),we.style[Xt.name])),we&&we.style&&Xt.keyshape&&(Xt.attrs=Object(r.a)(Object(r.a)({},Xt.attrs),we.style)),_t.length&&(Xt.children=_t),Xt}(Jt.children[0],vt));return Jt.remove(),ie};return{draw:function(vt,Gt){var Jt=G(vt),ie=Gt;return function ue(Ce){var we=Ce.attrs,cn=we===void 0?{}:we,Cn=Ce.bbox,_t=Ce.type,Xt=Ce.children,Se=Object(r.c)(Ce,["attrs","bbox","type","children"]);if(Ce.type!=="group"){var Wt=Gt.addShape(Ce.type,Object(r.a)({attrs:cn,origin:{bbox:Cn,type:_t,children:Xt}},Se));Ce.keyshape&&(ie=Wt)}Ce.children&&Ce.children.forEach(function(ce){return ue(ce)})}(Jt),U[vt.id]=[Jt],ie},update:function(vt,Gt){U[vt.id]||(U[vt.id]=[]);var Jt=Gt.getContainer(),ie=Jt.get("children"),ue=G(vt),Ce=function Cn(_t,Xt){var Se,Wt,ce,yn,Bn=(_t||{}).type,Zn=((Xt==null?void 0:Xt.attrs)||{}).key;if(Zn&&_t&&(_t.attrs.key=Zn),!_t&&Xt)return{action:"delete",val:Xt,type:Bn,key:Zn};if(_t&&!Xt)return{action:"add",val:_t,type:Bn};if(!_t&&!Xt)return{action:"same",type:Bn};var Kn=[];if(((Se=_t.children)===null||Se===void 0?void 0:Se.length)>0||((Wt=Xt.children)===null||Wt===void 0?void 0:Wt.length)>0)for(var $e=Math.max((ce=_t.children)===null||ce===void 0?void 0:ce.length,(yn=Xt.children)===null||yn===void 0?void 0:yn.length),je=Xt.children||[],L=_t.children||[],St=0;St<$e;St+=1)Kn.push(Cn(L[St],je[St]));var $t=Object.keys(Xt.attrs),ye=Object.keys(_t.attrs);return Xt.type!==_t.type?{action:"restructure",nowTarget:_t,formerTarget:Xt,key:Zn,children:Kn}:$t.filter(function(Zt){return Zt!=="children"}).some(function(Zt){return _t.attrs[Zt]!==Xt.attrs[Zt]||!ye.includes(Zt)})?{action:"change",val:_t,children:Kn,type:Bn,key:Zn}:{action:"same",children:Kn,type:Bn,key:Zn}}(ue,U[vt.id].pop()),we=function Cn(_t){var Xt;_t.type!=="group"&&Jt.addShape(_t.type,{attrs:_t.attrs}),((Xt=_t.children)===null||Xt===void 0?void 0:Xt.length)&&_t.children.map(function(Se){return Cn(Se)})},cn=function Cn(_t){var Xt,Se=ie.find(function(Wt){return Wt.attrs.key===_t.attrs.key});Se&&Jt.removeChild(Se),((Xt=_t.children)===null||Xt===void 0?void 0:Xt.length)&&_t.children.map(function(Wt){return Cn(Wt)})};(function Cn(_t){var Xt=_t.key;if(_t.type!=="group"){var Se=ie.find(function(ce){return ce.attrs.key===Xt});switch(_t.action){case"change":if(Se){var Wt=_t.val.keyshape?Gt.getOriginStyle():{};Se.attr(Object(r.a)(Object(r.a)({},Wt),_t.val.attrs))}break;case"add":we(_t.val);break;case"delete":cn(_t.val);break;case"restructure":cn(_t.formerTarget),we(_t.nowTarget)}}_t.children&&_t.children.forEach(function(ce){return Cn(ce)})})(Ce),U[vt.id].push(ue)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Ki={};function fa(ve){return Ki[ve]||(Ki[ve]=Object(c.I)(ve)),Ki[ve]}var oa={defaultShapeType:"defaultType",className:null,getShape:function(U){return this[U]||this[this.defaultShapeType]||this["simple-circle"]},draw:function(U,G,nt){var vt=this.getShape(U),Gt=vt.draw(G,nt);return vt.afterDraw&&vt.afterDraw(G,nt,Gt),Gt},baseUpdate:function(U,G,nt){var vt=this.getShape(U);vt.update&&vt.update(G,nt),vt.afterUpdate&&vt.afterUpdate(G,nt)},setState:function(U,G,nt,vt){this.getShape(U).setState(G,nt,vt)},shouldUpdate:function(U){return!!this.getShape(U).update},getControlPoints:function(U,G){return this.getShape(U).getControlPoints(G)},getAnchorPoints:function(U,G){return this.getShape(U).getAnchorPoints(G)}},pa={options:{},draw:function(U,G){return this.drawShape(U,G)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(U){return U.controlPoints},getAnchorPoints:function(U){var G=this.options.anchorPoints;return U.anchorPoints||G}},La=function(){function ve(){}return ve.registerFactory=function(U,G){var nt=fa(U),vt=oa,Gt=Object(r.a)(Object(r.a)({},vt),G);return ve[nt]=Gt,Gt.className=nt,Gt},ve.getFactory=function(U){return ve[fa(U)]},ve.registerNode=function(U,G,nt){var vt,Gt=ve.Node;if(typeof G=="string"||typeof G=="function"){var Jt=Mi(G);vt=Object(r.a)(Object(r.a)({},Gt.getShape("single-node")),Jt)}else if(G.jsx)Jt=Mi(G.jsx),vt=Object(r.a)(Object(r.a)(Object(r.a)({},Gt.getShape("single-node")),Jt),G);else{Gt.getShape(nt);var ie=nt?Gt.getShape(nt):pa;vt=Object(r.a)(Object(r.a)({},ie),G)}return vt.type=U,vt.itemType="node",Gt[U]=vt,vt},ve.registerEdge=function(U,G,nt){var vt=ve.Edge,Gt=nt?vt.getShape(nt):pa,Jt=Object(r.a)(Object(r.a)({},Gt),G);return Jt.type=U,Jt.itemType="edge",vt[U]=Jt,Jt},ve.registerCombo=function(U,G,nt){var vt=ve.Combo,Gt=nt?vt.getShape(nt):pa,Jt=Object(r.a)(Object(r.a)({},Gt),G);return Jt.type=U,Jt.itemType="combo",vt[U]=Jt,Jt},ve}(),Yr=La;La.registerFactory("node",{defaultShapeType:"circle"}),La.registerFactory("edge",{defaultShapeType:"line"}),La.registerFactory("combo",{defaultShapeType:"circle"});var Ea=["startArrow","endArrow"],Pr=function(){function ve(U){this._cfg={},this.destroyed=!1;var G={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(G,this.getDefaultCfg(),U);var nt=this.get("model"),vt=nt.id,Gt=this.get("type");vt||(vt=Dt(Gt),this.get("model").id=vt),this.set("id",vt);var Jt=U.group;Jt&&(Jt.set("item",this),Jt.set("id",vt)),this.init(),this.draw();var ie=nt.shape||nt.type||(Gt==="edge"?"line":"circle"),ue=this.get("shapeFactory");if(ue&&ue[ie]){var Ce=ue[ie].options;if(Ce&&Ce.stateStyles){var we=this.get("styles")||nt.stateStyles;we=Object(c.e)({},Ce.stateStyles,we),this.set("styles",we)}}}return ve.prototype.calculateBBox=function(){var U=this.get("keyShape"),G=this.get("group"),nt=kn(U,G);return nt.x=nt.minX,nt.y=nt.minY,nt.width=nt.maxX-nt.minX,nt.height=nt.maxY-nt.minY,nt.centerX=(nt.minX+nt.maxX)/2,nt.centerY=(nt.minY+nt.maxY)/2,nt},ve.prototype.calculateCanvasBBox=function(){var U=this.get("keyShape"),G=this.get("group"),nt=kn(U,G);return nt.x=nt.minX,nt.y=nt.minY,nt.width=nt.maxX-nt.minX,nt.height=nt.maxY-nt.minY,nt.centerX=(nt.minX+nt.maxX)/2,nt.centerY=(nt.minY+nt.maxY)/2,nt},ve.prototype.drawInner=function(){var U=this.get("shapeFactory"),G=this.get("group"),nt=this.get("model");G.clear();var vt=nt.visible;if(vt===void 0||vt||this.changeVisibility(vt),U){this.updatePosition(nt);var Gt=this.getShapeCfg(nt),Jt=Gt.type,ie=U.draw(Jt,Gt,G);ie&&(this.set("keyShape",ie),ie.set("isKeyShape",!0),ie.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",Jt),this.restoreStates(U,Jt)}},ve.prototype.setOriginStyle=function(U){var G=this.get("group").get("children"),nt=this.getKeyShape(),vt=this,Gt=nt.get("name");if(this.get("originStyle")){var Jt=this.getOriginStyle();Gt&&!Jt[Gt]&&(Jt[Gt]={});var ie=this.getCurrentStatesStyle();Object(c.f)(G,function(Ce){var we=Ce.get("name"),cn=Ce.attr();if(we&&we!==Gt){var Cn=ie[we];Jt[we]||(Jt[we]={}),Cn?Object.keys(cn).forEach(function(Se){var Wt=cn[Se];Wt!==Cn[Se]&&(Jt[we][Se]=Wt)}):Jt[we]=Object(c.c)(cn)}else{var _t=Ce.attr(),Xt=Object(r.a)(Object(r.a)({},ie),ie[Gt]);Object.keys(_t).forEach(function(Se){var Wt=_t[Se];Object(c.w)(Wt)&&Ea.indexOf(we)===-1||Xt[Se]!==Wt&&(Gt?Jt[Gt][Se]=Wt:Jt[Se]=Wt)})}}),Jt.path&&delete Jt.path,Jt.matrix&&delete Jt.matrix,vt.set("originStyle",Jt)}else{var ue={};Object(c.f)(G,function(Ce){var we=Ce.get("type"),cn=Ce.get("name");if(cn&&cn!==Gt)ue[cn]=we!=="image"?Object(c.c)(Ce.attr()):vt.getShapeStyleByName(cn);else{var Cn=vt.getShapeStyleByName();if(Cn.path&&delete Cn.path,Cn.matrix&&delete Cn.matrix,Gt)if(cn)ue[Gt]=Cn;else{var _t=Dt("shape");Ce.set("name",_t),ue[_t]=we!=="image"?Object(c.c)(Ce.attr()):vt.getShapeStyleByName(cn)}else Object.assign(ue,Cn)}}),vt.set("originStyle",ue)}},ve.prototype.restoreStates=function(U,G){var nt=this,vt=nt.get("states");Object(c.f)(vt,function(Gt){U.setState(G,Gt,!0,nt)})},ve.prototype.init=function(){var U=Yr.getFactory(this.get("type"));this.set("shapeFactory",U)},ve.prototype.get=function(U){return this._cfg[U]},ve.prototype.set=function(U,G){Object(c.w)(U)?this._cfg=Object(r.a)(Object(r.a)({},this._cfg),U):this._cfg[U]=G},ve.prototype.getDefaultCfg=function(){return{}},ve.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null)},ve.prototype.beforeDraw=function(){},ve.prototype.afterDraw=function(){},ve.prototype.afterUpdate=function(){},ve.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},ve.prototype.getShapeStyleByName=function(U){var G,nt=this.get("group");if(G=U?nt.find(function(Gt){return Gt.get("name")===U}):this.getKeyShape()){var vt={};return Object(c.f)(G.attr(),function(Gt,Jt){Jt!=="img"&&(vt[Jt]=Gt)}),vt}return{}},ve.prototype.getShapeCfg=function(U){var G=this.get("styles");if(G){var nt=U;return nt.style=Object(r.a)(Object(r.a)({},G),U.style),nt}return U},ve.prototype.getStateStyle=function(U){var G=this.get("styles");return G&&G[U]},ve.prototype.getOriginStyle=function(){return this.get("originStyle")},ve.prototype.getCurrentStatesStyle=function(){var U=this,G={},nt=U.getStates();return nt&&nt.length?(Object(c.f)(U.getStates(),function(vt){G=Object.assign(G,U.getStateStyle(vt))}),G):this.getOriginStyle()},ve.prototype.setState=function(U,G){var nt=this.get("states"),vt=this.get("shapeFactory"),Gt=U,Jt=U;Object(c.x)(G)&&(Gt=U+":"+G,Jt=U+":");var ie=nt;if(Object(c.n)(G)){var ue=nt.indexOf(Jt);if(G){if(ue>-1)return;nt.push(Gt)}else ue>-1&&nt.splice(ue,1)}else if(Object(c.x)(G)){var Ce=nt.filter(function(cn){return cn.includes(Jt)});Ce.length>0&&this.clearStates(Ce),(ie=ie.filter(function(cn){return!cn.includes(Jt)})).push(Gt),this.set("states",ie)}if(vt){var we=this.get("model").type;vt.setState(we,U,G,this)}},ve.prototype.clearStates=function(U){var G=this,nt=G.getStates(),vt=G.get("shapeFactory"),Gt=G.get("model").type;U||(U=nt),Object(c.x)(U)&&(U=[U]);var Jt=nt.filter(function(ie){return U.indexOf(ie)===-1});G.set("states",Jt),U.forEach(function(ie){vt.setState(Gt,ie,!1,G)})},ve.prototype.getContainer=function(){return this.get("group")},ve.prototype.getKeyShape=function(){return this.get("keyShape")},ve.prototype.getModel=function(){return this.get("model")},ve.prototype.getType=function(){return this.get("type")},ve.prototype.getID=function(){return this.get("id")},ve.prototype.isItem=function(){return!0},ve.prototype.getStates=function(){return this.get("states")},ve.prototype.hasState=function(U){return this.getStates().indexOf(U)>=0},ve.prototype.refresh=function(){var U=this.get("model");this.updatePosition(U),this.updateShape(),this.afterUpdate(),this.clearCache()},ve.prototype.isOnlyMove=function(U){return!1},ve.prototype.update=function(U,G){G===void 0&&(G=!1);var nt=this.get("model"),vt=nt.visible,Gt=U.visible;vt!==Gt&&Gt!==void 0&&this.changeVisibility(Gt);var Jt=nt.x,ie=nt.y;U.x=isNaN(U.x)?nt.x:U.x,U.y=isNaN(U.y)?nt.y:U.y;var ue=this.get("styles");if(U.stateStyles){var Ce=U.stateStyles;Object(c.A)(ue,Ce),delete U.stateStyles}Object.assign(nt,U),G?this.updatePosition(U):(Jt===U.x&&ie===U.y||this.updatePosition(U),this.updateShape()),this.afterUpdate(),this.clearCache()},ve.prototype.updateShape=function(){var U=this.get("shapeFactory"),G=this.get("model"),nt=G.type;if(U.shouldUpdate(nt)&&nt===this.get("currentShape")){var vt=this.getShapeCfg(G);U.baseUpdate(nt,vt,this)}else this.draw();this.setOriginStyle(G),this.restoreStates(U,nt)},ve.prototype.updatePosition=function(U){var G=this.get("model"),nt=Object(c.s)(U.x)?G.x:U.x,vt=Object(c.s)(U.y)?G.y:U.y,Gt=this.get("group");Object(c.s)(nt)||Object(c.s)(vt)||(Gt.resetMatrix(),at(Gt,{x:nt,y:vt}),G.x=nt,G.y=vt,this.clearCache())},ve.prototype.getBBox=function(){var U=this.get("bboxCache");return U||(U=this.calculateBBox(),this.set("bboxCache",U)),U},ve.prototype.getCanvasBBox=function(){var U=this.get("bboxCanvasCache");return U||(U=this.calculateCanvasBBox(),this.set("bboxCanvasCache",U)),U},ve.prototype.toFront=function(){this.get("group").toFront()},ve.prototype.toBack=function(){this.get("group").toBack()},ve.prototype.show=function(){this.changeVisibility(!0)},ve.prototype.hide=function(){this.changeVisibility(!1)},ve.prototype.changeVisibility=function(U){var G=this.get("group");U?G.show():G.hide(),this.set("visible",U)},ve.prototype.isVisible=function(){return this.get("visible")},ve.prototype.enableCapture=function(U){var G=this.get("group");G&&G.set("capture",U)},ve.prototype.destroy=function(){if(!this.destroyed){var U=this.get("animate"),G=this.get("group");U&&G.stopAnimate(),this.clearCache(),G.remove(),this._cfg=null,this.destroyed=!0}},ve}(),si={source:"start",target:"end"},ti=function(ve){function U(){return ve!==null&&ve.apply(this,arguments)||this}return Object(r.b)(U,ve),U.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},U.prototype.setEnd=function(G,nt){var vt=si[G]+"Point",Gt=G+"Node",Jt=this.get(Gt);Jt&&!Jt.destroyed&&Jt.removeEdge(this),Object(c.w)(nt)?(this.set(vt,nt),this.set(Gt,null)):(nt.addEdge(this),this.set(Gt,nt),this.set(vt,null))},U.prototype.getLinkPoint=function(G,nt,vt){var Gt=si[G]+"Point",Jt=G+"Node",ie=this.get(Gt);if(!ie){var ue=this.get(Jt),Ce=G+"Anchor",we=this.getPrePoint(G,vt),cn=nt[Ce];Object(c.s)(cn)||(ie=ue.getLinkPointByAnchor(cn)),ie=ie||ue.getLinkPoint(we),Object(c.s)(ie.index)||this.set(G+"AnchorIndex",ie.index)}return ie},U.prototype.getPrePoint=function(G,nt){if(nt&&nt.length)return nt[G==="source"?0:nt.length-1];var vt=G==="source"?"target":"source";return this.getEndPoint(vt)},U.prototype.getEndPoint=function(G){var nt=G+"Node",vt=si[G]+"Point",Gt=this.get(nt);return Gt?Gt.get("model"):this.get(vt)},U.prototype.getControlPointsByCenter=function(G){var nt=this.getEndPoint("source"),vt=this.getEndPoint("target"),Gt=this.get("shapeFactory"),Jt=G.type;return Gt.getControlPoints(Jt,{startPoint:nt,endPoint:vt})},U.prototype.getEndCenter=function(G){var nt=G+"Node",vt=si[G]+"Point",Gt=this.get(nt);if(Gt){var Jt=Gt.getBBox();return{x:Jt.centerX,y:Jt.centerY}}return this.get(vt)},U.prototype.init=function(){ve.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},U.prototype.getShapeCfg=function(G){var nt=this.get("linkCenter"),vt=ve.prototype.getShapeCfg.call(this,G);if(nt)vt.startPoint=this.getEndCenter("source"),vt.endPoint=this.getEndCenter("target");else{var Gt=vt.controlPoints||this.getControlPointsByCenter(vt);vt.startPoint=this.getLinkPoint("source",G,Gt),vt.endPoint=this.getLinkPoint("target",G,Gt)}return vt.sourceNode=this.get("sourceNode"),vt.targetNode=this.get("targetNode"),vt},U.prototype.getModel=function(){var G=this.get("model"),nt=this.get("sourceNode"),vt=this.get("targetNode");return nt?delete G.sourceNode:G.source=this.get("startPoint"),vt?delete G.targetNode:G.target=this.get("endPoint"),Object(c.x)(G.source)||Object(c.w)(G.source)||(G.source=G.source.getID()),Object(c.x)(G.target)||Object(c.w)(G.target)||(G.target=G.target.getID()),G},U.prototype.setSource=function(G){this.setEnd("source",G),this.set("source",G)},U.prototype.setTarget=function(G){this.setEnd("target",G),this.set("target",G)},U.prototype.getSource=function(){return this.get("source")},U.prototype.getTarget=function(){return this.get("target")},U.prototype.updatePosition=function(){},U.prototype.update=function(G,nt){nt===void 0&&(nt=!1);var vt=this.get("model"),Gt=vt.visible,Jt=G.visible;Gt!==Jt&&Jt!==void 0&&this.changeVisibility(Jt);var ie=this.get("styles");if(G.stateStyles){var ue=G.stateStyles;Object(c.A)(ie,ue),delete G.stateStyles}Object.assign(vt,G),this.updateShape(),this.afterUpdate(),this.clearCache()},U.prototype.destroy=function(){var G=this.get("sourceNode"),nt=this.get("targetNode");G&&!G.destroyed&&G.removeEdge(this),nt&&!nt.destroyed&&nt.removeEdge(this),ve.prototype.destroy.call(this)},U}(Pr),$r=function(ve){function U(){return ve!==null&&ve.apply(this,arguments)||this}return Object(r.b)(U,ve),U.prototype.getNearestPoint=function(G,nt){for(var vt=0,Gt=G[0],Jt=Z(G[0],nt),ie=0;ie<G.length;ie++){var ue=G[ie],Ce=Z(ue,nt);Ce<Jt&&(Gt=ue,Jt=Ce,vt=ie)}return Gt.anchorIndex=vt,Gt},U.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},U.prototype.getEdges=function(){return this.get("edges")},U.prototype.getInEdges=function(){var G=this;return this.get("edges").filter(function(nt){return nt.get("target")===G})},U.prototype.getOutEdges=function(){var G=this;return this.get("edges").filter(function(nt){return nt.get("source")===G})},U.prototype.getNeighbors=function(G){var nt=this,vt=this.get("edges");return G==="target"?vt.filter(function(Gt){return Gt.getSource()===nt}).map(function(Gt){return Gt.getTarget()}):G==="source"?vt.filter(function(Gt){return Gt.getTarget()===nt}).map(function(Gt){return Gt.getSource()}):vt.map(function(Gt){return Gt.getSource()===nt?Gt.getTarget():Gt.getSource()})},U.prototype.getLinkPointByAnchor=function(G){return this.getAnchorPoints()[G]},U.prototype.getLinkPoint=function(G){var nt,vt,Gt=this.get("keyShape").get("type"),Jt=this.get("type"),ie=this.getBBox();Jt==="combo"?(nt=ie.centerX||(ie.maxX+ie.minX)/2,vt=ie.centerY||(ie.maxY+ie.minY)/2):(nt=ie.centerX,vt=ie.centerY);var ue,Ce=this.getAnchorPoints();switch(Gt){case"circle":ue=D({x:nt,y:vt,r:ie.width/2},G);break;case"ellipse":ue=V({x:nt,y:vt,rx:ie.width/2,ry:ie.height/2},G);break;default:ue=j(ie,G)}var we=ue;return Ce.length&&(we||(we=G),we=this.getNearestPoint(Ce,we)),we||(we={x:nt,y:vt}),we},U.prototype.getAnchorPoints=function(){var G=this.get("anchorPointsCache");if(!G){G=[];var nt=this.get("shapeFactory"),vt=this.getBBox(),Gt=this.get("model"),Jt=this.getShapeCfg(Gt),ie=Gt.type,ue=nt.getAnchorPoints(ie,Jt)||[];Object(c.f)(ue,function(Ce,we){var cn={x:vt.minX+Ce[0]*vt.width,y:vt.minY+Ce[1]*vt.height,anchorIndex:we};G.push(cn)}),this.set("anchorPointsCache",G)}return G},U.prototype.addEdge=function(G){this.get("edges").push(G)},U.prototype.lock=function(){this.set("locked",!0)},U.prototype.unlock=function(){this.set("locked",!1)},U.prototype.hasLocked=function(){return this.get("locked")},U.prototype.removeEdge=function(G){var nt=this.getEdges(),vt=nt.indexOf(G);vt>-1&&nt.splice(vt,1)},U.prototype.clearCache=function(){this.set("bboxCache",null),this.set("anchorPointsCache",null)},U.prototype.isOnlyMove=function(G){if(!G)return!1;var nt=!Object(c.s)(G.x),vt=!Object(c.s)(G.y),Gt=Object.keys(G);return Gt.length===1&&(nt||vt)||Gt.length===2&&nt&&vt},U}(Pr),ui=function(ve){function U(){return ve!==null&&ve.apply(this,arguments)||this}return Object(r.b)(U,ve),U.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},U.prototype.getShapeCfg=function(G){var nt=this.get("styles"),vt=this.get("bbox");if(nt&&vt){var Gt=G,Jt={r:Math.hypot(vt.height,vt.width)/2||bt.defaultCombo.size[0]/2,width:vt.width||bt.defaultCombo.size[0],height:vt.height||bt.defaultCombo.size[1]};Gt.style=Object(r.a)(Object(r.a)(Object(r.a)({},nt),G.style),Jt);var ie=G.padding||bt.defaultCombo.padding;return Object(c.t)(ie)?(Jt.r+=ie,Jt.width+=2*ie,Jt.height+=2*ie):(Jt.r+=ie[0],Jt.width+=ie[1]+ie[3]||2*ie[1],Jt.height+=ie[0]+ie[2]||2*ie[0]),this.set("sizeCache",Jt),Gt}return G},U.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var G=this.get("keyShape"),nt=this.get("group"),vt=kn(G,nt);vt.centerX=(vt.minX+vt.maxX)/2,vt.centerY=(vt.minY+vt.maxY)/2;var Gt=this.get("sizeCache"),Jt=this.get("bboxCache")||{},ie=Jt.x,ue=Jt.x;return Gt?(G.get("type")==="circle"?(vt.width=2*Gt.r,vt.height=2*Gt.r):(vt.width=Gt.width,vt.height=Gt.height),vt.minX=vt.centerX-vt.width/2,vt.minY=vt.centerY-vt.height/2,vt.maxX=vt.centerX+vt.width/2,vt.maxY=vt.centerY+vt.height/2):(vt.width=vt.maxX-vt.minX,vt.height=vt.maxY-vt.minY,vt.centerX=(vt.minX+vt.maxX)/2,vt.centerY=(vt.minY+vt.maxY)/2),vt.x=vt.minX,vt.y=vt.minY,vt.x===ie&&vt.y===ue||this.set("anchorPointsCache",null),vt}},U.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},U.prototype.getNodes=function(){return this.get("nodes")},U.prototype.getCombos=function(){return this.get("combos")},U.prototype.addChild=function(G){switch(G.getType()){case"node":this.addNode(G);break;case"combo":this.addCombo(G);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},U.prototype.addCombo=function(G){return this.get("combos").push(G),!0},U.prototype.addNode=function(G){return this.get("nodes").push(G),!0},U.prototype.removeChild=function(G){switch(G.getType()){case"node":this.removeNode(G);break;case"combo":this.removeCombo(G);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},U.prototype.removeCombo=function(G){if(G){var nt=this.getCombos(),vt=nt.indexOf(G);return vt>-1&&(nt.splice(vt,1),!0)}},U.prototype.removeNode=function(G){if(G){var nt=this.getNodes(),vt=nt.indexOf(G);return vt>-1&&(nt.splice(vt,1),!0)}},U.prototype.isOnlyMove=function(G){return!1},U.prototype.getBBox=function(){return this.set("bboxCanvasCache",null),this.calculateCanvasBBox()},U.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null),this.set("anchorPointsCache",null)},U.prototype.destroy=function(){if(!this.destroyed){var G=this.get("animate"),nt=this.get("group");G&&nt.stopAnimate(),this.clearCache(),this.set("sizeCache",null),this.set("bbox",null),nt.remove(),this._cfg=null,this.destroyed=!0}},U}($r),li=function(){function ve(U){this.graph=U,this.destroyed=!1}return ve.prototype.addItem=function(U,G){var nt=this,vt=this.graph,Gt=U==="vedge"?"edge":U,Jt=vt.get(Gt+"Group")||vt.get("group"),ie=Object(c.I)(Gt),ue=null,Ce=vt.get(Gt+Object(c.I)("stateStyles"))||{},we=vt.get("default"+ie);G.stateStyles&&(Ce=G.stateStyles),we&&Object(c.f)(we,function(Bn,Zn){Object(c.v)(Bn)&&!Object(c.m)(Bn)?G[Zn]=Object(c.e)({},Bn,G[Zn]):Object(c.m)(Bn)?G[Zn]=G[Zn]||Object(c.c)(we[Zn]):G[Zn]=G[Zn]||we[Zn]});var cn=vt.get(Gt+"Mapper");if(cn){var Cn=cn(G);Cn.stateStyles&&(Ce=Cn.stateStyles,delete Cn.stateStyles),Object(c.f)(Cn,function(Bn,Zn){Object(c.v)(Bn)&&!Object(c.m)(Bn)?G[Zn]=Object(c.e)({},G[Zn],Bn):G[Zn]=Cn[Zn]||G[Zn]})}if(vt.emit("beforeadditem",{type:U,model:G}),U==="edge"||U==="vedge"){var _t=void 0,Xt=void 0;if(_t=G.source,Xt=G.target,_t&&Object(c.x)(_t)&&(_t=vt.findById(_t)),Xt&&Object(c.x)(Xt)&&(Xt=vt.findById(Xt)),!_t||!Xt)return void console.warn("The source or target node of edge "+G.id+" does not exist!");_t.getType&&_t.getType()==="combo"&&(G.isComboEdge=!0),Xt.getType&&Xt.getType()==="combo"&&(G.isComboEdge=!0),ue=new ti({model:G,source:_t,target:Xt,styles:Ce,linkCenter:vt.get("linkCenter"),group:Jt.addGroup()})}else if(U==="node")ue=new $r({model:G,styles:Ce,group:Jt.addGroup()});else if(U==="combo"){var Se=G.children,Wt=Br(Se,vt);G.x=Wt.x||G.x||100*Math.random(),G.y=Wt.y||G.y||100*Math.random();var ce=Jt.addGroup();ce.setZIndex(G.depth);var yn=(ue=new ui({model:G,styles:Ce,bbox:Wt,group:ce})).getModel();(Se||[]).forEach(function(Bn){var Zn=vt.findById(Bn.id);ue.addChild(Zn),Bn.depth=yn.depth+2}),G.collapsed&&setTimeout(function(){vt.collapseCombo(ue),nt.updateCombo(ue,[])},250)}if(ue)return vt.get(U+"s").push(ue),vt.get("itemMap")[ue.get("id")]=ue,vt.emit("afteradditem",{item:ue,model:G}),ue},ve.prototype.updateItem=function(U,G){var nt,vt,Gt=this.graph;if(Object(c.x)(U)&&(U=Gt.findById(U)),U&&!U.destroyed){var Jt="";U.getType&&(Jt=U.getType());var ie=Gt.get(Jt+"Mapper"),ue=U.getModel(),Ce=U.isOnlyMove(G);if(ie){var we=ie(Object(c.e)({},ue,G)),cn=Object(c.e)({},ue,we,G);we.stateStyles&&(U.set("styles",cn.stateStyles),delete cn.stateStyles),Object(c.f)(cn,function(yn,Bn){G[Bn]=yn})}else Object(c.f)(G,function(yn,Bn){ue[Bn]&&Object(c.v)(yn)&&!Object(c.m)(yn)&&(G[Bn]=Object(r.a)(Object(r.a)({},ue[Bn]),G[Bn]))});if(Gt.emit("beforeupdateitem",{item:U,cfg:G}),Jt==="edge"){if(G.source){var Cn=G.source;Object(c.x)(Cn)&&(Cn=Gt.findById(Cn)),U.setSource(Cn)}if(G.target){var _t=G.target;Object(c.x)(_t)&&(_t=Gt.findById(_t)),U.setTarget(_t)}U.update(G)}if(Jt==="node"||Jt==="combo"){U.update(G,Ce);var Xt=U.getEdges(),Se=ii(G);if(Se&&Jt==="node")Object(c.f)(Xt,function(yn){yn.refresh()});else if(Se&&Jt==="combo"){var Wt=U.get("shapeFactory"),ce=ue.type||"circle";(ue.animate===void 0||G.animate===void 0?(vt=(nt=Wt[ce])===null||nt===void 0?void 0:nt.options)===null||vt===void 0?void 0:vt.animate:ue.animate||G.animate)?setTimeout(function(){if(U&&!U.destroyed){var yn=U.getKeyShape();yn&&!yn.destroyed&&Object(c.f)(Xt,function(Bn){Bn&&!Bn.destroyed&&Bn.refresh()})}},201):Object(c.f)(Xt,function(yn){yn.refresh()})}}Gt.emit("afterupdateitem",{item:U,cfg:G})}},ve.prototype.updateCombo=function(U,G){var nt,vt,Gt=this.graph;if(Object(c.x)(U)&&(U=Gt.findById(U)),U&&!U.destroyed){var Jt=Br(G,Gt);U.set("bbox",Jt),U.update({x:Jt.x,y:Jt.y});var ie=U.getEdges()||[],ue=ie.length,Ce=U.getModel(),we=U.get("shapeFactory"),cn=Ce.type||"circle";if(Ce.animate===void 0?(vt=(nt=we[cn])===null||nt===void 0?void 0:nt.options)===null||vt===void 0?void 0:vt.animate:Ce.animate)setTimeout(function(){if(U&&!U.destroyed){var Xt=U.getKeyShape();if(Xt&&!Xt.destroyed)for(var Se=0;Se<ue;Se++){var Wt=ie[Se];Wt&&!Wt.destroyed&&Wt.refresh()}}},201);else for(var Cn=0;Cn<ue;Cn++){var _t=ie[Cn];_t&&!_t.destroyed&&_t.refresh()}}},ve.prototype.collapseCombo=function(U){var G=this.graph;Object(c.x)(U)&&(U=G.findById(U));var nt=U.getChildren();nt.nodes.forEach(function(vt){G.hideItem(vt)}),nt.combos.forEach(function(vt){G.hideItem(vt)})},ve.prototype.expandCombo=function(U){var G=this.graph;Object(c.x)(U)&&(U=G.findById(U));var nt=U.getChildren();nt.nodes.forEach(function(vt){G.showItem(vt)}),nt.combos.forEach(function(vt){vt.getModel().collapsed?vt.show():G.showItem(vt)})},ve.prototype.removeItem=function(U){var G=this,nt=this.graph;if(Object(c.x)(U)&&(U=nt.findById(U)),U&&!U.destroyed){var vt=Object(c.c)(U.getModel());nt.emit("beforeremoveitem",{item:vt});var Gt="";U.getType&&(Gt=U.getType());var Jt=nt.get(Gt+"s"),ie=Jt.indexOf(U);if(ie>-1&&Jt.splice(ie,1),Gt==="edge"){var ue=nt.get("v"+Gt+"s"),Ce=ue.indexOf(U);Ce>-1&&ue.splice(Ce,1)}var we=U.get("id");delete nt.get("itemMap")[we];var cn=nt.get("comboTrees"),Cn=U.get("id");if(Gt==="node"){var _t=U.getModel().comboId;if(cn){var Xt=cn,Se=!1;cn.forEach(function(Kn){Se||Qn(Kn,function($e){if($e.id===Cn&&Xt){var je=Xt.indexOf($e);return Xt.splice(je,1),Se=!0,!1}return Xt=$e.children,!0})})}for(var Wt=(Zn=U.getEdges()).length-1;Wt>=0;Wt--)nt.removeItem(Zn[Wt],!1);_t&&nt.updateCombo(_t)}else if(Gt==="combo"){var ce,yn=U.getModel().parentId,Bn=!1;(cn||[]).forEach(function(Kn){Bn||Qn(Kn,function($e){return $e.id!==Cn||(ce=$e,Bn=!0,!1)})}),ce.removed=!0,ce&&ce.children&&ce.children.forEach(function(Kn){G.removeItem(Kn.id)});var Zn;for(Wt=(Zn=U.getEdges()).length;Wt>=0;Wt--)nt.removeItem(Zn[Wt],!1);yn&&nt.updateCombo(yn)}U.destroy(),nt.emit("afterremoveitem",{item:vt})}},ve.prototype.setItemState=function(U,G,nt){var vt=this.graph,Gt=G;Object(c.x)(nt)&&(Gt=G+":"+nt),U.hasState(Gt)===nt&&nt||Object(c.x)(nt)&&U.hasState(Gt)||(vt.emit("beforeitemstatechange",{item:U,state:Gt,enabled:nt}),U.setState(G,nt),vt.autoPaint(),vt.emit("afteritemstatechange",{item:U,state:Gt,enabled:nt}))},ve.prototype.priorityState=function(U,G){var nt=this.graph,vt=U;Object(c.x)(U)&&(vt=nt.findById(U)),this.setItemState(vt,G,!1),this.setItemState(vt,G,!0)},ve.prototype.clearItemStates=function(U,G){var nt=this.graph;Object(c.x)(U)&&(U=nt.findById(U)),nt.emit("beforeitemstatesclear",{item:U,states:G}),U.clearStates(G),nt.emit("afteritemstatesclear",{item:U,states:G})},ve.prototype.refreshItem=function(U){var G=this.graph;Object(c.x)(U)&&(U=G.findById(U)),G.emit("beforeitemrefresh",{item:U}),U.refresh(),G.emit("afteritemrefresh",{item:U})},ve.prototype.addCombos=function(U,G){var nt=this,vt=this.graph;(U||[]).forEach(function(Jt){ir(Jt,function(ie){var ue;return G.forEach(function(Ce){Ce.id===ie.id&&(Ce.children=ie.children,Ce.depth=ie.depth,ue=Ce)}),ue&&nt.addItem("combo",ue),!0})});var Gt=vt.get("comboGroup");Gt&&Gt.sort()},ve.prototype.changeItemVisibility=function(U,G){var nt=this,vt=this.graph;if(Object(c.x)(U)&&(U=vt.findById(U)),U){if(vt.emit("beforeitemvisibilitychange",{item:U,visible:G}),U.changeVisibility(G),U.getType&&U.getType()==="node"){var Gt=U.getEdges();Object(c.f)(Gt,function(we){(!G||we.get("source").isVisible()&&we.get("target").isVisible())&&nt.changeItemVisibility(we,G)})}else if(U.getType&&U.getType()==="combo"){var Jt=vt.get("comboTrees"),ie=U.get("id"),ue=[],Ce=!1;(Jt||[]).forEach(function(we){Ce||we.children&&we.children.length!==0&&Qn(we,function(cn){return cn.id!==ie||(ue=cn.children,Ce=!0,!1)})}),ue&&ue.forEach(function(we){var cn=vt.findById(we.id);nt.changeItemVisibility(cn,G)}),Gt=U.getEdges(),Object(c.f)(Gt,function(we){(!G||we.get("source").isVisible()&&we.get("target").isVisible())&&nt.changeItemVisibility(we,G)})}return vt.emit("afteritemvisibilitychange",{item:U,visible:G}),U}console.warn("The item to be shown or hidden does not exist!")},ve.prototype.destroy=function(){this.graph=null,this.destroyed=!0},ve}(),xi=null,Ci=function(){function ve(U){this.graph=U,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return ve.checkCache=function(U,G,nt){if(nt[G]){var vt=nt[G].indexOf(U);vt>=0&&nt[G].splice(vt,1)}},ve.cacheState=function(U,G,nt){nt[G]||(nt[G]=[]),nt[G].push(U)},ve.prototype.updateState=function(U,G,nt){var vt=this,Gt=ve.checkCache,Jt=ve.cacheState;if(!U.destroyed){var ie=this.cachedStates,ue=ie.enabled,Ce=ie.disabled;nt?(Gt(U,G,Ce),Jt(U,G,ue)):(Gt(U,G,ue),Jt(U,G,Ce)),xi&&clearTimeout(xi),xi=setTimeout(function(){xi=null,vt.updateGraphStates()},16)}},ve.prototype.updateStates=function(U,G,nt){var vt=this;Object(c.x)(G)?this.updateState(U,G,nt):G.forEach(function(Gt){vt.updateState(U,Gt,nt)})},ve.prototype.updateGraphStates=function(){var U=this.graph.get("states"),G=this.cachedStates;Object(c.f)(G.disabled,function(nt,vt){U[vt]&&(U[vt]=U[vt].filter(function(Gt){return nt.indexOf(Gt)<0&&!nt.destroyed}))}),Object(c.f)(G.enabled,function(nt,vt){if(U[vt]){var Gt={};U[vt].forEach(function(Jt){Jt.destroyed||(Gt[Jt.get("id")]=!0)}),nt.forEach(function(Jt){if(!Jt.destroyed){var ie=Jt.get("id");Gt[ie]||(Gt[ie]=!0,U[vt].push(Jt))}})}else U[vt]=nt}),this.graph.emit("graphstatechange",{states:U}),this.cachedStates={enabled:{},disabled:{}}},ve.prototype.destroy=function(){this.graph=null,this.cachedStates=null,xi&&clearTimeout(xi),xi=null,this.destroyed=!0},ve}(),di=t(31),Ti=function(U,G){return U&&G?U.replace(/\\?\{([^{}]+)\}/g,function(nt,vt){if(nt.charAt(0)==="\\")return nt.slice(1);var Gt=G[vt];return Gt===0&&(Gt="0"),Gt||""}):U},pi=function(U){var G=[];if(U.length<2)throw new Error("point length must largn than 2, now it's "+U.length);for(var nt=0,vt=U;nt<vt.length;nt++){var Gt=vt[nt],Jt=Gt.x,ie=Gt.y;G.push(Jt),G.push(ie)}var ue=Object(di.a)(G);return ue.unshift(["M",U[0].x,U[0].y]),ue},Ni=function(U,G,nt,vt){nt===void 0&&(nt=0),vt===void 0&&(vt=0);var Gt={x:(1-nt)*U.x+nt*G.x,y:(1-nt)*U.y+nt*G.y},Jt=[0,0];d.c.normalize(Jt,[G.x-U.x,G.y-U.y]),Jt&&(Jt[0]||Jt[1])||(Jt=[0,0]);var ie=[-Jt[1]*vt,Jt[0]*vt];return Gt.x+=ie[0],Gt.y+=ie[1],Gt},Bi=function(U,G){var nt=U.length;if(!nt)return"";for(var vt="",Gt=0;Gt<nt;Gt++){var Jt=U[Gt];vt+=Ti(Gt===0?"M{x} {y}":"L{x} {y}",Jt)}return G&&(vt+="Z"),vt},Fi=function(U){var G=[];return U.forEach(function(nt){if(nt[0]!=="A")for(var vt=1;vt<nt.length;vt+=2)G.push([nt[vt],nt[vt+1]]);else{var Gt=nt.length;G.push([nt[Gt-2],nt[Gt-1]])}}),G},ma=function(U){if(U.length<2)throw new Error("point length must largn than 2, now it's "+U.length);var G=U[0],nt=U[1],vt=U[U.length-1],Gt=U[U.length-2];U.unshift(vt),U.unshift(Gt),U.push(G),U.push(nt);for(var Jt=[],ie=1;ie<U.length-2;ie+=1){var ue=U[ie-1].x,Ce=U[ie-1].y,we=U[ie].x,cn=U[ie].y,Cn=U[ie+1].x,_t=U[ie+1].y,Xt=we+(Cn-ue)/6,Se=cn+(_t-Ce)/6,Wt=Cn-((ie!==U.length-2?U[ie+2].x:Cn)-we)/6,ce=_t-((ie!==U.length-2?U[ie+2].y:_t)-cn)/6;Jt.push(["C",Xt,Se,Wt,ce,Cn,_t])}return Jt.unshift(["M",vt.x,vt.y]),Jt},ua=function(U,G){return d.c.scale([0,0],d.c.normalize([0,0],U),G)},Ra=function(U,G){var nt=[U[1]-G[1],G[0]-U[0]],vt=Math.sqrt(nt[0]*nt[0]+nt[1]*nt[1]);if(vt===0)throw new Error("p0 should not be equal to p1");return[nt[0]/vt,nt[1]/vt]},xa=function(U,G){return[G[0]-U[0],G[1]-U[1]]};function Ma(ve,U){if(!ve||ve.length<1)return"";if(ve.length===1)return function(ue){var Ce=[ue[0][0],ue[0][1]-U],we=[ue[0][0],ue[0][1]+U];return"M "+Ce+" A "+U+","+U+",0,0,0,"+we+" A "+U+","+U+",0,0,0,"+Ce}(ve);if(ve.length===2)return function(ue){var Ce=d.c.scale([0,0],Ra(ue[0],ue[1]),U),we=d.c.scale([0,0],Ce,-1),cn=d.c.add([0,0],ue[0],Ce),Cn=d.c.add([0,0],ue[1],Ce),_t=d.c.add([0,0],ue[1],we),Xt=d.c.add([0,0],ue[0],we);return"M "+cn+" L "+Cn+" A "+[U,U,"0,0,0",_t].join(",")+" L "+Xt+" A "+[U,U,"0,0,0",cn].join(",")}(ve);for(var G=new Array(ve.length),nt=0;nt<G.length;++nt){var vt=nt===0?ve[ve.length-1]:ve[nt-1],Gt=ve[nt],Jt=d.c.scale([0,0],Ra(vt,Gt),U);G[nt]=[d.c.add([0,0],vt,Jt),d.c.add([0,0],Gt,Jt)]}var ie="A "+[U,U,"0,0,0,"].join(",");return(G=G.map(function(ue,Ce){var we="";return Ce===0&&(we="M "+G[G.length-1][1]+" "),we+=ie+ue[0]+" L "+ue[1]})).join(" ")}function Qi(ve,U){var G,nt,vt,Gt=ve.length;if(!ve||Gt<1)return"";if(Gt===1)return nt=[(G=ve)[0][0],G[0][1]-U],vt=[G[0][0],G[0][1]+U],"M "+nt+" A "+[U,U,"0,0,0",vt].join(",")+" A "+[U,U,"0,0,0",nt].join(",");if(Gt===2)return function(we){var cn=xa(we[0],we[1]),Cn=ua(cn,U),_t=d.c.add([0,0],we[0],d.c.scale([0,0],Cn,-1)),Xt=d.c.add([0,0],we[1],Cn),Se=1.2*U,Wt=ua(d.c.normalize([0,0],cn),Se),ce=d.c.scale([0,0],Wt,-1),yn=d.c.add([0,0],_t,ce),Bn=d.c.add([0,0],Xt,ce),Zn=d.c.add([0,0],_t,Wt);return"M "+_t+" C "+[yn,Bn,Xt].join(",")+" S "+[Zn,_t].join(",")+" Z"}(ve);for(var Jt=ve.map(function(we,cn){var Cn=ve[(cn+1)%Gt];return{p:we,v:d.c.normalize([0,0],xa(we,Cn))}}),ie=0;ie<Jt.length;++ie){var ue=ie>0?ie-1:Gt-1,Ce=d.c.normalize([0,0],d.c.add([0,0],Jt[ue].v,d.c.scale([0,0],Jt[ie].v,-1)));Jt[ie].p=d.c.add([0,0],Jt[ie].p,d.c.scale([0,0],Ce,U))}return Jt.map(function(we){var cn=we.p;return{x:cn[0],y:cn[1]}})}var ka=function(U,G,nt){return(U.y-nt.y)*(G.x-nt.x)-(U.x-nt.x)*(G.y-nt.y)},vo=function(U){var G=U.map(function(Jt){return{x:Jt.getModel().x,y:Jt.getModel().y}});if(G.sort(function(Jt,ie){return Jt.x===ie.x?Jt.y-ie.y:Jt.x-ie.x}),G.length===1)return G;for(var nt=[],vt=0;vt<G.length;vt++){for(;nt.length>=2&&ka(nt[nt.length-2],nt[nt.length-1],G[vt])<=0;)nt.pop();nt.push(G[vt])}var Gt=[];for(vt=G.length-1;vt>=0;vt--){for(;Gt.length>=2&&ka(Gt[Gt.length-2],Gt[Gt.length-1],G[vt])<=0;)Gt.pop();Gt.push(G[vt])}return Gt.pop(),nt.pop(),nt.concat(Gt)},za={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function Ga(ve,U,G){var nt=!1,vt=function(ue,Ce){return U.cells[ue+Ce*U.width]},Gt=function(ue,Ce){var we=0;return vt(ue-1,Ce-1)>=G&&(we+=1),vt(ue,Ce-1)>G&&(we+=2),vt(ue-1,Ce)>G&&(we+=4),vt(ue,Ce)>G&&(we+=8),we},Jt=function(ue,Ce){for(var we,cn,Cn=ue,_t=Ce,Xt=0;Xt<U.width*U.height;Xt++){if(we=Cn,cn=_t,ve.findIndex(function(Wt){return Wt.x===Cn&&Wt.y===_t})>-1){if(ve[0].x===Cn&&ve[0].y===_t)return!0}else ve.push({x:Cn,y:_t});var Se=Gt(Cn,_t);switch(Se){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:Cn++;break;case 12:case 14:case 4:Cn--;break;case 6:we===0&&(cn===-1?Cn-=1:Cn+=1);break;case 1:case 13:case 5:_t--;break;case 9:we===1&&(cn===0?_t-=1:_t+=1);break;case 10:case 8:case 11:_t++;break;default:return console.warn("Marching squares invalid state: "+Se),!0}}};this.march=function(){for(var ie=0;ie<U.width&&!nt;ie+=1)for(var ue=0;ue<U.height&&!nt;ue+=1)vt(ie,ue)>G&&Gt(ie,ue)!==15&&(nt=Jt(ie,ue));return nt}}var eo=function(U,G){var nt=Number.POSITIVE_INFINITY,vt=null;return U.forEach(function(Gt){var Jt=P(Gt,G);Jt>=0&&Jt<nt&&(vt=Gt,nt=Jt)}),vt};function ae(ve,U,G,nt,vt){var Gt=function(Jt,ie,ue){var Ce=null,we=Number.POSITIVE_INFINITY;return ie.forEach(function(cn){var Cn={x:Jt.getModel().x,y:Jt.getModel().y},_t={x:cn.getModel().x,y:cn.getModel().y},Xt=k(Cn,_t),Se=new J(Cn.x,Cn.y,_t.x,_t.y),Wt=ue.reduce(function(ce,yn){return P(yn,Se)>0?ce+1:ce},0);Xt*Math.pow(Wt+1,2)<we&&(Ce=cn,we=Xt*Math.pow(Wt+1,2))}),Ce}(ve,G,U);return Gt===null?[]:function(Jt){for(var ie=[];Jt.length>0;){var ue=Jt.pop();if(Jt.length===0){ie.push(ue);break}var Ce=Jt.pop(),we=new J(ue.x1,ue.y1,Ce.x2,Ce.y2);eo(U,we)?(ie.push(ue),Jt.push(Ce)):Jt.push(we)}return ie}(function(Jt,ie,ue,Ce){var we=[],cn=[];cn.push(Jt);for(var Cn=!0,_t=0,Xt=function(yn,Bn){var Zn=!1;return Bn.forEach(function(Kn){Zn||(y(yn,{x:Kn.x1,y:Kn.y1})||y(yn,{x:Kn.x2,y:Kn.y2}))&&(Zn=!0)}),Zn},Se=function(yn,Bn){for(var Zn=0,Kn=Bn;Zn<Kn.length;Zn++){var $e=Kn[Zn].getBBox(),je=[[$e.x,$e.y],[$e.x+$e.width,$e.y],[$e.x,$e.y+$e.height],[$e.x+$e.width,$e.y+$e.height]];if(mt(je,yn.x,yn.y))return!0}return!1};Cn&&_t<ue;){Cn=!1;for(var Wt=function(){var yn=cn.pop(),Bn=eo(ie,yn);if(Bn){var Zn=_(Bn,yn),Kn=Zn[0];if(Zn[1]===2){var $e=function(L){for(var St=Ce,$t=Oe(Bn,St,Kn,L),ye=Xt($t,cn)||Xt($t,we),Zt=Se($t,ie);!ye&&Zt&&St>=1;)$t=Oe(Bn,St/=1.5,Kn,L),ye=Xt($t,cn)||Xt($t,we),Zt=Se($t,ie);!$t||ye||L&&Zt||(cn.push(new J(yn.x1,yn.y1,$t.x,$t.y)),cn.push(new J($t.x,$t.y,yn.x2,yn.y2)),Cn=!0)};$e(!0),Cn||$e(!1)}}Cn||we.push(yn),_t+=1};!Cn&&cn.length;)Wt()}for(;cn.length;)we.push(cn.pop());return we}(new J(ve.getModel().x,ve.getModel().y,Gt.getModel().x,Gt.getModel().y),U,nt,vt))}var Kt=function(U,G,nt){var vt=Object.assign(za,nt),Gt=Q(U.map(function($e){return{x:$e.getModel().x,y:$e.getModel().y}}));U=U.sort(function($e,je){return k({x:$e.getModel().x,y:$e.getModel().y},Gt)-k({x:je.getModel().x,y:je.getModel().y},Gt)});var Jt=[],ie=[];U.forEach(function($e){ae($e,G,Jt,vt.maxRoutingIterations,vt.morphBuffer).forEach(function(je){ie.push(je)}),Jt.push($e)});for(var ue,Ce,we,cn,Cn,_t=function($e,je,L){var St={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},$t=[];$e.forEach(function(he){$t.push(he.getBBox())}),je.forEach(function(he){$t.push(he.getBBox())});for(var ye=0,Zt=$t;ye<Zt.length;ye++){var de=Zt[ye];St.minX=(de.minX<St.minX?de.minX:St.minX)-L,St.minY=(de.minY<St.minY?de.minY:St.minY)-L,St.maxX=(de.maxX>St.maxX?de.maxX:St.maxX)+L,St.maxY=(de.maxY>St.maxY?de.maxY:St.maxY)+L}return St.width=St.maxX-St.minX,St.height=St.maxY-St.minY,St.x=St.minX,St.y=St.minY,St}(U,ie,vt.nodeR0),Xt=(ue=_t.width,Ce=_t.height,we=vt.pixelGroupSize,cn=Math.ceil(ue/we),Cn=Math.ceil(Ce/we),{cells:new Float32Array(Math.max(0,cn*Cn)).fill(0),width:cn,height:Cn}),Se=[],Wt=[],ce=0;ce<vt.maxMarchingIterations;ce++)if(te(U,G,ie,_t,Xt,vt),Wt=[],new Ga(Se=[],Xt,vt.threshold).march()){var yn=Se.map(function($e){return{x:Math.round($e.x*vt.pixelGroupSize+_t.minX),y:Math.round($e.y*vt.pixelGroupSize+_t.minY)}});if(yn){var Bn=yn.length;if(vt.skip>1)for(Bn=Math.floor(yn.length/vt.skip);Bn<3&&vt.skip>1;)vt.skip-=1,Bn=Math.floor(yn.length/vt.skip);for(var Zn=0,Kn=0;Kn<Bn;Kn+=1,Zn+=vt.skip)Wt.push({x:yn[Zn].x,y:yn[Zn].y})}if(Wt&&function(){for(var $e=0,je=U;$e<je.length;$e++){var L=je[$e],St=Wt.map(function($t){return[$t.x,$t.y]});if(!mt(St,L.getBBox().centerX,L.getBBox().centerY))return!1}return!0}())return Wt;if(vt.threshold*=.9,ce<=.5*vt.maxMarchingIterations)vt.memberInfluenceFactor*=1.2,vt.edgeInfluenceFactor*=1.2;else{if(!(vt.nonMemberInfluenceFactor!==0&&G.length>0))break;vt.nonMemberInfluenceFactor*=.8}}return Wt};function te(ve,U,G,nt,vt,Gt){function Jt(Cn,_t){var Xt=Math.floor((Cn-_t)/Gt.pixelGroupSize);return Xt<0?0:Xt}function ie(Cn,_t){return Cn*Gt.pixelGroupSize+_t}var ue=(Gt.nodeR0-Gt.nodeR1)*(Gt.nodeR0-Gt.nodeR1),Ce=(Gt.edgeR0-Gt.edgeR1)*(Gt.edgeR0-Gt.edgeR1),we=function(_t,Xt){return[Math.min(Jt(_t.minX,Xt+nt.minX),vt.width),Math.min(Jt(_t.minY,Xt+nt.minY),vt.height),Math.min(Jt(_t.maxX,-Xt+nt.minX),vt.width),Math.min(Jt(_t.maxY,-Xt+nt.minY),vt.height)]},cn=function(_t,Xt){for(var Se=_t.getBBox(),Wt=we(Se,Gt.nodeR1),ce=Wt[0],yn=Wt[1],Bn=Wt[2],Zn=Wt[3],Kn=yn;Kn<Zn;Kn+=1)for(var $e=ce;$e<Bn;$e+=1)if(!(Xt<0&&vt[$e+Kn*vt.width]<=0)){var je=ie($e,nt.minX),L=ie(Kn,nt.minY),St=B({x:je,y:L},{x:Se.minX,y:Se.minY,width:Se.width,height:Se.height});if(St<Math.pow(Gt.nodeR1,2)){var $t=Math.sqrt(St)-Gt.nodeR1;vt.cells[$e+Kn*vt.width]+=Xt*$t*$t}}};Gt.nodeInfluenceFactor&&ve.forEach(function(Cn){cn(Cn,Gt.nodeInfluenceFactor/ue)}),Gt.edgeInfluenceFactor&&G.forEach(function(Cn){(function(_t,Xt){for(var Se=_t.getBBox(),Wt=we(Se,Gt.edgeR1),ce=Wt[0],yn=Wt[1],Bn=Wt[2],Zn=Wt[3],Kn=yn;Kn<Zn;Kn+=1)for(var $e=ce;$e<Bn;$e+=1)if(!(Xt<0&&vt.cells[$e+Kn*vt.width]<=0)){var je=ie($e,nt.minX),L=ie(Kn,nt.minY),St=p({x:je,y:L},_t);if(St<Math.pow(Gt.edgeR1,2)){var $t=Math.sqrt(St)-Gt.edgeR1;vt.cells[$e+Kn*vt.width]+=Xt*$t*$t}}})(Cn,Gt.edgeInfluenceFactor/Ce)}),Gt.negativeNodeInfluenceFactor&&U.forEach(function(Cn){cn(Cn,Gt.negativeNodeInfluenceFactor/ue)})}function Oe(ve,U,G,nt){var vt=ve.getBBox(),Gt=G[0],Jt=G[1],ie=G[2],ue=G[3],Ce={topLeft:{x:vt.minX-U,y:vt.minY-U},topRight:{x:vt.maxX+U,y:vt.minY-U},bottomLeft:{x:vt.minX-U,y:vt.maxY+U},bottomRight:{x:vt.maxX+U,y:vt.maxY+U}},we=vt.height*vt.width;function cn(Cn,_t){return vt.width*(.5*(Cn.y-vt.minY+(_t.y-vt.minY)))}if(Jt)return Gt?nt?Ce.topLeft:Ce.bottomRight:ie?nt?Ce.bottomLeft:Ce.topRight:cn(Jt,ue)<.5*we?Jt.y>ue.y?nt?Ce.topLeft:Ce.bottomRight:nt?Ce.topRight:Ce.bottomLeft:Jt.y<ue.y?nt?Ce.bottomLeft:Ce.topRight:nt?Ce.bottomRight:Ce.topLeft;if(ue){if(Gt)return nt?Ce.topRight:Ce.bottomLeft;if(ie)return nt?Ce.bottomRight:Ce.topLeft}return cn(Gt,ie)<.5*we?Gt.x>ie.x?nt?Ce.topLeft:Ce.bottomRight:nt?Ce.bottomLeft:Ce.topRight:Gt.x<ie.x?nt?Ce.topRight:Ce.bottomLeft:nt?Ce.bottomRight:Ce.topLeft}var Ze=function(){function ve(U,G){this.cfg=Object(c.e)(this.getDefaultCfg(),G),this.graph=U,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(nt){return Object(c.x)(nt)?U.findById(nt):nt}),this.nonMembers=this.cfg.nonMembers.map(function(nt){return Object(c.x)(nt)?U.findById(nt):nt}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return ve.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},ve.prototype.setPadding=function(){var U=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+U:10+U,this.cfg.bubbleCfg={nodeR0:this.padding-U,nodeR1:this.padding-U,morphBuffer:this.padding-U}},ve.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},ve.prototype.calcPath=function(U,G){var nt,vt,Gt;switch(this.type){case"round-convex":Gt=Ma((nt=vo(U)).map(function(Jt){return[Jt.x,Jt.y]}),this.padding),vt=Object(di.b)(Gt);break;case"smooth-convex":(nt=vo(U)).length===2?(Gt=Ma(nt.map(function(Jt){return[Jt.x,Jt.y]}),this.padding),vt=Object(di.b)(Gt)):nt.length>2&&(Gt=Qi(nt.map(function(Jt){return[Jt.x,Jt.y]}),this.padding),vt=ma(Gt));break;case"bubble":vt=(nt=Kt(U,G,this.cfg.bubbleCfg)).length>=2&&ma(nt)}return vt},ve.prototype.render=function(){this.group.addShape("path",{attrs:Object(r.a)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},ve.prototype.addMember=function(U){if(U){Object(c.x)(U)&&(U=this.graph.findById(U)),this.members.push(U);var G=this.nonMembers.indexOf(U);return G>-1&&this.nonMembers.splice(G,1),this.updateData(this.members,this.nonMembers),!0}},ve.prototype.addNonMember=function(U){if(U){Object(c.x)(U)&&(U=this.graph.findById(U)),this.nonMembers.push(U);var G=this.members.indexOf(U);return G>-1&&this.members.splice(G,1),this.updateData(this.members,this.nonMembers),!0}},ve.prototype.removeMember=function(U){if(U){Object(c.x)(U)&&(U=this.graph.findById(U));var G=this.members.indexOf(U);return G>-1&&(this.members.splice(G,1),this.updateData(this.members,this.nonMembers),!0)}},ve.prototype.removeNonMember=function(U){if(U){Object(c.x)(U)&&(U=this.graph.findById(U));var G=this.nonMembers.indexOf(U);return G>-1&&(this.nonMembers.splice(G,1),this.updateData(this.members,this.nonMembers),!0)}},ve.prototype.updateData=function(U,G){var nt=this;this.group.findById(this.id).remove(),U&&(this.members=U.map(function(vt){return Object(c.x)(vt)?nt.graph.findById(vt):vt})),G&&(this.nonMembers=G.map(function(vt){return Object(c.x)(vt)?nt.graph.findById(vt):vt})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},ve.prototype.updateStyle=function(U){this.group.findById(this.id).attr(Object(r.a)({},U))},ve.prototype.updateCfg=function(U){var G=this;this.cfg=Object(c.e)(this.cfg,U),this.id=this.cfg.id,this.group=this.cfg.group,U.members&&(this.members=this.cfg.members.map(function(nt){return Object(c.x)(nt)?G.graph.findById(nt):nt})),U.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(nt){return Object(c.x)(nt)?G.graph.findById(nt):nt})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},ve.prototype.contain=function(U){var G,nt,vt=this,Gt=(G=Object(c.x)(U)?this.graph.findById(U):U).getKeyShape();if(G.get("type")==="path")nt=Fi(Gt.attr("path"));else{var Jt=Gt.getCanvasBBox();nt=[[Jt.minX,Jt.minY],[Jt.maxX,Jt.minY],[Jt.maxX,Jt.maxY],[Jt.minX,Jt.maxY]]}return nt=nt.map(function(ie){var ue=vt.graph.getPointByCanvas(ie[0],ie[1]);return[ue.x,ue.y]}),wt(nt,Fi(this.path))},ve.prototype.destroy=function(){this.group.remove(),this.cfg=null},ve}(),An=d.a.transform,qn=function(ve){function U(G){var nt=ve.call(this)||this;return nt.cfg=Object(c.e)(nt.getDefaultCfg(),G),nt.init(),nt.animating=!1,nt.destroyed=!1,nt.cfg.enabledStack&&(nt.undoStack=new C.Stack(nt.cfg.maxStep),nt.redoStack=new C.Stack(nt.cfg.maxStep)),nt}return Object(r.b)(U,ve),U.prototype.init=function(){this.initCanvas();var G=new me(this),nt=new xt(this),vt=new li(this),Gt=new Ci(this);this.set({viewController:G,modeController:nt,itemController:vt,stateController:Gt}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},U.prototype.initGroups=function(){var G=this.get("canvas"),nt=this.get("canvas").get("el").id,vt=G.addGroup({id:nt+"-root",className:bt.rootContainerClassName});if(this.get("groupByTypes")){var Gt=vt.addGroup({id:nt+"-edge",className:bt.edgeContainerClassName}),Jt=vt.addGroup({id:nt+"-node",className:bt.nodeContainerClassName}),ie=vt.addGroup({id:nt+"-combo",className:bt.comboContainerClassName});ie.toBack(),this.set({nodeGroup:Jt,edgeGroup:Gt,comboGroup:ie})}var ue=vt.addGroup({id:nt+"-delegate",className:bt.delegateContainerClassName});this.set({delegateGroup:ue}),this.set("group",vt)},U.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},U.prototype.set=function(G,nt){return Object(c.w)(G)?this.cfg=Object(r.a)(Object(r.a)({},this.cfg),G):this.cfg[G]=nt,this},U.prototype.get=function(G){return this.cfg[G]},U.prototype.getGroup=function(){return this.get("group")},U.prototype.getContainer=function(){return this.get("container")},U.prototype.getMinZoom=function(){return this.get("minZoom")},U.prototype.setMinZoom=function(G){return this.set("minZoom",G)},U.prototype.getMaxZoom=function(){return this.get("maxZoom")},U.prototype.setMaxZoom=function(G){return this.set("maxZoom",G)},U.prototype.getWidth=function(){return this.get("width")},U.prototype.getHeight=function(){return this.get("height")},U.prototype.clearItemStates=function(G,nt){Object(c.x)(G)&&(G=this.findById(G));var vt=this.get("itemController");nt||(nt=G.get("states")),vt.clearItemStates(G,nt),this.get("stateController").updateStates(G,nt,!1)},U.prototype.node=function(G){typeof G=="function"&&this.set("nodeMapper",G)},U.prototype.edge=function(G){typeof G=="function"&&this.set("edgeMapper",G)},U.prototype.combo=function(G){typeof G=="function"&&this.set("comboMapper",G)},U.prototype.findById=function(G){return this.get("itemMap")[G]},U.prototype.find=function(G,nt){var vt,Gt=this.get(G+"s");return Object(c.f)(Gt,function(Jt,ie){if(nt(Jt,ie))return vt=Jt}),vt},U.prototype.findAll=function(G,nt){var vt=[];return Object(c.f)(this.get(G+"s"),function(Gt,Jt){nt(Gt,Jt)&&vt.push(Gt)}),vt},U.prototype.findAllByState=function(G,nt){return this.findAll(G,function(vt){return vt.hasState(nt)})},U.prototype.translate=function(G,nt){var vt=this.get("group"),Gt=Object(c.c)(vt.getMatrix());Gt||(Gt=[1,0,0,0,1,0,0,0,1]),Gt=An(Gt,[["t",G,nt]]),vt.setMatrix(Gt),this.emit("viewportchange",{action:"translate",matrix:vt.getMatrix()}),this.autoPaint()},U.prototype.moveTo=function(G,nt){var vt=this.get("group");Bt(vt,{x:G,y:nt}),this.emit("viewportchange",{action:"move",matrix:vt.getMatrix()})},U.prototype.fitView=function(G){G&&this.set("fitViewPadding",G),this.get("viewController").fitView(),this.autoPaint()},U.prototype.fitCenter=function(){this.get("viewController").fitCenter(),this.autoPaint()},U.prototype.addBehaviors=function(G,nt){return this.get("modeController").manipulateBehaviors(G,nt,!0),this},U.prototype.removeBehaviors=function(G,nt){return this.get("modeController").manipulateBehaviors(G,nt,!1),this},U.prototype.updateBehavior=function(G,nt,vt){return this.get("modeController").updateBehavior(G,nt,vt),this},U.prototype.zoom=function(G,nt){var vt=this.get("group"),Gt=Object(c.c)(vt.getMatrix()),Jt=this.get("minZoom"),ie=this.get("maxZoom");Gt||(Gt=[1,0,0,0,1,0,0,0,1]),Gt=An(Gt,nt?[["t",-nt.x,-nt.y],["s",G,G],["t",nt.x,nt.y]]:[["s",G,G]]),Jt&&Gt[0]<Jt||ie&&Gt[0]>ie||(vt.setMatrix(Gt),this.emit("viewportchange",{action:"zoom",matrix:Gt}),this.autoPaint())},U.prototype.zoomTo=function(G,nt){var vt=G/this.getZoom();this.zoom(vt,nt)},U.prototype.focusItem=function(G,nt,vt){var Gt=this.get("viewController"),Jt=!1;nt?Jt=!0:nt===void 0&&(Jt=this.get("animate"));var ie={};vt?ie=vt:vt===void 0&&(ie=this.get("animateCfg")),Gt.focus(G,Jt,ie),this.autoPaint()},U.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},U.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},U.prototype.getPointByClient=function(G,nt){return this.get("viewController").getPointByClient(G,nt)},U.prototype.getClientByPoint=function(G,nt){return this.get("viewController").getClientByPoint(G,nt)},U.prototype.getPointByCanvas=function(G,nt){return this.get("viewController").getPointByCanvas(G,nt)},U.prototype.getCanvasByPoint=function(G,nt){return this.get("viewController").getCanvasByPoint(G,nt)},U.prototype.showItem=function(G,nt){nt===void 0&&(nt=!0);var vt=this.get("itemController").changeItemVisibility(G,!0);if(nt&&this.get("enabledStack")){var Gt=vt.getID(),Jt={},ie={};switch(vt.getType()){case"node":Jt.nodes=[{id:Gt,visible:!1}],ie.nodes=[{id:Gt,visible:!0}];break;case"edge":Jt.nodes=[{id:Gt,visible:!1}],ie.edges=[{id:Gt,visible:!0}];break;case"combo":Jt.nodes=[{id:Gt,visible:!1}],ie.combos=[{id:Gt,visible:!0}]}this.pushStack("visible",{before:Jt,after:ie})}},U.prototype.hideItem=function(G,nt){nt===void 0&&(nt=!0);var vt=this.get("itemController").changeItemVisibility(G,!1);if(nt&&this.get("enabledStack")){var Gt=vt.getID(),Jt={},ie={};switch(vt.getType()){case"node":Jt.nodes=[{id:Gt,visible:!0}],ie.nodes=[{id:Gt,visible:!1}];break;case"edge":Jt.nodes=[{id:Gt,visible:!0}],ie.edges=[{id:Gt,visible:!1}];break;case"combo":Jt.nodes=[{id:Gt,visible:!0}],ie.combos=[{id:Gt,visible:!1}]}this.pushStack("visible",{before:Jt,after:ie})}},U.prototype.refreshItem=function(G){this.get("itemController").refreshItem(G)},U.prototype.setAutoPaint=function(G){this.set("autoPaint",G),this.get("canvas").set("autoDraw",G)},U.prototype.remove=function(G,nt){nt===void 0&&(nt=!0),this.removeItem(G,nt)},U.prototype.removeItem=function(G,nt){nt===void 0&&(nt=!0);var vt=G;if(Object(c.x)(G)&&(vt=this.findById(G)),!vt&&Object(c.x)(G))console.warn("The item to be removed does not exist!");else if(vt){var Gt="";if(vt.getType&&(Gt=vt.getType()),nt&&this.get("enabledStack")){var Jt=Object(r.a)(Object(r.a)({},vt.getModel()),{itemType:Gt}),ie={};switch(Gt){case"node":ie.nodes=[Jt],ie.edges=[];for(var ue=vt.getEdges(),Ce=ue.length-1;Ce>=0;Ce--)ie.edges.push(Object(r.a)(Object(r.a)({},ue[Ce].getModel()),{itemType:"edge"}));break;case"edge":ie.edges=[Jt];break;case"combo":ie.combos=[Jt]}this.pushStack("delete",{before:ie,after:{}})}if(Gt==="node"&&vt.getModel().comboId&&this.updateComboTree(vt),this.get("itemController").removeItem(vt),Gt==="combo"){var we=dr(this.get("comboTrees"));this.set("comboTrees",we)}}},U.prototype.addItem=function(G,nt,vt,Gt){vt===void 0&&(vt=!0),Gt===void 0&&(Gt=!0);var Jt=this.get("comboSorted");this.set("comboSorted",Jt&&!Gt);var ie=this.get("itemController");if(!nt.id||!this.findById(nt.id)){var ue,Ce=this.get("comboTrees");if(Ce||(Ce=[]),G==="combo"){var we=this.get("itemMap"),cn=!1;if(Ce.forEach(function(Zn){cn||ir(Zn,function(Kn){if(nt.parentId===Kn.id){cn=!0;var $e=Object(r.a)({id:nt.id,depth:Kn.depth+2},nt);Kn.children?Kn.children.push($e):Kn.children=[$e],nt.depth=$e.depth,ue=ie.addItem(G,nt)}var je=we[Kn.id];return cn&&je&&je.getType&&je.getType()==="combo"&&ie.updateCombo(je,Kn.children),!0})}),!cn){var Cn=Object(r.a)({id:nt.id,depth:0},nt);nt.depth=Cn.depth,Ce.push(Cn),ue=ie.addItem(G,nt)}this.set("comboTrees",Ce)}else if(G==="node"&&Object(c.x)(nt.comboId)&&Ce){var _t;if((_t=this.findById(nt.comboId))&&_t.getType&&_t.getType()!=="combo")return void console.warn("'"+nt.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");ue=ie.addItem(G,nt);var Xt=this.get("itemMap"),Se=!1,Wt=!1;(Ce||[]).forEach(function(Zn){Wt||Se||ir(Zn,function(Kn){if(Kn.id===nt.id)return Wt=!0,!1;if(nt.comboId===Kn.id&&!Wt){Se=!0;var $e=Object(c.c)(nt);$e.itemType="node",Kn.children?Kn.children.push($e):Kn.children=[$e],nt.depth=Kn.depth+1}return Se&&Xt[Kn.id].getType&&Xt[Kn.id].getType()==="combo"&&ie.updateCombo(Xt[Kn.id],Kn.children),!0})})}else ue=ie.addItem(G,nt);(G==="node"&&nt.comboId||G==="combo"&&nt.parentId)&&(_t=this.findById(nt.comboId||nt.parentId))&&_t.addChild(ue);var ce=this.get("combos");if(ce&&ce.length>0&&this.sortCombos(),this.autoPaint(),vt&&this.get("enabledStack")){var yn=Object(r.a)(Object(r.a)({},ue.getModel()),{itemType:G}),Bn={};switch(G){case"node":Bn.nodes=[yn];break;case"edge":Bn.edges=[yn];break;case"combo":Bn.combos=[yn]}this.pushStack("add",{before:{},after:Bn})}return ue}console.warn("This item exists already. Be sure the id %c"+nt.id+"%c is unique.","font-size: 20px; color: red;","")},U.prototype.add=function(G,nt,vt,Gt){return vt===void 0&&(vt=!0),Gt===void 0&&(Gt=!0),this.addItem(G,nt,vt,Gt)},U.prototype.updateItem=function(G,nt,vt){var Gt=this;vt===void 0&&(vt=!0);var Jt,ie=this.get("itemController");Jt=Object(c.x)(G)?this.findById(G):G;var ue=Object(c.c)(Jt.getModel()),Ce="";Jt.getType&&(Ce=Jt.getType());var we=Object(r.d)(Jt.getStates());if(Ce==="combo"&&Object(c.f)(we,function(Xt){return Gt.setItemState(Jt,Xt,!1)}),ie.updateItem(Jt,nt),Ce==="combo"&&Object(c.f)(we,function(Xt){return Gt.setItemState(Jt,Xt,!0)}),vt&&this.get("enabledStack")){var cn={nodes:[],edges:[],combos:[]},Cn={nodes:[],edges:[],combos:[]},_t=Object(r.a)({id:ue.id},nt);switch(Ce){case"node":cn.nodes.push(ue),Cn.nodes.push(_t);break;case"edge":cn.edges.push(ue),Cn.edges.push(_t);break;case"combo":cn.combos.push(ue),Cn.combos.push(_t)}Ce==="node"&&cn.nodes.push(ue),this.pushStack("update",{before:cn,after:Cn})}},U.prototype.update=function(G,nt,vt){vt===void 0&&(vt=!0),this.updateItem(G,nt,vt)},U.prototype.setItemState=function(G,nt,vt){Object(c.x)(G)&&(G=this.findById(G)),this.get("itemController").setItemState(G,nt,vt);var Gt=this.get("stateController");Object(c.x)(vt)?Gt.updateState(G,nt+":"+vt,!0):Gt.updateState(G,nt,vt)},U.prototype.priorityState=function(G,nt){this.get("itemController").priorityState(G,nt)},U.prototype.data=function(G){this.set("data",G)},U.prototype.render=function(){var G=this;this.set("comboSorted",!1);var nt=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!nt)throw new Error("data must be defined first");var vt=nt.nodes,Gt=vt===void 0?[]:vt,Jt=nt.edges,ie=Jt===void 0?[]:Jt,ue=nt.combos,Ce=ue===void 0?[]:ue;if(this.clear(),this.emit("beforerender"),Object(c.f)(Gt,function(_t){G.add("node",_t,!1,!1)}),Ce&&Ce.length!==0){var we=mr(Ce,Gt);this.set("comboTrees",we),G.addCombos(Ce)}Object(c.f)(ie,function(_t){G.add("edge",_t,!1,!1)});var cn=G.get("animate");(G.get("fitView")||G.get("fitCenter"))&&G.set("animate",!1);var Cn=G.get("layoutController");if(Cn){if(Cn.layout(function(){G.get("fitView")?G.fitView():G.get("fitCenter")&&G.fitCenter(),G.autoPaint(),G.emit("afterrender"),(G.get("fitView")||G.get("fitCenter"))&&G.set("animate",cn)}),this.destroyed)return}else G.get("fitView")&&G.fitView(),G.get("fitCenter")&&G.fitCenter(),G.emit("afterrender"),G.set("animate",cn);this.get("groupByTypes")||(Ce&&Ce.length!==0?this.sortCombos():nt.nodes&&nt.edges&&nt.nodes.length<nt.edges.length?this.getNodes().forEach(function(_t){_t.toFront()}):this.getEdges().forEach(function(_t){_t.toBack()})),this.get("enabledStack")&&this.pushStack("render")},U.prototype.read=function(G){this.data(G),this.render()},U.prototype.diffItems=function(G,nt,vt){var Gt,Jt=this,ie=this.get("itemMap");Object(c.f)(vt,function(ue){if(Gt=ie[ue.id]){if(Jt.get("animate")&&G==="node"){var Ce=Gt.getContainer().getMatrix();Ce||(Ce=[1,0,0,0,1,0,0,0,1]),Gt.set("originAttrs",{x:Ce[6],y:Ce[7]})}Jt.updateItem(Gt,ue,!1)}else Gt=Jt.addItem(G,ue,!1);Gt&&nt[G+"s"].push(Gt)})},U.prototype.changeData=function(G,nt){nt===void 0&&(nt=!0);var vt=this;if(!G)return this;nt&&this.get("enabledStack")&&this.pushStack("changedata",{before:vt.save(),after:G}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(Xt){return vt.clearItemStates(Xt)}),this.getEdges().map(function(Xt){return vt.clearItemStates(Xt)});var Gt=this.get("canvas"),Jt=Gt.get("localRefresh");Gt.set("localRefresh",!1),vt.get("data")||(vt.data(G),vt.render());var ie=this.get("itemMap"),ue={nodes:[],edges:[]},Ce=G.combos;if(Ce){var we=mr(Ce,G.nodes);this.set("comboTrees",we)}this.diffItems("node",ue,G.nodes),Object(c.f)(ie,function(Xt,Se){ie[Se].getModel().depth=0,Xt.getType&&Xt.getType()==="edge"||(Xt.getType&&Xt.getType()==="combo"?(delete ie[Se],Xt.destroy()):ue.nodes.indexOf(Xt)<0&&(delete ie[Se],vt.remove(Xt,!1)))});for(var cn=this.getCombos(),Cn=cn.length-1;Cn>=0;Cn--)cn[Cn].destroyed&&cn.splice(Cn,1);Ce&&(vt.addCombos(Ce),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",ue,G.edges),Object(c.f)(ie,function(Xt,Se){(!Xt.getType||Xt.getType()!=="node"&&Xt.getType()!=="combo")&&ue.edges.indexOf(Xt)<0&&(delete ie[Se],vt.remove(Xt,!1))}),this.set({nodes:ue.nodes,edges:ue.edges});var _t=this.get("layoutController");return _t&&(_t.changeData(),vt.get("animate")&&!_t.getLayoutType()?vt.positionsAnimate():vt.autoPaint()),setTimeout(function(){Gt.set("localRefresh",Jt)},16),this},U.prototype.addCombos=function(G){var nt=this.get("comboTrees");this.get("itemController").addCombos(nt,G)},U.prototype.createCombo=function(G,nt){var vt=this;this.set("comboSorted",!1);var Gt,Jt="";if(G){if(Object(c.x)(G))Jt=G,Gt={id:G};else{if(!(Jt=G.id))return void console.warn("Create combo failed. Please assign a unique string id for the adding combo.");Gt=G}var ie=nt.map(function(Ce){var we=vt.findById(Ce),cn="";we.getType&&(cn=we.getType());var Cn={id:we.getID(),itemType:cn};return cn==="combo"?Cn.parentId=Jt:cn==="node"&&(Cn.comboId=Jt),Cn});Gt.children=ie,this.addItem("combo",Gt,!1),this.set("comboSorted",!1);var ue=this.get("comboTrees");(ue||[]).forEach(function(Ce){ir(Ce,function(we){return we.id!==Jt||(we.itemType="combo",we.children=ie,!1)})}),ue&&this.sortCombos()}},U.prototype.uncombo=function(G){var nt=this,vt=G;if(Object(c.x)(G)&&(vt=this.findById(G)),!vt||vt.getType&&vt.getType()!=="combo")console.warn("The item is not a combo!");else{var Gt=vt.getModel().parentId,Jt=this.get("comboTrees");Jt||(Jt=[]);var ie,ue=this.get("itemMap"),Ce=vt.get("id"),we=[],cn=this.get("combos"),Cn=this.findById(Gt);if(Jt.forEach(function(Xt){ie||ir(Xt,function(Se){if(Se.id===Ce){ie=Se,vt.getEdges().forEach(function(ce){nt.removeItem(ce,!1)});var Wt=cn.indexOf(G);cn.splice(Wt,1),delete ue[Ce],vt.destroy()}return!Gt||!ie||Se.id!==Gt||(Cn.removeCombo(vt),(Wt=(we=Se.children).indexOf(ie))!==-1&&we.splice(Wt,1),ie.children.forEach(function(ce){var yn=nt.findById(ce.id),Bn=yn.getModel();yn.getType&&yn.getType()==="combo"?(ce.parentId=Gt,delete ce.comboId,Bn.parentId=Gt,delete Bn.comboId):yn.getType&&yn.getType()==="node"&&(ce.comboId=Gt,Bn.comboId=Gt),Cn.addChild(yn),we.push(ce)}),!1)})}),!Gt&&ie){var _t=Jt.indexOf(ie);Jt.splice(_t,1),ie.children.forEach(function(Xt){Xt.parentId=void 0,nt.findById(Xt.id).getModel().parentId=void 0,Xt.itemType!=="node"&&Jt.push(Xt)})}}},U.prototype.updateCombos=function(){var G=this,nt=this.get("comboTrees"),vt=this.get("itemController"),Gt=this.get("itemMap");(nt||[]).forEach(function(Jt){ir(Jt,function(ie){if(!ie)return!0;var ue=Gt[ie.id];if(ue&&ue.getType&&ue.getType()==="combo"){var Ce=Object(r.d)(ue.getStates());Object(c.f)(Ce,function(we){return G.setItemState(ue,we,!1)}),vt.updateCombo(ue,ie.children),Object(c.f)(Ce,function(we){return G.setItemState(ue,we,!0)})}return!0})}),this.sortCombos()},U.prototype.updateCombo=function(G){var nt,vt=this,Gt=G;if(Object(c.x)(G)&&(Gt=this.findById(G)),!Gt||Gt.getType&&Gt.getType()!=="combo")console.warn("The item to be updated is not a combo!");else{nt=Gt.get("id");var Jt=this.get("comboTrees"),ie=this.get("itemController"),ue=this.get("itemMap");(Jt||[]).forEach(function(Ce){ir(Ce,function(we){if(!we)return!0;var cn=ue[we.id];if(nt===we.id&&cn&&cn.getType&&cn.getType()==="combo"){var Cn=Object(r.d)(cn.getStates());Object(c.f)(Cn,function(_t){cn.getStateStyle(_t)&&vt.setItemState(cn,_t,!1)}),ie.updateCombo(cn,we.children),Object(c.f)(Cn,function(_t){cn.getStateStyle(_t)&&vt.setItemState(cn,_t,!0)}),nt&&(nt=we.parentId)}return!0})})}},U.prototype.updateComboTree=function(G,nt,vt){vt===void 0&&(vt=!0);var Gt;this.set("comboSorted",!1);var Jt,ie=(Gt=Object(c.x)(G)?this.findById(G):G).getModel(),ue=ie.comboId||ie.parentId,Ce="";if(Gt.getType&&(Ce=Gt.getType()),nt&&Ce==="combo"){var we,cn=this.get("comboTrees"),Cn=!0;if((cn||[]).forEach(function(ce){we||Qn(ce,function(yn){if(!we)return yn.id===Gt.getID()&&(we=yn),!0})}),Qn(we,function(ce){return ce.id!==nt||(Cn=!1,!1)}),!Cn)return void console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!")}if(vt&&this.get("enabledStack")){var _t={},Xt={};Ce==="combo"?(_t.combos=[{id:ie.id,parentId:ie.parentId}],Xt.combos=[{id:ie.id,parentId:nt}]):Ce==="node"&&(_t.nodes=[{id:ie.id,parentId:ie.comboId}],Xt.nodes=[{id:ie.id,parentId:nt}]),this.pushStack("updateComboTree",{before:_t,after:Xt})}if(ie.parentId||ie.comboId){var Se=this.findById(ie.parentId||ie.comboId);Se&&Se.removeChild(Gt)}Ce==="combo"?ie.parentId=nt:Ce==="node"&&(ie.comboId=nt),nt&&(Jt=this.findById(nt))&&Jt.addChild(Gt),ue&&(Jt=this.findById(ue))&&Jt.removeChild(Gt);var Wt=dr(this.get("comboTrees"),ie.id,nt);this.set("comboTrees",Wt),this.updateCombos()},U.prototype.save=function(){var G=[],nt=[],vt=[];return Object(c.f)(this.get("nodes"),function(Gt){G.push(Gt.getModel())}),Object(c.f)(this.get("edges"),function(Gt){nt.push(Gt.getModel())}),Object(c.f)(this.get("combos"),function(Gt){vt.push(Gt.getModel())}),{nodes:G,edges:nt,combos:vt}},U.prototype.changeSize=function(G,nt){return this.get("viewController").changeSize(G,nt),this},U.prototype.refresh=function(){if(this.emit("beforegraphrefresh"),this.get("animate"))this.positionsAnimate();else{var G=this.get("nodes"),nt=this.get("edges"),vt=this.get("edges");Object(c.f)(G,function(Gt){Gt.refresh()}),Object(c.f)(nt,function(Gt){Gt.refresh()}),Object(c.f)(vt,function(Gt){Gt.refresh()})}this.emit("aftergraphrefresh"),this.autoPaint()},U.prototype.getNodes=function(){return this.get("nodes")},U.prototype.getEdges=function(){return this.get("edges")},U.prototype.getCombos=function(){return this.get("combos")},U.prototype.getComboChildren=function(G){if(Object(c.x)(G)&&(G=this.findById(G)),G&&(!G.getType||G.getType()==="combo"))return G.getChildren();console.warn("The combo does not exist!")},U.prototype.positionsAnimate=function(){var G=this;G.emit("beforeanimate");var nt=G.get("animateCfg"),vt=nt.onFrame,Gt=G.getNodes(),Jt=Gt.map(function(ie){var ue=ie.getModel();return{id:ue.id,x:ue.x,y:ue.y}});G.isAnimating()&&G.stopAnimate(),G.get("canvas").animate(function(ie){Object(c.f)(Jt,function(ue){var Ce=G.findById(ue.id);if(Ce&&!Ce.destroyed){var we=Ce.get("originAttrs"),cn=Ce.get("model");if(!we){var Cn=Ce.getContainer().getMatrix();Cn||(Cn=[1,0,0,0,1,0,0,0,1]),we={x:Cn[6],y:Cn[7]},Ce.set("originAttrs",we)}if(vt){var _t=vt(Ce,ie,ue,we);Ce.set("model",Object.assign(cn,_t))}else cn.x=we.x+(ue.x-we.x)*ie,cn.y=we.y+(ue.y-we.y)*ie}}),G.refreshPositions()},{duration:nt.duration,easing:nt.easing,callback:function(){Object(c.f)(Gt,function(ue){ue.set("originAttrs",null)}),nt.callback&&nt.callback(),G.emit("afteranimate"),G.animating=!1}})},U.prototype.refreshPositions=function(){this.emit("beforegraphrefreshposition");var G,nt=this.get("nodes"),vt=this.get("edges"),Gt=this.get("vedges"),Jt=this.get("combos"),ie={};Object(c.f)(nt,function(ue){G=ue.getModel();var Ce=ue.get("originAttrs");Ce&&G.x===Ce.x&&G.y===Ce.y||(ue.updatePosition({x:G.x,y:G.y}),ie[G.id]=!0,G.comboId&&(ie[G.comboId]=!0))}),Jt&&Jt.length!==0&&this.updateCombos(),Object(c.f)(vt,function(ue){var Ce=ue.getSource().getModel(),we=ue.getTarget().getModel();(ie[Ce.id]||ie[we.id]||ue.getModel().isComboEdge)&&ue.refresh()}),Object(c.f)(Gt,function(ue){ue.refresh()}),this.emit("aftergraphrefreshposition"),this.autoPaint()},U.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},U.prototype.isAnimating=function(){return this.animating},U.prototype.getZoom=function(){var G=this.get("group").getMatrix();return G?G[0]:1},U.prototype.getCurrentMode=function(){return this.get("modeController").getMode()},U.prototype.setMode=function(G){return this.get("modeController").setMode(G),this},U.prototype.clear=function(){return this.get("canvas").clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit("afterrender"),this},U.prototype.updateLayout=function(G){var nt,vt=this.get("layoutController");Object(c.x)(G)?G={type:nt=G}:nt=G.type;var Gt=this.get("layout"),Jt=Gt?Gt.type:void 0;if(nt&&Jt!==nt||G.gpuEnabled!==void 0&&G.gpuEnabled!==Gt.gpuEnabled)nt||(nt=Jt),this.set("layout",G),vt.changeLayout(nt);else{var ie={};Object.assign(ie,Gt,G),ie.type=Jt||"random",this.set("layout",ie),vt.updateLayoutCfg(ie)}},U.prototype.destroyLayout=function(){this.get("layoutController").destroyLayout()},U.prototype.layout=function(){var G=this.get("layoutController"),nt=this.get("layout");nt&&G&&(nt.workerEnabled?G.layout():G.layoutMethod?G.relayout(!0):G.layout())},U.prototype.collapseCombo=function(G){var nt=this;if(Object(c.x)(G)&&(G=this.findById(G)),G){this.emit("beforecollapseexpandcombo",{action:"expand",item:G});var vt=G.getModel();this.get("itemController").collapseCombo(G),vt.collapsed=!0;var Gt=this.getEdges().concat(this.get("vedges")),Jt=[],ie=[],ue=this.get("comboTrees"),Ce=!1,we={};(ue||[]).forEach(function(_t){we[_t.id]=_t}),(ue||[]).forEach(function(_t){Ce||Qn(_t,function(Xt){if(Ce&&we[Xt.id])return!1;if(vt.parentId===Xt.id?(we={},Xt.children.forEach(function(Wt){we[Wt.id]=Wt})):vt.id===Xt.id&&(Ce=!0),Ce){var Se=nt.findById(Xt.id);Se&&Se.getType&&Se.getType()==="combo"&&(Jt=Jt.concat(Se.getNodes()),ie=ie.concat(Se.getCombos()))}return!0})});var cn={},Cn=[];Gt.forEach(function(_t){if(!_t.isVisible()||_t.getModel().isVEdge){var Xt=_t.getSource(),Se=_t.getTarget();if((Jt.includes(Xt)||ie.includes(Xt))&&!Jt.includes(Se)&&!ie.includes(Se)||Xt.getModel().id===vt.id){if((Bn=_t.getModel()).isVEdge)return void nt.removeItem(_t,!1);for(var Wt=Se.getModel();!Se.isVisible();){if(!(Se=nt.findById(Wt.parentId||Wt.comboId))||!Wt.parentId&&!Wt.comboId)return;Wt=Se.getModel()}var ce=Wt.id;if(cn[vt.id+"-"+ce])return void(cn[vt.id+"-"+ce]+=Bn.size||1);var yn=nt.addItem("vedge",{source:vt.id,target:ce,isVEdge:!0},!1);cn[vt.id+"-"+ce]=Bn.size||1,Cn.push(yn)}else if(!Jt.includes(Xt)&&!ie.includes(Xt)&&(Jt.includes(Se)||ie.includes(Se))||Se.getModel().id===vt.id){var Bn;if((Bn=_t.getModel()).isVEdge)return void nt.removeItem(_t,!1);for(var Zn=Xt.getModel();!Xt.isVisible();){if(!(Xt=nt.findById(Zn.parentId||Zn.comboId))||!Zn.parentId&&!Zn.comboId)return;Zn=Xt.getModel()}var Kn=Zn.id;if(cn[Kn+"-"+vt.id])return void(cn[Kn+"-"+vt.id]+=Bn.size||1);yn=nt.addItem("vedge",{target:vt.id,source:Kn,isVEdge:!0},!1),cn[Kn+"-"+vt.id]=Bn.size||1,Cn.push(yn)}}}),Cn.forEach(function(_t){var Xt=_t.getModel();nt.updateItem(_t,{size:cn[Xt.source+"-"+Xt.target]},!1)}),this.emit("aftercollapseexpandcombo",{action:"collapse",item:G})}else console.warn("The combo to be collapsed does not exist!")},U.prototype.expandCombo=function(G){var nt=this;if(Object(c.x)(G)&&(G=this.findById(G)),!G||G.getType&&G.getType()!=="combo")console.warn("The combo to be collapsed does not exist!");else{this.emit("beforecollapseexpandcombo",{action:"expand",item:G});var vt=G.getModel();this.get("itemController").expandCombo(G),vt.collapsed=!1;var Gt=this.getEdges().concat(this.get("vedges")),Jt=[],ie=[],ue=this.get("comboTrees"),Ce=!1,we={};(ue||[]).forEach(function(_t){we[_t.id]=_t}),(ue||[]).forEach(function(_t){Ce||Qn(_t,function(Xt){if(Ce&&we[Xt.id])return!1;if(vt.parentId===Xt.id?(we={},Xt.children.forEach(function(Wt){we[Wt.id]=Wt})):vt.id===Xt.id&&(Ce=!0),Ce){var Se=nt.findById(Xt.id);Se&&Se.getType&&Se.getType()==="combo"&&(Jt=Jt.concat(Se.getNodes()),ie=ie.concat(Se.getCombos()))}return!0})});var cn={},Cn={};Gt.forEach(function(_t){if(!_t.isVisible()||_t.getModel().isVEdge){var Xt=_t.getSource(),Se=_t.getTarget(),Wt=Xt.get("id"),ce=Se.get("id");if((Jt.includes(Xt)||ie.includes(Xt))&&!Jt.includes(Se)&&!ie.includes(Se)||Wt===vt.id){if(_t.getModel().isVEdge)return void nt.removeItem(_t,!1);for(var yn=Se.getModel();!Se.isVisible();){if(!(Se=nt.findById(yn.comboId||yn.parentId))||!yn.parentId&&!yn.comboId)return;yn=Se.getModel()}ce=yn.id;for(var Bn=Xt.getModel();!Xt.isVisible();){if(!(Xt=nt.findById(Bn.comboId||Bn.parentId))||!Bn.parentId&&!Bn.comboId)return;if(Bn.comboId===vt.id||Bn.parentId===vt.id)break;Bn=Xt.getModel()}if(Wt=Bn.id,ce){if(cn[Kn=Wt+"-"+ce])return cn[Kn]+=_t.getModel().size||1,void nt.updateItem(Cn[Kn],{size:cn[Kn]},!1);var Zn=nt.addItem("vedge",{source:Wt,target:ce,isVEdge:!0},!1);cn[Kn]=_t.getModel().size||1,Cn[Kn]=Zn}}else if(!Jt.includes(Xt)&&!ie.includes(Xt)&&(Jt.includes(Se)||ie.includes(Se))||ce===vt.id){if(_t.getModel().isVEdge)return void nt.removeItem(_t,!1);for(Bn=Xt.getModel();!Xt.isVisible();){if(!(Xt=nt.findById(Bn.comboId||Bn.parentId))||!Bn.parentId&&!Bn.comboId)return;Bn=Xt.getModel()}for(Wt=Bn.id,yn=Se.getModel();!Se.isVisible();){if(!(Se=nt.findById(yn.comboId||yn.parentId))||!yn.parentId&&!yn.comboId)return;if(yn.comboId===vt.id||yn.parentId===vt.id)break;yn=Se.getModel()}if(ce=yn.id,Wt){var Kn;if(cn[Kn=Wt+"-"+ce])return cn[Kn]+=_t.getModel().size||1,void nt.updateItem(Cn[Kn],{size:cn[Kn]},!1);Zn=nt.addItem("vedge",{target:ce,source:Wt,isVEdge:!0},!1),cn[Kn]=_t.getModel().size||1,Cn[Kn]=Zn}}else(Jt.includes(Xt)||ie.includes(Xt))&&(Jt.includes(Se)||ie.includes(Se))&&Xt.isVisible()&&Se.isVisible()&&_t.show()}}),this.emit("aftercollapseexpandcombo",{action:"expand",item:G})}},U.prototype.collapseExpandCombo=function(G){if(Object(c.x)(G)&&(G=this.findById(G)),!G.getType||G.getType()==="combo"){for(var nt=G.getModel(),vt=this.findById(nt.parentId);vt;){var Gt=vt.getModel();if(Gt.collapsed)return console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),void(vt=void 0);vt=this.findById(Gt.parentId)}nt.collapsed?this.expandCombo(G):this.collapseCombo(G),this.updateCombo(G)}},U.prototype.sortCombos=function(){var G=this;if(!this.get("comboSorted")){this.set("comboSorted",!0);var nt=[],vt={};(this.get("comboTrees")||[]).forEach(function(Gt){Qn(Gt,function(Jt){return nt[Jt.depth]?nt[Jt.depth].push(Jt.id):nt[Jt.depth]=[Jt.id],vt[Jt.id]=Jt.depth,!0})}),(this.getEdges().concat(this.get("vedges"))||[]).forEach(function(Gt){var Jt=Gt.getModel(),ie=vt[Jt.source]||0,ue=vt[Jt.target]||0,Ce=Math.max(ie,ue);nt[Ce]?nt[Ce].push(Jt.id):nt[Ce]=[Jt.id]}),nt.forEach(function(Gt){if(Gt&&Gt.length)for(var Jt=Gt.length-1;Jt>=0;Jt--){var ie=G.findById(Gt[Jt]);ie&&ie.toFront()}})}},U.prototype.getNeighbors=function(G,nt){var vt=G;return Object(c.x)(G)&&(vt=this.findById(G)),vt.getNeighbors(nt)},U.prototype.getNodeDegree=function(G,nt){nt===void 0&&(nt=void 0);var vt=G;Object(c.x)(G)&&(vt=this.findById(G));var Gt=this.get("degrees");Gt||(Gt=Object(C.getDegree)(this.get("data"))),this.set("degees",Gt);var Jt,ie=Gt[vt.getID()];switch(nt){case"in":Jt=ie.inDegree;break;case"out":Jt=ie.outDegree;break;case"all":Jt=ie;break;default:Jt=ie.degree}return Jt},U.prototype.getUndoStack=function(){return this.undoStack},U.prototype.getRedoStack=function(){return this.redoStack},U.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},U.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},U.prototype.pushStack=function(G,nt,vt){if(G===void 0&&(G="update"),vt===void 0&&(vt="undo"),this.get("enabledStack")){var Gt=nt?Object(c.c)(nt):{before:{},after:Object(c.c)(this.save())};vt==="redo"?this.redoStack.push({action:G,data:Gt}):this.undoStack.push({action:G,data:Gt}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})}else console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !")},U.prototype.getAdjMatrix=function(G,nt){G===void 0&&(G=!0),nt===void 0&&(nt=this.get("directed"));var vt=this.get("adjMatrix");return vt&&G||(vt=Object(C.getAdjMatrix)(this.save(),nt),this.set("adjMatrix",vt)),vt},U.prototype.getShortestPathMatrix=function(G,nt){G===void 0&&(G=!0),nt===void 0&&(nt=this.get("directed"));var vt=this.get("adjMatrix"),Gt=this.get("shortestPathMatrix");return vt&&G||(vt=Object(C.getAdjMatrix)(this.save(),nt),this.set("adjMatrix",vt)),Gt&&G||(Gt=Object(C.floydWarshall)(this.save(),nt),this.set("shortestPathMatrix",Gt)),Gt},U.prototype.on=function(G,nt,vt){return ve.prototype.on.call(this,G,nt,vt)},U.prototype.destroy=function(){this.clear(),this.clearStack(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("canvas").destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},U.prototype.createHull=function(G){if(G.members&&!(G.members.length<1)){var nt=this.get("hullGroup"),vt=this.get("hullMap");if(vt||(vt={},this.set("hullMap",vt)),nt||((nt=this.get("group").addGroup({id:"hullGroup"})).toBack(),this.set("hullGroup",nt)),vt[G.id])return console.warn("Existed hull id."),vt[G.id];var Gt=nt.addGroup({id:G.id+"-container"}),Jt=new Ze(this,Object(r.a)(Object(r.a)({},G),{group:Gt}));return vt[Jt.id]=Jt,Jt}console.warn("Create hull failed! The members is empty.")},U.prototype.getHulls=function(){return this.get("hullMap")},U.prototype.getHullById=function(G){return this.get("hullMap")[G]},U.prototype.removeHull=function(G){var nt;nt=Object(c.x)(G)?this.getHullById(G):G,delete this.get("hullMap")[nt.id],nt.destroy()},U.prototype.removeHulls=function(){var G=this.getHulls();G&&Object.keys(G).length&&(G.forEach(function(nt){nt.destroy()}),this.set("hullMap",{}))},U}(s.a);function rr(ve){return(rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(ve)}var tn=d.a.transform,sn=["startArrow","endArrow"],un={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},ur={edge:{lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},node:un,combo:un},jr={options:{},itemType:"",type:"",getCustomConfig:function(U){return{}},getOptions:function(U){return Object(c.e)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(U)||{},U)},draw:function(U,G){var nt=this.drawShape(U,G);return nt.set("className",this.itemType+"-shape"),U.label&&this.drawLabel(U,G).set("className",this.itemType+"-label"),nt},afterDraw:function(U,G,nt){},drawShape:function(U,G){return null},drawLabel:function(U,G){var nt=this.getOptions(U).labelCfg||{},vt=this.getLabelStyle(U,nt,G),Gt=vt.rotate;delete vt.rotate;var Jt=G.addShape("text",{attrs:vt,draggable:!0,className:"text-shape",name:"text-shape"});if(Gt){var ie=Jt.getBBox(),ue=Jt.getMatrix();if(ue||(ue=[1,0,0,0,1,0,0,0,1]),vt.rotateCenter)switch(vt.rotateCenter){case"center":ue=tn(ue,[["t",-ie.width/2,-ie.height/2],["r",Gt],["t",ie.width/2,ie.height/2]]);break;case"lefttop":ue=tn(ue,[["t",-vt.x,-vt.y],["r",Gt],["t",vt.x,vt.y]]);break;case"leftcenter":ue=tn(ue,[["t",-vt.x,-vt.y-ie.height/2],["r",Gt],["t",vt.x,vt.y+ie.height/2]]);break;default:ue=tn(ue,[["t",-ie.width/2,-ie.height/2],["r",Gt],["t",ie.width/2,ie.height/2]])}else ue=tn(ue,[["t",-vt.x,-vt.y-ie.height/2],["r",Gt],["t",vt.x,vt.y+ie.height/2]]);Jt.setMatrix(ue)}if(vt.background){var Ce=this.drawLabelBg(U,G,Jt),we=this.itemType+"-label-bg";Ce.set("classname",we),Jt.toFront()}return Jt},drawLabelBg:function(U,G,nt){var vt=this.options.labelCfg,Gt=Object(c.A)({},vt,U.labelCfg),Jt=this.getLabelBgStyleByPosition(nt,U,Gt,G);return G.addShape("rect",{name:"text-bg-shape",attrs:Jt})},getLabelStyleByPosition:function(U,G,nt){return{text:U.label}},getLabelBgStyleByPosition:function(U,G,nt,vt){return{}},getLabelStyle:function(U,G,nt){var vt=this.getLabelStyleByPosition(U,G,nt),Gt=this.itemType+"Label",Jt=bt[Gt]?bt[Gt].style:null;return Object(r.a)(Object(r.a)(Object(r.a)({},Jt),vt),G.style)},getShapeStyle:function(U){return U.style},update:function(U,G){this.updateShapeStyle(U,G),this.updateLabel(U,G)},updateShapeStyle:function(U,G){var nt=G.getContainer(),vt=G.getKeyShape(),Gt=Object(c.A)({},vt.attr(),U.style),Jt=function(Ce){var we,cn=Gt[Ce];if(Object(c.w)(cn)){var Cn=nt.find(function(_t){return _t.get("name")===Ce});Cn&&Cn.attr(cn)}else vt.attr(((we={})[Ce]=cn,we))};for(var ie in Gt)Jt(ie)},updateLabel:function(U,G){var nt=G.getContainer(),vt=this.getOptions({}).labelCfg,Gt=this.itemType+"-label",Jt=nt.find(function(Zn){return Zn.get("className")===Gt}),ie=this.itemType+"-label-bg",ue=nt.find(function(Zn){return Zn.get("classname")===ie});if(U.label||U.label==="")if(Jt){var Ce={};G.getModel&&(Ce=G.getModel().labelCfg);var we=Object(c.e)({},vt,Ce,U.labelCfg),cn=this.getLabelStyleByPosition(U,we,nt),Cn=U.labelCfg?U.labelCfg.style:void 0,_t=we.style&&we.style.background,Xt=Object(r.a)(Object(r.a)(Object(r.a)({},Jt.attr()),cn),Cn),Se=Xt.rotate;if(delete Xt.rotate,Se){var Wt=[1,0,0,0,1,0,0,0,1];Wt=tn(Wt,[["t",-Xt.x,-Xt.y],["r",Se],["t",Xt.x,Xt.y]]),Jt.resetMatrix(),Jt.attr(Object(r.a)(Object(r.a)({},Xt),{matrix:Wt}))}else Jt.resetMatrix(),Jt.attr(Xt);if(ue)if(Xt.background){var ce=this.getLabelBgStyleByPosition(Jt,U,we,nt),yn=Object(r.a)(Object(r.a)({},ce),_t);if(ue.resetMatrix(),Se){var Bn=[1,0,0,0,1,0,0,0,1];Bn=tn(Bn,[["t",-yn.x,-yn.y],["r",Se],["t",yn.x,yn.y]]),yn.matrix=Bn}ue.attr(yn)}else nt.removeChild(ue);else Xt.background&&((ue=this.drawLabelBg(U,nt,Jt)).set("classname",ie),Jt.toFront())}else this.drawLabel(U,nt).set("className",Gt)},afterUpdate:function(U,G){},setState:function(U,G,nt){var vt,Gt,Jt=nt.get("keyShape");if(Jt){var ie=nt.getType(),ue=Object(c.n)(G)?U:U+":"+G,Ce=this.getStateStyle(ue,nt),we=nt.getStateStyle(ue);if(we||Ce){var cn=Object(c.A)({},we||Ce),Cn=nt.getContainer(),_t={x:1,y:1,cx:1,cy:1};if(ie==="combo"&&(_t.r=1,_t.width=1,_t.height=1),G){var Xt=function(le){var Me,We=cn[le];if(Object(c.w)(We)&&!sn.includes(le)){var Ye=Cn.find(function(ke){return ke.get("name")===le});Ye&&Ye.attr(We)}else Jt.attr(((Me={})[le]=We,Me))};for(var Se in cn)Xt(Se)}else{var Wt=mi(nt.getCurrentStatesStyle()),ce=nt.getModel(),yn=Object(c.A)({},ce.style,mi(nt.getOriginStyle())),Bn=Jt.get("name"),Zn=Jt.attr(),Kn={};Object.keys(Zn).forEach(function(he){if(he!=="img"){var le=Zn[he];le&&rr(le)==="object"?Kn[he]=Object(c.c)(le):Kn[he]=le}});var $e={},je=function(le){var Me=cn[le];if(Object(c.w)(Me)&&!sn.includes(le)){var We=Cn.find(function(nn){return nn.get("name")===le});if(We){var Ye=Object(c.c)(We.attr());Object(c.f)(Me,function(nn,Re){if(le===Bn&&Kn[Re]&&!_t[Re]){delete Kn[Re];var hn=yn[le][Re]||ur[ie][Re];Jt.attr(Re,hn)}else if(Ye[Re]||Ye[Re]===0){delete Ye[Re];var pn=yn[le][Re]||ur[ie][Re];We.attr(Re,pn)}}),$e[le]=Ye}}else if(Kn[le]&&!_t[le]){delete Kn[le];var ke=yn[le]||(yn[Bn]?yn[Bn][le]:void 0)||ur[ie][le];Jt.attr(le,ke)}};for(var L in cn)je(L);for(var Se in Bn?$e[Bn]=Kn:Object(c.A)($e,Kn),Wt)if(!_t[Se]){var St=Wt[Se];Object(c.w)(St)&&!sn.includes(Se)||(Bn?(Object(c.A)(yn[Bn],((Gt={})[Se]=St,Gt)),delete yn[Se]):Object(c.A)(yn,((vt={})[Se]=St,vt)),delete Wt[Se])}var $t={};Object(c.e)($t,yn,$e,Wt);var ye=!1,Zt=function(le){var Me,We,Ye=$t[le];if(Object(c.w)(Ye)&&!sn.includes(le)){var ke=Cn.find(function(Re){return Re.get("name")===le});ke&&(le===Bn&&(ie==="combo"&&(delete Ye.r,delete Ye.width,delete Ye.height),ye=!0),ke.attr(Ye))}else if(!ye){var nn=Ye||ur[ie][le];ie==="combo"?Bn||Jt.attr(((Me={})[le]=nn,Me)):Jt.attr(((We={})[le]=nn,We))}};for(var de in $t)Zt(de)}}}},getStateStyle:function(U,G){var nt=G.getModel(),vt=G.getType(),Gt=this.getOptions(nt),Jt=Gt.stateStyles,ie=Gt.style,ue=ie===void 0?{}:ie,Ce=nt.stateStyles?nt.stateStyles[U]:Jt&&Jt[U];return vt==="combo"?Object(c.c)(Ce):Object(c.A)({},ue,Ce)},getControlPoints:function(U){return U.controlPoints},getAnchorPoints:function(U){return this.getOptions(U).anchorPoints}},wr={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:bt.nodeLabel.offset,getSize:function(U){var G=U.size||this.getOptions({}).size||bt.defaultNode.size;return Object(c.m)(G)&&G.length===1&&(G=[G[0],G[0]]),Object(c.m)(G)||(G=[G,G]),G},getLabelStyleByPosition:function(U,G){var nt=G.position||this.labelPosition;if(nt==="center")return{x:0,y:0,text:U.label};var vt=G.offset;Object(c.s)(vt)&&(vt=this.offset);var Gt,Jt=this.getSize(U),ie=Jt[0],ue=Jt[1];switch(nt){case"top":Gt={x:0,y:0-ue/2-vt,textBaseline:"bottom"};break;case"bottom":Gt={x:0,y:ue/2+vt,textBaseline:"top"};break;case"left":Gt={x:0-ie/2-vt,y:0,textAlign:"right"};break;default:Gt={x:ie/2+vt,y:0,textAlign:"left"}}return Gt.text=U.label,Gt},getLabelBgStyleByPosition:function(U,G,nt,vt){if(!U)return{};var Gt=U.getBBox(),Jt=nt.style&&nt.style.background;if(!Jt)return{};var ie,ue=zt(Jt.padding),Ce=Gt.width+ue[1]+ue[3],we=Gt.height+ue[0]+ue[2],cn=nt.offset;return Object(c.s)(cn)&&(cn=this.offset),ie={x:Gt.minX-ue[3],y:Gt.minY-ue[0]},ie=Object(r.a)(Object(r.a)(Object(r.a)({},ie),Jt),{width:Ce,height:we})},drawShape:function(U,G){var nt=this.shapeType,vt=this.getShapeStyle(U);return G.addShape(nt,{attrs:vt,draggable:!0,name:"node-shape"})},updateLinkPoints:function(U,G){var nt,vt=this.getOptions(U).linkPoints,Gt=G.find(function(je){return je.get("className")==="link-point-left"}),Jt=G.find(function(je){return je.get("className")==="link-point-right"}),ie=G.find(function(je){return je.get("className")==="link-point-top"}),ue=G.find(function(je){return je.get("className")==="link-point-bottom"});Gt&&(nt=Gt.attr()),Jt&&!nt&&(nt=Jt.attr()),ie&&!nt&&(nt=ie.attr()),ue&&!nt&&(nt=ue.attr()),nt||(nt=vt);var Ce=Object(c.A)({},nt,U.linkPoints),we=Ce.fill,cn=Ce.stroke,Cn=Ce.lineWidth,_t=Ce.size/2;_t||(_t=Ce.r);var Xt=U.linkPoints?U.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},Se=Xt.left,Wt=Xt.right,ce=Xt.top,yn=Xt.bottom,Bn=this.getSize(U),Zn=Bn[0],Kn=Bn[1],$e={r:_t,fill:we,stroke:cn,lineWidth:Cn};Gt?Se||Se===void 0?Gt.attr(Object(r.a)(Object(r.a)({},$e),{x:-Zn/2,y:0})):Gt.remove():Se&&G.addShape("circle",{attrs:Object(r.a)(Object(r.a)({},$e),{x:-Zn/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),Jt?(Wt||Wt===void 0||Jt.remove(),Jt.attr(Object(r.a)(Object(r.a)({},$e),{x:Zn/2,y:0}))):Wt&&G.addShape("circle",{attrs:Object(r.a)(Object(r.a)({},$e),{x:Zn/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),ie?(ce||ce===void 0||ie.remove(),ie.attr(Object(r.a)(Object(r.a)({},$e),{x:0,y:-Kn/2}))):ce&&G.addShape("circle",{attrs:Object(r.a)(Object(r.a)({},$e),{x:0,y:-Kn/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),ue?yn||yn===void 0?ue.attr(Object(r.a)(Object(r.a)({},$e),{x:0,y:Kn/2})):ue.remove():yn&&G.addShape("circle",{attrs:Object(r.a)(Object(r.a)({},$e),{x:0,y:Kn/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(U,G,nt,vt){G.get("keyShape").attr(Object(r.a)({},nt)),this.updateLabel(U,G),vt&&this.updateIcon(U,G)},updateIcon:function(U,G){var nt=this,vt=G.getContainer(),Gt=this.getOptions(U).icon,Jt=(U.icon?U.icon:{show:void 0}).show,ie=vt.find(function(Cn){return Cn.get("className")===nt.type+"-icon"});if(ie)if(Jt||Jt===void 0){var ue=Object(c.A)({},ie.attr(),Gt),Ce=ue.width,we=ue.height;ie.attr(Object(r.a)(Object(r.a)({},ue),{x:-Ce/2,y:-we/2}))}else ie.remove();else if(Jt){Ce=Gt.width,we=Gt.height,vt.addShape("image",{attrs:Object(r.a)(Object(r.a)({},Gt),{x:-Ce/2,y:-we/2}),className:this.type+"-icon",name:this.type+"-icon"});var cn=vt.find(function(Cn){return Cn.get("className")==="node-label"});cn&&cn.toFront()}}},yr=Object(r.a)(Object(r.a)({},jr),wr);Yr.registerNode("single-node",yr);var ni={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:bt.defaultEdge.size,style:{x:0,y:0,stroke:bt.defaultEdge.style.stroke,lineAppendWidth:bt.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:bt.edgeLabel.style.fill,fontSize:bt.edgeLabel.style.fontSize}},stateStyles:Object(r.a)({},bt.edgeStateStyles)},getPath:function(U){var G=[];return Object(c.f)(U,function(nt,vt){vt===0?G.push(["M",nt.x,nt.y]):G.push(["L",nt.x,nt.y])}),G},getShapeStyle:function(U){var G=this.options.style,nt={stroke:U.color},vt=Object(c.A)({},G,nt,U.style),Gt=U.size||bt.defaultEdge.size,Jt=(U=this.getPathPoints(U)).startPoint,ie=U.endPoint,ue=this.getControlPoints(U),Ce=[Jt];ue&&(Ce=Ce.concat(ue)),Ce.push(ie);var we=this.getPath(Ce);return Object(c.A)({},bt.defaultEdge.style,{stroke:bt.defaultEdge.color,lineWidth:Gt,path:we},vt)},updateShapeStyle:function(U,G){var nt=G.getContainer(),vt={stroke:U.color},Gt=nt.find(function(yn){return yn.get("className")==="edge-shape"})||G.getKeyShape(),Jt=U.size,ie=(U=this.getPathPoints(U)).startPoint,ue=U.endPoint,Ce=this.getControlPoints(U),we=[ie];Ce&&(we=we.concat(Ce)),we.push(ue);var cn=Gt.attr(),Cn=Object(c.A)({},vt,cn,U.style),_t=U.sourceNode,Xt=U.targetNode,Se={radius:Cn.radius};Ce||(Se={source:_t,target:Xt,offset:Cn.offset,radius:Cn.radius}),cn.endArrow&&Cn.endArrow===!1&&(U.style.endArrow={path:""}),cn.startArrow&&Cn.startArrow===!1&&(U.style.startArrow={path:""});var Wt=this.getPath(we,Se),ce=Object(c.A)(vt,Gt.attr(),{lineWidth:Jt,path:Wt},U.style);Gt&&Gt.attr(ce)},getLabelStyleByPosition:function(U,G,nt){var vt,Gt=G.position||this.labelPosition,Jt={},ie=nt&&nt.find(function(Cn){return Cn.get("className")==="edge-shape"});vt=Gt==="start"?0:Gt==="end"?1:.5;var ue=G.refX||this.refX,Ce=G.refY||this.refY;if(U.startPoint.x===U.endPoint.x&&U.startPoint.y===U.endPoint.y)return Jt.x=U.startPoint.x+ue,Jt.y=U.startPoint.y+Ce,Jt.text=U.label,Jt;var we=Object(c.s)(G.autoRotate)?this.labelAutoRotate:G.autoRotate,cn=Dn(ie,vt,ue,Ce,we);return Jt.x=cn.x,Jt.y=cn.y,Jt.rotate=cn.rotate,Jt.textAlign=this._getTextAlign(Gt,cn.angle),Jt.text=U.label,Jt},getLabelBgStyleByPosition:function(U,G,nt,vt){if(!U)return{};var Gt=U.getBBox(),Jt=nt.style&&nt.style.background;if(!Jt)return{};var ie,ue=Jt.padding,Ce=Gt.width+ue[1]+ue[3],we=Gt.height+ue[0]+ue[2],cn=nt.position||this.labelPosition,Cn=Object(r.a)(Object(r.a)({},Jt),{width:Ce,height:we,x:Gt.minX-ue[2],y:Gt.minY-ue[0],rotate:0}),_t=Object(c.s)(nt.autoRotate)?this.labelAutoRotate:nt.autoRotate,Xt=vt&&vt.find(function(Bn){return Bn.get("className")==="edge-shape"});ie=cn==="start"?0:cn==="end"?1:.5;var Se=nt.refX||this.refX,Wt=nt.refY||this.refY;if(G.startPoint.x===G.endPoint.x&&G.startPoint.y===G.endPoint.y)return Cn.x=G.startPoint.x+Se-Ce/2,Cn.y=G.startPoint.y+Wt-we/2,Cn;var ce=Dn(Xt,ie,Se-Ce/2,Wt+we/2,_t),yn=ce.angle;return yn>.5*Math.PI&&yn<1.5*Math.PI&&(ce=Dn(Xt,ie,Se+Ce/2,Wt+we/2,_t)),_t&&(Cn.x=ce.x,Cn.y=ce.y),Cn.rotate=ce.rotate,Cn},_getTextAlign:function(U,G){var nt="center";return G?(G%=2*Math.PI,U!=="center"&&(nt=G>=0&&G<=Math.PI/2||G>=1.5*Math.PI&&G<2*Math.PI?U:function(vt){var Gt=vt;return vt==="start"?Gt="end":vt==="end"&&(Gt="start"),Gt}(U)),nt):U},getControlPoints:function(U){return U.controlPoints},getPathPoints:function(U){return U},drawShape:function(U,G){var nt=this.getShapeStyle(U);return G.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:nt})},drawLabel:function(U,G){var nt=this.options.labelCfg,vt=Object(c.e)({fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},nt,U.labelCfg),Gt=this.getLabelStyle(U,vt,G),Jt=Gt.rotate;delete Gt.rotate;var ie=G.addShape("text",{attrs:Gt,name:"text-shape"});if(Jt&&ie.rotateAtStart(Jt),Gt.background){var ue=this.drawLabelBg(U,G,ie),Ce=this.itemType+"-label-bg";ue.set("classname",Ce),ie.toFront()}return ie},drawLabelBg:function(U,G,nt){var vt=this.options.labelCfg,Gt=Object(c.e)({},vt,U.labelCfg),Jt=this.getLabelStyle(U,Gt,G).rotate,ie=this.getLabelBgStyleByPosition(nt,U,Gt,G);delete ie.rotate;var ue=G.addShape("rect",{name:"text-bg-shape",attrs:ie});return Jt&&ue.rotateAtStart(Jt),ue}},_r=Object(r.a)(Object(r.a)({},jr),ni);Yr.registerEdge("single-edge",_r),Yr.registerEdge("line",{getControlPoints:function(){}},"single-edge"),Yr.registerEdge("spline",{getPath:function(U){return pi(U)}},"single-edge"),Yr.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(U){var G,nt,vt=U.startPoint,Gt=U.endPoint,Jt=(vt.x+Gt.x)/2,ie=(vt.y+Gt.y)/2;if(U.controlPoints!==void 0){if(nt=U.controlPoints[0],G=dt(vt,nt,Gt),vt.x<=Gt.x&&vt.y>Gt.y?this.clockwise=G.x>nt.x?0:1:vt.x<=Gt.x&&vt.y<Gt.y?this.clockwise=G.x>nt.x?1:0:vt.x>Gt.x&&vt.y<=Gt.y?this.clockwise=G.y<nt.y?0:1:this.clockwise=G.y<nt.y?1:0,(nt.x-vt.x)/(nt.y-vt.y)==(Gt.x-vt.x)/(Gt.y-vt.y))return[]}else{U.curveOffset===void 0&&(U.curveOffset=this.curveOffset),Object(c.m)(U.curveOffset)&&(U.curveOffset=U.curveOffset[0]),U.curveOffset<0?this.clockwise=0:this.clockwise=1;var ue={x:Gt.x-vt.x,y:Gt.y-vt.y},Ce=Math.atan2(ue.y,ue.x);nt={x:U.curveOffset*Math.cos(-Math.PI/2+Ce)+Jt,y:U.curveOffset*Math.sin(-Math.PI/2+Ce)+ie},G=dt(vt,nt,Gt)}var we=Z(vt,G);return[{x:we,y:we}]},getPath:function(U){var G=[];return G.push(["M",U[0].x,U[0].y]),U.length===2?G.push(["L",U[1].x,U[1].y]):G.push(["A",U[1].x,U[1].y,0,0,this.clockwise,U[2].x,U[2].y]),G}},"single-edge"),Yr.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(U){var G=U.controlPoints;if(!G||!G.length){var nt=U.startPoint,vt=U.endPoint;U.curveOffset===void 0&&(U.curveOffset=this.curveOffset),U.curvePosition===void 0&&(U.curvePosition=this.curvePosition),Object(c.m)(this.curveOffset)&&(U.curveOffset=U.curveOffset[0]),Object(c.m)(this.curvePosition)&&(U.curvePosition=U.curveOffset[0]),G=[Ni(nt,vt,U.curvePosition,U.curveOffset)]}return G},getPath:function(U){var G=[];return G.push(["M",U[0].x,U[0].y]),G.push(["Q",U[1].x,U[1].y,U[2].x,U[2].y]),G}},"single-edge"),Yr.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(U){var G=U.controlPoints;if(U.curveOffset===void 0&&(U.curveOffset=this.curveOffset),U.curvePosition===void 0&&(U.curvePosition=this.curvePosition),Object(c.t)(U.curveOffset)&&(U.curveOffset=[U.curveOffset,-U.curveOffset]),Object(c.t)(U.curvePosition)&&(U.curvePosition=[U.curvePosition,1-U.curvePosition]),!G||!G.length||G.length<2){var nt=U.startPoint,vt=U.endPoint;G=[Ni(nt,vt,U.curvePosition[0],U.curveOffset[0]),Ni(nt,vt,U.curvePosition[1],U.curveOffset[1])]}return G},getPath:function(U){var G=[];return G.push(["M",U[0].x,U[0].y]),G.push(["C",U[1].x,U[1].y,U[2].x,U[2].y,U[3].x,U[3].y]),G}},"single-edge"),Yr.registerEdge("cubic-vertical",{curvePosition:[.5,.5],getControlPoints:function(U){var G=U.startPoint,nt=U.endPoint;return U.curvePosition!==void 0&&(this.curvePosition=U.curvePosition),Object(c.t)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]),[{x:G.x,y:(nt.y-G.y)*this.curvePosition[0]+G.y},{x:nt.x,y:(nt.y-G.y)*this.curvePosition[1]+G.y}]}},"cubic"),Yr.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],getControlPoints:function(U){var G=U.startPoint,nt=U.endPoint;return U.curvePosition!==void 0&&(this.curvePosition=U.curvePosition),Object(c.t)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]),[{x:(nt.x-G.x)*this.curvePosition[0]+G.x,y:G.y},{x:(nt.x-G.x)*this.curvePosition[1]+G.x,y:nt.y}]}},"cubic"),Yr.registerEdge("loop",{getPathPoints:function(U){return Wn(U)},getControlPoints:function(U){return U.controlPoints},afterDraw:function(U){U.controlPoints=void 0},afterUpdate:function(U){U.controlPoints=void 0}},"cubic");var Fr={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:bt.comboLabel.refX,refY:bt.comboLabel.refY,options:{style:{stroke:bt.defaultCombo.style.stroke,fill:bt.defaultCombo.style.fill,lineWidth:bt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:bt.comboLabel.style.fill,fontSize:bt.comboLabel.style.fontSize}},stateStyles:Object(r.a)({},bt.comboStateStyles)},getSize:function(U){var G=Object(c.c)(U.size||this.options.size||bt.defaultCombo.size);return Object(c.m)(G)&&G.length===1&&(G=[G[0],G[0]]),Object(c.m)(G)||(G=[G,G]),G},getLabelStyleByPosition:function(U,G){var nt=G.position||this.labelPosition,vt=U.style,Gt=U.padding||this.options.padding;Object(c.m)(Gt)&&(Gt=Gt[0]);var Jt=G.refX,ie=G.refY;Object(c.s)(Jt)&&(Jt=this.refX),Object(c.s)(ie)&&(ie=this.refY);var ue,Ce=this.getSize(U),we=(Math.max(vt.r,Ce[0]/2)||Ce[0]/2)+Gt;switch(nt){case"top":ue={x:0,y:-we-ie,textBaseline:"bottom",textAlign:"center"};break;case"bottom":ue={x:0,y:we+ie,textBaseline:"bottom",textAlign:"center"};break;case"left":ue={x:-we+Jt,y:0,textAlign:"left"};break;case"center":ue={x:0,y:0,text:U.label,textAlign:"center"};break;default:ue={x:we+Jt,y:0,textAlign:"right"}}return ue.text=U.label,ue},drawShape:function(U,G){var nt=this.shapeType,vt=this.getShapeStyle(U);return G.addShape(nt,{attrs:vt,draggable:!0,name:"combo-shape"})},updateShape:function(U,G,nt){var vt=G.get("keyShape");(U.animate===void 0?this.options.animate:U.animate)&&vt.animate?vt.animate(nt,{duration:200,easing:"easeLinear"}):vt.attr(Object(r.a)({},nt)),this.updateLabel(U,G)}},Lr=Object(r.a)(Object(r.a)({},jr),Fr);Yr.registerCombo("single-combo",Lr),Yr.registerCombo("circle",{options:{size:[bt.defaultCombo.size[0],bt.defaultCombo.size[0]],padding:bt.defaultCombo.padding[0],animate:!0,style:{stroke:bt.defaultCombo.style.stroke,fill:bt.defaultCombo.style.fill,lineWidth:bt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:bt.comboLabel.style.fill,fontSize:bt.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:Object(r.a)({},bt.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(U,G){var nt=this.getShapeStyle(U);return delete nt.height,delete nt.width,G.addShape("circle",{attrs:nt,className:"circle-combo",name:"circle-combo",draggable:!0})},getShapeStyle:function(U){var G=this.options.style,nt=U.padding||this.options.padding;Object(c.m)(nt)&&(nt=nt[0]);var vt,Gt={stroke:U.color},Jt=Object(c.A)({},G,Gt,U.style),ie=this.getSize(U);vt=!Object(c.t)(Jt.r)||isNaN(Jt.r)?ie[0]/2||bt.defaultCombo.style.r:Math.max(Jt.r,ie[0]/2)||ie[0]/2,Jt.r=vt+nt;var ue=Object(r.a)({x:0,y:0},Jt);return U.style?U.style.r=vt:U.style={r:vt},ue},update:function(U,G){var nt=this.getSize(U),vt=U.padding||this.options.padding;Object(c.m)(vt)&&(vt=vt[0]);var Gt=Object(c.c)(U.style),Jt=Math.max(Gt.r,nt[0]/2)||nt[0]/2;Gt.r=Jt+vt;var ie=G.get("sizeCache");ie&&(ie.r=Gt.r);var ue={stroke:U.color},Ce=G.get("keyShape"),we=Object(c.A)({},Ce.attr(),ue,Gt);U.style?U.style.r=Jt:U.style={r:Jt},this.updateShape(U,G,we,!0)}},"single-combo"),Yr.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:bt.defaultCombo.style.stroke,fill:bt.defaultCombo.style.fill,lineWidth:bt.defaultCombo.style.lineWidth},labelCfg:{style:{fill:bt.comboLabel.style.fill,fontSize:bt.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(r.a)({},bt.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(U,G){var nt=this.getShapeStyle(U);return G.addShape("rect",{attrs:nt,className:"rect-combo",name:"rect-combo",draggable:!0})},getLabelStyleByPosition:function(U,G){var nt=G.position||this.labelPosition,vt=U.style,Gt=U.padding||this.options.padding;Object(c.t)(Gt)&&(Gt=[Gt,Gt,Gt,Gt]);var Jt=G.refX,ie=G.refY;Object(c.s)(Jt)&&(Jt=this.refX),Object(c.s)(ie)&&(ie=this.refY);var ue,Ce=vt.width/2+Gt[3],we=vt.height/2+Gt[0];switch(nt){case"top":ue={x:0-Ce+Jt,y:0-we+ie,textBaseline:"top",textAlign:"left"};break;case"bottom":ue={x:0,y:we+ie,textBaseline:"bottom",textAlign:"center"};break;case"left":ue={x:0-Ce+ie,y:0,textAlign:"left"};break;case"center":ue={x:0,y:0,text:U.label,textAlign:"center"};break;default:ue={x:Ce+Jt,y:0,textAlign:"right"}}return ue.text=U.label,ue},getShapeStyle:function(U){var G=this.options.style,nt=U.padding||this.options.padding;Object(c.t)(nt)&&(nt=[nt,nt,nt,nt]);var vt,Gt,Jt={stroke:U.color},ie=Object(c.A)({},G,Jt,U.style),ue=this.getSize(U);vt=!Object(c.t)(ie.width)||isNaN(ie.width)?ue[0]||bt.defaultCombo.style.width:Math.max(ie.width,ue[0])||ue[0],Gt=!Object(c.t)(ie.height)||isNaN(ie.height)?ue[1]||bt.defaultCombo.style.height:Math.max(ie.height,ue[1])||ue[1];var Ce=-vt/2-nt[3],we=-Gt/2-nt[0];ie.width=vt+nt[1]+nt[3],ie.height=Gt+nt[0]+nt[2];var cn=Object(r.a)({x:Ce,y:we},ie);return U.style?(U.style.width=vt,U.style.height=Gt):U.style={width:vt,height:Gt},cn},update:function(U,G){var nt=this.getSize(U),vt=U.padding||this.options.padding;Object(c.t)(vt)&&(vt=[vt,vt,vt,vt]);var Gt=Object(c.c)(U.style),Jt=Math.max(Gt.width,nt[0])||nt[0],ie=Math.max(Gt.height,nt[1])||nt[1];Gt.width=Jt+vt[1]+vt[3],Gt.height=ie+vt[0]+vt[2];var ue=G.get("sizeCache");ue&&(ue.width=Gt.width,ue.height=Gt.height),Gt.x=-Jt/2-vt[3],Gt.y=-ie/2-vt[0];var Ce={stroke:U.color},we=G.get("keyShape"),cn=Object(c.A)({},we.attr(),Ce,Gt);U.style?(U.style.width=Jt,U.style.height=ie):U.style={width:Jt,height:ie},this.updateShape(U,G,cn,!1)},updateShape:function(U,G,nt){var vt=G.get("keyShape");(U.animate===void 0?this.options.animate:U.animate)&&vt.animate?vt.animate(nt,{duration:200,easing:"easeLinear"}):vt.attr(Object(r.a)({},nt)),this.updateLabel(U,G)}},"single-combo"),Yr.registerNode("simple-circle",{options:{size:bt.defaultNode.size,style:{x:0,y:0,stroke:bt.defaultNode.style.stroke,fill:bt.defaultNode.style.fill,lineWidth:bt.defaultNode.style.lineWidth},labelCfg:{style:{fill:bt.nodeLabel.style.fill,fontSize:bt.nodeLabel.style.fontSize}},stateStyles:Object(r.a)({},bt.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",drawShape:function(U,G){var nt=this.getShapeStyle(U);return G.addShape("circle",{attrs:nt,className:this.type+"-keyShape",draggable:!0})},getShapeStyle:function(U){var G=this.getOptions(U).style,nt={stroke:U.color},vt=Object(c.e)({},G,nt),Gt=this.getSize(U)[0]/2;return Object(r.a)({x:0,y:0,r:Gt},vt)},update:function(U,G){var nt=this.getSize(U),vt={stroke:U.color,r:nt[0]/2},Gt=G.get("keyShape"),Jt=Object(c.e)({},Gt.attr(),vt,U.style);this.updateShape(U,G,Jt,!0)}},"single-node"),Yr.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:bt.defaultNode.style.stroke,fill:bt.defaultNode.style.fill,lineWidth:bt.defaultNode.style.lineWidth},labelCfg:{style:{fill:bt.nodeLabel.style.fill,fontSize:bt.nodeLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(r.a)({},bt.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(U,G){var nt=this.getShapeStyle(U);return G.addShape("rect",{attrs:nt,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0})},getShapeStyle:function(U){var G=this.getOptions(U).style,nt={stroke:U.color},vt=Object(c.A)({},G,nt),Gt=this.getSize(U),Jt=vt.width||Gt[0],ie=vt.height||Gt[1];return Object(r.a)({x:-Jt/2,y:-ie/2,width:Jt,height:ie},vt)},update:function(U,G){G.getContainer();var nt=this.getOptions({}).style,vt=this.getSize(U),Gt=G.get("keyShape");U.size||(vt[0]=Gt.attr("width")||nt.width,vt[1]=Gt.attr("height")||nt.height);var Jt={stroke:U.color,x:-vt[0]/2,y:-vt[1]/2,width:vt[0],height:vt[1]},ie=Object(c.A)({},nt,Gt.attr(),Jt);ie=Object(c.A)(ie,U.style),this.updateShape(U,G,ie,!1)}},"single-node"),Yr.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(U,G){var nt=this.shapeType,vt=this.getShapeStyle(U);delete vt.fill;var Gt=G.addShape(nt,{attrs:vt,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(U,Gt),Gt},drawClip:function(U,G){var nt=this.getOptions(U).clipCfg;if(nt.show){var vt=nt.type,Gt=nt.x,Jt=nt.y,ie=nt.style;if(vt==="circle"){var ue=nt.r;G.setClip({type:"circle",attrs:Object(r.a)({r:ue,x:Gt,y:Jt},ie)})}else if(vt==="rect"){var Ce=nt.width,we=nt.height,cn=Gt-Ce/2,Cn=Jt-we/2;G.setClip({type:"rect",attrs:Object(r.a)({x:cn,y:Cn,width:Ce,height:we},ie)})}else if(vt==="ellipse"){var _t=nt.rx,Xt=nt.ry;G.setClip({type:"ellipse",attrs:Object(r.a)({x:Gt,y:Jt,rx:_t,ry:Xt},ie)})}else if(vt==="polygon"){var Se=nt.points;G.setClip({type:"polygon",attrs:Object(r.a)({points:Se},ie)})}else if(vt==="path"){var Wt=nt.path;G.setClip({type:"path",attrs:Object(r.a)({path:Wt},ie)})}}},getShapeStyle:function(U){var G=this.getOptions(U).style,nt=this.getSize(U),vt=this.getOptions(U).img,Gt=nt[0],Jt=nt[1];return G&&(Gt=G.width||nt[0],Jt=G.height||nt[1]),Object(r.a)({x:-Gt/2,y:-Jt/2,width:Gt,height:Jt,img:vt},G)},updateShapeStyle:function(U,G){var nt=G.getContainer(),vt=this.itemType+"-shape",Gt=nt.find(function(ie){return ie.get("className")===vt})||G.getKeyShape(),Jt=this.getShapeStyle(U);Gt&&Gt.attr(Jt)}},"single-node");var Gr,Hr={triangle:function(U,G,nt){U===void 0&&(U=10),G===void 0&&(G=15),nt===void 0&&(nt=0);var vt=2*nt;return"M "+vt+",0 L "+(vt+G)+",-"+U/2+" L "+(vt+G)+","+U/2+" Z"},vee:function(U,G,nt){U===void 0&&(U=15),G===void 0&&(G=20),nt===void 0&&(nt=0);var vt=2*nt;return"M "+vt+",0 L "+(vt+G)+",-"+U/2+`
        L `+(vt+2*G/3)+",0 L "+(vt+G)+","+U/2+" Z"},circle:function(U,G){return U===void 0&&(U=5),G===void 0&&(G=0),"M "+2*G+`, 0
            a `+U+","+U+" 0 1,0 "+2*U+`,0
            a `+U+","+U+" 0 1,0 "+2*-U+",0"},rect:function(U,G,nt){U===void 0&&(U=10),G===void 0&&(G=10),nt===void 0&&(nt=0);var vt=2*nt;return"M "+vt+","+-U/2+` 
        L `+(vt+G)+","+-U/2+` 
        L `+(vt+G)+","+U/2+` 
        L `+vt+","+U/2+" Z"},diamond:function(U,G,nt){U===void 0&&(U=15),G===void 0&&(G=15),nt===void 0&&(nt=0);var vt=2*nt;return"M "+vt+`,0 
        L `+(vt+G/2)+","+-U/2+` 
        L `+(vt+G)+`,0 
        L `+(vt+G/2)+","+U/2+" Z"},triangleRect:function(U,G,nt,vt,Gt,Jt){U===void 0&&(U=15),G===void 0&&(G=15),nt===void 0&&(nt=15),vt===void 0&&(vt=3),Gt===void 0&&(Gt=5),Jt===void 0&&(Jt=0);var ie=2*Jt,ue=ie+G+Gt;return"M "+ie+",0 L "+(ie+G)+",-"+U/2+" L "+(ie+G)+","+U/2+` Z
            M `+ue+", -"+nt/2+`
            L `+(ue+vt)+" -"+nt/2+`
            L `+(ue+vt)+" "+nt/2+`
            L `+ue+" "+nt/2+`
            Z`}},ei={collapse:function(U,G,nt){return[["M",U-nt,G],["a",nt,nt,0,1,0,2*nt,0],["a",nt,nt,0,1,0,2*-nt,0],["M",U-nt+4,G],["L",U+nt-4,G]]},expand:function(U,G,nt){return[["M",U-nt,G],["a",nt,nt,0,1,0,2*nt,0],["a",nt,nt,0,1,0,2*-nt,0],["M",U-nt+4,G],["L",U-nt+2*nt-4,G],["M",U-nt+nt,G-nt+4],["L",U,G+nt-4]]},upTriangle:function(U,G,nt){var vt=nt*Math.cos(Math.PI/6),Gt=nt*Math.sin(Math.PI/6);return[["M",U-vt,G+Gt],["L",U+vt,G+Gt],["L",U,G-nt],["Z"]]},downTriangle:function(U,G,nt){var vt=nt*Math.cos(Math.PI/6),Gt=nt*Math.sin(Math.PI/6);return[["M",U-vt,G-Gt],["L",U+vt,G-Gt],["L",U,G+nt],["Z"]]}},Kr=Yr,Qr=d.a.transform,Oi=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},u),g),x),n),{transform:Qr,mat3:d.b}),Ri=function(){function ve(U){this.graph=U,this.layoutCfg=U.get("layout")||{},this.layoutType=this.layoutCfg.type,this.initLayout()}return ve.prototype.initLayout=function(){},ve.prototype.getLayoutType=function(){return this.layoutCfg.type},ve.prototype.refreshLayout=function(){var U=this.graph;U&&(U.get("animate")?U.positionsAnimate():U.refreshPositions())},ve.prototype.changeLayout=function(U){var G=this.graph,nt=this.layoutMethod;this.layoutType=U,this.layoutCfg=G.get("layout")||{},this.layoutCfg.type=U,nt&&nt.destroy(),this.layout()},ve.prototype.changeData=function(){var U=this.layoutMethod;U&&U.destroy(),this.layout()},ve.prototype.destroyLayout=function(){var U=this.layoutMethod,G=this.graph;U&&U.destroy(),G.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},ve.prototype.setDataFromGraph=function(){for(var U=[],G=[],nt=[],vt=this.graph.getNodes(),Gt=this.graph.getEdges(),Jt=this.graph.getCombos(),ie=vt.length,ue=0;ue<ie;ue++){var Ce=vt[ue];if(Ce.isVisible()){var we=Ce.getModel();U.push(we)}}var cn=Gt.length;for(ue=0;ue<cn;ue++){var Cn=Gt[ue];Cn&&!Cn.destroyed&&Cn.isVisible()&&((we=Cn.getModel()).isComboEdge||G.push(we))}var _t=Jt.length;for(ue=0;ue<_t;ue++){var Xt=Jt[ue];!Xt.destroyed&&Xt.isVisible()&&(we=Xt.getModel(),nt.push(we))}return{nodes:U,edges:G,combos:nt}},ve.prototype.relayout=function(U){var G=this.graph,nt=this.layoutMethod,vt=this.layoutCfg;if(U){this.data=this.setDataFromGraph();var Gt=this.data.nodes;if(!Gt)return!1;this.initPositions(vt.center,Gt),nt.init(this.data)}this.layoutType==="force"&&(nt.ticking=!1,nt.forceSimulation.stop()),G.emit("beforelayout"),nt.execute(U),nt.isCustomLayout&&vt.onLayoutEnd&&vt.onLayoutEnd()},ve.prototype.layoutAnimate=function(){},ve.prototype.moveToZero=function(){var U=this.graph.get("data").nodes;if(U[0].x!==void 0&&U[0].x!==null&&!Ht(U[0].x)){for(var G=[0,0],nt=U.length,vt=0;vt<nt;vt++){var Gt=U[vt];G[0]+=Gt.x,G[1]+=Gt.y}for(G[0]/=U.length,G[1]/=U.length,vt=0;vt<nt;vt++)(Gt=U[vt]).x-=G[0],Gt.y-=G[1]}},ve.prototype.initPositions=function(U,G){var nt=this.graph;if(!G)return!1;var vt=!0,Gt=.85*nt.get("width"),Jt=.85*nt.get("height"),ie=G.length,ue=Math.ceil(Math.sqrt(ie)*(Gt/Jt)),Ce=Gt/(ue-1),we=Jt/(Math.ceil(ie/ue)-1);isFinite(Ce)&&Ce||(Ce=0),isFinite(we)&&Ce||(we=0);for(var cn=U[0]-Gt/2,Cn=U[1]-Jt/2,_t=G.length,Xt=0;Xt<_t;Xt++){var Se=G[Xt];Ht(Se.x)&&(vt=!1,Se.x=Xt%ue*Ce+cn),Ht(Se.y)&&(vt=!1,Se.y=Math.floor(Xt/ue)*we+Cn)}return vt},ve.prototype.destroy=function(){var U=this.layoutMethod;this.graph=null,U&&(U.destroy(),U.destroyed=!0),this.destroyed=!0},ve}(),Ei=function(U){this.graph=U,this.destroyed=!1,this.initEvents()};(function(ve){ve.CLICK="click",ve.DBLCLICK="dblclick",ve.MOUSEDOWN="mousedown",ve.MOUDEUP="mouseup",ve.CONTEXTMENU="contextmenu",ve.MOUSEENTER="mouseenter",ve.MOUSEOUT="mouseout",ve.MOUSEOVER="mouseover",ve.MOUSEMOVE="mousemove",ve.MOUSELEAVE="mouseleave",ve.DRAGSTART="dragstart",ve.DRAGEND="dragend",ve.DRAG="drag",ve.DRAGENTER="dragenter",ve.DRAGLEAVE="dragleave",ve.DRAGOVER="dragover",ve.DRAGOUT="dragout",ve.DDROP="drop",ve.KEYUP="keyup",ve.KEYDOWN="keydown",ve.WHEEL="wheel",ve.FOCUS="focus",ve.BLUR="blur",ve.TOUCHSTART="touchstart",ve.TOUCHMOVE="touchmove",ve.TOUCHEND="touchend",ve.NODE_CONTEXTMENU="node:contextmenu",ve.NODE_CLICK="node:click",ve.NODE_DBLCLICK="node:dblclick",ve.NODE_MOUSEDOWN="node:mousedown",ve.NODE_MOUSEUP="node:mouseup",ve.NODE_MOUSEENTER="node:mouseenter",ve.NODE_MOUSELEAVE="node:mouseleave",ve.NODE_MOUSEMOVE="node:mousemove",ve.NODE_MOUSEOUT="node:mouseout",ve.NODE_MOUSEOVER="node:mouseover",ve.NODE_DROP="node:drop",ve.NODE_DRAGOVER="node:dragover",ve.NODE_DRAGENTER="node:dragenter",ve.NODE_DRAGLEAVE="node:dragleave",ve.NODE_DRAGSTART="node:dragstart",ve.NODE_DRAG="node:drag",ve.NODE_DRAGEND="node:dragend",ve.COMBO_CONTEXTMENU="combo:contextmenu",ve.COMBO_CLICK="combo:click",ve.COMBO_DBLCLICK="combo:dblclick",ve.COMBO_MOUSEDOWN="combo:mousedown",ve.COMBO_MOUSEUP="combo:mouseup",ve.COMBO_MOUSEENTER="combo:mouseenter",ve.COMBO_MOUSELEAVE="combo:mouseleave",ve.COMBO_MOUSEMOVE="combo:mousemove",ve.COMBO_MOUSEOUT="combo:mouseout",ve.COMBO_MOUSEOVER="combo:mouseover",ve.COMBO_DROP="combo:drop",ve.COMBO_DRAGOVER="combo:dragover",ve.COMBO_DRAGENTER="combo:dragenter",ve.COMBO_DRAGLEAVE="combo:dragleave",ve.COMBO_DRAGSTART="combo:dragstart",ve.COMBO_DRAG="combo:drag",ve.COMBO_DRAGEND="combo:dragend",ve.EDGE_CONTEXTMENU="edge:contextmenu",ve.EDGE_CLICK="edge:click",ve.EDGE_DBLCLICK="edge:dblclick",ve.EDGE_MOUSEDOWN="edge:mousedown",ve.EDGE_MOUSEUP="edge:mouseup",ve.EDGE_MOUSEENTER="edge:mouseenter",ve.EDGE_MOUSELEAVE="edge:mouseleave",ve.EDGE_MOUSEMOVE="edge:mousemove",ve.EDGE_MOUSEOUT="edge:mouseout",ve.EDGE_MOUSEOVER="edge:mouseover",ve.EDGE_DROP="edge:drop",ve.EDGE_DRAGOVER="edge:dragover",ve.EDGE_DRAGENTER="edge:dragenter",ve.EDGE_DRAGLEAVE="edge:dragleave",ve.CANVAS_CONTEXTMENU="canvas:contextmenu",ve.CANVAS_CLICK="canvas:click",ve.CANVAS_DBLCLICK="canvas:dblclick",ve.CANVAS_MOUSEDOWN="canvas:mousedown",ve.CANVAS_MOUSEUP="canvas:mouseup",ve.CANVAS_MOUSEENTER="canvas:mouseenter",ve.CANVAS_MOUSELEAVE="canvas:mouseleave",ve.CANVAS_MOUSEMOVE="canvas:mousemove",ve.CANVAS_MOUSEOUT="canvas:mouseout",ve.CANVAS_MOUSEOVER="canvas:mouseover",ve.CANVAS_DROP="canvas:drop",ve.CANVAS_DRAGENTER="canvas:dragenter",ve.CANVAS_DRAGLEAVE="canvas:dragleave",ve.CANVAS_DRAGSTART="canvas:dragstart",ve.CANVAS_DRAG="canvas:drag",ve.CANVAS_DRAGEND="canvas:dragend",ve.BEFORERENDER="beforerender",ve.AFTERRENDER="afterrender",ve.BEFOREADDITEM="beforeadditem",ve.AFTERADDITEM="afteradditem",ve.BEFOREREMOVEITEM="beforeremoveitem",ve.AFTERREMOVEITEM="afterremoveitem",ve.BEFOREUPDATEITEM="beforeupdateitem",ve.AFTERUPDATEITEM="afterupdateitem",ve.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",ve.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",ve.BEFOREITEMSTATECHANGE="beforeitemstatechange",ve.AFTERITEMSTATECHANGE="afteritemstatechange",ve.BEFOREITEMREFRESH="beforeitemrefresh",ve.AFTERITEMREFRESH="afteritemrefresh",ve.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",ve.AFTERITEMSTATESCLEAR="afteritemstatesclear",ve.BEFOREMODECHANGE="beforemodechange",ve.AFTERMODECHANGE="aftermodechange",ve.BEFORELAYOUT="beforelayout",ve.AFTERLAYOUT="afterlayout",ve.BEFORECREATEEDGE="beforecreateedge",ve.AFTERCREATEEDGE="aftercreateedge",ve.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",ve.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",ve.BEFOREGRAPHREFRESH="beforegraphrefresh",ve.AFTERGRAPHREFRESH="aftergraphrefresh",ve.BEFOREANIMATE="beforeanimate",ve.AFTERANIMATE="afteranimate",ve.BEFOREPAINT="beforepaint",ve.AFTERPAINT="afterpaint",ve.BEFORECOLLAPSEEXPANDCOMBO="beforecollapseexpandcombo",ve.AFTERCOLLAPSEEXPANDCOMBO="aftercollapseexpandcombo",ve.GRAPHSTATECHANGE="graphstatechange",ve.AFTERACTIVATERELATIONS="afteractivaterelations",ve.NODESELECTCHANGE="nodeselectchange",ve.TOOLTIPCHANGE="tooltipchange",ve.WHEELZOOM="wheelzoom",ve.VIEWPORTCHANGE="viewportchange",ve.DRAGNODEEND="dragnodeend",ve.STACKCHANGE="stackchange"})(Gr||(Gr={}));var Gi=Kr.registerNode,ca=Kr.registerEdge,ha=Kr.registerCombo,na=m.registerBehavior,Zi=bt;Kr.registerNode,Kr.registerEdge,Kr.registerCombo,m.registerBehavior},function(i,b){i.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),function(n){n.TextureCompressionBC="texture-compression-bc"}(b.ExtensionName||(b.ExtensionName={})),function(n){n.ClampToEdge="clamp-to-edge",n.Repeat="repeat",n.MirrorRepeat="mirror-repeat"}(b.AddressMode||(b.AddressMode={})),function(n){n.UniformBuffer="uniform-buffer",n.StorageBuffer="storage-buffer",n.ReadonlyStorageBuffer="readonly-storage-buffer",n.Sampler="sampler",n.ComparisonSampler="comparison-sampler",n.SampledTexture="sampled-texture",n.ReadonlyStorageTexture="readonly-storage-texture",n.WriteonlyStorageTexture="writeonly-storage-texture"}(b.BindingType||(b.BindingType={})),function(n){n.Zero="zero",n.One="one",n.SrcColor="src-color",n.OneMinusSrcColor="one-minus-src-color",n.SrcAlpha="src-alpha",n.OneMinusSrcAlpha="one-minus-src-alpha",n.DstColor="dst-color",n.OneMinusDstColor="one-minus-dst-color",n.DstAlpha="dst-alpha",n.OneMinusDstAlpha="one-minus-dst-alpha",n.SrcAlphaSaturated="src-alpha-saturated",n.BlendColor="blend-color",n.OneMinusBlendColor="one-minus-blend-color"}(b.BlendFactor||(b.BlendFactor={})),function(n){n.Add="add",n.Subtract="subtract",n.ReverseSubtract="reverse-subtract",n.Min="min",n.Max="max"}(b.BlendOperation||(b.BlendOperation={})),function(n){n.Never="never",n.Less="less",n.Equal="equal",n.LessEqual="less-equal",n.Greater="greater",n.NotEqual="not-equal",n.GreaterEqual="greater-equal",n.Always="always"}(b.CompareFunction||(b.CompareFunction={})),function(n){n.None="none",n.Front="front",n.Back="back"}(b.CullMode||(b.CullMode={})),function(n){n.Nearest="nearest",n.Linear="linear"}(b.FilterMode||(b.FilterMode={})),function(n){n.CCW="ccw",n.CW="cw"}(b.FrontFace||(b.FrontFace={})),function(n){n.Uint16="uint16",n.Uint32="uint32"}(b.IndexFormat||(b.IndexFormat={})),function(n){n.Vertex="vertex",n.Instance="instance"}(b.InputStepMode||(b.InputStepMode={})),function(n){n.Load="load"}(b.LoadOp||(b.LoadOp={})),function(n){n.PointList="point-list",n.LineList="line-list",n.LineStrip="line-strip",n.TriangleList="triangle-list",n.TriangleStrip="triangle-strip"}(b.PrimitiveTopology||(b.PrimitiveTopology={})),function(n){n.Keep="keep",n.Zero="zero",n.Replace="replace",n.Invert="invert",n.IncrementClamp="increment-clamp",n.DecrementClamp="decrement-clamp",n.IncrementWrap="increment-wrap",n.DecrementWrap="decrement-wrap"}(b.StencilOperation||(b.StencilOperation={})),function(n){n.Store="store",n.Clear="clear"}(b.StoreOp||(b.StoreOp={})),function(n){n.E1d="1d",n.E2d="2d",n.E3d="3d"}(b.TextureDimension||(b.TextureDimension={})),function(n){n.R8Unorm="r8unorm",n.R8Snorm="r8snorm",n.R8Uint="r8uint",n.R8Sint="r8sint",n.R16Uint="r16uint",n.R16Sint="r16sint",n.R16Float="r16float",n.RG8Unorm="rg8unorm",n.RG8Snorm="rg8snorm",n.RG8Uint="rg8uint",n.RG8Sint="rg8sint",n.R32Uint="r32uint",n.R32Sint="r32sint",n.R32Float="r32float",n.RG16Uint="rg16uint",n.RG16Sint="rg16sint",n.RG16Float="rg16float",n.RGBA8Unorm="rgba8unorm",n.RGBA8UnormSRGB="rgba8unorm-srgb",n.RGBA8Snorm="rgba8snorm",n.RGBA8Uint="rgba8uint",n.RGBA8Sint="rgba8sint",n.BGRA8Unorm="bgra8unorm",n.BGRA8UnormSRGB="bgra8unorm-srgb",n.RGB10A2Unorm="rgb10a2unorm",n.RG11B10Float="rg11b10float",n.RG32Uint="rg32uint",n.RG32Sint="rg32sint",n.RG32Float="rg32float",n.RGBA16Uint="rgba16uint",n.RGBA16Sint="rgba16sint",n.RGBA16Float="rgba16float",n.RGBA32Uint="rgba32uint",n.RGBA32Sint="rgba32sint",n.RGBA32Float="rgba32float",n.Depth32Float="depth32float",n.Depth24Plus="depth24plus",n.Depth24PlusStencil8="depth24plus-stencil8"}(b.TextureFormat||(b.TextureFormat={})),function(n){n.Float="float",n.Sint="sint",n.Uint="uint"}(b.TextureComponentType||(b.TextureComponentType={})),function(n){n.E1d="1d",n.E2d="2d",n.E2dArray="2d-array",n.Cube="cube",n.CubeArray="cube-array",n.E3d="3d"}(b.TextureViewDimension||(b.TextureViewDimension={})),function(n){n.Uchar2="uchar2",n.Uchar4="uchar4",n.Char2="char2",n.Char4="char4",n.Uchar2Norm="uchar2norm",n.Uchar4Norm="uchar4norm",n.Char2Norm="char2norm",n.Char4Norm="char4norm",n.Ushort2="ushort2",n.Ushort4="ushort4",n.Short2="short2",n.Short4="short4",n.Ushort2Norm="ushort2norm",n.Ushort4Norm="ushort4norm",n.Short2Norm="short2norm",n.Short4Norm="short4norm",n.Half2="half2",n.Half4="half4",n.Float="float",n.Float2="float2",n.Float3="float3",n.Float4="float4",n.Uint="uint",n.Uint2="uint2",n.Uint3="uint3",n.Uint4="uint4",n.Int="int",n.Int2="int2",n.Int3="int3",n.Int4="int4"}(b.VertexFormat||(b.VertexFormat={})),function(n){n.All="all",n.StencilOnly="stencil-only",n.DepthOnly="depth-only"}(b.TextureAspect||(b.TextureAspect={})),function(n){n.Error="error",n.Warning="warning",n.Info="info"}(b.CompilationMessageType||(b.CompilationMessageType={})),function(n){n.Occlusion="occlusion"}(b.QueryType||(b.QueryType={})),function(n){n[n.MapRead=1]="MapRead",n[n.MapWrite=2]="MapWrite",n[n.CopySrc=4]="CopySrc",n[n.CopyDst=8]="CopyDst",n[n.Index=16]="Index",n[n.Vertex=32]="Vertex",n[n.Uniform=64]="Uniform",n[n.Storage=128]="Storage",n[n.Indirect=256]="Indirect",n[n.QueryResolve=512]="QueryResolve"}(b.BufferUsage||(b.BufferUsage={})),function(n){n[n.Red=1]="Red",n[n.Green=2]="Green",n[n.Blue=4]="Blue",n[n.Alpha=8]="Alpha",n[n.All=15]="All"}(b.ColorWrite||(b.ColorWrite={})),function(n){n[n.Vertex=1]="Vertex",n[n.Fragment=2]="Fragment",n[n.Compute=4]="Compute"}(b.ShaderStage||(b.ShaderStage={})),function(n){n[n.CopySrc=1]="CopySrc",n[n.CopyDst=2]="CopyDst",n[n.Sampled=4]="Sampled",n[n.Storage=8]="Storage",n[n.OutputAttachment=16]="OutputAttachment"}(b.TextureUsage||(b.TextureUsage={})),function(n){n[n.Read=1]="Read",n[n.Write=2]="Write"}(b.MapMode||(b.MapMode={}))},function(i,b){function t(n,u){for(var g=0;g<u.length;g++){var x=u[g];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(n,x.key,x)}}i.exports=function(n,u,g){return u&&t(n.prototype,u),g&&t(n,g),n}},function(i,b,t){i.exports=t(442)},function(i,b,t){"use strict";t.d(b,"b",function(){return u.a}),t.d(b,"c",function(){return u.d}),t.d(b,"d",function(){return u.e}),t.d(b,"a",function(){return n});var n={};t.r(n),t.d(n,"leftTranslate",function(){return g}),t.d(n,"leftRotate",function(){return x}),t.d(n,"leftScale",function(){return c}),t.d(n,"transform",function(){return w}),t.d(n,"direction",function(){return I}),t.d(n,"angleTo",function(){return m}),t.d(n,"vertical",function(){return r});var u=t(2);function g(s,d,C){var S=[0,0,0,0,0,0,0,0,0];return u.a.fromTranslation(S,C),u.a.multiply(s,S,d)}function x(s,d,C){var S=[0,0,0,0,0,0,0,0,0];return u.a.fromRotation(S,C),u.a.multiply(s,S,d)}function c(s,d,C){var S=[0,0,0,0,0,0,0,0,0];return u.a.fromScaling(S,C),u.a.multiply(s,S,d)}function w(s,d){for(var C,S,A,f=s?[].concat(s):[1,0,0,0,1,0,0,0,1],O=0,j=d.length;O<j;O++){var D=d[O];switch(D[0]){case"t":g(f,f,[D[1],D[2]]);break;case"s":c(f,f,[D[1],D[2]]);break;case"r":x(f,f,D[1]);break;case"m":C=f,S=f,A=D[1],u.a.multiply(C,A,S)}}return f}function I(s,d){return s[0]*d[1]-d[0]*s[1]}function m(s,d,C){var S=u.d.angle(s,d),A=I(s,d)>=0;return C?A?2*Math.PI-S:S:A?S:2*Math.PI-S}function r(s,d,C){return C?(s[0]=d[1],s[1]=-1*d[0]):(s[0]=-1*d[1],s[1]=d[0]),s}},function(i,b,t){"use strict";t.d(b,"b",function(){return n}),t.d(b,"a",function(){return u}),t.d(b,"c",function(){return g});var n=1e-6,u=typeof Float32Array!="undefined"?Float32Array:Array,g=Math.random;Math.hypot||(Math.hypot=function(){for(var x=0,c=arguments.length;c--;)x+=arguments[c]*arguments[c];return Math.sqrt(x)})},function(i,b){i.exports=function(t,n,u,g){u&&Object.defineProperty(t,n,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(g):void 0})}},function(i,b){i.exports=function(t,n,u,g,x){var c={};return Object.keys(g).forEach(function(w){c[w]=g[w]}),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=u.slice().reverse().reduce(function(w,I){return I(t,n,w)||w},c),x&&c.initializer!==void 0&&(c.value=c.initializer?c.initializer.call(x):void 0,c.initializer=void 0),c.initializer===void 0&&(Object.defineProperty(t,n,c),c=null),c}},function(i,b,t){"use strict";function n(m,r,s){if(m){if(typeof m.addEventListener=="function")return m.addEventListener(r,s,!1),{remove:function(){m.removeEventListener(r,s,!1)}};if(typeof m.attachEvent=="function")return m.attachEvent("on"+r,s),{remove:function(){m.detachEvent("on"+r,s)}}}}var u,g,x,c;function w(m){u||(u=document.createElement("table"),g=document.createElement("tr"),x=/^\s*<(\w+|!)[^>]*>/,c={tr:document.createElement("tbody"),tbody:u,thead:u,tfoot:u,td:g,th:g,"*":document.createElement("div")});var r=x.test(m)&&RegExp.$1;r&&r in c||(r="*");var s=c[r];m=m.replace(/(^\s*)|(\s*$)/g,""),s.innerHTML=""+m;var d=s.childNodes[0];return s.removeChild(d),d}function I(m,r){if(m)for(var s in r)r.hasOwnProperty(s)&&(m.style[s]=r[s]);return m}t.d(b,"a",function(){return n}),t.d(b,"b",function(){return w}),t.d(b,"c",function(){return I})},function(i,b){function t(n,u,g,x,c,w,I){try{var m=n[w](I),r=m.value}catch(s){return void g(s)}m.done?u(r):Promise.resolve(r).then(x,c)}i.exports=function(n){return function(){var u=this,g=arguments;return new Promise(function(x,c){var w=n.apply(u,g);function I(r){t(w,x,c,I,m,"next",r)}function m(r){t(w,x,c,I,m,"throw",r)}I(void 0)})}}},function(i,b,t){"use strict";t.d(b,"a",function(){return n}),t.d(b,"b",function(){return u});var n={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},u={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"}},function(i,b,t){"use strict";t.d(b,"d",function(){return u}),t.d(b,"b",function(){return g}),t.d(b,"e",function(){return x}),t.d(b,"f",function(){return c}),t.d(b,"l",function(){return w}),t.d(b,"j",function(){return I});var n=t(0);function u(){return window?window.devicePixelRatio:1}function g(m,r,s,d){var C=m-s,S=r-d;return Math.sqrt(C*C+S*S)}function x(m,r,s,d,C,S){return C>=m&&C<=m+s&&S>=r&&S<=r+d}function c(m,r){return!(r.minX>m.maxX||r.maxX<m.minX||r.minY>m.maxY||r.maxY<m.minY)}function w(m,r){return m&&r?{minX:Math.min(m.minX,r.minX),minY:Math.min(m.minY,r.minY),maxX:Math.max(m.maxX,r.maxX),maxY:Math.max(m.maxY,r.maxY)}:m||r}function I(m,r){return m[0]===r[0]&&m[1]===r[1]}t.d(b,"i",function(){return n.s}),t.d(b,"k",function(){return n.x}),t.d(b,"h",function(){return n.r}),t.d(b,"g",function(){return n.m}),t.d(b,"c",function(){return n.f}),t.d(b,"o",function(){return n.G}),t.d(b,"m",function(){return n.B}),t.d(b,"n",function(){return n.D}),t.d(b,"a",function(){return n.b})},function(i,b,t){"use strict";var n=t(51);t.d(b,"PathUtil",function(){return n});var u=t(156);t.o(u,"ICanvas")&&t.d(b,"ICanvas",function(){return u.ICanvas}),t.o(u,"IGroup")&&t.d(b,"IGroup",function(){return u.IGroup}),t.o(u,"IShape")&&t.d(b,"IShape",function(){return u.IShape});var g=t(157);t.o(g,"ICanvas")&&t.d(b,"ICanvas",function(){return g.ICanvas}),t.o(g,"IGroup")&&t.d(b,"IGroup",function(){return g.IGroup}),t.o(g,"IShape")&&t.d(b,"IShape",function(){return g.IShape});var x=t(114);t.d(b,"Event",function(){return x.a}),t(115);var c=t(247);t.d(b,"AbstractCanvas",function(){return c.a});var w=t(159);t.d(b,"AbstractGroup",function(){return w.a});var I=t(160);t.d(b,"AbstractShape",function(){return I.a});var m=t(248);t.d(b,"getBBoxMethod",function(){return m.a});var r=t(68);t.d(b,"getTextHeight",function(){return r.b}),t.d(b,"assembleFont",function(){return r.a});var s=t(19);t.d(b,"isAllowCapture",function(){return s.b});var d=t(39);t.d(b,"multiplyVec2",function(){return d.c}),t.d(b,"invert",function(){return d.a});var C=t(116);t.d(b,"getOffScreenContext",function(){return C.a})},function(i,b,t){"use strict";t.d(b,"j",function(){return u}),t.d(b,"c",function(){return g}),t.d(b,"g",function(){return x}),t.d(b,"b",function(){return c});var n=t(0);function u(w,I){var m=w.indexOf(I);m!==-1&&w.splice(m,1)}t.d(b,"e",function(){return n.s}),t.d(b,"d",function(){return n.r}),t.d(b,"h",function(){return n.x}),t.d(b,"f",function(){return n.v}),t.d(b,"i",function(){return n.A}),t.d(b,"a",function(){return n.f}),t.d(b,"k",function(){return n.I});var g=typeof window!="undefined"&&window.document!==void 0;function x(w,I){if(w.isCanvas())return!0;for(var m=I.getParent(),r=!1;m;){if(m===w){r=!0;break}m=m.getParent()}return r}function c(w){return w.cfg.visible&&w.cfg.capture}},function(i,b,t){"use strict";t.d(b,"e",function(){return O}),t.d(b,"b",function(){return dt}),t.d(b,"a",function(){return Lt}),t.d(b,"c",function(){return s}),t.d(b,"d",function(){return wt}),t.d(b,"f",function(){return n});var n={};function u(J){return Math.min.apply(null,J)}function g(J){return Math.max.apply(null,J)}function x(J,lt,it,_){var P=J-it,Q=lt-_;return Math.sqrt(P*P+Q*Q)}function c(J,lt){return Math.abs(J-lt)<.001}function w(J,lt){var it=u(J),_=u(lt);return{x:it,y:_,width:g(J)-it,height:g(lt)-_}}function I(J,lt,it,_){return{minX:u([J,it]),maxX:g([J,it]),minY:u([lt,_]),maxY:g([lt,_])}}function m(J){return(J+2*Math.PI)%(2*Math.PI)}t.r(n),t.d(n,"distance",function(){return x}),t.d(n,"isNumberEqual",function(){return c}),t.d(n,"getBBoxByArray",function(){return w}),t.d(n,"getBBoxRange",function(){return I}),t.d(n,"piMod",function(){return m});var r=t(80),s={box:function(lt,it,_,P){return w([lt,_],[it,P])},length:function(lt,it,_,P){return x(lt,it,_,P)},pointAt:function(lt,it,_,P,Q){return{x:(1-Q)*lt+Q*_,y:(1-Q)*it+Q*P}},pointDistance:function(lt,it,_,P,Q,k){var p=(_-lt)*(Q-lt)+(P-it)*(k-it);return p<0?x(lt,it,Q,k):p>(_-lt)*(_-lt)+(P-it)*(P-it)?x(_,P,Q,k):this.pointToLine(lt,it,_,P,Q,k)},pointToLine:function(lt,it,_,P,Q,k){var p=[_-lt,P-it];if(r.exactEquals(p,[0,0]))return Math.sqrt((Q-lt)*(Q-lt)+(k-it)*(k-it));var y=[-p[1],p[0]];r.normalize(y,y);var B=[Q-lt,k-it];return Math.abs(r.dot(B,y))},tangentAngle:function(lt,it,_,P){return Math.atan2(P-it,_-lt)}};function d(J,lt,it,_,P,Q){var k,p=1/0,y=[it,_],B=20;Q&&Q>200&&(B=Q/10);for(var W=1/B,rt=W/10,st=0;st<=B;st++){var ut=st*W,Mt=[P.apply(null,J.concat([ut])),P.apply(null,lt.concat([ut]))];(jt=x(y[0],y[1],Mt[0],Mt[1]))<p&&(k=ut,p=jt)}if(k===0)return{x:J[0],y:lt[0]};if(k===1){var bt=J.length;return{x:J[bt-1],y:lt[bt-1]}}for(p=1/0,st=0;st<32&&!(rt<1e-4);st++){var xt=k-rt,Ot=k+rt,jt=(Mt=[P.apply(null,J.concat([xt])),P.apply(null,lt.concat([xt]))],x(y[0],y[1],Mt[0],Mt[1]));if(xt>=0&&jt<p)k=xt,p=jt;else{var Dt=[P.apply(null,J.concat([Ot])),P.apply(null,lt.concat([Ot]))],zt=x(y[0],y[1],Dt[0],Dt[1]);Ot<=1&&zt<p?(k=Ot,p=zt):rt*=.5}}return{x:P.apply(null,J.concat([k])),y:P.apply(null,lt.concat([k]))}}function C(J,lt,it,_){var P=1-_;return P*P*J+2*_*P*lt+_*_*it}function S(J,lt,it){var _=J+it-2*lt;if(c(_,0))return[.5];var P=(J-lt)/_;return P<=1&&P>=0?[P]:[]}function A(J,lt,it,_){return 2*(1-_)*(lt-J)+2*_*(it-lt)}function f(J,lt,it,_,P,Q,k){var p=C(J,it,P,k),y=C(lt,_,Q,k),B=s.pointAt(J,lt,it,_,k),W=s.pointAt(it,_,P,Q,k);return[[J,lt,B.x,B.y,p,y],[p,y,W.x,W.y,P,Q]]}var O={box:function(lt,it,_,P,Q,k){var p=S(lt,_,Q)[0],y=S(it,P,k)[0],B=[lt,Q],W=[it,k];return p!==void 0&&B.push(C(lt,_,Q,p)),y!==void 0&&W.push(C(it,P,k,y)),w(B,W)},length:function(lt,it,_,P,Q,k){return function p(y,B,W,rt,st,ut,Mt){if(Mt===0)return(x(y,B,W,rt)+x(W,rt,st,ut)+x(y,B,st,ut))/2;var bt=f(y,B,W,rt,st,ut,.5),xt=bt[0],Ot=bt[1];return xt.push(Mt-1),Ot.push(Mt-1),p.apply(null,xt)+p.apply(null,Ot)}(lt,it,_,P,Q,k,3)},nearestPoint:function(lt,it,_,P,Q,k,p,y){return d([lt,_,Q],[it,P,k],p,y,C)},pointDistance:function(lt,it,_,P,Q,k,p,y){var B=this.nearestPoint(lt,it,_,P,Q,k,p,y);return x(B.x,B.y,p,y)},interpolationAt:C,pointAt:function(lt,it,_,P,Q,k,p){return{x:C(lt,_,Q,p),y:C(it,P,k,p)}},divide:function(lt,it,_,P,Q,k,p){return f(lt,it,_,P,Q,k,p)},tangentAngle:function(lt,it,_,P,Q,k,p){var y=A(lt,_,Q,p),B=A(it,P,k,p);return m(Math.atan2(B,y))}};function j(J,lt,it,_,P){var Q=1-P;return Q*Q*Q*J+3*lt*P*Q*Q+3*it*P*P*Q+_*P*P*P}function D(J,lt,it,_,P){var Q=1-P;return 3*(Q*Q*(lt-J)+2*Q*P*(it-lt)+P*P*(_-it))}function V(J,lt,it,_){var P,Q,k,p=-3*J+9*lt-9*it+3*_,y=6*J-12*lt+6*it,B=3*lt-3*J,W=[];if(c(p,0))c(y,0)||(P=-B/y)>=0&&P<=1&&W.push(P);else{var rt=y*y-4*p*B;c(rt,0)?W.push(-y/(2*p)):rt>0&&(Q=(-y-(k=Math.sqrt(rt)))/(2*p),(P=(-y+k)/(2*p))>=0&&P<=1&&W.push(P),Q>=0&&Q<=1&&W.push(Q))}return W}function H(J,lt,it,_,P,Q,k,p,y){var B=j(J,it,P,k,y),W=j(lt,_,Q,p,y),rt=s.pointAt(J,lt,it,_,y),st=s.pointAt(it,_,P,Q,y),ut=s.pointAt(P,Q,k,p,y),Mt=s.pointAt(rt.x,rt.y,st.x,st.y,y),bt=s.pointAt(st.x,st.y,ut.x,ut.y,y);return[[J,lt,rt.x,rt.y,Mt.x,Mt.y,B,W],[B,W,bt.x,bt.y,ut.x,ut.y,k,p]]}function $(J,lt,it,_,P,Q,k,p,y){if(y===0)return function(st,ut){for(var Mt=0,bt=st.length,xt=0;xt<bt;xt++)Mt+=x(st[xt],ut[xt],st[(xt+1)%bt],ut[(xt+1)%bt]);return Mt/2}([J,it,P,k],[lt,_,Q,p]);var B=H(J,lt,it,_,P,Q,k,p,.5),W=B[0],rt=B[1];return W.push(y-1),rt.push(y-1),$.apply(null,W)+$.apply(null,rt)}var dt={extrema:V,box:function(lt,it,_,P,Q,k,p,y){for(var B=[lt,p],W=[it,y],rt=V(lt,_,Q,p),st=V(it,P,k,y),ut=0;ut<rt.length;ut++)B.push(j(lt,_,Q,p,rt[ut]));for(ut=0;ut<st.length;ut++)W.push(j(it,P,k,y,st[ut]));return w(B,W)},length:function(lt,it,_,P,Q,k,p,y){return $(lt,it,_,P,Q,k,p,y,3)},nearestPoint:function(lt,it,_,P,Q,k,p,y,B,W,rt){return d([lt,_,Q,p],[it,P,k,y],B,W,j,rt)},pointDistance:function(lt,it,_,P,Q,k,p,y,B,W,rt){var st=this.nearestPoint(lt,it,_,P,Q,k,p,y,B,W,rt);return x(st.x,st.y,B,W)},interpolationAt:j,pointAt:function(lt,it,_,P,Q,k,p,y,B){return{x:j(lt,_,Q,p,B),y:j(it,P,k,y,B)}},divide:function(lt,it,_,P,Q,k,p,y,B){return H(lt,it,_,P,Q,k,p,y,B)},tangentAngle:function(lt,it,_,P,Q,k,p,y,B){var W=D(lt,_,Q,p,B),rt=D(it,P,k,y,B);return m(Math.atan2(rt,W))}};function Z(J,lt){var it=Math.abs(J);return lt>0?it:-1*it}var ct=function(lt,it,_,P,Q,k){var p=_,y=P;if(p===0||y===0)return{x:lt,y:it};for(var B,W,rt=Q-lt,st=k-it,ut=Math.abs(rt),Mt=Math.abs(st),bt=p*p,xt=y*y,Ot=Math.PI/4,jt=0;jt<4;jt++){B=p*Math.cos(Ot),W=y*Math.sin(Ot);var Dt=(bt-xt)*Math.pow(Math.cos(Ot),3)/p,zt=(xt-bt)*Math.pow(Math.sin(Ot),3)/y,Tt=B-Dt,Vt=W-zt,Ht=ut-Dt,re=Mt-zt,pe=Math.hypot(Vt,Tt),me=Math.hypot(re,Ht);Ot+=pe*Math.asin((Tt*re-Vt*Ht)/(pe*me))/Math.sqrt(bt+xt-B*B-W*W),Ot=Math.min(Math.PI/2,Math.max(0,Ot))}return{x:lt+Z(B,rt),y:it+Z(W,st)}};function pt(J,lt,it,_,P,Q){return it*Math.cos(P)*Math.cos(Q)-_*Math.sin(P)*Math.sin(Q)+J}function gt(J,lt,it,_,P,Q){return it*Math.sin(P)*Math.cos(Q)+_*Math.cos(P)*Math.sin(Q)+lt}function at(J,lt,it){return{x:J*Math.cos(it),y:lt*Math.sin(it)}}function Bt(J,lt,it){var _=Math.cos(it),P=Math.sin(it);return[J*_-lt*P,J*P+lt*_]}var Lt={box:function(lt,it,_,P,Q,k,p){for(var y=function(Tt,Vt,Ht){return Math.atan(-Vt/Tt*Math.tan(Ht))}(_,P,Q),B=1/0,W=-1/0,rt=[k,p],st=2*-Math.PI;st<=2*Math.PI;st+=Math.PI){var ut=y+st;k<p?k<ut&&ut<p&&rt.push(ut):p<ut&&ut<k&&rt.push(ut)}for(st=0;st<rt.length;st++){var Mt=pt(lt,0,_,P,Q,rt[st]);Mt<B&&(B=Mt),Mt>W&&(W=Mt)}var bt=function(Tt,Vt,Ht){return Math.atan(Vt/(Tt*Math.tan(Ht)))}(_,P,Q),xt=1/0,Ot=-1/0,jt=[k,p];for(st=2*-Math.PI;st<=2*Math.PI;st+=Math.PI){var Dt=bt+st;k<p?k<Dt&&Dt<p&&jt.push(Dt):p<Dt&&Dt<k&&jt.push(Dt)}for(st=0;st<jt.length;st++){var zt=gt(0,it,_,P,Q,jt[st]);zt<xt&&(xt=zt),zt>Ot&&(Ot=zt)}return{x:B,y:xt,width:W-B,height:Ot-xt}},length:function(lt,it,_,P,Q,k,p){},nearestPoint:function(lt,it,_,P,Q,k,p,y,B){var W=Bt(y-lt,B-it,-Q),rt=W[0],st=W[1],ut=ct(0,0,_,P,rt,st),Mt=function(xt,Ot,jt,Dt){return(Math.atan2(Dt*xt,jt*Ot)+2*Math.PI)%(2*Math.PI)}(_,P,ut.x,ut.y);Mt<k?ut=at(_,P,k):Mt>p&&(ut=at(_,P,p));var bt=Bt(ut.x,ut.y,Q);return{x:bt[0]+lt,y:bt[1]+it}},pointDistance:function(lt,it,_,P,Q,k,p,y,B){var W=this.nearestPoint(lt,it,_,P,y,B);return x(W.x,W.y,y,B)},pointAt:function(lt,it,_,P,Q,k,p,y){var B=(p-k)*y+k;return{x:pt(lt,0,_,P,Q,B),y:gt(0,it,_,P,Q,B)}},tangentAngle:function(lt,it,_,P,Q,k,p,y){var B=(p-k)*y+k,W=function(st,ut,Mt,bt,xt,Ot,jt,Dt){return-1*Mt*Math.cos(xt)*Math.sin(Dt)-bt*Math.sin(xt)*Math.cos(Dt)}(0,0,_,P,Q,0,0,B),rt=function(st,ut,Mt,bt,xt,Ot,jt,Dt){return-1*Mt*Math.sin(xt)*Math.sin(Dt)+bt*Math.cos(xt)*Math.cos(Dt)}(0,0,_,P,Q,0,0,B);return m(Math.atan2(rt,W))}};function Et(J){for(var lt=0,it=[],_=0;_<J.length-1;_++){var P=J[_],Q=J[_+1],k=x(P[0],P[1],Q[0],Q[1]),p={from:P,to:Q,length:k};it.push(p),lt+=k}return{segments:it,totalLength:lt}}function K(J){if(J.length<2)return 0;for(var lt=0,it=0;it<J.length-1;it++){var _=J[it],P=J[it+1];lt+=x(_[0],_[1],P[0],P[1])}return lt}function ft(J,lt){if(lt>1||lt<0||J.length<2)return null;var it=Et(J),_=it.segments,P=it.totalLength;if(P===0)return{x:J[0][0],y:J[0][1]};for(var Q=0,k=null,p=0;p<_.length;p++){var y=_[p],B=y.from,W=y.to,rt=y.length/P;if(lt>=Q&&lt<=Q+rt){var st=(lt-Q)/rt;k=s.pointAt(B[0],B[1],W[0],W[1],st);break}Q+=rt}return k}function mt(J,lt){if(lt>1||lt<0||J.length<2)return 0;for(var it=Et(J),_=it.segments,P=it.totalLength,Q=0,k=0,p=0;p<_.length;p++){var y=_[p],B=y.from,W=y.to,rt=y.length/P;if(lt>=Q&&lt<=Q+rt){k=Math.atan2(W[1]-B[1],W[0]-B[0]);break}Q+=rt}return k}function yt(J,lt,it){for(var _=1/0,P=0;P<J.length-1;P++){var Q=J[P],k=J[P+1],p=s.pointDistance(Q[0],Q[1],k[0],k[1],lt,it);p<_&&(_=p)}return _}var wt={box:function(lt){for(var it=[],_=[],P=0;P<lt.length;P++){var Q=lt[P];it.push(Q[0]),_.push(Q[1])}return w(it,_)},length:function(lt){return K(lt)},pointAt:function(lt,it){return ft(lt,it)},pointDistance:function(lt,it,_){return yt(lt,it,_)},tangentAngle:function(lt,it){return mt(lt,it)}}},function(i,b){function t(n){return i.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(u){return u.__proto__||Object.getPrototypeOf(u)},t(n)}i.exports=t},function(i,b,t){"use strict";t.d(b,"b",function(){return g}),t.d(b,"a",function(){return x}),t.d(b,"d",function(){return c}),t.d(b,"c",function(){return w});var n=t(0),u=t(16);function g(I){return document.createElementNS("http://www.w3.org/2000/svg",I)}function x(I){var m=u.a[I.type],r=I.getParent();if(!m)throw new Error("the type "+I.type+" is not supported by svg");var s=g(m);if(I.get("id")&&(s.id=I.get("id")),I.set("el",s),I.set("attrs",{}),r){var d=r.get("el");d||(d=r.createDom(),r.set("el",d)),d.appendChild(s)}return s}function c(I,m){var r=I.get("el"),s=Object(n.F)(r.children).sort(m),d=document.createDocumentFragment();s.forEach(function(C){d.appendChild(C)}),r.appendChild(d)}function w(I,m){var r=I.parentNode,s=Array.from(r.childNodes).filter(function(A){return A.nodeType===1&&A.nodeName.toLowerCase()!=="defs"}),d=s[m],C=s.indexOf(I);if(d){if(C>m)r.insertBefore(I,d);else if(C<m){var S=s[m+1];S?r.insertBefore(I,S):r.appendChild(I)}}else r.appendChild(I)}},function(i,b,t){var n=t(474),u=t(475),g=t(218),x=t(476);i.exports=function(c){return n(c)||u(c)||g(c)||x()}},function(i,b,t){var n;try{n={cloneDeep:t(383),constant:t(134),defaults:t(384),each:t(181),filter:t(184),find:t(385),flatten:t(212),forEach:t(182),forIn:t(390),has:t(195),isUndefined:t(196),last:t(391),map:t(197),mapValues:t(392),max:t(393),merge:t(395),min:t(400),minBy:t(401),now:t(402),pick:t(403),range:t(408),reduce:t(199),sortBy:t(411),uniqueId:t(416),values:t(205),zipObject:t(417)}}catch(u){}n||(n=window._),i.exports=n},function(i,b){i.exports=function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(i,b){var t=Array.isArray;i.exports=t},function(i,b,t){var n=t(472);i.exports=function(u,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(g&&g.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),g&&n(u,g)}},function(i,b,t){var n=t(90),u=t(25);i.exports=function(g,x){return!x||n(x)!=="object"&&typeof x!="function"?u(g):x}},function(i,b,t){"use strict";t.d(b,"a",function(){return I}),t.d(b,"d",function(){return m}),t.d(b,"b",function(){return r}),t.d(b,"c",function(){return s}),t.d(b,"e",function(){return S}),t.d(b,"h",function(){return A}),t.d(b,"f",function(){return f}),t.d(b,"g",function(){return O});var n=t(0),u=t(120),g=t(89),x=t(17),c=t(34),w={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function I(j,D){var V=D.attr();for(var H in V){var $=V[H],dt=w[H]?w[H]:H;dt==="matrix"&&$?j.transform($[0],$[1],$[3],$[4],$[6],$[7]):dt==="lineDash"&&j.setLineDash?Object(n.m)($)&&j.setLineDash($):(dt==="strokeStyle"||dt==="fillStyle"?$=Object(u.b)(j,D,$):dt==="globalAlpha"&&($*=j.globalAlpha),j[dt]=$)}}function m(j,D,V){for(var H=0;H<D.length;H++){var $=D[H];$.cfg.visible?$.draw(j,V):$.skipDraw()}}function r(j,D,V){var H=j.get("refreshElements");Object(n.f)(H,function($){if($!==j)for(var dt=$.cfg.parent;dt&&dt!==j&&!dt.cfg.refresh;)dt.cfg.refresh=!0,dt=dt.cfg.parent}),H[0]===j?d(D,V):function $(dt,Z){for(var ct=0;ct<dt.length;ct++){var pt=dt[ct];if(pt.cfg.visible)if(pt.cfg.hasChanged)pt.cfg.refresh=!0,pt.isGroup()&&d(pt.cfg.children,Z);else if(pt.cfg.refresh)pt.isGroup()&&$(pt.cfg.children,Z);else{var gt=C(pt,Z);pt.cfg.refresh=gt,gt&&pt.isGroup()&&$(pt.cfg.children,Z)}}}(D,V)}function s(j){for(var D=0;D<j.length;D++){var V=j[D];V.cfg.hasChanged=!1,V.isGroup()&&!V.destroyed&&s(V.cfg.children)}}function d(j,D){for(var V=0;V<j.length;V++){var H=j[V];H.cfg.refresh=!0,H.isGroup()&&d(H.get("children"),D)}}function C(j,D){var V=j.cfg.cacheCanvasBBox;return j.cfg.isInView&&V&&Object(x.f)(V,D)}function S(j,D,V,H){var $=V.path,dt=V.startArrow,Z=V.endArrow;if($){var ct=[0,0],pt=[0,0],gt={dx:0,dy:0};D.beginPath();for(var at=0;at<$.length;at++){var Bt=$[at],Lt=Bt[0];if(at===0&&dt&&dt.d){var Et=j.getStartTangent();gt=c.c(Et[0][0],Et[0][1],Et[1][0],Et[1][1],dt.d)}else at===$.length-2&&$[at+1][0]==="Z"&&Z&&Z.d?$[at+1][0]==="Z"&&(Et=j.getEndTangent(),gt=c.c(Et[0][0],Et[0][1],Et[1][0],Et[1][1],Z.d)):at===$.length-1&&Z&&Z.d&&$[0]!=="Z"&&(Et=j.getEndTangent(),gt=c.c(Et[0][0],Et[0][1],Et[1][0],Et[1][1],Z.d));var K=gt.dx,ft=gt.dy;switch(Lt){case"M":D.moveTo(Bt[1]-K,Bt[2]-ft),pt=[Bt[1],Bt[2]];break;case"L":D.lineTo(Bt[1]-K,Bt[2]-ft);break;case"Q":D.quadraticCurveTo(Bt[1],Bt[2],Bt[3]-K,Bt[4]-ft);break;case"C":D.bezierCurveTo(Bt[1],Bt[2],Bt[3],Bt[4],Bt[5]-K,Bt[6]-ft);break;case"A":var mt=void 0;H?(mt=H[at])||(mt=Object(g.a)(ct,Bt),H[at]=mt):mt=Object(g.a)(ct,Bt);var yt=mt.cx,wt=mt.cy,J=mt.rx,lt=mt.ry,it=mt.startAngle,_=mt.endAngle,P=mt.xRotation,Q=mt.sweepFlag;if(D.ellipse)D.ellipse(yt,wt,J,lt,P,it,_,1-Q);else{var k=J>lt?J:lt,p=J>lt?1:J/lt,y=J>lt?lt/J:1;D.translate(yt,wt),D.rotate(P),D.scale(p,y),D.arc(0,0,k,it,_,1-Q),D.scale(1/p,1/y),D.rotate(-P),D.translate(-yt,-wt)}break;case"Z":D.closePath()}if(Lt==="Z")ct=pt;else{var B=Bt.length;ct=[Bt[B-2],Bt[B-1]]}}}}function A(j,D){var V=j.get("canvas");V&&(D==="remove"&&(j._cacheCanvasBBox=j.get("cacheCanvasBBox")),j.get("hasChanged")||(j.set("hasChanged",!0),j.cfg.parent&&j.cfg.parent.get("hasChanged")||(V.refreshElement(j,D,V),V.get("autoDraw")&&V.draw())))}function f(j){if(!j.length)return null;var D=[],V=[],H=[],$=[];return Object(n.f)(j,function(dt){var Z=function(ct){var pt;if(ct.destroyed)pt=ct._cacheCanvasBBox;else{var gt=ct.get("cacheCanvasBBox"),at=gt&&!(!gt.width||!gt.height),Bt=ct.getCanvasBBox(),Lt=Bt&&!(!Bt.width||!Bt.height);at&&Lt?pt=Object(x.l)(gt,Bt):at?pt=gt:Lt&&(pt=Bt)}return pt}(dt);Z&&(D.push(Z.minX),V.push(Z.minY),H.push(Z.maxX),$.push(Z.maxY))}),{minX:Math.min.apply(null,D),minY:Math.min.apply(null,V),maxX:Math.max.apply(null,H),maxY:Math.max.apply(null,$)}}function O(j,D){return j&&D&&Object(x.f)(j,D)?{minX:Math.max(j.minX,D.minX),minY:Math.max(j.minY,D.minY),maxX:Math.min(j.maxX,D.maxX),maxY:Math.min(j.maxY,D.maxY)}:null}},function(i,b){i.exports=function(t,n){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}},function(i,b,t){"use strict";t.d(b,"a",function(){return c}),t.d(b,"b",function(){return r}),t.d(b,"c",function(){return C}),t.d(b,"d",function(){return V});var n=t(0),u=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,g=/[^\s\,]+/gi,x=function($){var dt=$||[];return Object(n.m)(dt)?dt:Object(n.x)(dt)?(dt=dt.match(u),Object(n.f)(dt,function(Z,ct){if((Z=Z.match(g))[0].length>1){var pt=Z[0].charAt(0);Z.splice(1,0,Z[0].substr(1)),Z[0]=pt}Object(n.f)(Z,function(gt,at){isNaN(gt)||(Z[at]=+gt)}),dt[ct]=Z}),dt):void 0};function c(H,$){for(var dt=[],Z=0,ct=H.length;ct-2*!$>Z;Z+=2){var pt=[{x:+H[Z-2],y:+H[Z-1]},{x:+H[Z],y:+H[Z+1]},{x:+H[Z+2],y:+H[Z+3]},{x:+H[Z+4],y:+H[Z+5]}];$?Z?ct-4===Z?pt[3]={x:+H[0],y:+H[1]}:ct-2===Z&&(pt[2]={x:+H[0],y:+H[1]},pt[3]={x:+H[2],y:+H[3]}):pt[0]={x:+H[ct-2],y:+H[ct-1]}:ct-4===Z?pt[3]=pt[2]:Z||(pt[0]={x:+H[Z],y:+H[Z+1]}),dt.push(["C",(-pt[0].x+6*pt[1].x+pt[2].x)/6,(-pt[0].y+6*pt[1].y+pt[2].y)/6,(pt[1].x+6*pt[2].x-pt[3].x)/6,(pt[1].y+6*pt[2].y-pt[3].y)/6,pt[2].x,pt[2].y])}return dt}var w=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,I=new RegExp("([a-z])["+w+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+w+"]*,?["+w+"]*)+)","ig"),m=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+w+"]*,?["+w+"]*","ig");function r(H){if(!H)return null;if(Object(n.m)(H))return H;var $={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},dt=[];return String(H).replace(I,function(Z,ct,pt){var gt=[],at=ct.toLowerCase();if(pt.replace(m,function(Bt,Lt){Lt&&gt.push(+Lt)}),at==="m"&&gt.length>2&&(dt.push([ct].concat(gt.splice(0,2))),at="l",ct=ct==="m"?"l":"L"),at==="o"&&gt.length===1&&dt.push([ct,gt[0]]),at==="r")dt.push([ct].concat(gt));else for(;gt.length>=$[at]&&(dt.push([ct].concat(gt.splice(0,$[at]))),$[at]););return""}),dt}var s=/[a-z]/;function d(H,$){return[$[0]+($[0]-H[0]),$[1]+($[1]-H[1])]}function C(H){var $=r(H);if(!$||!$.length)return[["M",0,0]];for(var dt=!1,Z=0;Z<$.length;Z++){var ct=$[Z][0];if(s.test(ct)||["V","H","T","S"].indexOf(ct)>=0){dt=!0;break}}if(!dt)return $;var pt=[],gt=0,at=0,Bt=0,Lt=0,Et=0,K=$[0];K[0]!=="M"&&K[0]!=="m"||(Bt=gt=+K[1],Lt=at=+K[2],Et++,pt[0]=["M",gt,at]),Z=Et;for(var ft=$.length;Z<ft;Z++){var mt=$[Z],yt=pt[Z-1],wt=[],J=(ct=mt[0]).toUpperCase();if(ct!==J)switch(wt[0]=J,J){case"A":wt[1]=mt[1],wt[2]=mt[2],wt[3]=mt[3],wt[4]=mt[4],wt[5]=mt[5],wt[6]=+mt[6]+gt,wt[7]=+mt[7]+at;break;case"V":wt[1]=+mt[1]+at;break;case"H":wt[1]=+mt[1]+gt;break;case"M":Bt=+mt[1]+gt,Lt=+mt[2]+at;break;default:for(var lt=1,it=mt.length;lt<it;lt++)wt[lt]=+mt[lt]+(lt%2?gt:at)}else wt=$[Z];switch(J){case"Z":gt=+Bt,at=+Lt;break;case"H":wt=["L",gt=wt[1],at];break;case"V":wt=["L",gt,at=wt[1]];break;case"T":gt=wt[1],at=wt[2];var _=d([yt[1],yt[2]],[yt[3],yt[4]]);wt=["Q",_[0],_[1],gt,at];break;case"S":gt=wt[wt.length-2],at=wt[wt.length-1];var P=yt.length,Q=d([yt[P-4],yt[P-3]],[yt[P-2],yt[P-1]]);wt=["C",Q[0],Q[1],wt[1],wt[2],gt,at];break;case"M":Bt=wt[wt.length-2],Lt=wt[wt.length-1];break;default:gt=wt[wt.length-2],at=wt[wt.length-1]}pt.push(wt)}return pt}function S(H){return Math.sqrt(H[0]*H[0]+H[1]*H[1])}function A(H,$){return S(H)*S($)?(H[0]*$[0]+H[1]*$[1])/(S(H)*S($)):1}function f(H,$){return(H[0]*$[1]<H[1]*$[0]?-1:1)*Math.acos(A(H,$))}function O(H,$){return H[0]===$[0]&&H[1]===$[1]}function j(H,$){var dt=$[1],Z=$[2],ct=Object(n.B)(Object(n.G)($[3]),2*Math.PI),pt=$[4],gt=$[5],at=H[0],Bt=H[1],Lt=$[6],Et=$[7],K=Math.cos(ct)*(at-Lt)/2+Math.sin(ct)*(Bt-Et)/2,ft=-1*Math.sin(ct)*(at-Lt)/2+Math.cos(ct)*(Bt-Et)/2,mt=K*K/(dt*dt)+ft*ft/(Z*Z);mt>1&&(dt*=Math.sqrt(mt),Z*=Math.sqrt(mt));var yt=dt*dt*(ft*ft)+Z*Z*(K*K),wt=yt?Math.sqrt((dt*dt*(Z*Z)-yt)/yt):1;pt===gt&&(wt*=-1),isNaN(wt)&&(wt=0);var J=Z?wt*dt*ft/Z:0,lt=dt?wt*-Z*K/dt:0,it=(at+Lt)/2+Math.cos(ct)*J-Math.sin(ct)*lt,_=(Bt+Et)/2+Math.sin(ct)*J+Math.cos(ct)*lt,P=[(K-J)/dt,(ft-lt)/Z],Q=[(-1*K-J)/dt,(-1*ft-lt)/Z],k=f([1,0],P),p=f(P,Q);return A(P,Q)<=-1&&(p=Math.PI),A(P,Q)>=1&&(p=0),gt===0&&p>0&&(p-=2*Math.PI),gt===1&&p<0&&(p+=2*Math.PI),{cx:it,cy:_,rx:O(H,[Lt,Et])?0:dt,ry:O(H,[Lt,Et])?0:Z,startAngle:k,endAngle:k+p,xRotation:ct,arcFlag:pt,sweepFlag:gt}}function D(H,$){return[$[0]+($[0]-H[0]),$[1]+($[1]-H[1])]}function V(H){for(var $=[],dt=null,Z=null,ct=null,pt=0,gt=(H=x(H)).length,at=0;at<gt;at++){var Bt=H[at];Z=H[at+1];var Lt=Bt[0],Et={command:Lt,prePoint:dt,params:Bt,startTangent:null,endTangent:null};switch(Lt){case"M":ct=[Bt[1],Bt[2]],pt=at;break;case"A":var K=j(dt,Bt);Et.arcParams=K}if(Lt==="Z")dt=ct,Z=H[pt+1];else{var ft=Bt.length;dt=[Bt[ft-2],Bt[ft-1]]}Z&&Z[0]==="Z"&&(Z=H[pt],$[pt]&&($[pt].prePoint=dt)),Et.currentPoint=dt,$[pt]&&O(dt,$[pt].currentPoint)&&($[pt].prePoint=Et.prePoint);var mt=Z?[Z[Z.length-2],Z[Z.length-1]]:null;Et.nextPoint=mt;var yt=Et.prePoint;if(["L","H","V"].includes(Lt))Et.startTangent=[yt[0]-dt[0],yt[1]-dt[1]],Et.endTangent=[dt[0]-yt[0],dt[1]-yt[1]];else if(Lt==="Q"){var wt=[Bt[1],Bt[2]];Et.startTangent=[yt[0]-wt[0],yt[1]-wt[1]],Et.endTangent=[dt[0]-wt[0],dt[1]-wt[1]]}else if(Lt==="T")wt=D((it=$[at-1]).currentPoint,yt),it.command==="Q"?(Et.command="Q",Et.startTangent=[yt[0]-wt[0],yt[1]-wt[1]],Et.endTangent=[dt[0]-wt[0],dt[1]-wt[1]]):(Et.command="TL",Et.startTangent=[yt[0]-dt[0],yt[1]-dt[1]],Et.endTangent=[dt[0]-yt[0],dt[1]-yt[1]]);else if(Lt==="C"){var J=[Bt[1],Bt[2]],lt=[Bt[3],Bt[4]];Et.startTangent=[yt[0]-J[0],yt[1]-J[1]],Et.endTangent=[dt[0]-lt[0],dt[1]-lt[1]]}else if(Lt==="S"){var it;J=D((it=$[at-1]).currentPoint,yt),lt=[Bt[1],Bt[2]],it.command==="C"?(Et.command="C",Et.startTangent=[yt[0]-J[0],yt[1]-J[1]],Et.endTangent=[dt[0]-lt[0],dt[1]-lt[1]]):(Et.command="SQ",Et.startTangent=[yt[0]-lt[0],yt[1]-lt[1]],Et.endTangent=[dt[0]-lt[0],dt[1]-lt[1]])}else if(Lt==="A"){var _=.001,P=Et.arcParams||{},Q=P.cx,k=Q===void 0?0:Q,p=P.cy,y=p===void 0?0:p,B=P.rx,W=B===void 0?0:B,rt=P.ry,st=rt===void 0?0:rt,ut=P.sweepFlag,Mt=ut===void 0?0:ut,bt=P.startAngle,xt=bt===void 0?0:bt,Ot=P.endAngle,jt=Ot===void 0?0:Ot;Mt===0&&(_*=-1);var Dt=W*Math.cos(xt-_)+k,zt=st*Math.sin(xt-_)+y;Et.startTangent=[Dt-ct[0],zt-ct[1]];var Tt=W*Math.cos(xt+jt+_)+k,Vt=st*Math.sin(xt+jt-_)+y;Et.endTangent=[yt[0]-Tt,yt[1]-Vt]}$.push(Et)}return $}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.POST_CONSTRUCT=b.DESIGN_PARAM_TYPES=b.PARAM_TYPES=b.TAGGED_PROP=b.TAGGED=b.MULTI_INJECT_TAG=b.INJECT_TAG=b.OPTIONAL_TAG=b.UNMANAGED_TAG=b.NAME_TAG=b.NAMED_TAG=void 0,b.NAMED_TAG="named",b.NAME_TAG="name",b.UNMANAGED_TAG="unmanaged",b.OPTIONAL_TAG="optional",b.INJECT_TAG="inject",b.MULTI_INJECT_TAG="multi_inject",b.TAGGED="inversify:tagged",b.TAGGED_PROP="inversify:tagged_props",b.PARAM_TYPES="inversify:paramtypes",b.DESIGN_PARAM_TYPES="design:paramtypes",b.POST_CONSTRUCT="post_construct"},function(i,b,t){var n,u,g;function x(c){return(x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(c)}(function(c,w){x(b)=="object"&&i!==void 0?w(b):(u=[b],(g=typeof(n=w)=="function"?n.apply(b,u):n)===void 0||(i.exports=g))})(0,function(c){"use strict";var w=function(ft,mt){var yt=ft.nodes,wt=ft.edges,J=[],lt={};if(!yt)throw Error("invalid nodes data!");return yt&&yt.forEach(function(it,_){lt[it.id]=_,J.push([])}),wt&&wt.forEach(function(it){var _=lt[it.source],P=lt[it.target];J[_][P]=1,mt||(J[P][_]=1)}),J};function I(K,ft){if(!(K instanceof ft))throw new TypeError("Cannot call a class as a function")}function m(K,ft){for(var mt=0;ft.length>mt;mt++){var yt=ft[mt];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(K,yt.key,yt)}}function r(K,ft,mt){return ft&&m(K.prototype,ft),mt&&m(K,mt),K}function s(K){return function(ft){if(Array.isArray(ft))return C(ft)}(K)||function(ft){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(ft))return Array.from(ft)}(K)||d(K)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function d(K,ft){if(K){if(typeof K=="string")return C(K,ft);var mt=Object.prototype.toString.call(K).slice(8,-1);return mt==="Object"&&K.constructor&&(mt=K.constructor.name),mt==="Map"||mt==="Set"?Array.from(K):mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mt)?C(K,ft):void 0}}function C(K,ft){(ft==null||ft>K.length)&&(ft=K.length);for(var mt=0,yt=Array(ft);ft>mt;mt++)yt[mt]=K[mt];return yt}function S(K,ft){var mt;if(typeof Symbol=="undefined"||K[Symbol.iterator]==null){if(Array.isArray(K)||(mt=d(K))||ft&&K&&typeof K.length=="number"){mt&&(K=mt);var yt=0,wt=function(){};return{s:wt,n:function(){return K.length>yt?{done:!1,value:K[yt++]}:{done:!0}},e:function(P){throw P},f:wt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var J,lt=!0,it=!1;return{s:function(){mt=K[Symbol.iterator]()},n:function(){var P=mt.next();return lt=P.done,P},e:function(P){it=!0,J=P},f:function(){try{lt||mt.return==null||mt.return()}finally{if(it)throw J}}}}var A=function(ft,mt){return ft===mt},f=function(){function K(ft){var mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;I(this,K),this.value=ft,this.next=mt}return r(K,[{key:"toString",value:function(mt){return mt?mt(this.value):"".concat(this.value)}}]),K}(),O=function(){function K(){var ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A;I(this,K),this.head=null,this.tail=null,this.compare=ft}return r(K,[{key:"prepend",value:function(mt){var yt=new f(mt,this.head);return this.head=yt,this.tail||(this.tail=yt),this}},{key:"append",value:function(mt){var yt=new f(mt);return this.head?(this.tail.next=yt,this.tail=yt,this):(this.head=yt,this.tail=yt,this)}},{key:"delete",value:function(mt){if(!this.head)return null;for(var yt=null;this.head&&this.compare(this.head.value,mt);)yt=this.head,this.head=this.head.next;var wt=this.head;if(wt!==null)for(;wt.next;)this.compare(wt.next.value,mt)?(yt=wt.next,wt.next=wt.next.next):wt=wt.next;return this.compare(this.tail.value,mt)&&(this.tail=wt),yt}},{key:"find",value:function(mt){var yt=mt.value,wt=yt===void 0?void 0:yt,J=mt.callback,lt=J===void 0?void 0:J;if(!this.head)return null;for(var it=this.head;it;){if(lt&&lt(it.value)||wt!==void 0&&this.compare(it.value,wt))return it;it=it.next}return null}},{key:"deleteTail",value:function(){var mt=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,mt;for(var yt=this.head;yt.next;)yt.next.next?yt=yt.next:yt.next=null;return this.tail=yt,mt}},{key:"deleteHead",value:function(){if(!this.head)return null;var mt=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),mt}},{key:"fromArray",value:function(mt){var yt=this;return mt.forEach(function(wt){return yt.append(wt)}),this}},{key:"toArray",value:function(){for(var mt=[],yt=this.head;yt;)mt.push(yt),yt=yt.next;return mt}},{key:"reverse",value:function(){for(var mt=this.head,yt=null,wt=null;mt;)wt=mt.next,mt.next=yt,yt=mt,mt=wt;this.tail=this.head,this.head=yt}},{key:"toString",value:function(){var mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;return""+this.toArray().map(function(yt){return yt.toString(mt)})}}]),K}(),j=function(){function K(){I(this,K),this.linkedList=new O}return r(K,[{key:"isEmpty",value:function(){return!this.linkedList.head}},{key:"peek",value:function(){return this.linkedList.head?this.linkedList.head.value:null}},{key:"enqueue",value:function(mt){this.linkedList.append(mt)}},{key:"dequeue",value:function(){var mt=this.linkedList.deleteHead();return mt?mt.value:null}},{key:"toString",value:function(mt){return this.linkedList.toString(mt)}}]),K}(),D=function(ft){var mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],yt=arguments.length>2?arguments[2]:void 0,wt=mt.filter(function(_){return _.source===ft||_.target===ft});if(yt==="target"){var J=function(P){return P.source===ft};return wt.filter(J).map(function(_){return _.target})}if(yt==="source"){var lt=function(P){return P.target===ft};return wt.filter(lt).map(function(_){return _.source})}var it=function(P){return P.source===ft?P.target:P.source};return wt.map(it)},V=function(ft,mt){return mt.filter(function(yt){return yt.source===ft||yt.target===ft})},H=function(){var ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,mt="".concat(Math.random()).split(".")[1].substr(0,5),yt="".concat(Math.random()).split(".")[1].substr(0,5);return"".concat(ft,"-").concat(mt).concat(yt)},$=function(ft){var mt={},yt=ft.nodes,wt=ft.edges,J=wt===void 0?[]:wt;return(yt===void 0?[]:yt).forEach(function(lt){mt[lt.id]={degree:0,inDegree:0,outDegree:0}}),J.forEach(function(lt){mt[lt.source].degree++,mt[lt.source].outDegree++,mt[lt.target].degree++,mt[lt.target].inDegree++}),mt};function dt(K,ft,mt){(function yt(wt,J,lt,it){it.enter({current:J,previous:lt});var _=wt.edges;D(J,_===void 0?[]:_,"target").forEach(function(P){it.allowTraversal({previous:lt,current:J,next:P})&&yt(wt,P,J,it)}),it.leave({current:J,previous:lt})})(K,ft,"",function(){var yt,wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=wt,lt=function(){},it=(yt={},function(_){var P=_.next;return!yt[P]&&(yt[P]=!0,!0)});return J.allowTraversal=wt.allowTraversal||it,J.enter=wt.enter||lt,J.leave=wt.leave||lt,J}(mt))}var Z=function(ft,mt,yt,wt){var J=ft.nodes,lt=J===void 0?[]:J,it=ft.edges,_=it===void 0?[]:it,P={},Q={},k={};lt.forEach(function(Mt,bt){var xt=Mt.id;Q[xt]=1/0,xt===mt&&(Q[xt]=0)});for(var p=lt.length,y=function(bt){var xt=function(jt,Dt,zt){for(var Tt,Vt=1/0,Ht=0;Dt.length>Ht;Ht++){var re=Dt[Ht].id;zt[re]||jt[re]>Vt||(Vt=jt[re],Tt=Dt[Ht])}return Tt}(Q,lt,P),Ot=xt.id;if(P[Ot]=!0,Q[Ot]===1/0)return"continue";(yt?function(jt,Dt){return Dt.filter(function(zt){return zt.source===jt})}(Ot,_):V(Ot,_)).forEach(function(jt){var Dt=jt.target,zt=Dt===Ot?jt.source:Dt,Tt=wt&&jt[wt]?jt[wt]:1;Q[zt]>Q[xt.id]+Tt?(Q[zt]=Q[xt.id]+Tt,k[zt]=[xt.id]):Q[zt]===Q[xt.id]+Tt&&k[zt].push(xt.id)})},B=0;p>B;B++)y();k[mt]=[mt];var W={};for(var rt in Q)Q[rt]!==1/0&&ct(mt,rt,k,W);var st={};for(var ut in W)st[ut]=W[ut][0];return{length:Q,path:st,allPaths:W}};function ct(K,ft,mt,yt){if(K===ft)return[K];if(yt[ft])return yt[ft];var wt,J=[],lt=S(mt[ft]);try{for(lt.s();!(wt=lt.n()).done;){var it,_=S(ct(K,wt.value,mt,yt));try{for(_.s();!(it=_.n()).done;)J.push([].concat(s(it.value),[ft]))}catch(P){_.e(P)}finally{_.f()}}}catch(P){lt.e(P)}finally{lt.f()}yt[ft]=J}var pt=function(ft,mt,yt,wt){for(var J=mt.length,lt=2*wt,it=0,_=0;J>_;_++)for(var P=ft[_].clusterId,Q=0;J>Q;Q++)P===ft[Q].clusterId&&(it+=(mt[_][Q]||0)-(yt[_]||0)*(yt[Q]||0)/lt);return it*(1/lt)},gt=function(){function K(ft){I(this,K),this.count=ft.length,this.parent={};var mt,yt=S(ft);try{for(yt.s();!(mt=yt.n()).done;){var wt=mt.value;this.parent[wt]=wt}}catch(J){yt.e(J)}finally{yt.f()}}return r(K,[{key:"find",value:function(mt){for(;this.parent[mt]!==mt;)mt=this.parent[mt];return mt}},{key:"union",value:function(mt,yt){var wt=this.find(mt),J=this.find(yt);wt!==J&&(J>wt?(this.parent[yt]!==yt&&this.union(this.parent[yt],mt),this.parent[yt]=this.parent[mt]):(this.parent[mt]!==mt&&this.union(this.parent[mt],yt),this.parent[mt]=this.parent[yt]))}},{key:"connected",value:function(mt,yt){return this.find(mt)===this.find(yt)}}]),K}(),at=function(ft,mt){return ft-mt},Bt=function(){function K(){var ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:at;I(this,K),this.compareFn=ft,this.list=[]}return r(K,[{key:"getLeft",value:function(mt){return 2*mt+1}},{key:"getRight",value:function(mt){return 2*mt+2}},{key:"getParent",value:function(mt){return mt===0?null:Math.floor((mt-1)/2)}},{key:"isEmpty",value:function(){return 0>=this.list.length}},{key:"top",value:function(){return this.isEmpty()?void 0:this.list[0]}},{key:"delMin",value:function(){var mt=this.top(),yt=this.list.pop();return this.list.length>0&&(this.list[0]=yt,this.moveDown(0)),mt}},{key:"insert",value:function(mt){return mt!==null&&(this.list.push(mt),this.moveUp(this.list.length-1),!0)}},{key:"moveUp",value:function(mt){for(var yt=this.getParent(mt);mt&&mt>0&&this.compareFn(this.list[yt],this.list[mt])>0;){var wt=this.list[yt];this.list[yt]=this.list[mt],this.list[mt]=wt,yt=this.getParent(mt=yt)}}},{key:"moveDown",value:function(mt){var yt=mt,wt=this.getLeft(mt),J=this.getRight(mt),lt=this.list.length;if(wt!==null&&lt>wt&&this.compareFn(this.list[yt],this.list[wt])>0?yt=wt:J!==null&&lt>J&&this.compareFn(this.list[yt],this.list[J])>0&&(yt=J),mt!==yt){var it=[this.list[yt],this.list[mt]];this.list[mt]=it[0],this.list[yt]=it[1],this.moveDown(yt)}}}]),K}(),Lt=function(ft,mt){var yt=[],wt=ft.nodes,J=wt===void 0?[]:wt,lt=ft.edges,it=lt===void 0?[]:lt;if(J.length===0)return yt;var _=J[0],P=new Set;P.add(_);var Q=new Bt(function(B,W){return mt?B.weight-W.weight:0});for(V(_.id,it).forEach(function(B){Q.insert(B)});!Q.isEmpty();){var k=Q.delMin(),p=k.source,y=k.target;P.has(p)&&P.has(y)||(yt.push(k),P.has(p)||(P.add(p),V(p,it).forEach(function(B){Q.insert(B)})),P.has(y)||(P.add(y),V(y,it).forEach(function(B){Q.insert(B)})))}return yt},Et=function(ft,mt){var yt=[],wt=ft.nodes,J=wt===void 0?[]:wt,lt=ft.edges;if(J.length===0)return yt;var it=(lt===void 0?[]:lt).map(function(p){return p});mt&&it.sort(function(p,y){return p.weight-y.weight});for(var _=new gt(J.map(function(p){return p.id}));it.length>0;){var P=it.shift(),Q=P.source,k=P.target;_.connected(Q,k)||(yt.push(P),_.union(Q,k))}return yt};c.Stack=function(){function K(){var ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;I(this,K),this.linkedList=new O,this.maxStep=ft}return r(K,[{key:"isEmpty",value:function(){return!this.linkedList.head}},{key:"isMaxStack",value:function(){return this.toArray().length>=this.maxStep}},{key:"peek",value:function(){return this.isEmpty()?null:this.linkedList.head.value}},{key:"push",value:function(mt){this.linkedList.prepend(mt),this.length>this.maxStep&&this.linkedList.deleteTail()}},{key:"pop",value:function(){var mt=this.linkedList.deleteHead();return mt?mt.value:null}},{key:"toArray",value:function(){return this.linkedList.toArray().map(function(mt){return mt.value})}},{key:"clear",value:function(){for(;!this.isEmpty();)this.pop()}},{key:"length",get:function(){return this.linkedList.toArray().length}}]),K}(),c.breadthFirstSearch=function(K,ft,mt){var yt=function(){var P,Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=Q,p=function(){},y=(P={},function(B){var W=B.next;return!P[W]&&(P[W]=!0,!0)});return k.allowTraversal=Q.allowTraversal||y,k.enter=Q.enter||p,k.leave=Q.leave||p,k}(mt),wt=new j,J=K.edges,lt=J===void 0?[]:J;wt.enqueue(ft);for(var it="",_=function(){var Q=wt.dequeue();yt.enter({current:Q,previous:it}),D(Q,lt,"target").forEach(function(k){yt.allowTraversal({previous:it,current:Q,next:k})&&wt.enqueue(k)}),yt.leave({current:Q,previous:it}),it=Q};!wt.isEmpty();)_()},c.connectedComponent=function(K,ft){return ft?function(mt){var yt,wt=mt.nodes,J=wt===void 0?[]:wt,lt=mt.edges,it=lt===void 0?[]:lt,_=[],P={},Q={},k={},p=[],y=0,B=function st(ut){Q[ut.id]=y,k[ut.id]=y,y+=1,_.push(ut),P[ut.id]=!0;for(var Mt=D(ut.id,it,"target").filter(function(Dt){return J.map(function(zt){return zt.id}).indexOf(Dt)>-1}),bt=function(zt){var Tt=Mt[zt];if(Q[Tt]||Q[Tt]===0)P[Tt]&&(k[ut.id]=Math.min(k[ut.id],Q[Tt]));else{var Vt=J.filter(function(Ht){return Ht.id===Tt});Vt.length>0&&st(Vt[0]),k[ut.id]=Math.min(k[ut.id],k[Tt])}},xt=0;Mt.length>xt;xt++)bt(xt);if(k[ut.id]===Q[ut.id]){for(var Ot=[];_.length>0;){var jt=_.pop();if(P[jt.id]=!1,Ot.push(jt),jt===ut)break}Ot.length>0&&p.push(Ot)}},W=S(J);try{for(W.s();!(yt=W.n()).done;){var rt=yt.value;Q[rt.id]||Q[rt.id]===0||B(rt)}}catch(st){W.e(st)}finally{W.f()}return p}(K):function(mt){for(var yt=mt.nodes,wt=yt===void 0?[]:yt,J=mt.edges,lt=J===void 0?[]:J,it=[],_={},P=[],Q=function B(W){P.push(W),_[W.id]=!0;for(var rt=D(W.id,lt),st=function(bt){var xt=rt[bt];if(!_[xt]){var Ot=wt.filter(function(jt){return jt.id===xt});Ot.length>0&&B(Ot[0])}},ut=0;rt.length>ut;++ut)st(ut)},k=0;wt.length>k;k++){var p=wt[k];if(!_[p.id]){Q(p);for(var y=[];P.length>0;)y.push(P.pop());it.push(y)}}return it}(K)},c.depthFirstSearch=dt,c.detectCycle=function(K){var ft=null,mt=K.nodes,yt={},wt={},J={},lt={};(mt===void 0?[]:mt).forEach(function(_){wt[_.id]=_});for(var it={enter:function(P){var Q=P.current,k=P.previous;if(J[Q]){ft={};for(var p=Q,y=k;y!==Q;)ft[p]=y,p=y,y=yt[y];ft[p]=y}else J[Q]=Q,delete wt[Q],yt[Q]=k},leave:function(P){var Q=P.current;lt[Q]=Q,delete J[Q]},allowTraversal:function(P){return!ft&&!lt[P.next]}};Object.keys(wt).length;)dt(K,Object.keys(wt)[0],it);return ft},c.dijkstra=Z,c.findAllPath=function(K,ft,mt,yt){if(ft===mt)return[[ft]];var wt,J,lt=K.edges,it=lt===void 0?[]:lt,_=[ft],P=((J=ft)in(wt={})?Object.defineProperty(wt,J,{value:!0,enumerable:!0,configurable:!0,writable:!0}):wt[J]=!0,wt),Q=[],k=[],p=yt?D(ft,it,"target"):D(ft,it);for(Q.push(p);_.length>0&&Q.length>0;){var y=Q[Q.length-1];if(y.length){var B=y.shift();if(B&&(_.push(B),P[B]=!0,p=yt?D(B,it,"target"):D(B,it),Q.push(p.filter(function(ut){return!P[ut]}))),_[_.length-1]===mt){var W=_.map(function(ut){return ut});k.push(W);var rt=_.pop();P[rt]=!1,Q.pop()}}else{var st=_.pop();P[st]=!1,Q.pop()}}return k},c.findShortestPath=function(K,ft,mt,yt,wt){var J=Z(K,ft,yt,wt);return{length:J.length[mt],path:J.path[mt],allPath:J.allPaths[mt]}},c.floydWarshall=function(K,ft){for(var mt=w(K,ft),yt=[],wt=mt.length,J=0;wt>J;J+=1){yt[J]=[];for(var lt=0;wt>lt;lt+=1)yt[J][lt]=J===lt?0:mt[J][lt]!==0&&mt[J][lt]?mt[J][lt]:1/0}for(var it=0;wt>it;it+=1)for(var _=0;wt>_;_+=1)for(var P=0;wt>P;P+=1)yt[_][P]>yt[_][it]+yt[it][P]&&(yt[_][P]=yt[_][it]+yt[it][P]);return yt},c.getAdjMatrix=w,c.getDegree=$,c.getInDegree=function(K,ft){return $(K)[ft]?$(K)[ft].inDegree:0},c.getNeighbors=D,c.getOutDegree=function(K,ft){return $(K)[ft]?$(K)[ft].outDegree:0},c.labelPropagation=function(K){var ft=arguments.length>1&&arguments[1]!==void 0&&arguments[1],mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"weight",yt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e3,wt=K.nodes,J=wt===void 0?[]:wt,lt=K.edges,it=lt===void 0?[]:lt,_={},P={};J.forEach(function(st,ut){var Mt=H();st.clusterId=Mt,_[Mt]={id:Mt,nodes:[st]},P[st.id]={node:st,idx:ut}});var Q=w(K,ft),k={};Q.forEach(function(st,ut){var Mt=J[ut].id;k[Mt]={},st.forEach(function(bt,xt){bt&&(k[Mt][J[xt].id]=bt)})});for(var p=0;yt>p;){var y=!1;if(J.forEach(function(st){var ut={};Object.keys(k[st.id]).forEach(function(Tt){var Vt=k[st.id][Tt],Ht=P[Tt].node.clusterId;ut[Ht]||(ut[Ht]=0),ut[Ht]+=Vt});var Mt=-1/0,bt=[];if(Object.keys(ut).forEach(function(Tt){ut[Tt]>Mt?(Mt=ut[Tt],bt=[Tt]):Mt===ut[Tt]&&bt.push(Tt)}),bt.length!==1||bt[0]!==st.clusterId){var xt=bt.indexOf(st.clusterId);if(0>xt||bt.splice(xt,1),bt&&bt.length){y=!0;var Ot=_[st.clusterId],jt=Ot.nodes.indexOf(st);Ot.nodes.splice(jt,1);var Dt=Math.floor(Math.random()*bt.length),zt=_[bt[Dt]];zt.nodes.push(st),st.clusterId=zt.id}}}),!y)break;p++}Object.keys(_).forEach(function(st){var ut=_[st];ut.nodes&&ut.nodes.length||delete _[st]});var B=[],W={};it.forEach(function(st){var ut=st[mt]||1,Mt=P[st.source].node.clusterId,bt=P[st.target].node.clusterId,xt="".concat(Mt,"---").concat(bt);if(W[xt])W[xt].weight+=ut,W[xt].count++;else{var Ot={source:Mt,target:bt,weight:ut,count:1};W[xt]=Ot,B.push(Ot)}});var rt=[];return Object.keys(_).forEach(function(st){rt.push(_[st])}),{clusters:rt,clusterEdges:B}},c.louvain=function(K){var ft=arguments.length>1&&arguments[1]!==void 0&&arguments[1],mt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"weight",yt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e-4,wt=K.nodes,J=wt===void 0?[]:wt,lt=K.edges,it=lt===void 0?[]:lt,_={},P={};J.forEach(function(bt,xt){var Ot=H();bt.clusterId=Ot,_[Ot]={id:Ot,nodes:[bt]},P[bt.id]={node:bt,idx:xt}});var Q=w(K,ft),k=[],p={},y=0;Q.forEach(function(bt,xt){var Ot=0,jt=J[xt].id;p[jt]={},bt.forEach(function(Dt,zt){Dt&&(Ot+=Dt,p[jt][J[zt].id]=Dt,y+=Dt)}),k.push(Ot)}),y/=2;for(var B=1/0,W=1/0,rt=0;B=pt(J,Q,k,y),Math.abs(B-W)>=yt&&100>=rt;)W=B,rt++,Object.keys(_).forEach(function(bt){var xt=0;it.forEach(function(Ot){var jt=P[Ot.source].node.clusterId,Dt=P[Ot.target].node.clusterId;(jt===bt&&Dt!==bt||Dt===bt&&jt!==bt)&&(xt+=Ot[mt]||1)}),_[bt].sumTot=xt}),J.forEach(function(bt,xt){var Ot,jt=_[bt.clusterId],Dt=0,zt=k[xt]/(2*y),Tt=0;jt.nodes.forEach(function(Ee){Tt+=Q[xt][P[Ee.id].idx]||0});var Vt=Tt-jt.sumTot*zt;if(Object.keys(p[bt.id]).forEach(function(Ee){var Le=P[Ee].node.clusterId;if(Le!==bt.clusterId){var Je=_[Le],On=Je.nodes;if(On&&On.length){var gn=0;On.forEach(function(kn){gn+=Q[xt][P[kn.id].idx]||0});var Vn=gn-Je.sumTot*zt-Vt;Vn>Dt&&(Dt=Vn,Ot=Je)}}}),Dt>0){Ot.nodes.push(bt);var Ht=bt.clusterId;bt.clusterId=Ot.id;var re=jt.nodes.indexOf(bt);jt.nodes.splice(re,1);var pe=0,me=0;it.forEach(function(Ee){var Le=P[Ee.source].node.clusterId,Je=P[Ee.target].node.clusterId;(Le===Ot.id&&Je!==Ot.id||Je===Ot.id&&Le!==Ot.id)&&(pe+=Ee[mt]||1),(Le===Ht&&Je!==Ht||Je===Ht&&Le!==Ht)&&(me+=Ee[mt]||1)}),Ot.sumTot=pe,jt.sumTot=me}});Object.keys(_).forEach(function(bt){var xt=_[bt];xt.nodes&&xt.nodes.length||delete _[bt]});var st=[],ut={};it.forEach(function(bt){var xt=bt[mt]||1,Ot=P[bt.source].node.clusterId,jt=P[bt.target].node.clusterId,Dt="".concat(Ot,"---").concat(jt);if(ut[Dt])ut[Dt].weight+=xt,ut[Dt].count++;else{var zt={source:Ot,target:jt,weight:xt,count:1};ut[Dt]=zt,st.push(zt)}});var Mt=[];return Object.keys(_).forEach(function(bt){Mt.push(_[bt])}),{clusters:Mt,clusterEdges:st}},c.minimumSpanningTree=function(K,ft,mt){return mt?{prim:Lt,kruskal:Et}[mt](K,ft):Et(K,ft)},c.pageRank=function(K,ft,mt){typeof ft!="number"&&(ft=1e-6),typeof mt!="number"&&(mt=.85);for(var yt,wt=1,J=0,lt=1e3,it=K.nodes,_=it===void 0?[]:it,P=K.edges,Q=P===void 0?[]:P,k=_.length,p={},y={},B=0;k>B;++B){var W=_[B].id;p[W]=1/k,y[W]=1/k}for(var rt=$(K);lt>0&&wt>ft;){J=0;for(var st=0;k>st;++st){var ut=_[st],Mt=ut.id;if(yt=0,rt[ut.id].inDegree===0)p[Mt]=0;else{for(var bt=D(Mt,Q,"source"),xt=0;bt.length>xt;++xt){var Ot=bt[xt],jt=rt[Ot].outDegree;jt>0&&(yt+=y[Ot]/jt)}p[Mt]=mt*yt,J+=p[Mt]}}J=(1-J)/k,wt=0;for(var Dt=0;k>Dt;++Dt){var zt=_[Dt].id;wt+=Math.abs((yt=p[zt]+J)-y[zt]),y[zt]=yt}lt-=1}return y},Object.defineProperty(c,"__esModule",{value:!0})})},function(i,b,t){"use strict";t.d(b,"c",function(){return s}),t.d(b,"b",function(){return d}),t.d(b,"a",function(){return C});var n=t(1),u=t(56);function g(S){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(S)}var x=Math.sin,c=Math.cos,w=Math.atan2,I=Math.PI;function m(S,A,f,O,j,D,V){var H=A.stroke,$=A.lineWidth,dt=w(O-D,f-j),Z=new u.Path({type:"path",canvas:S.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*c(I/6)+","+10*x(I/6)+" L0,0 L"+10*c(I/6)+",-"+10*x(I/6),stroke:H,lineWidth:$}});Z.translate(j,D),Z.rotateAtPoint(j,D,dt),S.set(V?"startArrowShape":"endArrowShape",Z)}function r(S,A,f,O,j,D,V){var H=A.startArrow,$=A.endArrow,dt=A.stroke,Z=A.lineWidth,ct=V?H:$,pt=ct.d,gt=ct.fill,at=ct.stroke,Bt=ct.lineWidth,Lt=Object(n.c)(ct,["d","fill","stroke","lineWidth"]),Et=w(O-D,f-j);pt&&(j-=c(Et)*pt,D-=x(Et)*pt);var K=new u.Path({type:"path",canvas:S.get("canvas"),isArrowShape:!0,attrs:Object(n.a)(Object(n.a)({},Lt),{stroke:at||dt,lineWidth:Bt||Z,fill:gt})});K.translate(j,D),K.rotateAtPoint(j,D,Et),S.set(V?"startArrowShape":"endArrowShape",K)}function s(S,A,f,O,j){var D=w(O-A,f-S);return{dx:c(D)*j,dy:x(D)*j}}function d(S,A,f,O,j,D){g(A.startArrow)==="object"?r(S,A,f,O,j,D,!0):A.startArrow?m(S,A,f,O,j,D,!0):S.set("startArrowShape",null)}function C(S,A,f,O,j,D){g(A.endArrow)==="object"?r(S,A,f,O,j,D,!1):A.endArrow?m(S,A,f,O,j,D,!1):S.set("startArrowShape",null)}},function(i,b,t){"use strict";var n={};t.r(n),t.d(n,"leftTranslate",function(){return $}),t.d(n,"leftRotate",function(){return dt}),t.d(n,"leftScale",function(){return Z}),t.d(n,"transform",function(){return ct}),t.d(n,"direction",function(){return pt}),t.d(n,"angleTo",function(){return gt}),t.d(n,"vertical",function(){return at});var u={};t.r(u),t.d(u,"default",function(){return Er}),t.d(u,"assign",function(){return zt}),t.d(u,"format",function(){return ir}),t.d(u,"parse",function(){return hr}),t.d(u,"defaultI18n",function(){return re}),t.d(u,"setGlobalDateI18n",function(){return me}),t.d(u,"setGlobalDateMasks",function(){return Qn});var g={};t.r(g),t.d(g,"compare",function(){return ce}),t.d(g,"getLineIntersect",function(){return Bn}),t.d(g,"getRectIntersectByPoint",function(){return Zn}),t.d(g,"getCircleIntersectByPoint",function(){return Kn}),t.d(g,"getEllipseIntersectByPoint",function(){return $e}),t.d(g,"applyMatrix",function(){return je}),t.d(g,"invertMatrix",function(){return L}),t.d(g,"getCircleCenterByPoints",function(){return St}),t.d(g,"distance",function(){return $t}),t.d(g,"scaleMatrix",function(){return ye}),t.d(g,"floydWarshall",function(){return Zt}),t.d(g,"getAdjMatrix",function(){return de}),t.d(g,"translate",function(){return he}),t.d(g,"move",function(){return le}),t.d(g,"scale",function(){return Me}),t.d(g,"rotate",function(){return We}),t.d(g,"getDegree",function(){return Ye}),t.d(g,"isPointInPolygon",function(){return nn}),t.d(g,"intersectBBox",function(){return Re}),t.d(g,"isPolygonsIntersect",function(){return hn}),t.d(g,"Line",function(){return pn}),t.d(g,"getBBoxBoundLine",function(){return on}),t.d(g,"itemIntersectByLine",function(){return jn}),t.d(g,"fractionToLine",function(){return Ie}),t.d(g,"getPointsCenter",function(){return fe}),t.d(g,"squareDist",function(){return Ne}),t.d(g,"pointLineSquareDist",function(){return Fe}),t.d(g,"isPointsOverlap",function(){return rn}),t.d(g,"pointRectSquareDist",function(){return ln});var x={};t.r(x),t.d(x,"uniqueId",function(){return ri}),t.d(x,"formatPadding",function(){return zr}),t.d(x,"cloneEvent",function(){return wi}),t.d(x,"isViewportChanged",function(){return Ai}),t.d(x,"isNaN",function(){return gi}),t.d(x,"calculationItemsBBox",function(){return Oa}),t.d(x,"processParallelEdges",function(){return Aa});var c={};t.r(c),t.d(c,"getBBox",function(){return bn}),t.d(c,"getLoopCfgs",function(){return Yn}),t.d(c,"getLabelPosition",function(){return Jn}),t.d(c,"traverseTree",function(){return _n}),t.d(c,"traverseTreeUp",function(){return fr}),t.d(c,"getLetterWidth",function(){return sr}),t.d(c,"getTextSize",function(){return vr}),t.d(c,"plainCombosToTrees",function(){return pr}),t.d(c,"reconstructTree",function(){return Wr}),t.d(c,"getComboBBox",function(){return Ur}),t.d(c,"shouldRefreshEdge",function(){return Ii}),t.d(c,"cloneBesidesImg",function(){return br});var w={};t.r(w),t.d(w,"getSpline",function(){return Na}),t.d(w,"getControlPoint",function(){return Fa}),t.d(w,"pointsToPolygon",function(){return ro}),t.d(w,"pathToPoints",function(){return Sa}),t.d(w,"getClosedSpline",function(){return So}),t.d(w,"roundedHull",function(){return to}),t.d(w,"paddedHull",function(){return fo});var I,m=t(14),r=t(0),s=function(){function kt(v){this._cfgs=Object(r.e)(this.getDefaultCfgs(),v),this._events={},this.destroyed=!1}return kt.prototype.getDefaultCfgs=function(){return{}},kt.prototype.initPlugin=function(v){var l=this;l.set("graph",v);var R=l.getEvents(),X={};Object(r.f)(R,function(ht,At){var Ut=Object(r.J)(l,ht);X[At]=Ut,v.on(At,Ut)}),this._events=X,this.init()},kt.prototype.getEvents=function(){return{}},kt.prototype.get=function(v){return this._cfgs[v]},kt.prototype.set=function(v,l){this._cfgs[v]=l},kt.prototype.destroy=function(){},kt.prototype.destroyPlugin=function(){this.destroy();var v=this.get("graph"),l=this._events;Object(r.f)(l,function(R,X){v.off(X,R)}),this._events=null,this._cfgs=null,this.destroyed=!0},kt}(),d=(I=function(v,l){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,X){R.__proto__=X}||function(R,X){for(var ht in X)Object.prototype.hasOwnProperty.call(X,ht)&&(R[ht]=X[ht])})(v,l)},function(kt,v){function l(){this.constructor=kt}I(kt,v),kt.prototype=v===null?Object.create(v):(l.prototype=v.prototype,new l)}),C="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",S=function(kt){function v(){return kt!==null&&kt.apply(this,arguments)||this}return d(v,kt),v.prototype.getDefaultCfgs=function(){return{img:C}},v.prototype.init=function(){var l=this.get("graph"),R=l.get("minZoom"),X=l.get("container"),ht=l.get("canvas").get("el"),At=l.get("width"),Ut=l.get("height"),Yt=this.get("img")||C,qt=Object(m.b)(`<div class='g6-grid-container' style="position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;"></div>`),oe=Object(m.b)(`<div 
        class='g6-grid' 
        style='position:absolute;
        transform-origin: 0% 0% 0px;
        background-image: `+Yt+`;
        user-select: none
        '></div>`);qt.appendChild(oe),Object(m.c)(qt,{width:At+"px",height:Ut+"px",left:X.offsetLeft+"px",top:X.offsetTop+"px"}),Object(m.c)(oe,{width:At/R+"px",height:Ut/R+"px",left:"0px",top:"0px"}),X.insertBefore(qt,ht),this.set("container",qt),this.set("gridContainer",oe)},v.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},v.prototype.updateGrid=function(l){var R=this.get("gridContainer"),X=l.matrix;X||(X=[1,0,0,0,1,0,0,0,1]);var ht="matrix("+X[0]+", "+X[1]+", "+X[3]+", "+X[4]+", 0, 0)";Object(m.c)(R,{transform:ht})},v.prototype.getContainer=function(){return this.get("container")},v.prototype.destroy=function(){var l=this.get("graph").get("container"),R=this.get("container");l.removeChild(R)},v}(s),A=t(81),f=t.n(A),O=function(){var kt=function(l,R){return(kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,ht){X.__proto__=ht}||function(X,ht){for(var At in ht)Object.prototype.hasOwnProperty.call(ht,At)&&(X[At]=ht[At])})(l,R)};return function(v,l){function R(){this.constructor=v}kt(v,l),v.prototype=l===null?Object.create(l):(R.prototype=l.prototype,new R)}}();f()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var j=function(kt){function v(){return kt!==null&&kt.apply(this,arguments)||this}return O(v,kt),v.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(R){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(R){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},v.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},v.prototype.init=function(){var l=this.get("className"),R=Object(m.b)("<div class="+(l||"g6-component-contextmenu")+"></div>");Object(m.c)(R,{top:"0px",position:"absolute",visibility:"hidden"});var X=this.get("container");X||(X=this.get("graph").get("container")),Object(r.x)(X)&&(X=document.getElementById(X)),X.appendChild(R),this.set("menu",R)},v.prototype.onMenuShow=function(l){var R=this;l.preventDefault(),l.stopPropagation();var X=this.get("itemTypes");if(l.item){if(l.item&&l.item.getType&&X.indexOf(l.item.getType())===-1)return void R.onMenuHide()}else if(X.indexOf("canvas")===-1)return;if(this.get("shouldBegin")(l)){var ht=this.get("menu"),At=this.get("getContent"),Ut=this.get("graph"),Yt=At(l,Ut);Object(r.x)(Yt)?ht.innerHTML=Yt:ht.innerHTML=Yt.outerHTML,this.removeMenuEventListener();var qt=this.get("handleMenuClick");if(qt){var oe=function(Rr){qt(Rr.target,l.item,Ut)};this.set("handleMenuClickWrapper",oe),ht.addEventListener("click",oe)}var Te=Ut.get("width"),Ge=Ut.get("height"),Ue=ht.getBoundingClientRect(),Ve=this.get("offsetX")||0,vn=this.get("offsetY")||0,Tn=Ut.getContainer().offsetTop,Ln=Ut.getContainer().offsetLeft,Un=l.canvasX+Ln+Ve,Hn=l.canvasY+Tn+vn;Un+Ue.width>Te&&(Un=l.canvasX-Ue.width-Ve+Ln),Hn+Ue.height>Ge&&(Hn=l.canvasY-Ue.height-vn+Tn),Object(m.c)(ht,{top:Hn+"px",left:Un+"px",visibility:"visible"});var xr=function(Rr){R.onMenuHide()};document.body.addEventListener("click",xr),this.set("handler",xr)}},v.prototype.removeMenuEventListener=function(){var l=this.get("handleMenuClickWrapper"),R=this.get("handler");l&&(this.get("menu").removeEventListener("click",l),this.set("handleMenuClickWrapper",null)),R&&document.body.removeEventListener("click",R)},v.prototype.onMenuHide=function(){var l=this.get("menu");l&&Object(m.c)(l,{visibility:"hidden"}),this.removeMenuEventListener()},v.prototype.destroy=function(){var l=this.get("menu");if(this.removeMenuEventListener(),l){var R=this.get("container");R||(R=this.get("graph").get("container")),Object(r.x)(R)&&(R=document.getElementById(R)),R.removeChild(l)}},v}(s),D=t(52),V=t(62),H=t(2);function $(kt,v,l){var R=[0,0,0,0,0,0,0,0,0];return H.a.fromTranslation(R,l),H.a.multiply(kt,R,v)}function dt(kt,v,l){var R=[0,0,0,0,0,0,0,0,0];return H.a.fromRotation(R,l),H.a.multiply(kt,R,v)}function Z(kt,v,l){var R=[0,0,0,0,0,0,0,0,0];return H.a.fromScaling(R,l),H.a.multiply(kt,R,v)}function ct(kt,v){for(var l,R,X,ht=kt?[].concat(kt):[1,0,0,0,1,0,0,0,1],At=0,Ut=v.length;At<Ut;At++){var Yt=v[At];switch(Yt[0]){case"t":$(ht,ht,[Yt[1],Yt[2]]);break;case"s":Z(ht,ht,[Yt[1],Yt[2]]);break;case"r":dt(ht,ht,Yt[1]);break;case"m":l=ht,R=ht,X=Yt[1],H.a.multiply(l,X,R)}}return ht}function pt(kt,v){return kt[0]*v[1]-v[0]*kt[1]}function gt(kt,v,l){var R=H.d.angle(kt,v),X=pt(kt,v)>=0;return l?X?2*Math.PI-R:R:X?R:2*Math.PI-R}function at(kt,v,l){return l?(kt[0]=v[1],kt[1]=-1*v[0]):(kt[0]=-1*v[1],kt[1]=v[0]),kt}var Bt=function(){var kt=function(l,R){return(kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,ht){X.__proto__=ht}||function(X,ht){for(var At in ht)Object.prototype.hasOwnProperty.call(ht,At)&&(X[At]=ht[At])})(l,R)};return function(v,l){function R(){this.constructor=v}kt(v,l),v.prototype=l===null?Object.create(l):(R.prototype=l.prototype,new R)}}(),Lt=function(){return(Lt=Object.assign||function(v){for(var l,R=1,X=arguments.length;R<X;R++)for(var ht in l=arguments[R])Object.prototype.hasOwnProperty.call(l,ht)&&(v[ht]=l[ht]);return v}).apply(this,arguments)},Et=Math.max,K=n.transform,ft=function(kt){function v(){var l=kt!==null&&kt.apply(this,arguments)||this;return l.handleUpdateCanvas=Object(r.d)(function(R){var X=l;X.destroyed||X.updateCanvas()},100,!1),l}return Bt(v,kt),v.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},v.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},v.prototype.disableRefresh=function(){this.set("refresh",!1)},v.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},v.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},v.prototype.initViewport=function(){var l=this,R=this._cfgs,X=R.size,ht=R.graph;if(!this.destroyed){var At=this.get("canvas").get("container"),Ut=Object(m.b)(`
      <div
        class=`+R.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          outline: 2px solid #1980ff'
        draggable=true>
      </div>`),Yt=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,qt=0,oe=0,Te=!1,Ge=0,Ue=0,Ve=0,vn=0,Tn=0,Ln=0;Ut.addEventListener("dragstart",function(Un){var Hn,xr;if(Un.dataTransfer){var Or=new Image;Or.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",(xr=(Hn=Un.dataTransfer).setDragImage)===null||xr===void 0||xr.call(Hn,Or,0,0);try{Un.dataTransfer.setData("text/html","view-port-minimap")}catch(yi){Un.dataTransfer.setData("text","view-port-minimap")}}if(R.refresh=!1,Un.target===Ut){var Rr=Ut.style;Ge=parseInt(Rr.left,10),Ue=parseInt(Rr.top,10),Ve=parseInt(Rr.width,10),vn=parseInt(Rr.height,10),Ve>X[0]||vn>X[1]||(Ln=ht.getZoom(),Tn=l.get("ratio"),Te=!0,qt=Un.clientX,oe=Un.clientY)}},!1),Ut.addEventListener(Yt?"dragover":"drag",function(Un){if(Te&&!Object(r.s)(Un.clientX)&&!Object(r.s)(Un.clientY)){var Hn=qt-Un.clientX,xr=oe-Un.clientY;(Ge-Hn<0||Ge-Hn+Ve>=X[0])&&(Hn=0),(Ue-xr<0||Ue-xr+vn>=X[1])&&(xr=0),Ge-=Hn,Ue-=xr,Object(m.c)(Ut,{left:Ge+"px",top:Ue+"px"}),ht.translate(Hn*Ln/Tn,xr*Ln/Tn),qt=Un.clientX,oe=Un.clientY}},!1),Ut.addEventListener("dragend",function(){Te=!1,R.refresh=!0},!1),this.set("viewport",Ut),At.appendChild(Ut)}},v.prototype.updateViewport=function(){if(!this.destroyed){var l=this.get("ratio"),R=(this.get("dx"),this.get("dy"),this.get("totaldx")),X=this.get("totaldy"),ht=this.get("graph"),At=this.get("size"),Ut=ht.get("width"),Yt=ht.get("height"),qt=ht.getPointByCanvas(0,0),oe=ht.getPointByCanvas(Ut,Yt),Te=this.get("viewport");Te||this.initViewport(),ht.getZoom();var Ge=(oe.x-qt.x)*l,Ue=(oe.y-qt.y)*l,Ve=qt.x*l+R,vn=qt.y*l+X,Tn=Ve+Ge,Ln=vn+Ue;Ve<0&&(Ge+=Ve,Ve=0),Tn>At[0]&&(Ge-=Tn-At[0]),vn<0&&(Ue+=vn,vn=0),Ln>At[1]&&(Ue-=Ln-At[1]),this.set("ratio",l);var Un=Ve+"px",Hn=vn+"px";Object(m.c)(Te,{left:Un,top:Hn,width:Ge+"px",height:Ue+"px"})}},v.prototype.updateGraphShapes=function(){var l=this._cfgs.graph,R=this.get("canvas"),X=l.get("group");if(!X.destroyed){var ht=X.clone();ht.resetMatrix(),R.clear(),R.add(ht),l.get("renderer")==="svg"&&this.updateVisible(ht)}},v.prototype.updateVisible=function(l){var R=this;if(l.isGroup()||l.get("visible")){var X=l.get("children");if(!X||!X.length)return;X.forEach(function(ht){ht.get("visible")||ht.hide(),R.updateVisible(ht)})}else l.hide()},v.prototype.updateKeyShapes=function(){var l=this,R=this._cfgs.graph;Object(r.f)(R.getEdges(),function(X){l.updateOneEdgeKeyShape(X)}),Object(r.f)(R.getNodes(),function(X){l.updateOneNodeKeyShape(X)}),this.clearDestroyedShapes()},v.prototype.updateOneNodeKeyShape=function(l){var R=this.get("canvas"),X=R.get("children")[0]||R.addGroup(),ht=this.get("itemMap")||{},At=ht[l.get("id")],Ut=l.getBBox(),Yt=l.get("keyShape").clone(),qt=Yt.attr(),oe={x:Ut.centerX,y:Ut.centerY};At?oe=Object.assign(qt,oe):(At=Yt,X.add(At));var Te=At.get("type");Te!=="rect"&&Te!=="image"||(oe.x=Ut.minX,oe.y=Ut.minY),At.attr(oe),l.isVisible()||At.hide(),At.exist=!0,ht[l.get("id")]=At,this.set("itemMap",ht)},v.prototype.updateDelegateShapes=function(){var l=this,R=this._cfgs.graph;Object(r.f)(R.getEdges(),function(X){l.updateOneEdgeKeyShape(X)}),Object(r.f)(R.getNodes(),function(X){l.updateOneNodeDelegateShape(X)}),this.clearDestroyedShapes()},v.prototype.clearDestroyedShapes=function(){var l=this.get("itemMap")||{},R=Object.keys(l);if(R&&R.length!==0)for(var X=R.length-1;X>=0;X--){var ht=l[R[X]],At=ht.exist;ht.exist=!1,At||(ht.remove(),delete l[R[X]])}},v.prototype.updateOneEdgeKeyShape=function(l){var R=this.get("canvas"),X=R.get("children")[0]||R.addGroup(),ht=this.get("itemMap")||{},At=ht[l.get("id")];if(At){var Ut=l.get("keyShape").attr("path");At.attr("path",Ut)}else At=l.get("keyShape").clone(),X.add(At),At.toBack();l.isVisible()||At.hide(),At.exist=!0,ht[l.get("id")]=At,this.set("itemMap",ht)},v.prototype.updateOneNodeDelegateShape=function(l){var R=this.get("canvas"),X=R.get("children")[0]||R.addGroup(),ht=this.get("delegateStyle"),At=this.get("itemMap")||{},Ut=At[l.get("id")],Yt=l.getBBox();if(Ut){var qt={x:Yt.minX,y:Yt.minY,width:Yt.width,height:Yt.height};Ut.attr(qt)}else Ut=X.addShape("rect",{attrs:Lt({x:Yt.minX,y:Yt.minY,width:Yt.width,height:Yt.height},ht),name:"minimap-node-shape"});l.isVisible()||Ut.hide(),Ut.exist=!0,At[l.get("id")]=Ut,this.set("itemMap",At)},v.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},v.prototype.initContainer=function(){var l=this.get("graph"),R=this.get("size"),X=this.get("className"),ht=this.get("container"),At=Object(m.b)("<div class='"+X+"' style='width: "+R[0]+"px; height: "+R[1]+"px; overflow: hidden'></div>");Object(r.x)(ht)&&(ht=document.getElementById(ht)),ht?ht.appendChild(At):l.get("container").appendChild(At),this.set("container",At);var Ut,Yt=Object(m.b)('<div class="g6-minimap-container" style="position: relative;"></div>');At.appendChild(Yt),Ut=l.get("renderer")==="svg"?new V.Canvas({container:Yt,width:R[0],height:R[1]}):new D.Canvas({container:Yt,width:R[0],height:R[1]}),this.set("canvas",Ut),this.updateCanvas()},v.prototype.updateCanvas=function(){if(this.get("refresh")){var l=this.get("graph");if(!l.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var R=this.get("size"),X=this.get("canvas"),ht=this.get("type"),At=this.get("padding");if(!X.destroyed){switch(ht){case"default":this.updateGraphShapes();break;case"keyShape":this.updateKeyShapes();break;case"delegate":this.updateDelegateShapes()}var Ut=X.get("children")[0];if(Ut){Ut.resetMatrix();var Yt=Ut.getCanvasBBox(),qt=l.get("canvas").getCanvasBBox(),oe=qt.width,Te=qt.height;Number.isFinite(Yt.width)&&(oe=Et(Yt.width,oe),Te=Et(Yt.height,Te)),oe+=2*At,Te+=2*At;var Ge=Math.min(R[0]/oe,R[1]/Te),Ue=[1,0,0,0,1,0,0,0,1],Ve=0,vn=0;Number.isFinite(Yt.minX)&&(Ve=-Yt.minX),Number.isFinite(Yt.minY)&&(vn=-Yt.minY);var Tn=(R[0]-(oe-2*At)*Ge)/2,Ln=(R[1]-(Te-2*At)*Ge)/2;Ue=K(Ue,[["t",Ve,vn],["s",Ge,Ge],["t",Tn,Ln]]),Ut.setMatrix(Ue),this.set("ratio",Ge),this.set("totaldx",Tn+Ve*Ge),this.set("totaldy",Ln+vn*Ge),this.set("dx",Tn),this.set("dy",Ln),this.updateViewport()}}}}},v.prototype.getCanvas=function(){return this.get("canvas")},v.prototype.getViewport=function(){return this.get("viewport")},v.prototype.getContainer=function(){return this.get("container")},v.prototype.destroy=function(){this.get("canvas").destroy();var l=this.get("container");l.parentNode.removeChild(l)},v}(s),mt=function(){var kt=function(l,R){return(kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,ht){X.__proto__=ht}||function(X,ht){for(var At in ht)Object.prototype.hasOwnProperty.call(ht,At)&&(X[At]=ht[At])})(l,R)};return function(v,l){function R(){this.constructor=v}kt(v,l),v.prototype=l===null?Object.create(l):(R.prototype=l.prototype,new R)}}();function yt(kt,v,l){var R=kt.x-v.x,X=kt.y-v.y;return!l||Math.abs(R)>l||Math.abs(X)>l?Math.sqrt(R*R+X*X):l}function wt(kt,v){var l=(v.source.y-v.target.y)/(v.source.x-v.target.x),R=(l*l*v.source.x+l*(kt.y-v.source.y)+kt.x)/(l*l+1);return{x:R,y:l*(R-v.source.x)+v.source.y}}var J=function(kt){function v(){return kt!==null&&kt.apply(this,arguments)||this}return mt(v,kt),v.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},v.prototype.init=function(){var l=this.get("graph"),R=this.get("onTick");this.set("tick",function(){R&&R(),l.refreshPositions()})},v.prototype.bundling=function(l){var R=this;if(R.set("data",l),!R.isTicking()){var X=l.edges||[],ht=l.nodes||[],At={},Ut=!1;if(ht.forEach(function(Hn){Hn.x!==null&&!Hn.y!==null&&Hn.x!==void 0&&!Hn.y!==void 0||(Ut=!0),At[Hn.id]=Hn}),Ut)throw new Error("please layout the graph or assign x and y for nodes first");R.set("nodeIdMap",At);var Yt=R.get("divisions"),qt=R.get("divRate"),oe=R.divideEdges(Yt);R.set("edgePoints",oe);var Te=R.getEdgeBundles();R.set("edgeBundles",Te);for(var Ge=R.get("cycles"),Ue=R.get("iterations"),Ve=R.get("iterRate"),vn=R.get("lambda"),Tn=0;Tn<Ge;Tn++){for(var Ln=function(xr){var Or=[];X.forEach(function(Rr,yi){if(Rr.source!==Rr.target){var Xi=At[Rr.source],Zr=At[Rr.target];Or[yi]=R.getEdgeForces({source:Xi,target:Zr},yi,Yt,vn);for(var ki=0;ki<Yt+1;ki++)oe[yi][ki].x+=Or[yi][ki].x,oe[yi][ki].y+=Or[yi][ki].y}})},Un=0;Un<Ue;Un++)Ln();vn/=2,Yt*=qt,Ue*=Ve,oe=R.divideEdges(Yt),R.set("edgePoints",oe)}X.forEach(function(Hn,xr){Hn.source!==Hn.target&&(Hn.type="polyline",Hn.controlPoints=oe[xr].slice(1,oe[xr].length-1))}),R.get("graph").refresh()}},v.prototype.updateBundling=function(l){var R=this,X=l.data;if(X&&R.set("data",X),R.get("ticking")&&R.set("ticking",!1),Object.keys(l).forEach(function(At){R.set(At,l[At])}),l.onTick){var ht=this.get("graph");R.set("tick",function(){l.onTick(),ht.refresh()})}R.bundling(X)},v.prototype.divideEdges=function(l){var R=this,X=R.get("data").edges,ht=R.get("nodeIdMap"),At=R.get("edgePoints");return At&&At!==void 0||(At=[]),X.forEach(function(Ut,Yt){At[Yt]&&At[Yt]!==void 0||(At[Yt]=[]);var qt=ht[Ut.source],oe=ht[Ut.target];if(l===1)At[Yt].push({x:qt.x,y:qt.y}),At[Yt].push({x:.5*(qt.x+oe.x),y:.5*(qt.y+oe.y)}),At[Yt].push({x:oe.x,y:oe.y});else{var Te=(At[Yt]&&At[Yt]!==[]?R.getEdgeLength(At[Yt]):yt({x:qt.x,y:qt.y},{x:oe.x,y:oe.y}))/(l+1),Ge=Te,Ue=[{x:qt.x,y:qt.y}];At[Yt].forEach(function(Ve,vn){if(vn!==0){for(var Tn=yt(Ve,At[Yt][vn-1]);Tn>Ge;){var Ln=Ge/Tn,Un={x:At[Yt][vn-1].x,y:At[Yt][vn-1].y};Un.x+=Ln*(Ve.x-At[Yt][vn-1].x),Un.y+=Ln*(Ve.y-At[Yt][vn-1].y),Ue.push(Un),Tn-=Ge,Ge=Te}Ge-=Tn}}),Ue.push({x:oe.x,y:oe.y}),At[Yt]=Ue}}),At},v.prototype.getEdgeLength=function(l){var R=0;return l.forEach(function(X,ht){ht!==0&&(R+=yt(X,l[ht-1]))}),R},v.prototype.getEdgeBundles=function(){var l=this,R=l.get("data").edges||[],X=l.get("bundleThreshold"),ht=l.get("nodeIdMap"),At=l.get("edgeBundles");return At||(At=[]),R.forEach(function(Ut,Yt){At[Yt]&&At[Yt]!==void 0||(At[Yt]=[])}),R.forEach(function(Ut,Yt){var qt=ht[Ut.source],oe=ht[Ut.target];R.forEach(function(Te,Ge){if(!(Ge<=Yt)){var Ue=ht[Te.source],Ve=ht[Te.target];l.getBundleScore({source:qt,target:oe},{source:Ue,target:Ve})>=X&&(At[Yt].push(Ge),At[Ge].push(Yt))}})}),At},v.prototype.getBundleScore=function(l,R){return l.vx=l.target.x-l.source.x,l.vy=l.target.y-l.source.y,R.vx=R.target.x-R.source.x,R.vy=R.target.y-R.source.y,l.length=yt({x:l.source.x,y:l.source.y},{x:l.target.x,y:l.target.y}),R.length=yt({x:R.source.x,y:R.source.y},{x:R.target.x,y:R.target.y}),this.getAngleScore(l,R)*this.getScaleScore(l,R)*this.getPositionScore(l,R)*this.getVisibilityScore(l,R)},v.prototype.getAngleScore=function(l,R){return function(X,ht){return X.x*ht.x+X.y*ht.y}({x:l.vx,y:l.vy},{x:R.vx,y:R.vy})/(l.length*R.length)},v.prototype.getScaleScore=function(l,R){var X=(l.length+R.length)/2;return 2/(X/Math.min(l.length,R.length)+Math.max(l.length,R.length)/X)},v.prototype.getPositionScore=function(l,R){var X=(l.length+R.length)/2;return X/(X+yt({x:(l.source.x+l.target.x)/2,y:(l.source.y+l.target.y)/2},{x:(R.source.x+R.target.x)/2,y:(R.source.y+R.target.y)/2}))},v.prototype.getVisibilityScore=function(l,R){var X=this.getEdgeVisibility(l,R),ht=this.getEdgeVisibility(R,l);return X<ht?X:ht},v.prototype.getEdgeVisibility=function(l,R){var X=wt(R.source,l),ht=wt(R.target,l),At={x:(X.x+ht.x)/2,y:(X.y+ht.y)/2},Ut={x:(l.source.x+l.target.x)/2,y:(l.source.y+l.target.y)/2};return Math.max(0,1-2*yt(At,Ut)/yt(X,ht))},v.prototype.getEdgeForces=function(l,R,X,ht){for(var At=this.get("edgePoints"),Ut=this.get("K")/(yt(l.source,l.target)*(X+1)),Yt=[{x:0,y:0}],qt=1;qt<X;qt++){var oe={x:0,y:0},Te=this.getSpringForce({pre:At[R][qt-1],cur:At[R][qt],next:At[R][qt+1]},Ut),Ge=this.getElectrostaticForce(qt,R);oe.x=ht*(Te.x+Ge.x),oe.y=ht*(Te.y+Ge.y),Yt.push(oe)}return Yt.push({x:0,y:0}),Yt},v.prototype.getSpringForce=function(l,R){var X=l.pre.x+l.next.x-2*l.cur.x,ht=l.pre.y+l.next.y-2*l.cur.y;return{x:X*=R,y:ht*=R}},v.prototype.getElectrostaticForce=function(l,R){var X=this.get("eps"),ht=this.get("edgeBundles"),At=this.get("edgePoints"),Ut=ht[R],Yt={x:0,y:0};return Ut.forEach(function(qt){var oe={x:At[qt][l].x-At[R][l].x,y:At[qt][l].y-At[R][l].y};if(Math.abs(oe.x)>X||Math.abs(oe.y)>X){var Te=1/yt(At[qt][l],At[R][l]);Yt.x+=oe.x*Te,Yt.y+=oe.y*Te}}),Yt},v.prototype.isTicking=function(){return this.get("ticking")},v.prototype.getSimulation=function(){return this.get("forceSimulation")},v.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),kt.prototype.destroy.call(this)},v}(s),lt=function(){var kt=function(l,R){return(kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,ht){X.__proto__=ht}||function(X,ht){for(var At in ht)Object.prototype.hasOwnProperty.call(ht,At)&&(X[At]=ht[At])})(l,R)};return function(v,l){function R(){this.constructor=v}kt(v,l),v.prototype=l===null?Object.create(l):(R.prototype=l.prototype,new R)}}(),it=function(){return(it=Object.assign||function(v){for(var l,R=1,X=arguments.length;R<X;R++)for(var ht in l=arguments[R])Object.prototype.hasOwnProperty.call(l,ht)&&(v[ht]=l[ht]);return v}).apply(this,arguments)},_={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},P=function(kt){function v(){return kt!==null&&kt.apply(this,arguments)||this}return lt(v,kt),v.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:Object(r.c)(_),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},v.prototype.getEvents=function(){var l;switch(this.get("trigger")){case"click":l={click:"magnify"};break;case"drag":l={click:"createDelegate"};break;default:l={mousemove:"magnify"}}return l},v.prototype.init=function(){var l=this.get("r");this.set("cachedMagnifiedModels",[]),this.set("cachedOriginPositions",{}),this.set("r2",l*l);var R=this.get("d");this.set("molecularParam",(R+1)*l)},v.prototype.createDelegate=function(l){var R=this,X=this,ht=X.get("delegate");ht&&!ht.destroyed||(X.magnify(l),(ht=X.get("delegate")).on("dragstart",function(At){X.set("delegateCenterDiff",{x:ht.attr("x")-At.x,y:ht.attr("y")-At.y})}),ht.on("drag",function(At){X.magnify(At)}),this.get("scaleDBy")==="wheel"&&ht.on("mousewheel",function(At){R.scaleDByWheel(At)}),this.get("scaleRBy")==="wheel"&&ht.on("mousewheel",function(At){X.scaleRByWheel(At)}))},v.prototype.scaleRByWheel=function(l){if(l&&l.originalEvent){l.preventDefault&&l.preventDefault();var R,X=this.get("graph"),ht=this.get("delegate"),At=(ht?{x:ht.attr("x"),y:ht.attr("y")}:void 0)||X.getPointByClient(l.clientX,l.clientY);R=l.originalEvent.wheelDelta<0?.95:1/.95;var Ut=this.get("maxR"),Yt=this.get("minR"),qt=this.get("r");(qt>(Ut||X.get("height"))&&R>1||qt<(Yt||.05*X.get("height"))&&R<1)&&(R=1),qt*=R,this.set("r",qt),this.set("r2",qt*qt);var oe=this.get("d");this.set("molecularParam",(oe+1)*qt),this.set("delegateCenterDiff",void 0),this.magnify(l,At)}},v.prototype.scaleRByDrag=function(l){if(l){var R,X=this.get("dragPrePos"),ht=this.get("graph"),At=ht.getPointByClient(l.clientX,l.clientY);R=l.x-X.x<0?.95:1/.95;var Ut=this.get("maxR"),Yt=this.get("minR"),qt=this.get("r");(qt>(Ut||ht.get("height"))&&R>1||qt<(Yt||.05*ht.get("height"))&&R<1)&&(R=1),qt*=R,this.set("r",qt),this.set("r2",qt*qt);var oe=this.get("d");this.set("molecularParam",(oe+1)*qt),this.magnify(l,At),this.set("dragPrePos",{x:l.x,y:l.y})}},v.prototype.scaleDByWheel=function(l){if(l||l.originalEvent){l.preventDefault&&l.preventDefault();var R=0;R=l.originalEvent.wheelDelta<0?-.1:.1;var X=this.get("d")+R,ht=this.get("maxD"),At=this.get("minD");if(X<ht&&X>At){this.set("d",X);var Ut=this.get("r");this.set("molecularParam",(X+1)*Ut);var Yt=this.get("delegate"),qt=Yt?{x:Yt.attr("x"),y:Yt.attr("y")}:void 0;this.set("delegateCenterDiff",void 0),this.magnify(l,qt)}}},v.prototype.scaleDByDrag=function(l){var R=this.get("dragPrePos"),X=l.x-R.x>0?.1:-.1,ht=this.get("d")+X,At=this.get("maxD"),Ut=this.get("minD");if(ht<At&&ht>Ut){this.set("d",ht);var Yt=this.get("r");this.set("molecularParam",(ht+1)*Yt),this.magnify(l)}this.set("dragPrePos",{x:l.x,y:l.y})},v.prototype.magnify=function(l,R){this.restoreCache();var X=this.get("graph"),ht=this.get("cachedMagnifiedModels"),At=this.get("cachedOriginPositions"),Ut=this.get("showLabel"),Yt=this.get("r"),qt=this.get("r2"),oe=this.get("d"),Te=this.get("molecularParam"),Ge=X.getNodes(),Ue=Ge.length,Ve=R?{x:R.x,y:R.y}:{x:l.x,y:l.y};!this.get("dragging")||this.get("trigger")!=="mousemove"&&this.get("trigger")!=="click"||(Ve=this.get("cacheCenter"));var vn=this.get("delegateCenterDiff");vn&&(Ve.x+=vn.x,Ve.y+=vn.y),this.updateDelegate(Ve,Yt);for(var Tn=0;Tn<Ue;Tn++){var Ln=Ge[Tn].getModel(),Un=Ln.x,Hn=Ln.y;if(!isNaN(Un)&&!isNaN(Hn)){var xr=(Un-Ve.x)*(Un-Ve.x)+(Hn-Ve.y)*(Hn-Ve.y);if(!isNaN(xr)&&xr<qt&&xr!==0){var Or=Math.sqrt(xr),Rr=Te*Or/(oe*Or+Yt),yi=(Un-Ve.x)/Or,Xi=(Hn-Ve.y)/Or;if(Ln.x=yi*Rr+Ve.x,Ln.y=Xi*Rr+Ve.y,At[Ln.id]||(At[Ln.id]={x:Un,y:Hn,texts:[]}),ht.push(Ln),Ut&&2*Or<Yt)for(var Zr=Ge[Tn].getContainer().getChildren(),ki=Zr.length,Ba=0;Ba<ki;Ba++){var Ha=Zr[Ba];Ha.get("type")==="text"&&(At[Ln.id].texts.push({visible:Ha.get("visible"),shape:Ha}),Ha.set("visible",!0))}}}}X.refreshPositions()},v.prototype.restoreCache=function(){for(var l=this.get("cachedMagnifiedModels"),R=this.get("cachedOriginPositions"),X=l.length,ht=0;ht<X;ht++){var At=l[ht],Ut=R[At.id];At.x=Ut.x,At.y=Ut.y;for(var Yt=Ut.texts.length,qt=0;qt<Yt;qt++){var oe=Ut.texts[qt];oe.shape.set("visible",oe.visible)}}this.set("cachedMagnifiedModels",[]),this.set("cachedOriginPositions",{})},v.prototype.updateParams=function(l){var R=l.r,X=l.d,ht=l.trigger,At=l.minD,Ut=l.maxD,Yt=l.minR,qt=l.maxR,oe=l.scaleDBy,Te=l.scaleRBy;isNaN(l.r)||(this.set("r",R),this.set("r2",R*R)),isNaN(X)||this.set("d",X),isNaN(Ut)||this.set("maxD",Ut),isNaN(At)||this.set("minD",At),isNaN(qt)||this.set("maxR",qt),isNaN(Yt)||this.set("minR",Yt);var Ge,Ue=this.get("d"),Ve=this.get("r");this.set("molecularParam",(Ue+1)*Ve),ht!=="mousemove"&&ht!=="click"&&ht!=="drag"||this.set("trigger",ht),(oe==="drag"||oe==="wheel"||oe==="unset")&&(this.set("scaleDBy",oe),this.get("delegate").remove(),this.get("delegate").destroy(),(Ge=this.get("dPercentText"))&&(Ge.remove(),Ge.destroy())),Te!=="drag"&&Te!=="wheel"&&Te!=="unset"||(this.set("scaleRBy",Te),this.get("delegate").remove(),this.get("delegate").destroy(),(Ge=this.get("dPercentText"))&&(Ge.remove(),Ge.destroy()))},v.prototype.updateDelegate=function(l,R){var X=this,ht=this,At=ht.get("graph"),Ut=ht.get("delegate");if(!Ut||Ut.destroyed){var Yt=At.get("group"),qt=ht.get("delegateStyle")||_;Ut=Yt.addShape("circle",{attrs:it({r:R/1.5,x:l.x,y:l.y},qt),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?Ut.on("mousewheel",function(Ue){ht.scaleRByWheel(Ue)}):this.get("scaleRBy")==="drag"&&(Ut.on("dragstart",function(Ue){ht.set("dragging",!0),ht.set("cacheCenter",{x:Ue.x,y:Ue.y}),ht.set("dragPrePos",{x:Ue.x,y:Ue.y})}),Ut.on("drag",function(Ue){ht.scaleRByDrag(Ue)}),Ut.on("dragend",function(Ue){ht.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?Ut.on("mousewheel",function(Ue){X.scaleDByWheel(Ue)}):this.get("scaleDBy")==="drag"&&(Ut.on("dragstart",function(Ue){ht.set("dragging",!0),ht.set("cacheCenter",{x:Ue.x,y:Ue.y}),ht.set("dragPrePos",{x:Ue.x,y:Ue.y})}),Ut.on("drag",function(Ue){X.scaleDByDrag(Ue)}),Ut.on("dragend",function(Ue){ht.set("dragging",!1)})))}else Ut.attr({x:l.x,y:l.y,r:R/1.5});if(ht.get("showDPercent")){var oe=Math.round((ht.get("d")-ht.get("minD"))/(ht.get("maxD")-ht.get("minD"))*100),Te=ht.get("dPercentText"),Ge=l.y+R/1.5+16;!Te||Te.destroyed?(Te=At.get("group").addShape("text",{attrs:{text:oe+"%",x:l.x,y:Ge,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),ht.set("dPercentText",Te)):Te.attr({text:oe+"%",x:l.x,y:Ge})}ht.set("delegate",Ut)},v.prototype.clear=function(){var l=this.get("graph");this.restoreCache(),l.refreshPositions();var R=this.get("delegate");R&&!R.destroyed&&(R.remove(),R.destroy());var X=this.get("dPercentText");X&&!X.destroyed&&(X.remove(),X.destroy())},v.prototype.destroy=function(){this.clear()},v}(s),Q=function(){var kt=function(l,R){return(kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,ht){X.__proto__=ht}||function(X,ht){for(var At in ht)Object.prototype.hasOwnProperty.call(ht,At)&&(X[At]=ht[At])})(l,R)};return function(v,l){function R(){this.constructor=v}kt(v,l),v.prototype=l===null?Object.create(l):(R.prototype=l.prototype,new R)}}();f()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var k=function(kt){function v(){return kt!==null&&kt.apply(this,arguments)||this}return Q(v,kt),v.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(R){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `},zoomSensitivity:2}},v.prototype.init=function(){var l=this,R=this.get("graph"),X=this.get("getContent")(R),ht=X;Object(r.x)(X)&&(ht=Object(m.b)(X));var At=this.get("className");ht.setAttribute("class",At||"g6-component-toolbar");var Ut=this.get("container");Ut||(Ut=this.get("graph").get("container")),Object(r.x)(Ut)&&(Ut=document.getElementById(Ut)),Ut.appendChild(ht),this.set("toolBar",ht);var Yt=this.get("handleClick");ht.addEventListener("click",function(oe){var Te=function(Ue){if(!Ue)return[];if(Ue.composedPath)return Ue.composedPath();for(var Ve=[],vn=Ue.target;vn;){if(Ve.push(vn),vn.tagName==="HTML")return Ve.push(document,window),Ve;vn=vn.parentElement}return Ve}(oe).filter(function(Ue){return Ue.nodeName==="LI"});if(Te.length!==0){var Ge=Te[0].getAttribute("code");Ge&&(Yt?Yt(Ge,R):l.handleDefaultOperator(Ge,R))}});var qt=this.get("position");qt&&Object(m.c)(ht,{top:qt.y+"px",left:qt.x+"px"}),this.bindUndoRedo()},v.prototype.bindUndoRedo=function(){var l=this.get("graph"),R=document.querySelector('.g6-component-toolbar li[code="undo"]'),X=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),ht=document.querySelector('.g6-component-toolbar li[code="redo"]'),At=document.querySelector('.g6-component-toolbar li[code="redo"] svg');R&&X&&ht&&At&&l.on("stackchange",function(Ut){var Yt=Ut.undoStack,qt=Ut.redoStack,oe=Yt.length,Te=qt.length;oe===1?(R.setAttribute("style","cursor: not-allowed"),X.setAttribute("style","opacity: 0.4")):(R.removeAttribute("style"),X.removeAttribute("style")),Te===0?(ht.setAttribute("style","cursor: not-allowed"),At.setAttribute("style","opacity: 0.4")):(ht.removeAttribute("style"),At.removeAttribute("style"))})},v.prototype.undo=function(){var l=this.get("graph"),R=l.getUndoStack();if(R&&R.length!==0){var X=R.pop();if(X){var ht=X.action;l.pushStack(ht,Object(r.c)(X.data),"redo");var At=X.data.before;if(ht==="add"&&(At=X.data.after),!At)return;switch(ht){case"visible":Object.keys(At).forEach(function(Ut){var Yt=At[Ut];Yt&&Yt.forEach(function(qt){var oe=l.findById(qt.id);qt.visible?l.showItem(oe,!1):l.hideItem(oe,!1)})});break;case"render":case"update":Object.keys(At).forEach(function(Ut){var Yt=At[Ut];Yt&&Yt.forEach(function(qt){l.updateItem(qt.id,qt,!1)})});break;case"changedata":l.changeData(At,!1);break;case"delete":Object.keys(At).forEach(function(Ut){var Yt=At[Ut];Yt&&Yt.forEach(function(qt){var oe=qt.itemType;delete qt.itemType,l.addItem(oe,qt,!1)})});break;case"add":Object.keys(At).forEach(function(Ut){var Yt=At[Ut];Yt&&Yt.forEach(function(qt){l.removeItem(qt.id,!1)})});break;case"updateComboTree":Object.keys(At).forEach(function(Ut){var Yt=At[Ut];Yt&&Yt.forEach(function(qt){l.updateComboTree(qt.id,qt.parentId,!1)})})}}}},v.prototype.redo=function(){var l=this.get("graph"),R=l.getRedoStack();if(R&&R.length!==0){var X=R.pop();if(X){var ht=X.action,At=X.data.after;if(l.pushStack(ht,Object(r.c)(X.data)),ht==="delete"&&(At=X.data.before),!At)return;switch(ht){case"visible":Object.keys(At).forEach(function(Ut){var Yt=At[Ut];Yt&&Yt.forEach(function(qt){var oe=l.findById(qt.id);qt.visible?l.showItem(oe,!1):l.hideItem(oe,!1)})});break;case"render":case"update":Object.keys(At).forEach(function(Ut){var Yt=At[Ut];Yt&&Yt.forEach(function(qt){l.updateItem(qt.id,qt,!1)})});break;case"changedata":l.changeData(At,!1);break;case"delete":At.edges&&At.edges.forEach(function(Ut){l.removeItem(Ut.id,!1)}),At.nodes&&At.nodes.forEach(function(Ut){l.removeItem(Ut.id,!1)}),At.combos&&At.combos.forEach(function(Ut){l.removeItem(Ut.id,!1)});break;case"add":Object.keys(At).forEach(function(Ut){var Yt=At[Ut];Yt&&Yt.forEach(function(qt){var oe=qt.itemType;delete qt.itemType,l.addItem(oe,qt,!1)})});break;case"updateComboTree":Object.keys(At).forEach(function(Ut){var Yt=At[Ut];Yt&&Yt.forEach(function(qt){l.updateComboTree(qt.id,qt.parentId,!1)})})}}}},v.prototype.handleDefaultOperator=function(l,R){var X=R.getZoom();switch(l){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":var ht=1/(1-.05*this.get("zoomSensitivity"));if(ht*X>(this.get("maxZoom")||R.get("maxZoom")))return;R.zoomTo(X*ht);break;case"zoomIn":var At=1-.05*this.get("zoomSensitivity");if(At*X<(this.get("minZoom")||R.get("minZoom")))return;R.zoomTo(X*At);break;case"realZoom":R.zoomTo(1);break;case"autoZoom":R.fitView([20,20])}},v.prototype.destroy=function(){var l=this.get("toolBar");if(l){var R=this.get("container");R||(R=this.get("graph").get("container")),Object(r.x)(R)&&(R=document.getElementById(R)),R.removeChild(l)}var X=this.get("handleClick");X&&l.removeEventListener("click",X)},v}(s),p=function(){var kt=function(l,R){return(kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,ht){X.__proto__=ht}||function(X,ht){for(var At in ht)Object.prototype.hasOwnProperty.call(ht,At)&&(X[At]=ht[At])})(l,R)};return function(v,l){function R(){this.constructor=v}kt(v,l),v.prototype=l===null?Object.create(l):(R.prototype=l.prototype,new R)}}();f()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var y=function(kt){function v(){return kt!==null&&kt.apply(this,arguments)||this}return p(v,kt),v.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(R){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+R.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+R.item.getID()+`</span>
        `},shouldBegin:function(R){return!0},itemTypes:["node","edge","combo"]}},v.prototype.getEvents=function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},v.prototype.init=function(){var l=this.get("className")||"g6-component-tooltip",R=Object(m.b)("<div class="+l+"></div>"),X=this.get("container");X||(X=this.get("graph").get("container")),Object(r.x)(X)&&(X=document.getElementById(X)),Object(m.c)(R,{position:"absolute",visibility:"hidden"}),X.appendChild(R),this.set("tooltip",R)},v.prototype.onMouseEnter=function(l){var R=this.get("itemTypes");if(!l.item||!l.item.getType||R.indexOf(l.item.getType())!==-1){var X=l.item,ht=this.get("graph");this.currentTarget=X,this.showTooltip(l),ht.emit("tooltipchange",{item:l.item,action:"show"})}},v.prototype.onMouseMove=function(l){var R=this.get("itemTypes");l.item&&l.item.getType&&R.indexOf(l.item.getType())===-1||this.currentTarget&&l.item===this.currentTarget&&this.showTooltip(l)},v.prototype.onMouseLeave=function(){this.hideTooltip(),this.get("graph").emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},v.prototype.showTooltip=function(l){if(l.item){var R=this.get("itemTypes");if(!l.item.getType||R.indexOf(l.item.getType())!==-1){var X=this.get("tooltip"),ht=this.get("getContent")(l);Object(r.x)(ht)?X.innerHTML=ht:X.innerHTML=ht.outerHTML,this.updatePosition(l)}}},v.prototype.hideTooltip=function(){var l=this.get("tooltip");l&&Object(m.c)(l,{visibility:"hidden"})},v.prototype.updatePosition=function(l){var R=this.get("shouldBegin"),X=this.get("tooltip");if(R(l)){var ht=this.get("graph"),At=ht.get("width"),Ut=ht.get("height"),Yt=this.get("offsetX")||0,qt=this.get("offsetY")||0,oe=ht.getPointByClient(l.clientX,l.clientY),Te=ht.getCanvasByPoint(oe.x,oe.y),Ge=Te.x,Ue=Te.y;Ge+=Yt,Ue+=qt;var Ve=X.getBoundingClientRect();Ge+Ve.width>At&&(Ge=Ge-Ve.width-Yt),Ue+Ve.height>Ut&&(Ue=Ue-Ve.height-qt),Object(m.c)(X,{left:Ge+"px",top:Ue+"px",visibility:"visible"})}else Object(m.c)(X,{visibility:"hidden"})},v.prototype.hide=function(){this.onMouseLeave()},v.prototype.destroy=function(){var l=this.get("tooltip");if(l){var R=this.get("container");R||(R=this.get("graph").get("container")),Object(r.x)(R)&&(R=document.getElementById(R)),R.removeChild(l)}},v}(s),B=t(31),W={};function rt(kt,v){W[kt]=v}var st=function(){function kt(v){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=v,this.initCfg(),this.init()}return kt.prototype.translate=function(v){return v},kt.prototype.change=function(v){Object(r.a)(this.__cfg__,v),this.init()},kt.prototype.clone=function(){return this.constructor(this.__cfg__)},kt.prototype.getTicks=function(){var v=this;return Object(r.z)(this.ticks,function(l,R){return Object(r.v)(l)?l:{text:v.getText(l,R),tickValue:l,value:v.scale(l)}})},kt.prototype.getText=function(v,l){var R=this.formatter,X=R?R(v,l):v;return Object(r.s)(X)||!Object(r.r)(X.toString)?"":X.toString()},kt.prototype.getConfig=function(v){return this.__cfg__[v]},kt.prototype.init=function(){Object(r.a)(this,this.__cfg__),this.setDomain(),Object(r.p)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},kt.prototype.initCfg=function(){},kt.prototype.setDomain=function(){},kt.prototype.calculateTicks=function(){var v=this.tickMethod,l=[];if(Object(r.x)(v)){var R=W[v];if(!R)throw new Error("There is no method to to calculate ticks!");l=R(this)}else Object(r.r)(v)&&(l=v(this));return l},kt.prototype.rangeMin=function(){return Object(r.k)(this.range)},kt.prototype.rangeMax=function(){return Object(r.y)(this.range)},kt.prototype.calcPercent=function(v,l,R){return Object(r.t)(v)?(v-l)/(R-l):NaN},kt.prototype.calcValue=function(v,l,R){return l+v*(R-l)},kt}(),ut=t(1),Mt=function(kt){function v(){var l=kt!==null&&kt.apply(this,arguments)||this;return l.type="cat",l.isCategory=!0,l.cache=new Map,l}return Object(ut.b)(v,kt),v.prototype.translate=function(l){if(this.cache.has(l))return this.cache.get(l);var R=Object(r.l)(this.values,l);return R===-1&&(R=Object(r.t)(l)?l:NaN),this.cache.set(l,R),R},v.prototype.scale=function(l){var R=this.translate(l),X=this.calcPercent(R,this.min,this.max);return this.calcValue(X,this.rangeMin(),this.rangeMax())},v.prototype.invert=function(l){var R=this.max-this.min,X=this.calcPercent(l,this.rangeMin(),this.rangeMax()),ht=Math.round(R*X)+this.min;return ht<this.min||ht>this.max?NaN:this.values[ht]},v.prototype.getText=function(l){for(var R=[],X=1;X<arguments.length;X++)R[X-1]=arguments[X];var ht=l;return Object(r.t)(l)&&!this.values.includes(l)&&(ht=this.values[ht]),kt.prototype.getText.apply(this,Object(ut.d)([ht],R))},v.prototype.initCfg=function(){this.tickMethod="cat"},v.prototype.setDomain=function(){if(Object(r.s)(this.getConfig("min"))&&(this.min=0),Object(r.s)(this.getConfig("max"))){var l=this.values.length;this.max=l>1?l-1:l}this.cache&&this.cache.clear()},v}(st),bt=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,xt="[^\\s]+",Ot=/\[([^]*?)\]/gm;function jt(kt,v){for(var l=[],R=0,X=kt.length;R<X;R++)l.push(kt[R].substr(0,v));return l}var Dt=function(v){return function(l,R){var X=R[v].map(function(ht){return ht.toLowerCase()}).indexOf(l.toLowerCase());return X>-1?X:null}};function zt(kt){for(var v=[],l=1;l<arguments.length;l++)v[l-1]=arguments[l];for(var R=0,X=v;R<X.length;R++){var ht=X[R];for(var At in ht)kt[At]=ht[At]}return kt}var Tt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Vt=["January","February","March","April","May","June","July","August","September","October","November","December"],Ht=jt(Vt,3),re={dayNamesShort:jt(Tt,3),dayNames:Tt,monthNamesShort:Ht,monthNames:Vt,amPm:["am","pm"],DoFn:function(v){return v+["th","st","nd","rd"][v%10>3?0:(v-v%10!=10?1:0)*v%10]}},pe=zt({},re),me=function(v){return pe=zt(pe,v)},Ee=function(v){return v.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Le=function(v,l){for(l===void 0&&(l=2),v=String(v);v.length<l;)v="0"+v;return v},Je={D:function(v){return String(v.getDate())},DD:function(v){return Le(v.getDate())},Do:function(v,l){return l.DoFn(v.getDate())},d:function(v){return String(v.getDay())},dd:function(v){return Le(v.getDay())},ddd:function(v,l){return l.dayNamesShort[v.getDay()]},dddd:function(v,l){return l.dayNames[v.getDay()]},M:function(v){return String(v.getMonth()+1)},MM:function(v){return Le(v.getMonth()+1)},MMM:function(v,l){return l.monthNamesShort[v.getMonth()]},MMMM:function(v,l){return l.monthNames[v.getMonth()]},YY:function(v){return Le(String(v.getFullYear()),4).substr(2)},YYYY:function(v){return Le(v.getFullYear(),4)},h:function(v){return String(v.getHours()%12||12)},hh:function(v){return Le(v.getHours()%12||12)},H:function(v){return String(v.getHours())},HH:function(v){return Le(v.getHours())},m:function(v){return String(v.getMinutes())},mm:function(v){return Le(v.getMinutes())},s:function(v){return String(v.getSeconds())},ss:function(v){return Le(v.getSeconds())},S:function(v){return String(Math.round(v.getMilliseconds()/100))},SS:function(v){return Le(Math.round(v.getMilliseconds()/10),2)},SSS:function(v){return Le(v.getMilliseconds(),3)},a:function(v,l){return v.getHours()<12?l.amPm[0]:l.amPm[1]},A:function(v,l){return v.getHours()<12?l.amPm[0].toUpperCase():l.amPm[1].toUpperCase()},ZZ:function(v){var l=v.getTimezoneOffset();return(l>0?"-":"+")+Le(100*Math.floor(Math.abs(l)/60)+Math.abs(l)%60,4)},Z:function(v){var l=v.getTimezoneOffset();return(l>0?"-":"+")+Le(Math.floor(Math.abs(l)/60),2)+":"+Le(Math.abs(l)%60,2)}},On=function(v){return+v-1},gn=[null,"[1-9]\\d?"],Vn=[null,xt],kn=["isPm",xt,function(kt,v){var l=kt.toLowerCase();return l===v.amPm[0]?0:l===v.amPm[1]?1:null}],Wn=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(kt){var v=(kt+"").match(/([+-]|\d\d)/gi);if(v){var l=60*+v[1]+parseInt(v[2],10);return v[0]==="+"?l:-l}return 0}],Dn={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+xt,function(kt){return parseInt(kt,10)}],M:["month","[1-9]\\d?",On],MM:["month","\\d\\d",On],YY:["year","\\d\\d",function(kt){var v=+(""+new Date().getFullYear()).substr(0,2);return+(""+(+kt>68?v-1:v)+kt)}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(kt){return 100*+kt}],SS:["millisecond","\\d\\d",function(kt){return 10*+kt}],SSS:["millisecond","\\d{3}"],d:gn,dd:gn,ddd:Vn,dddd:Vn,MMM:["month",xt,Dt("monthNamesShort")],MMMM:["month",xt,Dt("monthNames")],a:kn,A:kn,ZZ:Wn,Z:Wn},Nn={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Qn=function(v){return zt(Nn,v)},ir=function(v,l,R){if(l===void 0&&(l=Nn.default),R===void 0&&(R={}),typeof v=="number"&&(v=new Date(v)),Object.prototype.toString.call(v)!=="[object Date]"||isNaN(v.getTime()))throw new Error("Invalid Date pass to format");var X=[];l=(l=Nn[l]||l).replace(Ot,function(At,Ut){return X.push(Ut),"@@@"});var ht=zt(zt({},pe),R);return(l=l.replace(bt,function(At){return Je[At](v,ht)})).replace(/@@@/g,function(){return X.shift()})};function hr(kt,v,l){if(l===void 0&&(l={}),typeof v!="string")throw new Error("Invalid format in fecha parse");if(v=Nn[v]||v,kt.length>1e3)return null;var R={year:new Date().getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},X=[],ht=[],At=v.replace(Ot,function(Hn,xr){return ht.push(Ee(xr)),"@@@"}),Ut={},Yt={};At=Ee(At).replace(bt,function(Hn){var xr=Dn[Hn],Or=xr[0],Rr=xr[1],yi=xr[3];if(Ut[Or])throw new Error("Invalid format. "+Or+" specified twice in format");return Ut[Or]=!0,yi&&(Yt[yi]=!0),X.push(xr),"("+Rr+")"}),Object.keys(Yt).forEach(function(Hn){if(!Ut[Hn])throw new Error("Invalid format. "+Hn+" is required in specified format")}),At=At.replace(/@@@/g,function(){return ht.shift()});var qt=kt.match(new RegExp(At,"i"));if(!qt)return null;for(var oe=zt(zt({},pe),l),Te=1;Te<qt.length;Te++){var Ge=X[Te-1],Ue=Ge[0],Ve=Ge[2],vn=Ve?Ve(qt[Te],oe):+qt[Te];if(vn==null)return null;R[Ue]=vn}R.isPm===1&&R.hour!=null&&+R.hour!=12?R.hour=+R.hour+12:R.isPm===0&&+R.hour==12&&(R.hour=0);for(var Tn=new Date(R.year,R.month,R.day,R.hour,R.minute,R.second,R.millisecond),Ln=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Un=(Te=0,Ln.length);Te<Un;Te++)if(Ut[Ln[Te][0]]&&R[Ln[Te][0]]!==Tn[Ln[Te][1]]())return null;return R.timezoneOffset==null?Tn:new Date(Date.UTC(R.year,R.month,R.day,R.hour,R.minute-R.timezoneOffset,R.second,R.millisecond))}var Er={format:ir,parse:hr,defaultI18n:re,setGlobalDateI18n:me,setGlobalDateMasks:Qn};function mr(kt,v){return(u.format||Er.format)(kt,v)}function dr(kt){return Object(r.x)(kt)&&(kt=kt.indexOf("T")>0?new Date(kt).getTime():new Date(kt.replace(/-/gi,"/")).getTime()),Object(r.o)(kt)&&(kt=kt.getTime()),kt}var Br=36e5,ii=24*Br,mi=31*ii,Pi=[["HH:mm:ss",1e3],["HH:mm:ss",1e4],["HH:mm:ss",3e4],["HH:mm",6e4],["HH:mm",6e5],["HH:mm",18e5],["HH",Br],["HH",6*Br],["HH",12*Br],["YYYY-MM-DD",ii],["YYYY-MM-DD",4*ii],["YYYY-WW",7*ii],["YYYY-MM",mi],["YYYY-MM",4*mi],["YYYY-MM",6*mi],["YYYY",380*ii]];function sa(kt,v,l){var R,X=(R=function(Ut){return Ut[1]},function(At,Ut,Yt,qt){for(var oe=Object(r.s)(Yt)?0:Yt,Te=Object(r.s)(qt)?At.length:qt;oe<Te;){var Ge=oe+Te>>>1;R(At[Ge])>Ut?Te=Ge:oe=Ge+1}return oe})(Pi,(v-kt)/l)-1,ht=Pi[X];return X<0?ht=Pi[0]:X>=Pi.length&&(ht=Object(r.y)(Pi)),ht}var Pa=function(kt){function v(){var l=kt!==null&&kt.apply(this,arguments)||this;return l.type="timeCat",l}return Object(ut.b)(v,kt),v.prototype.translate=function(l){l=dr(l);var R=this.values.indexOf(l);return R===-1&&(R=Object(r.t)(l)&&l<this.values.length?l:NaN),R},v.prototype.getText=function(l,R){var X=this.translate(l);if(X>-1){var ht=this.values[X],At=this.formatter;return ht=At?At(ht,R):mr(ht,this.mask)}return l},v.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},v.prototype.setDomain=function(){var l=this.values;Object(r.f)(l,function(R,X){l[X]=dr(R)}),l.sort(function(R,X){return R-X}),kt.prototype.setDomain.call(this)},v}(Mt),Mi=function(kt){function v(){var l=kt!==null&&kt.apply(this,arguments)||this;return l.isContinuous=!0,l}return Object(ut.b)(v,kt),v.prototype.scale=function(l){if(Object(r.s)(l))return NaN;var R=this.rangeMin(),X=this.rangeMax();return this.max===this.min?R:R+this.getScalePercent(l)*(X-R)},v.prototype.init=function(){kt.prototype.init.call(this);var l=this.ticks,R=Object(r.k)(l),X=Object(r.y)(l);R<this.min&&(this.min=R),X>this.max&&(this.max=X),Object(r.s)(this.minLimit)||(this.min=R),Object(r.s)(this.maxLimit)||(this.max=X)},v.prototype.setDomain=function(){var l=Object(r.j)(this.values),R=l.min,X=l.max;Object(r.s)(this.min)&&(this.min=R),Object(r.s)(this.max)&&(this.max=X),this.min>this.max&&(this.min=R,this.max=X)},v.prototype.calculateTicks=function(){var l=this,R=kt.prototype.calculateTicks.call(this);return this.nice||(R=Object(r.g)(R,function(X){return X>=l.min&&X<=l.max})),R},v.prototype.getScalePercent=function(l){var R=this.max,X=this.min;return(l-X)/(R-X)},v.prototype.getInvertPercent=function(l){return(l-this.rangeMin())/(this.rangeMax()-this.rangeMin())},v}(st),Ki=function(kt){function v(){var l=kt!==null&&kt.apply(this,arguments)||this;return l.type="linear",l.isLinear=!0,l}return Object(ut.b)(v,kt),v.prototype.invert=function(l){var R=this.getInvertPercent(l);return this.min+R*(this.max-this.min)},v.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},v}(Mi);function fa(kt,v){var l=Math.E;return v>=0?Math.pow(l,Math.log(v)/kt):-1*Math.pow(l,Math.log(-v)/kt)}function oa(kt,v){return kt===1?1:Math.log(v)/Math.log(kt)}function pa(kt,v,l){Object(r.s)(l)&&(l=Math.max.apply(null,kt));var R=l;return Object(r.f)(kt,function(X){X>0&&X<R&&(R=X)}),R===l&&(R=l/v),R>1&&(R=1),R}var La=function(kt){function v(){var l=kt!==null&&kt.apply(this,arguments)||this;return l.type="log",l}return Object(ut.b)(v,kt),v.prototype.invert=function(l){var R,X=this.base,ht=oa(X,this.max),At=this.rangeMin(),Ut=this.rangeMax()-At,Yt=this.positiveMin;if(Yt){if(l===0)return 0;var qt=1/(ht-(R=oa(X,Yt/X)))*Ut;if(l<qt)return l/qt*Yt}else R=oa(X,this.min);var oe=(l-At)/Ut*(ht-R)+R;return Math.pow(X,oe)},v.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},v.prototype.setDomain=function(){kt.prototype.setDomain.call(this);var l=this.min;if(l<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");l===0&&(this.positiveMin=pa(this.values,this.base,this.max))},v.prototype.getScalePercent=function(l){var R=this.max,X=this.min;if(R===X||l<=0)return 0;var ht=this.base,At=this.positiveMin;return At&&(X=1*At/ht),l<At?l/At/(oa(ht,R)-oa(ht,X)):(oa(ht,l)-oa(ht,X))/(oa(ht,R)-oa(ht,X))},v}(Mi),Yr=function(kt){function v(){var l=kt!==null&&kt.apply(this,arguments)||this;return l.type="pow",l}return Object(ut.b)(v,kt),v.prototype.invert=function(l){var R=this.getInvertPercent(l),X=this.exponent,ht=fa(X,this.max),At=fa(X,this.min),Ut=R*(ht-At)+At,Yt=Ut>=0?1:-1;return Math.pow(Ut,X)*Yt},v.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},v.prototype.getScalePercent=function(l){var R=this.max,X=this.min;if(R===X)return 0;var ht=this.exponent;return(fa(ht,l)-fa(ht,X))/(fa(ht,R)-fa(ht,X))},v}(Mi),Ea=function(kt){function v(){var l=kt!==null&&kt.apply(this,arguments)||this;return l.type="time",l}return Object(ut.b)(v,kt),v.prototype.getText=function(l,R){var X=this.translate(l),ht=this.formatter;return ht?ht(X,R):mr(X,this.mask)},v.prototype.scale=function(l){var R=l;return(Object(r.x)(R)||Object(r.o)(R))&&(R=this.translate(R)),kt.prototype.scale.call(this,R)},v.prototype.translate=function(l){return dr(l)},v.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},v.prototype.setDomain=function(){var l=this.values,R=this.getConfig("min"),X=this.getConfig("max");if(Object(r.s)(R)&&Object(r.t)(R)||(this.min=this.translate(this.min)),Object(r.s)(X)&&Object(r.t)(X)||(this.max=this.translate(this.max)),l&&l.length){var ht=[],At=1/0,Ut=At,Yt=0;Object(r.f)(l,function(qt){var oe=dr(qt);if(isNaN(oe))throw new TypeError("Invalid Time: "+qt+" in time scale!");At>oe?(Ut=At,At=oe):Ut>oe&&(Ut=oe),Yt<oe&&(Yt=oe),ht.push(oe)}),l.length>1&&(this.minTickInterval=Ut-At),Object(r.s)(R)&&(this.min=At),Object(r.s)(X)&&(this.max=Yt)}},v}(Ki),Pr=function(kt){function v(){var l=kt!==null&&kt.apply(this,arguments)||this;return l.type="quantize",l}return Object(ut.b)(v,kt),v.prototype.invert=function(l){var R=this.ticks,X=R.length,ht=this.getInvertPercent(l),At=Math.floor(ht*(X-1));if(At>=X-1)return Object(r.y)(R);if(At<0)return Object(r.k)(R);var Ut=R[At],Yt=At/(X-1);return Ut+(ht-Yt)/((At+1)/(X-1)-Yt)*(R[At+1]-Ut)},v.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},v.prototype.calculateTicks=function(){var l=kt.prototype.calculateTicks.call(this);return this.nice||(Object(r.y)(l)!==this.max&&l.push(this.max),Object(r.k)(l)!==this.min&&l.unshift(this.min)),l},v.prototype.getScalePercent=function(l){var R=this.ticks;if(l<Object(r.k)(R))return 0;if(l>Object(r.y)(R))return 1;var X=0;return Object(r.f)(R,function(ht,At){if(!(l>=ht))return!1;X=At}),X/(R.length-1)},v}(Mi),si=function(kt){function v(){var l=kt!==null&&kt.apply(this,arguments)||this;return l.type="quantile",l}return Object(ut.b)(v,kt),v.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},v}(Pr),ti={};function $r(kt,v){if(function(l){return ti[l]}(kt))throw new Error("type '"+kt+"' existed.");ti[kt]=v}var ui=function(kt){function v(){var l=kt!==null&&kt.apply(this,arguments)||this;return l.type="identity",l.isIdentity=!0,l}return Object(ut.b)(v,kt),v.prototype.calculateTicks=function(){return this.values},v.prototype.scale=function(l){return this.values[0]!==l&&Object(r.t)(l)?l:this.range[0]},v.prototype.invert=function(l){var R=this.range;return l<R[0]||l>R[1]?NaN:this.values[0]},v}(st),li=[1,5,2,2.5,4,3],xi=100*Number.EPSILON;function Ci(kt,v,l,R,X,ht){var At=Object(r.E)(v),Ut=Object(r.l)(v,kt),Yt=0,qt=function(oe,Te){return(oe%Te+Te)%Te}(R,ht);return(qt<xi||ht-qt<xi)&&R<=0&&X>=0&&(Yt=1),1-Ut/(At-1)-l+Yt}function di(kt,v,l){var R=Object(r.E)(v);return 1-Object(r.l)(v,kt)/(R-1)-l+1}function Ti(kt,v,l,R,X,ht){var At=(kt-1)/(ht-X),Ut=(v-1)/(Math.max(ht,R)-Math.min(l,X));return 2-Math.max(At/Ut,Ut/At)}function pi(kt,v){return kt>=v?2-(kt-1)/(v-1):1}function Ni(kt,v,l,R){var X=v-kt;return 1-.5*(Math.pow(v-R,2)+Math.pow(kt-l,2))/Math.pow(.1*X,2)}function Bi(kt,v,l){var R=v-kt;if(l>R){var X=(l-R)/2;return 1-Math.pow(X,2)/Math.pow(.1*R,2)}return 1}function Fi(kt,v,l,R,X,ht){if(l===void 0&&(l=5),R===void 0&&(R=!0),X===void 0&&(X=li),ht===void 0&&(ht=[.25,.2,.5,.05]),typeof kt!="number"||typeof v!="number")return{min:0,max:0,ticks:[]};if(kt===v||l===1)return{min:kt,max:v,ticks:[kt]};for(var At={score:-2,lmin:0,lmax:0,lstep:0},Ut=1;Ut<1/0;){for(var Yt=0,qt=X;Yt<qt.length;Yt++){var oe=qt[Yt],Te=di(oe,X,Ut);if(Number.isNaN(Te))throw new Error("NaN");if(ht[0]*Te+ht[1]+ht[2]+ht[3]<At.score){Ut=1/0;break}for(var Ge=2;Ge<1/0;){var Ue=pi(Ge,l);if(ht[0]*Te+ht[1]+ht[2]*Ue+ht[3]<At.score)break;for(var Ve=(v-kt)/(Ge+1)/Ut/oe,vn=Math.ceil(Math.log10(Ve));vn<1/0;){var Tn=Ut*oe*Math.pow(10,vn),Ln=Bi(kt,v,Tn*(Ge-1));if(ht[0]*Te+ht[1]*Ln+ht[2]*Ue+ht[3]<At.score)break;var Un=Math.floor(v/Tn)*Ut-(Ge-1)*Ut,Hn=Math.ceil(kt/Tn)*Ut;if(Un>Hn)vn+=1;else{for(var xr=Un;xr<=Hn;xr+=1){var Or=xr*(Tn/Ut),Rr=Or+Tn*(Ge-1),yi=Tn,Xi=Ci(oe,X,Ut,Or,Rr,yi),Zr=Ni(kt,v,Or,Rr),ki=Ti(Ge,l,kt,v,Or,Rr),Ba=ht[0]*Xi+ht[1]*Zr+ht[2]*ki+1*ht[3];Ba>At.score&&(!R||Or<=kt&&Rr>=v)&&(At.lmin=Or,At.lmax=Rr,At.lstep=yi,At.score=Ba)}vn+=1}}Ge+=1}}Ut+=1}for(var Ha=Number.isInteger(At.lstep)?0:Math.ceil(Math.abs(Math.log10(At.lstep))),Ka=[],Ja=At.lmin;Ja<=At.lmax;Ja+=At.lstep)Ka.push(Ja);var ya=Ha?Object(r.z)(Ka,function(Mo){return Number.parseFloat(Mo.toFixed(Ha))}):Ka;return{min:Math.min(kt,Object(r.k)(ya)),max:Math.max(v,Object(r.y)(ya)),ticks:ya}}function ma(kt){var v=kt.values,l=kt.tickInterval,R=kt.tickCount,X=v;if(Object(r.t)(l))return Object(r.g)(X,function(Yt,qt){return qt%l==0});var ht=kt.min,At=kt.max;if(Object(r.s)(ht)&&(ht=0),Object(r.s)(At)&&(At=v.length-1),Object(r.t)(R)&&R<At-ht){var Ut=Fi(ht,At,R,!1,[1,2,5,3,4,7,6,8,9]).ticks;return Object(r.g)(Ut,function(Yt){return Yt>=ht&&Yt<=At}).map(function(Yt){return v[Yt]})}return v.slice(ht,At+1)}var ua=Math.sqrt(50),Ra=Math.sqrt(10),xa=Math.sqrt(2),Ma=function(){function kt(){this._domain=[0,1]}return kt.prototype.domain=function(v){return v?(this._domain=Array.from(v,Number),this):this._domain.slice()},kt.prototype.nice=function(v){var l,R;v===void 0&&(v=5);var X,ht=this._domain.slice(),At=0,Ut=this._domain.length-1,Yt=this._domain[At],qt=this._domain[Ut];return qt<Yt&&(Yt=(l=[qt,Yt])[0],qt=l[1],At=(R=[Ut,At])[0],Ut=R[1]),(X=Qi(Yt,qt,v))>0?X=Qi(Yt=Math.floor(Yt/X)*X,qt=Math.ceil(qt/X)*X,v):X<0&&(X=Qi(Yt=Math.ceil(Yt*X)/X,qt=Math.floor(qt*X)/X,v)),X>0?(ht[At]=Math.floor(Yt/X)*X,ht[Ut]=Math.ceil(qt/X)*X,this.domain(ht)):X<0&&(ht[At]=Math.ceil(Yt*X)/X,ht[Ut]=Math.floor(qt*X)/X,this.domain(ht)),this},kt.prototype.ticks=function(v){return v===void 0&&(v=5),function(l,R,X){var ht,At,Ut,Yt,qt=-1;if(X=+X,(l=+l)==(R=+R)&&X>0)return[l];if((ht=R<l)&&(At=l,l=R,R=At),(Yt=Qi(l,R,X))===0||!isFinite(Yt))return[];if(Yt>0)for(l=Math.ceil(l/Yt),R=Math.floor(R/Yt),Ut=new Array(At=Math.ceil(R-l+1));++qt<At;)Ut[qt]=(l+qt)*Yt;else for(l=Math.floor(l*Yt),R=Math.ceil(R*Yt),Ut=new Array(At=Math.ceil(l-R+1));++qt<At;)Ut[qt]=(l-qt)/Yt;return ht&&Ut.reverse(),Ut}(this._domain[0],this._domain[this._domain.length-1],v||5)},kt}();function Qi(kt,v,l){var R=(v-kt)/Math.max(0,l),X=Math.floor(Math.log(R)/Math.LN10),ht=R/Math.pow(10,X);return X>=0?(ht>=ua?10:ht>=Ra?5:ht>=xa?2:1)*Math.pow(10,X):-Math.pow(10,-X)/(ht>=ua?10:ht>=Ra?5:ht>=xa?2:1)}function ka(kt,v,l){return(l==="ceil"?Math.ceil(kt/v):l==="floor"?Math.floor(kt/v):Math.round(kt/v))*v}function vo(kt,v,l){var R=ka(kt,l,"floor"),X=ka(v,l,"ceil");R=Object(r.h)(R,l),X=Object(r.h)(X,l);for(var ht=[],At=R;At<=X;At+=l){var Ut=Object(r.h)(At,l);ht.push(Ut)}return{min:R,max:X,ticks:ht}}function za(kt,v,l){var R,X=kt.minLimit,ht=kt.maxLimit,At=kt.min,Ut=kt.max,Yt=kt.tickCount,qt=Yt===void 0?5:Yt,oe=Object(r.s)(X)?Object(r.s)(v)?At:v:X,Te=Object(r.s)(ht)?Object(r.s)(l)?Ut:l:ht;if(oe>Te&&(Te=(R=[oe,Te])[0],oe=R[1]),qt<=2)return[oe,Te];for(var Ge=(Te-oe)/(qt-1),Ue=[],Ve=0;Ve<qt;Ve++)Ue.push(oe+Ge*Ve);return Ue}function Ga(kt,v,l){l===void 0&&(l=5);var R={max:0,min:0,ticks:[]};if(kt===v)return{max:v,min:kt,ticks:[kt]};var X=(v-kt)/l,ht=Math.pow(10,Math.floor(Math.log10(X))),At=ht<1?Math.ceil(Math.abs(Math.log10(ht))):0,Ut=ht;2*ht-X<1.5*(X-Ut)&&5*ht-X<2.75*(X-(Ut=2*ht))&&10*ht-X<1.5*(X-(Ut=5*ht))&&(Ut=10*ht);var Yt=Math.ceil(v/Ut),qt=Math.floor(kt/Ut);R.max=Math.max(Yt*Ut,v),R.min=Math.min(qt*Ut,kt);for(var oe=Number.parseFloat((qt*Ut).toFixed(At));oe<v;)R.ticks.push(oe),oe+=Ut,At&&(oe=Number.parseFloat(oe.toFixed(At)));return R.ticks.push(oe),R}function eo(kt,v){var l=kt.length*v;return v===1?kt[kt.length-1]:v===0?kt[0]:l%1!=0?kt[Math.ceil(l)-1]:kt.length%2==0?(kt[l-1]+kt[l])/2:kt[l]}function ae(kt){return new Date(kt).getFullYear()}function Kt(kt){return new Date(kt,0,1).getTime()}function te(kt){return new Date(kt).getMonth()}function Oe(kt,v){return new Date(kt,v,1).getTime()}rt("cat",ma),rt("time-cat",function(kt){var v=ma(kt),l=Object(r.y)(kt.values);return l!==Object(r.y)(v)&&v.push(l),v}),rt("wilkinson-extended",function(kt){var v=kt.min,l=kt.max,R=kt.tickCount,X=kt.nice,ht=kt.tickInterval,At=kt.minLimit,Ut=kt.maxLimit,Yt=Fi(v,l,R,X).ticks;return Object(r.s)(At)&&Object(r.s)(Ut)?ht?vo(v,l,ht).ticks:Yt:za(kt,Object(r.k)(Yt),Object(r.y)(Yt))}),rt("r-pretty",function(kt){var v=kt.min,l=kt.max,R=kt.tickCount,X=kt.tickInterval,ht=kt.minLimit,At=kt.maxLimit,Ut=Ga(v,l,R).ticks;return Object(r.s)(ht)&&Object(r.s)(At)?X?vo(v,l,X).ticks:Ut:za(kt,Object(r.k)(Ut),Object(r.y)(Ut))}),rt("time",function(kt){var v=kt.min,l=kt.max,R=kt.minTickInterval,X=kt.tickInterval,ht=kt.tickCount;if(X)ht=Math.ceil((l-v)/X);else{var At=(l-v)/(X=sa(v,l,ht)[1])/ht;At>1&&(X*=Math.ceil(At)),R&&X<R&&(X=R)}for(var Ut=[],Yt=v;Yt<l+X;Yt+=X)Ut.push(Yt);return Ut}),rt("time-pretty",function(kt){var v=kt.min,l=kt.max,R=kt.minTickInterval,X=kt.tickCount,ht=kt.tickInterval,At=[];ht||(ht=(l-v)/X,R&&ht<R&&(ht=R));var Ut=ae(v);if(ht>31536e6)for(var Yt=ae(l),qt=Math.ceil(ht/31536e6),oe=Ut;oe<=Yt+qt;oe+=qt)At.push(Kt(oe));else if(ht>mi){var Te=Math.ceil(ht/mi),Ge=te(v),Ue=function(Ka,Ja){var ya=ae(Ka),Mo=ae(Ja),jo=te(Ka);return 12*(Mo-ya)+(te(Ja)-jo)%12}(v,l);for(oe=0;oe<=Ue+Te;oe+=Te)At.push(Oe(Ut,oe+Ge))}else if(ht>ii){var Ve=(Hn=new Date(v)).getFullYear(),vn=Hn.getMonth(),Tn=Hn.getDate(),Ln=Math.ceil(ht/ii),Un=function(Ka,Ja){return Math.ceil((Ja-Ka)/ii)}(v,l);for(oe=0;oe<Un+Ln;oe+=Ln)At.push(new Date(Ve,vn,Tn+oe).getTime())}else if(ht>Br){Ve=(Hn=new Date(v)).getFullYear(),vn=Hn.getMonth(),Ln=Hn.getDate();var Hn,xr=Hn.getHours(),Or=Math.ceil(ht/Br),Rr=function(Ka,Ja){return Math.ceil((Ja-Ka)/Br)}(v,l);for(oe=0;oe<=Rr+Or;oe+=Or)At.push(new Date(Ve,vn,Ln,xr+oe).getTime())}else if(ht>6e4){var yi=function(Ka,Ja){return Math.ceil((Ja-Ka)/6e4)}(v,l),Xi=Math.ceil(ht/6e4);for(oe=0;oe<=yi+Xi;oe+=Xi)At.push(v+6e4*oe)}else{var Zr=ht;Zr<1e3&&(Zr=1e3);var ki=1e3*Math.floor(v/1e3),Ba=Math.ceil((l-v)/1e3),Ha=Math.ceil(Zr/1e3);for(oe=0;oe<Ba+Ha;oe+=Ha)At.push(ki+1e3*oe)}return At.length>=512&&console.warn("Notice: current ticks length("+At.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+ht+") is too small, increase the value to solve the problem!"),At}),rt("log",function(kt){var v,l=kt.base,R=kt.tickCount,X=kt.min,ht=kt.max,At=kt.values,Ut=oa(l,ht);if(X>0)v=Math.floor(oa(l,X));else{var Yt=pa(At,l,ht);v=Math.floor(oa(l,Yt))}for(var qt=Ut-v,oe=Math.ceil(qt/R),Te=[],Ge=v;Ge<Ut+oe;Ge+=oe)Te.push(Math.pow(l,Ge));return X<=0&&Te.unshift(0),Te}),rt("pow",function(kt){var v=kt.exponent,l=kt.tickCount,R=Math.ceil(fa(v,kt.max));return Ga(Math.floor(fa(v,kt.min)),R,l).ticks.map(function(X){var ht=X>=0?1:-1;return Math.pow(X,v)*ht})}),rt("quantile",function(kt){var v=kt.tickCount,l=kt.values;if(!l||!l.length)return[];for(var R=l.slice().sort(function(Ut,Yt){return Ut-Yt}),X=[],ht=0;ht<v;ht++){var At=ht/(v-1);X.push(eo(R,At))}return X}),rt("d3-linear",function(kt){var v=kt.min,l=kt.max,R=kt.tickInterval,X=kt.minLimit,ht=kt.maxLimit,At=function(Ut){var Yt=Ut.min,qt=Ut.max,oe=Ut.nice,Te=Ut.tickCount,Ge=new Ma;return Ge.domain([Yt,qt]),oe&&Ge.nice(Te),Ge.ticks(Te)}(kt);return Object(r.s)(X)&&Object(r.s)(ht)?R?vo(v,l,R).ticks:At:za(kt,Object(r.k)(At),Object(r.y)(At))}),$r("cat",Mt),$r("category",Mt),$r("identity",ui),$r("linear",Ki),$r("log",La),$r("pow",Yr),$r("time",Ea),$r("timeCat",Pa),$r("quantize",Pr),$r("quantile",si);var Ze=function(){for(var v=0,l=0,R=arguments.length;l<R;l++)v+=arguments[l].length;var X=Array(v),ht=0;for(l=0;l<R;l++)for(var At=arguments[l],Ut=0,Yt=At.length;Ut<Yt;Ut++,ht++)X[ht]=At[Ut];return X};function An(kt){return function(v){return Object(r.z)(v,function(l,R){return[R===0?"M":"L",l[0],l[1]]})}(kt)}function qn(kt,v,l,R){R===void 0&&(R=!0);var X=new Ki({values:kt}),ht=new Mt({values:Object(r.z)(kt,function(Ut,Yt){return Yt})}),At=Object(r.z)(kt,function(Ut,Yt){return[ht.scale(Yt)*v,l-X.scale(Ut)*l]});return R?function(Ut){if(Ut.length<=2)return An(Ut);var Yt=[];Object(r.f)(Ut,function(Ue){Object(r.q)(Ue,Yt.slice(Yt.length-2))||Yt.push(Ue[0],Ue[1])});var qt=B.a(Yt,!1),oe=Object(r.k)(Ut),Te=oe[0],Ge=oe[1];return qt.unshift(["M",Te,Ge]),qt}(At):An(At)}function rr(kt,v,l){for(var R=new Ki({values:kt}),X=new Mt({values:Object(r.z)(kt,function(oe,Te){return Te})}),ht=Object(r.z)(kt,function(oe,Te){return[X.scale(Te)*v,l-R.scale(oe)*l]}),At=[],Ut=0;Ut<ht.length;Ut++){var Yt=ht[Ut],qt=sn({x:Yt[0],y:Yt[1],y0:l,size:5});At.push.apply(At,qt)}return function(oe,Te){Te===void 0&&(Te=!0);var Ge=[],Ue=oe[0];Ge.push(["M",Ue.x,Ue.y]);for(var Ve=1,vn=oe.length;Ve<vn;Ve++)Ge.push(["L",oe[Ve].x,oe[Ve].y]);return Te&&(Ge.push(["L",Ue.x,Ue.y]),Ge.push(["z"])),Ge}(At)}function tn(kt,v,l,R){var X=Ze(kt),ht=function(At,Ut){var Yt=new Ki({values:At}),qt=Math.max(0,Yt.min);return Ut-Yt.scale(qt)*Ut}(R,l);return X.push(["L",v,ht]),X.push(["L",0,ht]),X.push(["Z"]),X}function sn(kt){var v,l,R,X,ht=kt.x,At=kt.y,Ut=kt.y0,Yt=kt.size;Object(r.m)(At)?(v=At[0],l=At[1]):(v=Ut,l=At),Object(r.m)(ht)?(R=ht[0],X=ht[1]):(R=ht-Yt/2,X=ht+Yt/2);var qt=[{x:R,y:v},{x:R,y:l}];return qt.push({x:X,y:l},{x:X,y:v}),qt}var un=function(){return(un=Object.assign||function(v){for(var l,R=1,X=arguments.length;R<X;R++)for(var ht in l=arguments[R])Object.prototype.hasOwnProperty.call(l,ht)&&(v[ht]=l[ht]);return v}).apply(this,arguments)},ur={stroke:"#C5C5C5",strokeOpacity:.85},jr={fill:"#CACED4",opacity:.85},wr=function(){function kt(v){var l=v.x,R=l===void 0?0:l,X=v.y,ht=X===void 0?0:X,At=v.width,Ut=At===void 0?200:At,Yt=v.height,qt=Yt===void 0?26:Yt,oe=v.smooth,Te=oe===void 0||oe,Ge=v.isArea,Ue=Ge!==void 0&&Ge,Ve=v.data,vn=Ve===void 0?[]:Ve,Tn=v.lineStyle,Ln=v.areaStyle,Un=v.group,Hn=v.interval,xr=Hn===void 0?null:Hn;this.group=Un,this.x=R,this.y=ht,this.width=Ut,this.height=qt,this.data=vn,this.smooth=Te,this.isArea=Ue,this.lineStyle=Object.assign({},ur,Tn),this.areaStyle=Object.assign({},jr,Ln),this.intervalConfig=xr,this.renderLine()}return kt.prototype.renderLine=function(){var v=this,l=v.x,R=v.y,X=v.width,ht=v.height,At=v.data,Ut=v.smooth,Yt=v.isArea,qt=(v.backgroundStyle,v.lineStyle),oe=v.areaStyle,Te=this.group.addGroup({name:"trend-group"});if(At){var Ge=qn(At,X,ht,Ut);if(Te.addShape("path",{attrs:un({path:Ge},qt)}),Yt){var Ue=tn(Ge,X,ht,At);Te.addShape("path",{attrs:un({path:Ue},oe)})}}this.intervalConfig&&Te.addShape("path",{attrs:un({path:rr(this.intervalConfig.data,X,ht)},this.intervalConfig.style)}),Te.move(l,R)},kt.prototype.destory=function(){this.group.destroy()},kt}(),yr=function(){return(yr=Object.assign||function(v){for(var l,R=1,X=arguments.length;R<X;R++)for(var ht in l=arguments[R])Object.prototype.hasOwnProperty.call(l,ht)&&(v[ht]=l[ht]);return v}).apply(this,arguments)},ni={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},_r={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},Fr=function(){function kt(v){var l=v.group,R=v.name,X=v.type,ht=v.x,At=ht===void 0?0:ht,Ut=v.y,Yt=Ut===void 0?0:Ut,qt=v.width,oe=qt===void 0?2:qt,Te=v.height,Ge=Te===void 0?24:Te,Ue=v.style,Ve=Ue===void 0?{}:Ue;this.group=l,this.name=R,this.handleType=X,this.x=At,this.y=Yt,this.width=oe,this.height=Ge,X==="trend"?this.style=yr(yr({},ni),Ve):X==="simple"&&(this.style=yr(yr({},_r),Ve)),this.renderHandle()}return kt.prototype.setX=function(v){this.setXY(v,void 0)},kt.prototype.setY=function(v){this.setXY(void 0,v)},kt.prototype.setXY=function(v,l){Object(r.t)(v)&&(this.x=v),Object(r.t)(l)&&(this.y=l),this.updateXY()},kt.prototype.renderHandle=function(){var v=this.width,l=this.height,R=this.style,X=this.name,ht=R.fill,At=R.stroke,Ut=R.radius,Yt=R.opacity,qt=R.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.background=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:v,height:l,fill:ht,stroke:At,radius:Ut,opacity:Yt,cursor:qt},name:X+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:v/2,y:0,r:2*v,fill:ht,stroke:At,radius:Ut,opacity:Yt,cursor:qt},name:X+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:v/2,y:l,r:2*v,fill:ht,stroke:At,radius:Ut,opacity:Yt,cursor:qt},name:X+"-handler"})):this.handleType==="simple"&&(this.handleGroup.addShape("circle",{attrs:{x:v/2,y:l/2,r:2*v,fill:ht,stroke:At,radius:Ut,opacity:Yt,cursor:qt},name:X+"-handler"}),this.handleGroup.addShape("circle",{attrs:{x:v/2,y:l/2,r:2*v,fill:ht,stroke:At,radius:Ut,opacity:Yt,cursor:qt},name:X+"-handler"})),this.updateXY(),this.handleType==="trend"&&this.bindEvents()},kt.prototype.bindEvents=function(){var v=this,l=this.name;this.handleGroup.on(l+"-handler:mouseenter",function(){var R=v.style.highLightFill;v.background.attr("fill",R)}),this.handleGroup.on(l+"-handler:mouseleave",function(){var R=v.style.fill;v.background.attr("fill",R)})},kt.prototype.show=function(){this.handleGroup.show()},kt.prototype.hide=function(){this.handleGroup.hide()},kt.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},kt}(),Lr=function(){return(Lr=Object.assign||function(v){for(var l,R=1,X=arguments.length;R<X;R++)for(var ht in l=arguments[R])Object.prototype.hasOwnProperty.call(l,ht)&&(v[ht]=l[ht]);return v}).apply(this,arguments)},Gr=function(){function kt(v){this.config=Object(r.e)({},v),this.init()}return kt.prototype.update=function(v){this.config=Object(r.e)({},this.config,v),this.updateElement(),this.renderMarker()},kt.prototype.init=function(){this.initElement(),this.renderMarker()},kt.prototype.initElement=function(){var v=this.config,l=v.group,R=v.style;this.circle=l.addShape("circle",{attrs:Lr({x:this.config.x,y:this.config.y,r:this.config.r},R)}),this.startMarker=l.addShape("path",{attrs:{path:this.getStartMarkerPath(),fill:"#ccc"},name:"playPauseBtn"}),this.pauseGroupMarker=l.addGroup();var X=1/4*this.config.r,ht=.5*this.config.r*Math.sqrt(3);this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-.375*this.config.r,y:this.config.y-ht/2,width:2.5*X,height:ht,fill:"#fff"},name:"playPauseBtn"}),this.pauseLeftMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x-.375*this.config.r,y:this.config.y-ht/2,width:X,height:ht,fill:"#ccc"},name:"playPauseBtn"}),this.pauseRightMarker=this.pauseGroupMarker.addShape("rect",{attrs:{x:this.config.x+1/8*this.config.r,y:this.config.y-ht/2,width:X,height:ht,fill:"#ccc"},name:"playPauseBtn"})},kt.prototype.updateElement=function(){this.circle.attr("x",this.config.x),this.circle.attr("y",this.config.y),this.circle.attr("r",this.config.r),this.startMarker.attr("path",this.getStartMarkerPath());var v=1/4*this.config.r,l=.5*this.config.r*Math.sqrt(3);this.pauseLeftMarker.attr("x",this.config.x-.375*this.config.r),this.pauseLeftMarker.attr("y",this.config.y-l/2),this.pauseLeftMarker.attr("width",v),this.pauseLeftMarker.attr("height",l),this.pauseRightMarker.attr("x",this.config.x+1/8*this.config.r),this.pauseRightMarker.attr("y",this.config.y-l/2),this.pauseRightMarker.attr("width",v),this.pauseRightMarker.attr("height",l)},kt.prototype.renderMarker=function(){this.config.isPlay?(this.startMarker.hide(),this.pauseGroupMarker.show()):(this.startMarker.show(),this.pauseGroupMarker.hide())},kt.prototype.getStartMarkerPath=function(){var v=.5*this.config.r*Math.sqrt(3);return[["M",this.config.x-v/Math.sqrt(3)/2,this.config.y-v/2],["L",this.config.x+v/Math.sqrt(3),this.config.y],["L",this.config.x-v/Math.sqrt(3)/2,this.config.y+v/2]]},kt}(),Hr=function(){return(Hr=Object.assign||function(v){for(var l,R=1,X=arguments.length;R<X;R++)for(var ht in l=arguments[R])Object.prototype.hasOwnProperty.call(l,ht)&&(v[ht]=l[ht]);return v}).apply(this,arguments)},ei={fill:"#607889",stroke:"#607889"},Kr={fill:"#fff"},Qr={fill:"green"},Oi={speed:2,loop:!1,fill:"#fff",stroke:"#fff",hiddleToggle:!1,preBtnStyle:{fill:"#ccc",stroke:"#ccc"},nextBtnStyle:{fill:"#ccc",stroke:"#ccc"},playBtnStyle:{fill:"#fff",stroke:"#ccc"}},Ri=function(){function kt(v){this.controllerCfg=Object(r.e)({},Oi,v),this.group=v.group,this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.fontFamily=v.fontFamily||"Arial, sans-serif",this.init()}return kt.prototype.init=function(){this.renderPlayButton()},kt.prototype.getNextMarkerPath=function(v,l,R){return[["M",v,l-R],["L",v+R,l],["L",v,l+R]]},kt.prototype.getPreMarkerPath=function(v,l,R){return[["M",v,l-R],["L",v-R,l],["L",v,l+R]]},kt.prototype.renderPlayButton=function(){var v=this.controllerCfg,l=v.width,R=v.height,X=v.x,ht=v.y,At=v.hiddleToggle,Ut=v.fill,Yt=Ut===void 0?"#ccc":Ut,qt=v.stroke,oe=qt===void 0?"green":qt,Te=v.playBtnStyle,Ge=Te===void 0?ei:Te,Ue=v.preBtnStyle,Ve=Ue===void 0?Kr:Ue,vn=v.nextBtnStyle,Tn=vn===void 0?Qr:vn,Ln=R/2-5,Un=ht+10,Hn=this.group.addShape("rect",{attrs:{x:X,y:Un,width:l,height:R,stroke:oe,fill:Yt},name:"container-rect"});this.playButton?this.playButton.update({x:l/2,y:Un,r:Ln}):this.playButton=new Gr({group:this.group,x:l/2,y:Un+Ln+5,r:Ln,isPlay:this.isPlay,style:Ge}),this.group.addShape("path",{attrs:Hr({path:this.getPreMarkerPath(l/2-5*Ln,Un+Ln+5,.5*Ln)},Ve),name:"preStepBtn"}),this.group.addShape("path",{attrs:Hr({path:this.getPreMarkerPath(l/2-4.5*Ln,Un+Ln+5,.5*Ln)},Ve),name:"preStepBtn"}),this.group.addShape("path",{attrs:Hr({path:this.getNextMarkerPath(l/2+5*Ln,Un+Ln+5,.5*Ln)},Tn),name:"nextStepBtn"}),this.group.addShape("path",{attrs:Hr({path:this.getNextMarkerPath(l/2+4.5*Ln,Un+Ln+5,.5*Ln)},Tn),name:"nextStepBtn"}),Hn.toBack(),this.renderSpeedBtn(),At||this.renderToggleTime(),this.bindEvent()},kt.prototype.renderSpeedBtn=function(){var v=this.controllerCfg,l=v.y,R=v.width,X=v.hiddleToggle,ht=this.group.addGroup({name:"speed-group"});this.speedGroup=ht;for(var At=1,Ut=[],Yt=9,qt=0;qt<5;qt++){var oe=l+15+qt*(qt+1)+At;ht.addShape("rect",{attrs:{x:R-(X?50:110),y:oe,width:15,height:2,fill:"#ccc"},speed:Yt,name:"speed-rect"}),this.speedAxisY.push(oe),Ut.push(Yt),Yt-=2,At++}for(qt=0;qt<4;qt++)ht.addShape("rect",{attrs:{x:R-(X?50:110),y:this.speedAxisY[qt]+2,width:15,height:2*qt+1,fill:"#fff",opacity:.3},speed:Ut[qt]-1,name:"speed-rect"});this.speedText=ht.addShape("text",{attrs:{x:R-(X?50:110)+20,y:this.speedAxisY[1]+15,text:"1.0X",fill:"#ccc",fontFamily:this.fontFamily||"Arial, sans-serif"}}),this.speedPoint=ht.addShape("path",{attrs:{path:this.getPath(R-(X?50:110),this.speedAxisY[4]),fill:"#ccc"}})},kt.prototype.getPath=function(v,l){return[["M",v,l],["L",v-12,l-6],["L",v-12,l+6],["Z"]]},kt.prototype.renderToggleTime=function(){var v,l=this.controllerCfg.width;this.toggleGroup=this.group.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:{width:14,height:14,x:l-50,y:this.speedAxisY[1],fill:"#fff",stroke:"#ccc",lineWidth:2,radius:3},isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:{path:[["M",l-50+3,this.speedAxisY[1]+6],["L",l-50+7,this.speedAxisY[1]+10],["L",l-50+12,this.speedAxisY[1]+4]],stroke:"green",lineWidth:3},capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:{text:((v=this.controllerCfg)===null||v===void 0?void 0:v.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4",x:l-50+20,y:this.speedAxisY[1]+15,fill:"#ccc",fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}})},kt.prototype.bindEvent=function(){var v=this,l=this.controllerCfg,R=l.width,X=l.hiddleToggle;this.speedGroup.on("speed-rect:click",function(ht){v.speedPoint.attr("path",v.getPath(R-(X?50:110),ht.y)),v.currentSpeed=ht.target.get("speed"),v.speedText.attr("text",v.currentSpeed+".0X"),v.group.emit("timebarConfigChanged",{speed:v.currentSpeed,type:v.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(ht){var At,Ut,Yt=ht.target.get("isChecked");Yt?(v.checkedIcon.hide(),v.checkedText.attr("text",((Ut=v.controllerCfg)===null||Ut===void 0?void 0:Ut.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4"),v.currentType="range"):(v.checkedIcon.show(),v.checkedText.attr("text",((At=v.controllerCfg)===null||At===void 0?void 0:At.timeRangeControllerText)||"\u65F6\u95F4\u8303\u56F4"),v.currentType="single"),ht.target.set("isChecked",!Yt),v.group.emit("timebarConfigChanged",{type:v.currentType,speed:v.currentSpeed})})},kt.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},kt}(),Ei=function(){return(Ei=Object.assign||function(v){for(var l,R=1,X=arguments.length;R<X;R++)for(var ht in l=arguments[R])Object.prototype.hasOwnProperty.call(l,ht)&&(v[ht]=l[ht]);return v}).apply(this,arguments)},Gi={fill:"#416180",opacity:.05},ca={fill:"#416180",opacity:.15,radius:5},ha={fill:"#5B8FF9",opacity:.3,cursor:"move"},na={width:2,height:24},Zi={textBaseline:"middle",fill:"#000",opacity:.45},ve=function(){function kt(v){var l=this;this.prevX=0,this.onMouseDown=function(Ao){return function($a){l.currentHandler=Ao;var ns=$a.originalEvent;ns.stopPropagation(),ns.preventDefault(),l.prevX=Object(r.i)(ns,"touches.0.pageX",ns.pageX);var ba=l.canvas.get("container");ba.addEventListener("mousemove",l.onMouseMove),ba.addEventListener("mouseup",l.onMouseUp),ba.addEventListener("mouseleave",l.onMouseUp),ba.addEventListener("touchmove",l.onMouseMove),ba.addEventListener("touchend",l.onMouseUp),ba.addEventListener("touchcancel",l.onMouseUp)}},this.onMouseMove=function(Ao){Ao.stopPropagation(),Ao.preventDefault();var $a=Object(r.i)(Ao,"touches.0.pageX",Ao.pageX),ns=$a-l.prevX,ba=l.adjustOffsetRange(ns/l.width);l.updateStartEnd(ba),l.updateUI(),l.prevX=$a},this.onMouseUp=function(){l.currentHandler&&(l.currentHandler=void 0);var Ao=l.canvas.get("container");Ao&&(Ao.removeEventListener("mousemove",l.onMouseMove),Ao.removeEventListener("mouseup",l.onMouseUp),Ao.removeEventListener("mouseleave",l.onMouseUp),Ao.removeEventListener("touchmove",l.onMouseMove),Ao.removeEventListener("touchend",l.onMouseUp),Ao.removeEventListener("touchcancel",l.onMouseUp))};var R=v.x,X=R===void 0?0:R,ht=v.y,At=ht===void 0?0:ht,Ut=v.width,Yt=Ut===void 0?100:Ut,qt=v.height,oe=v.padding,Te=oe===void 0?10:oe,Ge=v.trendCfg,Ue=v.controllerCfg,Ve=Ue===void 0?{speed:1}:Ue,vn=v.backgroundStyle,Tn=vn===void 0?{}:vn,Ln=v.foregroundStyle,Un=Ln===void 0?{}:Ln,Hn=v.handlerStyle,xr=Hn===void 0?{}:Hn,Or=v.textStyle,Rr=Or===void 0?{}:Or,yi=v.start,Xi=yi===void 0?0:yi,Zr=v.end,ki=Zr===void 0?1:Zr,Ba=v.minText,Ha=Ba===void 0?"":Ba,Ka=v.maxText,Ja=Ka===void 0?"":Ka,ya=v.group,Mo=v.graph,jo=v.canvas,Ro=v.ticks,Za=v.type;this.graph=Mo,this.canvas=jo,this.group=ya,this.timeBarType=Za,this.x=X,this.y=At,this.width=Yt,this.height=qt,this.padding=Te,this.ticks=Ro,this.trendCfg=Ge,this.controllerCfg=Ve,this.currentSpeed=Ve.speed||1,Za==="trend"?this.backgroundStyle=Ei(Ei({},Gi),Tn):Za==="simple"&&(this.backgroundStyle=Ei(Ei({},ca),Tn)),this.foregroundStyle=Ei(Ei({},ha),Un),this.handlerStyle=Ei(Ei({},na),xr),this.textStyle=Ei(Ei({},Zi),Rr),this.currentMode="range",this.start=Xi,this.end=ki,this.minText=Ha,this.maxText=Ja,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return kt.prototype.update=function(v){var l=v.x,R=v.y,X=v.width,ht=v.height,At=v.minText,Ut=v.maxText,Yt=v.start,qt=v.end;this.start=Math.min(1,Math.max(Yt,0)),this.end=Math.min(1,Math.max(qt,0)),Object(r.a)(this,{x:l,y:R,width:X,height:ht,minText:At,maxText:Ut}),this.updateUI()},kt.prototype.setText=function(v,l){this.minTextShape.attr("text",v),this.maxTextShape.attr("text",l)},kt.prototype.renderSlider=function(){var v=this,l=this.width,R=this.height,X=this.timeBarType;if(X==="trend"&&Object(r.E)(Object(r.i)(this.trendCfg,"data"))){var ht=new wr(Ei(Ei({x:this.x,y:this.y,width:l,height:R},this.trendCfg),{group:this.group}));this.trendComponent=ht}var At=this.group.addGroup({name:"slider-group"});At.addShape("rect",{attrs:Ei({x:0,y:0,width:l,height:R},this.backgroundStyle)});var Ut=this.group.addGroup();X==="trend"?(this.minTextShape=Ut.addShape("text",{attrs:Ei({x:0,y:R/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1}),this.maxTextShape=Ut.addShape("text",{attrs:Ei({y:R/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1})):(this.minTextShape=Ut.addShape("text",{attrs:Ei({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1}),this.maxTextShape=Ut.addShape("text",{attrs:Ei({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:Ei({x:0,y:this.y,height:R},this.foregroundStyle)});var Yt=Object(r.i)(this.handlerStyle,"width",2),qt=Object(r.i)(this.handlerStyle,"height",24),oe=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new Fr(Ei({name:"minHandlerShape",group:oe,type:X,x:this.x,y:this.y,width:Yt,height:qt,cursor:"ew-resize"},this.handlerStyle));var Te=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new Fr(Ei({name:"maxHandlerShape",group:Te,type:X,x:this.x,y:this.y,width:Yt,height:qt,cursor:"ew-resize"},this.handlerStyle));var Ge=this.ticks,Ue=l/(Ge.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(vn){vn.destroy()});var Ve=-1/0;this.textList=Ge.map(function(vn,Tn){v.tickPosList.push(v.x+Tn*Ue);var Ln=v.group.addShape("text",{attrs:{x:v.x+Tn*Ue,y:v.y+R+5,text:vn,textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35,fontFamily:v.fontFamily||"Arial, sans-serif"}}),Un=v.group.addShape("line",{attrs:{x1:v.x+Tn*Ue,y1:v.y+R+2,x2:v.x+Tn*Ue,y2:v.y+R+6,lineWidth:1,stroke:"#ccc"}}),Hn=Ln.getBBox();return Hn.minX>Ve?(Ln.show(),Un.show(),Ve=Hn.minX+Hn.width+10):(Ln.hide(),Un.hide()),Ln}),this.controllerBtnGroup=new Ri(Ei({group:this.group,x:this.x,y:this.y+R+25,width:l,height:40},this.controllerCfg)),this.updateUI(),At.move(this.x,this.y),this.bindEvents()},kt.prototype.bindEvents=function(){var v=this,l=this.group.find(function(X){return X.get("name")==="minHandlerShape"});l&&(l.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),l.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var R=this.group.find(function(X){return X.get("name")==="maxHandlerShape"});R&&(R.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),R.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on("playPauseBtn:click",function(){v.isPlay=!v.isPlay,v.currentHandler=v.maxHandlerShape,v.changePlayStatus()}),this.group.on("nextStepBtn:click",function(){v.currentHandler=v.maxHandlerShape,v.updateStartEnd(.01),v.updateUI()}),this.group.on("preStepBtn:click",function(){v.currentHandler=v.maxHandlerShape,v.updateStartEnd(-.01),v.updateUI()}),this.group.on("timebarConfigChanged",function(X){var ht=X.type,At=X.speed;v.currentSpeed=At,v.currentMode=ht,ht==="single"?(v.minHandlerShape.hide(),v.foregroundShape.hide(),v.minTextShape.hide()):ht==="range"&&(v.minHandlerShape.show(),v.foregroundShape.show(),v.minTextShape.show())})},kt.prototype.adjustTickIndex=function(v){for(var l=0;l<this.tickPosList.length-1;l++)if(this.tickPosList[l]<=v&&v<=this.tickPosList[l+1])return Math.abs(this.tickPosList[l]-v)<Math.abs(v-this.tickPosList[l+1])?l:l+1},kt.prototype.adjustOffsetRange=function(v){switch(this.currentHandler){case this.minHandlerShape:var l=0-this.start,R=1-this.start;return Math.min(R,Math.max(l,v));case this.maxHandlerShape:return l=0-this.end,R=1-this.end,Math.min(R,Math.max(l,v));case this.foregroundShape:return l=0-this.start,R=1-this.end,Math.min(R,Math.max(l,v));default:return 0}},kt.prototype.updateStartEnd=function(v){switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=v,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)];break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=v,this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)];break;case this.foregroundShape:this.start+=v,this.end+=v,this.minText=this.ticks[this.adjustTickIndex(this.start*this.width)],this.maxText=this.ticks[this.adjustTickIndex(this.end*this.width)]}},kt.prototype.updateUI=function(){var v=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var l=this.start*this.width,R=this.end*this.width;this.foregroundShape.attr("x",l),this.foregroundShape.attr("width",R-l);var X=Object(r.i)(this.handlerStyle,"width",2);this.setText(this.minText,this.maxText);var ht=this.dodgeText([l,R]),At=ht[0],Ut=ht[1];this.minHandlerShape.setX(l-X/2),Object(r.f)(At,function(Yt,qt){return v.minTextShape.attr(qt,Yt)}),this.maxHandlerShape.setX(R-X/2),Object(r.f)(Ut,function(Yt,qt){return v.maxTextShape.attr(qt,Yt)}),this.currentMode==="range"?this.graph.emit("valueChange",{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit("valueChange",{value:[this.end,this.end]})},kt.prototype.dodgeText=function(v){var l,R,X=Object(r.i)(this.handlerStyle,"width",2),ht=this.minTextShape,At=this.maxTextShape,Ut=v[0],Yt=v[1],qt=!1;Ut>Yt&&(Ut=(l=[Yt,Ut])[0],Yt=l[1],ht=(R=[At,ht])[0],At=R[1],qt=!0);var oe=ht.getBBox(),Te=At.getBBox(),Ge=null,Ue=null;return this.timeBarType==="trend"?(Ge=oe.width>Ut-2?{x:Ut+X/2+2,textAlign:"left"}:{x:Ut-X/2-2,textAlign:"right"},Ue=Te.width>this.width-Yt-2?{x:Yt-X/2-2,textAlign:"right"}:{x:Yt+X/2+2,textAlign:"left"}):this.timeBarType==="simple"&&(Ge=oe.width>Ut-2?{x:Ut+X/2+2,textAlign:"center"}:{x:Ut-X/2-2,textAlign:"center"},Ue=Te.width>this.width-Yt-2?{x:Yt-X/2-2,textAlign:"center"}:{x:Yt+X/2+2,textAlign:"center"}),qt?[Ue,Ge]:[Ge,Ue]},kt.prototype.startPlay=function(){var v=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var l=v,R=l.ticks,X=l.width,ht=v.currentSpeed,At=X/R.length/(1e3*(10-ht)/60),Ut=v.adjustOffsetRange(At/v.width);v.updateStartEnd(Ut),v.updateUI(),v.isPlay&&(v.playHandler=v.startPlay())}):void 0},kt.prototype.changePlayStatus=function(v){v===void 0&&(v=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit("timelinestart",null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),v&&this.graph.emit("timelineend",null))},kt.prototype.destory=function(){this.graph.off("valueChange");var v=this.group,l=v.find(function(X){return X.get("name")==="minHandlerShape"});l&&(l.off("minHandlerShape-handler:mousedown"),l.off("minHandlerShape-handler:touchstart"),l.destroy());var R=v.find(function(X){return X.get("name")==="maxHandlerShape"});R&&(R.off("maxHandlerShape-handler:mousedown"),R.off("maxHandlerShape-handler:touchstart"),R.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),v.off("playPauseBtn:click"),v.off("nextStepBtn:click"),v.off("preStepBtn:click"),v.off("timebarConfigChanged"),v.destroy(),this.trendComponent&&this.trendComponent.destory()},kt}(),U=function(){function kt(v){var l=v.x,R=l===void 0?0:l,X=v.y,ht=X===void 0?0:X,At=v.container,Ut=v.text,Yt=v.padding,qt=Yt===void 0?[4,4,4,4]:Yt,oe=v.className,Te=oe===void 0?"g6-component-timebar-tooltip":oe,Ge=v.backgroundColor,Ue=Ge===void 0?"#000":Ge,Ve=v.textColor,vn=Ve===void 0?"#fff":Ve,Tn=v.opacity,Ln=Tn===void 0?.8:Tn,Un=v.fontSize,Hn=Un===void 0?12:Un;this.container=At,this.className=Te,this.backgroundColor=Ue,this.textColor=vn,this.x=R,this.y=ht,this.text=Ut,this.padding=qt,this.opacity=Ln,this.fontSize=Hn,this.render()}return kt.prototype.render=function(){var v=this.className,l=(this.x,this.y,this.backgroundColor),R=this.textColor,X=this.text,ht=this.padding,At=this.opacity,Ut=this.fontSize,Yt=this.container,qt=Object(m.b)("<div class='"+v+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+At+'"></div>');Object(r.x)(Yt)&&(Yt=document.getElementById(Yt)),Yt.appendChild(qt),this.parentHeight=Yt.offsetHeight,this.parentWidth=Yt.offsetWidth,Object(m.c)(qt,{visibility:"hidden",top:0,left:0});var oe=Object(m.b)(`
      <div style='position: absolute; white-space:nowrap; background-color: `+l+"; font-size: "+Ut+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+R+"; padding: "+ht[0]+"px "+ht[1]+"px "+ht[2]+"px "+ht[3]+"px'></div>");oe.innerHTML=X,qt.appendChild(oe),this.backgroundDOM=oe;var Te=Object(m.b)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+l+"'></div>");qt.appendChild(Te),this.arrowDOM=Te,this.container=qt},kt.prototype.show=function(v){var l=v.text,R=v.x;v.y,v.clientX,v.clientY,this.backgroundDOM.innerHTML=l;var X=this.backgroundDOM.offsetWidth,ht=this.backgroundDOM.offsetHeight,At=this.arrowDOM.offsetWidth,Ut=this.arrowDOM.offsetHeight;Object(m.c)(this.container,{top:-ht-Ut+"px",left:R+"px",visibility:"visible"}),Object(m.c)(this.backgroundDOM,{marginLeft:-X/2+"px"}),Object(m.c)(this.arrowDOM,{marginLeft:-At/2+"px",top:ht+"px"});var Yt=R-X/2,qt=R+X/2;Yt<0?Object(m.c)(this.backgroundDOM,{marginLeft:-X/2-Yt+"px"}):qt>this.parentWidth&&Object(m.c)(this.backgroundDOM,{marginLeft:-X/2-qt+this.parentWidth+12+"px"})},kt.prototype.hide=function(){Object(m.c)(this.container,{top:0,left:0,visibility:"hidden"})},kt}(),G=function(){return(G=Object.assign||function(v){for(var l,R=1,X=arguments.length;R<X;R++)for(var ht in l=arguments[R])Object.prototype.hasOwnProperty.call(l,ht)&&(v[ht]=l[ht]);return v}).apply(this,arguments)},nt={fill:"#5B8FF9"},vt={fill:"#e6e8e9"},Gt=function(){function kt(v){this.frameCount=0,this.fontFamily="Arial, sans-serif";var l=v.graph,R=v.canvas,X=v.group,ht=v.width,At=v.height,Ut=v.padding,Yt=v.data,qt=v.start,oe=v.end,Te=v.x,Ge=Te===void 0?0:Te,Ue=v.y,Ve=Ue===void 0?0:Ue,vn=v.tickLabelFormatter,Tn=v.selectedTickStyle,Ln=Tn===void 0?nt:Tn,Un=v.unselectedTickStyle,Hn=Un===void 0?vt:Un,xr=v.tooltipBackgroundColor,Or=v.tooltipFomatter;this.graph=l,this.group=X,this.sliceGroup=X.addGroup({name:"slice-group"}),this.canvas=R,this.width=ht,this.height=At,this.padding=Ut,this.data=Yt,this.start=qt,this.end=oe,this.tickLabelFormatter=vn,this.selectedTickStyle=Ln,this.unselectedTickStyle=Hn,this.x=Ge,this.y=Ve,this.tooltipBackgroundColor=xr,this.tooltipFomatter=Or,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return kt.prototype.renderSlices=function(){var v=this,l=this,R=l.width,X=l.height,ht=l.padding,At=l.data,Ut=l.start,Yt=l.end,qt=l.tickLabelFormatter,oe=l.selectedTickStyle,Te=l.unselectedTickStyle,Ge=R-2*ht,Ue=X-(3*ht+4+10)-2*ht,Ve=At.length,vn=(Ge-2*(Ve-1))/Ve;this.tickWidth=vn;var Tn=this.sliceGroup,Ln=[],Un=[],Hn=Math.round(Ve*Ut),xr=Math.round(Ve*Yt);this.startTickRectId=Hn,this.endTickRectId=xr,At.forEach(function(Rr,yi){var Xi=yi>=Hn&&yi<=xr?oe:Te,Zr=Tn.addShape("rect",{attrs:G({x:ht+yi*(vn+2),y:ht,width:vn,height:Ue},Xi),draggable:!0,name:"tick-rect-"+yi}),ki=Tn.addShape("rect",{attrs:{x:ht+yi*vn+2*(2*yi-1)/2,y:ht,width:yi===0||yi===Ve-1?vn+1:vn+2,height:Ue,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+yi});ki.toFront();var Ba,Ha=Zr.getBBox(),Ka=(Ha.minX+Ha.maxX)/2;if(Ln.push({rect:Zr,pickRect:ki,value:Rr.date,x:Ka,y:Ha.minY}),qt?(Ba=qt(Rr),!Object(r.x)(Ba)&&Ba&&(Ba=Rr.date)):yi%Math.round(Ve/10)==0&&(Ba=Rr.date),Ba){Un.push(Ba);var Ja=Ha.maxY+2*ht;Tn.addShape("line",{attrs:{stroke:"#BFBFBF",x1:Ka,y1:Ja,x2:Ka,y2:Ja+4}});var ya=Ja+4+ht,Mo=Tn.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:Ka,y:ya,textAlign:"center",text:Ba,textBaseline:"top",fontSize:10,fontFamily:v.fontFamily||"Arial, sans-serif"},capture:!1}),jo=Mo.getBBox();jo.maxX>R?Mo.attr("textAlign","right"):jo.minX<0&&Mo.attr("textAlign","left")}}),this.tickRects=Ln;var Or=this.group;this.currentSpeed=1,this.controllerBtnGroup=new Ri({group:Or,x:this.x,y:this.y+X+5,width:R,height:40,hiddleToggle:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"})},kt.prototype.initEvent=function(){var v=this,l=this.sliceGroup;l.on("click",function(qt){var oe=qt.target;if(oe.get("type")==="rect"&&oe.get("name")){var Te=parseInt(oe.get("name").split("-")[2],10);if(!isNaN(Te)){var Ge=v.tickRects,Ue=v.unselectedTickStyle;Ge.forEach(function(Tn){Tn.rect.attr(Ue)});var Ve=v.selectedTickStyle;Ge[Te].rect.attr(Ve),v.startTickRectId=Te,v.endTickRectId=Te;var vn=Te/Ge.length;v.graph.emit("valueChange",{value:[vn,vn]})}}}),l.on("dragstart",function(qt){var oe=v.tickRects,Te=v.unselectedTickStyle;oe.forEach(function(Tn){Tn.rect.attr(Te)});var Ge=qt.target,Ue=parseInt(Ge.get("name").split("-")[2],10),Ve=v.selectedTickStyle;oe[Ue].rect.attr(Ve),v.startTickRectId=Ue;var vn=Ue/oe.length;v.graph.emit("valueChange",{value:[vn,vn]}),v.dragging=!0}),l.on("dragover",function(qt){if(v.dragging&&qt.target.get("type")==="rect"){for(var oe=parseInt(qt.target.get("name").split("-")[2],10),Te=v.startTickRectId,Ge=v.tickRects,Ue=v.selectedTickStyle,Ve=v.unselectedTickStyle,vn=0;vn<Ge.length;vn++){var Tn=vn>=Te&&vn<=oe?Ue:Ve;Ge[vn].rect.attr(Tn)}var Ln=Ge.length;v.endTickRectId=oe;var Un=Te/Ln,Hn=oe/Ln;v.graph.emit("valueChange",{value:[Un,Hn]})}}),l.on("drop",function(qt){if(v.dragging&&(v.dragging=!1,qt.target.get("type")==="rect")){var oe=v.startTickRectId,Te=parseInt(qt.target.get("name").split("-")[2],10);if(!(Te<oe)){var Ge=v.selectedTickStyle,Ue=v.tickRects;Ue[Te].rect.attr(Ge),v.endTickRectId=Te;var Ve=Ue.length,vn=oe/Ve,Tn=Te/Ve;v.graph.emit("valueChange",{value:[vn,Tn]})}}});var R=this.tooltipBackgroundColor,X=this.tooltipFomatter,ht=this.canvas,At=new U({container:ht.get("container"),backgroundColor:R}),Ut=this.tickRects;Ut.forEach(function(qt){var oe=qt.pickRect;oe.on("mouseenter",function(Te){var Ge=Te.target;if(Ge.get("type")==="rect"){var Ue=parseInt(Ge.get("name").split("-")[2],10),Ve=ht.getClientByPoint(Ut[Ue].x,Ut[Ue].y);At.show({x:Ut[Ue].x,y:Ut[Ue].y,clientX:Ve.x,clientY:Ve.y,text:X?X(Ut[Ue].value):Ut[Ue].value})}}),oe.on("mouseleave",function(Te){At.hide()})});var Yt=this.group;Yt.on("playPauseBtn:click",function(){v.isPlay=!v.isPlay,v.changePlayStatus()}),Yt.on("nextStepBtn:click",function(){v.updateStartEnd(1)}),Yt.on("preStepBtn:click",function(){v.updateStartEnd(-1)}),Yt.on("timebarConfigChanged",function(qt){qt.type;var oe=qt.speed;v.currentSpeed=oe})},kt.prototype.changePlayStatus=function(v){v===void 0&&(v=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit("timelinestart",null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),v&&this.graph.emit("timelineend",null))},kt.prototype.startPlay=function(){var v=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var l=v.currentSpeed;v.frameCount%(60/l)==0&&(v.frameCount=0,v.updateStartEnd(1)),v.frameCount++,v.isPlay&&(v.playHandler=v.startPlay())}):void 0},kt.prototype.updateStartEnd=function(v){var l=this.tickRects,R=l.length,X=this.unselectedTickStyle,ht=this.selectedTickStyle,At=this.endTickRectId;if(v>0?this.endTickRectId++:(l[this.endTickRectId].rect.attr(X),this.endTickRectId--),At!==this.startTickRectId)this.endTickRectId<this.startTickRectId&&(this.startTickRectId=this.endTickRectId);else{for(var Ut=this.startTickRectId;Ut<=this.endTickRectId-1;Ut++)l[Ut].rect.attr(X);this.startTickRectId=this.endTickRectId}if(l[this.endTickRectId]){l[this.endTickRectId].rect.attr(ht);var Yt=this.startTickRectId/R,qt=this.endTickRectId/R;this.graph.emit("valueChange",{value:[Yt,qt]})}},kt.prototype.destory=function(){this.graph.off("valueChange");var v=this.sliceGroup;v.off("click"),v.off("dragstart"),v.off("dragover"),v.off("drop"),this.tickRects.forEach(function(l){var R=l.pickRect;R.off("mouseenter"),R.off("mouseleave")}),this.tickRects.length=0,v.off("playPauseBtn:click"),v.off("nextStepBtn:click"),v.off("preStepBtn:click"),v.off("timebarConfigChanged"),this.sliceGroup.destroy()},kt}(),Jt=function(){var kt=function(l,R){return(kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,ht){X.__proto__=ht}||function(X,ht){for(var At in ht)Object.prototype.hasOwnProperty.call(ht,At)&&(X[At]=ht[At])})(l,R)};return function(v,l){function R(){this.constructor=v}kt(v,l),v.prototype=l===null?Object.create(l):(R.prototype=l.prototype,new R)}}(),ie=function(){return(ie=Object.assign||function(v){for(var l,R=1,X=arguments.length;R<X;R++)for(var ht in l=arguments[R])Object.prototype.hasOwnProperty.call(l,ht)&&(v[ht]=l[ht]);return v}).apply(this,arguments)},ue=function(v,l){var R={};for(var X in v)Object.prototype.hasOwnProperty.call(v,X)&&l.indexOf(X)<0&&(R[X]=v[X]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function"){var ht=0;for(X=Object.getOwnPropertySymbols(v);ht<X.length;ht++)l.indexOf(X[ht])<0&&Object.prototype.propertyIsEnumerable.call(v,X[ht])&&(R[X[ht]]=v[X[ht]])}return R},Ce=function(kt){function v(){return kt!==null&&kt.apply(this,arguments)||this}return Jt(v,kt),v.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:2,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{}}},v.prototype.initContainer=function(){var l,R,X=this.get("graph"),ht=this._cfgs,At=ht.width,Ut=ht.height,Yt=this.get("className")||"g6-component-timebar",qt=this.get("container"),oe=this.get("graph").get("container");qt?(Object(r.x)(qt)&&(qt=document.getElementById(qt)),l=qt):(l=Object(m.b)("<div class='"+Yt+"'></div>"),Object(m.c)(l,{position:"relative"})),oe.appendChild(l),this.set("timeBarContainer",l),R=X.get("renderer")==="SVG"?new V.Canvas({container:l,width:At,height:Ut}):new D.Canvas({container:l,width:At,height:Ut}),this.set("canvas",R)},v.prototype.init=function(){this.initContainer();var l=this.get("canvas").addGroup({name:"timebar-group"});this.set("timeBarGroup",l),this.renderTrend(),this.initEvent();var R=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",R)},v.prototype.renderTrend=function(){var l=this._cfgs,R=l.width,X=l.x,ht=l.y,At=l.padding,Ut=l.type,Yt=l.trend,qt=l.slider,oe=l.controllerCfg,Te=l.textStyle,Ge=Yt.data,Ue=ue(Yt,["data"]),Ve=R-2*At,vn=Ut==="trend"?26:8,Tn=this.get("graph"),Ln=this.get("timeBarGroup"),Un=this.get("canvas"),Hn=null;if(Ut==="trend"||Ut==="simple")Hn=new ve(ie(ie({graph:Tn,canvas:Un,group:Ln,type:Ut,x:X+At,y:Ut==="trend"?ht+At:ht+At+15,width:Ve,height:vn,padding:At,trendCfg:ie(ie({},Ue),{data:Ge.map(function(Or){return Or.value})})},qt),{ticks:Ge.map(function(Or){return Or.date}),handlerStyle:ie(ie({},qt.handlerStyle),{height:qt.height||vn}),controllerCfg:oe,textStyle:Te}));else if(Ut==="tick"){var xr=this._cfgs.tick;Hn=new Gt(ie({graph:Tn,canvas:Un,group:Ln,x:X+At,y:ht+At},xr))}this.set("timebar",Hn)},v.prototype.filterData=function(l){var R=l.value,X=null,ht=this._cfgs.type;if(ht==="trend"||ht==="simple"?X=this._cfgs.trend.data:ht==="tick"&&(X=this._cfgs.tick.data),X&&X.length!==0){var At=this.get("rangeChange"),Ut=this.get("graph"),Yt=Math.round(X.length*R[0]),qt=Math.round(X.length*R[1]);qt=qt>=X.length?X.length-1:qt;var oe=X[Yt].date,Te=X[qt].date;if(ht!=="tick"&&this.get("timebar").setText(oe,Te),At)At(Ut,oe,Te);else{var Ge=Ut.save();(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=Ge);var Ue=this.cacheGraphData.nodes.filter(function(Tn){return Tn.date>=oe&&Tn.date<=Te}),Ve=Ue.map(function(Tn){return Tn.id}),vn=this.cacheGraphData.edges.filter(function(Tn){return Ve.includes(Tn.source)&&Ve.includes(Tn.target)});Ut.changeData({nodes:Ue,edges:vn})}}else console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E")},v.prototype.initEvent=function(){var l=this,R=0,X=0,ht=this._cfgs.type;ht&&ht!=="trend"&&ht!=="simple"?ht==="tick"&&(R=this._cfgs.tick.start,X=this._cfgs.tick.end):(R=this._cfgs.slider.start,X=this._cfgs.slider.end);var At=this.get("graph");At.on("afterrender",function(){l.filterData({value:[R,X]})}),At.on("valueChange",function(Ut){l.filterData(Ut)})},v.prototype.destroy=function(){var l=this.get("timebar");l&&l.destory&&l.destory(),kt.prototype.destroy.call(this);var R=this.get("timeBarContainer");if(R){var X=this.get("container");X||(X=this.get("graph").get("container")),Object(r.x)(X)&&(X=document.getElementById(X)),X.removeChild(R)}},v}(s),we={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(v){return Object.assign(this,v),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(v){var l=this,R=this.events;this.graph=v,this.type!=="drag-canvas"&&this.type!=="brush-select"&&this.type!=="lasso-select"||v.get("canvas").set("draggable",!0),Object(r.f)(R,function(X,ht){v.on(ht,X)}),document.addEventListener("visibilitychange",function(){l.keydown=!1})},unbind:function(v){var l=this.events;this.type!=="drag-canvas"&&this.type!=="brush-select"&&this.type!=="lasso-select"||v.get("canvas").set("draggable",!1),Object(r.f)(l,function(R,X){v.off(X,R)})},get:function(v){return this[v]},set:function(v,l){return this[v]=l,this}},cn=function(){function kt(){}return kt.registerBehavior=function(v,l){if(!l)throw new Error("please specify handler for this behavior: "+v);var R=Object(r.c)(we);Object.assign(R,l);var X=function(At){var Ut=this;Object.assign(this,this.getDefaultCfg(),At);var Yt=this.getEvents();this.events=null;var qt={};Yt&&(Object(r.f)(Yt,function(oe,Te){qt[Te]=Object(r.J)(Ut,oe)}),this.events=qt)};X.prototype=R,kt.types[v]=X},kt.hasBehavior=function(v){return!!kt.types[v]},kt.getBehavior=function(v){return kt.types[v]},kt.types={},kt}(),Cn=cn,_t=t(79),Xt=t(10),Se=t(33),Wt=Xt.a.transform,ce=function(v){return function(l,R){return l[v]-R[v]}},yn=function(v,l,R){return v>=l&&v<=R},Bn=function(v,l,R,X){var ht=R.x-v.x,At=R.y-v.y,Ut=l.x-v.x,Yt=l.y-v.y,qt=X.x-R.x,oe=X.y-R.y,Te=Ut*oe-Yt*qt,Ge=null;if(Te*Te>.001*(Ut*Ut+Yt*Yt)*(qt*qt+oe*oe)){var Ue=(ht*oe-At*qt)/Te,Ve=(ht*Yt-At*Ut)/Te;yn(Ue,0,1)&&yn(Ve,0,1)&&(Ge={x:v.x+Ue*Ut,y:v.y+Ue*Yt})}return Ge},Zn=function(v,l){var R=v.x,X=v.y,ht=v.width,At=v.height,Ut=[],Yt={x:R+ht/2,y:X+At/2};Ut.push({x:R,y:X}),Ut.push({x:R+ht,y:X}),Ut.push({x:R+ht,y:X+At}),Ut.push({x:R,y:X+At}),Ut.push({x:R,y:X});for(var qt=null,oe=1;oe<Ut.length&&!(qt=Bn(Ut[oe-1],Ut[oe],Yt,l));oe++);return qt},Kn=function(v,l){var R=v.x,X=v.y,ht=v.r,At=l.x-R,Ut=l.y-X;if(Math.sqrt(At*At+Ut*Ut)<ht)return null;var Yt=Math.sign(At),qt=Math.sign(Ut),oe=Math.atan(Ut/At);return{x:R+Math.abs(ht*Math.cos(oe))*Yt,y:X+Math.abs(ht*Math.sin(oe))*qt}},$e=function(v,l){var R=v.rx,X=v.ry,ht=v.x,At=v.y,Ut=l.x-ht,Yt=l.y-At,qt=Math.atan2(Yt/X,Ut/R);return qt<0&&(qt+=2*Math.PI),{x:ht+R*Math.cos(qt),y:At+X*Math.sin(qt)}},je=function(v,l,R){R===void 0&&(R=1);var X=[v.x,v.y,R];return l&&!isNaN(l[0])||(l=[1,0,0,0,1,0,0,0,1]),Xt.d.transformMat3(X,X,l),{x:X[0],y:X[1]}},L=function(v,l,R){R===void 0&&(R=1),l&&!isNaN(l[0])||(l=[1,0,0,0,1,0,0,0,1]);var X=Xt.b.invert([1,0,0,0,1,0,0,0,1],l);X||(X=[1,0,0,0,1,0,0,0,1]);var ht=[v.x,v.y,R];return Xt.d.transformMat3(ht,ht,X),{x:ht[0],y:ht[1]}},St=function(v,l,R){var X=v.x-l.x,ht=v.y-l.y,At=v.x-R.x,Ut=v.y-R.y,Yt=(v.x*v.x-l.x*l.x-l.y*l.y+v.y*v.y)/2,qt=(v.x*v.x-R.x*R.x-R.y*R.y+v.y*v.y)/2,oe=ht*At-X*Ut;return{x:-(Ut*Yt-ht*qt)/oe,y:-(X*qt-At*Yt)/oe}},$t=function(v,l){var R=v.x-l.x,X=v.y-l.y;return Math.sqrt(R*R+X*X)},ye=function(v,l){var R=[];return v.forEach(function(X){var ht=[];X.forEach(function(At){ht.push(At*l)}),R.push(ht)}),R},Zt=function(v){for(var l=[],R=v.length,X=0;X<R;X+=1){l[X]=[];for(var ht=0;ht<R;ht+=1)X===ht?l[X][ht]=0:v[X][ht]!==0&&v[X][ht]?l[X][ht]=v[X][ht]:l[X][ht]=1/0}for(var At=0;At<R;At+=1)for(X=0;X<R;X+=1)for(ht=0;ht<R;ht+=1)l[X][ht]>l[X][At]+l[At][ht]&&(l[X][ht]=l[X][At]+l[At][ht]);return l},de=function(v,l){var R=v.nodes,X=v.edges,ht=[],At={};if(!R)throw new Error("invalid nodes data!");return R&&R.forEach(function(Ut,Yt){At[Ut.id]=Yt,ht.push([])}),X&&X.forEach(function(Ut){var Yt=Ut.source,qt=Ut.target,oe=At[Yt],Te=At[qt];ht[oe][Te]=1,l||(ht[Te][oe]=1)}),ht},he=function(v,l){v.translate(l.x,l.y)},le=function(v,l){var R=v.getMatrix();R||(R=[1,0,0,0,1,0,0,0,1]);var X=v.getCanvasBBox(),ht=l.x-X.minX,At=l.y-X.minY,Ut=Wt(R,[["t",ht,At]]);v.setMatrix(Ut)},Me=function(v,l){var R=v.getMatrix();R||(R=[1,0,0,0,1,0,0,0,1]);var X=l;Object(r.m)(l)||(X=[l,l]),Object(r.m)(l)&&l.length===1&&(X=[l[0],l[0]]),R=Wt(R,[["s",X[0],X[1]]]),v.setMatrix(R)},We=function(v,l){var R=v.getMatrix();R||(R=[1,0,0,0,1,0,0,0,1]),R=Wt(R,[["r",l]]),v.setMatrix(R)},Ye=function(v,l,R){for(var X=[],ht=0;ht<v;ht++)X[ht]=0;return R.forEach(function(At){At.source&&(X[l[At.source]]+=1),At.target&&(X[l[At.target]]+=1)}),X};function ke(kt,v,l){return(l[0]-kt[0])*(v[1]-kt[1])==(v[0]-kt[0])*(l[1]-kt[1])&&Math.min(kt[0],v[0])<=l[0]&&l[0]<=Math.max(kt[0],v[0])&&Math.min(kt[1],v[1])<=l[1]&&l[1]<=Math.max(kt[1],v[1])}var nn=function(v,l,R){var X=!1,ht=v.length;function At(oe){return Math.abs(oe)<1e-6?0:oe<0?-1:1}if(ht<=2)return!1;for(var Ut=0;Ut<ht;Ut++){var Yt=v[Ut],qt=v[(Ut+1)%ht];if(ke(Yt,qt,[l,R]))return!0;At(Yt[1]-R)>0!=At(qt[1]-R)>0&&At(l-(R-Yt[1])*(Yt[0]-qt[0])/(Yt[1]-qt[1])-Yt[0])<0&&(X=!X)}return X},Re=function(v,l){return!(l.minX>v.maxX||l.maxX<v.minX||l.minY>v.maxY||l.maxY<v.minY)},hn=function(v,l){var R=function(Ge){var Ue=Ge.map(function(vn){return vn[0]}),Ve=Ge.map(function(vn){return vn[1]});return{minX:Math.min.apply(null,Ue),maxX:Math.max.apply(null,Ue),minY:Math.min.apply(null,Ve),maxY:Math.max.apply(null,Ve)}},X=function(Ge){for(var Ue=[],Ve=Ge.length,vn=0;vn<Ve-1;vn++){var Tn=Ge[vn],Ln=Ge[vn+1];Ue.push({from:{x:Tn[0],y:Tn[1]},to:{x:Ln[0],y:Ln[1]}})}if(Ue.length>1){var Un=Ge[0],Hn=Ge[Ve-1];Ue.push({from:{x:Hn[0],y:Hn[1]},to:{x:Un[0],y:Un[1]}})}return Ue};if(v.length<2||l.length<2)return!1;var ht=R(v),At=R(l);if(!Re(ht,At))return!1;var Ut=!1;if(Object(r.f)(l,function(Te){if(nn(v,Te[0],Te[1]))return Ut=!0,!1}),Ut||(Object(r.f)(v,function(Te){if(nn(l,Te[0],Te[1]))return Ut=!0,!1}),Ut))return!0;var Yt=X(v),qt=X(l),oe=!1;return Object(r.f)(qt,function(Te){if(function(Ge,Ue){var Ve=!1;return Object(r.f)(Ge,function(vn){if(Bn(vn.from,vn.to,Ue.from,Ue.to))return Ve=!0,!1}),Ve}(Yt,Te))return oe=!0,!1}),oe},pn=function(){function kt(v,l,R,X){this.x1=v,this.y1=l,this.x2=R,this.y2=X}return kt.prototype.getBBox=function(){var v=Math.min(this.x1,this.x2),l=Math.min(this.y1,this.y2),R=Math.max(this.x1,this.x2),X=Math.max(this.y1,this.y2);return{x:v,y:l,minX:v,minY:l,maxX:R,maxY:X,width:R-v,height:X-l}},kt}(),on=function(v,l){return{top:[v.minX,v.minY,v.maxX,v.minY],left:[v.minX,v.minY,v.minX,v.maxY],bottom:[v.minX,v.maxY,v.maxX,v.maxY],right:[v.maxX,v.minY,v.maxX,v.maxY]}[l]},mn=function(v,l){var R=(l.x2-l.x1)*(v.y1-l.y1)-(l.y2-l.y1)*(v.x1-l.x1),X=(v.x2-v.x1)*(v.y1-l.y1)-(v.y2-v.y1)*(v.x1-l.x1),ht=(l.y2-l.y1)*(v.x2-v.x1)-(l.x2-l.x1)*(v.y2-v.y1);if(ht){var At=R/ht,Ut=X/ht;if(At>=0&&At<=1&&Ut>=0&&Ut<=1)return At}return Number.POSITIVE_INFINITY},jn=function(v,l){for(var R=["top","left","bottom","right"],X=v.getBBox(),ht=0,At=[],Ut=0;Ut<4;Ut++){var Yt=on(X,R[Ut]),qt=Yt[0],oe=Yt[1],Te=Yt[2],Ge=Yt[3];At[Ut]=Bn({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},{x:qt,y:oe},{x:Te,y:Ge}),At[Ut]&&(ht+=1)}return[At,ht]},Ie=function(v,l){for(var R=["top","left","bottom","right"],X=v.getBBox(),ht=Number.POSITIVE_INFINITY,At=0,Ut=0;Ut<4;Ut++){var Yt=on(X,R[Ut]),qt=Yt[0],oe=Yt[1],Te=Yt[2],Ge=Yt[3],Ue=mn(l,new pn(qt,oe,Te,Ge));(Ue=Math.abs(Ue-.5))>=0&&Ue<=1&&(At+=1,ht=Ue<ht?Ue:ht)}return At===0?-1:ht},fe=function(v){var l=0,R=0;if(v.length>0){for(var X=0,ht=v;X<ht.length;X++){var At=ht[X];l+=At.x,R+=At.y}l/=v.length,R/=v.length}return{x:l,y:R}},Ne=function(v,l){return Math.pow(v.x-l.x,2)+Math.pow(v.y-l.y,2)},Fe=function(v,l){var R,X=l.x1,ht=l.y1,At=l.x2-X,Ut=l.y2-ht,Yt=v.x-X,qt=v.y-ht,oe=Yt*At+qt*Ut;R=oe<=0||(oe=(Yt=At-Yt)*At+(qt=Ut-qt)*Ut)<=0?0:oe*oe/(At*At+Ut*Ut);var Te=Yt*Yt+qt*qt-R;return Te<0&&(Te=0),Te},rn=function(v,l,R){return R===void 0&&(R=.001),Math.pow(v.x-l.x,2)+Math.pow(v.y-l.y,2)<Math.pow(R,2)},ln=function(v,l){var R=v.x<l.x,X=v.x>l.x+l.width,ht=v.y>l.y+l.height,At=v.y<l.y;if(!(R||X||ht||At))return 0;if(ht&&!R&&!X)return Math.pow(l.y+l.height-v.y,2);if(At&&!R&&!X)return Math.pow(v.y-l.y,2);if(R&&!ht&&!At)return Math.pow(l.x-v.x,2);if(X&&!ht&&!At)return Math.pow(l.x+l.width-v.x,2);var Ut=Math.min(Math.abs(l.x-v.x),Math.abs(l.x+l.width-v.x)),Yt=Math.min(Math.abs(l.y-v.y),Math.abs(l.y+l.height-v.y));return Ut*Ut+Yt*Yt},_e="rgb(95, 149, 255)",dn="rgb(253, 253, 253)",En="rgb(247, 250, 255)",tr="rgb(224, 224, 224)",Pn="rgb(224, 224, 224)",Fn={version:"0.0.8",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:_e,fill:"rgb(239, 244, 255)"},size:20,color:_e,linkPoints:{size:8,lineWidth:1,fill:En,stroke:_e}},nodeStateStyles:{active:{fill:En,stroke:_e,lineWidth:2,shadowColor:_e,shadowBlur:10},selected:{fill:"rgb(255, 255, 255)",stroke:_e,lineWidth:4,shadowColor:_e,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:"rgb(223, 234, 255)",stroke:"#4572d9",lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:"rgb(247, 250, 255)",stroke:"rgb(191, 213, 255)",lineWidth:1},disable:{fill:"rgb(250, 250, 250)",stroke:"rgb(224, 224, 224)",lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:tr,lineAppendWidth:2},color:tr},edgeStateStyles:{active:{stroke:_e,lineWidth:1},selected:{stroke:_e,lineWidth:2,shadowColor:_e,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:_e,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:"rgb(234, 234, 234)",lineWidth:1},disable:{stroke:"rgb(245, 245, 245)",lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:dn,lineWidth:1,stroke:Pn,r:5,width:20,height:10},size:[20,5],color:Pn,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:_e,lineWidth:1,fill:"rgb(247, 250, 255)"},selected:{stroke:_e,lineWidth:2,fill:dn,shadowColor:_e,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:"#4572d9",lineWidth:2,fill:dn,"text-shape":{fontWeight:500}},inactive:{stroke:"rgb(224, 224, 224)",fill:dn,lineWidth:1},disable:{stroke:"rgb(234, 234, 234)",fill:"rgb(250, 250, 250)",lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]}},Cr=function(){function kt(v){this.graph=v,this.destroyed=!1,this.modes=v.get("modes")||{default:[]},this.formatModes(),this.mode=v.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return kt.prototype.formatModes=function(){var v=this.modes;Object(r.f)(v,function(l){Object(r.f)(l,function(R,X){Object(r.x)(R)&&(l[X]={type:R})})})},kt.prototype.setBehaviors=function(v){var l,R=this.graph,X=this.modes[v],ht=[];Object(r.f)(X||[],function(At){var Ut=cn.getBehavior(At.type||At);Ut&&(l=new Ut(At))&&(l.bind(R),ht.push(l))}),this.currentBehaves=ht},kt.mergeBehaviors=function(v,l){return Object(r.f)(l,function(R){v.indexOf(R)<0&&(Object(r.x)(R)&&(R={type:R}),v.push(R))}),v},kt.filterBehaviors=function(v,l){var R=[];return v.forEach(function(X){var ht="";ht=Object(r.x)(X)?X:X.type,l.indexOf(ht)<0&&R.push(X)}),R},kt.prototype.setMode=function(v){var l=this.modes,R=this.graph,X=v;l[X]&&(R.emit("beforemodechange",{mode:v}),Object(r.f)(this.currentBehaves,function(ht){ht.delegate&&ht.delegate.remove(),ht.unbind(R)}),this.setBehaviors(X),R.emit("aftermodechange",{mode:v}),this.mode=v)},kt.prototype.getMode=function(){return this.mode},kt.prototype.manipulateBehaviors=function(v,l,R){var X,ht=this;if(X=Object(r.m)(v)?v:[v],Object(r.m)(l))return Object(r.f)(l,function(Ut){ht.modes[Ut]?ht.modes[Ut]=R?kt.mergeBehaviors(ht.modes[Ut]||[],X):kt.filterBehaviors(ht.modes[Ut]||[],X):R&&(ht.modes[Ut]=X)}),this;var At=l;return l||(At=this.mode),this.modes[At]||R&&(this.modes[At]=X),this.modes[At]=R?kt.mergeBehaviors(this.modes[At]||[],X):kt.filterBehaviors(this.modes[At]||[],X),this.setMode(this.mode),this},kt.prototype.updateBehavior=function(v,l,R){Object(r.x)(v)&&(v={type:v});var X=[];if(R&&R!==this.mode&&R!=="default"){if(!(X=this.modes[R])||!X.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;var ht=X.length;for(Ut=0;Ut<ht;Ut++){if((Yt=X[Ut]).type===v.type||Yt===v.type)return Yt===v.type&&(Yt={type:Yt}),Object.assign(Yt,l),X[Ut]=Yt,this;Ut===ht-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(!(X=this.currentBehaves)||!X.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var At=X.length,Ut=0;Ut<At;Ut++){var Yt;if((Yt=X[Ut]).type===v.type)return Yt.updateCfg(l),this;Ut===At-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},kt.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},kt}(),fi=function(kt){function v(l,R){var X=kt.call(this,l,R)||this;return X.item=R.item,X.canvasX=R.canvasX,X.canvasY=R.canvasY,X.wheelDelta=R.wheelDelta,X.detail=R.detail,X}return Object(ut.b)(v,kt),v}(t(18).Event),ri=function(v){return v+"-"+Math.random()+Date.now()},zr=function(v){var l=0,R=0,X=0,ht=0;return Object(r.t)(v)?l=R=X=ht=v:Object(r.x)(v)?l=R=X=ht=parseInt(v,10):Object(r.m)(v)&&(l=v[0],X=Object(r.s)(v[1])?v[0]:v[1],ht=Object(r.s)(v[2])?v[0]:v[2],R=Object(r.s)(v[3])?X:v[3]),[l,X,ht,R]},wi=function(v){var l=new fi(v.type,v);return l.clientX=v.clientX,l.clientY=v.clientY,l.x=v.x,l.y=v.y,l.target=v.target,l.currentTarget=v.currentTarget,l.bubbles=!0,l.item=v.item,l},Ai=function(v){if(!v)return!1;for(var l=[1,0,0,0,1,0,0,0,1],R=0;R<9;R++)if(v[R]!==l[R])return!0;return!1},gi=function(v){return Number.isNaN(Number(v))},Oa=function(v){for(var l=1/0,R=-1/0,X=1/0,ht=-1/0,At=0;At<v.length;At++){var Ut=v[At].getBBox(),Yt=Ut.minX,qt=Ut.minY,oe=Ut.maxX,Te=Ut.maxY;Yt<l&&(l=Yt),qt<X&&(X=qt),oe>R&&(R=oe),Te>ht&&(ht=Te)}return{x:Math.floor(l),y:Math.floor(X),width:Math.ceil(R)-Math.floor(l),height:Math.ceil(ht)-Math.floor(X),minX:l,minY:X,maxX:R,maxY:ht}},Aa=function(v,l,R,X,ht){l===void 0&&(l=15),R===void 0&&(R="quadratic");for(var At=v.length,Ut=2*l,Yt=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],qt={},oe=[],Te={},Ge=0;Ge<At;Ge++){var Ue=v[Ge],Ve=Ue.source,vn=Ue.target,Tn=Ve+"-"+vn;if(!oe[Ge]){qt[Tn]||(qt[Tn]=[]),oe[Ge]=!0,qt[Tn].push(Ue);for(var Ln=0;Ln<At;Ln++)if(Ge!==Ln){var Un=v[Ln],Hn=Un.source,xr=Un.target;oe[Ln]||(Ve===xr&&vn===Hn?(qt[Tn].push(Un),oe[Ln]=!0,Te[Hn+"|"+xr+"|"+(qt[Tn].length-1)]=!0):Ve===Hn&&vn===xr&&(qt[Tn].push(Un),oe[Ln]=!0))}}}for(var Or in qt)for(var Rr=qt[Or],yi=Rr.length,Xi=0;Xi<yi;Xi++){var Zr=Rr[Xi];if(Zr.source!==Zr.target)if(yi===1&&X&&Zr.source!==Zr.target)Zr.type=X;else{Zr.type=R;var ki=(Xi%2==0?1:-1)*(Te[Zr.source+"|"+Zr.target+"|"+Xi]?-1:1);Zr.curveOffset=yi%2==1?ki*Math.ceil(Xi/2)*Ut:ki*(Math.floor(Xi/2)*Ut+l)}else ht&&(Zr.type=ht),Zr.loopCfg={position:Yt[Xi%8],dist:20*Math.floor(Xi/8)+50}}return v},Oo=function(){function kt(v){this.destroyed=!1,this.graph=v,this.destroyed=!1}return kt.prototype.getViewCenter=function(){var v=this.getFormatPadding(),l=this.graph,R=this.graph.get("width"),X=l.get("height");return{x:(R-v[1]-v[3])/2+v[3],y:(X-v[0]-v[2])/2+v[0]}},kt.prototype.fitCenter=function(){var v=this.graph,l=v.get("group");l.resetMatrix();var R=l.getCanvasBBox();if(R.width!==0&&R.height!==0){var X=this.getViewCenter(),ht=R.x+R.width/2,At=R.y+R.height/2;v.translate(X.x-ht,X.y-At)}},kt.prototype.fitView=function(){var v=this.graph,l=this.getFormatPadding(),R=v.get("width"),X=v.get("height"),ht=v.get("group");ht.resetMatrix();var At=ht.getCanvasBBox();if(At.width!==0&&At.height!==0){var Ut=this.getViewCenter(),Yt=At.x+At.width/2,qt=At.y+At.height/2;v.translate(Ut.x-Yt,Ut.y-qt);var oe=(R-l[1]-l[3])/At.width,Te=(X-l[0]-l[2])/At.height,Ge=oe;oe>Te&&(Ge=Te),v.zoom(Ge,Ut)}},kt.prototype.getFormatPadding=function(){var v=this.graph.get("fitViewPadding");return zr(v)},kt.prototype.focusPoint=function(v,l,R){var X=this,ht=this.getViewCenter(),At=this.getPointByCanvas(ht.x,ht.y),Ut=this.graph.get("group").getMatrix();if(Ut||(Ut=[1,0,0,0,1,0,0,0,1]),l){var Yt=(At.x-v.x)*Ut[0],qt=(At.y-v.y)*Ut[4],oe=0,Te=0,Ge=0,Ue=0;this.graph.get("canvas").animate(function(Ve){Ge=Yt*Ve,Ue=qt*Ve,X.graph.translate(Ge-oe,Ue-Te),oe=Ge,Te=Ue},Object(ut.a)({},R))}else this.graph.translate((At.x-v.x)*Ut[0],(At.y-v.y)*Ut[4])},kt.prototype.getPointByCanvas=function(v,l){var R=this.graph.get("group").getMatrix();return R||(R=[1,0,0,0,1,0,0,0,1]),L({x:v,y:l},R)},kt.prototype.getPointByClient=function(v,l){var R=this.graph.get("canvas").getPointByClient(v,l);return this.getPointByCanvas(R.x,R.y)},kt.prototype.getClientByPoint=function(v,l){var R=this.graph.get("canvas"),X=this.getCanvasByPoint(v,l),ht=R.getClientByPoint(X.x,X.y);return{x:ht.x,y:ht.y}},kt.prototype.getCanvasByPoint=function(v,l){var R=this.graph.get("group").getMatrix();return R||(R=[1,0,0,0,1,0,0,0,1]),je({x:v,y:l},R)},kt.prototype.focus=function(v,l,R){Object(r.x)(v)&&(v=this.graph.findById(v));var X=v.get("group").getMatrix();X||(X=[1,0,0,0,1,0,0,0,1]),v&&this.focusPoint({x:X[6],y:X[7]},l,R)},kt.prototype.changeSize=function(v,l){var R=this.graph;if(!Object(r.t)(v)||!Object(r.t)(l))throw Error("invalid canvas width & height, please make sure width & height type is number");R.set({width:v,height:l}),R.get("canvas").changeSize(v,l),R.get("plugins").forEach(function(X){if(X.get("gridContainer")){var ht=R.get("minZoom");Object(m.c)(X.get("container"),{width:v+"px",height:l+"px"}),Object(m.c)(X.get("gridContainer"),{width:v/ht+"px",height:l/ht+"px",left:0,top:0})}})},kt.prototype.destroy=function(){this.graph=null,this.destroyed=!1},kt}(),Fo={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,0:.6,1:.40099945068359377,2:.6,3:.6,4:.6,5:.6,6:.6,7:.5469985961914062,8:.6,9:.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},Yo=Math.PI,De=Math.sin,an=Math.cos,Mn=De(Yo/8),xn=an(Yo/8),bn=function(v,l){var R=v.getBBox(),X={x:R.minX,y:R.minY},ht={x:R.maxX,y:R.maxY};if(l){var At=l.getMatrix();At||(At=[1,0,0,0,1,0,0,0,1]),X=je(X,At),ht=je(ht,At)}var Ut=X.x,Yt=X.y,qt=ht.x,oe=ht.y;return{x:Ut,y:Yt,minX:Ut,minY:Yt,maxX:qt,maxY:oe,width:qt-Ut,height:oe-Yt}},Yn=function(v){var l=v.sourceNode||v.targetNode,R=l.get("group").getMatrix();R||(R=[1,0,0,0,1,0,0,0,1]);var X=l.getKeyShape().getBBox(),ht=v.loopCfg||{},At=ht.dist||2*Math.max(X.width,X.height),Ut=ht.position||Fn.defaultLoopPosition,Yt=[R[6],R[7]],qt=[v.startPoint.x,v.startPoint.y],oe=[v.endPoint.x,v.endPoint.y],Te=X.height/2,Ge=X.height/2,Ue=Te*Mn,Ve=Te*xn,vn=Ge*Mn,Tn=Ge*xn;if(qt[0]===oe[0]&&qt[1]===oe[1]){switch(Ut){case"top":qt=[Yt[0]-Ue,Yt[1]-Ve],oe=[Yt[0]+vn,Yt[1]-Tn];break;case"top-right":Te=X.height/2,Ge=X.width/2,qt=[Yt[0]+(Ue=Te*Mn),Yt[1]-(Ve=Te*xn)],oe=[Yt[0]+(Tn=Ge*xn),Yt[1]-(vn=Ge*Mn)];break;case"right":Te=X.width/2,Ge=X.width/2,qt=[Yt[0]+(Ve=Te*xn),Yt[1]-(Ue=Te*Mn)],oe=[Yt[0]+(Tn=Ge*xn),Yt[1]+(vn=Ge*Mn)];break;case"bottom-right":Te=X.width/2,Ge=X.height/2,qt=[Yt[0]+(Ve=Te*xn),Yt[1]+(Ue=Te*Mn)],oe=[Yt[0]+(vn=Ge*Mn),Yt[1]+(Tn=Ge*xn)];break;case"bottom":Te=X.height/2,Ge=X.height/2,qt=[Yt[0]+(Ue=Te*Mn),Yt[1]+(Ve=Te*xn)],oe=[Yt[0]-(vn=Ge*Mn),Yt[1]+(Tn=Ge*xn)];break;case"bottom-left":Te=X.height/2,Ge=X.width/2,qt=[Yt[0]-(Ue=Te*Mn),Yt[1]+(Ve=Te*xn)],oe=[Yt[0]-(Tn=Ge*xn),Yt[1]+(vn=Ge*Mn)];break;case"left":Te=X.width/2,Ge=X.width/2,qt=[Yt[0]-(Ve=Te*xn),Yt[1]+(Ue=Te*Mn)],oe=[Yt[0]-(Tn=Ge*xn),Yt[1]-(vn=Ge*Mn)];break;case"top-left":Te=X.width/2,Ge=X.height/2,qt=[Yt[0]-(Ve=Te*xn),Yt[1]-(Ue=Te*Mn)],oe=[Yt[0]-(vn=Ge*Mn),Yt[1]-(Tn=Ge*xn)];break;default:Te=X.width/2,Ge=X.width/2,qt=[Yt[0]-(Ue=Te*Mn),Yt[1]-(Ve=Te*xn)],oe=[Yt[0]+(vn=Ge*Mn),Yt[1]-(Tn=Ge*xn)]}if(ht.clockwise===!1){var Ln=[qt[0],qt[1]];qt=[oe[0],oe[1]],oe=[Ln[0],Ln[1]]}}var Un=[qt[0]-Yt[0],qt[1]-Yt[1]],Hn=(Te+At)/Te,xr=(Ge+At)/Ge;ht.clockwise===!1&&(Hn=(Ge+At)/Ge,xr=(Te+At)/Te);var Or=Xt.c.scale([0,0],Un,Hn),Rr=[Yt[0]+Or[0],Yt[1]+Or[1]],yi=[oe[0]-Yt[0],oe[1]-Yt[1]],Xi=Xt.c.scale([0,0],yi,xr),Zr=[Yt[0]+Xi[0],Yt[1]+Xi[1]];return v.startPoint={x:qt[0],y:qt[1]},v.endPoint={x:oe[0],y:oe[1]},v.controlPoints=[{x:Rr[0],y:Rr[1]},{x:Zr[0],y:Zr[1]}],v},Jn=function(v,l,R,X,ht){var At=[],Ut=v.getPoint(l);if(Ut===null)return{x:0,y:0,angle:0};if(l<1e-4)At=v.getStartTangent().reverse();else if(l>.9999)At=v.getEndTangent();else{var Yt=v.getPoint(l+1e-4);At.push([Ut.x,Ut.y]),At.push([Yt.x,Yt.y])}var qt=Math.atan2(At[1][1]-At[0][1],At[1][0]-At[0][0]);if(qt<0&&(qt+=2*Yo),R&&(Ut.x+=an(qt)*R,Ut.y+=De(qt)*R),X){var oe=qt-Yo/2;qt>.5*Yo&&qt<1.5*Yo&&(oe-=Yo),Ut.x+=an(oe)*X,Ut.y+=De(oe)*X}var Te={x:Ut.x,y:Ut.y,angle:qt};return ht?(qt>.5*Yo&&qt<1.5*Yo&&(qt-=Yo),Object(ut.a)({rotate:qt},Te)):Te},$n=function kt(v,l){if(l(v)===!1)return!1;if(v&&v.children){for(var R=v.children.length-1;R>=0;R--)if(!kt(v.children[R],l))return!1}return!0},_n=function(v,l){typeof l=="function"&&$n(v,l)},fr=function(v,l){typeof l=="function"&&function R(X,ht){if(X&&X.children){for(var At=X.children.length-1;At>=0;At--)if(!R(X.children[At],ht))return}return ht(X)!==!1}(v,l)},sr=function(v,l){return l*(Fo[v]||1)},vr=function(v,l){var R=0,X=new RegExp("[\u4E00-\u9FA5]+");return v.split("").forEach(function(ht){X.test(ht)?R+=l:R+=sr(ht,l)}),[R,l]},pr=function(v,l){var R=[],X={},ht={};v.forEach(function(Yt){ht[Yt.id]=Yt}),v.forEach(function(Yt,qt){var oe=Object(r.c)(Yt);oe.itemType="combo",oe.children=void 0,oe.parentId===oe.id?(console.warn("The parentId for combo "+oe.id+" can not be the same as the combo's id"),delete oe.parentId):oe.parentId&&!ht[oe.parentId]&&(console.warn("The parent combo for combo "+oe.id+" does not exist!"),delete oe.parentId);var Te=X[oe.id];if(Te){if(oe.children=Te.children,X[oe.id]=oe,!(Te=oe).parentId)return void R.push(Te);var Ge=X[Te.parentId];if(Ge)Ge.children?Ge.children.push(oe):Ge.children=[oe];else{var Ue={id:Te.parentId,children:[Te]};X[Te.parentId]=Ue,X[oe.id]=oe}}else if(Object(r.x)(Yt.parentId)){var Ve=X[Yt.parentId];if(Ve)Ve.children?Ve.children.push(oe):Ve.children=[oe],X[oe.id]=oe;else{var vn={id:Yt.parentId,children:[oe]};X[vn.id]=vn,X[oe.id]=oe}}else R.push(oe),X[oe.id]=oe});var At={};(l||[]).forEach(function(Yt){At[Yt.id]=Yt;var qt=X[Yt.comboId];if(qt){var oe={id:Yt.id,comboId:Yt.comboId};qt.children?qt.children.push(oe):qt.children=[oe],oe.itemType="node",X[Yt.id]=oe}});var Ut=0;return R.forEach(function(Yt){Yt.depth=Ut+10,$n(Yt,function(qt){var oe,Te=X[qt.id].itemType;oe=Te==="node"?X[qt.comboId]:X[qt.parentId],qt.depth=oe&&Te==="node"?Ut+1:Ut+10,Ut<qt.depth&&(Ut=qt.depth);var Ge=At[qt.id];return Ge&&(Ge.depth=qt.depth),!0})}),R},Wr=function(v,l,R){var X,ht=v,At={root:{children:v}},Ut=!1,Yt="root";(v||[]).forEach(function(Ue){if(!Ut)return Ue.id===l?(X=Ue,Ue.itemType==="combo"?X.parentId=R:X.comboId=R,void(Ut=!0)):void _n(Ue,function(Ve){return At[Ve.id]={children:Ve.children},ht=At[Ve.parentId||Ve.comboId||"root"].children,!Ve||!Ve.removed&&l!==Ve.id||!ht||(Yt=Ve.parentId||Ve.comboId||"root",X=Ve,Ve.itemType==="combo"?X.parentId=R:X.comboId=R,Ut=!0,!1)})});var qt=(ht=At[Yt].children)?ht.indexOf(X):-1;if(qt>-1&&ht.splice(qt,1),Ut||(X={id:l,itemType:"node",comboId:R},At[l]={children:void 0}),l){var oe=!1;if(R){var Te=0;(v||[]).forEach(function(Ue){oe||_n(Ue,function(Ve){return R!==Ve.id||(oe=!0,Ve.children?Ve.children.push(X):Ve.children=[X],Te=Ve.depth,X.itemType==="node"?X.depth=Te+2:X.depth=Te+1,!1)})})}else R&&oe||X.itemType==="node"||v.push(X);var Ge=X.depth;_n(X,function(Ue){return Ue.itemType==="node"?Ge+=2:Ge+=1,Ue.depth=Ge,!0})}return v},Ur=function(v,l){var R={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return v&&v.length!==0&&(v.forEach(function(X){var ht=l.findById(X.id);if(ht&&ht.isVisible()){ht.set("bboxCanvasCache",void 0);var At=ht.getCanvasBBox();At.x&&R.minX>At.minX&&(R.minX=At.minX),At.y&&R.minY>At.minY&&(R.minY=At.minY),At.x&&R.maxX<At.maxX&&(R.maxX=At.maxX),At.y&&R.maxY<At.maxY&&(R.maxY=At.maxY)}}),R.x=(R.minX+R.maxX)/2,R.y=(R.minY+R.maxY)/2,R.width=R.maxX-R.minX,R.height=R.maxY-R.minY,R.centerX=(R.minX+R.maxX)/2,R.centerY=(R.minY+R.maxY)/2,Object.keys(R).forEach(function(X){R[X]!==1/0&&R[X]!==-1/0||(R[X]=void 0)})),R},Ii=function(v){var l=Object(r.t)(v.x)||Object(r.t)(v.y)||v.type||v.anchorPoints||v.size;return v.style&&(l=l||Object(r.t)(v.style.r)||Object(r.t)(v.style.width)||Object(r.t)(v.style.height)||Object(r.t)(v.style.rx)||Object(r.t)(v.style.ry)),l},br=function(v){var l={};return Object.keys(v).forEach(function(R){var X=v[R];if(Object(r.v)(X)){var ht={};Object.keys(X).forEach(function(At){var Ut=X[At];(At!=="img"||Object(r.x)(Ut))&&(ht[At]=Object(r.c)(Ut))}),l[R]=ht}else l[R]=Object(r.c)(X)}),l};function hi(kt){return(hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(kt)}function Vr(kt){if(typeof kt!="string")return kt;var v=function(Rr){if(typeof Rr!="string")return Rr;try{return JSON.parse(Rr.trim())}catch(yi){return Rr.trim()}},l=v(kt);if(typeof l!="string")return l;for(var R=function(Rr){return Rr[Rr.length-1]},X=kt.trim(),ht=[],At=[],Ut=function(){for(var Rr=[],yi=0;yi<arguments.length;yi++)Rr[yi]=arguments[yi];return Rr.some(function(Xi){return R(At)===Xi})},Yt=null,qt=0,oe="";qt<X.length;){var Te=X[qt],Ge=Ut('"',"'");if(Ge||Te.trim()){var Ue=X[qt-1]==="\\",Ve=Ut("}"),vn=Ut("]"),Tn=Ut(","),Ln=R(ht);if(Ge)if(R(At)!==Te||Ue)oe+=Te;else{At.pop();var Un=v(oe);Ln.push(Un),Yt=Un,oe=""}else if(vn&&Te===",")oe&&(Ln.push(v(oe)),oe="");else if(Ve&&Te===":")At.push(","),oe&&(Ln.push(oe),oe="");else if(Tn&&Te===",")oe&&(Ln.push(v(oe)),oe=""),At.pop();else if(Te==="}"&&(Ve||Tn)){oe&&(Ln.push(v(oe)),oe=""),Tn&&At.pop();for(var Hn={},xr=1;xr<Ln.length;xr+=2)Hn[Ln[xr-1]]=Ln[xr];ht.pop(),ht.length&&R(ht).push(Hn),At.pop(),Yt=Hn}else Te==="]"&&vn?(oe&&(Ln.push(v(oe)),oe=""),ht.pop(),ht.length&&R(ht).push(Ln),At.pop(),Yt=Ln):Te==="{"?(ht.push([]),At.push("}")):Te==="["?(ht.push([]),At.push("]")):Te==='"'?At.push('"'):Te==="'"?At.push("'"):oe+=Te;qt+=1}else qt+=1}return Yt||oe}function ji(kt,v){var l;v===void 0&&(v={x:0,y:0});var R=Object(ut.a)({x:0,y:0,width:0,height:0},v);if((l=kt.children)===null||l===void 0?void 0:l.length){var X=kt.attrs,ht=X===void 0?{}:X,At=ht.marginTop,Ut=Object(ut.a)({},v);At&&(Ut.y+=At);for(var Yt=0;Yt<kt.children.length;Yt++){kt.children[Yt].attrs.key=(ht.key||"root")+" -"+Yt+" ";var qt=ji(kt.children[Yt],Ut);if(qt.bbox){var oe=qt.bbox;qt.attrs.next==="inline"?Ut.x+=qt.bbox.width:Ut.y+=qt.bbox.height,oe.width+oe.x>R.width&&(R.width=oe.width+oe.x),oe.height+oe.y>R.height&&(R.height=oe.height+oe.y)}}}return kt.bbox=function(Te,Ge,Ue){var Ve,vn,Tn=Te.attrs,Ln=Tn===void 0?{}:Tn,Un={x:Ge.x||0,y:Ge.y||0,width:Ue.width||0,height:Ue.height||0};switch(Te.type){case"maker":case"circle":Ln.r&&(vn=2*Ln.r,Ve=2*Ln.r);break;case"text":Ln.text&&(vn=vr(Ln.text,Ln.fontSize||12)[0],Ve=16,Un.y+=Ve,Un.height=Ve,Un.width=vn,Te.attrs=Object(ut.a)({fontSize:12,fill:"#000"},Ln));break;default:Ln.width&&(vn=Ln.width),Ln.height&&(Ve=Ln.height)}return Ve>=0&&(Un.height=Ve),vn>=0&&(Un.width=vn),Ln.marginTop&&(Un.y+=Ln.marginTop),Ln.marginLeft&&(Un.x+=Ln.marginLeft),Un}(kt,v,R),kt.attrs=Object(ut.a)(Object(ut.a)({},kt.attrs),kt.bbox),kt}function zi(kt){var v={},l=function(X){var ht=function(Yt){return function(qt){for(var oe=Yt.length,Te=[],Ge=0,Ue="";Ge<oe;)if(Yt[Ge]==="{"&&Yt[Ge+1]==="{")Te.push(Ue),Ue="",Ge+=2;else if(Yt[Ge]==="}"&&Yt[Ge+1]==="}"){if(Te.length){var Ve=Te.pop();Ue=Object(r.i)(qt,Ue,Ve.endsWith("=")?'"{'+Ue+'}"':Ue),Te.push(Ve+Ue)}Ge+=2,Ue=""}else Ue+=Yt[Ge],Ge+=1;return Te.push(Ue),Te.map(function(vn,Tn){return Te[Tn-1]&&Te[Tn-1].endsWith("=")?'"{'+vn+'}"':vn}).join("")}}(typeof kt=="function"?kt(X):kt)(X),At=document.createElement("div");At.innerHTML=ht;var Ut=ji(function Yt(qt,oe){var Te={},Ge=qt.getAttributeNames&&qt.getAttributeNames()||[],Ue=qt.children&&Array.from(qt.children).map(function(Tn){return Yt(Tn,oe)}),Ve={},vn=qt.tagName?qt.tagName.toLowerCase():"group";return vn==="text"&&(Te.text=qt.innerText),Ve.type=vn,vn==="img"&&(Ve.type="image"),Array.from(Ge).forEach(function(Tn){var Ln=Tn.split("-").reduce(function(xr,Or){return xr+Or.charAt(0).toUpperCase()+Or.slice(1)}),Un=qt.getAttribute(Tn);try{if(Ln==="style"||Ln==="attrs"){var Hn=Vr(Un);Te=Object(ut.a)(Object(ut.a)({},Te),Hn)}else Ve[Ln]=Vr(Un)}catch(xr){if(Ln==="style")throw xr;Ve[Ln]=Un}}),Ve.attrs=Te,oe&&oe.style&&Ve.name&&hi(oe.style[Ve.name])==="object"&&(Ve.attrs=Object(ut.a)(Object(ut.a)({},Ve.attrs),oe.style[Ve.name])),oe&&oe.style&&Ve.keyshape&&(Ve.attrs=Object(ut.a)(Object(ut.a)({},Ve.attrs),oe.style)),Ue.length&&(Ve.children=Ue),Ve}(At.children[0],X));return At.remove(),Ut};return{draw:function(X,ht){var At=l(X),Ut=ht;return function Yt(qt){var oe=qt.attrs,Te=oe===void 0?{}:oe,Ge=qt.bbox,Ue=qt.type,Ve=qt.children,vn=Object(ut.c)(qt,["attrs","bbox","type","children"]);if(qt.type!=="group"){var Tn=ht.addShape(qt.type,Object(ut.a)({attrs:Te,origin:{bbox:Ge,type:Ue,children:Ve}},vn));qt.keyshape&&(Ut=Tn)}qt.children&&qt.children.forEach(function(Ln){return Yt(Ln)})}(At),v[X.id]=[At],Ut},update:function(X,ht){v[X.id]||(v[X.id]=[]);var At=ht.getContainer(),Ut=At.get("children"),Yt=l(X),qt=function Ge(Ue,Ve){var vn,Tn,Ln,Un,Hn=(Ue||{}).type,xr=((Ve==null?void 0:Ve.attrs)||{}).key;if(xr&&Ue&&(Ue.attrs.key=xr),!Ue&&Ve)return{action:"delete",val:Ve,type:Hn,key:xr};if(Ue&&!Ve)return{action:"add",val:Ue,type:Hn};if(!Ue&&!Ve)return{action:"same",type:Hn};var Or=[];if(((vn=Ue.children)===null||vn===void 0?void 0:vn.length)>0||((Tn=Ve.children)===null||Tn===void 0?void 0:Tn.length)>0)for(var Rr=Math.max((Ln=Ue.children)===null||Ln===void 0?void 0:Ln.length,(Un=Ve.children)===null||Un===void 0?void 0:Un.length),yi=Ve.children||[],Xi=Ue.children||[],Zr=0;Zr<Rr;Zr+=1)Or.push(Ge(Xi[Zr],yi[Zr]));var ki=Object.keys(Ve.attrs),Ba=Object.keys(Ue.attrs);return Ve.type!==Ue.type?{action:"restructure",nowTarget:Ue,formerTarget:Ve,key:xr,children:Or}:ki.filter(function(Ha){return Ha!=="children"}).some(function(Ha){return Ue.attrs[Ha]!==Ve.attrs[Ha]||!Ba.includes(Ha)})?{action:"change",val:Ue,children:Or,type:Hn,key:xr}:{action:"same",children:Or,type:Hn,key:xr}}(Yt,v[X.id].pop()),oe=function Ge(Ue){var Ve;Ue.type!=="group"&&At.addShape(Ue.type,{attrs:Ue.attrs}),((Ve=Ue.children)===null||Ve===void 0?void 0:Ve.length)&&Ue.children.map(function(vn){return Ge(vn)})},Te=function Ge(Ue){var Ve,vn=Ut.find(function(Tn){return Tn.attrs.key===Ue.attrs.key});vn&&At.removeChild(vn),((Ve=Ue.children)===null||Ve===void 0?void 0:Ve.length)&&Ue.children.map(function(Tn){return Ge(Tn)})};(function Ge(Ue){var Ve=Ue.key;if(Ue.type!=="group"){var vn=Ut.find(function(Ln){return Ln.attrs.key===Ve});switch(Ue.action){case"change":if(vn){var Tn=Ue.val.keyshape?ht.getOriginStyle():{};vn.attr(Object(ut.a)(Object(ut.a)({},Tn),Ue.val.attrs))}break;case"add":oe(Ue.val);break;case"delete":Te(Ue.val);break;case"restructure":Te(Ue.formerTarget),oe(Ue.nowTarget)}}Ue.children&&Ue.children.forEach(function(Ln){return Ge(Ln)})})(qt),v[X.id].push(Yt)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var Ui={};function ra(kt){return Ui[kt]||(Ui[kt]=Object(r.I)(kt)),Ui[kt]}var da={defaultShapeType:"defaultType",className:null,getShape:function(v){return this[v]||this[this.defaultShapeType]||this["simple-circle"]},draw:function(v,l,R){var X=this.getShape(v),ht=X.draw(l,R);return X.afterDraw&&X.afterDraw(l,R,ht),ht},baseUpdate:function(v,l,R){var X=this.getShape(v);X.update&&X.update(l,R),X.afterUpdate&&X.afterUpdate(l,R)},setState:function(v,l,R,X){this.getShape(v).setState(l,R,X)},shouldUpdate:function(v){return!!this.getShape(v).update},getControlPoints:function(v,l){return this.getShape(v).getControlPoints(l)},getAnchorPoints:function(v,l){return this.getShape(v).getAnchorPoints(l)}},Di={options:{},draw:function(v,l){return this.drawShape(v,l)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(v){return v.controlPoints},getAnchorPoints:function(v){var l=this.options.anchorPoints;return v.anchorPoints||l}},kr=function(){function kt(){}return kt.registerFactory=function(v,l){var R=ra(v),X=da,ht=Object(ut.a)(Object(ut.a)({},X),l);return kt[R]=ht,ht.className=R,ht},kt.getFactory=function(v){return kt[ra(v)]},kt.registerNode=function(v,l,R){var X,ht=kt.Node;if(typeof l=="string"||typeof l=="function"){var At=zi(l);X=Object(ut.a)(Object(ut.a)({},ht.getShape("single-node")),At)}else if(l.jsx)At=zi(l.jsx),X=Object(ut.a)(Object(ut.a)(Object(ut.a)({},ht.getShape("single-node")),At),l);else{ht.getShape(R);var Ut=R?ht.getShape(R):Di;X=Object(ut.a)(Object(ut.a)({},Ut),l)}return X.type=v,X.itemType="node",ht[v]=X,X},kt.registerEdge=function(v,l,R){var X=kt.Edge,ht=R?X.getShape(R):Di,At=Object(ut.a)(Object(ut.a)({},ht),l);return At.type=v,At.itemType="edge",X[v]=At,At},kt.registerCombo=function(v,l,R){var X=kt.Combo,ht=R?X.getShape(R):Di,At=Object(ut.a)(Object(ut.a)({},ht),l);return At.type=v,At.itemType="combo",X[v]=At,At},kt}(),er=kr;kr.registerFactory("node",{defaultShapeType:"circle"}),kr.registerFactory("edge",{defaultShapeType:"line"}),kr.registerFactory("combo",{defaultShapeType:"circle"});var Vi=["startArrow","endArrow"],_a=function(){function kt(v){this._cfg={},this.destroyed=!1;var l={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(l,this.getDefaultCfg(),v);var R=this.get("model"),X=R.id,ht=this.get("type");X||(X=ri(ht),this.get("model").id=X),this.set("id",X);var At=v.group;At&&(At.set("item",this),At.set("id",X)),this.init(),this.draw();var Ut=R.shape||R.type||(ht==="edge"?"line":"circle"),Yt=this.get("shapeFactory");if(Yt&&Yt[Ut]){var qt=Yt[Ut].options;if(qt&&qt.stateStyles){var oe=this.get("styles")||R.stateStyles;oe=Object(r.e)({},qt.stateStyles,oe),this.set("styles",oe)}}}return kt.prototype.calculateBBox=function(){var v=this.get("keyShape"),l=this.get("group"),R=bn(v,l);return R.x=R.minX,R.y=R.minY,R.width=R.maxX-R.minX,R.height=R.maxY-R.minY,R.centerX=(R.minX+R.maxX)/2,R.centerY=(R.minY+R.maxY)/2,R},kt.prototype.calculateCanvasBBox=function(){var v=this.get("keyShape"),l=this.get("group"),R=bn(v,l);return R.x=R.minX,R.y=R.minY,R.width=R.maxX-R.minX,R.height=R.maxY-R.minY,R.centerX=(R.minX+R.maxX)/2,R.centerY=(R.minY+R.maxY)/2,R},kt.prototype.drawInner=function(){var v=this.get("shapeFactory"),l=this.get("group"),R=this.get("model");l.clear();var X=R.visible;if(X===void 0||X||this.changeVisibility(X),v){this.updatePosition(R);var ht=this.getShapeCfg(R),At=ht.type,Ut=v.draw(At,ht,l);Ut&&(this.set("keyShape",Ut),Ut.set("isKeyShape",!0),Ut.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",At),this.restoreStates(v,At)}},kt.prototype.setOriginStyle=function(v){var l=this.get("group").get("children"),R=this.getKeyShape(),X=this,ht=R.get("name");if(this.get("originStyle")){var At=this.getOriginStyle();ht&&!At[ht]&&(At[ht]={});var Ut=this.getCurrentStatesStyle();Object(r.f)(l,function(qt){var oe=qt.get("name"),Te=qt.attr();if(oe&&oe!==ht){var Ge=Ut[oe];At[oe]||(At[oe]={}),Ge?Object.keys(Te).forEach(function(vn){var Tn=Te[vn];Tn!==Ge[vn]&&(At[oe][vn]=Tn)}):At[oe]=Object(r.c)(Te)}else{var Ue=qt.attr(),Ve=Object(ut.a)(Object(ut.a)({},Ut),Ut[ht]);Object.keys(Ue).forEach(function(vn){var Tn=Ue[vn];Object(r.w)(Tn)&&Vi.indexOf(oe)===-1||Ve[vn]!==Tn&&(ht?At[ht][vn]=Tn:At[vn]=Tn)})}}),At.path&&delete At.path,At.matrix&&delete At.matrix,X.set("originStyle",At)}else{var Yt={};Object(r.f)(l,function(qt){var oe=qt.get("type"),Te=qt.get("name");if(Te&&Te!==ht)Yt[Te]=oe!=="image"?Object(r.c)(qt.attr()):X.getShapeStyleByName(Te);else{var Ge=X.getShapeStyleByName();if(Ge.path&&delete Ge.path,Ge.matrix&&delete Ge.matrix,ht)if(Te)Yt[ht]=Ge;else{var Ue=ri("shape");qt.set("name",Ue),Yt[Ue]=oe!=="image"?Object(r.c)(qt.attr()):X.getShapeStyleByName(Te)}else Object.assign(Yt,Ge)}}),X.set("originStyle",Yt)}},kt.prototype.restoreStates=function(v,l){var R=this,X=R.get("states");Object(r.f)(X,function(ht){v.setState(l,ht,!0,R)})},kt.prototype.init=function(){var v=er.getFactory(this.get("type"));this.set("shapeFactory",v)},kt.prototype.get=function(v){return this._cfg[v]},kt.prototype.set=function(v,l){Object(r.w)(v)?this._cfg=Object(ut.a)(Object(ut.a)({},this._cfg),v):this._cfg[v]=l},kt.prototype.getDefaultCfg=function(){return{}},kt.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null)},kt.prototype.beforeDraw=function(){},kt.prototype.afterDraw=function(){},kt.prototype.afterUpdate=function(){},kt.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},kt.prototype.getShapeStyleByName=function(v){var l,R=this.get("group");if(l=v?R.find(function(ht){return ht.get("name")===v}):this.getKeyShape()){var X={};return Object(r.f)(l.attr(),function(ht,At){At!=="img"&&(X[At]=ht)}),X}return{}},kt.prototype.getShapeCfg=function(v){var l=this.get("styles");if(l){var R=v;return R.style=Object(ut.a)(Object(ut.a)({},l),v.style),R}return v},kt.prototype.getStateStyle=function(v){var l=this.get("styles");return l&&l[v]},kt.prototype.getOriginStyle=function(){return this.get("originStyle")},kt.prototype.getCurrentStatesStyle=function(){var v=this,l={},R=v.getStates();return R&&R.length?(Object(r.f)(v.getStates(),function(X){l=Object.assign(l,v.getStateStyle(X))}),l):this.getOriginStyle()},kt.prototype.setState=function(v,l){var R=this.get("states"),X=this.get("shapeFactory"),ht=v,At=v;Object(r.x)(l)&&(ht=v+":"+l,At=v+":");var Ut=R;if(Object(r.n)(l)){var Yt=R.indexOf(At);if(l){if(Yt>-1)return;R.push(ht)}else Yt>-1&&R.splice(Yt,1)}else if(Object(r.x)(l)){var qt=R.filter(function(Te){return Te.includes(At)});qt.length>0&&this.clearStates(qt),(Ut=Ut.filter(function(Te){return!Te.includes(At)})).push(ht),this.set("states",Ut)}if(X){var oe=this.get("model").type;X.setState(oe,v,l,this)}},kt.prototype.clearStates=function(v){var l=this,R=l.getStates(),X=l.get("shapeFactory"),ht=l.get("model").type;v||(v=R),Object(r.x)(v)&&(v=[v]);var At=R.filter(function(Ut){return v.indexOf(Ut)===-1});l.set("states",At),v.forEach(function(Ut){X.setState(ht,Ut,!1,l)})},kt.prototype.getContainer=function(){return this.get("group")},kt.prototype.getKeyShape=function(){return this.get("keyShape")},kt.prototype.getModel=function(){return this.get("model")},kt.prototype.getType=function(){return this.get("type")},kt.prototype.getID=function(){return this.get("id")},kt.prototype.isItem=function(){return!0},kt.prototype.getStates=function(){return this.get("states")},kt.prototype.hasState=function(v){return this.getStates().indexOf(v)>=0},kt.prototype.refresh=function(){var v=this.get("model");this.updatePosition(v),this.updateShape(),this.afterUpdate(),this.clearCache()},kt.prototype.isOnlyMove=function(v){return!1},kt.prototype.update=function(v,l){l===void 0&&(l=!1);var R=this.get("model"),X=R.visible,ht=v.visible;X!==ht&&ht!==void 0&&this.changeVisibility(ht);var At=R.x,Ut=R.y;v.x=isNaN(v.x)?R.x:v.x,v.y=isNaN(v.y)?R.y:v.y;var Yt=this.get("styles");if(v.stateStyles){var qt=v.stateStyles;Object(r.A)(Yt,qt),delete v.stateStyles}Object.assign(R,v),l?this.updatePosition(v):(At===v.x&&Ut===v.y||this.updatePosition(v),this.updateShape()),this.afterUpdate(),this.clearCache()},kt.prototype.updateShape=function(){var v=this.get("shapeFactory"),l=this.get("model"),R=l.type;if(v.shouldUpdate(R)&&R===this.get("currentShape")){var X=this.getShapeCfg(l);v.baseUpdate(R,X,this)}else this.draw();this.setOriginStyle(l),this.restoreStates(v,R)},kt.prototype.updatePosition=function(v){var l=this.get("model"),R=Object(r.s)(v.x)?l.x:v.x,X=Object(r.s)(v.y)?l.y:v.y,ht=this.get("group");Object(r.s)(R)||Object(r.s)(X)||(ht.resetMatrix(),he(ht,{x:R,y:X}),l.x=R,l.y=X,this.clearCache())},kt.prototype.getBBox=function(){var v=this.get("bboxCache");return v||(v=this.calculateBBox(),this.set("bboxCache",v)),v},kt.prototype.getCanvasBBox=function(){var v=this.get("bboxCanvasCache");return v||(v=this.calculateCanvasBBox(),this.set("bboxCanvasCache",v)),v},kt.prototype.toFront=function(){this.get("group").toFront()},kt.prototype.toBack=function(){this.get("group").toBack()},kt.prototype.show=function(){this.changeVisibility(!0)},kt.prototype.hide=function(){this.changeVisibility(!1)},kt.prototype.changeVisibility=function(v){var l=this.get("group");v?l.show():l.hide(),this.set("visible",v)},kt.prototype.isVisible=function(){return this.get("visible")},kt.prototype.enableCapture=function(v){var l=this.get("group");l&&l.set("capture",v)},kt.prototype.destroy=function(){if(!this.destroyed){var v=this.get("animate"),l=this.get("group");v&&l.stopAnimate(),this.clearCache(),l.remove(),this._cfg=null,this.destroyed=!0}},kt}(),Si={source:"start",target:"end"},Yi=function(kt){function v(){return kt!==null&&kt.apply(this,arguments)||this}return Object(ut.b)(v,kt),v.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},v.prototype.setEnd=function(l,R){var X=Si[l]+"Point",ht=l+"Node",At=this.get(ht);At&&!At.destroyed&&At.removeEdge(this),Object(r.w)(R)?(this.set(X,R),this.set(ht,null)):(R.addEdge(this),this.set(ht,R),this.set(X,null))},v.prototype.getLinkPoint=function(l,R,X){var ht=Si[l]+"Point",At=l+"Node",Ut=this.get(ht);if(!Ut){var Yt=this.get(At),qt=l+"Anchor",oe=this.getPrePoint(l,X),Te=R[qt];Object(r.s)(Te)||(Ut=Yt.getLinkPointByAnchor(Te)),Ut=Ut||Yt.getLinkPoint(oe),Object(r.s)(Ut.index)||this.set(l+"AnchorIndex",Ut.index)}return Ut},v.prototype.getPrePoint=function(l,R){if(R&&R.length)return R[l==="source"?0:R.length-1];var X=l==="source"?"target":"source";return this.getEndPoint(X)},v.prototype.getEndPoint=function(l){var R=l+"Node",X=Si[l]+"Point",ht=this.get(R);return ht?ht.get("model"):this.get(X)},v.prototype.getControlPointsByCenter=function(l){var R=this.getEndPoint("source"),X=this.getEndPoint("target"),ht=this.get("shapeFactory"),At=l.type;return ht.getControlPoints(At,{startPoint:R,endPoint:X})},v.prototype.getEndCenter=function(l){var R=l+"Node",X=Si[l]+"Point",ht=this.get(R);if(ht){var At=ht.getBBox();return{x:At.centerX,y:At.centerY}}return this.get(X)},v.prototype.init=function(){kt.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},v.prototype.getShapeCfg=function(l){var R=this.get("linkCenter"),X=kt.prototype.getShapeCfg.call(this,l);if(R)X.startPoint=this.getEndCenter("source"),X.endPoint=this.getEndCenter("target");else{var ht=X.controlPoints||this.getControlPointsByCenter(X);X.startPoint=this.getLinkPoint("source",l,ht),X.endPoint=this.getLinkPoint("target",l,ht)}return X.sourceNode=this.get("sourceNode"),X.targetNode=this.get("targetNode"),X},v.prototype.getModel=function(){var l=this.get("model"),R=this.get("sourceNode"),X=this.get("targetNode");return R?delete l.sourceNode:l.source=this.get("startPoint"),X?delete l.targetNode:l.target=this.get("endPoint"),Object(r.x)(l.source)||Object(r.w)(l.source)||(l.source=l.source.getID()),Object(r.x)(l.target)||Object(r.w)(l.target)||(l.target=l.target.getID()),l},v.prototype.setSource=function(l){this.setEnd("source",l),this.set("source",l)},v.prototype.setTarget=function(l){this.setEnd("target",l),this.set("target",l)},v.prototype.getSource=function(){return this.get("source")},v.prototype.getTarget=function(){return this.get("target")},v.prototype.updatePosition=function(){},v.prototype.update=function(l,R){R===void 0&&(R=!1);var X=this.get("model"),ht=X.visible,At=l.visible;ht!==At&&At!==void 0&&this.changeVisibility(At);var Ut=this.get("styles");if(l.stateStyles){var Yt=l.stateStyles;Object(r.A)(Ut,Yt),delete l.stateStyles}Object.assign(X,l),this.updateShape(),this.afterUpdate(),this.clearCache()},v.prototype.destroy=function(){var l=this.get("sourceNode"),R=this.get("targetNode");l&&!l.destroyed&&l.removeEdge(this),R&&!R.destroyed&&R.removeEdge(this),kt.prototype.destroy.call(this)},v}(_a),ea=function(kt){function v(){return kt!==null&&kt.apply(this,arguments)||this}return Object(ut.b)(v,kt),v.prototype.getNearestPoint=function(l,R){for(var X=0,ht=l[0],At=$t(l[0],R),Ut=0;Ut<l.length;Ut++){var Yt=l[Ut],qt=$t(Yt,R);qt<At&&(ht=Yt,At=qt,X=Ut)}return ht.anchorIndex=X,ht},v.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},v.prototype.getEdges=function(){return this.get("edges")},v.prototype.getInEdges=function(){var l=this;return this.get("edges").filter(function(R){return R.get("target")===l})},v.prototype.getOutEdges=function(){var l=this;return this.get("edges").filter(function(R){return R.get("source")===l})},v.prototype.getNeighbors=function(l){var R=this,X=this.get("edges");return l==="target"?X.filter(function(ht){return ht.getSource()===R}).map(function(ht){return ht.getTarget()}):l==="source"?X.filter(function(ht){return ht.getTarget()===R}).map(function(ht){return ht.getSource()}):X.map(function(ht){return ht.getSource()===R?ht.getTarget():ht.getSource()})},v.prototype.getLinkPointByAnchor=function(l){return this.getAnchorPoints()[l]},v.prototype.getLinkPoint=function(l){var R,X,ht=this.get("keyShape").get("type"),At=this.get("type"),Ut=this.getBBox();At==="combo"?(R=Ut.centerX||(Ut.maxX+Ut.minX)/2,X=Ut.centerY||(Ut.maxY+Ut.minY)/2):(R=Ut.centerX,X=Ut.centerY);var Yt,qt=this.getAnchorPoints();switch(ht){case"circle":Yt=Kn({x:R,y:X,r:Ut.width/2},l);break;case"ellipse":Yt=$e({x:R,y:X,rx:Ut.width/2,ry:Ut.height/2},l);break;default:Yt=Zn(Ut,l)}var oe=Yt;return qt.length&&(oe||(oe=l),oe=this.getNearestPoint(qt,oe)),oe||(oe={x:R,y:X}),oe},v.prototype.getAnchorPoints=function(){var l=this.get("anchorPointsCache");if(!l){l=[];var R=this.get("shapeFactory"),X=this.getBBox(),ht=this.get("model"),At=this.getShapeCfg(ht),Ut=ht.type,Yt=R.getAnchorPoints(Ut,At)||[];Object(r.f)(Yt,function(qt,oe){var Te={x:X.minX+qt[0]*X.width,y:X.minY+qt[1]*X.height,anchorIndex:oe};l.push(Te)}),this.set("anchorPointsCache",l)}return l},v.prototype.addEdge=function(l){this.get("edges").push(l)},v.prototype.lock=function(){this.set("locked",!0)},v.prototype.unlock=function(){this.set("locked",!1)},v.prototype.hasLocked=function(){return this.get("locked")},v.prototype.removeEdge=function(l){var R=this.getEdges(),X=R.indexOf(l);X>-1&&R.splice(X,1)},v.prototype.clearCache=function(){this.set("bboxCache",null),this.set("anchorPointsCache",null)},v.prototype.isOnlyMove=function(l){if(!l)return!1;var R=!Object(r.s)(l.x),X=!Object(r.s)(l.y),ht=Object.keys(l);return ht.length===1&&(R||X)||ht.length===2&&R&&X},v}(_a),no=function(kt){function v(){return kt!==null&&kt.apply(this,arguments)||this}return Object(ut.b)(v,kt),v.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},v.prototype.getShapeCfg=function(l){var R=this.get("styles"),X=this.get("bbox");if(R&&X){var ht=l,At={r:Math.hypot(X.height,X.width)/2||Fn.defaultCombo.size[0]/2,width:X.width||Fn.defaultCombo.size[0],height:X.height||Fn.defaultCombo.size[1]};ht.style=Object(ut.a)(Object(ut.a)(Object(ut.a)({},R),l.style),At);var Ut=l.padding||Fn.defaultCombo.padding;return Object(r.t)(Ut)?(At.r+=Ut,At.width+=2*Ut,At.height+=2*Ut):(At.r+=Ut[0],At.width+=Ut[1]+Ut[3]||2*Ut[1],At.height+=Ut[0]+Ut[2]||2*Ut[0]),this.set("sizeCache",At),ht}return l},v.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var l=this.get("keyShape"),R=this.get("group"),X=bn(l,R);X.centerX=(X.minX+X.maxX)/2,X.centerY=(X.minY+X.maxY)/2;var ht=this.get("sizeCache"),At=this.get("bboxCache")||{},Ut=At.x,Yt=At.x;return ht?(l.get("type")==="circle"?(X.width=2*ht.r,X.height=2*ht.r):(X.width=ht.width,X.height=ht.height),X.minX=X.centerX-X.width/2,X.minY=X.centerY-X.height/2,X.maxX=X.centerX+X.width/2,X.maxY=X.centerY+X.height/2):(X.width=X.maxX-X.minX,X.height=X.maxY-X.minY,X.centerX=(X.minX+X.maxX)/2,X.centerY=(X.minY+X.maxY)/2),X.x=X.minX,X.y=X.minY,X.x===Ut&&X.y===Yt||this.set("anchorPointsCache",null),X}},v.prototype.getChildren=function(){return{nodes:this.getNodes(),combos:this.getCombos()}},v.prototype.getNodes=function(){return this.get("nodes")},v.prototype.getCombos=function(){return this.get("combos")},v.prototype.addChild=function(l){switch(l.getType()){case"node":this.addNode(l);break;case"combo":this.addCombo(l);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},v.prototype.addCombo=function(l){return this.get("combos").push(l),!0},v.prototype.addNode=function(l){return this.get("nodes").push(l),!0},v.prototype.removeChild=function(l){switch(l.getType()){case"node":this.removeNode(l);break;case"combo":this.removeCombo(l);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},v.prototype.removeCombo=function(l){if(l){var R=this.getCombos(),X=R.indexOf(l);return X>-1&&(R.splice(X,1),!0)}},v.prototype.removeNode=function(l){if(l){var R=this.getNodes(),X=R.indexOf(l);return X>-1&&(R.splice(X,1),!0)}},v.prototype.isOnlyMove=function(l){return!1},v.prototype.getBBox=function(){return this.set("bboxCanvasCache",null),this.calculateCanvasBBox()},v.prototype.clearCache=function(){this.set("bboxCache",null),this.set("bboxCanvasCache",null),this.set("anchorPointsCache",null)},v.prototype.destroy=function(){if(!this.destroyed){var l=this.get("animate"),R=this.get("group");l&&R.stopAnimate(),this.clearCache(),this.set("sizeCache",null),this.set("bbox",null),R.remove(),this._cfg=null,this.destroyed=!0}},v}(ea),$i=function(){function kt(v){this.graph=v,this.destroyed=!1}return kt.prototype.addItem=function(v,l){var R=this,X=this.graph,ht=v==="vedge"?"edge":v,At=X.get(ht+"Group")||X.get("group"),Ut=Object(r.I)(ht),Yt=null,qt=X.get(ht+Object(r.I)("stateStyles"))||{},oe=X.get("default"+Ut);l.stateStyles&&(qt=l.stateStyles),oe&&Object(r.f)(oe,function(Hn,xr){Object(r.v)(Hn)&&!Object(r.m)(Hn)?l[xr]=Object(r.e)({},Hn,l[xr]):Object(r.m)(Hn)?l[xr]=l[xr]||Object(r.c)(oe[xr]):l[xr]=l[xr]||oe[xr]});var Te=X.get(ht+"Mapper");if(Te){var Ge=Te(l);Ge.stateStyles&&(qt=Ge.stateStyles,delete Ge.stateStyles),Object(r.f)(Ge,function(Hn,xr){Object(r.v)(Hn)&&!Object(r.m)(Hn)?l[xr]=Object(r.e)({},l[xr],Hn):l[xr]=Ge[xr]||l[xr]})}if(X.emit("beforeadditem",{type:v,model:l}),v==="edge"||v==="vedge"){var Ue=void 0,Ve=void 0;if(Ue=l.source,Ve=l.target,Ue&&Object(r.x)(Ue)&&(Ue=X.findById(Ue)),Ve&&Object(r.x)(Ve)&&(Ve=X.findById(Ve)),!Ue||!Ve)return void console.warn("The source or target node of edge "+l.id+" does not exist!");Ue.getType&&Ue.getType()==="combo"&&(l.isComboEdge=!0),Ve.getType&&Ve.getType()==="combo"&&(l.isComboEdge=!0),Yt=new Yi({model:l,source:Ue,target:Ve,styles:qt,linkCenter:X.get("linkCenter"),group:At.addGroup()})}else if(v==="node")Yt=new ea({model:l,styles:qt,group:At.addGroup()});else if(v==="combo"){var vn=l.children,Tn=Ur(vn,X);l.x=Tn.x||l.x||100*Math.random(),l.y=Tn.y||l.y||100*Math.random();var Ln=At.addGroup();Ln.setZIndex(l.depth);var Un=(Yt=new no({model:l,styles:qt,bbox:Tn,group:Ln})).getModel();(vn||[]).forEach(function(Hn){var xr=X.findById(Hn.id);Yt.addChild(xr),Hn.depth=Un.depth+2}),l.collapsed&&setTimeout(function(){X.collapseCombo(Yt),R.updateCombo(Yt,[])},250)}if(Yt)return X.get(v+"s").push(Yt),X.get("itemMap")[Yt.get("id")]=Yt,X.emit("afteradditem",{item:Yt,model:l}),Yt},kt.prototype.updateItem=function(v,l){var R,X,ht=this.graph;if(Object(r.x)(v)&&(v=ht.findById(v)),v&&!v.destroyed){var At="";v.getType&&(At=v.getType());var Ut=ht.get(At+"Mapper"),Yt=v.getModel(),qt=v.isOnlyMove(l);if(Ut){var oe=Ut(Object(r.e)({},Yt,l)),Te=Object(r.e)({},Yt,oe,l);oe.stateStyles&&(v.set("styles",Te.stateStyles),delete Te.stateStyles),Object(r.f)(Te,function(Un,Hn){l[Hn]=Un})}else Object(r.f)(l,function(Un,Hn){Yt[Hn]&&Object(r.v)(Un)&&!Object(r.m)(Un)&&(l[Hn]=Object(ut.a)(Object(ut.a)({},Yt[Hn]),l[Hn]))});if(ht.emit("beforeupdateitem",{item:v,cfg:l}),At==="edge"){if(l.source){var Ge=l.source;Object(r.x)(Ge)&&(Ge=ht.findById(Ge)),v.setSource(Ge)}if(l.target){var Ue=l.target;Object(r.x)(Ue)&&(Ue=ht.findById(Ue)),v.setTarget(Ue)}v.update(l)}if(At==="node"||At==="combo"){v.update(l,qt);var Ve=v.getEdges(),vn=Ii(l);if(vn&&At==="node")Object(r.f)(Ve,function(Un){Un.refresh()});else if(vn&&At==="combo"){var Tn=v.get("shapeFactory"),Ln=Yt.type||"circle";(Yt.animate===void 0||l.animate===void 0?(X=(R=Tn[Ln])===null||R===void 0?void 0:R.options)===null||X===void 0?void 0:X.animate:Yt.animate||l.animate)?setTimeout(function(){if(v&&!v.destroyed){var Un=v.getKeyShape();Un&&!Un.destroyed&&Object(r.f)(Ve,function(Hn){Hn&&!Hn.destroyed&&Hn.refresh()})}},201):Object(r.f)(Ve,function(Un){Un.refresh()})}}ht.emit("afterupdateitem",{item:v,cfg:l})}},kt.prototype.updateCombo=function(v,l){var R,X,ht=this.graph;if(Object(r.x)(v)&&(v=ht.findById(v)),v&&!v.destroyed){var At=Ur(l,ht);v.set("bbox",At),v.update({x:At.x,y:At.y});var Ut=v.getEdges()||[],Yt=Ut.length,qt=v.getModel(),oe=v.get("shapeFactory"),Te=qt.type||"circle";if(qt.animate===void 0?(X=(R=oe[Te])===null||R===void 0?void 0:R.options)===null||X===void 0?void 0:X.animate:qt.animate)setTimeout(function(){if(v&&!v.destroyed){var Ve=v.getKeyShape();if(Ve&&!Ve.destroyed)for(var vn=0;vn<Yt;vn++){var Tn=Ut[vn];Tn&&!Tn.destroyed&&Tn.refresh()}}},201);else for(var Ge=0;Ge<Yt;Ge++){var Ue=Ut[Ge];Ue&&!Ue.destroyed&&Ue.refresh()}}},kt.prototype.collapseCombo=function(v){var l=this.graph;Object(r.x)(v)&&(v=l.findById(v));var R=v.getChildren();R.nodes.forEach(function(X){l.hideItem(X)}),R.combos.forEach(function(X){l.hideItem(X)})},kt.prototype.expandCombo=function(v){var l=this.graph;Object(r.x)(v)&&(v=l.findById(v));var R=v.getChildren();R.nodes.forEach(function(X){l.showItem(X)}),R.combos.forEach(function(X){X.getModel().collapsed?X.show():l.showItem(X)})},kt.prototype.removeItem=function(v){var l=this,R=this.graph;if(Object(r.x)(v)&&(v=R.findById(v)),v&&!v.destroyed){var X=Object(r.c)(v.getModel());R.emit("beforeremoveitem",{item:X});var ht="";v.getType&&(ht=v.getType());var At=R.get(ht+"s"),Ut=At.indexOf(v);if(Ut>-1&&At.splice(Ut,1),ht==="edge"){var Yt=R.get("v"+ht+"s"),qt=Yt.indexOf(v);qt>-1&&Yt.splice(qt,1)}var oe=v.get("id");delete R.get("itemMap")[oe];var Te=R.get("comboTrees"),Ge=v.get("id");if(ht==="node"){var Ue=v.getModel().comboId;if(Te){var Ve=Te,vn=!1;Te.forEach(function(Or){vn||_n(Or,function(Rr){if(Rr.id===Ge&&Ve){var yi=Ve.indexOf(Rr);return Ve.splice(yi,1),vn=!0,!1}return Ve=Rr.children,!0})})}for(var Tn=(xr=v.getEdges()).length-1;Tn>=0;Tn--)R.removeItem(xr[Tn],!1);Ue&&R.updateCombo(Ue)}else if(ht==="combo"){var Ln,Un=v.getModel().parentId,Hn=!1;(Te||[]).forEach(function(Or){Hn||_n(Or,function(Rr){return Rr.id!==Ge||(Ln=Rr,Hn=!0,!1)})}),Ln.removed=!0,Ln&&Ln.children&&Ln.children.forEach(function(Or){l.removeItem(Or.id)});var xr;for(Tn=(xr=v.getEdges()).length;Tn>=0;Tn--)R.removeItem(xr[Tn],!1);Un&&R.updateCombo(Un)}v.destroy(),R.emit("afterremoveitem",{item:X})}},kt.prototype.setItemState=function(v,l,R){var X=this.graph,ht=l;Object(r.x)(R)&&(ht=l+":"+R),v.hasState(ht)===R&&R||Object(r.x)(R)&&v.hasState(ht)||(X.emit("beforeitemstatechange",{item:v,state:ht,enabled:R}),v.setState(l,R),X.autoPaint(),X.emit("afteritemstatechange",{item:v,state:ht,enabled:R}))},kt.prototype.priorityState=function(v,l){var R=this.graph,X=v;Object(r.x)(v)&&(X=R.findById(v)),this.setItemState(X,l,!1),this.setItemState(X,l,!0)},kt.prototype.clearItemStates=function(v,l){var R=this.graph;Object(r.x)(v)&&(v=R.findById(v)),R.emit("beforeitemstatesclear",{item:v,states:l}),v.clearStates(l),R.emit("afteritemstatesclear",{item:v,states:l})},kt.prototype.refreshItem=function(v){var l=this.graph;Object(r.x)(v)&&(v=l.findById(v)),l.emit("beforeitemrefresh",{item:v}),v.refresh(),l.emit("afteritemrefresh",{item:v})},kt.prototype.addCombos=function(v,l){var R=this,X=this.graph;(v||[]).forEach(function(At){fr(At,function(Ut){var Yt;return l.forEach(function(qt){qt.id===Ut.id&&(qt.children=Ut.children,qt.depth=Ut.depth,Yt=qt)}),Yt&&R.addItem("combo",Yt),!0})});var ht=X.get("comboGroup");ht&&ht.sort()},kt.prototype.changeItemVisibility=function(v,l){var R=this,X=this.graph;if(Object(r.x)(v)&&(v=X.findById(v)),v){if(X.emit("beforeitemvisibilitychange",{item:v,visible:l}),v.changeVisibility(l),v.getType&&v.getType()==="node"){var ht=v.getEdges();Object(r.f)(ht,function(oe){(!l||oe.get("source").isVisible()&&oe.get("target").isVisible())&&R.changeItemVisibility(oe,l)})}else if(v.getType&&v.getType()==="combo"){var At=X.get("comboTrees"),Ut=v.get("id"),Yt=[],qt=!1;(At||[]).forEach(function(oe){qt||oe.children&&oe.children.length!==0&&_n(oe,function(Te){return Te.id!==Ut||(Yt=Te.children,qt=!0,!1)})}),Yt&&Yt.forEach(function(oe){var Te=X.findById(oe.id);R.changeItemVisibility(Te,l)}),ht=v.getEdges(),Object(r.f)(ht,function(oe){(!l||oe.get("source").isVisible()&&oe.get("target").isVisible())&&R.changeItemVisibility(oe,l)})}return X.emit("afteritemvisibilitychange",{item:v,visible:l}),v}console.warn("The item to be shown or hidden does not exist!")},kt.prototype.destroy=function(){this.graph=null,this.destroyed=!0},kt}(),Va=null,Ta=function(){function kt(v){this.graph=v,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return kt.checkCache=function(v,l,R){if(R[l]){var X=R[l].indexOf(v);X>=0&&R[l].splice(X,1)}},kt.cacheState=function(v,l,R){R[l]||(R[l]=[]),R[l].push(v)},kt.prototype.updateState=function(v,l,R){var X=this,ht=kt.checkCache,At=kt.cacheState;if(!v.destroyed){var Ut=this.cachedStates,Yt=Ut.enabled,qt=Ut.disabled;R?(ht(v,l,qt),At(v,l,Yt)):(ht(v,l,Yt),At(v,l,qt)),Va&&clearTimeout(Va),Va=setTimeout(function(){Va=null,X.updateGraphStates()},16)}},kt.prototype.updateStates=function(v,l,R){var X=this;Object(r.x)(l)?this.updateState(v,l,R):l.forEach(function(ht){X.updateState(v,ht,R)})},kt.prototype.updateGraphStates=function(){var v=this.graph.get("states"),l=this.cachedStates;Object(r.f)(l.disabled,function(R,X){v[X]&&(v[X]=v[X].filter(function(ht){return R.indexOf(ht)<0&&!R.destroyed}))}),Object(r.f)(l.enabled,function(R,X){if(v[X]){var ht={};v[X].forEach(function(At){At.destroyed||(ht[At.get("id")]=!0)}),R.forEach(function(At){if(!At.destroyed){var Ut=At.get("id");ht[Ut]||(ht[Ut]=!0,v[X].push(At))}})}else v[X]=R}),this.graph.emit("graphstatechange",{states:v}),this.cachedStates={enabled:{},disabled:{}}},kt.prototype.destroy=function(){this.graph=null,this.cachedStates=null,Va&&clearTimeout(Va),Va=null,this.destroyed=!0},kt}(),bo=function(v,l){return v&&l?v.replace(/\\?\{([^{}]+)\}/g,function(R,X){if(R.charAt(0)==="\\")return R.slice(1);var ht=l[X];return ht===0&&(ht="0"),ht||""}):v},Na=function(v){var l=[];if(v.length<2)throw new Error("point length must largn than 2, now it's "+v.length);for(var R=0,X=v;R<X.length;R++){var ht=X[R],At=ht.x,Ut=ht.y;l.push(At),l.push(Ut)}var Yt=Object(B.a)(l);return Yt.unshift(["M",v[0].x,v[0].y]),Yt},Fa=function(v,l,R,X){R===void 0&&(R=0),X===void 0&&(X=0);var ht={x:(1-R)*v.x+R*l.x,y:(1-R)*v.y+R*l.y},At=[0,0];Xt.c.normalize(At,[l.x-v.x,l.y-v.y]),At&&(At[0]||At[1])||(At=[0,0]);var Ut=[-At[1]*X,At[0]*X];return ht.x+=Ut[0],ht.y+=Ut[1],ht},ro=function(v,l){var R=v.length;if(!R)return"";for(var X="",ht=0;ht<R;ht++){var At=v[ht];X+=bo(ht===0?"M{x} {y}":"L{x} {y}",At)}return l&&(X+="Z"),X},Sa=function(v){var l=[];return v.forEach(function(R){if(R[0]!=="A")for(var X=1;X<R.length;X+=2)l.push([R[X],R[X+1]]);else{var ht=R.length;l.push([R[ht-2],R[ht-1]])}}),l},So=function(v){if(v.length<2)throw new Error("point length must largn than 2, now it's "+v.length);var l=v[0],R=v[1],X=v[v.length-1],ht=v[v.length-2];v.unshift(X),v.unshift(ht),v.push(l),v.push(R);for(var At=[],Ut=1;Ut<v.length-2;Ut+=1){var Yt=v[Ut-1].x,qt=v[Ut-1].y,oe=v[Ut].x,Te=v[Ut].y,Ge=v[Ut+1].x,Ue=v[Ut+1].y,Ve=oe+(Ge-Yt)/6,vn=Te+(Ue-qt)/6,Tn=Ge-((Ut!==v.length-2?v[Ut+2].x:Ge)-oe)/6,Ln=Ue-((Ut!==v.length-2?v[Ut+2].y:Ue)-Te)/6;At.push(["C",Ve,vn,Tn,Ln,Ge,Ue])}return At.unshift(["M",X.x,X.y]),At},Ua=function(v,l){return Xt.c.scale([0,0],Xt.c.normalize([0,0],v),l)},Wa=function(v,l){var R=[v[1]-l[1],l[0]-v[0]],X=Math.sqrt(R[0]*R[0]+R[1]*R[1]);if(X===0)throw new Error("p0 should not be equal to p1");return[R[0]/X,R[1]/X]},ja=function(v,l){return[l[0]-v[0],l[1]-v[1]]};function to(kt,v){if(!kt||kt.length<1)return"";if(kt.length===1)return function(Yt){var qt=[Yt[0][0],Yt[0][1]-v],oe=[Yt[0][0],Yt[0][1]+v];return"M "+qt+" A "+v+","+v+",0,0,0,"+oe+" A "+v+","+v+",0,0,0,"+qt}(kt);if(kt.length===2)return function(Yt){var qt=Xt.c.scale([0,0],Wa(Yt[0],Yt[1]),v),oe=Xt.c.scale([0,0],qt,-1),Te=Xt.c.add([0,0],Yt[0],qt),Ge=Xt.c.add([0,0],Yt[1],qt),Ue=Xt.c.add([0,0],Yt[1],oe),Ve=Xt.c.add([0,0],Yt[0],oe);return"M "+Te+" L "+Ge+" A "+[v,v,"0,0,0",Ue].join(",")+" L "+Ve+" A "+[v,v,"0,0,0",Te].join(",")}(kt);for(var l=new Array(kt.length),R=0;R<l.length;++R){var X=R===0?kt[kt.length-1]:kt[R-1],ht=kt[R],At=Xt.c.scale([0,0],Wa(X,ht),v);l[R]=[Xt.c.add([0,0],X,At),Xt.c.add([0,0],ht,At)]}var Ut="A "+[v,v,"0,0,0,"].join(",");return(l=l.map(function(Yt,qt){var oe="";return qt===0&&(oe="M "+l[l.length-1][1]+" "),oe+=Ut+Yt[0]+" L "+Yt[1]})).join(" ")}function fo(kt,v){var l,R,X,ht=kt.length;if(!kt||ht<1)return"";if(ht===1)return R=[(l=kt)[0][0],l[0][1]-v],X=[l[0][0],l[0][1]+v],"M "+R+" A "+[v,v,"0,0,0",X].join(",")+" A "+[v,v,"0,0,0",R].join(",");if(ht===2)return function(oe){var Te=ja(oe[0],oe[1]),Ge=Ua(Te,v),Ue=Xt.c.add([0,0],oe[0],Xt.c.scale([0,0],Ge,-1)),Ve=Xt.c.add([0,0],oe[1],Ge),vn=1.2*v,Tn=Ua(Xt.c.normalize([0,0],Te),vn),Ln=Xt.c.scale([0,0],Tn,-1),Un=Xt.c.add([0,0],Ue,Ln),Hn=Xt.c.add([0,0],Ve,Ln),xr=Xt.c.add([0,0],Ue,Tn);return"M "+Ue+" C "+[Un,Hn,Ve].join(",")+" S "+[xr,Ue].join(",")+" Z"}(kt);for(var At=kt.map(function(oe,Te){var Ge=kt[(Te+1)%ht];return{p:oe,v:Xt.c.normalize([0,0],ja(oe,Ge))}}),Ut=0;Ut<At.length;++Ut){var Yt=Ut>0?Ut-1:ht-1,qt=Xt.c.normalize([0,0],Xt.c.add([0,0],At[Yt].v,Xt.c.scale([0,0],At[Ut].v,-1)));At[Ut].p=Xt.c.add([0,0],At[Ut].p,Xt.c.scale([0,0],qt,v))}return At.map(function(oe){var Te=oe.p;return{x:Te[0],y:Te[1]}})}var wa=function(v,l,R){return(v.y-R.y)*(l.x-R.x)-(v.x-R.x)*(l.y-R.y)},gr=function(v){var l=v.map(function(At){return{x:At.getModel().x,y:At.getModel().y}});if(l.sort(function(At,Ut){return At.x===Ut.x?At.y-Ut.y:At.x-Ut.x}),l.length===1)return l;for(var R=[],X=0;X<l.length;X++){for(;R.length>=2&&wa(R[R.length-2],R[R.length-1],l[X])<=0;)R.pop();R.push(l[X])}var ht=[];for(X=l.length-1;X>=0;X--){for(;ht.length>=2&&wa(ht[ht.length-2],ht[ht.length-1],l[X])<=0;)ht.pop();ht.push(l[X])}return ht.pop(),R.pop(),R.concat(ht)},Xo={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function va(kt,v,l){var R=!1,X=function(Yt,qt){return v.cells[Yt+qt*v.width]},ht=function(Yt,qt){var oe=0;return X(Yt-1,qt-1)>=l&&(oe+=1),X(Yt,qt-1)>l&&(oe+=2),X(Yt-1,qt)>l&&(oe+=4),X(Yt,qt)>l&&(oe+=8),oe},At=function(Yt,qt){for(var oe,Te,Ge=Yt,Ue=qt,Ve=0;Ve<v.width*v.height;Ve++){if(oe=Ge,Te=Ue,kt.findIndex(function(Tn){return Tn.x===Ge&&Tn.y===Ue})>-1){if(kt[0].x===Ge&&kt[0].y===Ue)return!0}else kt.push({x:Ge,y:Ue});var vn=ht(Ge,Ue);switch(vn){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:Ge++;break;case 12:case 14:case 4:Ge--;break;case 6:oe===0&&(Te===-1?Ge-=1:Ge+=1);break;case 1:case 13:case 5:Ue--;break;case 9:oe===1&&(Te===0?Ue-=1:Ue+=1);break;case 10:case 8:case 11:Ue++;break;default:return console.warn("Marching squares invalid state: "+vn),!0}}};this.march=function(){for(var Ut=0;Ut<v.width&&!R;Ut+=1)for(var Yt=0;Yt<v.height&&!R;Yt+=1)X(Ut,Yt)>l&&ht(Ut,Yt)!==15&&(R=At(Ut,Yt));return R}}var Ya=function(v,l){var R=Number.POSITIVE_INFINITY,X=null;return v.forEach(function(ht){var At=Ie(ht,l);At>=0&&At<R&&(X=ht,R=At)}),X};function Eo(kt,v,l,R,X){var ht=function(At,Ut,Yt){var qt=null,oe=Number.POSITIVE_INFINITY;return Ut.forEach(function(Te){var Ge={x:At.getModel().x,y:At.getModel().y},Ue={x:Te.getModel().x,y:Te.getModel().y},Ve=Ne(Ge,Ue),vn=new pn(Ge.x,Ge.y,Ue.x,Ue.y),Tn=Yt.reduce(function(Ln,Un){return Ie(Un,vn)>0?Ln+1:Ln},0);Ve*Math.pow(Tn+1,2)<oe&&(qt=Te,oe=Ve*Math.pow(Tn+1,2))}),qt}(kt,l,v);return ht===null?[]:function(At){for(var Ut=[];At.length>0;){var Yt=At.pop();if(At.length===0){Ut.push(Yt);break}var qt=At.pop(),oe=new pn(Yt.x1,Yt.y1,qt.x2,qt.y2);Ya(v,oe)?(Ut.push(Yt),At.push(qt)):At.push(oe)}return Ut}(function(At,Ut,Yt,qt){var oe=[],Te=[];Te.push(At);for(var Ge=!0,Ue=0,Ve=function(Un,Hn){var xr=!1;return Hn.forEach(function(Or){xr||(rn(Un,{x:Or.x1,y:Or.y1})||rn(Un,{x:Or.x2,y:Or.y2}))&&(xr=!0)}),xr},vn=function(Un,Hn){for(var xr=0,Or=Hn;xr<Or.length;xr++){var Rr=Or[xr].getBBox(),yi=[[Rr.x,Rr.y],[Rr.x+Rr.width,Rr.y],[Rr.x,Rr.y+Rr.height],[Rr.x+Rr.width,Rr.y+Rr.height]];if(nn(yi,Un.x,Un.y))return!0}return!1};Ge&&Ue<Yt;){Ge=!1;for(var Tn=function(){var Un=Te.pop(),Hn=Ya(Ut,Un);if(Hn){var xr=jn(Hn,Un),Or=xr[0];if(xr[1]===2){var Rr=function(Xi){for(var Zr=qt,ki=se(Hn,Zr,Or,Xi),Ba=Ve(ki,Te)||Ve(ki,oe),Ha=vn(ki,Ut);!Ba&&Ha&&Zr>=1;)ki=se(Hn,Zr/=1.5,Or,Xi),Ba=Ve(ki,Te)||Ve(ki,oe),Ha=vn(ki,Ut);!ki||Ba||Xi&&Ha||(Te.push(new pn(Un.x1,Un.y1,ki.x,ki.y)),Te.push(new pn(ki.x,ki.y,Un.x2,Un.y2)),Ge=!0)};Rr(!0),Ge||Rr(!1)}}Ge||oe.push(Un),Ue+=1};!Ge&&Te.length;)Tn()}for(;Te.length;)oe.push(Te.pop());return oe}(new pn(kt.getModel().x,kt.getModel().y,ht.getModel().x,ht.getModel().y),v,R,X))}var No=function(v,l,R){var X=Object.assign(Xo,R),ht=fe(v.map(function(Rr){return{x:Rr.getModel().x,y:Rr.getModel().y}}));v=v.sort(function(Rr,yi){return Ne({x:Rr.getModel().x,y:Rr.getModel().y},ht)-Ne({x:yi.getModel().x,y:yi.getModel().y},ht)});var At=[],Ut=[];v.forEach(function(Rr){Eo(Rr,l,At,X.maxRoutingIterations,X.morphBuffer).forEach(function(yi){Ut.push(yi)}),At.push(Rr)});for(var Yt,qt,oe,Te,Ge,Ue=function(Rr,yi,Xi){var Zr={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},ki=[];Rr.forEach(function(Ja){ki.push(Ja.getBBox())}),yi.forEach(function(Ja){ki.push(Ja.getBBox())});for(var Ba=0,Ha=ki;Ba<Ha.length;Ba++){var Ka=Ha[Ba];Zr.minX=(Ka.minX<Zr.minX?Ka.minX:Zr.minX)-Xi,Zr.minY=(Ka.minY<Zr.minY?Ka.minY:Zr.minY)-Xi,Zr.maxX=(Ka.maxX>Zr.maxX?Ka.maxX:Zr.maxX)+Xi,Zr.maxY=(Ka.maxY>Zr.maxY?Ka.maxY:Zr.maxY)+Xi}return Zr.width=Zr.maxX-Zr.minX,Zr.height=Zr.maxY-Zr.minY,Zr.x=Zr.minX,Zr.y=Zr.minY,Zr}(v,Ut,X.nodeR0),Ve=(Yt=Ue.width,qt=Ue.height,oe=X.pixelGroupSize,Te=Math.ceil(Yt/oe),Ge=Math.ceil(qt/oe),{cells:new Float32Array(Math.max(0,Te*Ge)).fill(0),width:Te,height:Ge}),vn=[],Tn=[],Ln=0;Ln<X.maxMarchingIterations;Ln++)if(Gn(v,l,Ut,Ue,Ve,X),Tn=[],new va(vn=[],Ve,X.threshold).march()){var Un=vn.map(function(Rr){return{x:Math.round(Rr.x*X.pixelGroupSize+Ue.minX),y:Math.round(Rr.y*X.pixelGroupSize+Ue.minY)}});if(Un){var Hn=Un.length;if(X.skip>1)for(Hn=Math.floor(Un.length/X.skip);Hn<3&&X.skip>1;)X.skip-=1,Hn=Math.floor(Un.length/X.skip);for(var xr=0,Or=0;Or<Hn;Or+=1,xr+=X.skip)Tn.push({x:Un[xr].x,y:Un[xr].y})}if(Tn&&function(){for(var Rr=0,yi=v;Rr<yi.length;Rr++){var Xi=yi[Rr],Zr=Tn.map(function(ki){return[ki.x,ki.y]});if(!nn(Zr,Xi.getBBox().centerX,Xi.getBBox().centerY))return!1}return!0}())return Tn;if(X.threshold*=.9,Ln<=.5*X.maxMarchingIterations)X.memberInfluenceFactor*=1.2,X.edgeInfluenceFactor*=1.2;else{if(!(X.nonMemberInfluenceFactor!==0&&l.length>0))break;X.nonMemberInfluenceFactor*=.8}}return Tn};function Gn(kt,v,l,R,X,ht){function At(Ge,Ue){var Ve=Math.floor((Ge-Ue)/ht.pixelGroupSize);return Ve<0?0:Ve}function Ut(Ge,Ue){return Ge*ht.pixelGroupSize+Ue}var Yt=(ht.nodeR0-ht.nodeR1)*(ht.nodeR0-ht.nodeR1),qt=(ht.edgeR0-ht.edgeR1)*(ht.edgeR0-ht.edgeR1),oe=function(Ue,Ve){return[Math.min(At(Ue.minX,Ve+R.minX),X.width),Math.min(At(Ue.minY,Ve+R.minY),X.height),Math.min(At(Ue.maxX,-Ve+R.minX),X.width),Math.min(At(Ue.maxY,-Ve+R.minY),X.height)]},Te=function(Ue,Ve){for(var vn=Ue.getBBox(),Tn=oe(vn,ht.nodeR1),Ln=Tn[0],Un=Tn[1],Hn=Tn[2],xr=Tn[3],Or=Un;Or<xr;Or+=1)for(var Rr=Ln;Rr<Hn;Rr+=1)if(!(Ve<0&&X[Rr+Or*X.width]<=0)){var yi=Ut(Rr,R.minX),Xi=Ut(Or,R.minY),Zr=ln({x:yi,y:Xi},{x:vn.minX,y:vn.minY,width:vn.width,height:vn.height});if(Zr<Math.pow(ht.nodeR1,2)){var ki=Math.sqrt(Zr)-ht.nodeR1;X.cells[Rr+Or*X.width]+=Ve*ki*ki}}};ht.nodeInfluenceFactor&&kt.forEach(function(Ge){Te(Ge,ht.nodeInfluenceFactor/Yt)}),ht.edgeInfluenceFactor&&l.forEach(function(Ge){(function(Ue,Ve){for(var vn=Ue.getBBox(),Tn=oe(vn,ht.edgeR1),Ln=Tn[0],Un=Tn[1],Hn=Tn[2],xr=Tn[3],Or=Un;Or<xr;Or+=1)for(var Rr=Ln;Rr<Hn;Rr+=1)if(!(Ve<0&&X.cells[Rr+Or*X.width]<=0)){var yi=Ut(Rr,R.minX),Xi=Ut(Or,R.minY),Zr=Fe({x:yi,y:Xi},Ue);if(Zr<Math.pow(ht.edgeR1,2)){var ki=Math.sqrt(Zr)-ht.edgeR1;X.cells[Rr+Or*X.width]+=Ve*ki*ki}}})(Ge,ht.edgeInfluenceFactor/qt)}),ht.negativeNodeInfluenceFactor&&v.forEach(function(Ge){Te(Ge,ht.negativeNodeInfluenceFactor/Yt)})}function se(kt,v,l,R){var X=kt.getBBox(),ht=l[0],At=l[1],Ut=l[2],Yt=l[3],qt={topLeft:{x:X.minX-v,y:X.minY-v},topRight:{x:X.maxX+v,y:X.minY-v},bottomLeft:{x:X.minX-v,y:X.maxY+v},bottomRight:{x:X.maxX+v,y:X.maxY+v}},oe=X.height*X.width;function Te(Ge,Ue){return X.width*(.5*(Ge.y-X.minY+(Ue.y-X.minY)))}if(At)return ht?R?qt.topLeft:qt.bottomRight:Ut?R?qt.bottomLeft:qt.topRight:Te(At,Yt)<.5*oe?At.y>Yt.y?R?qt.topLeft:qt.bottomRight:R?qt.topRight:qt.bottomLeft:At.y<Yt.y?R?qt.bottomLeft:qt.topRight:R?qt.bottomRight:qt.topLeft;if(Yt){if(ht)return R?qt.topRight:qt.bottomLeft;if(Ut)return R?qt.bottomRight:qt.topLeft}return Te(ht,Ut)<.5*oe?ht.x>Ut.x?R?qt.topLeft:qt.bottomRight:R?qt.bottomLeft:qt.topRight:ht.x<Ut.x?R?qt.topRight:qt.bottomLeft:R?qt.bottomRight:qt.topLeft}var Ia=function(){function kt(v,l){this.cfg=Object(r.e)(this.getDefaultCfg(),l),this.graph=v,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(R){return Object(r.x)(R)?v.findById(R):R}),this.nonMembers=this.cfg.nonMembers.map(function(R){return Object(r.x)(R)?v.findById(R):R}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return kt.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},kt.prototype.setPadding=function(){var v=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+v:10+v,this.cfg.bubbleCfg={nodeR0:this.padding-v,nodeR1:this.padding-v,morphBuffer:this.padding-v}},kt.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},kt.prototype.calcPath=function(v,l){var R,X,ht;switch(this.type){case"round-convex":ht=to((R=gr(v)).map(function(At){return[At.x,At.y]}),this.padding),X=Object(B.b)(ht);break;case"smooth-convex":(R=gr(v)).length===2?(ht=to(R.map(function(At){return[At.x,At.y]}),this.padding),X=Object(B.b)(ht)):R.length>2&&(ht=fo(R.map(function(At){return[At.x,At.y]}),this.padding),X=So(ht));break;case"bubble":X=(R=No(v,l,this.cfg.bubbleCfg)).length>=2&&So(R)}return X},kt.prototype.render=function(){this.group.addShape("path",{attrs:Object(ut.a)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},kt.prototype.addMember=function(v){if(v){Object(r.x)(v)&&(v=this.graph.findById(v)),this.members.push(v);var l=this.nonMembers.indexOf(v);return l>-1&&this.nonMembers.splice(l,1),this.updateData(this.members,this.nonMembers),!0}},kt.prototype.addNonMember=function(v){if(v){Object(r.x)(v)&&(v=this.graph.findById(v)),this.nonMembers.push(v);var l=this.members.indexOf(v);return l>-1&&this.members.splice(l,1),this.updateData(this.members,this.nonMembers),!0}},kt.prototype.removeMember=function(v){if(v){Object(r.x)(v)&&(v=this.graph.findById(v));var l=this.members.indexOf(v);return l>-1&&(this.members.splice(l,1),this.updateData(this.members,this.nonMembers),!0)}},kt.prototype.removeNonMember=function(v){if(v){Object(r.x)(v)&&(v=this.graph.findById(v));var l=this.nonMembers.indexOf(v);return l>-1&&(this.nonMembers.splice(l,1),this.updateData(this.members,this.nonMembers),!0)}},kt.prototype.updateData=function(v,l){var R=this;this.group.findById(this.id).remove(),v&&(this.members=v.map(function(X){return Object(r.x)(X)?R.graph.findById(X):X})),l&&(this.nonMembers=l.map(function(X){return Object(r.x)(X)?R.graph.findById(X):X})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},kt.prototype.updateStyle=function(v){this.group.findById(this.id).attr(Object(ut.a)({},v))},kt.prototype.updateCfg=function(v){var l=this;this.cfg=Object(r.e)(this.cfg,v),this.id=this.cfg.id,this.group=this.cfg.group,v.members&&(this.members=this.cfg.members.map(function(R){return Object(r.x)(R)?l.graph.findById(R):R})),v.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(R){return Object(r.x)(R)?l.graph.findById(R):R})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},kt.prototype.contain=function(v){var l,R,X=this,ht=(l=Object(r.x)(v)?this.graph.findById(v):v).getKeyShape();if(l.get("type")==="path")R=Sa(ht.attr("path"));else{var At=ht.getCanvasBBox();R=[[At.minX,At.minY],[At.maxX,At.minY],[At.maxX,At.maxY],[At.minX,At.maxY]]}return R=R.map(function(Ut){var Yt=X.graph.getPointByCanvas(Ut[0],Ut[1]);return[Yt.x,Yt.y]}),hn(R,Sa(this.path))},kt.prototype.destroy=function(){this.group.remove(),this.cfg=null},kt}(),ho=Xt.a.transform;(function(kt){function v(l){var R=kt.call(this)||this;return R.cfg=Object(r.e)(R.getDefaultCfg(),l),R.init(),R.animating=!1,R.destroyed=!1,R.cfg.enabledStack&&(R.undoStack=new Se.Stack(R.cfg.maxStep),R.redoStack=new Se.Stack(R.cfg.maxStep)),R}Object(ut.b)(v,kt),v.prototype.init=function(){this.initCanvas();var l=new Oo(this),R=new Cr(this),X=new $i(this),ht=new Ta(this);this.set({viewController:l,modeController:R,itemController:X,stateController:ht}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},v.prototype.initGroups=function(){var l=this.get("canvas"),R=this.get("canvas").get("el").id,X=l.addGroup({id:R+"-root",className:Fn.rootContainerClassName});if(this.get("groupByTypes")){var ht=X.addGroup({id:R+"-edge",className:Fn.edgeContainerClassName}),At=X.addGroup({id:R+"-node",className:Fn.nodeContainerClassName}),Ut=X.addGroup({id:R+"-combo",className:Fn.comboContainerClassName});Ut.toBack(),this.set({nodeGroup:At,edgeGroup:ht,comboGroup:Ut})}var Yt=X.addGroup({id:R+"-delegate",className:Fn.delegateContainerClassName});this.set({delegateGroup:Yt}),this.set("group",X)},v.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},v.prototype.set=function(l,R){return Object(r.w)(l)?this.cfg=Object(ut.a)(Object(ut.a)({},this.cfg),l):this.cfg[l]=R,this},v.prototype.get=function(l){return this.cfg[l]},v.prototype.getGroup=function(){return this.get("group")},v.prototype.getContainer=function(){return this.get("container")},v.prototype.getMinZoom=function(){return this.get("minZoom")},v.prototype.setMinZoom=function(l){return this.set("minZoom",l)},v.prototype.getMaxZoom=function(){return this.get("maxZoom")},v.prototype.setMaxZoom=function(l){return this.set("maxZoom",l)},v.prototype.getWidth=function(){return this.get("width")},v.prototype.getHeight=function(){return this.get("height")},v.prototype.clearItemStates=function(l,R){Object(r.x)(l)&&(l=this.findById(l));var X=this.get("itemController");R||(R=l.get("states")),X.clearItemStates(l,R),this.get("stateController").updateStates(l,R,!1)},v.prototype.node=function(l){typeof l=="function"&&this.set("nodeMapper",l)},v.prototype.edge=function(l){typeof l=="function"&&this.set("edgeMapper",l)},v.prototype.combo=function(l){typeof l=="function"&&this.set("comboMapper",l)},v.prototype.findById=function(l){return this.get("itemMap")[l]},v.prototype.find=function(l,R){var X,ht=this.get(l+"s");return Object(r.f)(ht,function(At,Ut){if(R(At,Ut))return X=At}),X},v.prototype.findAll=function(l,R){var X=[];return Object(r.f)(this.get(l+"s"),function(ht,At){R(ht,At)&&X.push(ht)}),X},v.prototype.findAllByState=function(l,R){return this.findAll(l,function(X){return X.hasState(R)})},v.prototype.translate=function(l,R){var X=this.get("group"),ht=Object(r.c)(X.getMatrix());ht||(ht=[1,0,0,0,1,0,0,0,1]),ht=ho(ht,[["t",l,R]]),X.setMatrix(ht),this.emit("viewportchange",{action:"translate",matrix:X.getMatrix()}),this.autoPaint()},v.prototype.moveTo=function(l,R){var X=this.get("group");le(X,{x:l,y:R}),this.emit("viewportchange",{action:"move",matrix:X.getMatrix()})},v.prototype.fitView=function(l){l&&this.set("fitViewPadding",l),this.get("viewController").fitView(),this.autoPaint()},v.prototype.fitCenter=function(){this.get("viewController").fitCenter(),this.autoPaint()},v.prototype.addBehaviors=function(l,R){return this.get("modeController").manipulateBehaviors(l,R,!0),this},v.prototype.removeBehaviors=function(l,R){return this.get("modeController").manipulateBehaviors(l,R,!1),this},v.prototype.updateBehavior=function(l,R,X){return this.get("modeController").updateBehavior(l,R,X),this},v.prototype.zoom=function(l,R){var X=this.get("group"),ht=Object(r.c)(X.getMatrix()),At=this.get("minZoom"),Ut=this.get("maxZoom");ht||(ht=[1,0,0,0,1,0,0,0,1]),ht=ho(ht,R?[["t",-R.x,-R.y],["s",l,l],["t",R.x,R.y]]:[["s",l,l]]),At&&ht[0]<At||Ut&&ht[0]>Ut||(X.setMatrix(ht),this.emit("viewportchange",{action:"zoom",matrix:ht}),this.autoPaint())},v.prototype.zoomTo=function(l,R){var X=l/this.getZoom();this.zoom(X,R)},v.prototype.focusItem=function(l,R,X){var ht=this.get("viewController"),At=!1;R?At=!0:R===void 0&&(At=this.get("animate"));var Ut={};X?Ut=X:X===void 0&&(Ut=this.get("animateCfg")),ht.focus(l,At,Ut),this.autoPaint()},v.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},v.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},v.prototype.getPointByClient=function(l,R){return this.get("viewController").getPointByClient(l,R)},v.prototype.getClientByPoint=function(l,R){return this.get("viewController").getClientByPoint(l,R)},v.prototype.getPointByCanvas=function(l,R){return this.get("viewController").getPointByCanvas(l,R)},v.prototype.getCanvasByPoint=function(l,R){return this.get("viewController").getCanvasByPoint(l,R)},v.prototype.showItem=function(l,R){R===void 0&&(R=!0);var X=this.get("itemController").changeItemVisibility(l,!0);if(R&&this.get("enabledStack")){var ht=X.getID(),At={},Ut={};switch(X.getType()){case"node":At.nodes=[{id:ht,visible:!1}],Ut.nodes=[{id:ht,visible:!0}];break;case"edge":At.nodes=[{id:ht,visible:!1}],Ut.edges=[{id:ht,visible:!0}];break;case"combo":At.nodes=[{id:ht,visible:!1}],Ut.combos=[{id:ht,visible:!0}]}this.pushStack("visible",{before:At,after:Ut})}},v.prototype.hideItem=function(l,R){R===void 0&&(R=!0);var X=this.get("itemController").changeItemVisibility(l,!1);if(R&&this.get("enabledStack")){var ht=X.getID(),At={},Ut={};switch(X.getType()){case"node":At.nodes=[{id:ht,visible:!0}],Ut.nodes=[{id:ht,visible:!1}];break;case"edge":At.nodes=[{id:ht,visible:!0}],Ut.edges=[{id:ht,visible:!1}];break;case"combo":At.nodes=[{id:ht,visible:!0}],Ut.combos=[{id:ht,visible:!1}]}this.pushStack("visible",{before:At,after:Ut})}},v.prototype.refreshItem=function(l){this.get("itemController").refreshItem(l)},v.prototype.setAutoPaint=function(l){this.set("autoPaint",l),this.get("canvas").set("autoDraw",l)},v.prototype.remove=function(l,R){R===void 0&&(R=!0),this.removeItem(l,R)},v.prototype.removeItem=function(l,R){R===void 0&&(R=!0);var X=l;if(Object(r.x)(l)&&(X=this.findById(l)),!X&&Object(r.x)(l))console.warn("The item to be removed does not exist!");else if(X){var ht="";if(X.getType&&(ht=X.getType()),R&&this.get("enabledStack")){var At=Object(ut.a)(Object(ut.a)({},X.getModel()),{itemType:ht}),Ut={};switch(ht){case"node":Ut.nodes=[At],Ut.edges=[];for(var Yt=X.getEdges(),qt=Yt.length-1;qt>=0;qt--)Ut.edges.push(Object(ut.a)(Object(ut.a)({},Yt[qt].getModel()),{itemType:"edge"}));break;case"edge":Ut.edges=[At];break;case"combo":Ut.combos=[At]}this.pushStack("delete",{before:Ut,after:{}})}if(ht==="node"&&X.getModel().comboId&&this.updateComboTree(X),this.get("itemController").removeItem(X),ht==="combo"){var oe=Wr(this.get("comboTrees"));this.set("comboTrees",oe)}}},v.prototype.addItem=function(l,R,X,ht){X===void 0&&(X=!0),ht===void 0&&(ht=!0);var At=this.get("comboSorted");this.set("comboSorted",At&&!ht);var Ut=this.get("itemController");if(!R.id||!this.findById(R.id)){var Yt,qt=this.get("comboTrees");if(qt||(qt=[]),l==="combo"){var oe=this.get("itemMap"),Te=!1;if(qt.forEach(function(xr){Te||fr(xr,function(Or){if(R.parentId===Or.id){Te=!0;var Rr=Object(ut.a)({id:R.id,depth:Or.depth+2},R);Or.children?Or.children.push(Rr):Or.children=[Rr],R.depth=Rr.depth,Yt=Ut.addItem(l,R)}var yi=oe[Or.id];return Te&&yi&&yi.getType&&yi.getType()==="combo"&&Ut.updateCombo(yi,Or.children),!0})}),!Te){var Ge=Object(ut.a)({id:R.id,depth:0},R);R.depth=Ge.depth,qt.push(Ge),Yt=Ut.addItem(l,R)}this.set("comboTrees",qt)}else if(l==="node"&&Object(r.x)(R.comboId)&&qt){var Ue;if((Ue=this.findById(R.comboId))&&Ue.getType&&Ue.getType()!=="combo")return void console.warn("'"+R.comboId+"' is a not id of a combo in the graph, the node will be added without combo.");Yt=Ut.addItem(l,R);var Ve=this.get("itemMap"),vn=!1,Tn=!1;(qt||[]).forEach(function(xr){Tn||vn||fr(xr,function(Or){if(Or.id===R.id)return Tn=!0,!1;if(R.comboId===Or.id&&!Tn){vn=!0;var Rr=Object(r.c)(R);Rr.itemType="node",Or.children?Or.children.push(Rr):Or.children=[Rr],R.depth=Or.depth+1}return vn&&Ve[Or.id].getType&&Ve[Or.id].getType()==="combo"&&Ut.updateCombo(Ve[Or.id],Or.children),!0})})}else Yt=Ut.addItem(l,R);(l==="node"&&R.comboId||l==="combo"&&R.parentId)&&(Ue=this.findById(R.comboId||R.parentId))&&Ue.addChild(Yt);var Ln=this.get("combos");if(Ln&&Ln.length>0&&this.sortCombos(),this.autoPaint(),X&&this.get("enabledStack")){var Un=Object(ut.a)(Object(ut.a)({},Yt.getModel()),{itemType:l}),Hn={};switch(l){case"node":Hn.nodes=[Un];break;case"edge":Hn.edges=[Un];break;case"combo":Hn.combos=[Un]}this.pushStack("add",{before:{},after:Hn})}return Yt}console.warn("This item exists already. Be sure the id %c"+R.id+"%c is unique.","font-size: 20px; color: red;","")},v.prototype.add=function(l,R,X,ht){return X===void 0&&(X=!0),ht===void 0&&(ht=!0),this.addItem(l,R,X,ht)},v.prototype.updateItem=function(l,R,X){var ht=this;X===void 0&&(X=!0);var At,Ut=this.get("itemController");At=Object(r.x)(l)?this.findById(l):l;var Yt=Object(r.c)(At.getModel()),qt="";At.getType&&(qt=At.getType());var oe=Object(ut.d)(At.getStates());if(qt==="combo"&&Object(r.f)(oe,function(Ve){return ht.setItemState(At,Ve,!1)}),Ut.updateItem(At,R),qt==="combo"&&Object(r.f)(oe,function(Ve){return ht.setItemState(At,Ve,!0)}),X&&this.get("enabledStack")){var Te={nodes:[],edges:[],combos:[]},Ge={nodes:[],edges:[],combos:[]},Ue=Object(ut.a)({id:Yt.id},R);switch(qt){case"node":Te.nodes.push(Yt),Ge.nodes.push(Ue);break;case"edge":Te.edges.push(Yt),Ge.edges.push(Ue);break;case"combo":Te.combos.push(Yt),Ge.combos.push(Ue)}qt==="node"&&Te.nodes.push(Yt),this.pushStack("update",{before:Te,after:Ge})}},v.prototype.update=function(l,R,X){X===void 0&&(X=!0),this.updateItem(l,R,X)},v.prototype.setItemState=function(l,R,X){Object(r.x)(l)&&(l=this.findById(l)),this.get("itemController").setItemState(l,R,X);var ht=this.get("stateController");Object(r.x)(X)?ht.updateState(l,R+":"+X,!0):ht.updateState(l,R,X)},v.prototype.priorityState=function(l,R){this.get("itemController").priorityState(l,R)},v.prototype.data=function(l){this.set("data",l)},v.prototype.render=function(){var l=this;this.set("comboSorted",!1);var R=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!R)throw new Error("data must be defined first");var X=R.nodes,ht=X===void 0?[]:X,At=R.edges,Ut=At===void 0?[]:At,Yt=R.combos,qt=Yt===void 0?[]:Yt;if(this.clear(),this.emit("beforerender"),Object(r.f)(ht,function(Ue){l.add("node",Ue,!1,!1)}),qt&&qt.length!==0){var oe=pr(qt,ht);this.set("comboTrees",oe),l.addCombos(qt)}Object(r.f)(Ut,function(Ue){l.add("edge",Ue,!1,!1)});var Te=l.get("animate");(l.get("fitView")||l.get("fitCenter"))&&l.set("animate",!1);var Ge=l.get("layoutController");if(Ge){if(Ge.layout(function(){l.get("fitView")?l.fitView():l.get("fitCenter")&&l.fitCenter(),l.autoPaint(),l.emit("afterrender"),(l.get("fitView")||l.get("fitCenter"))&&l.set("animate",Te)}),this.destroyed)return}else l.get("fitView")&&l.fitView(),l.get("fitCenter")&&l.fitCenter(),l.emit("afterrender"),l.set("animate",Te);this.get("groupByTypes")||(qt&&qt.length!==0?this.sortCombos():R.nodes&&R.edges&&R.nodes.length<R.edges.length?this.getNodes().forEach(function(Ue){Ue.toFront()}):this.getEdges().forEach(function(Ue){Ue.toBack()})),this.get("enabledStack")&&this.pushStack("render")},v.prototype.read=function(l){this.data(l),this.render()},v.prototype.diffItems=function(l,R,X){var ht,At=this,Ut=this.get("itemMap");Object(r.f)(X,function(Yt){if(ht=Ut[Yt.id]){if(At.get("animate")&&l==="node"){var qt=ht.getContainer().getMatrix();qt||(qt=[1,0,0,0,1,0,0,0,1]),ht.set("originAttrs",{x:qt[6],y:qt[7]})}At.updateItem(ht,Yt,!1)}else ht=At.addItem(l,Yt,!1);ht&&R[l+"s"].push(ht)})},v.prototype.changeData=function(l,R){R===void 0&&(R=!0);var X=this;if(!l)return this;R&&this.get("enabledStack")&&this.pushStack("changedata",{before:X.save(),after:l}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(Ve){return X.clearItemStates(Ve)}),this.getEdges().map(function(Ve){return X.clearItemStates(Ve)});var ht=this.get("canvas"),At=ht.get("localRefresh");ht.set("localRefresh",!1),X.get("data")||(X.data(l),X.render());var Ut=this.get("itemMap"),Yt={nodes:[],edges:[]},qt=l.combos;if(qt){var oe=pr(qt,l.nodes);this.set("comboTrees",oe)}this.diffItems("node",Yt,l.nodes),Object(r.f)(Ut,function(Ve,vn){Ut[vn].getModel().depth=0,Ve.getType&&Ve.getType()==="edge"||(Ve.getType&&Ve.getType()==="combo"?(delete Ut[vn],Ve.destroy()):Yt.nodes.indexOf(Ve)<0&&(delete Ut[vn],X.remove(Ve,!1)))});for(var Te=this.getCombos(),Ge=Te.length-1;Ge>=0;Ge--)Te[Ge].destroyed&&Te.splice(Ge,1);qt&&(X.addCombos(qt),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",Yt,l.edges),Object(r.f)(Ut,function(Ve,vn){(!Ve.getType||Ve.getType()!=="node"&&Ve.getType()!=="combo")&&Yt.edges.indexOf(Ve)<0&&(delete Ut[vn],X.remove(Ve,!1))}),this.set({nodes:Yt.nodes,edges:Yt.edges});var Ue=this.get("layoutController");return Ue&&(Ue.changeData(),X.get("animate")&&!Ue.getLayoutType()?X.positionsAnimate():X.autoPaint()),setTimeout(function(){ht.set("localRefresh",At)},16),this},v.prototype.addCombos=function(l){var R=this.get("comboTrees");this.get("itemController").addCombos(R,l)},v.prototype.createCombo=function(l,R){var X=this;this.set("comboSorted",!1);var ht,At="";if(l){if(Object(r.x)(l))At=l,ht={id:l};else{if(!(At=l.id))return void console.warn("Create combo failed. Please assign a unique string id for the adding combo.");ht=l}var Ut=R.map(function(qt){var oe=X.findById(qt),Te="";oe.getType&&(Te=oe.getType());var Ge={id:oe.getID(),itemType:Te};return Te==="combo"?Ge.parentId=At:Te==="node"&&(Ge.comboId=At),Ge});ht.children=Ut,this.addItem("combo",ht,!1),this.set("comboSorted",!1);var Yt=this.get("comboTrees");(Yt||[]).forEach(function(qt){fr(qt,function(oe){return oe.id!==At||(oe.itemType="combo",oe.children=Ut,!1)})}),Yt&&this.sortCombos()}},v.prototype.uncombo=function(l){var R=this,X=l;if(Object(r.x)(l)&&(X=this.findById(l)),!X||X.getType&&X.getType()!=="combo")console.warn("The item is not a combo!");else{var ht=X.getModel().parentId,At=this.get("comboTrees");At||(At=[]);var Ut,Yt=this.get("itemMap"),qt=X.get("id"),oe=[],Te=this.get("combos"),Ge=this.findById(ht);if(At.forEach(function(Ve){Ut||fr(Ve,function(vn){if(vn.id===qt){Ut=vn,X.getEdges().forEach(function(Ln){R.removeItem(Ln,!1)});var Tn=Te.indexOf(l);Te.splice(Tn,1),delete Yt[qt],X.destroy()}return!ht||!Ut||vn.id!==ht||(Ge.removeCombo(X),(Tn=(oe=vn.children).indexOf(Ut))!==-1&&oe.splice(Tn,1),Ut.children.forEach(function(Ln){var Un=R.findById(Ln.id),Hn=Un.getModel();Un.getType&&Un.getType()==="combo"?(Ln.parentId=ht,delete Ln.comboId,Hn.parentId=ht,delete Hn.comboId):Un.getType&&Un.getType()==="node"&&(Ln.comboId=ht,Hn.comboId=ht),Ge.addChild(Un),oe.push(Ln)}),!1)})}),!ht&&Ut){var Ue=At.indexOf(Ut);At.splice(Ue,1),Ut.children.forEach(function(Ve){Ve.parentId=void 0,R.findById(Ve.id).getModel().parentId=void 0,Ve.itemType!=="node"&&At.push(Ve)})}}},v.prototype.updateCombos=function(){var l=this,R=this.get("comboTrees"),X=this.get("itemController"),ht=this.get("itemMap");(R||[]).forEach(function(At){fr(At,function(Ut){if(!Ut)return!0;var Yt=ht[Ut.id];if(Yt&&Yt.getType&&Yt.getType()==="combo"){var qt=Object(ut.d)(Yt.getStates());Object(r.f)(qt,function(oe){return l.setItemState(Yt,oe,!1)}),X.updateCombo(Yt,Ut.children),Object(r.f)(qt,function(oe){return l.setItemState(Yt,oe,!0)})}return!0})}),this.sortCombos()},v.prototype.updateCombo=function(l){var R,X=this,ht=l;if(Object(r.x)(l)&&(ht=this.findById(l)),!ht||ht.getType&&ht.getType()!=="combo")console.warn("The item to be updated is not a combo!");else{R=ht.get("id");var At=this.get("comboTrees"),Ut=this.get("itemController"),Yt=this.get("itemMap");(At||[]).forEach(function(qt){fr(qt,function(oe){if(!oe)return!0;var Te=Yt[oe.id];if(R===oe.id&&Te&&Te.getType&&Te.getType()==="combo"){var Ge=Object(ut.d)(Te.getStates());Object(r.f)(Ge,function(Ue){Te.getStateStyle(Ue)&&X.setItemState(Te,Ue,!1)}),Ut.updateCombo(Te,oe.children),Object(r.f)(Ge,function(Ue){Te.getStateStyle(Ue)&&X.setItemState(Te,Ue,!0)}),R&&(R=oe.parentId)}return!0})})}},v.prototype.updateComboTree=function(l,R,X){X===void 0&&(X=!0);var ht;this.set("comboSorted",!1);var At,Ut=(ht=Object(r.x)(l)?this.findById(l):l).getModel(),Yt=Ut.comboId||Ut.parentId,qt="";if(ht.getType&&(qt=ht.getType()),R&&qt==="combo"){var oe,Te=this.get("comboTrees"),Ge=!0;if((Te||[]).forEach(function(Ln){oe||_n(Ln,function(Un){if(!oe)return Un.id===ht.getID()&&(oe=Un),!0})}),_n(oe,function(Ln){return Ln.id!==R||(Ge=!1,!1)}),!Ge)return void console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!")}if(X&&this.get("enabledStack")){var Ue={},Ve={};qt==="combo"?(Ue.combos=[{id:Ut.id,parentId:Ut.parentId}],Ve.combos=[{id:Ut.id,parentId:R}]):qt==="node"&&(Ue.nodes=[{id:Ut.id,parentId:Ut.comboId}],Ve.nodes=[{id:Ut.id,parentId:R}]),this.pushStack("updateComboTree",{before:Ue,after:Ve})}if(Ut.parentId||Ut.comboId){var vn=this.findById(Ut.parentId||Ut.comboId);vn&&vn.removeChild(ht)}qt==="combo"?Ut.parentId=R:qt==="node"&&(Ut.comboId=R),R&&(At=this.findById(R))&&At.addChild(ht),Yt&&(At=this.findById(Yt))&&At.removeChild(ht);var Tn=Wr(this.get("comboTrees"),Ut.id,R);this.set("comboTrees",Tn),this.updateCombos()},v.prototype.save=function(){var l=[],R=[],X=[];return Object(r.f)(this.get("nodes"),function(ht){l.push(ht.getModel())}),Object(r.f)(this.get("edges"),function(ht){R.push(ht.getModel())}),Object(r.f)(this.get("combos"),function(ht){X.push(ht.getModel())}),{nodes:l,edges:R,combos:X}},v.prototype.changeSize=function(l,R){return this.get("viewController").changeSize(l,R),this},v.prototype.refresh=function(){if(this.emit("beforegraphrefresh"),this.get("animate"))this.positionsAnimate();else{var l=this.get("nodes"),R=this.get("edges"),X=this.get("edges");Object(r.f)(l,function(ht){ht.refresh()}),Object(r.f)(R,function(ht){ht.refresh()}),Object(r.f)(X,function(ht){ht.refresh()})}this.emit("aftergraphrefresh"),this.autoPaint()},v.prototype.getNodes=function(){return this.get("nodes")},v.prototype.getEdges=function(){return this.get("edges")},v.prototype.getCombos=function(){return this.get("combos")},v.prototype.getComboChildren=function(l){if(Object(r.x)(l)&&(l=this.findById(l)),l&&(!l.getType||l.getType()==="combo"))return l.getChildren();console.warn("The combo does not exist!")},v.prototype.positionsAnimate=function(){var l=this;l.emit("beforeanimate");var R=l.get("animateCfg"),X=R.onFrame,ht=l.getNodes(),At=ht.map(function(Ut){var Yt=Ut.getModel();return{id:Yt.id,x:Yt.x,y:Yt.y}});l.isAnimating()&&l.stopAnimate(),l.get("canvas").animate(function(Ut){Object(r.f)(At,function(Yt){var qt=l.findById(Yt.id);if(qt&&!qt.destroyed){var oe=qt.get("originAttrs"),Te=qt.get("model");if(!oe){var Ge=qt.getContainer().getMatrix();Ge||(Ge=[1,0,0,0,1,0,0,0,1]),oe={x:Ge[6],y:Ge[7]},qt.set("originAttrs",oe)}if(X){var Ue=X(qt,Ut,Yt,oe);qt.set("model",Object.assign(Te,Ue))}else Te.x=oe.x+(Yt.x-oe.x)*Ut,Te.y=oe.y+(Yt.y-oe.y)*Ut}}),l.refreshPositions()},{duration:R.duration,easing:R.easing,callback:function(){Object(r.f)(ht,function(Yt){Yt.set("originAttrs",null)}),R.callback&&R.callback(),l.emit("afteranimate"),l.animating=!1}})},v.prototype.refreshPositions=function(){this.emit("beforegraphrefreshposition");var l,R=this.get("nodes"),X=this.get("edges"),ht=this.get("vedges"),At=this.get("combos"),Ut={};Object(r.f)(R,function(Yt){l=Yt.getModel();var qt=Yt.get("originAttrs");qt&&l.x===qt.x&&l.y===qt.y||(Yt.updatePosition({x:l.x,y:l.y}),Ut[l.id]=!0,l.comboId&&(Ut[l.comboId]=!0))}),At&&At.length!==0&&this.updateCombos(),Object(r.f)(X,function(Yt){var qt=Yt.getSource().getModel(),oe=Yt.getTarget().getModel();(Ut[qt.id]||Ut[oe.id]||Yt.getModel().isComboEdge)&&Yt.refresh()}),Object(r.f)(ht,function(Yt){Yt.refresh()}),this.emit("aftergraphrefreshposition"),this.autoPaint()},v.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},v.prototype.isAnimating=function(){return this.animating},v.prototype.getZoom=function(){var l=this.get("group").getMatrix();return l?l[0]:1},v.prototype.getCurrentMode=function(){return this.get("modeController").getMode()},v.prototype.setMode=function(l){return this.get("modeController").setMode(l),this},v.prototype.clear=function(){return this.get("canvas").clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),this.emit("afterrender"),this},v.prototype.updateLayout=function(l){var R,X=this.get("layoutController");Object(r.x)(l)?l={type:R=l}:R=l.type;var ht=this.get("layout"),At=ht?ht.type:void 0;if(R&&At!==R||l.gpuEnabled!==void 0&&l.gpuEnabled!==ht.gpuEnabled)R||(R=At),this.set("layout",l),X.changeLayout(R);else{var Ut={};Object.assign(Ut,ht,l),Ut.type=At||"random",this.set("layout",Ut),X.updateLayoutCfg(Ut)}},v.prototype.destroyLayout=function(){this.get("layoutController").destroyLayout()},v.prototype.layout=function(){var l=this.get("layoutController"),R=this.get("layout");R&&l&&(R.workerEnabled?l.layout():l.layoutMethod?l.relayout(!0):l.layout())},v.prototype.collapseCombo=function(l){var R=this;if(Object(r.x)(l)&&(l=this.findById(l)),l){this.emit("beforecollapseexpandcombo",{action:"expand",item:l});var X=l.getModel();this.get("itemController").collapseCombo(l),X.collapsed=!0;var ht=this.getEdges().concat(this.get("vedges")),At=[],Ut=[],Yt=this.get("comboTrees"),qt=!1,oe={};(Yt||[]).forEach(function(Ue){oe[Ue.id]=Ue}),(Yt||[]).forEach(function(Ue){qt||_n(Ue,function(Ve){if(qt&&oe[Ve.id])return!1;if(X.parentId===Ve.id?(oe={},Ve.children.forEach(function(Tn){oe[Tn.id]=Tn})):X.id===Ve.id&&(qt=!0),qt){var vn=R.findById(Ve.id);vn&&vn.getType&&vn.getType()==="combo"&&(At=At.concat(vn.getNodes()),Ut=Ut.concat(vn.getCombos()))}return!0})});var Te={},Ge=[];ht.forEach(function(Ue){if(!Ue.isVisible()||Ue.getModel().isVEdge){var Ve=Ue.getSource(),vn=Ue.getTarget();if((At.includes(Ve)||Ut.includes(Ve))&&!At.includes(vn)&&!Ut.includes(vn)||Ve.getModel().id===X.id){if((Hn=Ue.getModel()).isVEdge)return void R.removeItem(Ue,!1);for(var Tn=vn.getModel();!vn.isVisible();){if(!(vn=R.findById(Tn.parentId||Tn.comboId))||!Tn.parentId&&!Tn.comboId)return;Tn=vn.getModel()}var Ln=Tn.id;if(Te[X.id+"-"+Ln])return void(Te[X.id+"-"+Ln]+=Hn.size||1);var Un=R.addItem("vedge",{source:X.id,target:Ln,isVEdge:!0},!1);Te[X.id+"-"+Ln]=Hn.size||1,Ge.push(Un)}else if(!At.includes(Ve)&&!Ut.includes(Ve)&&(At.includes(vn)||Ut.includes(vn))||vn.getModel().id===X.id){var Hn;if((Hn=Ue.getModel()).isVEdge)return void R.removeItem(Ue,!1);for(var xr=Ve.getModel();!Ve.isVisible();){if(!(Ve=R.findById(xr.parentId||xr.comboId))||!xr.parentId&&!xr.comboId)return;xr=Ve.getModel()}var Or=xr.id;if(Te[Or+"-"+X.id])return void(Te[Or+"-"+X.id]+=Hn.size||1);Un=R.addItem("vedge",{target:X.id,source:Or,isVEdge:!0},!1),Te[Or+"-"+X.id]=Hn.size||1,Ge.push(Un)}}}),Ge.forEach(function(Ue){var Ve=Ue.getModel();R.updateItem(Ue,{size:Te[Ve.source+"-"+Ve.target]},!1)}),this.emit("aftercollapseexpandcombo",{action:"collapse",item:l})}else console.warn("The combo to be collapsed does not exist!")},v.prototype.expandCombo=function(l){var R=this;if(Object(r.x)(l)&&(l=this.findById(l)),!l||l.getType&&l.getType()!=="combo")console.warn("The combo to be collapsed does not exist!");else{this.emit("beforecollapseexpandcombo",{action:"expand",item:l});var X=l.getModel();this.get("itemController").expandCombo(l),X.collapsed=!1;var ht=this.getEdges().concat(this.get("vedges")),At=[],Ut=[],Yt=this.get("comboTrees"),qt=!1,oe={};(Yt||[]).forEach(function(Ue){oe[Ue.id]=Ue}),(Yt||[]).forEach(function(Ue){qt||_n(Ue,function(Ve){if(qt&&oe[Ve.id])return!1;if(X.parentId===Ve.id?(oe={},Ve.children.forEach(function(Tn){oe[Tn.id]=Tn})):X.id===Ve.id&&(qt=!0),qt){var vn=R.findById(Ve.id);vn&&vn.getType&&vn.getType()==="combo"&&(At=At.concat(vn.getNodes()),Ut=Ut.concat(vn.getCombos()))}return!0})});var Te={},Ge={};ht.forEach(function(Ue){if(!Ue.isVisible()||Ue.getModel().isVEdge){var Ve=Ue.getSource(),vn=Ue.getTarget(),Tn=Ve.get("id"),Ln=vn.get("id");if((At.includes(Ve)||Ut.includes(Ve))&&!At.includes(vn)&&!Ut.includes(vn)||Tn===X.id){if(Ue.getModel().isVEdge)return void R.removeItem(Ue,!1);for(var Un=vn.getModel();!vn.isVisible();){if(!(vn=R.findById(Un.comboId||Un.parentId))||!Un.parentId&&!Un.comboId)return;Un=vn.getModel()}Ln=Un.id;for(var Hn=Ve.getModel();!Ve.isVisible();){if(!(Ve=R.findById(Hn.comboId||Hn.parentId))||!Hn.parentId&&!Hn.comboId)return;if(Hn.comboId===X.id||Hn.parentId===X.id)break;Hn=Ve.getModel()}if(Tn=Hn.id,Ln){if(Te[Or=Tn+"-"+Ln])return Te[Or]+=Ue.getModel().size||1,void R.updateItem(Ge[Or],{size:Te[Or]},!1);var xr=R.addItem("vedge",{source:Tn,target:Ln,isVEdge:!0},!1);Te[Or]=Ue.getModel().size||1,Ge[Or]=xr}}else if(!At.includes(Ve)&&!Ut.includes(Ve)&&(At.includes(vn)||Ut.includes(vn))||Ln===X.id){if(Ue.getModel().isVEdge)return void R.removeItem(Ue,!1);for(Hn=Ve.getModel();!Ve.isVisible();){if(!(Ve=R.findById(Hn.comboId||Hn.parentId))||!Hn.parentId&&!Hn.comboId)return;Hn=Ve.getModel()}for(Tn=Hn.id,Un=vn.getModel();!vn.isVisible();){if(!(vn=R.findById(Un.comboId||Un.parentId))||!Un.parentId&&!Un.comboId)return;if(Un.comboId===X.id||Un.parentId===X.id)break;Un=vn.getModel()}if(Ln=Un.id,Tn){var Or;if(Te[Or=Tn+"-"+Ln])return Te[Or]+=Ue.getModel().size||1,void R.updateItem(Ge[Or],{size:Te[Or]},!1);xr=R.addItem("vedge",{target:Ln,source:Tn,isVEdge:!0},!1),Te[Or]=Ue.getModel().size||1,Ge[Or]=xr}}else(At.includes(Ve)||Ut.includes(Ve))&&(At.includes(vn)||Ut.includes(vn))&&Ve.isVisible()&&vn.isVisible()&&Ue.show()}}),this.emit("aftercollapseexpandcombo",{action:"expand",item:l})}},v.prototype.collapseExpandCombo=function(l){if(Object(r.x)(l)&&(l=this.findById(l)),!l.getType||l.getType()==="combo"){for(var R=l.getModel(),X=this.findById(R.parentId);X;){var ht=X.getModel();if(ht.collapsed)return console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),void(X=void 0);X=this.findById(ht.parentId)}R.collapsed?this.expandCombo(l):this.collapseCombo(l),this.updateCombo(l)}},v.prototype.sortCombos=function(){var l=this;if(!this.get("comboSorted")){this.set("comboSorted",!0);var R=[],X={};(this.get("comboTrees")||[]).forEach(function(ht){_n(ht,function(At){return R[At.depth]?R[At.depth].push(At.id):R[At.depth]=[At.id],X[At.id]=At.depth,!0})}),(this.getEdges().concat(this.get("vedges"))||[]).forEach(function(ht){var At=ht.getModel(),Ut=X[At.source]||0,Yt=X[At.target]||0,qt=Math.max(Ut,Yt);R[qt]?R[qt].push(At.id):R[qt]=[At.id]}),R.forEach(function(ht){if(ht&&ht.length)for(var At=ht.length-1;At>=0;At--){var Ut=l.findById(ht[At]);Ut&&Ut.toFront()}})}},v.prototype.getNeighbors=function(l,R){var X=l;return Object(r.x)(l)&&(X=this.findById(l)),X.getNeighbors(R)},v.prototype.getNodeDegree=function(l,R){R===void 0&&(R=void 0);var X=l;Object(r.x)(l)&&(X=this.findById(l));var ht=this.get("degrees");ht||(ht=Object(Se.getDegree)(this.get("data"))),this.set("degees",ht);var At,Ut=ht[X.getID()];switch(R){case"in":At=Ut.inDegree;break;case"out":At=Ut.outDegree;break;case"all":At=Ut;break;default:At=Ut.degree}return At},v.prototype.getUndoStack=function(){return this.undoStack},v.prototype.getRedoStack=function(){return this.redoStack},v.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},v.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},v.prototype.pushStack=function(l,R,X){if(l===void 0&&(l="update"),X===void 0&&(X="undo"),this.get("enabledStack")){var ht=R?Object(r.c)(R):{before:{},after:Object(r.c)(this.save())};X==="redo"?this.redoStack.push({action:l,data:ht}):this.undoStack.push({action:l,data:ht}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})}else console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !")},v.prototype.getAdjMatrix=function(l,R){l===void 0&&(l=!0),R===void 0&&(R=this.get("directed"));var X=this.get("adjMatrix");return X&&l||(X=Object(Se.getAdjMatrix)(this.save(),R),this.set("adjMatrix",X)),X},v.prototype.getShortestPathMatrix=function(l,R){l===void 0&&(l=!0),R===void 0&&(R=this.get("directed"));var X=this.get("adjMatrix"),ht=this.get("shortestPathMatrix");return X&&l||(X=Object(Se.getAdjMatrix)(this.save(),R),this.set("adjMatrix",X)),ht&&l||(ht=Object(Se.floydWarshall)(this.save(),R),this.set("shortestPathMatrix",ht)),ht},v.prototype.on=function(l,R,X){return kt.prototype.on.call(this,l,R,X)},v.prototype.destroy=function(){this.clear(),this.clearStack(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("canvas").destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},v.prototype.createHull=function(l){if(l.members&&!(l.members.length<1)){var R=this.get("hullGroup"),X=this.get("hullMap");if(X||(X={},this.set("hullMap",X)),R||((R=this.get("group").addGroup({id:"hullGroup"})).toBack(),this.set("hullGroup",R)),X[l.id])return console.warn("Existed hull id."),X[l.id];var ht=R.addGroup({id:l.id+"-container"}),At=new Ia(this,Object(ut.a)(Object(ut.a)({},l),{group:ht}));return X[At.id]=At,At}console.warn("Create hull failed! The members is empty.")},v.prototype.getHulls=function(){return this.get("hullMap")},v.prototype.getHullById=function(l){return this.get("hullMap")[l]},v.prototype.removeHull=function(l){var R;R=Object(r.x)(l)?this.getHullById(l):l,delete this.get("hullMap")[R.id],R.destroy()},v.prototype.removeHulls=function(){var l=this.getHulls();l&&Object.keys(l).length&&(l.forEach(function(R){R.destroy()}),this.set("hullMap",{}))}})(_t.a);function Xa(kt){return(Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(kt)}var so=Xt.a.transform,Lo=["startArrow","endArrow"],zo={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Jo={edge:{lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},node:zo,combo:zo},uo={options:{},itemType:"",type:"",getCustomConfig:function(v){return{}},getOptions:function(v){return Object(r.e)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(v)||{},v)},draw:function(v,l){var R=this.drawShape(v,l);return R.set("className",this.itemType+"-shape"),v.label&&this.drawLabel(v,l).set("className",this.itemType+"-label"),R},afterDraw:function(v,l,R){},drawShape:function(v,l){return null},drawLabel:function(v,l){var R=this.getOptions(v).labelCfg||{},X=this.getLabelStyle(v,R,l),ht=X.rotate;delete X.rotate;var At=l.addShape("text",{attrs:X,draggable:!0,className:"text-shape",name:"text-shape"});if(ht){var Ut=At.getBBox(),Yt=At.getMatrix();if(Yt||(Yt=[1,0,0,0,1,0,0,0,1]),X.rotateCenter)switch(X.rotateCenter){case"center":Yt=so(Yt,[["t",-Ut.width/2,-Ut.height/2],["r",ht],["t",Ut.width/2,Ut.height/2]]);break;case"lefttop":Yt=so(Yt,[["t",-X.x,-X.y],["r",ht],["t",X.x,X.y]]);break;case"leftcenter":Yt=so(Yt,[["t",-X.x,-X.y-Ut.height/2],["r",ht],["t",X.x,X.y+Ut.height/2]]);break;default:Yt=so(Yt,[["t",-Ut.width/2,-Ut.height/2],["r",ht],["t",Ut.width/2,Ut.height/2]])}else Yt=so(Yt,[["t",-X.x,-X.y-Ut.height/2],["r",ht],["t",X.x,X.y+Ut.height/2]]);At.setMatrix(Yt)}if(X.background){var qt=this.drawLabelBg(v,l,At),oe=this.itemType+"-label-bg";qt.set("classname",oe),At.toFront()}return At},drawLabelBg:function(v,l,R){var X=this.options.labelCfg,ht=Object(r.A)({},X,v.labelCfg),At=this.getLabelBgStyleByPosition(R,v,ht,l);return l.addShape("rect",{name:"text-bg-shape",attrs:At})},getLabelStyleByPosition:function(v,l,R){return{text:v.label}},getLabelBgStyleByPosition:function(v,l,R,X){return{}},getLabelStyle:function(v,l,R){var X=this.getLabelStyleByPosition(v,l,R),ht=this.itemType+"Label",At=Fn[ht]?Fn[ht].style:null;return Object(ut.a)(Object(ut.a)(Object(ut.a)({},At),X),l.style)},getShapeStyle:function(v){return v.style},update:function(v,l){this.updateShapeStyle(v,l),this.updateLabel(v,l)},updateShapeStyle:function(v,l){var R=l.getContainer(),X=l.getKeyShape(),ht=Object(r.A)({},X.attr(),v.style),At=function(qt){var oe,Te=ht[qt];if(Object(r.w)(Te)){var Ge=R.find(function(Ue){return Ue.get("name")===qt});Ge&&Ge.attr(Te)}else X.attr(((oe={})[qt]=Te,oe))};for(var Ut in ht)At(Ut)},updateLabel:function(v,l){var R=l.getContainer(),X=this.getOptions({}).labelCfg,ht=this.itemType+"-label",At=R.find(function(xr){return xr.get("className")===ht}),Ut=this.itemType+"-label-bg",Yt=R.find(function(xr){return xr.get("classname")===Ut});if(v.label||v.label==="")if(At){var qt={};l.getModel&&(qt=l.getModel().labelCfg);var oe=Object(r.e)({},X,qt,v.labelCfg),Te=this.getLabelStyleByPosition(v,oe,R),Ge=v.labelCfg?v.labelCfg.style:void 0,Ue=oe.style&&oe.style.background,Ve=Object(ut.a)(Object(ut.a)(Object(ut.a)({},At.attr()),Te),Ge),vn=Ve.rotate;if(delete Ve.rotate,vn){var Tn=[1,0,0,0,1,0,0,0,1];Tn=so(Tn,[["t",-Ve.x,-Ve.y],["r",vn],["t",Ve.x,Ve.y]]),At.resetMatrix(),At.attr(Object(ut.a)(Object(ut.a)({},Ve),{matrix:Tn}))}else At.resetMatrix(),At.attr(Ve);if(Yt)if(Ve.background){var Ln=this.getLabelBgStyleByPosition(At,v,oe,R),Un=Object(ut.a)(Object(ut.a)({},Ln),Ue);if(Yt.resetMatrix(),vn){var Hn=[1,0,0,0,1,0,0,0,1];Hn=so(Hn,[["t",-Un.x,-Un.y],["r",vn],["t",Un.x,Un.y]]),Un.matrix=Hn}Yt.attr(Un)}else R.removeChild(Yt);else Ve.background&&((Yt=this.drawLabelBg(v,R,At)).set("classname",Ut),At.toFront())}else this.drawLabel(v,R).set("className",ht)},afterUpdate:function(v,l){},setState:function(v,l,R){var X,ht,At=R.get("keyShape");if(At){var Ut=R.getType(),Yt=Object(r.n)(l)?v:v+":"+l,qt=this.getStateStyle(Yt,R),oe=R.getStateStyle(Yt);if(oe||qt){var Te=Object(r.A)({},oe||qt),Ge=R.getContainer(),Ue={x:1,y:1,cx:1,cy:1};if(Ut==="combo"&&(Ue.r=1,Ue.width=1,Ue.height=1),l){var Ve=function(ya){var Mo,jo=Te[ya];if(Object(r.w)(jo)&&!Lo.includes(ya)){var Ro=Ge.find(function(Za){return Za.get("name")===ya});Ro&&Ro.attr(jo)}else At.attr(((Mo={})[ya]=jo,Mo))};for(var vn in Te)Ve(vn)}else{var Tn=br(R.getCurrentStatesStyle()),Ln=R.getModel(),Un=Object(r.A)({},Ln.style,br(R.getOriginStyle())),Hn=At.get("name"),xr=At.attr(),Or={};Object.keys(xr).forEach(function(Ja){if(Ja!=="img"){var ya=xr[Ja];ya&&Xa(ya)==="object"?Or[Ja]=Object(r.c)(ya):Or[Ja]=ya}});var Rr={},yi=function(ya){var Mo=Te[ya];if(Object(r.w)(Mo)&&!Lo.includes(ya)){var jo=Ge.find(function(Ao){return Ao.get("name")===ya});if(jo){var Ro=Object(r.c)(jo.attr());Object(r.f)(Mo,function(Ao,$a){if(ya===Hn&&Or[$a]&&!Ue[$a]){delete Or[$a];var ns=Un[ya][$a]||Jo[Ut][$a];At.attr($a,ns)}else if(Ro[$a]||Ro[$a]===0){delete Ro[$a];var ba=Un[ya][$a]||Jo[Ut][$a];jo.attr($a,ba)}}),Rr[ya]=Ro}}else if(Or[ya]&&!Ue[ya]){delete Or[ya];var Za=Un[ya]||(Un[Hn]?Un[Hn][ya]:void 0)||Jo[Ut][ya];At.attr(ya,Za)}};for(var Xi in Te)yi(Xi);for(var vn in Hn?Rr[Hn]=Or:Object(r.A)(Rr,Or),Tn)if(!Ue[vn]){var Zr=Tn[vn];Object(r.w)(Zr)&&!Lo.includes(vn)||(Hn?(Object(r.A)(Un[Hn],((ht={})[vn]=Zr,ht)),delete Un[vn]):Object(r.A)(Un,((X={})[vn]=Zr,X)),delete Tn[vn])}var ki={};Object(r.e)(ki,Un,Rr,Tn);var Ba=!1,Ha=function(ya){var Mo,jo,Ro=ki[ya];if(Object(r.w)(Ro)&&!Lo.includes(ya)){var Za=Ge.find(function($a){return $a.get("name")===ya});Za&&(ya===Hn&&(Ut==="combo"&&(delete Ro.r,delete Ro.width,delete Ro.height),Ba=!0),Za.attr(Ro))}else if(!Ba){var Ao=Ro||Jo[Ut][ya];Ut==="combo"?Hn||At.attr(((Mo={})[ya]=Ao,Mo)):At.attr(((jo={})[ya]=Ao,jo))}};for(var Ka in ki)Ha(Ka)}}}},getStateStyle:function(v,l){var R=l.getModel(),X=l.getType(),ht=this.getOptions(R),At=ht.stateStyles,Ut=ht.style,Yt=Ut===void 0?{}:Ut,qt=R.stateStyles?R.stateStyles[v]:At&&At[v];return X==="combo"?Object(r.c)(qt):Object(r.A)({},Yt,qt)},getControlPoints:function(v){return v.controlPoints},getAnchorPoints:function(v){return this.getOptions(v).anchorPoints}},Rn={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:Fn.nodeLabel.offset,getSize:function(v){var l=v.size||this.getOptions({}).size||Fn.defaultNode.size;return Object(r.m)(l)&&l.length===1&&(l=[l[0],l[0]]),Object(r.m)(l)||(l=[l,l]),l},getLabelStyleByPosition:function(v,l){var R=l.position||this.labelPosition;if(R==="center")return{x:0,y:0,text:v.label};var X=l.offset;Object(r.s)(X)&&(X=this.offset);var ht,At=this.getSize(v),Ut=At[0],Yt=At[1];switch(R){case"top":ht={x:0,y:0-Yt/2-X,textBaseline:"bottom"};break;case"bottom":ht={x:0,y:Yt/2+X,textBaseline:"top"};break;case"left":ht={x:0-Ut/2-X,y:0,textAlign:"right"};break;default:ht={x:Ut/2+X,y:0,textAlign:"left"}}return ht.text=v.label,ht},getLabelBgStyleByPosition:function(v,l,R,X){if(!v)return{};var ht=v.getBBox(),At=R.style&&R.style.background;if(!At)return{};var Ut,Yt=zr(At.padding),qt=ht.width+Yt[1]+Yt[3],oe=ht.height+Yt[0]+Yt[2],Te=R.offset;return Object(r.s)(Te)&&(Te=this.offset),Ut={x:ht.minX-Yt[3],y:ht.minY-Yt[0]},Ut=Object(ut.a)(Object(ut.a)(Object(ut.a)({},Ut),At),{width:qt,height:oe})},drawShape:function(v,l){var R=this.shapeType,X=this.getShapeStyle(v);return l.addShape(R,{attrs:X,draggable:!0,name:"node-shape"})},updateLinkPoints:function(v,l){var R,X=this.getOptions(v).linkPoints,ht=l.find(function(yi){return yi.get("className")==="link-point-left"}),At=l.find(function(yi){return yi.get("className")==="link-point-right"}),Ut=l.find(function(yi){return yi.get("className")==="link-point-top"}),Yt=l.find(function(yi){return yi.get("className")==="link-point-bottom"});ht&&(R=ht.attr()),At&&!R&&(R=At.attr()),Ut&&!R&&(R=Ut.attr()),Yt&&!R&&(R=Yt.attr()),R||(R=X);var qt=Object(r.A)({},R,v.linkPoints),oe=qt.fill,Te=qt.stroke,Ge=qt.lineWidth,Ue=qt.size/2;Ue||(Ue=qt.r);var Ve=v.linkPoints?v.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},vn=Ve.left,Tn=Ve.right,Ln=Ve.top,Un=Ve.bottom,Hn=this.getSize(v),xr=Hn[0],Or=Hn[1],Rr={r:Ue,fill:oe,stroke:Te,lineWidth:Ge};ht?vn||vn===void 0?ht.attr(Object(ut.a)(Object(ut.a)({},Rr),{x:-xr/2,y:0})):ht.remove():vn&&l.addShape("circle",{attrs:Object(ut.a)(Object(ut.a)({},Rr),{x:-xr/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),At?(Tn||Tn===void 0||At.remove(),At.attr(Object(ut.a)(Object(ut.a)({},Rr),{x:xr/2,y:0}))):Tn&&l.addShape("circle",{attrs:Object(ut.a)(Object(ut.a)({},Rr),{x:xr/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),Ut?(Ln||Ln===void 0||Ut.remove(),Ut.attr(Object(ut.a)(Object(ut.a)({},Rr),{x:0,y:-Or/2}))):Ln&&l.addShape("circle",{attrs:Object(ut.a)(Object(ut.a)({},Rr),{x:0,y:-Or/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),Yt?Un||Un===void 0?Yt.attr(Object(ut.a)(Object(ut.a)({},Rr),{x:0,y:Or/2})):Yt.remove():Un&&l.addShape("circle",{attrs:Object(ut.a)(Object(ut.a)({},Rr),{x:0,y:Or/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(v,l,R,X){l.get("keyShape").attr(Object(ut.a)({},R)),this.updateLabel(v,l),X&&this.updateIcon(v,l)},updateIcon:function(v,l){var R=this,X=l.getContainer(),ht=this.getOptions(v).icon,At=(v.icon?v.icon:{show:void 0}).show,Ut=X.find(function(Ge){return Ge.get("className")===R.type+"-icon"});if(Ut)if(At||At===void 0){var Yt=Object(r.A)({},Ut.attr(),ht),qt=Yt.width,oe=Yt.height;Ut.attr(Object(ut.a)(Object(ut.a)({},Yt),{x:-qt/2,y:-oe/2}))}else Ut.remove();else if(At){qt=ht.width,oe=ht.height,X.addShape("image",{attrs:Object(ut.a)(Object(ut.a)({},ht),{x:-qt/2,y:-oe/2}),className:this.type+"-icon",name:this.type+"-icon"});var Te=X.find(function(Ge){return Ge.get("className")==="node-label"});Te&&Te.toFront()}}},qo=Object(ut.a)(Object(ut.a)({},uo),Rn);er.registerNode("single-node",qo);var wo={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:Fn.defaultEdge.size,style:{x:0,y:0,stroke:Fn.defaultEdge.style.stroke,lineAppendWidth:Fn.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:Fn.edgeLabel.style.fill,fontSize:Fn.edgeLabel.style.fontSize}},stateStyles:Object(ut.a)({},Fn.edgeStateStyles)},getPath:function(v){var l=[];return Object(r.f)(v,function(R,X){X===0?l.push(["M",R.x,R.y]):l.push(["L",R.x,R.y])}),l},getShapeStyle:function(v){var l=this.options.style,R={stroke:v.color},X=Object(r.A)({},l,R,v.style),ht=v.size||Fn.defaultEdge.size,At=(v=this.getPathPoints(v)).startPoint,Ut=v.endPoint,Yt=this.getControlPoints(v),qt=[At];Yt&&(qt=qt.concat(Yt)),qt.push(Ut);var oe=this.getPath(qt);return Object(r.A)({},Fn.defaultEdge.style,{stroke:Fn.defaultEdge.color,lineWidth:ht,path:oe},X)},updateShapeStyle:function(v,l){var R=l.getContainer(),X={stroke:v.color},ht=R.find(function(Un){return Un.get("className")==="edge-shape"})||l.getKeyShape(),At=v.size,Ut=(v=this.getPathPoints(v)).startPoint,Yt=v.endPoint,qt=this.getControlPoints(v),oe=[Ut];qt&&(oe=oe.concat(qt)),oe.push(Yt);var Te=ht.attr(),Ge=Object(r.A)({},X,Te,v.style),Ue=v.sourceNode,Ve=v.targetNode,vn={radius:Ge.radius};qt||(vn={source:Ue,target:Ve,offset:Ge.offset,radius:Ge.radius}),Te.endArrow&&Ge.endArrow===!1&&(v.style.endArrow={path:""}),Te.startArrow&&Ge.startArrow===!1&&(v.style.startArrow={path:""});var Tn=this.getPath(oe,vn),Ln=Object(r.A)(X,ht.attr(),{lineWidth:At,path:Tn},v.style);ht&&ht.attr(Ln)},getLabelStyleByPosition:function(v,l,R){var X,ht=l.position||this.labelPosition,At={},Ut=R&&R.find(function(Ge){return Ge.get("className")==="edge-shape"});X=ht==="start"?0:ht==="end"?1:.5;var Yt=l.refX||this.refX,qt=l.refY||this.refY;if(v.startPoint.x===v.endPoint.x&&v.startPoint.y===v.endPoint.y)return At.x=v.startPoint.x+Yt,At.y=v.startPoint.y+qt,At.text=v.label,At;var oe=Object(r.s)(l.autoRotate)?this.labelAutoRotate:l.autoRotate,Te=Jn(Ut,X,Yt,qt,oe);return At.x=Te.x,At.y=Te.y,At.rotate=Te.rotate,At.textAlign=this._getTextAlign(ht,Te.angle),At.text=v.label,At},getLabelBgStyleByPosition:function(v,l,R,X){if(!v)return{};var ht=v.getBBox(),At=R.style&&R.style.background;if(!At)return{};var Ut,Yt=At.padding,qt=ht.width+Yt[1]+Yt[3],oe=ht.height+Yt[0]+Yt[2],Te=R.position||this.labelPosition,Ge=Object(ut.a)(Object(ut.a)({},At),{width:qt,height:oe,x:ht.minX-Yt[2],y:ht.minY-Yt[0],rotate:0}),Ue=Object(r.s)(R.autoRotate)?this.labelAutoRotate:R.autoRotate,Ve=X&&X.find(function(Hn){return Hn.get("className")==="edge-shape"});Ut=Te==="start"?0:Te==="end"?1:.5;var vn=R.refX||this.refX,Tn=R.refY||this.refY;if(l.startPoint.x===l.endPoint.x&&l.startPoint.y===l.endPoint.y)return Ge.x=l.startPoint.x+vn-qt/2,Ge.y=l.startPoint.y+Tn-oe/2,Ge;var Ln=Jn(Ve,Ut,vn-qt/2,Tn+oe/2,Ue),Un=Ln.angle;return Un>.5*Math.PI&&Un<1.5*Math.PI&&(Ln=Jn(Ve,Ut,vn+qt/2,Tn+oe/2,Ue)),Ue&&(Ge.x=Ln.x,Ge.y=Ln.y),Ge.rotate=Ln.rotate,Ge},_getTextAlign:function(v,l){var R="center";return l?(l%=2*Math.PI,v!=="center"&&(R=l>=0&&l<=Math.PI/2||l>=1.5*Math.PI&&l<2*Math.PI?v:function(X){var ht=X;return X==="start"?ht="end":X==="end"&&(ht="start"),ht}(v)),R):v},getControlPoints:function(v){return v.controlPoints},getPathPoints:function(v){return v},drawShape:function(v,l){var R=this.getShapeStyle(v);return l.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:R})},drawLabel:function(v,l){var R=this.options.labelCfg,X=Object(r.e)({fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},R,v.labelCfg),ht=this.getLabelStyle(v,X,l),At=ht.rotate;delete ht.rotate;var Ut=l.addShape("text",{attrs:ht,name:"text-shape"});if(At&&Ut.rotateAtStart(At),ht.background){var Yt=this.drawLabelBg(v,l,Ut),qt=this.itemType+"-label-bg";Yt.set("classname",qt),Ut.toFront()}return Ut},drawLabelBg:function(v,l,R){var X=this.options.labelCfg,ht=Object(r.e)({},X,v.labelCfg),At=this.getLabelStyle(v,ht,l).rotate,Ut=this.getLabelBgStyleByPosition(R,v,ht,l);delete Ut.rotate;var Yt=l.addShape("rect",{name:"text-bg-shape",attrs:Ut});return At&&Yt.rotateAtStart(At),Yt}},Ho=Object(ut.a)(Object(ut.a)({},uo),wo);er.registerEdge("single-edge",Ho),er.registerEdge("line",{getControlPoints:function(){}},"single-edge"),er.registerEdge("spline",{getPath:function(v){return Na(v)}},"single-edge"),er.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(v){var l,R,X=v.startPoint,ht=v.endPoint,At=(X.x+ht.x)/2,Ut=(X.y+ht.y)/2;if(v.controlPoints!==void 0){if(R=v.controlPoints[0],l=St(X,R,ht),X.x<=ht.x&&X.y>ht.y?this.clockwise=l.x>R.x?0:1:X.x<=ht.x&&X.y<ht.y?this.clockwise=l.x>R.x?1:0:X.x>ht.x&&X.y<=ht.y?this.clockwise=l.y<R.y?0:1:this.clockwise=l.y<R.y?1:0,(R.x-X.x)/(R.y-X.y)==(ht.x-X.x)/(ht.y-X.y))return[]}else{v.curveOffset===void 0&&(v.curveOffset=this.curveOffset),Object(r.m)(v.curveOffset)&&(v.curveOffset=v.curveOffset[0]),v.curveOffset<0?this.clockwise=0:this.clockwise=1;var Yt={x:ht.x-X.x,y:ht.y-X.y},qt=Math.atan2(Yt.y,Yt.x);R={x:v.curveOffset*Math.cos(-Math.PI/2+qt)+At,y:v.curveOffset*Math.sin(-Math.PI/2+qt)+Ut},l=St(X,R,ht)}var oe=$t(X,l);return[{x:oe,y:oe}]},getPath:function(v){var l=[];return l.push(["M",v[0].x,v[0].y]),v.length===2?l.push(["L",v[1].x,v[1].y]):l.push(["A",v[1].x,v[1].y,0,0,this.clockwise,v[2].x,v[2].y]),l}},"single-edge"),er.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(v){var l=v.controlPoints;if(!l||!l.length){var R=v.startPoint,X=v.endPoint;v.curveOffset===void 0&&(v.curveOffset=this.curveOffset),v.curvePosition===void 0&&(v.curvePosition=this.curvePosition),Object(r.m)(this.curveOffset)&&(v.curveOffset=v.curveOffset[0]),Object(r.m)(this.curvePosition)&&(v.curvePosition=v.curveOffset[0]),l=[Fa(R,X,v.curvePosition,v.curveOffset)]}return l},getPath:function(v){var l=[];return l.push(["M",v[0].x,v[0].y]),l.push(["Q",v[1].x,v[1].y,v[2].x,v[2].y]),l}},"single-edge"),er.registerEdge("cubic",{curvePosition:[.5,.5],curveOffset:[-20,20],getControlPoints:function(v){var l=v.controlPoints;if(v.curveOffset===void 0&&(v.curveOffset=this.curveOffset),v.curvePosition===void 0&&(v.curvePosition=this.curvePosition),Object(r.t)(v.curveOffset)&&(v.curveOffset=[v.curveOffset,-v.curveOffset]),Object(r.t)(v.curvePosition)&&(v.curvePosition=[v.curvePosition,1-v.curvePosition]),!l||!l.length||l.length<2){var R=v.startPoint,X=v.endPoint;l=[Fa(R,X,v.curvePosition[0],v.curveOffset[0]),Fa(R,X,v.curvePosition[1],v.curveOffset[1])]}return l},getPath:function(v){var l=[];return l.push(["M",v[0].x,v[0].y]),l.push(["C",v[1].x,v[1].y,v[2].x,v[2].y,v[3].x,v[3].y]),l}},"single-edge"),er.registerEdge("cubic-vertical",{curvePosition:[.5,.5],getControlPoints:function(v){var l=v.startPoint,R=v.endPoint;return v.curvePosition!==void 0&&(this.curvePosition=v.curvePosition),Object(r.t)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]),[{x:l.x,y:(R.y-l.y)*this.curvePosition[0]+l.y},{x:R.x,y:(R.y-l.y)*this.curvePosition[1]+l.y}]}},"cubic"),er.registerEdge("cubic-horizontal",{curvePosition:[.5,.5],getControlPoints:function(v){var l=v.startPoint,R=v.endPoint;return v.curvePosition!==void 0&&(this.curvePosition=v.curvePosition),Object(r.t)(this.curvePosition)&&(this.curvePosition=[this.curvePosition,1-this.curvePosition]),[{x:(R.x-l.x)*this.curvePosition[0]+l.x,y:l.y},{x:(R.x-l.x)*this.curvePosition[1]+l.x,y:R.y}]}},"cubic"),er.registerEdge("loop",{getPathPoints:function(v){return Yn(v)},getControlPoints:function(v){return v.controlPoints},afterDraw:function(v){v.controlPoints=void 0},afterUpdate:function(v){v.controlPoints=void 0}},"cubic");var ss={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:Fn.comboLabel.refX,refY:Fn.comboLabel.refY,options:{style:{stroke:Fn.defaultCombo.style.stroke,fill:Fn.defaultCombo.style.fill,lineWidth:Fn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Fn.comboLabel.style.fill,fontSize:Fn.comboLabel.style.fontSize}},stateStyles:Object(ut.a)({},Fn.comboStateStyles)},getSize:function(v){var l=Object(r.c)(v.size||this.options.size||Fn.defaultCombo.size);return Object(r.m)(l)&&l.length===1&&(l=[l[0],l[0]]),Object(r.m)(l)||(l=[l,l]),l},getLabelStyleByPosition:function(v,l){var R=l.position||this.labelPosition,X=v.style,ht=v.padding||this.options.padding;Object(r.m)(ht)&&(ht=ht[0]);var At=l.refX,Ut=l.refY;Object(r.s)(At)&&(At=this.refX),Object(r.s)(Ut)&&(Ut=this.refY);var Yt,qt=this.getSize(v),oe=(Math.max(X.r,qt[0]/2)||qt[0]/2)+ht;switch(R){case"top":Yt={x:0,y:-oe-Ut,textBaseline:"bottom",textAlign:"center"};break;case"bottom":Yt={x:0,y:oe+Ut,textBaseline:"bottom",textAlign:"center"};break;case"left":Yt={x:-oe+At,y:0,textAlign:"left"};break;case"center":Yt={x:0,y:0,text:v.label,textAlign:"center"};break;default:Yt={x:oe+At,y:0,textAlign:"right"}}return Yt.text=v.label,Yt},drawShape:function(v,l){var R=this.shapeType,X=this.getShapeStyle(v);return l.addShape(R,{attrs:X,draggable:!0,name:"combo-shape"})},updateShape:function(v,l,R){var X=l.get("keyShape");(v.animate===void 0?this.options.animate:v.animate)&&X.animate?X.animate(R,{duration:200,easing:"easeLinear"}):X.attr(Object(ut.a)({},R)),this.updateLabel(v,l)}},ts=Object(ut.a)(Object(ut.a)({},uo),ss);er.registerCombo("single-combo",ts),er.registerCombo("circle",{options:{size:[Fn.defaultCombo.size[0],Fn.defaultCombo.size[0]],padding:Fn.defaultCombo.padding[0],animate:!0,style:{stroke:Fn.defaultCombo.style.stroke,fill:Fn.defaultCombo.style.fill,lineWidth:Fn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Fn.comboLabel.style.fill,fontSize:Fn.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:Object(ut.a)({},Fn.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(v,l){var R=this.getShapeStyle(v);return delete R.height,delete R.width,l.addShape("circle",{attrs:R,className:"circle-combo",name:"circle-combo",draggable:!0})},getShapeStyle:function(v){var l=this.options.style,R=v.padding||this.options.padding;Object(r.m)(R)&&(R=R[0]);var X,ht={stroke:v.color},At=Object(r.A)({},l,ht,v.style),Ut=this.getSize(v);X=!Object(r.t)(At.r)||isNaN(At.r)?Ut[0]/2||Fn.defaultCombo.style.r:Math.max(At.r,Ut[0]/2)||Ut[0]/2,At.r=X+R;var Yt=Object(ut.a)({x:0,y:0},At);return v.style?v.style.r=X:v.style={r:X},Yt},update:function(v,l){var R=this.getSize(v),X=v.padding||this.options.padding;Object(r.m)(X)&&(X=X[0]);var ht=Object(r.c)(v.style),At=Math.max(ht.r,R[0]/2)||R[0]/2;ht.r=At+X;var Ut=l.get("sizeCache");Ut&&(Ut.r=ht.r);var Yt={stroke:v.color},qt=l.get("keyShape"),oe=Object(r.A)({},qt.attr(),Yt,ht);v.style?v.style.r=At:v.style={r:At},this.updateShape(v,l,oe,!0)}},"single-combo"),er.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:Fn.defaultCombo.style.stroke,fill:Fn.defaultCombo.style.fill,lineWidth:Fn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:Fn.comboLabel.style.fill,fontSize:Fn.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(ut.a)({},Fn.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(v,l){var R=this.getShapeStyle(v);return l.addShape("rect",{attrs:R,className:"rect-combo",name:"rect-combo",draggable:!0})},getLabelStyleByPosition:function(v,l){var R=l.position||this.labelPosition,X=v.style,ht=v.padding||this.options.padding;Object(r.t)(ht)&&(ht=[ht,ht,ht,ht]);var At=l.refX,Ut=l.refY;Object(r.s)(At)&&(At=this.refX),Object(r.s)(Ut)&&(Ut=this.refY);var Yt,qt=X.width/2+ht[3],oe=X.height/2+ht[0];switch(R){case"top":Yt={x:0-qt+At,y:0-oe+Ut,textBaseline:"top",textAlign:"left"};break;case"bottom":Yt={x:0,y:oe+Ut,textBaseline:"bottom",textAlign:"center"};break;case"left":Yt={x:0-qt+Ut,y:0,textAlign:"left"};break;case"center":Yt={x:0,y:0,text:v.label,textAlign:"center"};break;default:Yt={x:qt+At,y:0,textAlign:"right"}}return Yt.text=v.label,Yt},getShapeStyle:function(v){var l=this.options.style,R=v.padding||this.options.padding;Object(r.t)(R)&&(R=[R,R,R,R]);var X,ht,At={stroke:v.color},Ut=Object(r.A)({},l,At,v.style),Yt=this.getSize(v);X=!Object(r.t)(Ut.width)||isNaN(Ut.width)?Yt[0]||Fn.defaultCombo.style.width:Math.max(Ut.width,Yt[0])||Yt[0],ht=!Object(r.t)(Ut.height)||isNaN(Ut.height)?Yt[1]||Fn.defaultCombo.style.height:Math.max(Ut.height,Yt[1])||Yt[1];var qt=-X/2-R[3],oe=-ht/2-R[0];Ut.width=X+R[1]+R[3],Ut.height=ht+R[0]+R[2];var Te=Object(ut.a)({x:qt,y:oe},Ut);return v.style?(v.style.width=X,v.style.height=ht):v.style={width:X,height:ht},Te},update:function(v,l){var R=this.getSize(v),X=v.padding||this.options.padding;Object(r.t)(X)&&(X=[X,X,X,X]);var ht=Object(r.c)(v.style),At=Math.max(ht.width,R[0])||R[0],Ut=Math.max(ht.height,R[1])||R[1];ht.width=At+X[1]+X[3],ht.height=Ut+X[0]+X[2];var Yt=l.get("sizeCache");Yt&&(Yt.width=ht.width,Yt.height=ht.height),ht.x=-At/2-X[3],ht.y=-Ut/2-X[0];var qt={stroke:v.color},oe=l.get("keyShape"),Te=Object(r.A)({},oe.attr(),qt,ht);v.style?(v.style.width=At,v.style.height=Ut):v.style={width:At,height:Ut},this.updateShape(v,l,Te,!1)},updateShape:function(v,l,R){var X=l.get("keyShape");(v.animate===void 0?this.options.animate:v.animate)&&X.animate?X.animate(R,{duration:200,easing:"easeLinear"}):X.attr(Object(ut.a)({},R)),this.updateLabel(v,l)}},"single-combo"),er.registerNode("simple-circle",{options:{size:Fn.defaultNode.size,style:{x:0,y:0,stroke:Fn.defaultNode.style.stroke,fill:Fn.defaultNode.style.fill,lineWidth:Fn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Fn.nodeLabel.style.fill,fontSize:Fn.nodeLabel.style.fontSize}},stateStyles:Object(ut.a)({},Fn.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",drawShape:function(v,l){var R=this.getShapeStyle(v);return l.addShape("circle",{attrs:R,className:this.type+"-keyShape",draggable:!0})},getShapeStyle:function(v){var l=this.getOptions(v).style,R={stroke:v.color},X=Object(r.e)({},l,R),ht=this.getSize(v)[0]/2;return Object(ut.a)({x:0,y:0,r:ht},X)},update:function(v,l){var R=this.getSize(v),X={stroke:v.color,r:R[0]/2},ht=l.get("keyShape"),At=Object(r.e)({},ht.attr(),X,v.style);this.updateShape(v,l,At,!0)}},"single-node"),er.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:Fn.defaultNode.style.stroke,fill:Fn.defaultNode.style.fill,lineWidth:Fn.defaultNode.style.lineWidth},labelCfg:{style:{fill:Fn.nodeLabel.style.fill,fontSize:Fn.nodeLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(ut.a)({},Fn.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(v,l){var R=this.getShapeStyle(v);return l.addShape("rect",{attrs:R,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0})},getShapeStyle:function(v){var l=this.getOptions(v).style,R={stroke:v.color},X=Object(r.A)({},l,R),ht=this.getSize(v),At=X.width||ht[0],Ut=X.height||ht[1];return Object(ut.a)({x:-At/2,y:-Ut/2,width:At,height:Ut},X)},update:function(v,l){l.getContainer();var R=this.getOptions({}).style,X=this.getSize(v),ht=l.get("keyShape");v.size||(X[0]=ht.attr("width")||R.width,X[1]=ht.attr("height")||R.height);var At={stroke:v.color,x:-X[0]/2,y:-X[1]/2,width:X[0],height:X[1]},Ut=Object(r.A)({},R,ht.attr(),At);Ut=Object(r.A)(Ut,v.style),this.updateShape(v,l,Ut,!1)}},"single-node"),er.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(v,l){var R=this.shapeType,X=this.getShapeStyle(v);delete X.fill;var ht=l.addShape(R,{attrs:X,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(v,ht),ht},drawClip:function(v,l){var R=this.getOptions(v).clipCfg;if(R.show){var X=R.type,ht=R.x,At=R.y,Ut=R.style;if(X==="circle"){var Yt=R.r;l.setClip({type:"circle",attrs:Object(ut.a)({r:Yt,x:ht,y:At},Ut)})}else if(X==="rect"){var qt=R.width,oe=R.height,Te=ht-qt/2,Ge=At-oe/2;l.setClip({type:"rect",attrs:Object(ut.a)({x:Te,y:Ge,width:qt,height:oe},Ut)})}else if(X==="ellipse"){var Ue=R.rx,Ve=R.ry;l.setClip({type:"ellipse",attrs:Object(ut.a)({x:ht,y:At,rx:Ue,ry:Ve},Ut)})}else if(X==="polygon"){var vn=R.points;l.setClip({type:"polygon",attrs:Object(ut.a)({points:vn},Ut)})}else if(X==="path"){var Tn=R.path;l.setClip({type:"path",attrs:Object(ut.a)({path:Tn},Ut)})}}},getShapeStyle:function(v){var l=this.getOptions(v).style,R=this.getSize(v),X=this.getOptions(v).img,ht=R[0],At=R[1];return l&&(ht=l.width||R[0],At=l.height||R[1]),Object(ut.a)({x:-ht/2,y:-At/2,width:ht,height:At,img:X},l)},updateShapeStyle:function(v,l){var R=l.getContainer(),X=this.itemType+"-shape",ht=R.find(function(Ut){return Ut.get("className")===X})||l.getKeyShape(),At=this.getShapeStyle(v);ht&&ht.attr(At)}},"single-node");var mo,ia=er,Bo=Xt.a.transform,Io=Object(ut.a)(Object(ut.a)(Object(ut.a)(Object(ut.a)(Object(ut.a)({},x),c),w),g),{transform:Bo,mat3:Xt.b});(function(){function kt(v){this.graph=v,this.layoutCfg=v.get("layout")||{},this.layoutType=this.layoutCfg.type,this.initLayout()}kt.prototype.initLayout=function(){},kt.prototype.getLayoutType=function(){return this.layoutCfg.type},kt.prototype.refreshLayout=function(){var v=this.graph;v&&(v.get("animate")?v.positionsAnimate():v.refreshPositions())},kt.prototype.changeLayout=function(v){var l=this.graph,R=this.layoutMethod;this.layoutType=v,this.layoutCfg=l.get("layout")||{},this.layoutCfg.type=v,R&&R.destroy(),this.layout()},kt.prototype.changeData=function(){var v=this.layoutMethod;v&&v.destroy(),this.layout()},kt.prototype.destroyLayout=function(){var v=this.layoutMethod,l=this.graph;v&&v.destroy(),l.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0},kt.prototype.setDataFromGraph=function(){for(var v=[],l=[],R=[],X=this.graph.getNodes(),ht=this.graph.getEdges(),At=this.graph.getCombos(),Ut=X.length,Yt=0;Yt<Ut;Yt++){var qt=X[Yt];if(qt.isVisible()){var oe=qt.getModel();v.push(oe)}}var Te=ht.length;for(Yt=0;Yt<Te;Yt++){var Ge=ht[Yt];Ge&&!Ge.destroyed&&Ge.isVisible()&&((oe=Ge.getModel()).isComboEdge||l.push(oe))}var Ue=At.length;for(Yt=0;Yt<Ue;Yt++){var Ve=At[Yt];!Ve.destroyed&&Ve.isVisible()&&(oe=Ve.getModel(),R.push(oe))}return{nodes:v,edges:l,combos:R}},kt.prototype.relayout=function(v){var l=this.graph,R=this.layoutMethod,X=this.layoutCfg;if(v){this.data=this.setDataFromGraph();var ht=this.data.nodes;if(!ht)return!1;this.initPositions(X.center,ht),R.init(this.data)}this.layoutType==="force"&&(R.ticking=!1,R.forceSimulation.stop()),l.emit("beforelayout"),R.execute(v),R.isCustomLayout&&X.onLayoutEnd&&X.onLayoutEnd()},kt.prototype.layoutAnimate=function(){},kt.prototype.moveToZero=function(){var v=this.graph.get("data").nodes;if(v[0].x!==void 0&&v[0].x!==null&&!gi(v[0].x)){for(var l=[0,0],R=v.length,X=0;X<R;X++){var ht=v[X];l[0]+=ht.x,l[1]+=ht.y}for(l[0]/=v.length,l[1]/=v.length,X=0;X<R;X++)(ht=v[X]).x-=l[0],ht.y-=l[1]}},kt.prototype.initPositions=function(v,l){var R=this.graph;if(!l)return!1;var X=!0,ht=.85*R.get("width"),At=.85*R.get("height"),Ut=l.length,Yt=Math.ceil(Math.sqrt(Ut)*(ht/At)),qt=ht/(Yt-1),oe=At/(Math.ceil(Ut/Yt)-1);isFinite(qt)&&qt||(qt=0),isFinite(oe)&&qt||(oe=0);for(var Te=v[0]-ht/2,Ge=v[1]-At/2,Ue=l.length,Ve=0;Ve<Ue;Ve++){var vn=l[Ve];gi(vn.x)&&(X=!1,vn.x=Ve%Yt*qt+Te),gi(vn.y)&&(X=!1,vn.y=Math.floor(Ve/Yt)*oe+Ge)}return X},kt.prototype.destroy=function(){var v=this.layoutMethod;this.graph=null,v&&(v.destroy(),v.destroyed=!0),this.destroyed=!0}})(),function(kt){kt.CLICK="click",kt.DBLCLICK="dblclick",kt.MOUSEDOWN="mousedown",kt.MOUDEUP="mouseup",kt.CONTEXTMENU="contextmenu",kt.MOUSEENTER="mouseenter",kt.MOUSEOUT="mouseout",kt.MOUSEOVER="mouseover",kt.MOUSEMOVE="mousemove",kt.MOUSELEAVE="mouseleave",kt.DRAGSTART="dragstart",kt.DRAGEND="dragend",kt.DRAG="drag",kt.DRAGENTER="dragenter",kt.DRAGLEAVE="dragleave",kt.DRAGOVER="dragover",kt.DRAGOUT="dragout",kt.DDROP="drop",kt.KEYUP="keyup",kt.KEYDOWN="keydown",kt.WHEEL="wheel",kt.FOCUS="focus",kt.BLUR="blur",kt.TOUCHSTART="touchstart",kt.TOUCHMOVE="touchmove",kt.TOUCHEND="touchend",kt.NODE_CONTEXTMENU="node:contextmenu",kt.NODE_CLICK="node:click",kt.NODE_DBLCLICK="node:dblclick",kt.NODE_MOUSEDOWN="node:mousedown",kt.NODE_MOUSEUP="node:mouseup",kt.NODE_MOUSEENTER="node:mouseenter",kt.NODE_MOUSELEAVE="node:mouseleave",kt.NODE_MOUSEMOVE="node:mousemove",kt.NODE_MOUSEOUT="node:mouseout",kt.NODE_MOUSEOVER="node:mouseover",kt.NODE_DROP="node:drop",kt.NODE_DRAGOVER="node:dragover",kt.NODE_DRAGENTER="node:dragenter",kt.NODE_DRAGLEAVE="node:dragleave",kt.NODE_DRAGSTART="node:dragstart",kt.NODE_DRAG="node:drag",kt.NODE_DRAGEND="node:dragend",kt.COMBO_CONTEXTMENU="combo:contextmenu",kt.COMBO_CLICK="combo:click",kt.COMBO_DBLCLICK="combo:dblclick",kt.COMBO_MOUSEDOWN="combo:mousedown",kt.COMBO_MOUSEUP="combo:mouseup",kt.COMBO_MOUSEENTER="combo:mouseenter",kt.COMBO_MOUSELEAVE="combo:mouseleave",kt.COMBO_MOUSEMOVE="combo:mousemove",kt.COMBO_MOUSEOUT="combo:mouseout",kt.COMBO_MOUSEOVER="combo:mouseover",kt.COMBO_DROP="combo:drop",kt.COMBO_DRAGOVER="combo:dragover",kt.COMBO_DRAGENTER="combo:dragenter",kt.COMBO_DRAGLEAVE="combo:dragleave",kt.COMBO_DRAGSTART="combo:dragstart",kt.COMBO_DRAG="combo:drag",kt.COMBO_DRAGEND="combo:dragend",kt.EDGE_CONTEXTMENU="edge:contextmenu",kt.EDGE_CLICK="edge:click",kt.EDGE_DBLCLICK="edge:dblclick",kt.EDGE_MOUSEDOWN="edge:mousedown",kt.EDGE_MOUSEUP="edge:mouseup",kt.EDGE_MOUSEENTER="edge:mouseenter",kt.EDGE_MOUSELEAVE="edge:mouseleave",kt.EDGE_MOUSEMOVE="edge:mousemove",kt.EDGE_MOUSEOUT="edge:mouseout",kt.EDGE_MOUSEOVER="edge:mouseover",kt.EDGE_DROP="edge:drop",kt.EDGE_DRAGOVER="edge:dragover",kt.EDGE_DRAGENTER="edge:dragenter",kt.EDGE_DRAGLEAVE="edge:dragleave",kt.CANVAS_CONTEXTMENU="canvas:contextmenu",kt.CANVAS_CLICK="canvas:click",kt.CANVAS_DBLCLICK="canvas:dblclick",kt.CANVAS_MOUSEDOWN="canvas:mousedown",kt.CANVAS_MOUSEUP="canvas:mouseup",kt.CANVAS_MOUSEENTER="canvas:mouseenter",kt.CANVAS_MOUSELEAVE="canvas:mouseleave",kt.CANVAS_MOUSEMOVE="canvas:mousemove",kt.CANVAS_MOUSEOUT="canvas:mouseout",kt.CANVAS_MOUSEOVER="canvas:mouseover",kt.CANVAS_DROP="canvas:drop",kt.CANVAS_DRAGENTER="canvas:dragenter",kt.CANVAS_DRAGLEAVE="canvas:dragleave",kt.CANVAS_DRAGSTART="canvas:dragstart",kt.CANVAS_DRAG="canvas:drag",kt.CANVAS_DRAGEND="canvas:dragend",kt.BEFORERENDER="beforerender",kt.AFTERRENDER="afterrender",kt.BEFOREADDITEM="beforeadditem",kt.AFTERADDITEM="afteradditem",kt.BEFOREREMOVEITEM="beforeremoveitem",kt.AFTERREMOVEITEM="afterremoveitem",kt.BEFOREUPDATEITEM="beforeupdateitem",kt.AFTERUPDATEITEM="afterupdateitem",kt.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",kt.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",kt.BEFOREITEMSTATECHANGE="beforeitemstatechange",kt.AFTERITEMSTATECHANGE="afteritemstatechange",kt.BEFOREITEMREFRESH="beforeitemrefresh",kt.AFTERITEMREFRESH="afteritemrefresh",kt.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",kt.AFTERITEMSTATESCLEAR="afteritemstatesclear",kt.BEFOREMODECHANGE="beforemodechange",kt.AFTERMODECHANGE="aftermodechange",kt.BEFORELAYOUT="beforelayout",kt.AFTERLAYOUT="afterlayout",kt.BEFORECREATEEDGE="beforecreateedge",kt.AFTERCREATEEDGE="aftercreateedge",kt.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",kt.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",kt.BEFOREGRAPHREFRESH="beforegraphrefresh",kt.AFTERGRAPHREFRESH="aftergraphrefresh",kt.BEFOREANIMATE="beforeanimate",kt.AFTERANIMATE="afteranimate",kt.BEFOREPAINT="beforepaint",kt.AFTERPAINT="afterpaint",kt.BEFORECOLLAPSEEXPANDCOMBO="beforecollapseexpandcombo",kt.AFTERCOLLAPSEEXPANDCOMBO="aftercollapseexpandcombo",kt.GRAPHSTATECHANGE="graphstatechange",kt.AFTERACTIVATERELATIONS="afteractivaterelations",kt.NODESELECTCHANGE="nodeselectchange",kt.TOOLTIPCHANGE="tooltipchange",kt.WHEELZOOM="wheelzoom",kt.VIEWPORTCHANGE="viewportchange",kt.DRAGNODEEND="dragnodeend",kt.STACKCHANGE="stackchange"}(mo||(mo={})),ia.registerNode,ia.registerEdge,ia.registerCombo,Cn.registerBehavior,ia.registerNode,ia.registerEdge,ia.registerCombo,Cn.registerBehavior;var Qa=function(){var kt=function(l,R){return(kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,ht){X.__proto__=ht}||function(X,ht){for(var At in ht)Object.prototype.hasOwnProperty.call(ht,At)&&(X[At]=ht[At])})(l,R)};return function(v,l){function R(){this.constructor=v}kt(v,l),v.prototype=l===null?Object.create(l):(R.prototype=l.prototype,new R)}}(),yo=Io.applyMatrix,Co=function(kt){function v(){return kt!==null&&kt.apply(this,arguments)||this}return Qa(v,kt),v.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},v.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},v.prototype.disableRefresh=function(){this.set("refresh",!1)},v.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},v.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},v.prototype.initViewport=function(){var l=this,R=this._cfgs,X=R.graph;if(!this.destroyed){var ht=this.get("container");Object(r.x)(ht)&&(ht=document.getElementById(ht));var At=Object(m.b)("<div class="+R.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),Ut=0,Yt=0,qt=!1,oe=0,Te=0,Ge=0,Ue=0,Ve=0,vn=0;ht.addEventListener("mousedown",function(Tn){if(R.refresh=!1,Tn.target===At){var Ln=At.style;Ge=parseInt(Ln.width,10),Ue=parseInt(Ln.height,10);var Un=l.get("width"),Hn=l.get("height");Ge>Un||Ue>Hn||(vn=X.getZoom(),Ve=l.get("ratio"),qt=!0,Ut=Tn.clientX,Yt=Tn.clientY)}},!1),ht.addEventListener("mousemove",function(Tn){if(qt&&!Object(r.s)(Tn.clientX)&&!Object(r.s)(Tn.clientY)){var Ln=l.get("width"),Un=l.get("height"),Hn=At.style;oe=parseInt(Hn.left,10),Te=parseInt(Hn.top,10),Ge=parseInt(Hn.width,10),Ue=parseInt(Hn.height,10);var xr=Ut-Tn.clientX,Or=Yt-Tn.clientY;oe-xr<0?xr=oe:oe-xr+Ge>=Ln&&(xr=0),Te-Or<0?Or=Te:Te-Or+Ue>=Un&&(Or=0),oe-=xr,Te-=Or,Object(m.c)(At,{left:oe+"px",top:Te+"px"}),X.translate(xr*vn/Ve,Or*vn/Ve),Ut=Tn.clientX,Yt=Tn.clientY}},!1),ht.addEventListener("mouseleave",function(){qt=!1,R.refresh=!0},!1),ht.addEventListener("mouseup",function(){qt=!1,R.refresh=!0},!1),this.set("viewport",At),ht.appendChild(At)}},v.prototype.updateViewport=function(){if(!this.destroyed){var l=this.get("ratio"),R=this.get("width"),X=this.get("height"),ht=this.get("graph"),At=ht.get("width"),Ut=At/ht.get("height"),Yt=ht.getGroup(),qt=Yt.getCanvasBBox(),oe=[(qt.minX+qt.maxX)/2,(qt.minY+qt.maxY)/2],Te=[qt.maxX-qt.minX,qt.maxY-qt.minY],Ge={centerX:oe[0],centerY:oe[1],width:0,height:0,minX:0,minY:0};qt[0]/qt[1]>Ut?(Ge.width=Te[0],Ge.height=Ge.width/Ut):(Ge.height=Te[1],Ge.width=Ge.height*Ut),Ge.minX=oe[0]-Ge.width/2,Ge.minY=oe[1]-Ge.height/2;var Ue=Yt.getMatrix();Ue||(Ue=[1,0,0,0,1,0,0,0,1]);var Ve=H.a.invert([1,0,0,0,1,0,0,0,1],Ue),vn=yo({x:Ge.minX,y:Ge.minY},Ve),Tn=ht.getCanvasByPoint(vn.x,vn.y),Ln=this.get("viewport");Ln||this.initViewport();var Un=At/Ge.width,Hn=Un*R,xr=Un*X,Or=R*-Tn.x/Ge.width,Rr=X*-Tn.y/Ge.height,yi=Or+Hn,Xi=Rr+xr;Or<0&&(Hn+=Or,Or=0),yi>R&&(Hn-=yi-R),Rr<0&&(xr+=Rr,Rr=0),Xi>X&&(xr-=Xi-X),this.set("ratio",l);var Zr=Or+"px",ki=Rr+"px";Object(m.c)(Ln,{left:Zr,top:ki,width:Hn+"px",height:xr+"px"})}},v.prototype.init=function(){this.initContainer()},v.prototype.initContainer=function(){var l=this.get("graph"),R=l.get("width"),X=l.get("height")/R,ht=this.get("className"),At=this.get("container"),Ut=this.get("width"),Yt=this.get("height");Ut||Yt||(Ut=200),Ut?(Yt=X*Ut,this.set("height",Yt)):(Ut=1/X*Yt,this.set("width",Ut));var qt=Object(m.b)("<div class='"+ht+"' style='width: "+Ut+"px; height: "+Yt+"px; overflow: hidden; position: relative;'></div>");Object(r.x)(At)&&(At=document.getElementById(At)),At?At.appendChild(qt):l.get("container").appendChild(qt),this.set("container",qt);var oe=Object(m.b)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');qt.appendChild(oe);var Te=Object(m.b)('<span style="display: table-cell; vertical-align: middle; "></span>');oe.appendChild(Te),this.set("containerDOM",oe),this.set("containerSpan",Te);var Ge=Object(m.b)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');this.set("imgDOM",Ge),this.updateImgSize(),Te.appendChild(Ge),this.updateCanvas()},v.prototype.updateImgSize=function(){var l=this.get("imgDOM"),R=this.get("width"),X=this.get("height");l.onload=function(){var ht=function(At,Ut){var Yt,qt;if(At.naturalWidth)Yt=At.naturalWidth,qt=At.naturalHeight;else{var oe=new Image;oe.src=At.src,oe.onload=function(){Ut&&Ut(oe.width,oe.height)}}return[Yt,qt]}(l);ht[0]>ht[1]?l.width=R:l.height=X}},v.prototype.updateCanvas=function(){if(this.get("refresh")){var l=this.get("graph");if(!l.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var R=this.get("width")/l.get("canvas").getCanvasBBox().width;this.set("ratio",R),this.updateViewport()}}},v.prototype.getViewport=function(){return this.get("viewport")},v.prototype.getContainer=function(){return this.get("container")},v.prototype.updateGraphImg=function(l){this.get("imgDOM").remove(),this.set("graphImg",l);var R=Object(m.b)('<img alt="" src="'+l+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');this.set("imgDOM",R),R.src=l,this.updateImgSize(),this.get("containerSpan").appendChild(R),this.updateCanvas()},v.prototype.destroy=function(){var l=this.get("container");l.parentNode.removeChild(l)},v}(s),Do=function(){var kt=function(l,R){return(kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,ht){X.__proto__=ht}||function(X,ht){for(var At in ht)Object.prototype.hasOwnProperty.call(ht,At)&&(X[At]=ht[At])})(l,R)};return function(v,l){function R(){this.constructor=v}kt(v,l),v.prototype=l===null?Object.create(l):(R.prototype=l.prototype,new R)}}(),Da=function(){return(Da=Object.assign||function(v){for(var l,R=1,X=arguments.length;R<X;R++)for(var ht in l=arguments[R])Object.prototype.hasOwnProperty.call(l,ht)&&(v[ht]=l[ht]);return v}).apply(this,arguments)},_o=Io.distance,Ko={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},is={PluginBase:s,Menu:j,Grid:S,Minimap:ft,Bundling:J,ToolBar:k,Tooltip:y,Fisheye:P,TimeBar:Ce,ImageMinimap:Co,EdgeFilterLens:function(kt){function v(){return kt!==null&&kt.apply(this,arguments)||this}return Do(v,kt),v.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:Object(r.c)(Ko),showLabel:"edge",scaleRBy:"wheel"}},v.prototype.getEvents=function(){var l;switch(this.get("trigger")){case"click":l={click:"filter"};break;case"drag":l={click:"createDelegate"};break;default:l={mousemove:"filter"}}return l},v.prototype.init=function(){var l=this.get("showLabel"),R=l==="node"||l==="both",X=l==="edge"||l==="both";this.set("showNodeLabel",R),this.set("showEdgeLabel",X),this.get("shouldShow")||this.set("shouldShow",function(){return!0})},v.prototype.createDelegate=function(l){var R=this,X=R.get("delegate");X&&!X.destroyed||(R.filter(l),(X=R.get("delegate")).on("dragstart",function(ht){}),X.on("drag",function(ht){R.filter(ht)}),this.get("scaleRBy")==="wheel"&&X.on("mousewheel",function(ht){R.scaleRByWheel(ht)}))},v.prototype.scaleRByWheel=function(l){if(l&&l.originalEvent){l.preventDefault&&l.preventDefault();var R,X=this.get("graph"),ht=this.get("delegate");(ht?{x:ht.attr("x"),y:ht.attr("y")}:void 0)||X.getPointByClient(l.clientX,l.clientY),R=l.originalEvent.wheelDelta<0?.95:1/.95;var At=this.get("maxR"),Ut=this.get("minR"),Yt=this.get("r");(Yt>(At||X.get("height"))&&R>1||Yt<(Ut||.05*X.get("height"))&&R<1)&&(R=1),Yt*=R,this.set("r",Yt),this.filter(l)}},v.prototype.filter=function(l){var R=this.get("graph"),X=R.getNodes(),ht={},At=this.get("r"),Ut=this.get("type"),Yt={x:l.x,y:l.y};this.updateDelegate(Yt,At);var qt=this.get("shouldShow"),oe=this.get("vShapes");oe&&oe.forEach(function(Tn){Tn.remove(),Tn.destroy()}),oe=[],X.forEach(function(Tn){var Ln=Tn.getModel(),Un=Ln.x,Hn=Ln.y;_o({x:Un,y:Hn},Yt)<At&&(ht[Ln.id]=Tn)});var Te=R.getEdges(),Ge=[];Te.forEach(function(Tn){var Ln=Tn.getModel(),Un=Ln.source,Hn=Ln.target;qt(Ln)&&(Ut==="only-source"||Ut==="one"?ht[Un]&&!ht[Hn]&&Ge.push(Tn):Ut==="only-target"||Ut==="one"?ht[Hn]&&!ht[Un]&&Ge.push(Tn):Ut==="both"&&ht[Un]&&ht[Hn]&&Ge.push(Tn))});var Ue=this.get("showNodeLabel"),Ve=this.get("showEdgelabel"),vn=R.get("group");Ge.forEach(function(Tn){Tn.get("group").get("children").forEach(function(Ln){var Un=Ln.get("type"),Hn=vn.addShape(Un,{attrs:Ln.attr()});oe.push(Hn),Ue&&Un==="text"&&Hn.set("visible",!0)})}),Object.keys(ht).forEach(function(Tn){var Ln=ht[Tn].get("group").clone();if(vn.add(Ln),oe.push(Ln),Ve)for(var Un=Ln.get("children"),Hn=0;Hn<Un.length;Hn++){var xr=Un[Hn];xr.get("type")==="text"&&xr.set("visible",!0)}}),this.set("vShapes",oe)},v.prototype.updateParams=function(l){var R=l.r,X=l.trigger,ht=l.minR,At=l.maxR,Ut=l.scaleRBy,Yt=l.showLabel,qt=l.shouldShow;if(isNaN(l.r)||this.set("r",R),isNaN(At)||this.set("maxR",At),isNaN(ht)||this.set("minR",ht),X!=="mousemove"&&X!=="click"||this.set("trigger",X),Ut==="wheel"||Ut==="unset"){this.set("scaleRBy",Ut),this.get("delegate").remove(),this.get("delegate").destroy();var oe=this.get("dPercentText");oe&&(oe.remove(),oe.destroy())}Yt!=="node"&&Yt!=="both"||this.set("showNodeLabel",!0),Yt!=="edge"&&Yt!=="both"||this.set("showEdgeLabel",!0),qt&&this.set("shouldShow",qt)},v.prototype.updateDelegate=function(l,R){var X=this,ht=X.get("graph"),At=X.get("delegate");if(!At||At.destroyed){var Ut=ht.get("group"),Yt=X.get("delegateStyle")||Ko;At=Ut.addShape("circle",{attrs:Da({r:R,x:l.x,y:l.y},Yt),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&At.on("mousewheel",function(qt){X.scaleRByWheel(qt)})}else At.attr({x:l.x,y:l.y,r:R});X.set("delegate",At)},v.prototype.clear=function(){var l=this.get("vShapes");l&&l.forEach(function(X){X.remove(),X.destroy()}),l=[],this.set("vShapes",l);var R=this.get("delegate");R&&!R.destroyed&&(R.remove(),R.destroy())},v.prototype.destroy=function(){this.clear()},v}(s)};b.a=is},function(i,b,t){"use strict";t.d(b,"b",function(){return u}),t.d(b,"c",function(){return g}),t.d(b,"a",function(){return x});var n=t(22);function u(c,w){var I=c.cfg.el,m=c.attr(),r={dx:m.shadowOffsetX,dy:m.shadowOffsetY,blur:m.shadowBlur,color:m.shadowColor};if(r.dx||r.dy||r.blur||r.color){var s=w.find("filter",r);s||(s=w.addShadow(r)),I.setAttribute("filter","url(#"+s+")")}else I.removeAttribute("filter")}function g(c){var w=c.attr().matrix;if(w){for(var I=c.cfg.el,m=[],r=0;r<9;r+=3)m.push(w[r]+","+w[r+1]);(m=m.join(",")).indexOf("NaN")===-1?I.setAttribute("transform","matrix("+m+")"):console.warn("invalid matrix:",w)}}function x(c,w){var I=c.getClip(),m=c.get("el");if(I){if(I&&!m.hasAttribute("clip-path")){Object(n.a)(I),I.createPath(w);var r=w.addClip(I);m.setAttribute("clip-path","url(#"+r+")")}}else m.removeAttribute("clip-path")}},function(i,b,t){"use strict";var n=t(24),u=t(46).Graph;function g(c,w,I,m){var r;do r=n.uniqueId(m);while(c.hasNode(r));return I.dummy=w,c.setNode(r,I),r}function x(c){return n.max(n.map(c.nodes(),function(w){var I=c.node(w).rank;if(!n.isUndefined(I))return I}))}i.exports={addDummyNode:g,simplify:function(w){var I=new u().setGraph(w.graph());return n.forEach(w.nodes(),function(m){I.setNode(m,w.node(m))}),n.forEach(w.edges(),function(m){var r=I.edge(m.v,m.w)||{weight:0,minlen:1},s=w.edge(m);I.setEdge(m.v,m.w,{weight:r.weight+s.weight,minlen:Math.max(r.minlen,s.minlen)})}),I},asNonCompoundGraph:function(w){var I=new u({multigraph:w.isMultigraph()}).setGraph(w.graph());return n.forEach(w.nodes(),function(m){w.children(m).length||I.setNode(m,w.node(m))}),n.forEach(w.edges(),function(m){I.setEdge(m,w.edge(m))}),I},successorWeights:function(w){var I=n.map(w.nodes(),function(m){var r={};return n.forEach(w.outEdges(m),function(s){r[s.w]=(r[s.w]||0)+w.edge(s).weight}),r});return n.zipObject(w.nodes(),I)},predecessorWeights:function(w){var I=n.map(w.nodes(),function(m){var r={};return n.forEach(w.inEdges(m),function(s){r[s.v]=(r[s.v]||0)+w.edge(s).weight}),r});return n.zipObject(w.nodes(),I)},intersectRect:function(w,I){var m,r,s=w.x,d=w.y,C=I.x-s,S=I.y-d,A=w.width/2,f=w.height/2;if(!C&&!S)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(S)*A>Math.abs(C)*f?(S<0&&(f=-f),m=f*C/S,r=f):(C<0&&(A=-A),m=A,r=A*S/C),{x:s+m,y:d+r}},buildLayerMatrix:function(w){var I=n.map(n.range(x(w)+1),function(){return[]});return n.forEach(w.nodes(),function(m){var r=w.node(m),s=r.rank;n.isUndefined(s)||(I[s][r.order]=m)}),I},normalizeRanks:function(w){var I=n.min(n.map(w.nodes(),function(m){return w.node(m).rank}));n.forEach(w.nodes(),function(m){var r=w.node(m);n.has(r,"rank")&&(r.rank-=I)})},removeEmptyRanks:function(w){var I=n.min(n.map(w.nodes(),function(d){return w.node(d).rank})),m=[];n.forEach(w.nodes(),function(d){var C=w.node(d).rank-I;m[C]||(m[C]=[]),m[C].push(d)});var r=0,s=w.graph().nodeRankFactor;n.forEach(m,function(d,C){n.isUndefined(d)&&C%s!=0?--r:r&&n.forEach(d,function(S){w.node(S).rank+=r})})},addBorderNode:function(w,I,m,r){var s={width:0,height:0};return arguments.length>=4&&(s.rank=m,s.order=r),g(w,"border",s,I)},maxRank:x,partition:function(w,I){var m={lhs:[],rhs:[]};return n.forEach(w,function(r){I(r)?m.lhs.push(r):m.rhs.push(r)}),m},time:function(w,I){var m=n.now();try{return I()}finally{console.log(w+" time: "+(n.now()-m)+"ms")}},notime:function(w,I){return I()}}},function(i,b,t){"use strict";var n={};t.r(n),t.d(n,"proccessToFunc",function(){return I}),t.d(n,"buildTextureData",function(){return m}),t.d(n,"buildTextureDataWithOneEdgeAttr",function(){return r}),t.d(n,"buildTextureDataWithTwoEdgeAttr",function(){return s}),t.d(n,"attributesToTextureData",function(){return d}),t.d(n,"arrayToTextureData",function(){return C}),t.d(n,"radialLayout",function(){return S});var u=t(1),g=t(123),x=t(5),c=t(0),w=x.n.traverseTree,I=function(j,D){return j?Object(c.t)(j)?function(V){return j}:j:function(V){return D||1}},m=function(j,D){var V=[],H=[],$={},dt=0;for(dt=0;dt<j.length;dt++){var Z=j[dt];$[Z.id]=dt,V.push(Z.x),V.push(Z.y),V.push(0),V.push(0),H.push([])}for(dt=0;dt<D.length;dt++){var ct=D[dt];H[$[ct.source]].push($[ct.target]),H[$[ct.target]].push($[ct.source])}var pt=0;for(dt=0;dt<j.length;dt++){var gt=V.length,at=H[dt],Bt=at.length;V[4*dt+2]=gt,V[4*dt+3]=at.length,pt=Math.max(pt,at.length);for(var Lt=0;Lt<Bt;++Lt){var Et=at[Lt];V.push(+Et)}}for(;V.length%4!=0;)V.push(0);return{array:new Float32Array(V),maxEdgePerVetex:pt}},r=function(j,D,V){var H=[],$=[],dt={},Z=0;for(Z=0;Z<j.length;Z++){var ct=j[Z];dt[ct.id]=Z,H.push(ct.x),H.push(ct.y),H.push(0),H.push(0),$.push([])}for(Z=0;Z<D.length;Z++){var pt=D[Z];$[dt[pt.source]].push(dt[pt.target]),$[dt[pt.source]].push(V(pt)),$[dt[pt.target]].push(dt[pt.source]),$[dt[pt.target]].push(V(pt))}var gt=0;for(Z=0;Z<j.length;Z++){var at=H.length,Bt=$[Z],Lt=Bt.length;H[4*Z+2]=at,H[4*Z+3]=Lt/2,gt=Math.max(gt,Lt/2);for(var Et=0;Et<Lt;++Et){var K=Bt[Et];H.push(+K)}}for(;H.length%4!=0;)H.push(0);return{array:new Float32Array(H),maxEdgePerVetex:gt}},s=function(j,D,V,H){var $=[],dt=[],Z={},ct=0;for(ct=0;ct<j.length;ct++){var pt=j[ct];Z[pt.id]=ct,$.push(pt.x),$.push(pt.y),$.push(0),$.push(0),dt.push([])}for(ct=0;ct<D.length;ct++){var gt=D[ct];dt[Z[gt.source]].push(Z[gt.target]),dt[Z[gt.source]].push(V(gt)),dt[Z[gt.source]].push(H(gt)),dt[Z[gt.source]].push(0),dt[Z[gt.target]].push(Z[gt.source]),dt[Z[gt.target]].push(V(gt)),dt[Z[gt.target]].push(H(gt)),dt[Z[gt.target]].push(0)}var at=0;for(ct=0;ct<j.length;ct++){var Bt=$.length,Lt=dt[ct],Et=Lt.length;$[4*ct+2]=Bt+1048576*Et/4,$[4*ct+3]=0,at=Math.max(at,Et/4);for(var K=0;K<Et;++K){var ft=Lt[K];$.push(+ft)}}for(;$.length%4!=0;)$.push(0);return{array:new Float32Array($),maxEdgePerVetex:at}},d=function(j,D){var V=[],H=j.length,$={};return D.forEach(function(dt){j.forEach(function(Z,ct){if($[dt[Z]]===void 0&&($[dt[Z]]=Object.keys($).length),V.push($[dt[Z]]),ct===H-1)for(;V.length%4!=0;)V.push(0)})}),{array:new Float32Array(V),count:Object.keys($).length}},C=function(j){for(var D=[],V=j.length,H=j[0].length,$=function(ct){j.forEach(function(pt,gt){if(D.push(pt[ct]),gt===V-1)for(;D.length%4!=0;)D.push(0)})},dt=0;dt<H;dt++)$(dt);return new Float32Array(D)},S=function(j,D){var V={x:1/0,y:1/0},H={x:-1/0,y:-1/0},$="x",dt="y";D&&["V","TB","BT"].indexOf(D)>=0&&(dt="x",$="y");var Z=0;w(j,function(gt){return Z++,gt.x>H.x&&(H.x=gt.x),gt.x<V.x&&(V.x=gt.x),gt.y>H.y&&(H.y=gt.y),gt.y<V.y&&(V.y=gt.y),!0});var ct=2*Math.PI/Z,pt=H[dt]-V[dt];return pt===0||w(j,function(gt){var at=(gt[dt]-V[dt])/pt*(2*Math.PI-ct)+ct,Bt=Math.abs($==="x"?gt.x-j.x:gt.y-j.y);return gt.x=Bt*Math.cos(at),gt.y=Bt*Math.sin(at),!0}),j},A=t(121),f=Object(u.a)(Object(u.a)(Object(u.a)(Object(u.a)({},x.n),g),n),A);b.a=f},function(i,b,t){"use strict";function n(x,c){var w=[],I=x[0],m=x[1],r=x[2],s=x[3],d=x[4],C=x[5],S=x[6],A=x[7],f=x[8],O=c[0],j=c[1],D=c[2],V=c[3],H=c[4],$=c[5],dt=c[6],Z=c[7],ct=c[8];return w[0]=O*I+j*s+D*S,w[1]=O*m+j*d+D*A,w[2]=O*r+j*C+D*f,w[3]=V*I+H*s+$*S,w[4]=V*m+H*d+$*A,w[5]=V*r+H*C+$*f,w[6]=dt*I+Z*s+ct*S,w[7]=dt*m+Z*d+ct*A,w[8]=dt*r+Z*C+ct*f,w}function u(x,c){var w=[],I=c[0],m=c[1];return w[0]=x[0]*I+x[3]*m+x[6],w[1]=x[1]*I+x[4]*m+x[7],w}function g(x){var c=[],w=x[0],I=x[1],m=x[2],r=x[3],s=x[4],d=x[5],C=x[6],S=x[7],A=x[8],f=A*s-d*S,O=-A*r+d*C,j=S*r-s*C,D=w*f+I*O+m*j;return D?(D=1/D,c[0]=f*D,c[1]=(-A*I+m*S)*D,c[2]=(d*I-m*s)*D,c[3]=O*D,c[4]=(A*w-m*C)*D,c[5]=(-d*w+m*r)*D,c[6]=j*D,c[7]=(-S*w+I*C)*D,c[8]=(s*w-I*r)*D,c):null}t.d(b,"b",function(){return n}),t.d(b,"c",function(){return u}),t.d(b,"a",function(){return g})},function(i,b,t){"use strict";t.r(b),t.d(b,"create",function(){return u}),t.d(b,"clone",function(){return g}),t.d(b,"length",function(){return x}),t.d(b,"fromValues",function(){return c}),t.d(b,"copy",function(){return w}),t.d(b,"set",function(){return I}),t.d(b,"add",function(){return m}),t.d(b,"subtract",function(){return r}),t.d(b,"multiply",function(){return s}),t.d(b,"divide",function(){return d}),t.d(b,"ceil",function(){return C}),t.d(b,"floor",function(){return S}),t.d(b,"min",function(){return A}),t.d(b,"max",function(){return f}),t.d(b,"round",function(){return O}),t.d(b,"scale",function(){return j}),t.d(b,"scaleAndAdd",function(){return D}),t.d(b,"distance",function(){return V}),t.d(b,"squaredDistance",function(){return H}),t.d(b,"squaredLength",function(){return $}),t.d(b,"negate",function(){return dt}),t.d(b,"inverse",function(){return Z}),t.d(b,"normalize",function(){return ct}),t.d(b,"dot",function(){return pt}),t.d(b,"cross",function(){return gt}),t.d(b,"lerp",function(){return at}),t.d(b,"hermite",function(){return Bt}),t.d(b,"bezier",function(){return Lt}),t.d(b,"random",function(){return Et}),t.d(b,"transformMat4",function(){return K}),t.d(b,"transformMat3",function(){return ft}),t.d(b,"transformQuat",function(){return mt}),t.d(b,"rotateX",function(){return yt}),t.d(b,"rotateY",function(){return wt}),t.d(b,"rotateZ",function(){return J}),t.d(b,"angle",function(){return lt}),t.d(b,"zero",function(){return it}),t.d(b,"str",function(){return _}),t.d(b,"exactEquals",function(){return P}),t.d(b,"equals",function(){return Q}),t.d(b,"sub",function(){return p}),t.d(b,"mul",function(){return y}),t.d(b,"div",function(){return B}),t.d(b,"dist",function(){return W}),t.d(b,"sqrDist",function(){return rt}),t.d(b,"len",function(){return st}),t.d(b,"sqrLen",function(){return ut}),t.d(b,"forEach",function(){return Mt});var n=t(11);function u(){var bt=new n.a(3);return n.a!=Float32Array&&(bt[0]=0,bt[1]=0,bt[2]=0),bt}function g(bt){var xt=new n.a(3);return xt[0]=bt[0],xt[1]=bt[1],xt[2]=bt[2],xt}function x(bt){var xt=bt[0],Ot=bt[1],jt=bt[2];return Math.hypot(xt,Ot,jt)}function c(bt,xt,Ot){var jt=new n.a(3);return jt[0]=bt,jt[1]=xt,jt[2]=Ot,jt}function w(bt,xt){return bt[0]=xt[0],bt[1]=xt[1],bt[2]=xt[2],bt}function I(bt,xt,Ot,jt){return bt[0]=xt,bt[1]=Ot,bt[2]=jt,bt}function m(bt,xt,Ot){return bt[0]=xt[0]+Ot[0],bt[1]=xt[1]+Ot[1],bt[2]=xt[2]+Ot[2],bt}function r(bt,xt,Ot){return bt[0]=xt[0]-Ot[0],bt[1]=xt[1]-Ot[1],bt[2]=xt[2]-Ot[2],bt}function s(bt,xt,Ot){return bt[0]=xt[0]*Ot[0],bt[1]=xt[1]*Ot[1],bt[2]=xt[2]*Ot[2],bt}function d(bt,xt,Ot){return bt[0]=xt[0]/Ot[0],bt[1]=xt[1]/Ot[1],bt[2]=xt[2]/Ot[2],bt}function C(bt,xt){return bt[0]=Math.ceil(xt[0]),bt[1]=Math.ceil(xt[1]),bt[2]=Math.ceil(xt[2]),bt}function S(bt,xt){return bt[0]=Math.floor(xt[0]),bt[1]=Math.floor(xt[1]),bt[2]=Math.floor(xt[2]),bt}function A(bt,xt,Ot){return bt[0]=Math.min(xt[0],Ot[0]),bt[1]=Math.min(xt[1],Ot[1]),bt[2]=Math.min(xt[2],Ot[2]),bt}function f(bt,xt,Ot){return bt[0]=Math.max(xt[0],Ot[0]),bt[1]=Math.max(xt[1],Ot[1]),bt[2]=Math.max(xt[2],Ot[2]),bt}function O(bt,xt){return bt[0]=Math.round(xt[0]),bt[1]=Math.round(xt[1]),bt[2]=Math.round(xt[2]),bt}function j(bt,xt,Ot){return bt[0]=xt[0]*Ot,bt[1]=xt[1]*Ot,bt[2]=xt[2]*Ot,bt}function D(bt,xt,Ot,jt){return bt[0]=xt[0]+Ot[0]*jt,bt[1]=xt[1]+Ot[1]*jt,bt[2]=xt[2]+Ot[2]*jt,bt}function V(bt,xt){var Ot=xt[0]-bt[0],jt=xt[1]-bt[1],Dt=xt[2]-bt[2];return Math.hypot(Ot,jt,Dt)}function H(bt,xt){var Ot=xt[0]-bt[0],jt=xt[1]-bt[1],Dt=xt[2]-bt[2];return Ot*Ot+jt*jt+Dt*Dt}function $(bt){var xt=bt[0],Ot=bt[1],jt=bt[2];return xt*xt+Ot*Ot+jt*jt}function dt(bt,xt){return bt[0]=-xt[0],bt[1]=-xt[1],bt[2]=-xt[2],bt}function Z(bt,xt){return bt[0]=1/xt[0],bt[1]=1/xt[1],bt[2]=1/xt[2],bt}function ct(bt,xt){var Ot=xt[0],jt=xt[1],Dt=xt[2],zt=Ot*Ot+jt*jt+Dt*Dt;return zt>0&&(zt=1/Math.sqrt(zt)),bt[0]=xt[0]*zt,bt[1]=xt[1]*zt,bt[2]=xt[2]*zt,bt}function pt(bt,xt){return bt[0]*xt[0]+bt[1]*xt[1]+bt[2]*xt[2]}function gt(bt,xt,Ot){var jt=xt[0],Dt=xt[1],zt=xt[2],Tt=Ot[0],Vt=Ot[1],Ht=Ot[2];return bt[0]=Dt*Ht-zt*Vt,bt[1]=zt*Tt-jt*Ht,bt[2]=jt*Vt-Dt*Tt,bt}function at(bt,xt,Ot,jt){var Dt=xt[0],zt=xt[1],Tt=xt[2];return bt[0]=Dt+jt*(Ot[0]-Dt),bt[1]=zt+jt*(Ot[1]-zt),bt[2]=Tt+jt*(Ot[2]-Tt),bt}function Bt(bt,xt,Ot,jt,Dt,zt){var Tt=zt*zt,Vt=Tt*(2*zt-3)+1,Ht=Tt*(zt-2)+zt,re=Tt*(zt-1),pe=Tt*(3-2*zt);return bt[0]=xt[0]*Vt+Ot[0]*Ht+jt[0]*re+Dt[0]*pe,bt[1]=xt[1]*Vt+Ot[1]*Ht+jt[1]*re+Dt[1]*pe,bt[2]=xt[2]*Vt+Ot[2]*Ht+jt[2]*re+Dt[2]*pe,bt}function Lt(bt,xt,Ot,jt,Dt,zt){var Tt=1-zt,Vt=Tt*Tt,Ht=zt*zt,re=Vt*Tt,pe=3*zt*Vt,me=3*Ht*Tt,Ee=Ht*zt;return bt[0]=xt[0]*re+Ot[0]*pe+jt[0]*me+Dt[0]*Ee,bt[1]=xt[1]*re+Ot[1]*pe+jt[1]*me+Dt[1]*Ee,bt[2]=xt[2]*re+Ot[2]*pe+jt[2]*me+Dt[2]*Ee,bt}function Et(bt,xt){xt=xt||1;var Ot=2*n.c()*Math.PI,jt=2*n.c()-1,Dt=Math.sqrt(1-jt*jt)*xt;return bt[0]=Math.cos(Ot)*Dt,bt[1]=Math.sin(Ot)*Dt,bt[2]=jt*xt,bt}function K(bt,xt,Ot){var jt=xt[0],Dt=xt[1],zt=xt[2],Tt=Ot[3]*jt+Ot[7]*Dt+Ot[11]*zt+Ot[15];return Tt=Tt||1,bt[0]=(Ot[0]*jt+Ot[4]*Dt+Ot[8]*zt+Ot[12])/Tt,bt[1]=(Ot[1]*jt+Ot[5]*Dt+Ot[9]*zt+Ot[13])/Tt,bt[2]=(Ot[2]*jt+Ot[6]*Dt+Ot[10]*zt+Ot[14])/Tt,bt}function ft(bt,xt,Ot){var jt=xt[0],Dt=xt[1],zt=xt[2];return bt[0]=jt*Ot[0]+Dt*Ot[3]+zt*Ot[6],bt[1]=jt*Ot[1]+Dt*Ot[4]+zt*Ot[7],bt[2]=jt*Ot[2]+Dt*Ot[5]+zt*Ot[8],bt}function mt(bt,xt,Ot){var jt=Ot[0],Dt=Ot[1],zt=Ot[2],Tt=Ot[3],Vt=xt[0],Ht=xt[1],re=xt[2],pe=Dt*re-zt*Ht,me=zt*Vt-jt*re,Ee=jt*Ht-Dt*Vt,Le=Dt*Ee-zt*me,Je=zt*pe-jt*Ee,On=jt*me-Dt*pe,gn=2*Tt;return pe*=gn,me*=gn,Ee*=gn,Le*=2,Je*=2,On*=2,bt[0]=Vt+pe+Le,bt[1]=Ht+me+Je,bt[2]=re+Ee+On,bt}function yt(bt,xt,Ot,jt){var Dt=[],zt=[];return Dt[0]=xt[0]-Ot[0],Dt[1]=xt[1]-Ot[1],Dt[2]=xt[2]-Ot[2],zt[0]=Dt[0],zt[1]=Dt[1]*Math.cos(jt)-Dt[2]*Math.sin(jt),zt[2]=Dt[1]*Math.sin(jt)+Dt[2]*Math.cos(jt),bt[0]=zt[0]+Ot[0],bt[1]=zt[1]+Ot[1],bt[2]=zt[2]+Ot[2],bt}function wt(bt,xt,Ot,jt){var Dt=[],zt=[];return Dt[0]=xt[0]-Ot[0],Dt[1]=xt[1]-Ot[1],Dt[2]=xt[2]-Ot[2],zt[0]=Dt[2]*Math.sin(jt)+Dt[0]*Math.cos(jt),zt[1]=Dt[1],zt[2]=Dt[2]*Math.cos(jt)-Dt[0]*Math.sin(jt),bt[0]=zt[0]+Ot[0],bt[1]=zt[1]+Ot[1],bt[2]=zt[2]+Ot[2],bt}function J(bt,xt,Ot,jt){var Dt=[],zt=[];return Dt[0]=xt[0]-Ot[0],Dt[1]=xt[1]-Ot[1],Dt[2]=xt[2]-Ot[2],zt[0]=Dt[0]*Math.cos(jt)-Dt[1]*Math.sin(jt),zt[1]=Dt[0]*Math.sin(jt)+Dt[1]*Math.cos(jt),zt[2]=Dt[2],bt[0]=zt[0]+Ot[0],bt[1]=zt[1]+Ot[1],bt[2]=zt[2]+Ot[2],bt}function lt(bt,xt){var Ot=bt[0],jt=bt[1],Dt=bt[2],zt=xt[0],Tt=xt[1],Vt=xt[2],Ht=Math.sqrt(Ot*Ot+jt*jt+Dt*Dt)*Math.sqrt(zt*zt+Tt*Tt+Vt*Vt),re=Ht&&pt(bt,xt)/Ht;return Math.acos(Math.min(Math.max(re,-1),1))}function it(bt){return bt[0]=0,bt[1]=0,bt[2]=0,bt}function _(bt){return"vec3("+bt[0]+", "+bt[1]+", "+bt[2]+")"}function P(bt,xt){return bt[0]===xt[0]&&bt[1]===xt[1]&&bt[2]===xt[2]}function Q(bt,xt){var Ot=bt[0],jt=bt[1],Dt=bt[2],zt=xt[0],Tt=xt[1],Vt=xt[2];return Math.abs(Ot-zt)<=n.b*Math.max(1,Math.abs(Ot),Math.abs(zt))&&Math.abs(jt-Tt)<=n.b*Math.max(1,Math.abs(jt),Math.abs(Tt))&&Math.abs(Dt-Vt)<=n.b*Math.max(1,Math.abs(Dt),Math.abs(Vt))}var k,p=r,y=s,B=d,W=V,rt=H,st=x,ut=$,Mt=(k=u(),function(bt,xt,Ot,jt,Dt,zt){var Tt,Vt;for(xt||(xt=3),Ot||(Ot=0),Vt=jt?Math.min(jt*xt+Ot,bt.length):bt.length,Tt=Ot;Tt<Vt;Tt+=xt)k[0]=bt[Tt],k[1]=bt[Tt+1],k[2]=bt[Tt+2],Dt(k,k,zt),bt[Tt]=k[0],bt[Tt+1]=k[1],bt[Tt+2]=k[2];return bt})},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.STACK_OVERFLOW=b.CIRCULAR_DEPENDENCY_IN_FACTORY=b.POST_CONSTRUCT_ERROR=b.MULTIPLE_POST_CONSTRUCT_METHODS=b.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=b.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=b.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=b.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=b.ARGUMENTS_LENGTH_MISMATCH=b.INVALID_DECORATOR_OPERATION=b.INVALID_TO_SELF_VALUE=b.INVALID_FUNCTION_BINDING=b.INVALID_MIDDLEWARE_RETURN=b.NO_MORE_SNAPSHOTS_AVAILABLE=b.INVALID_BINDING_TYPE=b.NOT_IMPLEMENTED=b.CIRCULAR_DEPENDENCY=b.UNDEFINED_INJECT_ANNOTATION=b.MISSING_INJECT_ANNOTATION=b.MISSING_INJECTABLE_ANNOTATION=b.NOT_REGISTERED=b.CANNOT_UNBIND=b.AMBIGUOUS_MATCH=b.KEY_NOT_FOUND=b.NULL_ARGUMENT=b.DUPLICATED_METADATA=b.DUPLICATED_INJECTABLE_DECORATOR=void 0,b.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",b.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",b.NULL_ARGUMENT="NULL argument",b.KEY_NOT_FOUND="Key Not Found",b.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",b.CANNOT_UNBIND="Could not unbind serviceIdentifier:",b.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",b.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",b.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",b.UNDEFINED_INJECT_ANNOTATION=function(n){return"@inject called with undefined this could mean that the class "+n+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},b.CIRCULAR_DEPENDENCY="Circular dependency found:",b.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",b.INVALID_BINDING_TYPE="Invalid binding type:",b.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",b.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",b.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",b.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",b.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",b.ARGUMENTS_LENGTH_MISMATCH=function(){for(var n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];return"The number of constructor arguments in the derived class "+n[0]+" must be >= than the number of constructor arguments of its base class."},b.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",b.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",b.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",b.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",b.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",b.POST_CONSTRUCT_ERROR=function(){for(var n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];return"@postConstruct error in class "+n[0]+": "+n[1]},b.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var n=[],u=0;u<arguments.length;u++)n[u]=arguments[u];return"It looks like there is a circular dependency in one of the '"+n[0]+"' bindings. Please investigate bindings withservice identifier '"+n[1]+"'."},b.STACK_OVERFLOW="Maximum call stack size exceeded"},function(i,b,t){var n;try{n={clone:t(272),constant:t(134),each:t(181),filter:t(184),has:t(195),isArray:t(26),isEmpty:t(348),isFunction:t(83),isUndefined:t(196),keys:t(58),map:t(197),reduce:t(199),size:t(351),transform:t(357),union:t(358),values:t(205)}}catch(u){}n||(n=window._),i.exports=n},function(i,b){function t(n){return(t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(n)}i.exports=function(n){var u=t(n);return n!=null&&(u=="object"||u=="function")}},function(i,b,t){var n=t(305),u=t(103),g=t(129),x=g&&g.isTypedArray,c=x?u(x):n;i.exports=c},function(i,b,t){"use strict";var n=t(123),u=Object(n.getColorsWithSubjectColor)("rgb(95, 149, 255)","rgb(255, 255, 255)");b.a={version:"0.0.12",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:u.mainStroke,fill:u.mainFill},size:20,color:u.mainStroke,linkPoints:{size:8,lineWidth:1,fill:u.activeFill,stroke:u.activeStroke}},nodeStateStyles:{active:{fill:u.activeFill,stroke:u.activeStroke,lineWidth:2,shadowColor:u.mainStroke,shadowBlur:10},selected:{fill:u.selectedFill,stroke:u.selectedStroke,lineWidth:4,shadowColor:u.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:u.highlightFill,stroke:u.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:u.inactiveFill,stroke:u.inactiveStroke,lineWidth:1},disable:{fill:u.disableFill,stroke:u.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:"rgb(0, 0, 0)",textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:u.edgeMainStroke,lineAppendWidth:2},color:u.edgeMainStroke},edgeStateStyles:{active:{stroke:u.edgeActiveStroke,lineWidth:1},selected:{stroke:u.edgeSelectedStroke,lineWidth:2,shadowColor:u.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:u.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:u.edgeInactiveStroke,lineWidth:1},disable:{stroke:u.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:"rgb(0, 0, 0)",textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:u.comboMainFill,lineWidth:1,stroke:u.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:u.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:u.comboActiveStroke,lineWidth:1,fill:u.comboActiveFill},selected:{stroke:u.comboSelectedStroke,lineWidth:2,fill:u.comboSelectedFill,shadowColor:u.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:u.comboHighlightStroke,lineWidth:2,fill:u.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:u.comboInactiveStroke,fill:u.comboInactiveFill,lineWidth:1},disable:{stroke:u.comboDisableStroke,fill:u.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"}},function(i,b,t){var n;try{n=t(270)}catch(u){}n||(n=window.graphlib),i.exports=n},function(i,b,t){function n(c){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(c)}var u=t(163),g=(typeof self=="undefined"?"undefined":n(self))=="object"&&self&&self.Object===Object&&self,x=u||g||Function("return this")();i.exports=x},function(i,b){function t(n){return(t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(n)}i.exports=function(n){return n!=null&&t(n)=="object"}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Metadata=void 0;var n=t(32),u=function(){function g(x,c){this.key=x,this.value=c}return g.prototype.toString=function(){return this.key===n.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},g}();b.Metadata=u},function(i,b){},function(i,b,t){"use strict";t.r(b),t.d(b,"catmullRomToBezier",function(){return w}),t.d(b,"fillPath",function(){return Bt}),t.d(b,"fillPathByDiff",function(){return K}),t.d(b,"formatPath",function(){return yt}),t.d(b,"intersection",function(){return pt}),t.d(b,"parsePathArray",function(){return A}),t.d(b,"parsePathString",function(){return c}),t.d(b,"pathToAbsolute",function(){return m}),t.d(b,"pathToCurve",function(){return C}),t.d(b,"rectPath",function(){return H});var n=t(0),u=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,g=new RegExp("([a-z])["+u+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+u+"]*,?["+u+"]*)+)","ig"),x=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+u+"]*,?["+u+"]*","ig"),c=function(J){if(!J)return null;if(Object(n.m)(J))return J;var lt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},it=[];return String(J).replace(g,function(_,P,Q){var k=[],p=P.toLowerCase();if(Q.replace(x,function(y,B){B&&k.push(+B)}),p==="m"&&k.length>2&&(it.push([P].concat(k.splice(0,2))),p="l",P=P==="m"?"l":"L"),p==="o"&&k.length===1&&it.push([P,k[0]]),p==="r")it.push([P].concat(k));else for(;k.length>=lt[p]&&(it.push([P].concat(k.splice(0,lt[p]))),lt[p]););return J}),it},w=function(J,lt){for(var it=[],_=0,P=J.length;P-2*!lt>_;_+=2){var Q=[{x:+J[_-2],y:+J[_-1]},{x:+J[_],y:+J[_+1]},{x:+J[_+2],y:+J[_+3]},{x:+J[_+4],y:+J[_+5]}];lt?_?P-4===_?Q[3]={x:+J[0],y:+J[1]}:P-2===_&&(Q[2]={x:+J[0],y:+J[1]},Q[3]={x:+J[2],y:+J[3]}):Q[0]={x:+J[P-2],y:+J[P-1]}:P-4===_?Q[3]=Q[2]:_||(Q[0]={x:+J[_],y:+J[_+1]}),it.push(["C",(-Q[0].x+6*Q[1].x+Q[2].x)/6,(-Q[0].y+6*Q[1].y+Q[2].y)/6,(Q[1].x+6*Q[2].x-Q[3].x)/6,(Q[1].y+6*Q[2].y-Q[3].y)/6,Q[2].x,Q[2].y])}return it},I=function(J,lt,it,_,P){var Q=[];if(P===null&&_===null&&(_=it),J=+J,lt=+lt,it=+it,_=+_,P!==null){var k=Math.PI/180,p=J+it*Math.cos(-_*k),y=J+it*Math.cos(-P*k);Q=[["M",p,lt+it*Math.sin(-_*k)],["A",it,it,0,+(P-_>180),0,y,lt+it*Math.sin(-P*k)]]}else Q=[["M",J,lt],["m",0,-_],["a",it,_,0,1,1,0,2*_],["a",it,_,0,1,1,0,-2*_],["z"]];return Q},m=function(J){if(!(J=c(J))||!J.length)return[["M",0,0]];var lt,it,_=[],P=0,Q=0,k=0,p=0,y=0;J[0][0]==="M"&&(k=P=+J[0][1],p=Q=+J[0][2],y++,_[0]=["M",P,Q]);for(var B=J.length===3&&J[0][0]==="M"&&J[1][0].toUpperCase()==="R"&&J[2][0].toUpperCase()==="Z",W=void 0,rt=void 0,st=y,ut=J.length;st<ut;st++){if(_.push(W=[]),(lt=(rt=J[st])[0])!==lt.toUpperCase())switch(W[0]=lt.toUpperCase(),W[0]){case"A":W[1]=rt[1],W[2]=rt[2],W[3]=rt[3],W[4]=rt[4],W[5]=rt[5],W[6]=+rt[6]+P,W[7]=+rt[7]+Q;break;case"V":W[1]=+rt[1]+Q;break;case"H":W[1]=+rt[1]+P;break;case"R":for(var Mt=2,bt=(it=[P,Q].concat(rt.slice(1))).length;Mt<bt;Mt++)it[Mt]=+it[Mt]+P,it[++Mt]=+it[Mt]+Q;_.pop(),_=_.concat(w(it,B));break;case"O":_.pop(),(it=I(P,Q,rt[1],rt[2])).push(it[0]),_=_.concat(it);break;case"U":_.pop(),_=_.concat(I(P,Q,rt[1],rt[2],rt[3])),W=["U"].concat(_[_.length-1].slice(-2));break;case"M":k=+rt[1]+P,p=+rt[2]+Q;break;default:for(Mt=1,bt=rt.length;Mt<bt;Mt++)W[Mt]=+rt[Mt]+(Mt%2?P:Q)}else if(lt==="R")it=[P,Q].concat(rt.slice(1)),_.pop(),_=_.concat(w(it,B)),W=["R"].concat(rt.slice(-2));else if(lt==="O")_.pop(),(it=I(P,Q,rt[1],rt[2])).push(it[0]),_=_.concat(it);else if(lt==="U")_.pop(),_=_.concat(I(P,Q,rt[1],rt[2],rt[3])),W=["U"].concat(_[_.length-1].slice(-2));else for(var xt=0,Ot=rt.length;xt<Ot;xt++)W[xt]=rt[xt];if((lt=lt.toUpperCase())!=="O")switch(W[0]){case"Z":P=+k,Q=+p;break;case"H":P=W[1];break;case"V":Q=W[1];break;case"M":k=W[W.length-2],p=W[W.length-1];break;default:P=W[W.length-2],Q=W[W.length-1]}}return _},r=function(J,lt,it,_){return[J,lt,it,_,it,_]},s=function(J,lt,it,_,P,Q){return[1/3*J+2/3*it,1/3*lt+2/3*_,1/3*P+2/3*it,1/3*Q+2/3*_,P,Q]},d=function wt(J,lt,it,_,P,Q,k,p,y,B){it===_&&(it+=1);var W,rt,st,ut,Mt,bt=120*Math.PI/180,xt=Math.PI/180*(+P||0),Ot=[],jt=function(ii,mi,Pi){return{x:ii*Math.cos(Pi)-mi*Math.sin(Pi),y:ii*Math.sin(Pi)+mi*Math.cos(Pi)}};if(B)rt=B[0],st=B[1],ut=B[2],Mt=B[3];else{J=(W=jt(J,lt,-xt)).x,lt=W.y,p=(W=jt(p,y,-xt)).x,y=W.y,J===p&&lt===y&&(p+=1,y+=1);var Dt=(J-p)/2,zt=(lt-y)/2,Tt=Dt*Dt/(it*it)+zt*zt/(_*_);Tt>1&&(it*=Tt=Math.sqrt(Tt),_*=Tt);var Vt=it*it,Ht=_*_,re=(Q===k?-1:1)*Math.sqrt(Math.abs((Vt*Ht-Vt*zt*zt-Ht*Dt*Dt)/(Vt*zt*zt+Ht*Dt*Dt)));ut=re*it*zt/_+(J+p)/2,Mt=re*-_*Dt/it+(lt+y)/2,rt=Math.asin(((lt-Mt)/_).toFixed(9)),st=Math.asin(((y-Mt)/_).toFixed(9)),rt=J<ut?Math.PI-rt:rt,st=p<ut?Math.PI-st:st,rt<0&&(rt=2*Math.PI+rt),st<0&&(st=2*Math.PI+st),k&&rt>st&&(rt-=2*Math.PI),!k&&st>rt&&(st-=2*Math.PI)}var pe=st-rt;if(Math.abs(pe)>bt){var me=st,Ee=p,Le=y;st=rt+bt*(k&&st>rt?1:-1),Ot=wt(p=ut+it*Math.cos(st),y=Mt+_*Math.sin(st),it,_,P,0,k,Ee,Le,[st,me,ut,Mt])}pe=st-rt;var Je=Math.cos(rt),On=Math.sin(rt),gn=Math.cos(st),Vn=Math.sin(st),kn=Math.tan(pe/4),Wn=4/3*it*kn,Dn=4/3*_*kn,Nn=[J,lt],Qn=[J+Wn*On,lt-Dn*Je],ir=[p+Wn*Vn,y-Dn*gn],hr=[p,y];if(Qn[0]=2*Nn[0]-Qn[0],Qn[1]=2*Nn[1]-Qn[1],B)return[Qn,ir,hr].concat(Ot);for(var Er=[],mr=0,dr=(Ot=[Qn,ir,hr].concat(Ot).join().split(",")).length;mr<dr;mr++)Er[mr]=mr%2?jt(Ot[mr-1],Ot[mr],xt).y:jt(Ot[mr],Ot[mr+1],xt).x;return Er},C=function(J,lt){var it,_=m(J),P=lt&&m(lt),Q={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},k={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},p=[],y=[],B="",W="",rt=function(zt,Tt,Vt){var Ht,re;if(!zt)return["C",Tt.x,Tt.y,Tt.x,Tt.y,Tt.x,Tt.y];switch(!(zt[0]in{T:1,Q:1})&&(Tt.qx=Tt.qy=null),zt[0]){case"M":Tt.X=zt[1],Tt.Y=zt[2];break;case"A":zt=["C"].concat(d.apply(0,[Tt.x,Tt.y].concat(zt.slice(1))));break;case"S":Vt==="C"||Vt==="S"?(Ht=2*Tt.x-Tt.bx,re=2*Tt.y-Tt.by):(Ht=Tt.x,re=Tt.y),zt=["C",Ht,re].concat(zt.slice(1));break;case"T":Vt==="Q"||Vt==="T"?(Tt.qx=2*Tt.x-Tt.qx,Tt.qy=2*Tt.y-Tt.qy):(Tt.qx=Tt.x,Tt.qy=Tt.y),zt=["C"].concat(s(Tt.x,Tt.y,Tt.qx,Tt.qy,zt[1],zt[2]));break;case"Q":Tt.qx=zt[1],Tt.qy=zt[2],zt=["C"].concat(s(Tt.x,Tt.y,zt[1],zt[2],zt[3],zt[4]));break;case"L":zt=["C"].concat(r(Tt.x,Tt.y,zt[1],zt[2]));break;case"H":zt=["C"].concat(r(Tt.x,Tt.y,zt[1],Tt.y));break;case"V":zt=["C"].concat(r(Tt.x,Tt.y,Tt.x,zt[1]));break;case"Z":zt=["C"].concat(r(Tt.x,Tt.y,Tt.X,Tt.Y))}return zt},st=function(zt,Tt){if(zt[Tt].length>7){zt[Tt].shift();for(var Vt=zt[Tt];Vt.length;)p[Tt]="A",P&&(y[Tt]="A"),zt.splice(Tt++,0,["C"].concat(Vt.splice(0,6)));zt.splice(Tt,1),it=Math.max(_.length,P&&P.length||0)}},ut=function(zt,Tt,Vt,Ht,re){zt&&Tt&&zt[re][0]==="M"&&Tt[re][0]!=="M"&&(Tt.splice(re,0,["M",Ht.x,Ht.y]),Vt.bx=0,Vt.by=0,Vt.x=zt[re][1],Vt.y=zt[re][2],it=Math.max(_.length,P&&P.length||0))};it=Math.max(_.length,P&&P.length||0);for(var Mt=0;Mt<it;Mt++){_[Mt]&&(B=_[Mt][0]),B!=="C"&&(p[Mt]=B,Mt&&(W=p[Mt-1])),_[Mt]=rt(_[Mt],Q,W),p[Mt]!=="A"&&B==="C"&&(p[Mt]="C"),st(_,Mt),P&&(P[Mt]&&(B=P[Mt][0]),B!=="C"&&(y[Mt]=B,Mt&&(W=y[Mt-1])),P[Mt]=rt(P[Mt],k,W),y[Mt]!=="A"&&B==="C"&&(y[Mt]="C"),st(P,Mt)),ut(_,P,Q,k,Mt),ut(P,_,k,Q,Mt);var bt=_[Mt],xt=P&&P[Mt],Ot=bt.length,jt=P&&xt.length;Q.x=bt[Ot-2],Q.y=bt[Ot-1],Q.bx=parseFloat(bt[Ot-4])||Q.x,Q.by=parseFloat(bt[Ot-3])||Q.y,k.bx=P&&(parseFloat(xt[jt-4])||k.x),k.by=P&&(parseFloat(xt[jt-3])||k.y),k.x=P&&xt[jt-2],k.y=P&&xt[jt-1]}return P?[_,P]:_},S=/,?([a-z]),?/gi,A=function(J){return J.join(",").replace(S,"$1")},f=function(J,lt,it,_,P){return J*(J*(-3*lt+9*it-9*_+3*P)+6*lt-12*it+6*_)-3*lt+3*it},O=function(J,lt,it,_,P,Q,k,p,y){y===null&&(y=1);for(var B=(y=y>1?1:y<0?0:y)/2,W=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],rt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],st=0,ut=0;ut<12;ut++){var Mt=B*W[ut]+B,bt=f(Mt,J,it,P,k),xt=f(Mt,lt,_,Q,p),Ot=bt*bt+xt*xt;st+=rt[ut]*Math.sqrt(Ot)}return B*st},j=function(J,lt,it,_,P,Q,k,p){for(var y,B,W,rt,st=[],ut=[[],[]],Mt=0;Mt<2;++Mt)if(Mt===0?(B=6*J-12*it+6*P,y=-3*J+9*it-9*P+3*k,W=3*it-3*J):(B=6*lt-12*_+6*Q,y=-3*lt+9*_-9*Q+3*p,W=3*_-3*lt),Math.abs(y)<1e-12){if(Math.abs(B)<1e-12)continue;(rt=-W/B)>0&&rt<1&&st.push(rt)}else{var bt=B*B-4*W*y,xt=Math.sqrt(bt);if(!(bt<0)){var Ot=(-B+xt)/(2*y);Ot>0&&Ot<1&&st.push(Ot);var jt=(-B-xt)/(2*y);jt>0&&jt<1&&st.push(jt)}}for(var Dt,zt=st.length,Tt=zt;zt--;)Dt=1-(rt=st[zt]),ut[0][zt]=Dt*Dt*Dt*J+3*Dt*Dt*rt*it+3*Dt*rt*rt*P+rt*rt*rt*k,ut[1][zt]=Dt*Dt*Dt*lt+3*Dt*Dt*rt*_+3*Dt*rt*rt*Q+rt*rt*rt*p;return ut[0][Tt]=J,ut[1][Tt]=lt,ut[0][Tt+1]=k,ut[1][Tt+1]=p,ut[0].length=ut[1].length=Tt+2,{min:{x:Math.min.apply(0,ut[0]),y:Math.min.apply(0,ut[1])},max:{x:Math.max.apply(0,ut[0]),y:Math.max.apply(0,ut[1])}}},D=function(J,lt,it,_,P,Q,k,p){if(!(Math.max(J,it)<Math.min(P,k)||Math.min(J,it)>Math.max(P,k)||Math.max(lt,_)<Math.min(Q,p)||Math.min(lt,_)>Math.max(Q,p))){var y=(J-it)*(Q-p)-(lt-_)*(P-k);if(y){var B=((J*_-lt*it)*(P-k)-(J-it)*(P*p-Q*k))/y,W=((J*_-lt*it)*(Q-p)-(lt-_)*(P*p-Q*k))/y,rt=+B.toFixed(2),st=+W.toFixed(2);if(!(rt<+Math.min(J,it).toFixed(2)||rt>+Math.max(J,it).toFixed(2)||rt<+Math.min(P,k).toFixed(2)||rt>+Math.max(P,k).toFixed(2)||st<+Math.min(lt,_).toFixed(2)||st>+Math.max(lt,_).toFixed(2)||st<+Math.min(Q,p).toFixed(2)||st>+Math.max(Q,p).toFixed(2)))return{x:B,y:W}}}},V=function(J,lt,it){return lt>=J.x&&lt<=J.x+J.width&&it>=J.y&&it<=J.y+J.height},H=function(J,lt,it,_,P){if(P)return[["M",+J+ +P,lt],["l",it-2*P,0],["a",P,P,0,0,1,P,P],["l",0,_-2*P],["a",P,P,0,0,1,-P,P],["l",2*P-it,0],["a",P,P,0,0,1,-P,-P],["l",0,2*P-_],["a",P,P,0,0,1,P,-P],["z"]];var Q=[["M",J,lt],["l",it,0],["l",0,_],["l",-it,0],["z"]];return Q.parsePathArray=A,Q},$=function(J,lt,it,_){return J===null&&(J=lt=it=_=0),lt===null&&(lt=J.y,it=J.width,_=J.height,J=J.x),{x:J,y:lt,width:it,w:it,height:_,h:_,x2:J+it,y2:lt+_,cx:J+it/2,cy:lt+_/2,r1:Math.min(it,_)/2,r2:Math.max(it,_)/2,r0:Math.sqrt(it*it+_*_)/2,path:H(J,lt,it,_),vb:[J,lt,it,_].join(" ")}},dt=function(J,lt,it,_,P,Q,k,p){Object(n.m)(J)||(J=[J,lt,it,_,P,Q,k,p]);var y=j.apply(null,J);return $(y.min.x,y.min.y,y.max.x-y.min.x,y.max.y-y.min.y)},Z=function(J,lt,it,_,P,Q,k,p,y){var B=1-y,W=Math.pow(B,3),rt=Math.pow(B,2),st=y*y,ut=st*y,Mt=J+2*y*(it-J)+st*(P-2*it+J),bt=lt+2*y*(_-lt)+st*(Q-2*_+lt),xt=it+2*y*(P-it)+st*(k-2*P+it),Ot=_+2*y*(Q-_)+st*(p-2*Q+_);return{x:W*J+3*rt*y*it+3*B*y*y*P+ut*k,y:W*lt+3*rt*y*_+3*B*y*y*Q+ut*p,m:{x:Mt,y:bt},n:{x:xt,y:Ot},start:{x:B*J+y*it,y:B*lt+y*_},end:{x:B*P+y*k,y:B*Q+y*p},alpha:90-180*Math.atan2(Mt-xt,bt-Ot)/Math.PI}},ct=function(J,lt,it){if(!function(Tt,Vt){return Tt=$(Tt),Vt=$(Vt),V(Vt,Tt.x,Tt.y)||V(Vt,Tt.x2,Tt.y)||V(Vt,Tt.x,Tt.y2)||V(Vt,Tt.x2,Tt.y2)||V(Tt,Vt.x,Vt.y)||V(Tt,Vt.x2,Vt.y)||V(Tt,Vt.x,Vt.y2)||V(Tt,Vt.x2,Vt.y2)||(Tt.x<Vt.x2&&Tt.x>Vt.x||Vt.x<Tt.x2&&Vt.x>Tt.x)&&(Tt.y<Vt.y2&&Tt.y>Vt.y||Vt.y<Tt.y2&&Vt.y>Tt.y)}(dt(J),dt(lt)))return it?0:[];for(var _=~~(O.apply(0,J)/8),P=~~(O.apply(0,lt)/8),Q=[],k=[],p={},y=it?0:[],B=0;B<_+1;B++){var W=Z.apply(0,J.concat(B/_));Q.push({x:W.x,y:W.y,t:B/_})}for(B=0;B<P+1;B++)W=Z.apply(0,lt.concat(B/P)),k.push({x:W.x,y:W.y,t:B/P});for(B=0;B<_;B++)for(var rt=0;rt<P;rt++){var st=Q[B],ut=Q[B+1],Mt=k[rt],bt=k[rt+1],xt=Math.abs(ut.x-st.x)<.001?"y":"x",Ot=Math.abs(bt.x-Mt.x)<.001?"y":"x",jt=D(st.x,st.y,ut.x,ut.y,Mt.x,Mt.y,bt.x,bt.y);if(jt){if(p[jt.x.toFixed(4)]===jt.y.toFixed(4))continue;p[jt.x.toFixed(4)]=jt.y.toFixed(4);var Dt=st.t+Math.abs((jt[xt]-st[xt])/(ut[xt]-st[xt]))*(ut.t-st.t),zt=Mt.t+Math.abs((jt[Ot]-Mt[Ot])/(bt[Ot]-Mt[Ot]))*(bt.t-Mt.t);Dt>=0&&Dt<=1&&zt>=0&&zt<=1&&(it?y+=1:y.push({x:jt.x,y:jt.y,t1:Dt,t2:zt}))}}return y},pt=function(J,lt){return function(it,_,P){var Q,k,p,y,B,W,rt,st,ut,Mt;it=C(it),_=C(_);for(var bt=P?0:[],xt=0,Ot=it.length;xt<Ot;xt++){var jt=it[xt];if(jt[0]==="M")Q=B=jt[1],k=W=jt[2];else{jt[0]==="C"?(ut=[Q,k].concat(jt.slice(1)),Q=ut[6],k=ut[7]):(ut=[Q,k,Q,k,B,W,B,W],Q=B,k=W);for(var Dt=0,zt=_.length;Dt<zt;Dt++){var Tt=_[Dt];if(Tt[0]==="M")p=rt=Tt[1],y=st=Tt[2];else{Tt[0]==="C"?(Mt=[p,y].concat(Tt.slice(1)),p=Mt[6],y=Mt[7]):(Mt=[p,y,p,y,rt,st,rt,st],p=rt,y=st);var Vt=ct(ut,Mt,P);if(P)bt+=Vt;else{for(var Ht=0,re=Vt.length;Ht<re;Ht++)Vt[Ht].segment1=xt,Vt[Ht].segment2=Dt,Vt[Ht].bez1=ut,Vt[Ht].bez2=Mt;bt=bt.concat(Vt)}}}}}return bt}(J,lt)};function gt(wt,J){var lt=[],it=[];return wt.length&&function _(P,Q){if(P.length===1)lt.push(P[0]),it.push(P[0]);else{for(var k=[],p=0;p<P.length-1;p++)p===0&&lt.push(P[0]),p===P.length-2&&it.push(P[p+1]),k[p]=[(1-Q)*P[p][0]+Q*P[p+1][0],(1-Q)*P[p][1]+Q*P[p+1][1]];_(k,Q)}}(wt,J),{left:lt,right:it.reverse()}}var at=function(J,lt,it){if(it===1)return[[].concat(J)];var _=[];if(lt[0]==="L"||lt[0]==="C"||lt[0]==="Q")_=_.concat(function(k,p,y){var B=[[k[1],k[2]]];y=y||2;var W=[];p[0]==="A"?(B.push(p[6]),B.push(p[7])):p[0]==="C"?(B.push([p[1],p[2]]),B.push([p[3],p[4]]),B.push([p[5],p[6]])):p[0]==="S"||p[0]==="Q"?(B.push([p[1],p[2]]),B.push([p[3],p[4]])):B.push([p[1],p[2]]);for(var rt=B,st=1/y,ut=0;ut<y-1;ut++){var Mt=gt(rt,st/(1-st*ut));W.push(Mt.left),rt=Mt.right}return W.push(rt),W.map(function(bt){var xt=[];return bt.length===4&&(xt.push("C"),xt=xt.concat(bt[2])),bt.length>=3&&(bt.length===3&&xt.push("Q"),xt=xt.concat(bt[1])),bt.length===2&&xt.push("L"),xt=xt.concat(bt[bt.length-1])})}(J,lt,it));else{var P=[].concat(J);P[0]==="M"&&(P[0]="L");for(var Q=0;Q<=it-1;Q++)_.push(P)}return _},Bt=function(J,lt){if(J.length===1)return J;var it=J.length-1,_=lt.length-1,P=it/_,Q=[];if(J.length===1&&J[0][0]==="M"){for(var k=0;k<_-it;k++)J.push(J[0]);return J}for(k=0;k<_;k++){var p=Math.floor(P*k);Q[p]=(Q[p]||0)+1}var y=Q.reduce(function(B,W,rt){return rt===it?B.concat(J[it]):B.concat(at(J[rt],J[rt+1],W))},[]);return y.unshift(J[0]),lt[_]!=="Z"&&lt[_]!=="z"||y.push("Z"),y},Lt=function(J,lt){if(J.length!==lt.length)return!1;var it=!0;return Object(n.f)(J,function(_,P){if(_!==lt[P])return it=!1,!1}),it};function Et(wt,J,lt){var it=null,_=lt;return J<_&&(_=J,it="add"),wt<_&&(_=wt,it="del"),{type:it,min:_}}var K=function(J,lt){var it=function(st,ut){var Mt,bt,xt=st.length,Ot=ut.length,jt=0;if(xt===0||Ot===0)return null;for(var Dt=[],zt=0;zt<=xt;zt++)Dt[zt]=[],Dt[zt][0]={min:zt};for(var Tt=0;Tt<=Ot;Tt++)Dt[0][Tt]={min:Tt};for(zt=1;zt<=xt;zt++)for(Mt=st[zt-1],Tt=1;Tt<=Ot;Tt++){bt=ut[Tt-1],jt=Lt(Mt,bt)?0:1;var Vt=Dt[zt-1][Tt].min+1,Ht=Dt[zt][Tt-1].min+1,re=Dt[zt-1][Tt-1].min+jt;Dt[zt][Tt]=Et(Vt,Ht,re)}return Dt}(J,lt),_=J.length,P=lt.length,Q=[],k=1,p=1;if(it[_][P].min!==_){for(var y=1;y<=_;y++){var B=it[y][y].min;p=y;for(var W=k;W<=P;W++)it[y][W].min<B&&(B=it[y][W].min,p=W);k=p,it[y][k].type&&Q.push({index:y-1,type:it[y][k].type})}for(y=Q.length-1;y>=0;y--)k=Q[y].index,Q[y].type==="add"?J.splice(k,0,[].concat(J[k])):J.splice(k,1)}var rt=P-(_=J.length);if(_<P)for(y=0;y<rt;y++)J[_-1][0]==="z"||J[_-1][0]==="Z"?J.splice(_-2,0,J[_-2]):J.push(J[_-1]),_+=1;return J};function ft(wt,J,lt){for(var it,_=[].concat(wt),P=1/(lt+1),Q=mt(J)[0],k=1;k<=lt;k++)P*=k,(it=Math.floor(wt.length*P))===0?_.unshift([Q[0]*P+wt[it][0]*(1-P),Q[1]*P+wt[it][1]*(1-P)]):_.splice(it,0,[Q[0]*P+wt[it][0]*(1-P),Q[1]*P+wt[it][1]*(1-P)]);return _}function mt(wt){var J=[];switch(wt[0]){case"M":case"L":J.push([wt[1],wt[2]]);break;case"A":J.push([wt[6],wt[7]]);break;case"Q":J.push([wt[3],wt[4]]),J.push([wt[1],wt[2]]);break;case"T":J.push([wt[1],wt[2]]);break;case"C":J.push([wt[5],wt[6]]),J.push([wt[1],wt[2]]),J.push([wt[3],wt[4]]);break;case"S":J.push([wt[3],wt[4]]),J.push([wt[1],wt[2]]);break;case"H":case"V":J.push([wt[1],wt[1]])}return J}var yt=function(J,lt){if(J.length<=1)return J;for(var it,_=0;_<lt.length;_++)if(J[_][0]!==lt[_][0])switch(it=mt(J[_]),lt[_][0]){case"M":J[_]=["M"].concat(it[0]);break;case"L":J[_]=["L"].concat(it[0]);break;case"A":J[_]=[].concat(lt[_]),J[_][6]=it[0][0],J[_][7]=it[0][1];break;case"Q":if(it.length<2){if(!(_>0)){J[_]=lt[_];break}it=ft(it,J[_-1],1)}J[_]=["Q"].concat(it.reduce(function(P,Q){return P.concat(Q)},[]));break;case"T":J[_]=["T"].concat(it[0]);break;case"C":if(it.length<3){if(!(_>0)){J[_]=lt[_];break}it=ft(it,J[_-1],2)}J[_]=["C"].concat(it.reduce(function(P,Q){return P.concat(Q)},[]));break;case"S":if(it.length<2){if(!(_>0)){J[_]=lt[_];break}it=ft(it,J[_-1],1)}J[_]=["S"].concat(it.reduce(function(P,Q){return P.concat(Q)},[]));break;default:J[_]=lt[_]}return J}},function(i,b,t){"use strict";t(56),t(18);var n=t(250);t.d(b,"Canvas",function(){return n.a}),t(76),t(89)},function(i,b,t){var n=t(83),u=t(128);i.exports=function(g){return g!=null&&u(g.length)&&!n(g)}},function(i,b,t){function n(I){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(I)}var u=t(328),g=t(338),x=t(66),c=t(26),w=t(345);i.exports=function(I){return typeof I=="function"?I:I==null?x:n(I)=="object"?c(I)?g(I[0],I[1]):u(I):w(I)}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.TargetTypeEnum=b.BindingTypeEnum=b.BindingScopeEnum=void 0,b.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"},b.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"},b.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},function(i,b,t){"use strict";t.r(b),t.d(b,"Base",function(){return I}),t.d(b,"Circle",function(){return m}),t.d(b,"Ellipse",function(){return s}),t.d(b,"Image",function(){return C}),t.d(b,"Line",function(){return O}),t.d(b,"Marker",function(){return H}),t.d(b,"Path",function(){return K}),t.d(b,"Polygon",function(){return mt}),t.d(b,"Polyline",function(){return yt}),t.d(b,"Rect",function(){return J}),t.d(b,"Text",function(){return lt});var n={};t.r(n),t.d(n,"Base",function(){return I}),t.d(n,"Circle",function(){return m}),t.d(n,"Ellipse",function(){return s}),t.d(n,"Image",function(){return C}),t.d(n,"Line",function(){return O}),t.d(n,"Marker",function(){return H}),t.d(n,"Path",function(){return K}),t.d(n,"Polygon",function(){return mt}),t.d(n,"Polyline",function(){return yt}),t.d(n,"Rect",function(){return J}),t.d(n,"Text",function(){return lt});var u=t(1),g=t(18),x=t(17),c=t(29),w=t(76),I=function(it){function _(){return it!==null&&it.apply(this,arguments)||this}return Object(u.b)(_,it),_.prototype.getDefaultAttrs=function(){var P=it.prototype.getDefaultAttrs.call(this);return Object(u.a)(Object(u.a)({},P),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},_.prototype.getShapeBase=function(){return n},_.prototype.getGroupBase=function(){return w.a},_.prototype.onCanvasChange=function(P){Object(c.h)(this,P)},_.prototype.calculateBBox=function(){var P=this.get("type"),Q=this.getHitLineWidth(),k=Object(g.getBBoxMethod)(P)(this),p=Q/2,y=k.x-p,B=k.y-p,W=k.x+k.width+p,rt=k.y+k.height+p;return{x:y,minX:y,y:B,minY:B,width:k.width+Q,height:k.height+Q,maxX:W,maxY:rt}},_.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},_.prototype.isStroke=function(){return!!this.attrs.stroke},_.prototype._applyClip=function(P,Q){Q&&(P.save(),Object(c.a)(P,Q),Q.createPath(P),P.restore(),P.clip(),Q._afterDraw())},_.prototype.draw=function(P,Q){var k=this.cfg.clipShape;if(Q){if(this.cfg.refresh===!1)return void this.set("hasChanged",!1);var p=this.getCanvasBBox();if(!Object(x.f)(Q,p))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}P.save(),Object(c.a)(P,this),this._applyClip(P,k),this.drawPath(P),P.restore(),this._afterDraw()},_.prototype.getCanvasViewBox=function(){var P=this.cfg.canvas;return P?P.getViewRange():null},_.prototype.cacheCanvasBBox=function(){var P=this.getCanvasViewBox();if(P){var Q=this.getCanvasBBox(),k=Object(x.f)(Q,P);this.set("isInView",k),k?this.set("cacheCanvasBBox",Q):this.set("cacheCanvasBBox",null)}},_.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},_.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},_.prototype.drawPath=function(P){this.createPath(P),this.strokeAndFill(P),this.afterDrawPath(P)},_.prototype.fill=function(P){P.fill()},_.prototype.stroke=function(P){P.stroke()},_.prototype.strokeAndFill=function(P){var Q=this.attrs,k=Q.lineWidth,p=Q.opacity,y=Q.strokeOpacity,B=Q.fillOpacity;this.isFill()&&(Object(x.i)(B)||B===1?this.fill(P):(P.globalAlpha=B,this.fill(P),P.globalAlpha=p)),this.isStroke()&&k>0&&(Object(x.i)(y)||y===1||(P.globalAlpha=y),this.stroke(P)),this.afterDrawPath(P)},_.prototype.createPath=function(P){},_.prototype.afterDrawPath=function(P){},_.prototype.isInShape=function(P,Q){var k=this.isStroke(),p=this.isFill(),y=this.getHitLineWidth();return this.isInStrokeOrPath(P,Q,k,p,y)},_.prototype.isInStrokeOrPath=function(P,Q,k,p,y){return!1},_.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var P=this.attrs;return P.lineWidth+P.lineAppendWidth},_}(g.AbstractShape),m=function(it){function _(){return it!==null&&it.apply(this,arguments)||this}return Object(u.b)(_,it),_.prototype.getDefaultAttrs=function(){var P=it.prototype.getDefaultAttrs.call(this);return Object(u.a)(Object(u.a)({},P),{x:0,y:0,r:0})},_.prototype.isInStrokeOrPath=function(P,Q,k,p,y){var B=this.attr(),W=B.x,rt=B.y,st=B.r,ut=y/2,Mt=Object(x.b)(W,rt,P,Q);return p&&k?Mt<=st+ut:p?Mt<=st:!!k&&Mt>=st-ut&&Mt<=st+ut},_.prototype.createPath=function(P){var Q=this.attr(),k=Q.x,p=Q.y,y=Q.r;P.beginPath(),P.arc(k,p,y,0,2*Math.PI,!1),P.closePath()},_}(I);function r(it,_,P,Q){return it/(P*P)+_/(Q*Q)}var s=function(it){function _(){return it!==null&&it.apply(this,arguments)||this}return Object(u.b)(_,it),_.prototype.getDefaultAttrs=function(){var P=it.prototype.getDefaultAttrs.call(this);return Object(u.a)(Object(u.a)({},P),{x:0,y:0,rx:0,ry:0})},_.prototype.isInStrokeOrPath=function(P,Q,k,p,y){var B=this.attr(),W=y/2,rt=B.x,st=B.y,ut=B.rx,Mt=B.ry,bt=(P-rt)*(P-rt),xt=(Q-st)*(Q-st);return p&&k?r(bt,xt,ut+W,Mt+W)<=1:p?r(bt,xt,ut,Mt)<=1:!!k&&r(bt,xt,ut-W,Mt-W)>=1&&r(bt,xt,ut+W,Mt+W)<=1},_.prototype.createPath=function(P){var Q=this.attr(),k=Q.x,p=Q.y,y=Q.rx,B=Q.ry;if(P.beginPath(),P.ellipse)P.ellipse(k,p,y,B,0,0,2*Math.PI,!1);else{var W=y>B?y:B,rt=y>B?1:y/B,st=y>B?B/y:1;P.save(),P.translate(k,p),P.scale(rt,st),P.arc(0,0,W,0,2*Math.PI),P.restore(),P.closePath()}},_}(I);function d(it){return it instanceof HTMLElement&&Object(x.k)(it.nodeName)&&it.nodeName.toUpperCase()==="CANVAS"}var C=function(it){function _(){return it!==null&&it.apply(this,arguments)||this}return Object(u.b)(_,it),_.prototype.getDefaultAttrs=function(){var P=it.prototype.getDefaultAttrs.call(this);return Object(u.a)(Object(u.a)({},P),{x:0,y:0,width:0,height:0})},_.prototype.initAttrs=function(P){this._setImage(P.img)},_.prototype.isStroke=function(){return!1},_.prototype.isOnlyHitBox=function(){return!0},_.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var P=this.get("canvas");P?P.draw():this.createPath(this.get("context"))}},_.prototype._setImage=function(P){var Q=this,k=this.attrs;if(Object(x.k)(P)){var p=new Image;p.onload=function(){if(Q.destroyed)return!1;Q.attr("img",p),Q.set("loading",!1),Q._afterLoading();var y=Q.get("callback");y&&y.call(Q)},p.crossOrigin="Anonymous",p.src=P,this.set("loading",!0)}else P instanceof Image?(k.width||(k.width=P.width),k.height||(k.height=P.height)):d(P)&&(k.width||(k.width=Number(P.getAttribute("width"))),k.height||(k.height,Number(P.getAttribute("height"))))},_.prototype.onAttrChange=function(P,Q,k){it.prototype.onAttrChange.call(this,P,Q,k),P==="img"&&this._setImage(Q)},_.prototype.createPath=function(P){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",P);var Q=this.attr(),k=Q.x,p=Q.y,y=Q.width,B=Q.height,W=Q.sx,rt=Q.sy,st=Q.swidth,ut=Q.sheight,Mt=Q.img;(Mt instanceof Image||d(Mt))&&(Object(x.i)(W)||Object(x.i)(rt)||Object(x.i)(st)||Object(x.i)(ut)?P.drawImage(Mt,k,p,y,B):P.drawImage(Mt,W,rt,st,ut,k,p,y,B))},_}(I),S=t(20);function A(it,_,P,Q,k,p,y){var B=Math.min(it,P),W=Math.max(it,P),rt=Math.min(_,Q),st=Math.max(_,Q),ut=k/2;return p>=B-ut&&p<=W+ut&&y>=rt-ut&&y<=st+ut&&S.c.pointToLine(it,_,P,Q,p,y)<=k/2}var f=t(34),O=function(it){function _(){return it!==null&&it.apply(this,arguments)||this}return Object(u.b)(_,it),_.prototype.getDefaultAttrs=function(){var P=it.prototype.getDefaultAttrs.call(this);return Object(u.a)(Object(u.a)({},P),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},_.prototype.initAttrs=function(P){this.setArrow()},_.prototype.onAttrChange=function(P,Q,k){it.prototype.onAttrChange.call(this,P,Q,k),this.setArrow()},_.prototype.setArrow=function(){var P=this.attr(),Q=P.x1,k=P.y1,p=P.x2,y=P.y2,B=P.startArrow,W=P.endArrow;B&&f.b(this,P,p,y,Q,k),W&&f.a(this,P,Q,k,p,y)},_.prototype.isInStrokeOrPath=function(P,Q,k,p,y){if(!k||!y)return!1;var B=this.attr();return A(B.x1,B.y1,B.x2,B.y2,y,P,Q)},_.prototype.createPath=function(P){var Q=this.attr(),k=Q.x1,p=Q.y1,y=Q.x2,B=Q.y2,W=Q.startArrow,rt=Q.endArrow,st={dx:0,dy:0},ut={dx:0,dy:0};W&&W.d&&(st=f.c(k,p,y,B,Q.startArrow.d)),rt&&rt.d&&(ut=f.c(k,p,y,B,Q.endArrow.d)),P.beginPath(),P.moveTo(k+st.dx,p+st.dy),P.lineTo(y-ut.dx,B-ut.dy)},_.prototype.afterDrawPath=function(P){var Q=this.get("startArrowShape"),k=this.get("endArrowShape");Q&&Q.draw(P),k&&k.draw(P)},_.prototype.getTotalLength=function(){var P=this.attr(),Q=P.x1,k=P.y1,p=P.x2,y=P.y2;return S.c.length(Q,k,p,y)},_.prototype.getPoint=function(P){var Q=this.attr(),k=Q.x1,p=Q.y1,y=Q.x2,B=Q.y2;return S.c.pointAt(k,p,y,B,P)},_}(I),j=t(0),D=t(31),V={circle:function(_,P,Q){return[["M",_-Q,P],["A",Q,Q,0,1,0,_+Q,P],["A",Q,Q,0,1,0,_-Q,P]]},square:function(_,P,Q){return[["M",_-Q,P-Q],["L",_+Q,P-Q],["L",_+Q,P+Q],["L",_-Q,P+Q],["Z"]]},diamond:function(_,P,Q){return[["M",_-Q,P],["L",_,P-Q],["L",_+Q,P],["L",_,P+Q],["Z"]]},triangle:function(_,P,Q){var k=Q*Math.sin(1/3*Math.PI);return[["M",_-Q,P+k],["L",_,P-k],["L",_+Q,P+k],["Z"]]},"triangle-down":function(_,P,Q){var k=Q*Math.sin(1/3*Math.PI);return[["M",_-Q,P-k],["L",_+Q,P-k],["L",_,P+k],["Z"]]}},H=function(it){function _(){return it!==null&&it.apply(this,arguments)||this}return Object(u.b)(_,it),_.prototype.initAttrs=function(P){this._resetParamsCache()},_.prototype._resetParamsCache=function(){this.set("paramsCache",{})},_.prototype.onAttrChange=function(P,Q,k){it.prototype.onAttrChange.call(this,P,Q,k),["symbol","x","y","r","radius"].indexOf(P)!==-1&&this._resetParamsCache()},_.prototype.isOnlyHitBox=function(){return!0},_.prototype._getR=function(P){return Object(j.s)(P.r)?P.radius:P.r},_.prototype._getPath=function(){var P,Q,k=this.attr(),p=k.x,y=k.y,B=k.symbol||"circle",W=this._getR(k);if(Object(x.h)(B))Q=(P=B)(p,y,W),Q=Object(D.c)(Q);else{if(!(P=_.Symbols[B]))return console.warn(B+" marker is not supported."),null;Q=P(p,y,W)}return Q},_.prototype.createPath=function(P){var Q=this._getPath(),k=this.get("paramsCache");Object(c.e)(this,P,{path:Q},k)},_.Symbols=V,_}(I);function $(it,_,P){var Q=Object(g.getOffScreenContext)();return it.createPath(Q),Q.isPointInPath(_,P)}function dt(it){return Math.abs(it)<1e-6?0:it<0?-1:1}function Z(it,_,P){return(P[0]-it[0])*(_[1]-it[1])==(_[0]-it[0])*(P[1]-it[1])&&Math.min(it[0],_[0])<=P[0]&&P[0]<=Math.max(it[0],_[0])&&Math.min(it[1],_[1])<=P[1]&&P[1]<=Math.max(it[1],_[1])}function ct(it,_,P){var Q=!1,k=it.length;if(k<=2)return!1;for(var p=0;p<k;p++){var y=it[p],B=it[(p+1)%k];if(Z(y,B,[_,P]))return!0;dt(y[1]-P)>0!=dt(B[1]-P)>0&&dt(_-(P-y[1])*(y[0]-B[0])/(y[1]-B[1])-y[0])<0&&(Q=!Q)}return Q}var pt=t(10),gt=t(40);function at(it,_,P,Q,k,p,y,B){var W=(Math.atan2(B-_,y-it)+2*Math.PI)%(2*Math.PI);if(W<Q||W>k)return!1;var rt={x:it+P*Math.cos(W),y:_+P*Math.sin(W)};return Object(x.b)(rt.x,rt.y,y,B)<=p/2}var Bt=pt.a.transform,Lt=Object(u.a)({hasArc:function(_){for(var P=!1,Q=_.length,k=0;k<Q;k++){var p=_[k][0];if(p==="C"||p==="A"||p==="Q"){P=!0;break}}return P},extractPolygons:function(_){for(var P=_.length,Q=[],k=[],p=[],y=0;y<P;y++){var B=_[y],W=B[0];W==="M"?(p.length&&(k.push(p),p=[]),p.push([B[1],B[2]])):W==="Z"?p.length&&(Q.push(p),p=[]):p.push([B[1],B[2]])}return p.length>0&&k.push(p),{polygons:Q,polylines:k}},isPointInStroke:function(_,P,Q,k,p){for(var y=!1,B=P/2,W=0;W<_.length;W++){var rt=_[W],st=rt.currentPoint,ut=rt.params,Mt=rt.prePoint,bt=rt.box;if(!bt||Object(x.e)(bt.x-B,bt.y-B,bt.width+P,bt.height+P,Q,k)){switch(rt.command){case"L":case"Z":y=A(Mt[0],Mt[1],st[0],st[1],P,Q,k);break;case"Q":y=S.e.pointDistance(Mt[0],Mt[1],ut[1],ut[2],ut[3],ut[4],Q,k)<=P/2;break;case"C":y=S.b.pointDistance(Mt[0],Mt[1],ut[1],ut[2],ut[3],ut[4],ut[5],ut[6],Q,k,p)<=P/2;break;case"A":var xt=rt.arcParams,Ot=xt.cx,jt=xt.cy,Dt=xt.rx,zt=xt.ry,Tt=xt.startAngle,Vt=xt.endAngle,Ht=xt.xRotation,re=[Q,k,1],pe=Dt>zt?Dt:zt,me=Bt(null,[["t",-Ot,-jt],["r",-Ht],["s",1/(Dt>zt?1:Dt/zt),1/(Dt>zt?zt/Dt:1)]]);gt.transformMat3(re,re,me),y=at(0,0,pe,Tt,Vt,P,re[0],re[1])}if(y)break}}return y}},g.PathUtil);function Et(it,_,P){for(var Q=!1,k=0;k<it.length&&!(Q=ct(it[k],_,P));k++);return Q}var K=function(it){function _(){return it!==null&&it.apply(this,arguments)||this}return Object(u.b)(_,it),_.prototype.getDefaultAttrs=function(){var P=it.prototype.getDefaultAttrs.call(this);return Object(u.a)(Object(u.a)({},P),{startArrow:!1,endArrow:!1})},_.prototype.initAttrs=function(P){this._setPathArr(P.path),this.setArrow()},_.prototype.onAttrChange=function(P,Q,k){it.prototype.onAttrChange.call(this,P,Q,k),P==="path"&&this._setPathArr(Q),this.setArrow()},_.prototype._setPathArr=function(P){this.attrs.path=Object(D.c)(P);var Q=Lt.hasArc(P);this.set("hasArc",Q),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},_.prototype.getSegments=function(){var P=this.get("segements");return P||(P=Object(D.d)(this.attr("path")),this.set("segments",P)),P},_.prototype.setArrow=function(){var P=this.attr(),Q=P.startArrow,k=P.endArrow;if(Q){var p=this.getStartTangent();f.b(this,P,p[0][0],p[0][1],p[1][0],p[1][1])}k&&(p=this.getEndTangent(),f.a(this,P,p[0][0],p[0][1],p[1][0],p[1][1]))},_.prototype.isInStrokeOrPath=function(P,Q,k,p,y){var B=this.getSegments(),W=this.get("hasArc"),rt=!1;if(k){var st=this.getTotalLength();rt=Lt.isPointInStroke(B,y,P,Q,st)}if(!rt&&p)if(W)rt=$(this,P,Q);else{var ut=this.attr("path"),Mt=Lt.extractPolygons(ut);rt=Et(Mt.polygons,P,Q)||Et(Mt.polylines,P,Q)}return rt},_.prototype.createPath=function(P){var Q=this.attr(),k=this.get("paramsCache");Object(c.e)(this,P,Q,k)},_.prototype.afterDrawPath=function(P){var Q=this.get("startArrowShape"),k=this.get("endArrowShape");Q&&Q.draw(P),k&&k.draw(P)},_.prototype.getTotalLength=function(){var P=this.get("totalLength");return Object(j.s)(P)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):P},_.prototype.getPoint=function(P){var Q,k,p=this.get("tCache");p||(this._calculateCurve(),this._setTcache(),p=this.get("tCache"));var y=this.get("curve");if(!p||p.length===0)return y?{x:y[0][1],y:y[0][2]}:null;Object(j.f)(p,function(st,ut){P>=st[0]&&P<=st[1]&&(Q=(P-st[0])/(st[1]-st[0]),k=ut)});var B=y[k];if(Object(j.s)(B)||Object(j.s)(k))return null;var W=B.length,rt=y[k+1];return S.b.pointAt(B[W-2],B[W-1],rt[1],rt[2],rt[3],rt[4],rt[5],rt[6],Q)},_.prototype._calculateCurve=function(){var P=this.attr().path;this.set("curve",Lt.pathToCurve(P))},_.prototype._setTcache=function(){var P,Q,k,p,y=0,B=0,W=[],rt=this.get("curve");rt&&(Object(j.f)(rt,function(st,ut){k=rt[ut+1],p=st.length,k&&(y+=S.b.length(st[p-2],st[p-1],k[1],k[2],k[3],k[4],k[5],k[6])||0)}),this.set("totalLength",y),y!==0?(Object(j.f)(rt,function(st,ut){k=rt[ut+1],p=st.length,k&&((P=[])[0]=B/y,Q=S.b.length(st[p-2],st[p-1],k[1],k[2],k[3],k[4],k[5],k[6]),B+=Q||0,P[1]=B/y,W.push(P))}),this.set("tCache",W)):this.set("tCache",[]))},_.prototype.getStartTangent=function(){var P,Q=this.getSegments();if(Q.length>1){var k=Q[0].currentPoint,p=Q[1].currentPoint,y=Q[1].startTangent;P=[],y?(P.push([k[0]-y[0],k[1]-y[1]]),P.push([k[0],k[1]])):(P.push([p[0],p[1]]),P.push([k[0],k[1]]))}return P},_.prototype.getEndTangent=function(){var P,Q=this.getSegments(),k=Q.length;if(k>1){var p=Q[k-2].currentPoint,y=Q[k-1].currentPoint,B=Q[k-1].endTangent;P=[],B?(P.push([y[0]-B[0],y[1]-B[1]]),P.push([y[0],y[1]])):(P.push([p[0],p[1]]),P.push([y[0],y[1]]))}return P},_}(I);function ft(it,_,P,Q,k){var p=it.length;if(p<2)return!1;for(var y=0;y<p-1;y++)if(A(it[y][0],it[y][1],it[y+1][0],it[y+1][1],_,P,Q))return!0;if(k){var B=it[0],W=it[p-1];if(A(B[0],B[1],W[0],W[1],_,P,Q))return!0}return!1}var mt=function(it){function _(){return it!==null&&it.apply(this,arguments)||this}return Object(u.b)(_,it),_.prototype.isInStrokeOrPath=function(P,Q,k,p,y){var B=this.attr().points,W=!1;return k&&(W=ft(B,y,P,Q,!0)),!W&&p&&(W=ct(B,P,Q)),W},_.prototype.createPath=function(P){var Q=this.attr().points;if(!(Q.length<2)){P.beginPath();for(var k=0;k<Q.length;k++){var p=Q[k];k===0?P.moveTo(p[0],p[1]):P.lineTo(p[0],p[1])}P.closePath()}},_}(I),yt=function(it){function _(){return it!==null&&it.apply(this,arguments)||this}return Object(u.b)(_,it),_.prototype.getDefaultAttrs=function(){var P=it.prototype.getDefaultAttrs.call(this);return Object(u.a)(Object(u.a)({},P),{startArrow:!1,endArrow:!1})},_.prototype.initAttrs=function(P){this.setArrow()},_.prototype.onAttrChange=function(P,Q,k){it.prototype.onAttrChange.call(this,P,Q,k),this.setArrow(),["points"].indexOf(P)!==-1&&this._resetCache()},_.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},_.prototype.setArrow=function(){var P=this.attr(),Q=this.attrs,k=Q.points,p=Q.startArrow,y=Q.endArrow,B=k.length,W=k[0][0],rt=k[0][1],st=k[B-1][0],ut=k[B-1][1];p&&f.b(this,P,k[1][0],k[1][1],W,rt),y&&f.a(this,P,k[B-2][0],k[B-2][1],st,ut)},_.prototype.isFill=function(){return!1},_.prototype.isInStrokeOrPath=function(P,Q,k,p,y){return!(!k||!y)&&ft(this.attr().points,y,P,Q,!1)},_.prototype.isStroke=function(){return!0},_.prototype.createPath=function(P){var Q=this.attr(),k=Q.points,p=Q.startArrow,y=Q.endArrow,B=k.length;if(!(k.length<2)){var W,rt=k[0][0],st=k[0][1],ut=k[B-1][0],Mt=k[B-1][1];p&&p.d&&(rt+=(W=f.c(rt,st,k[1][0],k[1][1],p.d)).dx,st+=W.dy),y&&y.d&&(ut-=(W=f.c(k[B-2][0],k[B-2][1],ut,Mt,y.d)).dx,Mt-=W.dy),P.beginPath(),P.moveTo(rt,st);for(var bt=0;bt<B-1;bt++){var xt=k[bt];P.lineTo(xt[0],xt[1])}P.lineTo(ut,Mt)}},_.prototype.afterDrawPath=function(P){var Q=this.get("startArrowShape"),k=this.get("endArrowShape");Q&&Q.draw(P),k&&k.draw(P)},_.prototype.getTotalLength=function(){var P=this.attr().points,Q=this.get("totalLength");return Object(j.s)(Q)?(this.set("totalLength",S.d.length(P)),this.get("totalLength")):Q},_.prototype.getPoint=function(P){var Q,k,p=this.attr().points,y=this.get("tCache");return y||(this._setTcache(),y=this.get("tCache")),Object(j.f)(y,function(B,W){P>=B[0]&&P<=B[1]&&(Q=(P-B[0])/(B[1]-B[0]),k=W)}),S.c.pointAt(p[k][0],p[k][1],p[k+1][0],p[k+1][1],Q)},_.prototype._setTcache=function(){var P=this.attr().points;if(P&&P.length!==0){var Q=this.getTotalLength();if(!(Q<=0)){var k,p,y=0,B=[];Object(j.f)(P,function(W,rt){P[rt+1]&&((k=[])[0]=y/Q,p=S.c.length(W[0],W[1],P[rt+1][0],P[rt+1][1]),y+=p,k[1]=y/Q,B.push(k))}),this.set("tCache",B)}}},_.prototype.getStartTangent=function(){var P=this.attr().points,Q=[];return Q.push([P[1][0],P[1][1]]),Q.push([P[0][0],P[0][1]]),Q},_.prototype.getEndTangent=function(){var P=this.attr().points,Q=P.length-1,k=[];return k.push([P[Q-1][0],P[Q-1][1]]),k.push([P[Q][0],P[Q][1]]),k},_}(I),wt=t(120),J=function(it){function _(){return it!==null&&it.apply(this,arguments)||this}return Object(u.b)(_,it),_.prototype.getDefaultAttrs=function(){var P=it.prototype.getDefaultAttrs.call(this);return Object(u.a)(Object(u.a)({},P),{x:0,y:0,width:0,height:0,radius:0})},_.prototype.isInStrokeOrPath=function(P,Q,k,p,y){var B=this.attr(),W=B.x,rt=B.y,st=B.width,ut=B.height,Mt=B.radius;if(Mt){var bt=!1;return k&&(bt=function(Ot,jt,Dt,zt,Tt,Vt,Ht,re){return A(Ot+Tt,jt,Ot+Dt-Tt,jt,Vt,Ht,re)||A(Ot+Dt,jt+Tt,Ot+Dt,jt+zt-Tt,Vt,Ht,re)||A(Ot+Dt-Tt,jt+zt,Ot+Tt,jt+zt,Vt,Ht,re)||A(Ot,jt+zt-Tt,Ot,jt+Tt,Vt,Ht,re)||at(Ot+Dt-Tt,jt+Tt,Tt,1.5*Math.PI,2*Math.PI,Vt,Ht,re)||at(Ot+Dt-Tt,jt+zt-Tt,Tt,0,.5*Math.PI,Vt,Ht,re)||at(Ot+Tt,jt+zt-Tt,Tt,.5*Math.PI,Math.PI,Vt,Ht,re)||at(Ot+Tt,jt+Tt,Tt,Math.PI,1.5*Math.PI,Vt,Ht,re)}(W,rt,st,ut,Mt,y,P,Q)),!bt&&p&&(bt=$(this,P,Q)),bt}var xt=y/2;return p&&k?Object(x.e)(W-xt,rt-xt,st+xt,ut+xt,P,Q):p?Object(x.e)(W,rt,st,ut,P,Q):k?function(Ot,jt,Dt,zt,Tt,Vt,Ht){var re=Tt/2;return Object(x.e)(Ot-re,jt-re,Dt,Tt,Vt,Ht)||Object(x.e)(Ot+Dt-re,jt-re,Tt,zt,Vt,Ht)||Object(x.e)(Ot+re,jt+zt-re,Dt,Tt,Vt,Ht)||Object(x.e)(Ot-re,jt+re,Tt,zt,Vt,Ht)}(W,rt,st,ut,y,P,Q):void 0},_.prototype.createPath=function(P){var Q=this.attr(),k=Q.x,p=Q.y,y=Q.width,B=Q.height,W=Q.radius;if(P.beginPath(),W===0)P.rect(k,p,y,B);else{var rt=Object(wt.a)(W),st=rt[0],ut=rt[1],Mt=rt[2],bt=rt[3];P.moveTo(k+st,p),P.lineTo(k+y-ut,p),ut!==0&&P.arc(k+y-ut,p+ut,ut,-Math.PI/2,0),P.lineTo(k+y,p+B-Mt),Mt!==0&&P.arc(k+y-Mt,p+B-Mt,Mt,0,Math.PI/2),P.lineTo(k+bt,p+B),bt!==0&&P.arc(k+bt,p+B-bt,bt,Math.PI/2,Math.PI),P.lineTo(k,p+st),st!==0&&P.arc(k+st,p+st,st,Math.PI,1.5*Math.PI),P.closePath()}},_}(I),lt=function(it){function _(){return it!==null&&it.apply(this,arguments)||this}return Object(u.b)(_,it),_.prototype.getDefaultAttrs=function(){var P=it.prototype.getDefaultAttrs.call(this);return Object(u.a)(Object(u.a)({},P),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},_.prototype.isOnlyHitBox=function(){return!0},_.prototype.initAttrs=function(P){this._assembleFont(),P.text&&this._setText(P.text)},_.prototype._assembleFont=function(){var P=this.attrs;P.font=Object(g.assembleFont)(P)},_.prototype._setText=function(P){var Q=null;Object(x.k)(P)&&P.indexOf(`
`)!==-1&&(Q=P.split(`
`)),this.set("textArr",Q)},_.prototype.onAttrChange=function(P,Q,k){it.prototype.onAttrChange.call(this,P,Q,k),P.startsWith("font")&&this._assembleFont(),P==="text"&&this._setText(Q)},_.prototype._getSpaceingY=function(){var P=this.attrs,Q=P.lineHeight,k=1*P.fontSize;return Q?Q-k:.14*k},_.prototype._drawTextArr=function(P,Q,k){var p,y=this.attrs,B=y.textBaseline,W=y.x,rt=y.y,st=1*y.fontSize,ut=this._getSpaceingY(),Mt=Object(g.getTextHeight)(y.text,y.fontSize,y.lineHeight);Object(x.c)(Q,function(bt,xt){p=rt+xt*(ut+st)-Mt+st,B==="middle"&&(p+=Mt-st-(Mt-st)/2),B==="top"&&(p+=Mt-st),k?P.fillText(bt,W,p):P.strokeText(bt,W,p)})},_.prototype._drawText=function(P,Q){var k=this.attr(),p=k.x,y=k.y,B=this.get("textArr");if(B)this._drawTextArr(P,B,Q);else{var W=k.text;Q?P.fillText(W,p,y):P.strokeText(W,p,y)}},_.prototype.strokeAndFill=function(P){var Q=this.attrs,k=Q.lineWidth,p=Q.opacity,y=Q.strokeOpacity,B=Q.fillOpacity;this.isStroke()&&k>0&&(Object(x.i)(y)||y===1||(P.globalAlpha=p),this.stroke(P)),this.isFill()&&(Object(x.i)(B)||B===1?this.fill(P):(P.globalAlpha=B,this.fill(P),P.globalAlpha=p)),this.afterDrawPath(P)},_.prototype.fill=function(P){this._drawText(P,!0)},_.prototype.stroke=function(P){this._drawText(P,!1)},_}(I)},function(i,b,t){var n=t(72),u=t(284),g=t(285),x=n?n.toStringTag:void 0;i.exports=function(c){return c==null?c===void 0?"[object Undefined]":"[object Null]":x&&x in Object(c)?u(c):g(c)}},function(i,b,t){var n=t(167),u=t(130),g=t(53);i.exports=function(x){return g(x)?n(x):u(x)}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.tagProperty=b.tagParameter=b.decorate=void 0;var n=t(41),u=t(32);function g(w,I,m,r,s){var d={},C=typeof s=="number",S=s!==void 0&&C?s.toString():m;if(C&&m!==void 0)throw new Error(n.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(w,I)&&(d=Reflect.getMetadata(w,I));var A=d[S];if(Array.isArray(A))for(var f=0,O=A;f<O.length;f++){var j=O[f];if(j.key===r.key)throw new Error(n.DUPLICATED_METADATA+" "+j.key.toString())}else A=[];A.push(r),d[S]=A,Reflect.defineMetadata(w,d,I)}function x(w,I){Reflect.decorate(w,I)}function c(w,I){return function(m,r){I(m,r,w)}}b.tagParameter=function(w,I,m,r){g(u.TAGGED,w,I,r,m)},b.tagProperty=function(w,I,m){g(u.TAGGED_PROP,w.constructor,I,m)},b.decorate=function(w,I,m){typeof m=="number"?x([c(m,w)],I):typeof m=="string"?Reflect.decorate([w],I,m):x([w],I)}},function(i,b,t){var n=t(443),u=t(444),g=t(218),x=t(445);i.exports=function(c,w){return n(c)||u(c,w)||g(c,w)||x()}},function(i,b,t){var n=t(57),u=t(48);i.exports=function(g){return typeof g=="number"||u(g)&&n(g)=="[object Number]"}},function(i,b,t){"use strict";t(78),t(18);var n=t(249);t.d(b,"Canvas",function(){return n.a}),t(77)},function(i,b,t){var n=t(236),u=t(235),g=t(243),x=t(150),c=t(244),w=[0,0];i.exports.computeMiter=function(I,m,r,s,d){return n(I,r,s),g(I,I),u(m,-I[1],I[0]),u(w,-r[1],r[0]),d/c(m,w)},i.exports.normal=function(I,m){return u(I,-m[1],m[0]),I},i.exports.direction=function(I,m,r){return x(I,m,r),g(I,I),I}},function(i,b,t){var n=t(283),u=t(288);i.exports=function(g,x){var c=u(g,x);return n(c)?c:void 0}},function(i,b,t){var n=t(167),u=t(308),g=t(53);i.exports=function(x){return g(x)?n(x,!0):u(x)}},function(i,b){i.exports=function(t){return t}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.id=void 0;var n=0;b.id=function(){return n++}},function(i,b,t){"use strict";t.d(b,"b",function(){return g}),t.d(b,"c",function(){return x}),t.d(b,"a",function(){return c});var n=t(19),u=t(116);function g(w,I,m){var r=1;return Object(n.h)(w)&&(r=w.split(`
`).length),r>1?I*r+function(s,d){return d?d-s:.14*s}(I,m)*(r-1):I}function x(w,I){var m=Object(u.a)(),r=0;if(Object(n.e)(w)||w==="")return r;if(m.save(),m.font=I,Object(n.h)(w)&&w.includes(`
`)){var s=w.split(`
`);Object(n.a)(s,function(d){var C=m.measureText(d).width;r<C&&(r=C)})}else r=m.measureText(w).width;return m.restore(),r}function c(w){var I=w.fontSize,m=w.fontFamily,r=w.fontWeight;return[w.fontStyle,w.fontVariant,r,I+"px",m].join(" ").trim()}},function(i,b,t){"use strict";t.d(b,"a",function(){return ao}),t.d(b,"b",function(){return go});var n,u,g=function(z){return typeof z=="string"},x=/-(\w)/g,c=(n=function(z){return z.replace(x,function(T,F){return F?F.toUpperCase():""})},u=Object.create(null),Array.isArray),w=function(z){return typeof z=="number"},I=function(z){return Number.isNaN(Number(z))},m=function(z,T,F){for(var tt=[],It=0;It<z;It++)tt[It]=0;return F&&F.forEach(function(Nt){Nt.source&&(tt[T[Nt.source]]+=1),Nt.target&&(tt[T[Nt.target]]+=1)}),tt},r=function(z){for(var T=[],F=z.length,tt=0;tt<F;tt+=1){T[tt]=[];for(var It=0;It<F;It+=1)tt===It?T[tt][It]=0:z[tt][It]!==0&&z[tt][It]?T[tt][It]=z[tt][It]:T[tt][It]=1/0}for(var Nt=0;Nt<F;Nt+=1)for(var q=0;q<F;q+=1)for(var Rt=0;Rt<F;Rt+=1)T[q][Rt]>T[q][Nt]+T[Nt][Rt]&&(T[q][Rt]=T[q][Nt]+T[Nt][Rt]);return T},s=function(z,T){var F=z.nodes,tt=z.edges,It=[],Nt={};if(!F)throw new Error("invalid nodes data!");return F&&F.forEach(function(q,Rt){Nt[q.id]=Rt,It.push([])}),tt&&tt.forEach(function(q){var Rt=q.source,Qt=q.target,ee=Nt[Rt],xe=Nt[Qt];It[ee][xe]=1,T||(It[xe][ee]=1)}),It},d=function(z,T){typeof T=="function"&&function F(tt,It){if(tt&&tt.children){for(var Nt=tt.children.length-1;Nt>=0;Nt--)if(!F(tt.children[Nt],It))return}return!!It(tt)}(z,T)};function C(et){return(C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(et)}var S=function et(z){if(z===null)return z;if(z instanceof Date)return new Date(z.getTime());if(z instanceof Array){var T=[];return z.forEach(function(tt){T.push(tt)}),T.map(function(tt){return et(tt)})}if(C(z)==="object"&&z!=={}){var F=Object.assign({},z);return Object.keys(F).forEach(function(tt){F[tt]=et(F[tt])}),F}return z},A=function(z){return typeof z=="function"};function f(et,z){for(var T=0;T<z.length;T++){var F=z[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(et,F.key,F)}}var O=function(){function et(){(function(tt,It){if(!(tt instanceof It))throw new TypeError("Cannot call a class as a function")})(this,et),this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}var z,T,F;return z=et,(T=[{key:"layout",value:function(It){return this.init(It),this.execute(!0)}},{key:"init",value:function(It){this.nodes=It.nodes||[],this.edges=It.edges||[],this.combos=It.combos||[]}},{key:"execute",value:function(It){}},{key:"executeWithWorker",value:function(){}},{key:"getDefaultCfg",value:function(){return{}}},{key:"updateCfg",value:function(It){It&&Object.assign(this,It)}},{key:"getType",value:function(){return"base"}},{key:"destroy",value:function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0}}])&&f(z.prototype,T),F&&f(z,F),et}();function j(et){return(j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(et)}function D(et,z){for(var T=0;T<z.length;T++){var F=z[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(et,F.key,F)}}function V(et,z){return(V=Object.setPrototypeOf||function(T,F){return T.__proto__=F,T})(et,z)}function H(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=dt(et);if(z){var tt=dt(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return $(this,T)}}function $(et,z){return!z||j(z)!=="object"&&typeof z!="function"?function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(et):z}function dt(et){return(dt=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(et)}var Z=function(et){(function(Nt,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(q&&q.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),q&&V(Nt,q)})(It,et);var z,T,F,tt=H(It);function It(Nt){var q;return function(Rt,Qt){if(!(Rt instanceof Qt))throw new TypeError("Cannot call a class as a function")}(this,It),(q=tt.call(this)).begin=[0,0],q.preventOverlap=!0,q.preventOverlapPadding=10,q.condense=!1,q.sortBy="degree",q.nodeSize=30,q.nodes=[],q.edges=[],q.width=300,q.height=300,q.row=0,q.col=0,q.cellWidth=0,q.cellHeight=0,q.cellUsed={},q.id2manPos={},q.onLayoutEnd=function(){},q.updateCfg(Nt),q}return z=It,(T=[{key:"getDefaultCfg",value:function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}}},{key:"execute",value:function(){var q=this,Rt=q.nodes,Qt=Rt.length,ee=q.begin;if(Qt!==0){if(Qt===1)return Rt[0].x=ee[0],Rt[0].y=ee[1],void(q.onLayoutEnd&&q.onLayoutEnd());var xe=q.edges,Pe=[];Rt.forEach(function(lr){Pe.push(lr)});var He={};if(Pe.forEach(function(lr,Ar){He[lr.id]=Ar}),(q.sortBy==="degree"||!g(q.sortBy)||Pe[0][q.sortBy]===void 0)&&(q.sortBy="degree",I(Rt[0].degree))){var Be=m(Pe.length,He,xe);Pe.forEach(function(lr,Ar){lr.degree=Be[Ar]})}Pe.sort(function(lr,Ar){return Ar[q.sortBy]-lr[q.sortBy]}),q.width||typeof window=="undefined"||(q.width=window.innerWidth),q.height||typeof window=="undefined"||(q.height=window.innerHeight);var Ke=q.rows,Qe=q.cols!=null?q.cols:q.columns;if(q.cells=Qt,Ke!=null&&Qe!=null?(q.rows=Ke,q.cols=Qe):Ke!=null&&Qe==null?(q.rows=Ke,q.cols=Math.ceil(q.cells/q.rows)):Ke==null&&Qe!=null?(q.cols=Qe,q.rows=Math.ceil(q.cells/q.cols)):(q.splits=Math.sqrt(q.cells*q.height/q.width),q.rows=Math.round(q.splits),q.cols=Math.round(q.width/q.height*q.splits)),q.cols*q.rows>q.cells){var ze=q.small(),en=q.large();(ze-1)*en>=q.cells?q.small(ze-1):(en-1)*ze>=q.cells&&q.large(en-1)}else for(;q.cols*q.rows<q.cells;){var wn=q.small(),zn=q.large();(zn+1)*wn>=q.cells?q.large(zn+1):q.small(wn+1)}q.cellWidth=q.width/q.cols,q.cellHeight=q.height/q.rows,q.condense&&(q.cellWidth=0,q.cellHeight=0),q.preventOverlap&&Pe.forEach(function(lr){var Ar,Nr;lr.x&&lr.y||(lr.x=0,lr.y=0),c(lr.size)?(Ar=lr.size[0],Nr=lr.size[1]):w(lr.size)&&(Ar=lr.size,Nr=lr.size),Ar!==void 0&&Nr!==void 0||(c(q.nodeSize)?(Ar=q.nodeSize[0],Nr=q.nodeSize[1]):w(q.nodeSize)?(Ar=q.nodeSize,Nr=q.nodeSize):(Ar=30,Nr=30));var Dr=q.preventOverlapPadding,Tr=Ar+Dr,Xr=Nr+Dr;q.cellWidth=Math.max(q.cellWidth,Tr),q.cellHeight=Math.max(q.cellHeight,Xr)}),q.cellUsed={},q.row=0,q.col=0,q.id2manPos={};for(var In=0;In<Pe.length;In++){var Xn=Pe[In],cr=void 0;if(q.position&&(cr=q.position(Xn)),cr&&(cr.row!==void 0||cr.col!==void 0)){var or={row:cr.row,col:cr.col};if(or.col===void 0)for(or.col=0;q.used(or.row,or.col);)or.col++;else if(or.row===void 0)for(or.row=0;q.used(or.row,or.col);)or.row++;q.id2manPos[Xn.id]=or,q.use(or.row,or.col)}q.getPos(Xn)}return q.onLayoutEnd&&q.onLayoutEnd(),{edges:xe,nodes:Pe}}q.onLayoutEnd&&q.onLayoutEnd()}},{key:"small",value:function(q){var Rt,Qt=this.rows||5,ee=this.cols||5;return q==null?Rt=Math.min(Qt,ee):Math.min(Qt,ee)===this.rows?this.rows=q:this.cols=q,Rt}},{key:"large",value:function(q){var Rt,Qt=this.rows||5,ee=this.cols||5;return q==null?Rt=Math.max(Qt,ee):Math.max(Qt,ee)===this.rows?this.rows=q:this.cols=q,Rt}},{key:"used",value:function(q,Rt){return this.cellUsed["c-".concat(q,"-").concat(Rt)]||!1}},{key:"use",value:function(q,Rt){this.cellUsed["c-".concat(q,"-").concat(Rt)]=!0}},{key:"moveToNextCell",value:function(){var q=this.cols||5;this.col++,this.col>=q&&(this.col=0,this.row++)}},{key:"getPos",value:function(q){var Rt,Qt,ee=this.begin,xe=this.cellWidth,Pe=this.cellHeight,He=this.id2manPos[q.id];if(He)Rt=He.col*xe+xe/2+ee[0],Qt=He.row*Pe+Pe/2+ee[1];else{for(;this.used(this.row,this.col);)this.moveToNextCell();Rt=this.col*xe+xe/2+ee[0],Qt=this.row*Pe+Pe/2+ee[1],this.use(this.row,this.col),this.moveToNextCell()}q.x=Rt,q.y=Qt}},{key:"getType",value:function(){return"grid"}}])&&D(z.prototype,T),F&&D(z,F),It}(O);function ct(et){return(ct=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(et)}function pt(et,z){for(var T=0;T<z.length;T++){var F=z[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(et,F.key,F)}}function gt(et,z){return(gt=Object.setPrototypeOf||function(T,F){return T.__proto__=F,T})(et,z)}function at(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=Lt(et);if(z){var tt=Lt(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return Bt(this,T)}}function Bt(et,z){return!z||ct(z)!=="object"&&typeof z!="function"?function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(et):z}function Lt(et){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(et)}var Et=function(et){(function(Nt,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(q&&q.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),q&&gt(Nt,q)})(It,et);var z,T,F,tt=at(It);function It(Nt){var q;return function(Rt,Qt){if(!(Rt instanceof Qt))throw new TypeError("Cannot call a class as a function")}(this,It),(q=tt.call(this)).center=[0,0],q.width=300,q.height=300,q.nodes=[],q.edges=[],q.onLayoutEnd=function(){},q.updateCfg(Nt),q}return z=It,(T=[{key:"getDefaultCfg",value:function(){return{center:[0,0],width:300,height:300}}},{key:"execute",value:function(){var q=this,Rt=q.nodes,Qt=q.center;return q.width||typeof window=="undefined"||(q.width=window.innerWidth),q.height||typeof window=="undefined"||(q.height=window.innerHeight),Rt&&Rt.forEach(function(ee){ee.x=.9*(Math.random()-.5)*q.width+Qt[0],ee.y=.9*(Math.random()-.5)*q.height+Qt[1]}),q.onLayoutEnd&&q.onLayoutEnd(),{nodes:Rt,edges:this.edges}}},{key:"getType",value:function(){return"random"}}])&&pt(z.prototype,T),F&&pt(z,F),It}(O);function K(et){return(K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(et)}function ft(et,z){for(var T=0;T<z.length;T++){var F=z[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(et,F.key,F)}}function mt(et,z){return(mt=Object.setPrototypeOf||function(T,F){return T.__proto__=F,T})(et,z)}function yt(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=J(et);if(z){var tt=J(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return wt(this,T)}}function wt(et,z){return!z||K(z)!=="object"&&typeof z!="function"?function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(et):z}function J(et){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(et)}var lt=function(z,T){return z?w(z)?function(F){return z}:z:function(F){return T||1}},it=function(et){(function(Nt,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(q&&q.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),q&&mt(Nt,q)})(It,et);var z,T,F,tt=yt(It);function It(Nt){var q;return function(Rt,Qt){if(!(Rt instanceof Qt))throw new TypeError("Cannot call a class as a function")}(this,It),(q=tt.call(this)).maxIteration=1e3,q.edgeStrength=200,q.nodeStrength=1e3,q.coulombDisScale=.005,q.damping=.9,q.maxSpeed=1e3,q.minMovement=.5,q.interval=.02,q.factor=1,q.linkDistance=1,q.gravity=10,q.preventOverlap=!0,q.tick=function(){},q.nodes=[],q.edges=[],q.width=300,q.height=300,q.nodeMap={},q.nodeIdxMap={},q.updateCfg(Nt),q}return z=It,(T=[{key:"getDefaultCfg",value:function(){return{maxIteration:500,gravity:10,enableTick:!0}}},{key:"execute",value:function(){var q=this,Rt=q.nodes;if(q.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(q.timeInterval),Rt&&Rt.length!==0){q.width||typeof window=="undefined"||(q.width=window.innerWidth),q.height||typeof window=="undefined"||(q.height=window.innerHeight),q.center||(q.center=[q.width/2,q.height/2]);var Qt=q.center;if(Rt.length===1)return Rt[0].x=Qt[0],Rt[0].y=Qt[1],void(q.onLayoutEnd&&q.onLayoutEnd());var ee={},xe={};Rt.forEach(function(ze,en){w(ze.x)||(ze.x=Math.random()*q.width),w(ze.y)||(ze.y=Math.random()*q.height),ee[ze.id]=ze,xe[ze.id]=en}),q.nodeMap=ee,q.nodeIdxMap=xe,q.linkDistance=lt(q.linkDistance,1),q.nodeStrength=lt(q.nodeStrength,1),q.edgeStrength=lt(q.edgeStrength,1);var Pe,He=q.nodeSize;if(q.preventOverlap){var Be,Ke=q.nodeSpacing;Be=w(Ke)?function(){return Ke}:A(Ke)?Ke:function(){return 0},Pe=He?c(He)?function(ze){return(He[0]>He[1]?He[0]:He[1])+Be(ze)}:function(ze){return He+Be(ze)}:function(ze){return ze.size?c(ze.size)?(ze.size[0]>ze.size[1]?ze.size[0]:ze.size[1])+Be(ze):ze.size+Be(ze):10+Be(ze)}}q.nodeSize=Pe;var Qe=q.edges;q.degrees=m(Rt.length,q.nodeIdxMap,Qe),q.getMass||(q.getMass=function(ze){return q.degrees[q.nodeIdxMap[ze.id]]}),q.run()}else q.onLayoutEnd&&q.onLayoutEnd()}},{key:"run",value:function(){var q=this,Rt=q.nodes,Qt=q.edges,ee=q.maxIteration;if(typeof window!="undefined"){var xe=0;this.timeInterval=window.setInterval(function(){var Pe=[],He=[];if(Rt){Rt.forEach(function(ze,en){Pe[2*en]=0,Pe[2*en+1]=0,He[2*en]=0,He[2*en+1]=0}),q.calRepulsive(Pe,Rt),Qt&&q.calAttractive(Pe,Qt),q.calGravity(Pe,Rt);var Be=Math.max(.02,q.interval-.002*xe);q.updateVelocity(Pe,He,Be,Rt);var Ke=[];Rt.forEach(function(ze){Ke.push({x:ze.x,y:ze.y})}),q.updatePosition(He,Be,Rt),q.tick&&q.tick();var Qe=0;Rt.forEach(function(ze,en){var wn=ze.x-Ke[en].x,zn=ze.y-Ke[en].y;Qe+=Math.sqrt(wn*wn+zn*zn)}),(Qe/=Rt.length)<q.minMovement&&(window.clearInterval(q.timeInterval),q.onLayoutEnd&&q.onLayoutEnd()),++xe>ee&&(window.clearInterval(q.timeInterval),q.onLayoutEnd&&q.onLayoutEnd())}},0)}}},{key:"calRepulsive",value:function(q,Rt){var Qt=this.getMass,ee=this.nodeStrength,xe=this.factor,Pe=this.coulombDisScale,He=this.preventOverlap,Be=this.nodeSize;Rt.forEach(function(Ke,Qe){var ze=Qt?Qt(Ke):1;Rt.forEach(function(en,wn){if(!(Qe>=wn)){var zn=Ke.x-en.x,In=Ke.y-en.y,Xn=Math.sqrt(zn*zn+In*In)+.01,cr=(Xn+.1)*Pe,or=zn/Xn,lr=In/Xn,Ar=(ee(Ke)+ee(en))/2*xe/(cr*cr),Nr=Qt?Qt(en):1;if(q[2*Qe]+=or*Ar/ze,q[2*Qe+1]+=lr*Ar/ze,q[2*wn]-=or*Ar/Nr,q[2*wn+1]-=lr*Ar/Nr,He&&Xn<(Be(Ke)+Be(en))/2){var Dr=(ee(Ke)+ee(en))/2/(Xn*Xn);q[2*Qe]+=or*Dr/ze,q[2*Qe+1]+=lr*Dr/ze,q[2*wn]-=or*Dr/Nr,q[2*wn+1]-=lr*Dr/Nr}}})})}},{key:"calAttractive",value:function(q,Rt){var Qt=this.nodeMap,ee=this.nodeIdxMap,xe=this.linkDistance,Pe=this.edgeStrength,He=this.getMass;Rt.forEach(function(Be,Ke){var Qe=Qt[Be.source],ze=Qt[Be.target],en=ze.x-Qe.x,wn=ze.y-Qe.y,zn=Math.sqrt(en*en+wn*wn)+.01,In=en/zn,Xn=wn/zn,cr=((xe(Be)||1)-zn)*Pe(Be),or=ee[Be.source],lr=ee[Be.target],Ar=He?He(Qe):1,Nr=He?He(ze):1;q[2*or]-=In*cr/Ar,q[2*or+1]-=Xn*cr/Ar,q[2*lr]+=In*cr/Nr,q[2*lr+1]+=Xn*cr/Nr})}},{key:"calGravity",value:function(q,Rt){for(var Qt=this.center,ee=this.gravity,xe=this.degrees,Pe=Rt.length,He=0;He<Pe;He++){var Be=Rt[He],Ke=Be.x-Qt[0],Qe=Be.y-Qt[1],ze=ee;if(this.getCenter){var en=this.getCenter(Be,xe[He]);en&&w(en[0])&&w(en[1])&&w(en[2])&&(Ke=Be.x-en[0],Qe=Be.y-en[1],ze=en[2])}ze&&(q[2*He]-=ze*Ke,q[2*He+1]-=ze*Qe)}}},{key:"updateVelocity",value:function(q,Rt,Qt,ee){var xe=this,Pe=Qt*xe.damping;ee.forEach(function(He,Be){var Ke=q[2*Be]*Pe||.01,Qe=q[2*Be+1]*Pe||.01,ze=Math.sqrt(Ke*Ke+Qe*Qe);if(ze>xe.maxSpeed){var en=xe.maxSpeed/ze;Ke*=en,Qe*=en}Rt[2*Be]=Ke,Rt[2*Be+1]=Qe})}},{key:"updatePosition",value:function(q,Rt,Qt){Qt.forEach(function(ee,xe){var Pe=q[2*xe]*Rt,He=q[2*xe+1]*Rt;ee.x+=Pe,ee.y+=He})}},{key:"stop",value:function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)}},{key:"destroy",value:function(){this.stop(),this.tick=null,this.nodes=null,this.edges=null,this.destroyed=!0}},{key:"getType",value:function(){return"gForce"}}])&&ft(z.prototype,T),F&&ft(z,F),It}(O);function _(et,z,T,F){if(isNaN(z)||isNaN(T))return et;var tt,It,Nt,q,Rt,Qt,ee,xe,Pe,He=et._root,Be={data:F},Ke=et._x0,Qe=et._y0,ze=et._x1,en=et._y1;if(!He)return et._root=Be,et;for(;He.length;)if((Qt=z>=(It=(Ke+ze)/2))?Ke=It:ze=It,(ee=T>=(Nt=(Qe+en)/2))?Qe=Nt:en=Nt,tt=He,!(He=He[xe=ee<<1|Qt]))return tt[xe]=Be,et;if(q=+et._x.call(null,He.data),Rt=+et._y.call(null,He.data),z===q&&T===Rt)return Be.next=He,tt?tt[xe]=Be:et._root=Be,et;do tt=tt?tt[xe]=new Array(4):et._root=new Array(4),(Qt=z>=(It=(Ke+ze)/2))?Ke=It:ze=It,(ee=T>=(Nt=(Qe+en)/2))?Qe=Nt:en=Nt;while((xe=ee<<1|Qt)==(Pe=(Rt>=Nt)<<1|q>=It));return tt[Pe]=He,tt[xe]=Be,et}var P=function(z,T,F,tt,It){this.node=z,this.x0=T,this.y0=F,this.x1=tt,this.y1=It};function Q(et){return et[0]}function k(et){return et[1]}function p(et,z,T){var F=new y(z==null?Q:z,T==null?k:T,NaN,NaN,NaN,NaN);return et==null?F:F.addAll(et)}function y(et,z,T,F,tt,It){this._x=et,this._y=z,this._x0=T,this._y0=F,this._x1=tt,this._y1=It,this._root=void 0}function B(et){for(var z={data:et.data},T=z;et=et.next;)T=T.next={data:et.data};return z}var W=p.prototype=y.prototype;W.copy=function(){var et,z,T=new y(this._x,this._y,this._x0,this._y0,this._x1,this._y1),F=this._root;if(!F)return T;if(!F.length)return T._root=B(F),T;for(et=[{source:F,target:T._root=new Array(4)}];F=et.pop();)for(var tt=0;tt<4;++tt)(z=F.source[tt])&&(z.length?et.push({source:z,target:F.target[tt]=new Array(4)}):F.target[tt]=B(z));return T},W.add=function(et){var z=+this._x.call(null,et),T=+this._y.call(null,et);return _(this.cover(z,T),z,T,et)},W.addAll=function(et){var z,T,F,tt,It=et.length,Nt=new Array(It),q=new Array(It),Rt=1/0,Qt=1/0,ee=-1/0,xe=-1/0;for(T=0;T<It;++T)isNaN(F=+this._x.call(null,z=et[T]))||isNaN(tt=+this._y.call(null,z))||(Nt[T]=F,q[T]=tt,F<Rt&&(Rt=F),F>ee&&(ee=F),tt<Qt&&(Qt=tt),tt>xe&&(xe=tt));if(Rt>ee||Qt>xe)return this;for(this.cover(Rt,Qt).cover(ee,xe),T=0;T<It;++T)_(this,Nt[T],q[T],et[T]);return this},W.cover=function(et,z){if(isNaN(et=+et)||isNaN(z=+z))return this;var T=this._x0,F=this._y0,tt=this._x1,It=this._y1;if(isNaN(T))tt=(T=Math.floor(et))+1,It=(F=Math.floor(z))+1;else{for(var Nt,q,Rt=tt-T||1,Qt=this._root;T>et||et>=tt||F>z||z>=It;)switch(q=(z<F)<<1|et<T,(Nt=new Array(4))[q]=Qt,Qt=Nt,Rt*=2,q){case 0:tt=T+Rt,It=F+Rt;break;case 1:T=tt-Rt,It=F+Rt;break;case 2:tt=T+Rt,F=It-Rt;break;case 3:T=tt-Rt,F=It-Rt}this._root&&this._root.length&&(this._root=Qt)}return this._x0=T,this._y0=F,this._x1=tt,this._y1=It,this},W.data=function(){var et=[];return this.visit(function(z){if(!z.length)do et.push(z.data);while(z=z.next)}),et},W.extent=function(et){return arguments.length?this.cover(+et[0][0],+et[0][1]).cover(+et[1][0],+et[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},W.find=function(et,z,T){var F,tt,It,Nt,q,Rt,Qt,ee=this._x0,xe=this._y0,Pe=this._x1,He=this._y1,Be=[],Ke=this._root;for(Ke&&Be.push(new P(Ke,ee,xe,Pe,He)),T==null?T=1/0:(ee=et-T,xe=z-T,Pe=et+T,He=z+T,T*=T);Rt=Be.pop();)if(!(!(Ke=Rt.node)||(tt=Rt.x0)>Pe||(It=Rt.y0)>He||(Nt=Rt.x1)<ee||(q=Rt.y1)<xe))if(Ke.length){var Qe=(tt+Nt)/2,ze=(It+q)/2;Be.push(new P(Ke[3],Qe,ze,Nt,q),new P(Ke[2],tt,ze,Qe,q),new P(Ke[1],Qe,It,Nt,ze),new P(Ke[0],tt,It,Qe,ze)),(Qt=(z>=ze)<<1|et>=Qe)&&(Rt=Be[Be.length-1],Be[Be.length-1]=Be[Be.length-1-Qt],Be[Be.length-1-Qt]=Rt)}else{var en=et-+this._x.call(null,Ke.data),wn=z-+this._y.call(null,Ke.data),zn=en*en+wn*wn;if(zn<T){var In=Math.sqrt(T=zn);ee=et-In,xe=z-In,Pe=et+In,He=z+In,F=Ke.data}}return F},W.remove=function(et){if(isNaN(It=+this._x.call(null,et))||isNaN(Nt=+this._y.call(null,et)))return this;var z,T,F,tt,It,Nt,q,Rt,Qt,ee,xe,Pe,He=this._root,Be=this._x0,Ke=this._y0,Qe=this._x1,ze=this._y1;if(!He)return this;if(He.length)for(;;){if((Qt=It>=(q=(Be+Qe)/2))?Be=q:Qe=q,(ee=Nt>=(Rt=(Ke+ze)/2))?Ke=Rt:ze=Rt,z=He,!(He=He[xe=ee<<1|Qt]))return this;if(!He.length)break;(z[xe+1&3]||z[xe+2&3]||z[xe+3&3])&&(T=z,Pe=xe)}for(;He.data!==et;)if(F=He,!(He=He.next))return this;return(tt=He.next)&&delete He.next,F?(tt?F.next=tt:delete F.next,this):z?(tt?z[xe]=tt:delete z[xe],(He=z[0]||z[1]||z[2]||z[3])&&He===(z[3]||z[2]||z[1]||z[0])&&!He.length&&(T?T[Pe]=He:this._root=He),this):(this._root=tt,this)},W.removeAll=function(et){for(var z=0,T=et.length;z<T;++z)this.remove(et[z]);return this},W.root=function(){return this._root},W.size=function(){var et=0;return this.visit(function(z){if(!z.length)do++et;while(z=z.next)}),et},W.visit=function(et){var z,T,F,tt,It,Nt,q=[],Rt=this._root;for(Rt&&q.push(new P(Rt,this._x0,this._y0,this._x1,this._y1));z=q.pop();)if(!et(Rt=z.node,F=z.x0,tt=z.y0,It=z.x1,Nt=z.y1)&&Rt.length){var Qt=(F+It)/2,ee=(tt+Nt)/2;(T=Rt[3])&&q.push(new P(T,Qt,ee,It,Nt)),(T=Rt[2])&&q.push(new P(T,F,ee,Qt,Nt)),(T=Rt[1])&&q.push(new P(T,Qt,tt,It,ee)),(T=Rt[0])&&q.push(new P(T,F,tt,Qt,ee))}return this},W.visitAfter=function(et){var z,T=[],F=[];for(this._root&&T.push(new P(this._root,this._x0,this._y0,this._x1,this._y1));z=T.pop();){var tt=z.node;if(tt.length){var It,Nt=z.x0,q=z.y0,Rt=z.x1,Qt=z.y1,ee=(Nt+Rt)/2,xe=(q+Qt)/2;(It=tt[0])&&T.push(new P(It,Nt,q,ee,xe)),(It=tt[1])&&T.push(new P(It,ee,q,Rt,xe)),(It=tt[2])&&T.push(new P(It,Nt,xe,ee,Qt)),(It=tt[3])&&T.push(new P(It,ee,xe,Rt,Qt))}F.push(z)}for(;z=F.pop();)et(z.node,z.x0,z.y0,z.x1,z.y1);return this},W.x=function(et){return arguments.length?(this._x=et,this):this._x},W.y=function(et){return arguments.length?(this._y=et,this):this._y};var rt=function(z){return function(){return z}},st=function(z){return 1e-6*(z()-.5)},ut={value:function(){}};function Mt(){for(var et,z=0,T=arguments.length,F={};z<T;++z){if(!(et=arguments[z]+"")||et in F||/[\s.]/.test(et))throw new Error("illegal type: "+et);F[et]=[]}return new bt(F)}function bt(et){this._=et}function xt(et,z){return et.trim().split(/^|\s+/).map(function(T){var F="",tt=T.indexOf(".");if(tt>=0&&(F=T.slice(tt+1),T=T.slice(0,tt)),T&&!z.hasOwnProperty(T))throw new Error("unknown type: "+T);return{type:T,name:F}})}function Ot(et,z){for(var T,F=0,tt=et.length;F<tt;++F)if((T=et[F]).name===z)return T.value}function jt(et,z,T){for(var F=0,tt=et.length;F<tt;++F)if(et[F].name===z){et[F]=ut,et=et.slice(0,F).concat(et.slice(F+1));break}return T!=null&&et.push({name:z,value:T}),et}bt.prototype=Mt.prototype={constructor:bt,on:function(z,T){var F,tt=this._,It=xt(z+"",tt),Nt=-1,q=It.length;if(!(arguments.length<2)){if(T!=null&&typeof T!="function")throw new Error("invalid callback: "+T);for(;++Nt<q;)if(F=(z=It[Nt]).type)tt[F]=jt(tt[F],z.name,T);else if(T==null)for(F in tt)tt[F]=jt(tt[F],z.name,null);return this}for(;++Nt<q;)if((F=(z=It[Nt]).type)&&(F=Ot(tt[F],z.name)))return F},copy:function(){var z={},T=this._;for(var F in T)z[F]=T[F].slice();return new bt(z)},call:function(z,T){if((F=arguments.length-2)>0)for(var F,tt,It=new Array(F),Nt=0;Nt<F;++Nt)It[Nt]=arguments[Nt+2];if(!this._.hasOwnProperty(z))throw new Error("unknown type: "+z);for(Nt=0,F=(tt=this._[z]).length;Nt<F;++Nt)tt[Nt].value.apply(T,It)},apply:function(z,T,F){if(!this._.hasOwnProperty(z))throw new Error("unknown type: "+z);for(var tt=this._[z],It=0,Nt=tt.length;It<Nt;++It)tt[It].value.apply(T,F)}};var Dt=Mt;function zt(et){return(zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(et)}var Tt,Vt,Ht=0,re=0,pe=0,me=0,Ee=0,Le=0,Je=(typeof performance=="undefined"?"undefined":zt(performance))==="object"&&performance.now?performance:Date,On=(typeof window=="undefined"?"undefined":zt(window))==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(et){setTimeout(et,17)};function gn(){return Ee||(On(Vn),Ee=Je.now()+Le)}function Vn(){Ee=0}function kn(){this._call=this._time=this._next=null}function Wn(et,z,T){var F=new kn;return F.restart(et,z,T),F}function Dn(){Ee=(me=Je.now())+Le,Ht=re=0;try{(function(){gn(),++Ht;for(var et,z=Tt;z;)(et=Ee-z._time)>=0&&z._call.call(null,et),z=z._next;--Ht})()}finally{Ht=0,function(){for(var et,z,T=Tt,F=1/0;T;)T._call?(F>T._time&&(F=T._time),et=T,T=T._next):(z=T._next,T._next=null,T=et?et._next=z:Tt=z);Vt=et,Qn(F)}(),Ee=0}}function Nn(){var et=Je.now(),z=et-me;z>1e3&&(Le-=z,me=et)}function Qn(et){Ht||(re&&(re=clearTimeout(re)),et-Ee>24?(et<1/0&&(re=setTimeout(Dn,et-Je.now()-Le)),pe&&(pe=clearInterval(pe))):(pe||(me=Je.now(),pe=setInterval(Nn,1e3)),Ht=1,On(Dn)))}kn.prototype=Wn.prototype={constructor:kn,restart:function(z,T,F){if(typeof z!="function")throw new TypeError("callback is not a function");F=(F==null?gn():+F)+(T==null?0:+T),this._next||Vt===this||(Vt?Vt._next=this:Tt=this,Vt=this),this._call=z,this._time=F,Qn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qn())}};function ir(et){return et.x}function hr(et){return et.y}var Er=Math.PI*(3-Math.sqrt(5)),mr=function(z){var T,F,tt=1,It=.001,Nt=1-Math.pow(It,1/300),q=0,Rt=.6,Qt=new Map,ee=Wn(He),xe=Dt("tick","end"),Pe=(F=1,function(){return(F=(1664525*F+1013904223)%4294967296)/4294967296});function He(){Be(),xe.call("tick",T),tt<It&&(ee.stop(),xe.call("end",T))}function Be(ze){var en,wn,zn=z.length;ze===void 0&&(ze=1);for(var In=0;In<ze;++In)for(tt+=(q-tt)*Nt,Qt.forEach(function(Xn){Xn(tt)}),en=0;en<zn;++en)(wn=z[en]).fx==null?wn.x+=wn.vx*=Rt:(wn.x=wn.fx,wn.vx=0),wn.fy==null?wn.y+=wn.vy*=Rt:(wn.y=wn.fy,wn.vy=0);return T}function Ke(){for(var ze,en=0,wn=z.length;en<wn;++en){if((ze=z[en]).index=en,ze.fx!=null&&(ze.x=ze.fx),ze.fy!=null&&(ze.y=ze.fy),isNaN(ze.x)||isNaN(ze.y)){var zn=10*Math.sqrt(.5+en),In=en*Er;ze.x=zn*Math.cos(In),ze.y=zn*Math.sin(In)}(isNaN(ze.vx)||isNaN(ze.vy))&&(ze.vx=ze.vy=0)}}function Qe(ze){return ze.initialize&&ze.initialize(z,Pe),ze}return z==null&&(z=[]),Ke(),T={tick:Be,restart:function(){return ee.restart(He),T},stop:function(){return ee.stop(),T},nodes:function(en){return arguments.length?(z=en,Ke(),Qt.forEach(Qe),T):z},alpha:function(en){return arguments.length?(tt=+en,T):tt},alphaMin:function(en){return arguments.length?(It=+en,T):It},alphaDecay:function(en){return arguments.length?(Nt=+en,T):+Nt},alphaTarget:function(en){return arguments.length?(q=+en,T):q},velocityDecay:function(en){return arguments.length?(Rt=1-en,T):1-Rt},randomSource:function(en){return arguments.length?(Pe=en,Qt.forEach(Qe),T):Pe},force:function(en,wn){return arguments.length>1?(wn==null?Qt.delete(en):Qt.set(en,Qe(wn)),T):Qt.get(en)},find:function(en,wn,zn){var In,Xn,cr,or,lr,Ar=0,Nr=z.length;for(zn==null?zn=1/0:zn*=zn,Ar=0;Ar<Nr;++Ar)(cr=(In=en-(or=z[Ar]).x)*In+(Xn=wn-or.y)*Xn)<zn&&(lr=or,zn=cr);return lr},on:function(en,wn){return arguments.length>1?(xe.on(en,wn),T):xe.on(en)}}},dr=function(){var z,T,F,tt,It,Nt=rt(-30),q=1,Rt=1/0,Qt=.81;function ee(Be){var Ke,Qe=z.length,ze=p(z,ir,hr).visitAfter(Pe);for(tt=Be,Ke=0;Ke<Qe;++Ke)T=z[Ke],ze.visit(He)}function xe(){if(z){var Be,Ke,Qe=z.length;for(It=new Array(Qe),Be=0;Be<Qe;++Be)Ke=z[Be],It[Ke.index]=+Nt(Ke,Be,z)}}function Pe(Be){var Ke,Qe,ze,en,wn,zn=0,In=0;if(Be.length){for(ze=en=wn=0;wn<4;++wn)(Ke=Be[wn])&&(Qe=Math.abs(Ke.value))&&(zn+=Ke.value,In+=Qe,ze+=Qe*Ke.x,en+=Qe*Ke.y);Be.x=ze/In,Be.y=en/In}else{(Ke=Be).x=Ke.data.x,Ke.y=Ke.data.y;do zn+=It[Ke.data.index];while(Ke=Ke.next)}Be.value=zn}function He(Be,Ke,Qe,ze){if(!Be.value)return!0;var en=Be.x-T.x,wn=Be.y-T.y,zn=ze-Ke,In=en*en+wn*wn;if(zn*zn/Qt<In)return In<Rt&&(en===0&&(In+=(en=st(F))*en),wn===0&&(In+=(wn=st(F))*wn),In<q&&(In=Math.sqrt(q*In)),T.vx+=en*Be.value*tt/In,T.vy+=wn*Be.value*tt/In),!0;if(!(Be.length||In>=Rt)){(Be.data!==T||Be.next)&&(en===0&&(In+=(en=st(F))*en),wn===0&&(In+=(wn=st(F))*wn),In<q&&(In=Math.sqrt(q*In)));do Be.data!==T&&(zn=It[Be.data.index]*tt/In,T.vx+=en*zn,T.vy+=wn*zn);while(Be=Be.next)}}return ee.initialize=function(Be,Ke){z=Be,F=Ke,xe()},ee.strength=function(Be){return arguments.length?(Nt=typeof Be=="function"?Be:rt(+Be),xe(),ee):Nt},ee.distanceMin=function(Be){return arguments.length?(q=Be*Be,ee):Math.sqrt(q)},ee.distanceMax=function(Be){return arguments.length?(Rt=Be*Be,ee):Math.sqrt(Rt)},ee.theta=function(Be){return arguments.length?(Qt=Be*Be,ee):Math.sqrt(Qt)},ee};function Br(et){return(Br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(et)}function ii(et){return et.index}function mi(et,z){var T=et.get(z);if(!T)throw new Error("node not found: "+z);return T}var Pi=function(z){var T,F,tt,It,Nt,q,Rt=ii,Qt=function(ze){return 1/Math.min(It[ze.source.index],It[ze.target.index])},ee=rt(30),xe=1;function Pe(Qe){for(var ze=0,en=z.length;ze<xe;++ze)for(var wn,zn,In,Xn,cr,or,lr,Ar=0;Ar<en;++Ar)zn=(wn=z[Ar]).source,Xn=(In=wn.target).x+In.vx-zn.x-zn.vx||st(q),cr=In.y+In.vy-zn.y-zn.vy||st(q),Xn*=or=((or=Math.sqrt(Xn*Xn+cr*cr))-F[Ar])/or*Qe*T[Ar],cr*=or,In.vx-=Xn*(lr=Nt[Ar]),In.vy-=cr*lr,zn.vx+=Xn*(lr=1-lr),zn.vy+=cr*lr}function He(){if(tt){var Qe,ze,en=tt.length,wn=z.length,zn=new Map(tt.map(function(In,Xn){return[Rt(In,Xn,tt),In]}));for(Qe=0,It=new Array(en);Qe<wn;++Qe)(ze=z[Qe]).index=Qe,Br(ze.source)!=="object"&&(ze.source=mi(zn,ze.source)),Br(ze.target)!=="object"&&(ze.target=mi(zn,ze.target)),It[ze.source.index]=(It[ze.source.index]||0)+1,It[ze.target.index]=(It[ze.target.index]||0)+1;for(Qe=0,Nt=new Array(wn);Qe<wn;++Qe)ze=z[Qe],Nt[Qe]=It[ze.source.index]/(It[ze.source.index]+It[ze.target.index]);T=new Array(wn),Be(),F=new Array(wn),Ke()}}function Be(){if(tt)for(var Qe=0,ze=z.length;Qe<ze;++Qe)T[Qe]=+Qt(z[Qe],Qe,z)}function Ke(){if(tt)for(var Qe=0,ze=z.length;Qe<ze;++Qe)F[Qe]=+ee(z[Qe],Qe,z)}return z==null&&(z=[]),Pe.initialize=function(Qe,ze){tt=Qe,q=ze,He()},Pe.links=function(Qe){return arguments.length?(z=Qe,He(),Pe):z},Pe.id=function(Qe){return arguments.length?(Rt=Qe,Pe):Rt},Pe.iterations=function(Qe){return arguments.length?(xe=+Qe,Pe):xe},Pe.strength=function(Qe){return arguments.length?(Qt=typeof Qe=="function"?Qe:rt(+Qe),Be(),Pe):Qt},Pe.distance=function(Qe){return arguments.length?(ee=typeof Qe=="function"?Qe:rt(+Qe),Ke(),Pe):ee},Pe};function sa(et){return et.x+et.vx}function Pa(et){return et.y+et.vy}var Mi=function(z){var T,F,tt,It=1,Nt=1;function q(){for(var ee,xe,Pe,He,Be,Ke,Qe,ze=T.length,en=0;en<Nt;++en)for(xe=p(T,sa,Pa).visitAfter(Rt),ee=0;ee<ze;++ee)Pe=T[ee],Ke=F[Pe.index],Qe=Ke*Ke,He=Pe.x+Pe.vx,Be=Pe.y+Pe.vy,xe.visit(wn);function wn(zn,In,Xn,cr,or){var lr=zn.data,Ar=zn.r,Nr=Ke+Ar;if(!lr)return In>He+Nr||cr<He-Nr||Xn>Be+Nr||or<Be-Nr;if(lr.index>Pe.index){var Dr=He-lr.x-lr.vx,Tr=Be-lr.y-lr.vy,Xr=Dr*Dr+Tr*Tr;Xr<Nr*Nr&&(Dr===0&&(Xr+=(Dr=st(tt))*Dr),Tr===0&&(Xr+=(Tr=st(tt))*Tr),Xr=(Nr-(Xr=Math.sqrt(Xr)))/Xr*It,Pe.vx+=(Dr*=Xr)*(Nr=(Ar*=Ar)/(Qe+Ar)),Pe.vy+=(Tr*=Xr)*Nr,lr.vx-=Dr*(Nr=1-Nr),lr.vy-=Tr*Nr)}}}function Rt(ee){if(ee.data)return ee.r=F[ee.data.index];for(var xe=ee.r=0;xe<4;++xe)ee[xe]&&ee[xe].r>ee.r&&(ee.r=ee[xe].r)}function Qt(){if(T){var ee,xe,Pe=T.length;for(F=new Array(Pe),ee=0;ee<Pe;++ee)xe=T[ee],F[xe.index]=+z(xe,ee,T)}}return typeof z!="function"&&(z=rt(z==null?1:+z)),q.initialize=function(ee,xe){T=ee,tt=xe,Qt()},q.iterations=function(ee){return arguments.length?(Nt=+ee,q):Nt},q.strength=function(ee){return arguments.length?(It=+ee,q):It},q.radius=function(ee){return arguments.length?(z=typeof ee=="function"?ee:rt(+ee),Qt(),q):z},q};function Ki(et,z){return function(T){if(Array.isArray(T))return T}(et)||function(T,F){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(T)))){var tt=[],It=!0,Nt=!1,q=void 0;try{for(var Rt,Qt=T[Symbol.iterator]();!(It=(Rt=Qt.next()).done)&&(tt.push(Rt.value),!F||tt.length!==F);It=!0);}catch(ee){Nt=!0,q=ee}finally{try{It||Qt.return==null||Qt.return()}finally{if(Nt)throw q}}return tt}}(et,z)||function(T,F){if(!!T){if(typeof T=="string")return fa(T,F);var tt=Object.prototype.toString.call(T).slice(8,-1);if(tt==="Object"&&T.constructor&&(tt=T.constructor.name),tt==="Map"||tt==="Set")return Array.from(T);if(tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(tt))return fa(T,F)}}(et,z)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fa(et,z){(z==null||z>et.length)&&(z=et.length);for(var T=0,F=new Array(z);T<z;T++)F[T]=et[T];return F}function oa(){function et(Xn){return function(){return Xn}}var z,T=function(cr){return cr.cluster},F=et(1),tt=et(-1),It=et(100),Nt=et(.1),q=[0,0],Rt=[],Qt={},ee=[],xe=100,Pe=100,He={none:{x:0,y:0}},Be=[],Ke="force",Qe=!0,ze=.1;function en(Xn){if(!Qe)return en;z.tick(),zn();for(var cr,or=0,lr=Rt.length,Ar=Xn*ze;or<lr;++or)(cr=Rt[or]).vx+=(He[T(cr)].x-cr.x)*Ar,cr.vy+=(He[T(cr)].y-cr.y)*Ar}function wn(){Rt&&function(){if(!(!Rt||!Rt.length)){if(T(Rt[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var Xn=(or=[],lr=[],Ar={},Nr=[],cr=function(Dr){var Tr={};return Dr.forEach(function(Xr){var Ir=T(Xr);Tr[Ir]||(Tr[Ir]={count:0,sumforceNodeSize:0})}),Dr.forEach(function(Xr){var Ir=T(Xr),vi=F(Xr),bi=Tr[Ir];bi.count=bi.count+1,bi.sumforceNodeSize=bi.sumforceNodeSize+Math.PI*(vi*vi)*1.3,Tr[Ir]=bi}),Tr}(Rt),Nr=function(Dr){var Tr={},Xr=[];return Dr.forEach(function(Ir){var vi=function(Wi){var Jr=T(Qt[Wi.source]),Li=T(Qt[Wi.target]);return Jr<=Li?"".concat(Jr,"~").concat(Li):"".concat(Li,"~").concat(Jr)}(Ir),bi=0;Tr[vi]!==void 0&&(bi=Tr[vi]),bi+=1,Tr[vi]=bi}),Object.entries(Tr).forEach(function(Ir){var vi=Ki(Ir,2),bi=vi[0],Wi=vi[1],Jr=bi.split("~")[0],Li=bi.split("~")[1];Jr!==void 0&&Li!==void 0&&Xr.push({source:Jr,target:Li,count:Wi})}),Xr}(ee),Object.keys(cr).forEach(function(Dr,Tr){var Xr=cr[Dr];or.push({id:Dr,size:Xr.count,r:Math.sqrt(Xr.sumforceNodeSize/Math.PI)}),Ar[Dr]=Tr}),Nr.forEach(function(Dr){var Tr=Ar[Dr.source],Xr=Ar[Dr.target];Tr!==void 0&&Xr!==void 0&&lr.push({source:Tr,target:Xr,count:Dr.count})}),{nodes:or,links:lr}),cr,or,lr,Ar,Nr;z=mr(Xn.nodes).force("x",function(Dr){var Tr,Xr,Ir,vi=rt(.1);function bi(Jr){for(var Li,Hi=0,qi=Tr.length;Hi<qi;++Hi)(Li=Tr[Hi]).vx+=(Ir[Hi]-Li.x)*Xr[Hi]*Jr}function Wi(){if(Tr){var Jr,Li=Tr.length;for(Xr=new Array(Li),Ir=new Array(Li),Jr=0;Jr<Li;++Jr)Xr[Jr]=isNaN(Ir[Jr]=+Dr(Tr[Jr],Jr,Tr))?0:+vi(Tr[Jr],Jr,Tr)}}return typeof Dr!="function"&&(Dr=rt(Dr==null?0:+Dr)),bi.initialize=function(Jr){Tr=Jr,Wi()},bi.strength=function(Jr){return arguments.length?(vi=typeof Jr=="function"?Jr:rt(+Jr),Wi(),bi):vi},bi.x=function(Jr){return arguments.length?(Dr=typeof Jr=="function"?Jr:rt(+Jr),Wi(),bi):Dr},bi}(xe).strength(.1)).force("y",function(Dr){var Tr,Xr,Ir,vi=rt(.1);function bi(Jr){for(var Li,Hi=0,qi=Tr.length;Hi<qi;++Hi)(Li=Tr[Hi]).vy+=(Ir[Hi]-Li.y)*Xr[Hi]*Jr}function Wi(){if(Tr){var Jr,Li=Tr.length;for(Xr=new Array(Li),Ir=new Array(Li),Jr=0;Jr<Li;++Jr)Xr[Jr]=isNaN(Ir[Jr]=+Dr(Tr[Jr],Jr,Tr))?0:+vi(Tr[Jr],Jr,Tr)}}return typeof Dr!="function"&&(Dr=rt(Dr==null?0:+Dr)),bi.initialize=function(Jr){Tr=Jr,Wi()},bi.strength=function(Jr){return arguments.length?(vi=typeof Jr=="function"?Jr:rt(+Jr),Wi(),bi):vi},bi.y=function(Jr){return arguments.length?(Dr=typeof Jr=="function"?Jr:rt(+Jr),Wi(),bi):Dr},bi}(Pe).strength(.1)).force("collide",Mi(function(Dr){return Dr.r}).iterations(4)).force("charge",dr().strength(tt)).force("links",Pi(Xn.nodes.length?Xn.links:[]).distance(It).strength(Nt)),Be=z.nodes(),zn()}}()}function zn(){return He={none:{x:0,y:0}},Be.forEach(function(Xn){He[Xn.id]={x:Xn.x-q[0],y:Xn.y-q[1]}}),He}function In(Xn){Qt={},Xn.forEach(function(cr){Qt[cr.id]=cr})}return en.initialize=function(Xn){Rt=Xn,wn()},en.template=function(Xn){return arguments.length?(Ke=Xn,wn(),en):Ke},en.groupBy=function(Xn){return arguments.length?typeof Xn=="string"?(T=function(or){return or[Xn]},en):(T=Xn,en):T},en.enableGrouping=function(Xn){return arguments.length?(Qe=Xn,en):Qe},en.strength=function(Xn){return arguments.length?(ze=Xn,en):ze},en.centerX=function(Xn){return arguments.length?(xe=Xn,en):xe},en.centerY=function(Xn){return arguments.length?(Pe=Xn,en):Pe},en.nodes=function(Xn){return arguments.length?(In(Xn||[]),Rt=Xn||[],en):Rt},en.links=function(Xn){return arguments.length?(ee=Xn||[],wn(),en):ee},en.forceNodeSize=function(Xn){return arguments.length?(F=typeof Xn=="function"?Xn:et(+Xn),wn(),en):F},en.nodeSize=en.forceNodeSize,en.forceCharge=function(Xn){return arguments.length?(tt=typeof Xn=="function"?Xn:et(+Xn),wn(),en):tt},en.forceLinkDistance=function(Xn){return arguments.length?(It=typeof Xn=="function"?Xn:et(+Xn),wn(),en):It},en.forceLinkStrength=function(Xn){return arguments.length?(Nt=typeof Xn=="function"?Xn:et(+Xn),wn(),en):Nt},en.offset=function(Xn){return arguments.length?(q=Xn,en):q},en.getFocis=zn,en}var pa="LAYOUT_RUN",La="LAYOUT_END",Yr="LAYOUT_ERROR",Ea="LAYOUT_TICK",Pr="GPU_LAYOUT_RUN",si="GPU_LAYOUT_END";function ti(et){return(ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(et)}function $r(et,z){for(var T=0;T<z.length;T++){var F=z[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(et,F.key,F)}}function ui(et,z){return(ui=Object.setPrototypeOf||function(T,F){return T.__proto__=F,T})(et,z)}function li(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=Ci(et);if(z){var tt=Ci(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return xi(this,T)}}function xi(et,z){return!z||ti(z)!=="object"&&typeof z!="function"?function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(et):z}function Ci(et){return(Ci=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(et)}var di=function(et){(function(Nt,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(q&&q.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),q&&ui(Nt,q)})(It,et);var z,T,F,tt=li(It);function It(Nt){var q;return function(Rt,Qt){if(!(Rt instanceof Qt))throw new TypeError("Cannot call a class as a function")}(this,It),(q=tt.call(this)).center=[0,0],q.nodeStrength=null,q.edgeStrength=null,q.preventOverlap=!1,q.clusterNodeStrength=null,q.clusterEdgeStrength=null,q.clusterEdgeDistance=null,q.clusterNodeSize=null,q.clusterFociStrength=null,q.linkDistance=50,q.alphaDecay=.028,q.alphaMin=.001,q.alpha=.3,q.collideStrength=1,q.workerEnabled=!1,q.tick=function(){},q.onLayoutEnd=function(){},q.ticking=void 0,Nt&&q.updateCfg(Nt),q}return z=It,(T=[{key:"getDefaultCfg",value:function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}}},{key:"init",value:function(q){this.nodes=q.nodes||[];var Rt=q.edges||[];this.edges=Rt.map(function(Qt){var ee={},xe=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(Qt).forEach(function(Pe){xe.indexOf(Pe)>-1||(ee[Pe]=Qt[Pe])}),ee}),this.ticking=!1}},{key:"execute",value:function(q){var Rt=this,Qt=Rt.nodes,ee=Rt.edges;if(!Rt.ticking){var xe=Rt.forceSimulation,Pe=Rt.alphaMin,He=Rt.alphaDecay,Be=Rt.alpha;if(xe){if(q){if(Rt.clustering&&Rt.clusterForce&&(Rt.clusterForce.nodes(Qt),Rt.clusterForce.links(ee)),xe.nodes(Qt),ee&&Rt.edgeForce)Rt.edgeForce.links(ee);else if(ee&&!Rt.edgeForce){var Ke=Pi().id(function(In){return In.id}).links(ee);Rt.edgeStrength&&Ke.strength(Rt.edgeStrength),Rt.linkDistance&&Ke.distance(Rt.linkDistance),Rt.edgeForce=Ke,xe.force("link",Ke)}}Rt.preventOverlap&&Rt.overlapProcess(xe),xe.alpha(Be).restart(),this.ticking=!0}else try{var Qe=dr();if(Rt.nodeStrength&&Qe.strength(Rt.nodeStrength),xe=mr().nodes(Qt),Rt.clustering){var ze=oa();ze.centerX(Rt.center[0]).centerY(Rt.center[1]).template("force").strength(Rt.clusterFociStrength),ee&&ze.links(ee),Qt&&ze.nodes(Qt),ze.forceLinkDistance(Rt.clusterEdgeDistance).forceLinkStrength(Rt.clusterEdgeStrength).forceCharge(Rt.clusterNodeStrength).forceNodeSize(Rt.clusterNodeSize),Rt.clusterForce=ze,xe.force("group",ze)}if(xe.force("center",function(In,Xn){var cr,or=1;function lr(){var Ar,Nr,Dr=cr.length,Tr=0,Xr=0;for(Ar=0;Ar<Dr;++Ar)Tr+=(Nr=cr[Ar]).x,Xr+=Nr.y;for(Tr=(Tr/Dr-In)*or,Xr=(Xr/Dr-Xn)*or,Ar=0;Ar<Dr;++Ar)(Nr=cr[Ar]).x-=Tr,Nr.y-=Xr}return In==null&&(In=0),Xn==null&&(Xn=0),lr.initialize=function(Ar){cr=Ar},lr.x=function(Ar){return arguments.length?(In=+Ar,lr):In},lr.y=function(Ar){return arguments.length?(Xn=+Ar,lr):Xn},lr.strength=function(Ar){return arguments.length?(or=+Ar,lr):or},lr}(Rt.center[0],Rt.center[1])).force("charge",Qe).alpha(Be).alphaDecay(He).alphaMin(Pe),Rt.preventOverlap&&Rt.overlapProcess(xe),ee){var en=Pi().id(function(In){return In.id}).links(ee);Rt.edgeStrength&&en.strength(Rt.edgeStrength),Rt.linkDistance&&en.distance(Rt.linkDistance),Rt.edgeForce=en,xe.force("link",en)}if(Rt.workerEnabled&&!Ti()&&(Rt.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),Rt.workerEnabled){xe.stop();for(var wn=function(In){var Xn=In.alphaMin(),cr=In.alphaTarget(),or=In.alpha(),lr=Math.log((Xn-cr)/(or-cr))/Math.log(1-In.alphaDecay());return Math.ceil(lr)}(xe),zn=1;zn<=wn;zn++)xe.tick(),postMessage({nodes:Qt,currentTick:zn,totalTicks:wn,type:Ea},void 0);Rt.ticking=!1}else xe.on("tick",function(){Rt.tick()}).on("end",function(){Rt.ticking=!1,Rt.onLayoutEnd&&Rt.onLayoutEnd()}),Rt.ticking=!0;Rt.forceSimulation=xe,Rt.ticking=!0}catch(In){Rt.ticking=!1,console.warn(In)}}}},{key:"overlapProcess",value:function(q){var Rt,Qt,ee=this.nodeSize,xe=this.nodeSpacing,Pe=this.collideStrength;if(Qt=w(xe)?function(){return xe}:A(xe)?xe:function(){return 0},ee)if(A(ee))Rt=function(Qe){return ee(Qe)+Qt(Qe)};else if(c(ee)){var He=(ee[0]>ee[1]?ee[0]:ee[1])/2;Rt=function(Qe){return He+Qt(Qe)}}else if(w(ee)){var Be=ee/2;Rt=function(Qe){return Be+Qt(Qe)}}else Rt=function(){return 10};else Rt=function(Qe){return Qe.size?c(Qe.size)?(Qe.size[0]>Qe.size[1]?Qe.size[0]:Qe.size[1])/2+Qt(Qe):Qe.size/2+Qt(Qe):10+Qt(Qe)};q.force("collisionForce",Mi(Rt).strength(Pe))}},{key:"updateCfg",value:function(q){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.forceSimulation=null,Object.assign(this,q)}},{key:"destroy",value:function(){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.nodes=null,this.edges=null,this.destroyed=!0}}])&&$r(z.prototype,T),F&&$r(z,F),It}(O);function Ti(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}function pi(et){return(pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(et)}function Ni(et,z){for(var T=0;T<z.length;T++){var F=z[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(et,F.key,F)}}function Bi(et,z){return(Bi=Object.setPrototypeOf||function(T,F){return T.__proto__=F,T})(et,z)}function Fi(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=ua(et);if(z){var tt=ua(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return ma(this,T)}}function ma(et,z){return!z||pi(z)!=="object"&&typeof z!="function"?function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(et):z}function ua(et){return(ua=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(et)}function Ra(et,z,T,F){et.forEach(function(tt,It){et[It].children=[],et[It].parent=[]}),F?z.forEach(function(tt){var It=0;tt.source&&(It=T[tt.source]);var Nt=0;tt.target&&(Nt=T[tt.target]);var q=et[It].children,Rt=et[Nt].parent;q.push(et[Nt].id),Rt.push(et[It].id)}):z.forEach(function(tt){var It=0;tt.source&&(It=T[tt.source]);var Nt=0;tt.target&&(Nt=T[tt.target]);var q=et[It].children,Rt=et[Nt].children;q.push(et[Nt].id),Rt.push(et[It].id)})}function xa(et,z,T){for(var F=T.length,tt=0;tt<F;tt++)if(et.id===T[tt].source&&z.id===T[tt].target||z.id===T[tt].source&&et.id===T[tt].target)return!0;return!1}function Ma(et,z){var T=et.degree,F=z.degree;return T<F?-1:T>F?1:0}var Qi=function(et){(function(Nt,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(q&&q.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),q&&Bi(Nt,q)})(It,et);var z,T,F,tt=Fi(It);function It(Nt){var q;return function(Rt,Qt){if(!(Rt instanceof Qt))throw new TypeError("Cannot call a class as a function")}(this,It),(q=tt.call(this)).radius=null,q.startRadius=null,q.endRadius=null,q.startAngle=0,q.endAngle=2*Math.PI,q.clockwise=!0,q.divisions=1,q.ordering=null,q.angleRatio=1,q.nodes=[],q.edges=[],q.nodeMap={},q.degrees=[],q.width=300,q.height=300,q.updateCfg(Nt),q}return z=It,(T=[{key:"getDefaultCfg",value:function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}}},{key:"execute",value:function(){var q=this.nodes,Rt=this.edges,Qt=q.length;if(Qt!==0){this.width||typeof window=="undefined"||(this.width=window.innerWidth),this.height||typeof window=="undefined"||(this.height=window.innerHeight),this.center||(this.center=[this.width/2,this.height/2]);var ee=this.center;if(Qt===1)return q[0].x=ee[0],q[0].y=ee[1],void(this.onLayoutEnd&&this.onLayoutEnd());var xe=this.radius,Pe=this.startRadius,He=this.endRadius,Be=this.divisions,Ke=this.startAngle,Qe=this.endAngle,ze=(Qe-Ke)/Qt,en={};q.forEach(function(Dr,Tr){en[Dr.id]=Tr}),this.nodeMap=en;var wn=m(q.length,en,Rt);this.degrees=wn,xe||Pe||He?!Pe&&He?Pe=He:Pe&&!He&&(He=Pe):xe=this.height>this.width?this.width/2:this.height/2;var zn=ze*this.angleRatio,In=this.ordering,Xn=[];Xn=In==="topology"?this.topologyOrdering():In==="topology-directed"?this.topologyOrdering(!0):In==="degree"?this.degreeOrdering():q;for(var cr=this.clockwise,or=Math.ceil(Qt/Be),lr=0;lr<Qt;++lr){var Ar=xe;Ar||Pe===null||He===null||(Ar=Pe+lr*(He-Pe)/(Qt-1)),Ar||(Ar=10+100*lr/(Qt-1));var Nr=Ke+lr%or*zn+2*Math.PI/Be*Math.floor(lr/or);cr||(Nr=Qe-lr%or*zn-2*Math.PI/Be*Math.floor(lr/or)),Xn[lr].x=ee[0]+Math.cos(Nr)*Ar,Xn[lr].y=ee[1]+Math.sin(Nr)*Ar,Xn[lr].weight=wn[lr]}return this.onLayoutEnd&&this.onLayoutEnd(),{nodes:Xn,edges:this.edges}}this.onLayoutEnd&&this.onLayoutEnd()}},{key:"topologyOrdering",value:function(){var q=arguments.length>0&&arguments[0]!==void 0&&arguments[0],Rt=this,Qt=Rt.degrees,ee=Rt.edges,xe=Rt.nodes,Pe=S(xe),He=Rt.nodeMap,Be=[Pe[0]],Ke=[xe[0]],Qe=[],ze=xe.length;Qe[0]=!0,Ra(Pe,ee,He,q);var en=0;return Pe.forEach(function(wn,zn){if(zn!==0)if(zn!==ze-1&&Qt[zn]===Qt[zn+1]&&!xa(Be[en],wn,ee)||Qe[zn]){for(var In=Be[en].children,Xn=!1,cr=0;cr<In.length;cr++){var or=He[In[cr]];if(Qt[or]===Qt[zn]&&!Qe[or]){Be.push(Pe[or]),Ke.push(xe[He[Pe[or].id]]),Qe[or]=!0,Xn=!0;break}}for(var lr=0;!Xn&&(Qe[lr]||(Be.push(Pe[lr]),Ke.push(xe[He[Pe[lr].id]]),Qe[lr]=!0,Xn=!0),++lr!==ze););}else Be.push(wn),Ke.push(xe[He[wn.id]]),Qe[zn]=!0,en++}),Ke}},{key:"degreeOrdering",value:function(){var q=this.nodes,Rt=[],Qt=this.degrees;return q.forEach(function(ee,xe){ee.degree=Qt[xe],Rt.push(ee)}),Rt.sort(Ma),Rt}},{key:"getType",value:function(){return"circular"}}])&&Ni(z.prototype,T),F&&Ni(z,F),It}(O),ka=t(153),vo=t.n(ka);function za(et){return(za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(et)}function Ga(et,z){for(var T=0;T<z.length;T++){var F=z[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(et,F.key,F)}}function eo(et,z){return(eo=Object.setPrototypeOf||function(T,F){return T.__proto__=F,T})(et,z)}function ae(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=te(et);if(z){var tt=te(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return Kt(this,T)}}function Kt(et,z){return!z||za(z)!=="object"&&typeof z!="function"?function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(et):z}function te(et){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(et)}var Oe=function(et){(function(Nt,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(q&&q.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),q&&eo(Nt,q)})(It,et);var z,T,F,tt=ae(It);function It(Nt){var q;return function(Rt,Qt){if(!(Rt instanceof Qt))throw new TypeError("Cannot call a class as a function")}(this,It),(q=tt.call(this)).rankdir="TB",q.nodesep=50,q.ranksep=50,q.controlPoints=!1,q.sortByCombo=!1,q.nodes=[],q.edges=[],q.onLayoutEnd=function(){},q.updateCfg(Nt),q}return z=It,(T=[{key:"getDefaultCfg",value:function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}}},{key:"execute",value:function(){var q=this,Rt=q.nodes,Qt=q.nodeSize,ee=q.rankdir;if(Rt){var xe,Pe=q.edges||[],He=new vo.a.graphlib.Graph;xe=Qt?c(Qt)?function(){return Qt}:function(){return[Qt,Qt]}:function(ze){return ze.size?c(ze.size)?ze.size:[ze.size,ze.size]:[40,40]};var Be,Ke=Ze(q.nodesepFunc,q.nodesep,50),Qe=Ze(q.ranksepFunc,q.ranksep,50);return ee!=="LR"&&ee!=="RL"||(Ke=Ze(q.ranksepFunc,q.ranksep,50),Qe=Ze(q.nodesepFunc,q.nodesep,50)),He.setDefaultEdgeLabel(function(){return{}}),He.setGraph(q),Rt.forEach(function(ze){var en=xe(ze),wn=Qe(ze),zn=Ke(ze),In=en[0]+2*zn,Xn=en[1]+2*wn;He.setNode(ze.id,{width:In,height:Xn})}),Pe.forEach(function(ze){He.setEdge(ze.source,ze.target,{weight:ze.weight||1})}),vo.a.layout(He),He.nodes().forEach(function(ze){Be=He.node(ze);var en=Rt.findIndex(function(wn){return wn.id===ze});Rt[en].x=Be.x,Rt[en].y=Be.y}),He.edges().forEach(function(ze){Be=He.edge(ze);var en=Pe.findIndex(function(wn){return wn.source===ze.v&&wn.target===ze.w});q.controlPoints&&Pe[en].type!=="loop"&&(Pe[en].controlPoints=Be.points.slice(1,Be.points.length-1))}),q.sortByCombo&&q.sortLevel("comboId"),q.onLayoutEnd&&q.onLayoutEnd(),{nodes:Rt,edges:Pe}}}},{key:"sortLevel",value:function(q){var Rt=this,Qt=Rt.nodes,ee={};Qt.forEach(function(xe){ee[xe.y]||(ee[xe.y]={y:xe.y,nodes:[]}),ee[xe.y].nodes.push(xe)}),Object.keys(ee).forEach(function(xe){var Pe=ee[xe].nodes,He=Pe.length,Be={};if(Pe.forEach(function(en){var wn=en.comboId;Be[wn]||(Be[wn]={x:0,y:0,count:0}),Be[wn].x+=en.x,Be[wn].y+=en.y,Be[wn].count++}),Object.keys(Be).forEach(function(en){Be[en].x/=Be[en].count,Be[en].y/=Be[en].count}),He!==1){var Ke=Pe.sort(function(en,wn){return en.x-wn.x}),Qe=Ke[0].x,ze=(Ke[He-1].x-Qe)/(He-1);Pe.sort(function(en,wn){var zn=en[q]||"undefined",In=wn[q]||"undefined";return zn<In?-1:zn>In?1:0}).forEach(function(en,wn){en.x=Qe+wn*ze})}else Rt.onLayoutEnd&&Rt.onLayoutEnd()})}},{key:"getType",value:function(){return"dagre"}}])&&Ga(z.prototype,T),F&&Ga(z,F),It}(O);function Ze(et,z,T){return et||(w(z)?function(){return z}:function(){return T})}var An=Object.prototype.toString;function qn(et){return An.call(et).endsWith("Array]")}var rr=function(z){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!qn(z))throw new TypeError("input must be an array");if(z.length===0)throw new TypeError("input must not be empty");var F=T.fromIndex,tt=F===void 0?0:F,It=T.toIndex,Nt=It===void 0?z.length:It;if(tt<0||tt>=z.length||!Number.isInteger(tt))throw new Error("fromIndex must be a positive integer smaller than length");if(Nt<=tt||Nt>z.length||!Number.isInteger(Nt))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var q=z[tt],Rt=tt+1;Rt<Nt;Rt++)z[Rt]>q&&(q=z[Rt]);return q},tn=function(z){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!qn(z))throw new TypeError("input must be an array");if(z.length===0)throw new TypeError("input must not be empty");var F=T.fromIndex,tt=F===void 0?0:F,It=T.toIndex,Nt=It===void 0?z.length:It;if(tt<0||tt>=z.length||!Number.isInteger(tt))throw new Error("fromIndex must be a positive integer smaller than length");if(Nt<=tt||Nt>z.length||!Number.isInteger(Nt))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var q=z[tt],Rt=tt+1;Rt<Nt;Rt++)z[Rt]<q&&(q=z[Rt]);return q},sn=function(z){var T,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!qn(z))throw new TypeError("input must be an array");if(z.length===0)throw new TypeError("input must not be empty");if(F.output!==void 0){if(!qn(F.output))throw new TypeError("output option must be an array if specified");T=F.output}else T=new Array(z.length);var tt=tn(z),It=rr(z);if(tt===It)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var Nt=F.min,q=Nt===void 0?F.autoMinMax?tt:0:Nt,Rt=F.max,Qt=Rt===void 0?F.autoMinMax?It:1:Rt;if(q>=Qt)throw new RangeError("min option must be smaller than max option");for(var ee=(Qt-q)/(It-tt),xe=0;xe<z.length;xe++)T[xe]=(z[xe]-tt)*ee+q;return T},un=" ".repeat(2),ur=" ".repeat(4);function jr(et){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=z.maxRows,F=T===void 0?15:T,tt=z.maxColumns,It=tt===void 0?10:tt,Nt=z.maxNumSize,q=Nt===void 0?8:Nt;return"".concat(et.constructor.name,` {
`).concat(un,`[
`).concat(ur).concat(wr(et,F,It,q),`
`).concat(un,`]
`).concat(un,"rows: ").concat(et.rows,`
`).concat(un,"columns: ").concat(et.columns,`
}`)}function wr(et,z,T,F){for(var tt=et.rows,It=et.columns,Nt=Math.min(tt,z),q=Math.min(It,T),Rt=[],Qt=0;Qt<Nt;Qt++){for(var ee=[],xe=0;xe<q;xe++)ee.push(yr(et.get(Qt,xe),F));Rt.push("".concat(ee.join(" ")))}return q!==It&&(Rt[Rt.length-1]+=" ... ".concat(It-T," more columns")),Nt!==tt&&Rt.push("... ".concat(tt-z," more rows")),Rt.join(`
`.concat(ur))}function yr(et,z){var T=String(et);if(T.length<=z)return T.padEnd(z," ");var F=et.toPrecision(z-2);if(F.length<=z)return F;var tt=et.toExponential(z-2),It=tt.indexOf("e"),Nt=tt.slice(It);return tt.slice(0,z-Nt.length)+Nt}function ni(et){return(ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(et)}function _r(et,z,T){var F=T?et.rows:et.rows-1;if(z<0||z>F)throw new RangeError("Row index out of range")}function Fr(et,z,T){var F=T?et.columns:et.columns-1;if(z<0||z>F)throw new RangeError("Column index out of range")}function Lr(et,z){if(z.to1DArray&&(z=z.to1DArray()),z.length!==et.columns)throw new RangeError("vector size must be the same as the number of columns");return z}function Gr(et,z){if(z.to1DArray&&(z=z.to1DArray()),z.length!==et.rows)throw new RangeError("vector size must be the same as the number of rows");return z}function Hr(et,z){if(ni(z)!=="object")throw new TypeError("unexpected type for row indices");if(z.some(function(T){return T<0||T>=et.rows}))throw new RangeError("row indices are out of range");return Array.isArray(z)||(z=Array.from(z)),z}function ei(et,z){if(ni(z)!=="object")throw new TypeError("unexpected type for column indices");if(z.some(function(T){return T<0||T>=et.columns}))throw new RangeError("column indices are out of range");return Array.isArray(z)||(z=Array.from(z)),z}function Kr(et,z,T,F,tt){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(Oi("startRow",z),Oi("endRow",T),Oi("startColumn",F),Oi("endColumn",tt),z>T||F>tt||z<0||z>=et.rows||T<0||T>=et.rows||F<0||F>=et.columns||tt<0||tt>=et.columns)throw new RangeError("Submatrix indices are out of range")}function Qr(et){for(var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,T=[],F=0;F<et;F++)T.push(z);return T}function Oi(et,z){if(typeof z!="number")throw new TypeError("".concat(et," must be a number"))}function Ri(et){if(et.isEmpty())throw new Error("Empty matrix has no elements to index")}function Ei(et,z,T){for(var F=et.rows,tt=et.columns,It=[],Nt=0;Nt<F;Nt++){for(var q=0,Rt=0,Qt=0,ee=0;ee<tt;ee++)q+=Qt=et.get(Nt,ee)-T[Nt],Rt+=Qt*Qt;z?It.push((Rt-q*q/tt)/(tt-1)):It.push((Rt-q*q/tt)/tt)}return It}function Gi(et,z,T){for(var F=et.rows,tt=et.columns,It=[],Nt=0;Nt<tt;Nt++){for(var q=0,Rt=0,Qt=0,ee=0;ee<F;ee++)q+=Qt=et.get(ee,Nt)-T[Nt],Rt+=Qt*Qt;z?It.push((Rt-q*q/F)/(F-1)):It.push((Rt-q*q/F)/F)}return It}function ca(et,z,T){for(var F=et.rows,tt=et.columns,It=F*tt,Nt=0,q=0,Rt=0,Qt=0;Qt<F;Qt++)for(var ee=0;ee<tt;ee++)Nt+=Rt=et.get(Qt,ee)-T,q+=Rt*Rt;return z?(q-Nt*Nt/It)/(It-1):(q-Nt*Nt/It)/It}function ha(et,z){for(var T=0;T<et.rows;T++)for(var F=0;F<et.columns;F++)et.set(T,F,et.get(T,F)-z[T])}function na(et,z){for(var T=0;T<et.rows;T++)for(var F=0;F<et.columns;F++)et.set(T,F,et.get(T,F)-z[F])}function Zi(et,z){for(var T=0;T<et.rows;T++)for(var F=0;F<et.columns;F++)et.set(T,F,et.get(T,F)-z)}function ve(et){for(var z=[],T=0;T<et.rows;T++){for(var F=0,tt=0;tt<et.columns;tt++)F+=Math.pow(et.get(T,tt),2)/(et.columns-1);z.push(Math.sqrt(F))}return z}function U(et,z){for(var T=0;T<et.rows;T++)for(var F=0;F<et.columns;F++)et.set(T,F,et.get(T,F)/z[T])}function G(et){for(var z=[],T=0;T<et.columns;T++){for(var F=0,tt=0;tt<et.rows;tt++)F+=Math.pow(et.get(tt,T),2)/(et.rows-1);z.push(Math.sqrt(F))}return z}function nt(et,z){for(var T=0;T<et.rows;T++)for(var F=0;F<et.columns;F++)et.set(T,F,et.get(T,F)/z[F])}function vt(et){for(var z=et.size-1,T=0,F=0;F<et.columns;F++)for(var tt=0;tt<et.rows;tt++)T+=Math.pow(et.get(tt,F),2)/z;return Math.sqrt(T)}function Gt(et,z){for(var T=0;T<et.rows;T++)for(var F=0;F<et.columns;F++)et.set(T,F,et.get(T,F)/z)}function Jt(et,z){return(Jt=Object.setPrototypeOf||function(T,F){return T.__proto__=F,T})(et,z)}function ie(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=Ce(et);if(z){var tt=Ce(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return ue(this,T)}}function ue(et,z){return!z||we(z)!=="object"&&typeof z!="function"?function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(et):z}function Ce(et){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(et)}function we(et){return(we=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(et)}function cn(et,z){if(!(et instanceof z))throw new TypeError("Cannot call a class as a function")}function Cn(et,z){for(var T=0;T<z.length;T++){var F=z[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(et,F.key,F)}}function _t(et,z,T){return z&&Cn(et.prototype,z),T&&Cn(et,T),et}var Xt=function(){function et(){cn(this,et)}return _t(et,[{key:"apply",value:function(T){if(typeof T!="function")throw new TypeError("callback must be a function");for(var F=0;F<this.rows;F++)for(var tt=0;tt<this.columns;tt++)T.call(this,F,tt);return this}},{key:"to1DArray",value:function(){for(var T=[],F=0;F<this.rows;F++)for(var tt=0;tt<this.columns;tt++)T.push(this.get(F,tt));return T}},{key:"to2DArray",value:function(){for(var T=[],F=0;F<this.rows;F++){T.push([]);for(var tt=0;tt<this.columns;tt++)T[F].push(this.get(F,tt))}return T}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var T=0;T<this.rows;T++)for(var F=0;F<=T;F++)if(this.get(T,F)!==this.get(F,T))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var T=0,F=0,tt=-1,It=!0,Nt=!1;T<this.rows&&It;){for(F=0,Nt=!1;F<this.columns&&Nt===!1;)this.get(T,F)===0?F++:this.get(T,F)===1&&F>tt?(Nt=!0,tt=F):(It=!1,Nt=!0);T++}return It}},{key:"isReducedEchelonForm",value:function(){for(var T=0,F=0,tt=-1,It=!0,Nt=!1;T<this.rows&&It;){for(F=0,Nt=!1;F<this.columns&&Nt===!1;)this.get(T,F)===0?F++:this.get(T,F)===1&&F>tt?(Nt=!0,tt=F):(It=!1,Nt=!0);for(var q=F+1;q<this.rows;q++)this.get(T,q)!==0&&(It=!1);T++}return It}},{key:"echelonForm",value:function(){for(var T=this.clone(),F=0,tt=0;F<T.rows&&tt<T.columns;){for(var It=F,Nt=F;Nt<T.rows;Nt++)T.get(Nt,tt)>T.get(It,tt)&&(It=Nt);if(T.get(It,tt)===0)tt++;else{T.swapRows(F,It);for(var q=T.get(F,tt),Rt=tt;Rt<T.columns;Rt++)T.set(F,Rt,T.get(F,Rt)/q);for(var Qt=F+1;Qt<T.rows;Qt++){var ee=T.get(Qt,tt)/T.get(F,tt);T.set(Qt,tt,0);for(var xe=tt+1;xe<T.columns;xe++)T.set(Qt,xe,T.get(Qt,xe)-T.get(F,xe)*ee)}F++,tt++}}return T}},{key:"reducedEchelonForm",value:function(){for(var T=this.echelonForm(),F=T.columns,tt=T.rows,It=tt-1;It>=0;)if(T.maxRow(It)===0)It--;else{for(var Nt=0,q=!1;Nt<tt&&q===!1;)T.get(It,Nt)===1?q=!0:Nt++;for(var Rt=0;Rt<It;Rt++)for(var Qt=T.get(Rt,Nt),ee=Nt;ee<F;ee++){var xe=T.get(Rt,ee)-Qt*T.get(It,ee);T.set(Rt,ee,xe)}It--}return T}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(we(T)!=="object")throw new TypeError("options must be an object");var F=T.rows,tt=F===void 0?1:F,It=T.columns,Nt=It===void 0?1:It;if(!Number.isInteger(tt)||tt<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(Nt)||Nt<=0)throw new TypeError("columns must be a positive integer");for(var q=new yn(this.rows*tt,this.columns*Nt),Rt=0;Rt<tt;Rt++)for(var Qt=0;Qt<Nt;Qt++)q.setSubMatrix(this,this.rows*Rt,this.columns*Qt);return q}},{key:"fill",value:function(T){for(var F=0;F<this.rows;F++)for(var tt=0;tt<this.columns;tt++)this.set(F,tt,T);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(T){_r(this,T);for(var F=[],tt=0;tt<this.columns;tt++)F.push(this.get(T,tt));return F}},{key:"getRowVector",value:function(T){return yn.rowVector(this.getRow(T))}},{key:"setRow",value:function(T,F){_r(this,T),F=Lr(this,F);for(var tt=0;tt<this.columns;tt++)this.set(T,tt,F[tt]);return this}},{key:"swapRows",value:function(T,F){_r(this,T),_r(this,F);for(var tt=0;tt<this.columns;tt++){var It=this.get(T,tt);this.set(T,tt,this.get(F,tt)),this.set(F,tt,It)}return this}},{key:"getColumn",value:function(T){Fr(this,T);for(var F=[],tt=0;tt<this.rows;tt++)F.push(this.get(tt,T));return F}},{key:"getColumnVector",value:function(T){return yn.columnVector(this.getColumn(T))}},{key:"setColumn",value:function(T,F){Fr(this,T),F=Gr(this,F);for(var tt=0;tt<this.rows;tt++)this.set(tt,T,F[tt]);return this}},{key:"swapColumns",value:function(T,F){Fr(this,T),Fr(this,F);for(var tt=0;tt<this.rows;tt++){var It=this.get(tt,T);this.set(tt,T,this.get(tt,F)),this.set(tt,F,It)}return this}},{key:"addRowVector",value:function(T){T=Lr(this,T);for(var F=0;F<this.rows;F++)for(var tt=0;tt<this.columns;tt++)this.set(F,tt,this.get(F,tt)+T[tt]);return this}},{key:"subRowVector",value:function(T){T=Lr(this,T);for(var F=0;F<this.rows;F++)for(var tt=0;tt<this.columns;tt++)this.set(F,tt,this.get(F,tt)-T[tt]);return this}},{key:"mulRowVector",value:function(T){T=Lr(this,T);for(var F=0;F<this.rows;F++)for(var tt=0;tt<this.columns;tt++)this.set(F,tt,this.get(F,tt)*T[tt]);return this}},{key:"divRowVector",value:function(T){T=Lr(this,T);for(var F=0;F<this.rows;F++)for(var tt=0;tt<this.columns;tt++)this.set(F,tt,this.get(F,tt)/T[tt]);return this}},{key:"addColumnVector",value:function(T){T=Gr(this,T);for(var F=0;F<this.rows;F++)for(var tt=0;tt<this.columns;tt++)this.set(F,tt,this.get(F,tt)+T[F]);return this}},{key:"subColumnVector",value:function(T){T=Gr(this,T);for(var F=0;F<this.rows;F++)for(var tt=0;tt<this.columns;tt++)this.set(F,tt,this.get(F,tt)-T[F]);return this}},{key:"mulColumnVector",value:function(T){T=Gr(this,T);for(var F=0;F<this.rows;F++)for(var tt=0;tt<this.columns;tt++)this.set(F,tt,this.get(F,tt)*T[F]);return this}},{key:"divColumnVector",value:function(T){T=Gr(this,T);for(var F=0;F<this.rows;F++)for(var tt=0;tt<this.columns;tt++)this.set(F,tt,this.get(F,tt)/T[F]);return this}},{key:"mulRow",value:function(T,F){_r(this,T);for(var tt=0;tt<this.columns;tt++)this.set(T,tt,this.get(T,tt)*F);return this}},{key:"mulColumn",value:function(T,F){Fr(this,T);for(var tt=0;tt<this.rows;tt++)this.set(tt,T,this.get(tt,T)*F);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var T=this.get(0,0),F=0;F<this.rows;F++)for(var tt=0;tt<this.columns;tt++)this.get(F,tt)>T&&(T=this.get(F,tt));return T}},{key:"maxIndex",value:function(){Ri(this);for(var T=this.get(0,0),F=[0,0],tt=0;tt<this.rows;tt++)for(var It=0;It<this.columns;It++)this.get(tt,It)>T&&(T=this.get(tt,It),F[0]=tt,F[1]=It);return F}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var T=this.get(0,0),F=0;F<this.rows;F++)for(var tt=0;tt<this.columns;tt++)this.get(F,tt)<T&&(T=this.get(F,tt));return T}},{key:"minIndex",value:function(){Ri(this);for(var T=this.get(0,0),F=[0,0],tt=0;tt<this.rows;tt++)for(var It=0;It<this.columns;It++)this.get(tt,It)<T&&(T=this.get(tt,It),F[0]=tt,F[1]=It);return F}},{key:"maxRow",value:function(T){if(_r(this,T),this.isEmpty())return NaN;for(var F=this.get(T,0),tt=1;tt<this.columns;tt++)this.get(T,tt)>F&&(F=this.get(T,tt));return F}},{key:"maxRowIndex",value:function(T){_r(this,T),Ri(this);for(var F=this.get(T,0),tt=[T,0],It=1;It<this.columns;It++)this.get(T,It)>F&&(F=this.get(T,It),tt[1]=It);return tt}},{key:"minRow",value:function(T){if(_r(this,T),this.isEmpty())return NaN;for(var F=this.get(T,0),tt=1;tt<this.columns;tt++)this.get(T,tt)<F&&(F=this.get(T,tt));return F}},{key:"minRowIndex",value:function(T){_r(this,T),Ri(this);for(var F=this.get(T,0),tt=[T,0],It=1;It<this.columns;It++)this.get(T,It)<F&&(F=this.get(T,It),tt[1]=It);return tt}},{key:"maxColumn",value:function(T){if(Fr(this,T),this.isEmpty())return NaN;for(var F=this.get(0,T),tt=1;tt<this.rows;tt++)this.get(tt,T)>F&&(F=this.get(tt,T));return F}},{key:"maxColumnIndex",value:function(T){Fr(this,T),Ri(this);for(var F=this.get(0,T),tt=[0,T],It=1;It<this.rows;It++)this.get(It,T)>F&&(F=this.get(It,T),tt[0]=It);return tt}},{key:"minColumn",value:function(T){if(Fr(this,T),this.isEmpty())return NaN;for(var F=this.get(0,T),tt=1;tt<this.rows;tt++)this.get(tt,T)<F&&(F=this.get(tt,T));return F}},{key:"minColumnIndex",value:function(T){Fr(this,T),Ri(this);for(var F=this.get(0,T),tt=[0,T],It=1;It<this.rows;It++)this.get(It,T)<F&&(F=this.get(It,T),tt[0]=It);return tt}},{key:"diag",value:function(){for(var T=Math.min(this.rows,this.columns),F=[],tt=0;tt<T;tt++)F.push(this.get(tt,tt));return F}},{key:"norm",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",F=0;if(T==="max")return this.max();if(T==="frobenius"){for(var tt=0;tt<this.rows;tt++)for(var It=0;It<this.columns;It++)F+=this.get(tt,It)*this.get(tt,It);return Math.sqrt(F)}throw new RangeError("unknown norm type: ".concat(T))}},{key:"cumulativeSum",value:function(){for(var T=0,F=0;F<this.rows;F++)for(var tt=0;tt<this.columns;tt++)T+=this.get(F,tt),this.set(F,tt,T);return this}},{key:"dot",value:function(T){et.isMatrix(T)&&(T=T.to1DArray());var F=this.to1DArray();if(F.length!==T.length)throw new RangeError("vectors do not have the same size");for(var tt=0,It=0;It<F.length;It++)tt+=F[It]*T[It];return tt}},{key:"mmul",value:function(T){T=yn.checkMatrix(T);for(var F=this.rows,tt=this.columns,It=T.columns,Nt=new yn(F,It),q=new Float64Array(tt),Rt=0;Rt<It;Rt++){for(var Qt=0;Qt<tt;Qt++)q[Qt]=T.get(Qt,Rt);for(var ee=0;ee<F;ee++){for(var xe=0,Pe=0;Pe<tt;Pe++)xe+=this.get(ee,Pe)*q[Pe];Nt.set(ee,Rt,xe)}}return Nt}},{key:"strassen2x2",value:function(T){T=yn.checkMatrix(T);var F=new yn(2,2),tt=this.get(0,0),It=T.get(0,0),Nt=this.get(0,1),q=T.get(0,1),Rt=this.get(1,0),Qt=T.get(1,0),ee=this.get(1,1),xe=T.get(1,1),Pe=(tt+ee)*(It+xe),He=(Rt+ee)*It,Be=tt*(q-xe),Ke=ee*(Qt-It),Qe=(tt+Nt)*xe,ze=Pe+Ke-Qe+(Nt-ee)*(Qt+xe),en=Be+Qe,wn=He+Ke,zn=Pe-He+Be+(Rt-tt)*(It+q);return F.set(0,0,ze),F.set(0,1,en),F.set(1,0,wn),F.set(1,1,zn),F}},{key:"strassen3x3",value:function(T){T=yn.checkMatrix(T);var F=new yn(3,3),tt=this.get(0,0),It=this.get(0,1),Nt=this.get(0,2),q=this.get(1,0),Rt=this.get(1,1),Qt=this.get(1,2),ee=this.get(2,0),xe=this.get(2,1),Pe=this.get(2,2),He=T.get(0,0),Be=T.get(0,1),Ke=T.get(0,2),Qe=T.get(1,0),ze=T.get(1,1),en=T.get(1,2),wn=T.get(2,0),zn=T.get(2,1),In=T.get(2,2),Xn=(tt-q)*(-Be+ze),cr=(-tt+q+Rt)*(He-Be+ze),or=(q+Rt)*(-He+Be),lr=tt*He,Ar=(-tt+ee+xe)*(He-Ke+en),Nr=(-tt+ee)*(Ke-en),Dr=(ee+xe)*(-He+Ke),Tr=(-Nt+xe+Pe)*(ze+wn-zn),Xr=(Nt-Pe)*(ze-zn),Ir=Nt*wn,vi=(xe+Pe)*(-wn+zn),bi=(-Nt+Rt+Qt)*(en+wn-In),Wi=(Nt-Qt)*(en-In),Jr=(Rt+Qt)*(-wn+In),Li=lr+Ir+It*Qe,Hi=(tt+It+Nt-q-Rt-xe-Pe)*ze+cr+or+lr+Tr+Ir+vi,qi=lr+Ar+Dr+(tt+It+Nt-Rt-Qt-ee-xe)*en+Ir+bi+Jr,xo=Xn+Rt*(-He+Be+Qe-ze-en-wn+In)+cr+lr+Ir+bi+Wi,oo=Xn+cr+or+lr+Qt*zn,ta=Ir+bi+Wi+Jr+q*Ke,ga=lr+Ar+Nr+xe*(-He+Ke+Qe-ze-en-wn+zn)+Tr+Xr+Ir,ko=Tr+Xr+Ir+vi+ee*Be,Wo=lr+Ar+Nr+Dr+Pe*In;return F.set(0,0,Li),F.set(0,1,Hi),F.set(0,2,qi),F.set(1,0,xo),F.set(1,1,oo),F.set(1,2,ta),F.set(2,0,ga),F.set(2,1,ko),F.set(2,2,Wo),F}},{key:"mmulStrassen",value:function(T){T=yn.checkMatrix(T);var F=this.clone(),tt=F.rows,It=F.columns,Nt=T.rows,q=T.columns;function Rt(xe,Pe,He){var Be=xe.rows,Ke=xe.columns;if(Be===Pe&&Ke===He)return xe;var Qe=et.zeros(Pe,He);return Qe=Qe.setSubMatrix(xe,0,0)}It!==Nt&&console.warn("Multiplying ".concat(tt," x ").concat(It," and ").concat(Nt," x ").concat(q," matrix: dimensions do not match."));var Qt=Math.max(tt,Nt),ee=Math.max(It,q);return function xe(Pe,He,Be,Ke){if(Be<=512||Ke<=512)return Pe.mmul(He);Be%2==1&&Ke%2==1?(Pe=Rt(Pe,Be+1,Ke+1),He=Rt(He,Be+1,Ke+1)):Be%2==1?(Pe=Rt(Pe,Be+1,Ke),He=Rt(He,Be+1,Ke)):Ke%2==1&&(Pe=Rt(Pe,Be,Ke+1),He=Rt(He,Be,Ke+1));var Qe=parseInt(Pe.rows/2,10),ze=parseInt(Pe.columns/2,10),en=Pe.subMatrix(0,Qe-1,0,ze-1),wn=He.subMatrix(0,Qe-1,0,ze-1),zn=Pe.subMatrix(0,Qe-1,ze,Pe.columns-1),In=He.subMatrix(0,Qe-1,ze,He.columns-1),Xn=Pe.subMatrix(Qe,Pe.rows-1,0,ze-1),cr=He.subMatrix(Qe,He.rows-1,0,ze-1),or=Pe.subMatrix(Qe,Pe.rows-1,ze,Pe.columns-1),lr=He.subMatrix(Qe,He.rows-1,ze,He.columns-1),Ar=xe(et.add(en,or),et.add(wn,lr),Qe,ze),Nr=xe(et.add(Xn,or),wn,Qe,ze),Dr=xe(en,et.sub(In,lr),Qe,ze),Tr=xe(or,et.sub(cr,wn),Qe,ze),Xr=xe(et.add(en,zn),lr,Qe,ze),Ir=xe(et.sub(Xn,en),et.add(wn,In),Qe,ze),vi=xe(et.sub(zn,or),et.add(cr,lr),Qe,ze),bi=et.add(Ar,Tr);bi.sub(Xr),bi.add(vi);var Wi=et.add(Dr,Xr),Jr=et.add(Nr,Tr),Li=et.sub(Ar,Nr);Li.add(Dr),Li.add(Ir);var Hi=et.zeros(2*bi.rows,2*bi.columns);return(Hi=(Hi=(Hi=(Hi=Hi.setSubMatrix(bi,0,0)).setSubMatrix(Wi,bi.rows,0)).setSubMatrix(Jr,0,bi.columns)).setSubMatrix(Li,bi.rows,bi.columns)).subMatrix(0,Be-1,0,Ke-1)}(F=Rt(F,Qt,ee),T=Rt(T,Qt,ee),Qt,ee)}},{key:"scaleRows",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(we(T)!=="object")throw new TypeError("options must be an object");var F=T.min,tt=F===void 0?0:F,It=T.max,Nt=It===void 0?1:It;if(!Number.isFinite(tt))throw new TypeError("min must be a number");if(!Number.isFinite(Nt))throw new TypeError("max must be a number");if(tt>=Nt)throw new RangeError("min must be smaller than max");for(var q=new yn(this.rows,this.columns),Rt=0;Rt<this.rows;Rt++){var Qt=this.getRow(Rt);Qt.length>0&&sn(Qt,{min:tt,max:Nt,output:Qt}),q.setRow(Rt,Qt)}return q}},{key:"scaleColumns",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(we(T)!=="object")throw new TypeError("options must be an object");var F=T.min,tt=F===void 0?0:F,It=T.max,Nt=It===void 0?1:It;if(!Number.isFinite(tt))throw new TypeError("min must be a number");if(!Number.isFinite(Nt))throw new TypeError("max must be a number");if(tt>=Nt)throw new RangeError("min must be smaller than max");for(var q=new yn(this.rows,this.columns),Rt=0;Rt<this.columns;Rt++){var Qt=this.getColumn(Rt);Qt.length&&sn(Qt,{min:tt,max:Nt,output:Qt}),q.setColumn(Rt,Qt)}return q}},{key:"flipRows",value:function(){for(var T=Math.ceil(this.columns/2),F=0;F<this.rows;F++)for(var tt=0;tt<T;tt++){var It=this.get(F,tt),Nt=this.get(F,this.columns-1-tt);this.set(F,tt,Nt),this.set(F,this.columns-1-tt,It)}return this}},{key:"flipColumns",value:function(){for(var T=Math.ceil(this.rows/2),F=0;F<this.columns;F++)for(var tt=0;tt<T;tt++){var It=this.get(tt,F),Nt=this.get(this.rows-1-tt,F);this.set(tt,F,Nt),this.set(this.rows-1-tt,F,It)}return this}},{key:"kroneckerProduct",value:function(T){T=yn.checkMatrix(T);for(var F=this.rows,tt=this.columns,It=T.rows,Nt=T.columns,q=new yn(F*It,tt*Nt),Rt=0;Rt<F;Rt++)for(var Qt=0;Qt<tt;Qt++)for(var ee=0;ee<It;ee++)for(var xe=0;xe<Nt;xe++)q.set(It*Rt+ee,Nt*Qt+xe,this.get(Rt,Qt)*T.get(ee,xe));return q}},{key:"transpose",value:function(){for(var T=new yn(this.columns,this.rows),F=0;F<this.rows;F++)for(var tt=0;tt<this.columns;tt++)T.set(tt,F,this.get(F,tt));return T}},{key:"sortRows",value:function(){for(var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Se,F=0;F<this.rows;F++)this.setRow(F,this.getRow(F).sort(T));return this}},{key:"sortColumns",value:function(){for(var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Se,F=0;F<this.columns;F++)this.setColumn(F,this.getColumn(F).sort(T));return this}},{key:"subMatrix",value:function(T,F,tt,It){Kr(this,T,F,tt,It);for(var Nt=new yn(F-T+1,It-tt+1),q=T;q<=F;q++)for(var Rt=tt;Rt<=It;Rt++)Nt.set(q-T,Rt-tt,this.get(q,Rt));return Nt}},{key:"subMatrixRow",value:function(T,F,tt){if(F===void 0&&(F=0),tt===void 0&&(tt=this.columns-1),F>tt||F<0||F>=this.columns||tt<0||tt>=this.columns)throw new RangeError("Argument out of range");for(var It=new yn(T.length,tt-F+1),Nt=0;Nt<T.length;Nt++)for(var q=F;q<=tt;q++){if(T[Nt]<0||T[Nt]>=this.rows)throw new RangeError("Row index out of range: ".concat(T[Nt]));It.set(Nt,q-F,this.get(T[Nt],q))}return It}},{key:"subMatrixColumn",value:function(T,F,tt){if(F===void 0&&(F=0),tt===void 0&&(tt=this.rows-1),F>tt||F<0||F>=this.rows||tt<0||tt>=this.rows)throw new RangeError("Argument out of range");for(var It=new yn(tt-F+1,T.length),Nt=0;Nt<T.length;Nt++)for(var q=F;q<=tt;q++){if(T[Nt]<0||T[Nt]>=this.columns)throw new RangeError("Column index out of range: ".concat(T[Nt]));It.set(q-F,Nt,this.get(q,T[Nt]))}return It}},{key:"setSubMatrix",value:function(T,F,tt){if((T=yn.checkMatrix(T)).isEmpty())return this;Kr(this,F,F+T.rows-1,tt,tt+T.columns-1);for(var It=0;It<T.rows;It++)for(var Nt=0;Nt<T.columns;Nt++)this.set(F+It,tt+Nt,T.get(It,Nt));return this}},{key:"selection",value:function(T,F){for(var tt=function(ee,xe,Pe){return{row:Hr(ee,xe),column:ei(ee,Pe)}}(this,T,F),It=new yn(T.length,F.length),Nt=0;Nt<tt.row.length;Nt++)for(var q=tt.row[Nt],Rt=0;Rt<tt.column.length;Rt++){var Qt=tt.column[Rt];It.set(Nt,Rt,this.get(q,Qt))}return It}},{key:"trace",value:function(){for(var T=Math.min(this.rows,this.columns),F=0,tt=0;tt<T;tt++)F+=this.get(tt,tt);return F}},{key:"clone",value:function(){for(var T=new yn(this.rows,this.columns),F=0;F<this.rows;F++)for(var tt=0;tt<this.columns;tt++)T.set(F,tt,this.get(F,tt));return T}},{key:"sum",value:function(T){switch(T){case"row":return function(F){for(var tt=Qr(F.rows),It=0;It<F.rows;++It)for(var Nt=0;Nt<F.columns;++Nt)tt[It]+=F.get(It,Nt);return tt}(this);case"column":return function(F){for(var tt=Qr(F.columns),It=0;It<F.rows;++It)for(var Nt=0;Nt<F.columns;++Nt)tt[Nt]+=F.get(It,Nt);return tt}(this);case void 0:return function(F){for(var tt=0,It=0;It<F.rows;It++)for(var Nt=0;Nt<F.columns;Nt++)tt+=F.get(It,Nt);return tt}(this);default:throw new Error("invalid option: ".concat(T))}}},{key:"product",value:function(T){switch(T){case"row":return function(F){for(var tt=Qr(F.rows,1),It=0;It<F.rows;++It)for(var Nt=0;Nt<F.columns;++Nt)tt[It]*=F.get(It,Nt);return tt}(this);case"column":return function(F){for(var tt=Qr(F.columns,1),It=0;It<F.rows;++It)for(var Nt=0;Nt<F.columns;++Nt)tt[Nt]*=F.get(It,Nt);return tt}(this);case void 0:return function(F){for(var tt=1,It=0;It<F.rows;It++)for(var Nt=0;Nt<F.columns;Nt++)tt*=F.get(It,Nt);return tt}(this);default:throw new Error("invalid option: ".concat(T))}}},{key:"mean",value:function(T){var F=this.sum(T);switch(T){case"row":for(var tt=0;tt<this.rows;tt++)F[tt]/=this.columns;return F;case"column":for(var It=0;It<this.columns;It++)F[It]/=this.rows;return F;case void 0:return F/this.size;default:throw new Error("invalid option: ".concat(T))}}},{key:"variance",value:function(T){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(we(T)==="object"&&(F=T,T=void 0),we(F)!=="object")throw new TypeError("options must be an object");var tt=F,It=tt.unbiased,Nt=It===void 0||It,q=tt.mean,Rt=q===void 0?this.mean(T):q;if(typeof Nt!="boolean")throw new TypeError("unbiased must be a boolean");switch(T){case"row":if(!Array.isArray(Rt))throw new TypeError("mean must be an array");return Ei(this,Nt,Rt);case"column":if(!Array.isArray(Rt))throw new TypeError("mean must be an array");return Gi(this,Nt,Rt);case void 0:if(typeof Rt!="number")throw new TypeError("mean must be a number");return ca(this,Nt,Rt);default:throw new Error("invalid option: ".concat(T))}}},{key:"standardDeviation",value:function(T,F){we(T)==="object"&&(F=T,T=void 0);var tt=this.variance(T,F);if(T===void 0)return Math.sqrt(tt);for(var It=0;It<tt.length;It++)tt[It]=Math.sqrt(tt[It]);return tt}},{key:"center",value:function(T){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(we(T)==="object"&&(F=T,T=void 0),we(F)!=="object")throw new TypeError("options must be an object");var tt=F,It=tt.center,Nt=It===void 0?this.mean(T):It;switch(T){case"row":if(!Array.isArray(Nt))throw new TypeError("center must be an array");return ha(this,Nt),this;case"column":if(!Array.isArray(Nt))throw new TypeError("center must be an array");return na(this,Nt),this;case void 0:if(typeof Nt!="number")throw new TypeError("center must be a number");return Zi(this,Nt),this;default:throw new Error("invalid option: ".concat(T))}}},{key:"scale",value:function(T){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(we(T)==="object"&&(F=T,T=void 0),we(F)!=="object")throw new TypeError("options must be an object");var tt=F.scale;switch(T){case"row":if(tt===void 0)tt=ve(this);else if(!Array.isArray(tt))throw new TypeError("scale must be an array");return U(this,tt),this;case"column":if(tt===void 0)tt=G(this);else if(!Array.isArray(tt))throw new TypeError("scale must be an array");return nt(this,tt),this;case void 0:if(tt===void 0)tt=vt(this);else if(typeof tt!="number")throw new TypeError("scale must be a number");return Gt(this,tt),this;default:throw new Error("invalid option: ".concat(T))}}},{key:"toString",value:function(T){return jr(this,T)}},{key:"size",get:function(){return this.rows*this.columns}}],[{key:"from1DArray",value:function(T,F,tt){if(T*F!==tt.length)throw new RangeError("data length does not match given dimensions");for(var It=new yn(T,F),Nt=0;Nt<T;Nt++)for(var q=0;q<F;q++)It.set(Nt,q,tt[Nt*F+q]);return It}},{key:"rowVector",value:function(T){for(var F=new yn(1,T.length),tt=0;tt<T.length;tt++)F.set(0,tt,T[tt]);return F}},{key:"columnVector",value:function(T){for(var F=new yn(T.length,1),tt=0;tt<T.length;tt++)F.set(tt,0,T[tt]);return F}},{key:"zeros",value:function(T,F){return new yn(T,F)}},{key:"ones",value:function(T,F){return new yn(T,F).fill(1)}},{key:"rand",value:function(T,F){var tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(we(tt)!=="object")throw new TypeError("options must be an object");for(var It=tt.random,Nt=It===void 0?Math.random:It,q=new yn(T,F),Rt=0;Rt<T;Rt++)for(var Qt=0;Qt<F;Qt++)q.set(Rt,Qt,Nt());return q}},{key:"randInt",value:function(T,F){var tt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(we(tt)!=="object")throw new TypeError("options must be an object");var It=tt.min,Nt=It===void 0?0:It,q=tt.max,Rt=q===void 0?1e3:q,Qt=tt.random,ee=Qt===void 0?Math.random:Qt;if(!Number.isInteger(Nt))throw new TypeError("min must be an integer");if(!Number.isInteger(Rt))throw new TypeError("max must be an integer");if(Nt>=Rt)throw new RangeError("min must be smaller than max");for(var xe=Rt-Nt,Pe=new yn(T,F),He=0;He<T;He++)for(var Be=0;Be<F;Be++){var Ke=Nt+Math.round(ee()*xe);Pe.set(He,Be,Ke)}return Pe}},{key:"eye",value:function(T,F,tt){F===void 0&&(F=T),tt===void 0&&(tt=1);for(var It=Math.min(T,F),Nt=this.zeros(T,F),q=0;q<It;q++)Nt.set(q,q,tt);return Nt}},{key:"diag",value:function(T,F,tt){var It=T.length;F===void 0&&(F=It),tt===void 0&&(tt=F);for(var Nt=Math.min(It,F,tt),q=this.zeros(F,tt),Rt=0;Rt<Nt;Rt++)q.set(Rt,Rt,T[Rt]);return q}},{key:"min",value:function(T,F){T=this.checkMatrix(T),F=this.checkMatrix(F);for(var tt=T.rows,It=T.columns,Nt=new yn(tt,It),q=0;q<tt;q++)for(var Rt=0;Rt<It;Rt++)Nt.set(q,Rt,Math.min(T.get(q,Rt),F.get(q,Rt)));return Nt}},{key:"max",value:function(T,F){T=this.checkMatrix(T),F=this.checkMatrix(F);for(var tt=T.rows,It=T.columns,Nt=new this(tt,It),q=0;q<tt;q++)for(var Rt=0;Rt<It;Rt++)Nt.set(q,Rt,Math.max(T.get(q,Rt),F.get(q,Rt)));return Nt}},{key:"checkMatrix",value:function(T){return et.isMatrix(T)?T:new yn(T)}},{key:"isMatrix",value:function(T){return T!=null&&T.klass==="Matrix"}}]),et}();function Se(et,z){return et-z}Xt.prototype.klass="Matrix",typeof Symbol!="undefined"&&(Xt.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return jr(this)}),Xt.random=Xt.rand,Xt.randomInt=Xt.randInt,Xt.diagonal=Xt.diag,Xt.prototype.diagonal=Xt.prototype.diag,Xt.identity=Xt.eye,Xt.prototype.negate=Xt.prototype.neg,Xt.prototype.tensorProduct=Xt.prototype.kroneckerProduct;var Wt,ce,yn=function(et){(function(F,tt){if(typeof tt!="function"&&tt!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(tt&&tt.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),tt&&Jt(F,tt)})(T,et);var z=ie(T);function T(F,tt){var It;if(cn(this,T),It=z.call(this),T.isMatrix(F))return ue(It,F.clone());if(Number.isInteger(F)&&F>=0){if(It.data=[],!(Number.isInteger(tt)&&tt>=0))throw new TypeError("nColumns must be a positive integer");for(var Nt=0;Nt<F;Nt++)It.data.push(new Float64Array(tt))}else{if(!Array.isArray(F))throw new TypeError("First argument must be a positive number or an array");var q=F;if(typeof(tt=(F=q.length)?q[0].length:0)!="number")throw new TypeError("Data must be a 2D array with at least one element");It.data=[];for(var Rt=0;Rt<F;Rt++){if(q[Rt].length!==tt)throw new RangeError("Inconsistent array dimensions");It.data.push(Float64Array.from(q[Rt]))}}return It.rows=F,It.columns=tt,It}return _t(T,[{key:"set",value:function(tt,It,Nt){return this.data[tt][It]=Nt,this}},{key:"get",value:function(tt,It){return this.data[tt][It]}},{key:"removeRow",value:function(tt){return _r(this,tt),this.data.splice(tt,1),this.rows-=1,this}},{key:"addRow",value:function(tt,It){return It===void 0&&(It=tt,tt=this.rows),_r(this,tt,!0),It=Float64Array.from(Lr(this,It)),this.data.splice(tt,0,It),this.rows+=1,this}},{key:"removeColumn",value:function(tt){Fr(this,tt);for(var It=0;It<this.rows;It++){for(var Nt=new Float64Array(this.columns-1),q=0;q<tt;q++)Nt[q]=this.data[It][q];for(var Rt=tt+1;Rt<this.columns;Rt++)Nt[Rt-1]=this.data[It][Rt];this.data[It]=Nt}return this.columns-=1,this}},{key:"addColumn",value:function(tt,It){It===void 0&&(It=tt,tt=this.columns),Fr(this,tt,!0),It=Gr(this,It);for(var Nt=0;Nt<this.rows;Nt++){for(var q=new Float64Array(this.columns+1),Rt=0;Rt<tt;Rt++)q[Rt]=this.data[Nt][Rt];for(q[Rt++]=It[Nt];Rt<this.columns+1;Rt++)q[Rt]=this.data[Nt][Rt-1];this.data[Nt]=q}return this.columns+=1,this}}]),T}(Xt);function Bn(et){return(Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(et)}function Zn(et,z){for(var T=0;T<z.length;T++){var F=z[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(et,F.key,F)}}function Kn(et,z){return(Kn=Object.setPrototypeOf||function(T,F){return T.__proto__=F,T})(et,z)}function $e(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=L(et);if(z){var tt=L(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return je(this,T)}}function je(et,z){return!z||Bn(z)!=="object"&&typeof z!="function"?function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(et):z}function L(et){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(et)}ce=yn,(Wt=Xt).prototype.add=function(et){return typeof et=="number"?this.addS(et):this.addM(et)},Wt.prototype.addS=function(et){for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)+et);return this},Wt.prototype.addM=function(et){if(et=ce.checkMatrix(et),this.rows!==et.rows||this.columns!==et.columns)throw new RangeError("Matrices dimensions must be equal");for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)+et.get(z,T));return this},Wt.add=function(et,z){return new ce(et).add(z)},Wt.prototype.sub=function(et){return typeof et=="number"?this.subS(et):this.subM(et)},Wt.prototype.subS=function(et){for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)-et);return this},Wt.prototype.subM=function(et){if(et=ce.checkMatrix(et),this.rows!==et.rows||this.columns!==et.columns)throw new RangeError("Matrices dimensions must be equal");for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)-et.get(z,T));return this},Wt.sub=function(et,z){return new ce(et).sub(z)},Wt.prototype.subtract=Wt.prototype.sub,Wt.prototype.subtractS=Wt.prototype.subS,Wt.prototype.subtractM=Wt.prototype.subM,Wt.subtract=Wt.sub,Wt.prototype.mul=function(et){return typeof et=="number"?this.mulS(et):this.mulM(et)},Wt.prototype.mulS=function(et){for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)*et);return this},Wt.prototype.mulM=function(et){if(et=ce.checkMatrix(et),this.rows!==et.rows||this.columns!==et.columns)throw new RangeError("Matrices dimensions must be equal");for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)*et.get(z,T));return this},Wt.mul=function(et,z){return new ce(et).mul(z)},Wt.prototype.multiply=Wt.prototype.mul,Wt.prototype.multiplyS=Wt.prototype.mulS,Wt.prototype.multiplyM=Wt.prototype.mulM,Wt.multiply=Wt.mul,Wt.prototype.div=function(et){return typeof et=="number"?this.divS(et):this.divM(et)},Wt.prototype.divS=function(et){for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)/et);return this},Wt.prototype.divM=function(et){if(et=ce.checkMatrix(et),this.rows!==et.rows||this.columns!==et.columns)throw new RangeError("Matrices dimensions must be equal");for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)/et.get(z,T));return this},Wt.div=function(et,z){return new ce(et).div(z)},Wt.prototype.divide=Wt.prototype.div,Wt.prototype.divideS=Wt.prototype.divS,Wt.prototype.divideM=Wt.prototype.divM,Wt.divide=Wt.div,Wt.prototype.mod=function(et){return typeof et=="number"?this.modS(et):this.modM(et)},Wt.prototype.modS=function(et){for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)%et);return this},Wt.prototype.modM=function(et){if(et=ce.checkMatrix(et),this.rows!==et.rows||this.columns!==et.columns)throw new RangeError("Matrices dimensions must be equal");for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)%et.get(z,T));return this},Wt.mod=function(et,z){return new ce(et).mod(z)},Wt.prototype.modulus=Wt.prototype.mod,Wt.prototype.modulusS=Wt.prototype.modS,Wt.prototype.modulusM=Wt.prototype.modM,Wt.modulus=Wt.mod,Wt.prototype.and=function(et){return typeof et=="number"?this.andS(et):this.andM(et)},Wt.prototype.andS=function(et){for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)&et);return this},Wt.prototype.andM=function(et){if(et=ce.checkMatrix(et),this.rows!==et.rows||this.columns!==et.columns)throw new RangeError("Matrices dimensions must be equal");for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)&et.get(z,T));return this},Wt.and=function(et,z){return new ce(et).and(z)},Wt.prototype.or=function(et){return typeof et=="number"?this.orS(et):this.orM(et)},Wt.prototype.orS=function(et){for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)|et);return this},Wt.prototype.orM=function(et){if(et=ce.checkMatrix(et),this.rows!==et.rows||this.columns!==et.columns)throw new RangeError("Matrices dimensions must be equal");for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)|et.get(z,T));return this},Wt.or=function(et,z){return new ce(et).or(z)},Wt.prototype.xor=function(et){return typeof et=="number"?this.xorS(et):this.xorM(et)},Wt.prototype.xorS=function(et){for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)^et);return this},Wt.prototype.xorM=function(et){if(et=ce.checkMatrix(et),this.rows!==et.rows||this.columns!==et.columns)throw new RangeError("Matrices dimensions must be equal");for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)^et.get(z,T));return this},Wt.xor=function(et,z){return new ce(et).xor(z)},Wt.prototype.leftShift=function(et){return typeof et=="number"?this.leftShiftS(et):this.leftShiftM(et)},Wt.prototype.leftShiftS=function(et){for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)<<et);return this},Wt.prototype.leftShiftM=function(et){if(et=ce.checkMatrix(et),this.rows!==et.rows||this.columns!==et.columns)throw new RangeError("Matrices dimensions must be equal");for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)<<et.get(z,T));return this},Wt.leftShift=function(et,z){return new ce(et).leftShift(z)},Wt.prototype.signPropagatingRightShift=function(et){return typeof et=="number"?this.signPropagatingRightShiftS(et):this.signPropagatingRightShiftM(et)},Wt.prototype.signPropagatingRightShiftS=function(et){for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)>>et);return this},Wt.prototype.signPropagatingRightShiftM=function(et){if(et=ce.checkMatrix(et),this.rows!==et.rows||this.columns!==et.columns)throw new RangeError("Matrices dimensions must be equal");for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)>>et.get(z,T));return this},Wt.signPropagatingRightShift=function(et,z){return new ce(et).signPropagatingRightShift(z)},Wt.prototype.rightShift=function(et){return typeof et=="number"?this.rightShiftS(et):this.rightShiftM(et)},Wt.prototype.rightShiftS=function(et){for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)>>>et);return this},Wt.prototype.rightShiftM=function(et){if(et=ce.checkMatrix(et),this.rows!==et.rows||this.columns!==et.columns)throw new RangeError("Matrices dimensions must be equal");for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,this.get(z,T)>>>et.get(z,T));return this},Wt.rightShift=function(et,z){return new ce(et).rightShift(z)},Wt.prototype.zeroFillRightShift=Wt.prototype.rightShift,Wt.prototype.zeroFillRightShiftS=Wt.prototype.rightShiftS,Wt.prototype.zeroFillRightShiftM=Wt.prototype.rightShiftM,Wt.zeroFillRightShift=Wt.rightShift,Wt.prototype.not=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,~this.get(et,z));return this},Wt.not=function(et){return new ce(et).not()},Wt.prototype.abs=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.abs(this.get(et,z)));return this},Wt.abs=function(et){return new ce(et).abs()},Wt.prototype.acos=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.acos(this.get(et,z)));return this},Wt.acos=function(et){return new ce(et).acos()},Wt.prototype.acosh=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.acosh(this.get(et,z)));return this},Wt.acosh=function(et){return new ce(et).acosh()},Wt.prototype.asin=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.asin(this.get(et,z)));return this},Wt.asin=function(et){return new ce(et).asin()},Wt.prototype.asinh=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.asinh(this.get(et,z)));return this},Wt.asinh=function(et){return new ce(et).asinh()},Wt.prototype.atan=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.atan(this.get(et,z)));return this},Wt.atan=function(et){return new ce(et).atan()},Wt.prototype.atanh=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.atanh(this.get(et,z)));return this},Wt.atanh=function(et){return new ce(et).atanh()},Wt.prototype.cbrt=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.cbrt(this.get(et,z)));return this},Wt.cbrt=function(et){return new ce(et).cbrt()},Wt.prototype.ceil=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.ceil(this.get(et,z)));return this},Wt.ceil=function(et){return new ce(et).ceil()},Wt.prototype.clz32=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.clz32(this.get(et,z)));return this},Wt.clz32=function(et){return new ce(et).clz32()},Wt.prototype.cos=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.cos(this.get(et,z)));return this},Wt.cos=function(et){return new ce(et).cos()},Wt.prototype.cosh=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.cosh(this.get(et,z)));return this},Wt.cosh=function(et){return new ce(et).cosh()},Wt.prototype.exp=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.exp(this.get(et,z)));return this},Wt.exp=function(et){return new ce(et).exp()},Wt.prototype.expm1=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.expm1(this.get(et,z)));return this},Wt.expm1=function(et){return new ce(et).expm1()},Wt.prototype.floor=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.floor(this.get(et,z)));return this},Wt.floor=function(et){return new ce(et).floor()},Wt.prototype.fround=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.fround(this.get(et,z)));return this},Wt.fround=function(et){return new ce(et).fround()},Wt.prototype.log=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.log(this.get(et,z)));return this},Wt.log=function(et){return new ce(et).log()},Wt.prototype.log1p=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.log1p(this.get(et,z)));return this},Wt.log1p=function(et){return new ce(et).log1p()},Wt.prototype.log10=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.log10(this.get(et,z)));return this},Wt.log10=function(et){return new ce(et).log10()},Wt.prototype.log2=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.log2(this.get(et,z)));return this},Wt.log2=function(et){return new ce(et).log2()},Wt.prototype.round=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.round(this.get(et,z)));return this},Wt.round=function(et){return new ce(et).round()},Wt.prototype.sign=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.sign(this.get(et,z)));return this},Wt.sign=function(et){return new ce(et).sign()},Wt.prototype.sin=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.sin(this.get(et,z)));return this},Wt.sin=function(et){return new ce(et).sin()},Wt.prototype.sinh=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.sinh(this.get(et,z)));return this},Wt.sinh=function(et){return new ce(et).sinh()},Wt.prototype.sqrt=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.sqrt(this.get(et,z)));return this},Wt.sqrt=function(et){return new ce(et).sqrt()},Wt.prototype.tan=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.tan(this.get(et,z)));return this},Wt.tan=function(et){return new ce(et).tan()},Wt.prototype.tanh=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.tanh(this.get(et,z)));return this},Wt.tanh=function(et){return new ce(et).tanh()},Wt.prototype.trunc=function(){for(var et=0;et<this.rows;et++)for(var z=0;z<this.columns;z++)this.set(et,z,Math.trunc(this.get(et,z)));return this},Wt.trunc=function(et){return new ce(et).trunc()},Wt.pow=function(et,z){return new ce(et).pow(z)},Wt.prototype.pow=function(et){return typeof et=="number"?this.powS(et):this.powM(et)},Wt.prototype.powS=function(et){for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,Math.pow(this.get(z,T),et));return this},Wt.prototype.powM=function(et){if(et=ce.checkMatrix(et),this.rows!==et.rows||this.columns!==et.columns)throw new RangeError("Matrices dimensions must be equal");for(var z=0;z<this.rows;z++)for(var T=0;T<this.columns;T++)this.set(z,T,Math.pow(this.get(z,T),et.get(z,T)));return this};var St=function(et){(function(Nt,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(q&&q.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),q&&Kn(Nt,q)})(It,et);var z,T,F,tt=$e(It);function It(Nt){var q;return function(Rt,Qt){if(!(Rt instanceof Qt))throw new TypeError("Cannot call a class as a function")}(this,It),(q=tt.call(this)).data=Nt,q.rows=Nt.length,q.columns=Nt[0].length,q}return z=It,(T=[{key:"set",value:function(q,Rt,Qt){return this.data[q][Rt]=Qt,this}},{key:"get",value:function(q,Rt){return this.data[q][Rt]}}])&&Zn(z.prototype,T),F&&Zn(z,F),It}(Xt);function $t(et,z){var T=0;return Math.abs(et)>Math.abs(z)?(T=z/et,Math.abs(et)*Math.sqrt(1+T*T)):z!==0?(T=et/z,Math.abs(z)*Math.sqrt(1+T*T)):0}function ye(et,z){if(!(et instanceof z))throw new TypeError("Cannot call a class as a function")}function Zt(et,z){for(var T=0;T<z.length;T++){var F=z[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(et,F.key,F)}}var de=function(){function et(tt){var It=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ye(this,et),(tt=St.checkMatrix(tt)).isEmpty())throw new Error("Matrix must be non-empty");var Nt,q=tt.rows,Rt=tt.columns,Qt=It.computeLeftSingularVectors,ee=Qt===void 0||Qt,xe=It.computeRightSingularVectors,Pe=xe===void 0||xe,He=It.autoTranspose,Be=He!==void 0&&He,Ke=Boolean(ee),Qe=Boolean(Pe),ze=!1;if(q<Rt)if(Be){q=(Nt=tt.transpose()).rows,Rt=Nt.columns,ze=!0;var en=Ke;Ke=Qe,Qe=en}else Nt=tt.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else Nt=tt.clone();for(var wn=Math.min(q,Rt),zn=Math.min(q+1,Rt),In=new Float64Array(zn),Xn=new yn(q,wn),cr=new yn(Rt,Rt),or=new Float64Array(Rt),lr=new Float64Array(q),Ar=new Float64Array(zn),Nr=0;Nr<zn;Nr++)Ar[Nr]=Nr;for(var Dr=Math.min(q-1,Rt),Tr=Math.max(0,Math.min(Rt-2,q)),Xr=Math.max(Dr,Tr),Ir=0;Ir<Xr;Ir++){if(Ir<Dr){In[Ir]=0;for(var vi=Ir;vi<q;vi++)In[Ir]=$t(In[Ir],Nt.get(vi,Ir));if(In[Ir]!==0){Nt.get(Ir,Ir)<0&&(In[Ir]=-In[Ir]);for(var bi=Ir;bi<q;bi++)Nt.set(bi,Ir,Nt.get(bi,Ir)/In[Ir]);Nt.set(Ir,Ir,Nt.get(Ir,Ir)+1)}In[Ir]=-In[Ir]}for(var Wi=Ir+1;Wi<Rt;Wi++){if(Ir<Dr&&In[Ir]!==0){for(var Jr=0,Li=Ir;Li<q;Li++)Jr+=Nt.get(Li,Ir)*Nt.get(Li,Wi);Jr=-Jr/Nt.get(Ir,Ir);for(var Hi=Ir;Hi<q;Hi++)Nt.set(Hi,Wi,Nt.get(Hi,Wi)+Jr*Nt.get(Hi,Ir))}or[Wi]=Nt.get(Ir,Wi)}if(Ke&&Ir<Dr)for(var qi=Ir;qi<q;qi++)Xn.set(qi,Ir,Nt.get(qi,Ir));if(Ir<Tr){or[Ir]=0;for(var xo=Ir+1;xo<Rt;xo++)or[Ir]=$t(or[Ir],or[xo]);if(or[Ir]!==0){or[Ir+1]<0&&(or[Ir]=0-or[Ir]);for(var oo=Ir+1;oo<Rt;oo++)or[oo]/=or[Ir];or[Ir+1]+=1}if(or[Ir]=-or[Ir],Ir+1<q&&or[Ir]!==0){for(var ta=Ir+1;ta<q;ta++)lr[ta]=0;for(var ga=Ir+1;ga<q;ga++)for(var ko=Ir+1;ko<Rt;ko++)lr[ga]+=or[ko]*Nt.get(ga,ko);for(var Wo=Ir+1;Wo<Rt;Wo++)for(var Cs=-or[Wo]/or[Ir+1],fs=Ir+1;fs<q;fs++)Nt.set(fs,Wo,Nt.get(fs,Wo)+Cs*lr[fs])}if(Qe)for(var zs=Ir+1;zs<Rt;zs++)cr.set(zs,Ir,or[zs])}}var To=Math.min(Rt,q+1);if(Dr<Rt&&(In[Dr]=Nt.get(Dr,Dr)),q<To&&(In[To-1]=0),Tr+1<To&&(or[Tr]=Nt.get(Tr,To-1)),or[To-1]=0,Ke){for(var Wc=Dr;Wc<wn;Wc++){for(var md=0;md<q;md++)Xn.set(md,Wc,0);Xn.set(Wc,Wc,1)}for(var Uo=Dr-1;Uo>=0;Uo--)if(In[Uo]!==0){for(var Yc=Uo+1;Yc<wn;Yc++){for(var fh=0,hh=Uo;hh<q;hh++)fh+=Xn.get(hh,Uo)*Xn.get(hh,Yc);fh=-fh/Xn.get(Uo,Uo);for(var Xc=Uo;Xc<q;Xc++)Xn.set(Xc,Yc,Xn.get(Xc,Yc)+fh*Xn.get(Xc,Uo))}for(var dh=Uo;dh<q;dh++)Xn.set(dh,Uo,-Xn.get(dh,Uo));Xn.set(Uo,Uo,1+Xn.get(Uo,Uo));for(var yd=0;yd<Uo-1;yd++)Xn.set(yd,Uo,0)}else{for(var bd=0;bd<q;bd++)Xn.set(bd,Uo,0);Xn.set(Uo,Uo,1)}}if(Qe)for(var as=Rt-1;as>=0;as--){if(as<Tr&&or[as]!==0)for(var Hc=as+1;Hc<Rt;Hc++){for(var vh=0,ph=as+1;ph<Rt;ph++)vh+=cr.get(ph,as)*cr.get(ph,Hc);vh=-vh/cr.get(as+1,as);for(var Kc=as+1;Kc<Rt;Kc++)cr.set(Kc,Hc,cr.get(Kc,Hc)+vh*cr.get(Kc,as))}for(var xd=0;xd<Rt;xd++)cr.set(xd,as,0);cr.set(as,as,1)}for(var Id=To-1,Pd=Number.EPSILON;To>0;){var la=void 0,Jc=void 0;for(la=To-2;la>=-1&&la!==-1;la--){var Rd=Number.MIN_VALUE+Pd*Math.abs(In[la]+Math.abs(In[la+1]));if(Math.abs(or[la])<=Rd||Number.isNaN(or[la])){or[la]=0;break}}if(la===To-2)Jc=4;else{var hs=void 0;for(hs=To-1;hs>=la&&hs!==la;hs--){var kd=(hs!==To?Math.abs(or[hs]):0)+(hs!==la+1?Math.abs(or[hs-1]):0);if(Math.abs(In[hs])<=Pd*kd){In[hs]=0;break}}hs===la?Jc=3:hs===To-1?Jc=1:(Jc=2,la=hs)}switch(la++,Jc){case 1:var Od=or[To-2];or[To-2]=0;for(var bs=To-2;bs>=la;bs--){var Qc=$t(In[bs],Od),Sd=In[bs]/Qc,Ed=Od/Qc;if(In[bs]=Qc,bs!==la&&(Od=-Ed*or[bs-1],or[bs-1]=Sd*or[bs-1]),Qe)for(var uu=0;uu<Rt;uu++)Qc=Sd*cr.get(uu,bs)+Ed*cr.get(uu,To-1),cr.set(uu,To-1,-Ed*cr.get(uu,bs)+Sd*cr.get(uu,To-1)),cr.set(uu,bs,Qc)}break;case 2:var wd=or[la-1];or[la-1]=0;for(var Ms=la;Ms<To;Ms++){var Zc=$t(In[Ms],wd),Cd=In[Ms]/Zc,Md=wd/Zc;if(In[Ms]=Zc,wd=-Md*or[Ms],or[Ms]=Cd*or[Ms],Ke)for(var cu=0;cu<q;cu++)Zc=Cd*Xn.get(cu,Ms)+Md*Xn.get(cu,la-1),Xn.set(cu,la-1,-Md*Xn.get(cu,Ms)+Cd*Xn.get(cu,la-1)),Xn.set(cu,Ms,Zc)}break;case 3:var $c=Math.max(Math.abs(In[To-1]),Math.abs(In[To-2]),Math.abs(or[To-2]),Math.abs(In[la]),Math.abs(or[la])),cc=In[To-1]/$c,Dd=In[To-2]/$c,gh=or[To-2]/$c,Ad=In[la]/$c,Nd=or[la]/$c,Ru=((Dd+cc)*(Dd-cc)+gh*gh)/2,mh=cc*gh*(cc*gh),Td=0;Ru===0&&mh===0||(Td=mh/(Ru+(Td=Ru<0?0-Math.sqrt(Ru*Ru+mh):Math.sqrt(Ru*Ru+mh))));for(var ku=(Ad+cc)*(Ad-cc)+Td,lc=Ad*Nd,lo=la;lo<To-1;lo++){var os=$t(ku,lc);os===0&&(os=Number.MIN_VALUE);var As=ku/os,Ts=lc/os;if(lo!==la&&(or[lo-1]=os),ku=As*In[lo]+Ts*or[lo],or[lo]=As*or[lo]-Ts*In[lo],lc=Ts*In[lo+1],In[lo+1]=As*In[lo+1],Qe)for(var lu=0;lu<Rt;lu++)os=As*cr.get(lu,lo)+Ts*cr.get(lu,lo+1),cr.set(lu,lo+1,-Ts*cr.get(lu,lo)+As*cr.get(lu,lo+1)),cr.set(lu,lo,os);if((os=$t(ku,lc))===0&&(os=Number.MIN_VALUE),As=ku/os,Ts=lc/os,In[lo]=os,ku=As*or[lo]+Ts*In[lo+1],In[lo+1]=-Ts*or[lo]+As*In[lo+1],lc=Ts*or[lo+1],or[lo+1]=As*or[lo+1],Ke&&lo<q-1)for(var fu=0;fu<q;fu++)os=As*Xn.get(fu,lo)+Ts*Xn.get(fu,lo+1),Xn.set(fu,lo+1,-Ts*Xn.get(fu,lo)+As*Xn.get(fu,lo+1)),Xn.set(fu,lo,os)}or[To-2]=ku;break;case 4:if(In[la]<=0&&(In[la]=In[la]<0?-In[la]:0,Qe))for(var yh=0;yh<=Id;yh++)cr.set(yh,la,-cr.get(yh,la));for(;la<Id&&!(In[la]>=In[la+1]);){var qc=In[la];if(In[la]=In[la+1],In[la+1]=qc,Qe&&la<Rt-1)for(var fc=0;fc<Rt;fc++)qc=cr.get(fc,la+1),cr.set(fc,la+1,cr.get(fc,la)),cr.set(fc,la,qc);if(Ke&&la<q-1)for(var hc=0;hc<q;hc++)qc=Xn.get(hc,la+1),Xn.set(hc,la+1,Xn.get(hc,la)),Xn.set(hc,la,qc);la++}To--}}if(ze){var Ld=cr;cr=Xn,Xn=Ld}this.m=q,this.n=Rt,this.s=In,this.U=Xn,this.V=cr}var z,T,F;return z=et,(T=[{key:"solve",value:function(It){for(var Nt=It,q=this.threshold,Rt=this.s.length,Qt=yn.zeros(Rt,Rt),ee=0;ee<Rt;ee++)Math.abs(this.s[ee])<=q?Qt.set(ee,ee,0):Qt.set(ee,ee,1/this.s[ee]);for(var xe=this.U,Pe=this.rightSingularVectors,He=Pe.mmul(Qt),Be=Pe.rows,Ke=xe.rows,Qe=yn.zeros(Be,Ke),ze=0;ze<Be;ze++)for(var en=0;en<Ke;en++){for(var wn=0,zn=0;zn<Rt;zn++)wn+=He.get(ze,zn)*xe.get(en,zn);Qe.set(ze,en,wn)}return Qe.mmul(Nt)}},{key:"solveForDiagonal",value:function(It){return this.solve(yn.diag(It))}},{key:"inverse",value:function(){for(var It=this.V,Nt=this.threshold,q=It.rows,Rt=It.columns,Qt=new yn(q,this.s.length),ee=0;ee<q;ee++)for(var xe=0;xe<Rt;xe++)Math.abs(this.s[xe])>Nt&&Qt.set(ee,xe,It.get(ee,xe)/this.s[xe]);for(var Pe=this.U,He=Pe.rows,Be=Pe.columns,Ke=new yn(q,He),Qe=0;Qe<q;Qe++)for(var ze=0;ze<He;ze++){for(var en=0,wn=0;wn<Be;wn++)en+=Qt.get(Qe,wn)*Pe.get(ze,wn);Ke.set(Qe,ze,en)}return Ke}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var It=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,Nt=0,q=this.s,Rt=0,Qt=q.length;Rt<Qt;Rt++)q[Rt]>It&&Nt++;return Nt}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return yn.diag(this.s)}}])&&Zt(z.prototype,T),F&&Zt(z,F),et}();function he(et,z){for(var T=0;T<z.length;T++){var F=z[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(et,F.key,F)}}var le=function(){function et(tt){(function(It,Nt){if(!(It instanceof Nt))throw new TypeError("Cannot call a class as a function")})(this,et),this.distances=tt.distances,this.dimension=tt.dimension||2,this.linkDistance=tt.linkDistance}var z,T,F;return z=et,(T=[{key:"layout",value:function(){var It=this.dimension,Nt=this.distances,q=this.linkDistance;try{var Rt=yn.mul(yn.pow(Nt,2),-.5),Qt=Rt.mean("row"),ee=Rt.mean("column"),xe=Rt.mean();Rt.add(xe).subRowVector(Qt).subColumnVector(ee);var Pe=new de(Rt),He=yn.sqrt(Pe.diagonalMatrix).diagonal();return Pe.leftSingularVectors.toJSON().map(function(en){return yn.mul([en],[He]).toJSON()[0].splice(0,It)})}catch(en){for(var Be=[],Ke=0;Ke<Nt.length;Ke++){var Qe=Math.random()*q,ze=Math.random()*q;Be.push([Qe,ze])}return Be}}}])&&he(z.prototype,T),F&&he(z,F),et}();function Me(et,z){for(var T=0;T<z.length;T++){var F=z[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(et,F.key,F)}}var We=function(){function et(tt){(function(It,Nt){if(!(It instanceof Nt))throw new TypeError("Cannot call a class as a function")})(this,et),this.disp=[],this.positions=tt.positions,this.adjMatrix=tt.adjMatrix,this.focusID=tt.focusID,this.radii=tt.radii,this.iterations=tt.iterations||10,this.height=tt.height||10,this.width=tt.width||10,this.speed=tt.speed||100,this.gravity=tt.gravity||10,this.nodeSizeFunc=tt.nodeSizeFunc,this.k=tt.k||5,this.strictRadial=tt.strictRadial,this.nodes=tt.nodes}var z,T,F;return z=et,(T=[{key:"layout",value:function(){var It=this.positions,Nt=[],q=this.iterations,Rt=this.width/10;this.maxDisplace=Rt,this.disp=Nt;for(var Qt=0;Qt<q;Qt++)It.forEach(function(ee,xe){Nt[xe]={x:0,y:0}}),this.getRepulsion(),this.updatePositions();return It}},{key:"getRepulsion",value:function(){var It=this,Nt=It.positions,q=It.nodes,Rt=It.disp,Qt=It.k,ee=It.radii||[];Nt.forEach(function(xe,Pe){Rt[Pe]={x:0,y:0},Nt.forEach(function(He,Be){if(Pe!==Be&&ee[Pe]===ee[Be]){var Ke=xe[0]-He[0],Qe=xe[1]-He[1],ze=Math.sqrt(Ke*Ke+Qe*Qe);if(ze===0){ze=1;var en=Pe>Be?1:-1;Ke=.01*en,Qe=.01*en}if(ze<It.nodeSizeFunc(q[Pe])/2+It.nodeSizeFunc(q[Be])/2){var wn=Qt*Qt/ze;Rt[Pe].x+=Ke/ze*wn,Rt[Pe].y+=Qe/ze*wn}}})})}},{key:"updatePositions",value:function(){var It=this.positions,Nt=this.disp,q=this.speed,Rt=this.strictRadial,Qt=this.focusID,ee=this.maxDisplace||this.width/10;Rt&&Nt.forEach(function(Pe,He){var Be=It[He][0]-It[Qt][0],Ke=It[He][1]-It[Qt][1],Qe=Math.sqrt(Be*Be+Ke*Ke),ze=Ke/Qe,en=-Be/Qe,wn=Math.sqrt(Pe.x*Pe.x+Pe.y*Pe.y),zn=Math.acos((ze*Pe.x+en*Pe.y)/wn);zn>Math.PI/2&&(zn-=Math.PI/2,ze*=-1,en*=-1);var In=Math.cos(zn)*wn;Pe.x=ze*In,Pe.y=en*In});var xe=this.radii;It.forEach(function(Pe,He){if(He!==Qt){var Be=Math.sqrt(Nt[He].x*Nt[He].x+Nt[He].y*Nt[He].y);if(Be>0&&He!==Qt){var Ke=Math.min(ee*(q/800),Be);if(Pe[0]+=Nt[He].x/Be*Ke,Pe[1]+=Nt[He].y/Be*Ke,Rt){var Qe=Pe[0]-It[Qt][0],ze=Pe[1]-It[Qt][1],en=Math.sqrt(Qe*Qe+ze*ze);Qe=Qe/en*xe[He],ze=ze/en*xe[He],Pe[0]=It[Qt][0]+Qe,Pe[1]=It[Qt][1]+ze}}}})}}])&&Me(z.prototype,T),F&&Me(z,F),et}();function Ye(et){return(Ye=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(et)}function ke(et){return function(z){if(Array.isArray(z))return nn(z)}(et)||function(z){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(z))return Array.from(z)}(et)||function(z,T){if(!!z){if(typeof z=="string")return nn(z,T);var F=Object.prototype.toString.call(z).slice(8,-1);if(F==="Object"&&z.constructor&&(F=z.constructor.name),F==="Map"||F==="Set")return Array.from(z);if(F==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return nn(z,T)}}(et)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nn(et,z){(z==null||z>et.length)&&(z=et.length);for(var T=0,F=new Array(z);T<z;T++)F[T]=et[T];return F}function Re(et,z){for(var T=0;T<z.length;T++){var F=z[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(et,F.key,F)}}function hn(et,z){return(hn=Object.setPrototypeOf||function(T,F){return T.__proto__=F,T})(et,z)}function pn(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=mn(et);if(z){var tt=mn(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return on(this,T)}}function on(et,z){return!z||Ye(z)!=="object"&&typeof z!="function"?function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(et):z}function mn(et){return(mn=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(et)}function jn(et,z){return Math.sqrt((et[0]-z[0])*(et[0]-z[0])+(et[1]-z[1])*(et[1]-z[1]))}var Ie=function(et){(function(Nt,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(q&&q.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),q&&hn(Nt,q)})(It,et);var z,T,F,tt=pn(It);function It(Nt){var q;return function(Rt,Qt){if(!(Rt instanceof Qt))throw new TypeError("Cannot call a class as a function")}(this,It),(q=tt.call(this)).maxIteration=1e3,q.focusNode=null,q.unitRadius=null,q.linkDistance=50,q.preventOverlap=!1,q.strictRadial=!0,q.maxPreventOverlapIteration=200,q.sortStrength=10,q.nodes=[],q.edges=[],q.updateCfg(Nt),q}return z=It,(T=[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}}},{key:"execute",value:function(){var q=this,Rt=q.nodes,Qt=q.edges||[];if(Rt&&Rt.length!==0){q.width||typeof window=="undefined"||(q.width=window.innerWidth),q.height||typeof window=="undefined"||(q.height=window.innerHeight),q.center||(q.center=[q.width/2,q.height/2]);var ee=q.center;if(Rt.length===1)return Rt[0].x=ee[0],Rt[0].y=ee[1],void(q.onLayoutEnd&&q.onLayoutEnd());var xe=q.linkDistance,Pe=null;if(g(q.focusNode)){for(var He=!1,Be=0;Be<Rt.length;Be++)Rt[Be].id===q.focusNode&&(Pe=Rt[Be],q.focusNode=Pe,He=!0,Be=Rt.length);He||(Pe=null)}else Pe=q.focusNode;Pe||(Pe=Rt[0],q.focusNode=Pe);var Ke,Qe,ze,en=(Ke=Rt,Qe=Pe.id,ze=-1,Ke.forEach(function(ta,ga){ta.id===Qe&&(ze=ga)}),ze);q.focusIndex=en;var wn=s({nodes:Rt,edges:Qt},!1),zn=r(wn),In=q.maxToFocus(zn,en);q.handleInfinity(zn,en,In+1),q.distances=zn;var Xn=zn[en],cr=q.width||500,or=q.height||500,lr=cr-ee[0]>ee[0]?ee[0]:cr-ee[0],Ar=or-ee[1]>ee[1]?ee[1]:or-ee[1];lr===0&&(lr=cr/2),Ar===0&&(Ar=or/2);var Nr=Ar>lr?lr:Ar,Dr=Math.max.apply(Math,ke(Xn)),Tr=[];Xn.forEach(function(ta,ga){q.unitRadius||(q.unitRadius=Nr/Dr),Tr[ga]=ta*q.unitRadius}),q.radii=Tr;var Xr=q.eIdealDisMatrix();q.eIdealDistances=Xr;var Ir=function(ta){for(var ga=ta.length,ko=ta[0].length,Wo=[],Cs=0;Cs<ga;Cs++){for(var fs=[],zs=0;zs<ko;zs++)ta[Cs][zs]!==0?fs.push(1/(ta[Cs][zs]*ta[Cs][zs])):fs.push(0);Wo.push(fs)}return Wo}(Xr);q.weights=Ir;var vi=new le({linkDistance:xe,distances:Xr}).layout();vi.forEach(function(ta){I(ta[0])&&(ta[0]=Math.random()*xe),I(ta[1])&&(ta[1]=Math.random()*xe)}),q.positions=vi,vi.forEach(function(ta,ga){Rt[ga].x=ta[0]+ee[0],Rt[ga].y=ta[1]+ee[1]}),vi.forEach(function(ta){ta[0]-=vi[en][0],ta[1]-=vi[en][1]}),q.run();var bi,Wi=q.preventOverlap,Jr=q.nodeSize,Li=q.strictRadial;if(Wi){var Hi,qi=q.nodeSpacing;Hi=w(qi)?function(){return qi}:A(qi)?qi:function(){return 0},bi=Jr?c(Jr)?function(ta){return(Jr[0]>Jr[1]?Jr[0]:Jr[1])+Hi(ta)}:function(ta){return Jr+Hi(ta)}:function(ta){return ta.size?c(ta.size)?(ta.size[0]>ta.size[1]?ta.size[0]:ta.size[1])+Hi(ta):ta.size+Hi(ta):10+Hi(ta)};var xo={nodes:Rt,nodeSizeFunc:bi,adjMatrix:wn,positions:vi,radii:Tr,height:or,width:cr,strictRadial:Li,focusID:en,iterations:q.maxPreventOverlapIteration||200,k:vi.length/4.5},oo=new We(xo);vi=oo.layout()}return vi.forEach(function(ta,ga){Rt[ga].x=ta[0]+ee[0],Rt[ga].y=ta[1]+ee[1]}),q.onLayoutEnd&&q.onLayoutEnd(),{nodes:Rt,edges:Qt}}q.onLayoutEnd&&q.onLayoutEnd()}},{key:"run",value:function(){for(var q=this.maxIteration,Rt=this.positions||[],Qt=this.weights||[],ee=this.eIdealDistances||[],xe=this.radii||[],Pe=0;Pe<=q;Pe++){var He=Pe/q;this.oneIteration(He,Rt,xe,ee,Qt)}}},{key:"oneIteration",value:function(q,Rt,Qt,ee,xe){var Pe=1-q,He=this.focusIndex;Rt.forEach(function(Be,Ke){var Qe=jn(Be,[0,0]),ze=Qe===0?0:1/Qe;if(Ke!==He){var en=0,wn=0,zn=0;Rt.forEach(function(Xn,cr){if(Ke!==cr){var or=jn(Be,Xn),lr=or===0?0:1/or,Ar=ee[cr][Ke];zn+=xe[Ke][cr],en+=xe[Ke][cr]*(Xn[0]+Ar*(Be[0]-Xn[0])*lr),wn+=xe[Ke][cr]*(Xn[1]+Ar*(Be[1]-Xn[1])*lr)}});var In=Qt[Ke]===0?0:1/Qt[Ke];zn*=Pe,zn+=q*In*In,en*=Pe,en+=q*In*Be[0]*ze,Be[0]=en/zn,wn*=Pe,wn+=q*In*Be[1]*ze,Be[1]=wn/zn}})}},{key:"eIdealDisMatrix",value:function(){var q=this,Rt=q.nodes;if(!Rt)return[];var Qt=q.distances,ee=q.linkDistance,xe=q.radii||[],Pe=q.unitRadius||50,He=[];return Qt&&Qt.forEach(function(Be,Ke){var Qe=[];Be.forEach(function(ze,en){if(Ke===en)Qe.push(0);else if(xe[Ke]===xe[en])if(q.sortBy==="data")Qe.push(ze*(Math.abs(Ke-en)*q.sortStrength)/(xe[Ke]/Pe));else if(q.sortBy){var wn=Rt[Ke][q.sortBy]||0,zn=Rt[en][q.sortBy]||0;g(wn)&&(wn=wn.charCodeAt(0)),g(zn)&&(zn=zn.charCodeAt(0)),Qe.push(ze*(Math.abs(wn-zn)*q.sortStrength)/(xe[Ke]/Pe))}else Qe.push(ze*ee/(xe[Ke]/Pe));else{var In=(ee+Pe)/2;Qe.push(ze*In)}}),He.push(Qe)}),He}},{key:"handleInfinity",value:function(q,Rt,Qt){for(var ee=q.length,xe=0;xe<ee;xe++)if(q[Rt][xe]===1/0){q[Rt][xe]=Qt,q[xe][Rt]=Qt;for(var Pe=0;Pe<ee;Pe++)q[xe][Pe]!==1/0&&q[Rt][Pe]===1/0&&(q[Rt][Pe]=Qt+q[xe][Pe],q[Pe][Rt]=Qt+q[xe][Pe])}for(var He=0;He<ee;He++)if(He!==Rt){for(var Be=0;Be<ee;Be++)if(q[He][Be]===1/0){var Ke=Math.abs(q[Rt][He]-q[Rt][Be]);Ke=Ke===0?1:Ke,q[He][Be]=Ke}}}},{key:"maxToFocus",value:function(q,Rt){for(var Qt=0,ee=0;ee<q[Rt].length;ee++)q[Rt][ee]!==1/0&&(Qt=q[Rt][ee]>Qt?q[Rt][ee]:Qt);return Qt}},{key:"getType",value:function(){return"radial"}}])&&Re(z.prototype,T),F&&Re(z,F),It}(O);function fe(et){return(fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(et)}function Ne(et,z){return(Ne=Object.setPrototypeOf||function(T,F){return T.__proto__=F,T})(et,z)}function Fe(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=_e(et);if(z){var tt=_e(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return rn(this,T)}}function rn(et,z){return!z||fe(z)!=="object"&&typeof z!="function"?ln(et):z}function ln(et){if(et===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et}function _e(et){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(et)}var dn=new Map,En=function(z,T){if(dn.get(z)&&console.warn("The layout with the name ".concat(z," exists already, it will be overridden")),(tt=T)!==null&&C(tt)==="object"){var F=function(It){(function(Rt,Qt){if(typeof Qt!="function"&&Qt!==null)throw new TypeError("Super expression must either be null or a function");Rt.prototype=Object.create(Qt&&Qt.prototype,{constructor:{value:Rt,writable:!0,configurable:!0}}),Qt&&Ne(Rt,Qt)})(q,It);var Nt=Fe(q);function q(Rt){var Qt;(function(He,Be){if(!(He instanceof Be))throw new TypeError("Cannot call a class as a function")})(this,q);var ee=ln(Qt=Nt.call(this)),xe={},Pe=ee.getDefaultCfg();return Object.assign(xe,Pe,T,Rt),Object.keys(xe).forEach(function(He){var Be=xe[He];ee[He]=Be}),Qt}return q}(O);dn.set(z,F)}else dn.set(z,T);var tt},tr=function(z){return dn.has(z)?dn.get(z):null};function Pn(et){return(Pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(et)}function Fn(et,z){for(var T=0;T<z.length;T++){var F=z[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(et,F.key,F)}}function Cr(et,z){return(Cr=Object.setPrototypeOf||function(T,F){return T.__proto__=F,T})(et,z)}function fi(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=zr(et);if(z){var tt=zr(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return ri(this,T)}}function ri(et,z){return!z||Pn(z)!=="object"&&typeof z!="function"?function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(et):z}function zr(et){return(zr=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(et)}var wi=function(et){(function(Nt,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(q&&q.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),q&&Cr(Nt,q)})(It,et);var z,T,F,tt=fi(It);function It(Nt){var q;return function(Rt,Qt){if(!(Rt instanceof Qt))throw new TypeError("Cannot call a class as a function")}(this,It),(q=tt.call(this)).nodeSize=30,q.minNodeSpacing=10,q.preventOverlap=!1,q.equidistant=!1,q.startAngle=1.5*Math.PI,q.clockwise=!0,q.sortBy="degree",q.nodes=[],q.edges=[],q.width=300,q.height=300,q.onLayoutEnd=function(){},q.updateCfg(Nt),q}return z=It,(T=[{key:"getDefaultCfg",value:function(){return{nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}}},{key:"execute",value:function(){var q=this,Rt=q.nodes,Qt=q.edges,ee=Rt.length;if(ee!==0){q.width||typeof window=="undefined"||(q.width=window.innerWidth),q.height||typeof window=="undefined"||(q.height=window.innerHeight),q.center||(q.center=[q.width/2,q.height/2]);var xe=q.center;if(ee===1)return Rt[0].x=xe[0],Rt[0].y=xe[1],void(q.onLayoutEnd&&q.onLayoutEnd());var Pe,He=[];Pe=c(q.nodeSize)?Math.max(q.nodeSize[0],q.nodeSize[1]):q.nodeSize,Rt.forEach(function(Nr){He.push(Nr);var Dr=Pe;c(Nr.size)?Dr=Math.max(Nr.size[0],Nr.size[1]):w(Nr.size)&&(Dr=Nr.size),Pe=Math.max(Pe,Dr)}),q.clockwise=q.counterclockwise!==void 0?!q.counterclockwise:q.clockwise;var Be={},Ke={};if(He.forEach(function(Nr,Dr){Be[Nr.id]=Nr,Ke[Nr.id]=Dr}),!(q.sortBy!=="degree"&&g(q.sortBy)&&He[0][q.sortBy]!==void 0||(q.sortBy="degree",w(Rt[0].degree)))){var Qe=m(Rt.length,Ke,Qt);He.forEach(function(Nr,Dr){Nr.degree=Qe[Dr]})}He.sort(function(Nr,Dr){return Dr[q.sortBy]-Nr[q.sortBy]}),q.maxValueNode=He[0],q.maxLevelDiff=q.maxLevelDiff||q.maxValueNode[q.sortBy]/4;var ze=[[]],en=ze[0];He.forEach(function(Nr){if(en.length>0){var Dr=Math.abs(en[0][q.sortBy]-Nr[q.sortBy]);q.maxLevelDiff&&Dr>=q.maxLevelDiff&&(en=[],ze.push(en))}en.push(Nr)});var wn=Pe+q.minNodeSpacing;if(!q.preventOverlap){var zn=ze.length>0&&ze[0].length>1,In=(Math.min(q.width,q.height)/2-wn)/(ze.length+(zn?1:0));wn=Math.min(wn,In)}var Xn=0;if(ze.forEach(function(Nr){var Dr=q.sweep;Dr===void 0&&(Dr=2*Math.PI-2*Math.PI/Nr.length);var Tr=Nr.dTheta=Dr/Math.max(1,Nr.length-1);if(Nr.length>1&&q.preventOverlap){var Xr=Math.cos(Tr)-Math.cos(0),Ir=Math.sin(Tr)-Math.sin(0),vi=Math.sqrt(wn*wn/(Xr*Xr+Ir*Ir));Xn=Math.max(vi,Xn)}Nr.r=Xn,Xn+=wn}),q.equidistant){for(var cr=0,or=0,lr=0;lr<ze.length;lr++){var Ar=ze[lr].r-or;cr=Math.max(cr,Ar)}or=0,ze.forEach(function(Nr,Dr){Dr===0&&(or=Nr.r),Nr.r=or,or+=cr})}return ze.forEach(function(Nr){var Dr=Nr.dTheta,Tr=Nr.r;Nr.forEach(function(Xr,Ir){var vi=q.startAngle+(q.clockwise?1:-1)*Dr*Ir;Xr.x=xe[0]+Tr*Math.cos(vi),Xr.y=xe[1]+Tr*Math.sin(vi)})}),q.onLayoutEnd&&q.onLayoutEnd(),{nodes:Rt,edges:Qt}}q.onLayoutEnd&&q.onLayoutEnd()}},{key:"getType",value:function(){return"concentric"}}])&&Fn(z.prototype,T),F&&Fn(z,F),It}(O);function Ai(et){return(Ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(et)}function gi(et,z){for(var T=0;T<z.length;T++){var F=z[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(et,F.key,F)}}function Oa(et,z){return(Oa=Object.setPrototypeOf||function(T,F){return T.__proto__=F,T})(et,z)}function Aa(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=Fo(et);if(z){var tt=Fo(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return Oo(this,T)}}function Oo(et,z){return!z||Ai(z)!=="object"&&typeof z!="function"?function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(et):z}function Fo(et){return(Fo=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(et)}var Yo=function(et){(function(Nt,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(q&&q.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),q&&Oa(Nt,q)})(It,et);var z,T,F,tt=Aa(It);function It(Nt){var q;return function(Rt,Qt){if(!(Rt instanceof Qt))throw new TypeError("Cannot call a class as a function")}(this,It),(q=tt.call(this)).center=[0,0],q.linkDistance=50,q.nodes=[],q.edges=[],q.onLayoutEnd=function(){},q.updateCfg(Nt),q}return z=It,(T=[{key:"getDefaultCfg",value:function(){return{center:[0,0],linkDistance:50}}},{key:"execute",value:function(){var q=this.nodes,Rt=this.edges,Qt=Rt===void 0?[]:Rt,ee=this.center;if(q&&q.length!==0){if(q.length===1)return q[0].x=ee[0],q[0].y=ee[1],void(this.onLayoutEnd&&this.onLayoutEnd());var xe=this.linkDistance,Pe=s({nodes:q,edges:Qt},!1),He=r(Pe);this.handleInfinity(He);var Be,Ke,Qe=(Be=xe,Ke=[],He.forEach(function(en){var wn=[];en.forEach(function(zn){wn.push(zn*Be)}),Ke.push(wn)}),Ke);this.scaledDistances=Qe;var ze=this.runMDS();return this.positions=ze,ze.forEach(function(en,wn){q[wn].x=en[0]+ee[0],q[wn].y=en[1]+ee[1]}),this.onLayoutEnd&&this.onLayoutEnd(),{nodes:q,edges:Qt}}this.onLayoutEnd&&this.onLayoutEnd()}},{key:"runMDS",value:function(){var q=this.scaledDistances,Rt=yn.mul(yn.pow(q,2),-.5),Qt=Rt.mean("row"),ee=Rt.mean("column"),xe=Rt.mean();Rt.add(xe).subRowVector(Qt).subColumnVector(ee);var Pe=new de(Rt),He=yn.sqrt(Pe.diagonalMatrix).diagonal();return Pe.leftSingularVectors.toJSON().map(function(Be){return yn.mul([Be],[He]).toJSON()[0].splice(0,2)})}},{key:"handleInfinity",value:function(q){var Rt=-999999;q.forEach(function(Qt){Qt.forEach(function(ee){ee!==1/0&&Rt<ee&&(Rt=ee)})}),q.forEach(function(Qt,ee){Qt.forEach(function(xe,Pe){xe===1/0&&(q[ee][Pe]=Rt)})})}},{key:"getType",value:function(){return"mds"}}])&&gi(z.prototype,T),F&&gi(z,F),It}(O);function De(et){return(De=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(et)}function an(et,z){for(var T=0;T<z.length;T++){var F=z[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(et,F.key,F)}}function Mn(et,z){return(Mn=Object.setPrototypeOf||function(T,F){return T.__proto__=F,T})(et,z)}function xn(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=Yn(et);if(z){var tt=Yn(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return bn(this,T)}}function bn(et,z){return!z||De(z)!=="object"&&typeof z!="function"?function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(et):z}function Yn(et){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(et)}var Jn=function(et){(function(Nt,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(q&&q.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),q&&Mn(Nt,q)})(It,et);var z,T,F,tt=xn(It);function It(Nt){var q;return function(Rt,Qt){if(!(Rt instanceof Qt))throw new TypeError("Cannot call a class as a function")}(this,It),(q=tt.call(this)).maxIteration=1e3,q.gravity=10,q.speed=1,q.clustering=!1,q.clusterGravity=10,q.nodes=[],q.edges=[],q.width=300,q.height=300,q.nodeMap={},q.nodeIdxMap={},q.onLayoutEnd=function(){},q.updateCfg(Nt),q}return z=It,(T=[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){var q=this,Rt=this.nodes;if(Rt&&Rt.length!==0){this.width||typeof window=="undefined"||(this.width=window.innerWidth),this.height||typeof window=="undefined"||(this.height=window.innerHeight),this.center||(this.center=[this.width/2,this.height/2]);var Qt=this.center;if(Rt.length===1)return Rt[0].x=Qt[0],Rt[0].y=Qt[1],void(this.onLayoutEnd&&this.onLayoutEnd());var ee={},xe={};return Rt.forEach(function(Pe,He){w(Pe.x)||(Pe.x=Math.random()*q.width),w(Pe.y)||(Pe.y=Math.random()*q.height),ee[Pe.id]=Pe,xe[Pe.id]=He}),this.nodeMap=ee,this.nodeIdxMap=xe,this.run()}this.onLayoutEnd&&this.onLayoutEnd()}},{key:"run",value:function(){var q=this,Rt=q.nodes,Qt=q.edges,ee=q.maxIteration,xe=q.center,Pe=q.height*q.width,He=Math.sqrt(Pe)/10,Be=Pe/(Rt.length+1),Ke=Math.sqrt(Be),Qe=q.gravity,ze=q.speed,en=q.clustering,wn={};if(en)for(var zn in Rt.forEach(function(cr){if(wn[cr.cluster]===void 0){var or={name:cr.cluster,cx:0,cy:0,count:0};wn[cr.cluster]=or}var lr=wn[cr.cluster];w(cr.x)&&(lr.cx+=cr.x),w(cr.y)&&(lr.cy+=cr.y),lr.count++}),wn)wn[zn].cx/=wn[zn].count,wn[zn].cy/=wn[zn].count;for(var In=function(or){var lr=[];if(Rt.forEach(function(Tr,Xr){lr[Xr]={x:0,y:0}}),q.applyCalculate(Rt,Qt,lr,Ke,Be),en){var Ar=q.clusterGravity||Qe;for(var Nr in Rt.forEach(function(Tr,Xr){if(w(Tr.x)&&w(Tr.y)){var Ir=wn[Tr.cluster],vi=Math.sqrt((Tr.x-Ir.cx)*(Tr.x-Ir.cx)+(Tr.y-Ir.cy)*(Tr.y-Ir.cy)),bi=Ke*Ar;lr[Xr].x-=bi*(Tr.x-Ir.cx)/vi,lr[Xr].y-=bi*(Tr.y-Ir.cy)/vi}}),wn)wn[Nr].cx=0,wn[Nr].cy=0,wn[Nr].count=0;for(var Dr in Rt.forEach(function(Tr){var Xr=wn[Tr.cluster];w(Tr.x)&&(Xr.cx+=Tr.x),w(Tr.y)&&(Xr.cy+=Tr.y),Xr.count++}),wn)wn[Dr].cx/=wn[Dr].count,wn[Dr].cy/=wn[Dr].count}Rt.forEach(function(Tr,Xr){if(w(Tr.x)&&w(Tr.y)){var Ir=.01*Ke*Qe;lr[Xr].x-=Ir*(Tr.x-xe[0]),lr[Xr].y-=Ir*(Tr.y-xe[1])}}),Rt.forEach(function(Tr,Xr){if(w(Tr.x)&&w(Tr.y)){var Ir=Math.sqrt(lr[Xr].x*lr[Xr].x+lr[Xr].y*lr[Xr].y);if(Ir>0){var vi=Math.min(He*(ze/800),Ir);Tr.x+=lr[Xr].x/Ir*vi,Tr.y+=lr[Xr].y/Ir*vi}}})},Xn=0;Xn<ee;Xn++)In();return q.onLayoutEnd&&q.onLayoutEnd(),{nodes:Rt,edges:Qt}}},{key:"applyCalculate",value:function(q,Rt,Qt,ee,xe){this.calRepulsive(q,Qt,xe),this.calAttractive(Rt,Qt,ee)}},{key:"calRepulsive",value:function(q,Rt,Qt){q.forEach(function(ee,xe){Rt[xe]={x:0,y:0},q.forEach(function(Pe,He){if(xe!==He&&w(ee.x)&&w(Pe.x)&&w(ee.y)&&w(Pe.y)){var Be=ee.x-Pe.x,Ke=ee.y-Pe.y,Qe=Be*Be+Ke*Ke;if(Qe===0){Qe=1;var ze=xe>He?1:-1;Be=.01*ze,Ke=.01*ze}var en=Qt/Qe;Rt[xe].x+=Be*en,Rt[xe].y+=Ke*en}})})}},{key:"calAttractive",value:function(q,Rt,Qt){var ee=this;q.forEach(function(xe){if(xe.source&&xe.target){var Pe=ee.nodeIdxMap[xe.source],He=ee.nodeIdxMap[xe.target];if(Pe!==He){var Be=ee.nodeMap[xe.source],Ke=ee.nodeMap[xe.target];if(w(Ke.x)&&w(Be.x)&&w(Ke.y)&&w(Be.y)){var Qe=Ke.x-Be.x,ze=Ke.y-Be.y,en=Math.sqrt(Qe*Qe+ze*ze),wn=en*en/Qt;Rt[He].x-=Qe/en*wn,Rt[He].y-=ze/en*wn,Rt[Pe].x+=Qe/en*wn,Rt[Pe].y+=ze/en*wn}}}})}},{key:"getType",value:function(){return"fruchterman"}}])&&an(z.prototype,T),F&&an(z,F),It}(O),$n=t(12),_n=t.n($n),fr=t(6),sr=t.n(fr),vr=t(8),pr=t.n(vr),Wr=t(13),Ur=t.n(Wr),Ii=(t(30),t(217),t(9)),br=t.n(Ii),hi=t(15),Vr=t.n(hi),ji=1;function zi(){return ji++}var Ui=function et(z){sr()(this,et)},ra=function(){function et(T){sr()(this,et),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=T}var z;return pr()(et,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(F){return this.lookup[F]>-1}},{key:"create",value:function(F,tt){this.lookup[F]=this.components.length;var It=new this.clazz(tt||{});return this.components.push(It),this.entities.push(F),It}},{key:"remove",value:function(F){var tt=this.lookup[F];tt>-1&&tt<this.components.length-1&&(this.components[tt]=this.components[this.components.length-1],this.entities[tt]=this.entities[this.entities.length-1],this.lookup[this.entities[tt]]=tt),this.components.pop(),this.entities.pop(),delete this.lookup[F]}},{key:"removeKeepSorted",value:function(F){var tt=this.lookup[F];if(tt>-1){var It=this.entities[tt];if(tt<this.components.length-1){for(var Nt=tt+1;Nt<this.components.length;++Nt)this.components[Nt-1]=this.components[Nt];for(var q=tt+1;q<this.entities.length;++q)this.entities[q-1]=this.entities[q],this.lookup[this.entities[q-1]]=q-1}this.components.pop(),this.entities.pop(),delete this.lookup[It]}}},{key:"moveItem",value:function(F,tt){if(F!==tt){for(var It=this.components[F],Nt=this.entities[F],q=F<tt?1:-1,Rt=F;Rt!==tt;Rt+=q){var Qt=Rt+q;this.components[Rt]=this.components[Qt],this.entities[Rt]=this.entities[Qt],this.lookup[this.entities[Rt]]=Rt}this.components[tt]=It,this.entities[tt]=Nt,this.lookup[Nt]=tt}}},{key:"getEntity",value:function(F){return this.entities[F]}},{key:"getComponent",value:function(F){return this.components[F]}},{key:"getComponentByEntity",value:function(F){var tt=this.lookup[F];return tt>-1?this.components[tt]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(F){for(var tt=0,It=Object.keys(this.lookup);tt<It.length;tt++){var Nt=It[tt],q=Number(Nt);if(this.lookup[q]===F)return q}return-1}},{key:"find",value:function(F){for(var tt=0;tt<this.getCount();tt++){var It=this.getComponent(tt);if(F(It,tt))return It}return null}},{key:"findIndex",value:function(F){for(var tt=0;tt<this.getCount();tt++)if(F(this.getComponent(tt),tt))return tt;return-1}},{key:"forEach",value:function(F){for(var tt=0,It=Object.keys(this.lookup);tt<It.length;tt++){var Nt=It[tt],q=Number(Nt),Rt=this.lookup[q];F(q,this.getComponent(Rt))}}},{key:"forEachAsync",value:(z=Vr()(br.a.mark(function T(F){var tt,It,Nt,q,Rt;return br.a.wrap(function(Qt){for(;;)switch(Qt.prev=Qt.next){case 0:tt=0,It=Object.keys(this.lookup);case 1:if(!(tt<It.length)){Qt.next=10;break}return Nt=It[tt],q=Number(Nt),Rt=this.lookup[q],Qt.next=7,F(q,this.getComponent(Rt));case 7:tt++,Qt.next=1;break;case 10:case"end":return Qt.stop()}},T,this)})),function(T){return z.apply(this,arguments)})},{key:"map",value:function(F){for(var tt=[],It=0,Nt=Object.keys(this.lookup);It<Nt.length;It++){var q=Nt[It],Rt=Number(q),Qt=this.lookup[Rt];tt.push(F(Rt,this.getComponent(Qt)))}return tt}}]),et}(),da=t(60),Di=t.n(da),kr=t(4),er={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")},Vi=function et(){sr()(this,et),this.index=void 0},_a=function et(){sr()(this,et),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},Si=function(){function et(){sr()(this,et),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return pr()(et,[{key:"read",value:function(T){return this.reads.find(function(F){return F.index===T.index})||this.reads.push(T),T}},{key:"sample",value:function(T){return this.read(T),T}},{key:"write",value:function(T,F){if(this.writes.find(function(Nt){return Nt.index===F.index}))return F;var tt=T.getResourceNode(F);tt.resource.version++,tt.resource.imported&&(this.hasSideEffect=!0);var It=T.createResourceNode(tt.resource);return T.getResourceNode(It).writer=this,this.writes.push(It),It}}]),et}(),Yi=t(27),ea=t.n(Yi),no=t(28),$i=t.n(no),Va=t(21),Ta=t.n(Va);function bo(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=Ta()(et);if(z){var tt=Ta()(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return $i()(this,T)}}var Na,Fa,ro,Sa,So,Ua=function(et){ea()(T,et);var z=bo(T);function T(){var F;sr()(this,T);for(var tt=arguments.length,It=new Array(tt),Nt=0;Nt<tt;Nt++)It[Nt]=arguments[Nt];return(F=z.call.apply(z,[this].concat(It))).version=0,F.refs=0,F.name=void 0,F.imported=void 0,F.priority=void 0,F.discardStart=!0,F.discardEnd=!1,F.descriptor=void 0,F.resource=void 0,F}return pr()(T,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){this.imported}}]),T}(function et(){sr()(this,et),this.first=void 0,this.last=void 0}),Wa=function et(){sr()(this,et),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0};function ja(et,z){var T;if(typeof Symbol=="undefined"||et[Symbol.iterator]==null){if(Array.isArray(et)||(T=function(Rt,Qt){if(!!Rt){if(typeof Rt=="string")return to(Rt,Qt);var ee=Object.prototype.toString.call(Rt).slice(8,-1);if(ee==="Object"&&Rt.constructor&&(ee=Rt.constructor.name),ee==="Map"||ee==="Set")return Array.from(Rt);if(ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee))return to(Rt,Qt)}}(et))||z&&et&&typeof et.length=="number"){T&&(et=T);var F=0,tt=function(){};return{s:tt,n:function(){return F>=et.length?{done:!0}:{done:!1,value:et[F++]}},e:function(Qt){throw Qt},f:tt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var It,Nt=!0,q=!1;return{s:function(){T=et[Symbol.iterator]()},n:function(){var Qt=T.next();return Nt=Qt.done,Qt},e:function(Qt){q=!0,It=Qt},f:function(){try{Nt||T.return==null||T.return()}finally{if(q)throw It}}}}function to(et,z){(z==null||z>et.length)&&(z=et.length);for(var T=0,F=new Array(z);T<z;T++)F[T]=et[T];return F}var fo=(Na=Object(kr.injectable)(),Fa=Object(kr.inject)(er.RenderEngine),Na((Sa=function(){function et(){sr()(this,et),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],_n()(this,"engine",So,this)}var z,T;return pr()(et,[{key:"execute",value:(T=Vr()(br.a.mark(function F(tt){return br.a.wrap(function(It){for(;;)switch(It.prev=It.next){case 0:return this.compile(),It.next=3,this.executePassNodes(tt);case 3:case"end":return It.stop()}},F,this)})),function(F){return T.apply(this,arguments)})},{key:"tearDown",value:function(){this.frameGraphPasses.forEach(function(tt){tt.tearDown&&tt.tearDown()}),this.reset()}},{key:"addPass",value:function(tt,It,Nt,q){var Rt=new _a;Rt.execute=Nt,q&&(Rt.tearDown=q),Rt.name=tt;var Qt=new Si;return Qt.name=tt,this.passNodes.push(Qt),this.frameGraphPasses.push(Rt),It(this,Qt,Rt),Rt}},{key:"getPass",value:function(tt){return this.frameGraphPasses.find(function(It){return It.name===tt})}},{key:"compile",value:function(){var tt,It=this,Nt=ja(this.passNodes);try{for(Nt.s();!(tt=Nt.n()).done;){var q=tt.value;q.refCount=q.writes.length+(q.hasSideEffect?1:0),q.reads.forEach(function(Jr){It.resourceNodes[Jr.index].readerCount++})}}catch(Jr){Nt.e(Jr)}finally{Nt.f()}var Rt,Qt=[],ee=ja(this.resourceNodes);try{for(ee.s();!(Rt=ee.n()).done;){var xe=Rt.value;xe.readerCount===0&&Qt.push(xe)}}catch(Jr){ee.e(Jr)}finally{ee.f()}for(;Qt.length;){var Pe=Qt.pop(),He=Pe&&Pe.writer;if(He&&--He.refCount==0){var Be,Ke=ja(He.reads);try{for(Ke.s();!(Be=Ke.n()).done;){var Qe=Be.value,ze=this.resourceNodes[Qe.index];--ze.readerCount==0&&Qt.push(ze)}}catch(Jr){Ke.e(Jr)}finally{Ke.f()}}}this.resourceNodes.forEach(function(Jr){Jr.resource.refs+=Jr.readerCount});var en,wn=ja(this.passNodes);try{for(wn.s();!(en=wn.n()).done;){var zn=en.value;if(zn.refCount){var In,Xn=ja(zn.reads);try{for(Xn.s();!(In=Xn.n()).done;){var cr=In.value,or=this.resourceNodes[cr.index].resource;or.first=or.first?or.first:zn,or.last=zn}}catch(Jr){Xn.e(Jr)}finally{Xn.f()}var lr,Ar=ja(zn.writes);try{for(Ar.s();!(lr=Ar.n()).done;){var Nr=lr.value,Dr=this.resourceNodes[Nr.index].resource;Dr.first=Dr.first?Dr.first:zn,Dr.last=zn}}catch(Jr){Ar.e(Jr)}finally{Ar.f()}}}}catch(Jr){wn.e(Jr)}finally{wn.f()}for(var Tr=0;Tr<2;Tr++){var Xr,Ir=ja(this.resourceNodes);try{for(Ir.s();!(Xr=Ir.n()).done;){var vi=Xr.value.resource;if(vi.priority===Tr&&vi.refs){var bi=vi.first,Wi=vi.last;bi&&Wi&&(bi.devirtualize.push(vi),Wi.destroy.push(vi))}}}catch(Jr){Ir.e(Jr)}finally{Ir.f()}}}},{key:"executePassNodes",value:(z=Vr()(br.a.mark(function F(tt){var It,Nt,q,Rt,Qt,ee,xe,Pe,He,Be,Ke,Qe,ze;return br.a.wrap(function(en){for(;;)switch(en.prev=en.next){case 0:It=ja(this.passNodes.entries()),en.prev=1,It.s();case 3:if((Nt=It.n()).done){en.next=18;break}if(q=Di()(Nt.value,2),Rt=q[0],!(Qt=q[1]).refCount){en.next=16;break}ee=ja(Qt.devirtualize);try{for(ee.s();!(xe=ee.n()).done;)xe.value.preExecuteDevirtualize(this.engine)}catch(wn){ee.e(wn)}finally{ee.f()}Pe=ja(Qt.destroy);try{for(Pe.s();!(He=Pe.n()).done;)He.value.preExecuteDestroy(this.engine)}catch(wn){Pe.e(wn)}finally{Pe.f()}return en.next=12,this.frameGraphPasses[Rt].execute(this,this.frameGraphPasses[Rt],tt);case 12:Be=ja(Qt.devirtualize);try{for(Be.s();!(Ke=Be.n()).done;)Ke.value.postExecuteDevirtualize(this.engine)}catch(wn){Be.e(wn)}finally{Be.f()}Qe=ja(Qt.destroy);try{for(Qe.s();!(ze=Qe.n()).done;)ze.value.postExecuteDestroy(this.engine)}catch(wn){Qe.e(wn)}finally{Qe.f()}case 16:en.next=3;break;case 18:en.next=23;break;case 20:en.prev=20,en.t0=en.catch(1),It.e(en.t0);case 23:return en.prev=23,It.f(),en.finish(23);case 26:this.reset();case 27:case"end":return en.stop()}},F,this,[[1,20,23,26]])})),function(F){return z.apply(this,arguments)})},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(tt){return this.resourceNodes[tt.index]}},{key:"createResourceNode",value:function(tt){var It=new Wa;It.resource=tt,It.version=tt.version,this.resourceNodes.push(It);var Nt=new Vi;return Nt.index=this.resourceNodes.length-1,Nt}},{key:"createTexture",value:function(tt,It,Nt){var q=new Ua;return q.name=It,q.descriptor=Nt,this.createResourceNode(q)}},{key:"createRenderTarget",value:function(tt,It,Nt){var q=new Ua;return q.name=It,q.descriptor=Nt,this.createResourceNode(q)}},{key:"present",value:function(tt){this.addPass("Present",function(It,Nt){Nt.read(tt),Nt.hasSideEffect=!0},Vr()(br.a.mark(function It(){return br.a.wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:case"end":return Nt.stop()}},It)})))}}]),et}(),So=Ur()(Sa.prototype,"engine",[Fa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ro=Sa))||ro),wa=t(3),gr=t.n(wa),Xo=t(25),va=t.n(Xo);function Ya(et,z){var T=Object.keys(et);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(et);z&&(F=F.filter(function(tt){return Object.getOwnPropertyDescriptor(et,tt).enumerable})),T.push.apply(T,F)}return T}function Eo(et){for(var z=1;z<arguments.length;z++){var T=arguments[z]!=null?arguments[z]:{};z%2?Ya(Object(T),!0).forEach(function(F){gr()(et,F,T[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(T)):Ya(Object(T)).forEach(function(F){Object.defineProperty(et,F,Object.getOwnPropertyDescriptor(T,F))})}return et}function No(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=Ta()(et);if(z){var tt=Ta()(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return $i()(this,T)}}var Gn,se,Ia,ho,Xa,so,Lo,zo,Jo,uo=function(et){ea()(T,et);var z=No(T);function T(F){var tt;return sr()(this,T),(tt=z.call(this,F)).dirty=!0,tt.attributes=[],tt.indices=void 0,tt.indicesBuffer=void 0,tt.vertexCount=void 0,tt.maxInstancedCount=void 0,tt.aabb=void 0,Object.assign(va()(tt),F),tt}return pr()(T,[{key:"setAttribute",value:function(tt,It,Nt,q){var Rt=this.attributes.find(function(Qt){return Qt.name===tt});return Rt?(Rt.data=It,Rt.dirty=!0):this.attributes.push(Eo(Eo({dirty:!0,name:tt,data:It},Nt),{},{bufferGetter:q})),this.dirty=!0,this}},{key:"setIndex",value:function(tt){return this.indices=new Uint32Array(tt.buffer?tt.buffer:tt),this.dirty=!0,this}}]),T}(Ui),Rn=(t(226),t(2)),qo=function(){function et(z,T){sr()(this,et),this.center=void 0,this.halfExtents=void 0,this.min=Rn.e.create(),this.max=Rn.e.create(),this.update(z,T)}return pr()(et,[{key:"update",value:function(T,F){this.center=T||Rn.e.create(),this.halfExtents=F||Rn.e.fromValues(.5,.5,.5),this.min=Rn.e.sub(this.min,this.center,this.halfExtents),this.max=Rn.e.add(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(T,F){Rn.e.add(this.center,F,T),Rn.e.scale(this.center,this.center,.5),Rn.e.sub(this.halfExtents,F,T),Rn.e.scale(this.halfExtents,this.halfExtents,.5),Rn.e.copy(this.min,T),Rn.e.copy(this.max,F)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(T){var F=this.center,tt=F[0],It=F[1],Nt=F[2],q=this.halfExtents,Rt=q[0],Qt=q[1],ee=q[2],xe=tt-Rt,Pe=tt+Rt,He=It-Qt,Be=It+Qt,Ke=Nt-ee,Qe=Nt+ee,ze=T.center,en=ze[0],wn=ze[1],zn=ze[2],In=T.halfExtents,Xn=In[0],cr=In[1],or=In[2],lr=en-Xn,Ar=en+Xn,Nr=wn-cr,Dr=wn+cr,Tr=zn-or,Xr=zn+or;lr<xe&&(xe=lr),Ar>Pe&&(Pe=Ar),Nr<He&&(He=Nr),Dr>Be&&(Be=Dr),Tr<Ke&&(Ke=Tr),Xr>Qe&&(Qe=Xr),F[0]=.5*(xe+Pe),F[1]=.5*(He+Be),F[2]=.5*(Ke+Qe),q[0]=.5*(Pe-xe),q[1]=.5*(Be-He),q[2]=.5*(Qe-Ke),this.min[0]=xe,this.min[1]=He,this.min[2]=Ke,this.max[0]=Pe,this.max[1]=Be,this.max[2]=Qe}},{key:"intersects",value:function(T){var F=this.getMax(),tt=this.getMin(),It=T.getMax(),Nt=T.getMin();return tt[0]<=It[0]&&F[0]>=Nt[0]&&tt[1]<=It[1]&&F[1]>=Nt[1]&&tt[2]<=It[2]&&F[2]>=Nt[2]}},{key:"containsPoint",value:function(T){var F=this.getMin(),tt=this.getMax();return!(T[0]<F[0]||T[0]>tt[0]||T[1]<F[1]||T[1]>tt[1]||T[2]<F[2]||T[2]>tt[2])}},{key:"getNegativeFarPoint",value:function(T){return T.pnVertexFlag===273?Rn.e.copy(Rn.e.create(),this.min):T.pnVertexFlag===272?Rn.e.fromValues(this.min[0],this.min[1],this.max[2]):T.pnVertexFlag===257?Rn.e.fromValues(this.min[0],this.max[1],this.min[2]):T.pnVertexFlag===256?Rn.e.fromValues(this.min[0],this.max[1],this.max[2]):T.pnVertexFlag===17?Rn.e.fromValues(this.max[0],this.min[1],this.min[2]):T.pnVertexFlag===16?Rn.e.fromValues(this.max[0],this.min[1],this.max[2]):T.pnVertexFlag===1?Rn.e.fromValues(this.max[0],this.max[1],this.min[2]):Rn.e.fromValues(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(T){return T.pnVertexFlag===273?Rn.e.copy(Rn.e.create(),this.max):T.pnVertexFlag===272?Rn.e.fromValues(this.max[0],this.max[1],this.min[2]):T.pnVertexFlag===257?Rn.e.fromValues(this.max[0],this.min[1],this.max[2]):T.pnVertexFlag===256?Rn.e.fromValues(this.max[0],this.min[1],this.min[2]):T.pnVertexFlag===17?Rn.e.fromValues(this.min[0],this.max[1],this.max[2]):T.pnVertexFlag===16?Rn.e.fromValues(this.min[0],this.max[1],this.min[2]):T.pnVertexFlag===1?Rn.e.fromValues(this.min[0],this.min[1],this.max[2]):Rn.e.fromValues(this.min[0],this.min[1],this.min[2])}}]),et}();function wo(et){for(var z=new qo,T=Rn.e.fromValues(et[0],et[1],et[2]),F=Rn.e.fromValues(et[0],et[1],et[2]),tt=3;tt<et.length;){var It=et[tt++],Nt=et[tt++],q=et[tt++];It<T[0]&&(T[0]=It),Nt<T[1]&&(T[1]=Nt),q<T[2]&&(T[2]=q),It>F[0]&&(F[0]=It),Nt>F[1]&&(F[1]=Nt),q>F[2]&&(F[2]=q)}return z.setMinMax(T,F),z}(se=Gn||(Gn={}))[se.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",se[se.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",se[se.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",se[se.POINTS=0]="POINTS",se[se.LINES=1]="LINES",se[se.LINE_LOOP=2]="LINE_LOOP",se[se.LINE_STRIP=3]="LINE_STRIP",se[se.TRIANGLES=4]="TRIANGLES",se[se.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",se[se.TRIANGLE_FAN=6]="TRIANGLE_FAN",se[se.ZERO=0]="ZERO",se[se.ONE=1]="ONE",se[se.SRC_COLOR=768]="SRC_COLOR",se[se.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",se[se.SRC_ALPHA=770]="SRC_ALPHA",se[se.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",se[se.DST_ALPHA=772]="DST_ALPHA",se[se.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",se[se.DST_COLOR=774]="DST_COLOR",se[se.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",se[se.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",se[se.FUNC_ADD=32774]="FUNC_ADD",se[se.BLEND_EQUATION=32777]="BLEND_EQUATION",se[se.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",se[se.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",se[se.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",se[se.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",se[se.MAX_EXT=32776]="MAX_EXT",se[se.MIN_EXT=32775]="MIN_EXT",se[se.BLEND_DST_RGB=32968]="BLEND_DST_RGB",se[se.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",se[se.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",se[se.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",se[se.CONSTANT_COLOR=32769]="CONSTANT_COLOR",se[se.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",se[se.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",se[se.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",se[se.BLEND_COLOR=32773]="BLEND_COLOR",se[se.ARRAY_BUFFER=34962]="ARRAY_BUFFER",se[se.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",se[se.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",se[se.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",se[se.STREAM_DRAW=35040]="STREAM_DRAW",se[se.STATIC_DRAW=35044]="STATIC_DRAW",se[se.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",se[se.BUFFER_SIZE=34660]="BUFFER_SIZE",se[se.BUFFER_USAGE=34661]="BUFFER_USAGE",se[se.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",se[se.FRONT=1028]="FRONT",se[se.BACK=1029]="BACK",se[se.FRONT_AND_BACK=1032]="FRONT_AND_BACK",se[se.CULL_FACE=2884]="CULL_FACE",se[se.BLEND=3042]="BLEND",se[se.DITHER=3024]="DITHER",se[se.STENCIL_TEST=2960]="STENCIL_TEST",se[se.DEPTH_TEST=2929]="DEPTH_TEST",se[se.SCISSOR_TEST=3089]="SCISSOR_TEST",se[se.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",se[se.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",se[se.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",se[se.NO_ERROR=0]="NO_ERROR",se[se.INVALID_ENUM=1280]="INVALID_ENUM",se[se.INVALID_VALUE=1281]="INVALID_VALUE",se[se.INVALID_OPERATION=1282]="INVALID_OPERATION",se[se.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",se[se.CW=2304]="CW",se[se.CCW=2305]="CCW",se[se.LINE_WIDTH=2849]="LINE_WIDTH",se[se.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",se[se.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",se[se.CULL_FACE_MODE=2885]="CULL_FACE_MODE",se[se.FRONT_FACE=2886]="FRONT_FACE",se[se.DEPTH_RANGE=2928]="DEPTH_RANGE",se[se.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",se[se.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",se[se.DEPTH_FUNC=2932]="DEPTH_FUNC",se[se.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",se[se.STENCIL_FUNC=2962]="STENCIL_FUNC",se[se.STENCIL_FAIL=2964]="STENCIL_FAIL",se[se.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",se[se.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",se[se.STENCIL_REF=2967]="STENCIL_REF",se[se.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",se[se.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",se[se.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",se[se.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",se[se.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",se[se.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",se[se.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",se[se.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",se[se.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",se[se.VIEWPORT=2978]="VIEWPORT",se[se.SCISSOR_BOX=3088]="SCISSOR_BOX",se[se.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",se[se.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",se[se.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",se[se.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",se[se.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",se[se.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",se[se.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",se[se.RED_BITS=3410]="RED_BITS",se[se.GREEN_BITS=3411]="GREEN_BITS",se[se.BLUE_BITS=3412]="BLUE_BITS",se[se.ALPHA_BITS=3413]="ALPHA_BITS",se[se.DEPTH_BITS=3414]="DEPTH_BITS",se[se.STENCIL_BITS=3415]="STENCIL_BITS",se[se.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",se[se.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",se[se.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",se[se.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",se[se.SAMPLES=32937]="SAMPLES",se[se.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",se[se.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",se[se.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",se[se.DONT_CARE=4352]="DONT_CARE",se[se.FASTEST=4353]="FASTEST",se[se.NICEST=4354]="NICEST",se[se.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",se[se.BYTE=5120]="BYTE",se[se.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",se[se.SHORT=5122]="SHORT",se[se.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",se[se.INT=5124]="INT",se[se.UNSIGNED_INT=5125]="UNSIGNED_INT",se[se.FLOAT=5126]="FLOAT",se[se.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",se[se.ALPHA=6406]="ALPHA",se[se.RGB=6407]="RGB",se[se.RGBA=6408]="RGBA",se[se.LUMINANCE=6409]="LUMINANCE",se[se.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",se[se.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",se[se.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",se[se.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",se[se.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",se[se.VERTEX_SHADER=35633]="VERTEX_SHADER",se[se.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",se[se.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",se[se.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",se[se.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",se[se.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",se[se.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",se[se.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",se[se.SHADER_TYPE=35663]="SHADER_TYPE",se[se.DELETE_STATUS=35712]="DELETE_STATUS",se[se.LINK_STATUS=35714]="LINK_STATUS",se[se.VALIDATE_STATUS=35715]="VALIDATE_STATUS",se[se.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",se[se.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",se[se.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",se[se.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",se[se.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",se[se.NEVER=512]="NEVER",se[se.LESS=513]="LESS",se[se.EQUAL=514]="EQUAL",se[se.LEQUAL=515]="LEQUAL",se[se.GREATER=516]="GREATER",se[se.NOTEQUAL=517]="NOTEQUAL",se[se.GEQUAL=518]="GEQUAL",se[se.ALWAYS=519]="ALWAYS",se[se.KEEP=7680]="KEEP",se[se.REPLACE=7681]="REPLACE",se[se.INCR=7682]="INCR",se[se.DECR=7683]="DECR",se[se.INVERT=5386]="INVERT",se[se.INCR_WRAP=34055]="INCR_WRAP",se[se.DECR_WRAP=34056]="DECR_WRAP",se[se.VENDOR=7936]="VENDOR",se[se.RENDERER=7937]="RENDERER",se[se.VERSION=7938]="VERSION",se[se.NEAREST=9728]="NEAREST",se[se.LINEAR=9729]="LINEAR",se[se.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",se[se.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",se[se.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",se[se.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",se[se.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",se[se.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",se[se.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",se[se.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",se[se.TEXTURE_2D=3553]="TEXTURE_2D",se[se.TEXTURE=5890]="TEXTURE",se[se.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",se[se.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",se[se.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",se[se.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",se[se.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",se[se.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",se[se.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",se[se.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",se[se.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",se[se.TEXTURE0=33984]="TEXTURE0",se[se.TEXTURE1=33985]="TEXTURE1",se[se.TEXTURE2=33986]="TEXTURE2",se[se.TEXTURE3=33987]="TEXTURE3",se[se.TEXTURE4=33988]="TEXTURE4",se[se.TEXTURE5=33989]="TEXTURE5",se[se.TEXTURE6=33990]="TEXTURE6",se[se.TEXTURE7=33991]="TEXTURE7",se[se.TEXTURE8=33992]="TEXTURE8",se[se.TEXTURE9=33993]="TEXTURE9",se[se.TEXTURE10=33994]="TEXTURE10",se[se.TEXTURE11=33995]="TEXTURE11",se[se.TEXTURE12=33996]="TEXTURE12",se[se.TEXTURE13=33997]="TEXTURE13",se[se.TEXTURE14=33998]="TEXTURE14",se[se.TEXTURE15=33999]="TEXTURE15",se[se.TEXTURE16=34e3]="TEXTURE16",se[se.TEXTURE17=34001]="TEXTURE17",se[se.TEXTURE18=34002]="TEXTURE18",se[se.TEXTURE19=34003]="TEXTURE19",se[se.TEXTURE20=34004]="TEXTURE20",se[se.TEXTURE21=34005]="TEXTURE21",se[se.TEXTURE22=34006]="TEXTURE22",se[se.TEXTURE23=34007]="TEXTURE23",se[se.TEXTURE24=34008]="TEXTURE24",se[se.TEXTURE25=34009]="TEXTURE25",se[se.TEXTURE26=34010]="TEXTURE26",se[se.TEXTURE27=34011]="TEXTURE27",se[se.TEXTURE28=34012]="TEXTURE28",se[se.TEXTURE29=34013]="TEXTURE29",se[se.TEXTURE30=34014]="TEXTURE30",se[se.TEXTURE31=34015]="TEXTURE31",se[se.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",se[se.REPEAT=10497]="REPEAT",se[se.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",se[se.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",se[se.FLOAT_VEC2=35664]="FLOAT_VEC2",se[se.FLOAT_VEC3=35665]="FLOAT_VEC3",se[se.FLOAT_VEC4=35666]="FLOAT_VEC4",se[se.INT_VEC2=35667]="INT_VEC2",se[se.INT_VEC3=35668]="INT_VEC3",se[se.INT_VEC4=35669]="INT_VEC4",se[se.BOOL=35670]="BOOL",se[se.BOOL_VEC2=35671]="BOOL_VEC2",se[se.BOOL_VEC3=35672]="BOOL_VEC3",se[se.BOOL_VEC4=35673]="BOOL_VEC4",se[se.FLOAT_MAT2=35674]="FLOAT_MAT2",se[se.FLOAT_MAT3=35675]="FLOAT_MAT3",se[se.FLOAT_MAT4=35676]="FLOAT_MAT4",se[se.SAMPLER_2D=35678]="SAMPLER_2D",se[se.SAMPLER_CUBE=35680]="SAMPLER_CUBE",se[se.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",se[se.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",se[se.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",se[se.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",se[se.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",se[se.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",se[se.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",se[se.COMPILE_STATUS=35713]="COMPILE_STATUS",se[se.LOW_FLOAT=36336]="LOW_FLOAT",se[se.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",se[se.HIGH_FLOAT=36338]="HIGH_FLOAT",se[se.LOW_INT=36339]="LOW_INT",se[se.MEDIUM_INT=36340]="MEDIUM_INT",se[se.HIGH_INT=36341]="HIGH_INT",se[se.FRAMEBUFFER=36160]="FRAMEBUFFER",se[se.RENDERBUFFER=36161]="RENDERBUFFER",se[se.RGBA4=32854]="RGBA4",se[se.RGB5_A1=32855]="RGB5_A1",se[se.RGB565=36194]="RGB565",se[se.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",se[se.STENCIL_INDEX=6401]="STENCIL_INDEX",se[se.STENCIL_INDEX8=36168]="STENCIL_INDEX8",se[se.DEPTH_STENCIL=34041]="DEPTH_STENCIL",se[se.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",se[se.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",se[se.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",se[se.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",se[se.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",se[se.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",se[se.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",se[se.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",se[se.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",se[se.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",se[se.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",se[se.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",se[se.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",se[se.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",se[se.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",se[se.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",se[se.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",se[se.NONE=0]="NONE",se[se.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",se[se.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",se[se.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",se[se.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",se[se.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",se[se.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",se[se.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",se[se.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",se[se.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",se[se.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",se[se.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",se[se.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",se[se.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",se[se.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",se[se.COPY_SRC=1]="COPY_SRC",se[se.COPY_DST=2]="COPY_DST",se[se.SAMPLED=4]="SAMPLED",se[se.STORAGE=8]="STORAGE",se[se.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT";var Ho=(Ia=Object(kr.injectable)(),ho=Object(kr.inject)(er.GeometryComponentManager),Xa=Object(kr.inject)(er.RenderEngine),Ia((Lo=function(){function et(){sr()(this,et),_n()(this,"geometry",zo,this),_n()(this,"engine",Jo,this)}var z;return pr()(et,[{key:"execute",value:(z=Vr()(br.a.mark(function T(){var F=this;return br.a.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:this.geometry.forEach(function(It,Nt){Nt.dirty&&(Nt.attributes.forEach(function(q){var Rt;q.dirty&&q.data&&(q.buffer?(Rt=q.buffer)===null||Rt===void 0||Rt.subData({data:q.data,offset:0}):q.buffer=F.engine.createBuffer({data:q.data,type:Gn.FLOAT}),q.dirty=!1)}),Nt.indices&&(Nt.indicesBuffer?Nt.indicesBuffer.subData({data:Nt.indices,offset:0}):Nt.indicesBuffer=F.engine.createElements({data:Nt.indices,count:Nt.indices.length,type:Gn.UNSIGNED_INT,usage:Gn.STATIC_DRAW})),Nt.dirty=!1)});case 1:case"end":return tt.stop()}},T,this)})),function(){return z.apply(this,arguments)})},{key:"tearDown",value:function(){this.geometry.forEach(function(F,tt){tt.indicesBuffer&&tt.indicesBuffer.destroy(),tt.attributes.forEach(function(It){It.buffer&&It.buffer.destroy()})}),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{vertexCount:3},tt=F.vertexCount,It=zi();return this.geometry.create(It,{vertexCount:tt})}},{key:"createInstancedBufferGeometry",value:function(F){var tt=F.maxInstancedCount,It=F.vertexCount,Nt=zi();return this.geometry.create(Nt,{maxInstancedCount:tt,vertexCount:It})}},{key:"createBox",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},tt=F.widthSegments||1,It=F.heightSegments||1,Nt=F.depthSegments||1,q=F.halfExtents||Rn.e.fromValues(.5,.5,.5),Rt=Di()(q,3),Qt=Rt[0],ee=Rt[1],xe=Rt[2],Pe=[Rn.e.fromValues(-Qt,-ee,xe),Rn.e.fromValues(Qt,-ee,xe),Rn.e.fromValues(Qt,ee,xe),Rn.e.fromValues(-Qt,ee,xe),Rn.e.fromValues(Qt,-ee,-xe),Rn.e.fromValues(-Qt,-ee,-xe),Rn.e.fromValues(-Qt,ee,-xe),Rn.e.fromValues(Qt,ee,-xe)],He=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],Be=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],Ke={FRONT:0,BACK:1,TOP:2,BOTTOM:3,RIGHT:4,LEFT:5},Qe=[],ze=[],en=[],wn=[],zn=[],In=0,Xn=function(Ar,Nr,Dr){var Tr,Xr,Ir,vi;for(Ir=0;Ir<=Nr;Ir++)for(vi=0;vi<=Dr;vi++){var bi=Rn.e.create(),Wi=Rn.e.create(),Jr=Rn.e.create(),Li=Rn.e.create();Rn.e.lerp(bi,Pe[He[Ar][0]],Pe[He[Ar][1]],Ir/Nr),Rn.e.lerp(Wi,Pe[He[Ar][0]],Pe[He[Ar][2]],vi/Dr),Rn.e.sub(Jr,Wi,Pe[He[Ar][0]]),Rn.e.add(Li,bi,Jr),Tr=Ir/Nr,Xr=vi/Dr,Qe.push(Li[0],Li[1],Li[2]),ze.push(Be[Ar][0],Be[Ar][1],Be[Ar][2]),en.push(Tr,Xr),Tr=.875*(Tr/=3)+4/64,Xr=.875*(Xr/=3)+4/64,Tr+=Ar%3/3,Xr+=Math.floor(Ar/3)/3,wn.push(Tr,Xr),Ir<Nr&&vi<Dr&&(zn.push(In+Dr+1,In+1,In),zn.push(In+Dr+1,In+Dr+2,In+1)),In++}};Xn(Ke.FRONT,tt,It),Xn(Ke.BACK,tt,It),Xn(Ke.TOP,tt,Nt),Xn(Ke.BOTTOM,tt,Nt),Xn(Ke.RIGHT,Nt,It),Xn(Ke.LEFT,Nt,It);var cr=wo(Qe),or=zi();return this.geometry.create(or,{indices:Uint32Array.from(zn),aabb:cr,attributes:[{dirty:!0,name:"position",data:Float32Array.from(Qe),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]}]})}}]),et}(),zo=Ur()(Lo.prototype,"geometry",[ho],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jo=Ur()(Lo.prototype,"engine",[Xa],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),so=Lo))||so);t(227);function ss(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=Ta()(et);if(z){var tt=Ta()(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return $i()(this,T)}}var ts,mo,ia,Bo,Io,Qa,yo,Co,Do,Da=function(et){ea()(T,et);var z=ss(T);function T(F){var tt;return sr()(this,T),(tt=z.call(this,F)).vertexShaderGLSL=void 0,tt.fragmentShaderGLSL=void 0,tt.dirty=!0,tt.uniforms=[],tt.cull={enable:!0,face:Gn.BACK},tt.depth={enable:!0},tt.blend=void 0,Object.assign(va()(tt),F),tt}return pr()(T,[{key:"setCull",value:function(tt){return this.cull=tt,this}},{key:"setDepth",value:function(tt){return this.depth=tt,this}},{key:"setBlend",value:function(tt){return this.blend=tt,this}},{key:"setUniform",value:function(tt,It){var Nt=this;if(typeof tt!="string")return Object.keys(tt).forEach(function(Rt){return Nt.setUniform(Rt,tt[Rt])}),this;var q=this.uniforms.find(function(Rt){return Rt.name===tt});return q?(q.dirty=!0,q.data=It):this.uniforms.push({name:tt,dirty:!0,data:It}),this.dirty=!0,this}}]),T}(Ui);function _o(et,z){var T=Object.keys(et);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(et);z&&(F=F.filter(function(tt){return Object.getOwnPropertyDescriptor(et,tt).enumerable})),T.push.apply(T,F)}return T}function Ko(et){for(var z=1;z<arguments.length;z++){var T=arguments[z]!=null?arguments[z]:{};z%2?_o(Object(T),!0).forEach(function(F){gr()(et,F,T[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(T)):_o(Object(T)).forEach(function(F){Object.defineProperty(et,F,Object.getOwnPropertyDescriptor(T,F))})}return et}var is,kt=(ts=Object(kr.injectable)(),mo=Object(kr.inject)(er.MaterialComponentManager),ia=Object(kr.inject)(er.RenderEngine),Bo=Object(kr.inject)(er.ShaderModuleService),ts((Qa=function(){function et(){sr()(this,et),_n()(this,"material",yo,this),_n()(this,"engine",Co,this),_n()(this,"shaderModule",Do,this)}var z;return pr()(et,[{key:"execute",value:(z=Vr()(br.a.mark(function T(){return br.a.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,Promise.all(this.material.map(function(){var tt=Vr()(br.a.mark(function It(Nt,q){return br.a.wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:case"end":return Rt.stop()}},It)}));return function(It,Nt){return tt.apply(this,arguments)}}()));case 2:case"end":return F.stop()}},T,this)})),function(){return z.apply(this,arguments)})},{key:"tearDown",value:function(){this.material.clear()}},{key:"createBasicMaterial",value:function(){var F=zi();return this.material.create(F,{vertexShaderGLSL:this.engine.supportWebGPU?`layout(set = 0, binding = 0) uniform Uniforms {
  vec4 color;
  mat4 projectionMatrix;
  mat4 modelViewMatrix;
} uniforms;

layout(location = 0) in vec3 position;
// layout(location = 1) in vec3 barycentric;

layout(location = 0) out vec4 fragColor;
// layout(location = 1) out vec3 v_Barycentric;

void main() {
  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);
  fragColor = uniforms.color;
  // v_Barycentric = barycentric;
}`:`attribute vec3 position;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform vec4 color;

varying vec4 fragColor;

void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  fragColor = color;
}`,fragmentShaderGLSL:this.engine.supportWebGPU?`// layout(set = 0, binding = 1) uniform WireframeUniforms {
//   float lineWidth;
//   vec4 lineColor;
// } wireframe;

layout(location = 0) in vec4 fragColor;
// layout(location = 1) in vec3 v_Barycentric;

layout(location = 0) out vec4 outColor;

// wireframe
// float edgeFactor() {
//   vec3 d = fwidth(v_Barycentric);
//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);
//   return min(min(a3.x, a3.y), a3.z);
// }

void main() {
  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));
  outColor = fragColor;
}`:`varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`})}},{key:"createShaderMaterial",value:function(F){var tt=zi(),It=F.vertexShader,Nt=F.fragmentShader,q=[];if(!this.engine.supportWebGPU){var Rt="material-".concat(tt);this.shaderModule.registerModule(Rt,{vs:F.vertexShader,fs:F.fragmentShader});var Qt=this.shaderModule.getModule(Rt);It=Qt.vs,Nt=Qt.fs,Qt.uniforms&&(q=Object.keys(Qt.uniforms).map(function(ee){return{dirty:!0,name:ee,data:Qt.uniforms[ee]}}))}return this.material.create(tt,Ko(Ko({vertexShaderGLSL:It,fragmentShaderGLSL:Nt},F),{},{uniforms:q}))}}]),et}(),yo=Ur()(Qa.prototype,"material",[mo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Co=Ur()(Qa.prototype,"engine",[ia],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Do=Ur()(Qa.prototype,"shaderModule",[Bo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Io=Qa))||Io);function v(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=Ta()(et);if(z){var tt=Ta()(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return $i()(this,T)}}(function(et){et[et.Standard=0]="Standard"})(is||(is={}));var l=function(et){ea()(T,et);var z=v(T);function T(F){var tt;return sr()(this,T),(tt=z.call(this,F)).strategy=is.Standard,tt.visibilityPlaneMask=0,tt.visible=!1,Object.assign(va()(tt),F),tt}return T}(Ui);t(228);function R(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=Ta()(et);if(z){var tt=Ta()(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return $i()(this,T)}}var X,ht=function(et){ea()(T,et);var z=R(T);function T(F){var tt;return sr()(this,T),(tt=z.call(this,F)).material=void 0,tt.geometry=void 0,tt.aabb=new qo,tt.aabbDirty=!0,tt.model=void 0,tt.visible=!0,Object.assign(va()(tt),F),tt}return T}(Ui),At=function(){function et(z,T){sr()(this,et),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=z||0,this.normal=T||Rn.e.fromValues(0,1,0),this.updatePNVertexFlag()}return pr()(et,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(T){return Rn.e.dot(T,this.normal)-this.distance}},{key:"normalize",value:function(){var T=1/Rn.e.len(this.normal);Rn.e.scale(this.normal,this.normal,T),this.distance*=T}},{key:"intersectsLine",value:function(T,F,tt){var It=this.distanceToPoint(T),Nt=It/(It-this.distanceToPoint(F)),q=Nt>=0&&Nt<=1;return q&&tt&&Rn.e.lerp(tt,T,F,Nt),q}}]),et}();(function(et){et[et.OUTSIDE=4294967295]="OUTSIDE",et[et.INSIDE=0]="INSIDE",et[et.INDETERMINATE=2147483647]="INDETERMINATE"})(X||(X={}));var Ut,Yt,qt,oe,Te,Ge,Ue,Ve,vn,Tn,Ln,Un,Hn,xr=function(){function et(z){if(sr()(this,et),this.planes=[],z)this.planes=z;else for(var T=0;T<6;T++)this.planes.push(new At)}return pr()(et,[{key:"extractFromVPMatrix",value:function(T){var F=Di()(T,16),tt=F[0],It=F[1],Nt=F[2],q=F[3],Rt=F[4],Qt=F[5],ee=F[6],xe=F[7],Pe=F[8],He=F[9],Be=F[10],Ke=F[11],Qe=F[12],ze=F[13],en=F[14],wn=F[15];Rn.e.set(this.planes[0].normal,q-tt,xe-Rt,Ke-Pe),this.planes[0].distance=-(wn-Qe),Rn.e.set(this.planes[1].normal,q+tt,xe+Rt,Ke+Pe),this.planes[1].distance=-(wn+Qe),Rn.e.set(this.planes[2].normal,q+It,xe+Qt,Ke+He),this.planes[2].distance=-(wn+ze),Rn.e.set(this.planes[3].normal,q-It,xe-Qt,Ke-He),this.planes[3].distance=-(wn-ze),Rn.e.set(this.planes[4].normal,q-Nt,xe-ee,Ke-Be),this.planes[4].distance=-(wn-en),Rn.e.set(this.planes[5].normal,q+Nt,xe+ee,Ke+Be),this.planes[5].distance=-(wn+en),this.planes.forEach(function(zn){zn.normalize(),zn.updatePNVertexFlag()})}}]),et}(),Or=t(61),Rr=t.n(Or);function yi(et,z){var T;if(typeof Symbol=="undefined"||et[Symbol.iterator]==null){if(Array.isArray(et)||(T=function(Rt,Qt){if(!!Rt){if(typeof Rt=="string")return Xi(Rt,Qt);var ee=Object.prototype.toString.call(Rt).slice(8,-1);if(ee==="Object"&&Rt.constructor&&(ee=Rt.constructor.name),ee==="Map"||ee==="Set")return Array.from(Rt);if(ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee))return Xi(Rt,Qt)}}(et))||z&&et&&typeof et.length=="number"){T&&(et=T);var F=0,tt=function(){};return{s:tt,n:function(){return F>=et.length?{done:!0}:{done:!1,value:et[F++]}},e:function(Qt){throw Qt},f:tt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var It,Nt=!0,q=!1;return{s:function(){T=et[Symbol.iterator]()},n:function(){var Qt=T.next();return Nt=Qt.done,Qt},e:function(Qt){q=!0,It=Qt},f:function(){try{Nt||T.return==null||T.return()}finally{if(q)throw It}}}}function Xi(et,z){(z==null||z>et.length)&&(z=et.length);for(var T=0,F=new Array(z);T<z;T++)F[T]=et[T];return F}var Zr,ki,Ba,Ha,Ka,Ja,ya,Mo,jo,Ro,Za,Ao,$a,ns,ba,qa,Po,Qo,Nu,ds,Lu,$s,_s,hu,Bu=(Ut=Object(kr.injectable)(),Yt=Object(kr.inject)(er.MeshComponentManager),qt=Object(kr.inject)(er.CullableComponentManager),oe=Object(kr.inject)(er.GeometryComponentManager),Te=Object(kr.inject)(er.HierarchyComponentManager),Ge=Object(kr.inject)(er.TransformComponentManager),Ut((Ve=function(){function et(){sr()(this,et),_n()(this,"mesh",vn,this),_n()(this,"cullable",Tn,this),_n()(this,"geometry",Ln,this),_n()(this,"hierarchy",Un,this),_n()(this,"transform",Hn,this),this.planes=void 0}var z;return pr()(et,[{key:"setFrustumPlanes",value:function(F){this.planes=F}},{key:"execute",value:(z=Vr()(br.a.mark(function T(F){var tt,It,Nt,q=this;return br.a.wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:tt=yi(F);try{for(Nt=function(){var ee=It.value,xe=(ee.getScene(),ee.getCamera());q.mesh.forEach(function(Pe,He){var Be,Ke,Qe=q.hierarchy.getComponentByEntity(Pe),ze=q.cullable.getComponentByEntity(Pe),en=He.geometry,wn=q.transform.getComponentByEntity(Pe);if(en&&en.aabb&&wn&&He.aabbDirty){var zn=wn.worldTransform,In=en.aabb,Xn=In.center,cr=In.halfExtents,or=Rn.e.transformMat4(Rn.e.create(),Xn,zn),lr=(Be=zn,(Ke=Rn.a.create())[0]=Be[0],Ke[1]=Be[1],Ke[2]=Be[2],Ke[3]=Be[4],Ke[4]=Be[5],Ke[5]=Be[6],Ke[6]=Be[8],Ke[7]=Be[9],Ke[8]=Be[10],Ke),Ar=Rn.e.transformMat3(Rn.e.create(),cr,lr);He.aabb.update(or,Ar),He.aabbDirty=!1}if(ze&&en){var Nr=q.cullable.getComponentByEntity((Qe==null?void 0:Qe.parentID)||-1);ze.visibilityPlaneMask=q.computeVisibilityWithPlaneMask(He.aabb,(Nr==null?void 0:Nr.visibilityPlaneMask)||X.INDETERMINATE,q.planes||xe.getFrustum().planes),ze.visible=ze.visibilityPlaneMask!==X.OUTSIDE}})},tt.s();!(It=tt.n()).done;)Nt()}catch(Qt){tt.e(Qt)}finally{tt.f()}case 2:case"end":return Rt.stop()}},T)})),function(T){return z.apply(this,arguments)})},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(F,tt,It){if(tt===X.OUTSIDE||tt===X.INSIDE)return tt;for(var Nt=X.INSIDE,q=0,Rt=It.length;q<Rt;++q){var Qt=q<31?1<<q:0;if(!(q<31&&(tt&Qt)==0)){var ee=It[q],xe=ee.normal,Pe=ee.distance;if(Rn.e.dot(xe,F.getNegativeFarPoint(It[q]))+Pe>0)return X.OUTSIDE;Rn.e.dot(xe,F.getPositiveFarPoint(It[q]))+Pe>0&&(Nt|=Qt)}}return Nt}}]),et}(),vn=Ur()(Ve.prototype,"mesh",[Yt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tn=Ur()(Ve.prototype,"cullable",[qt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ln=Ur()(Ve.prototype,"geometry",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Un=Ur()(Ve.prototype,"hierarchy",[Te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hn=Ur()(Ve.prototype,"transform",[Ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=Ve))||Ue);function du(et,z){var T;if(typeof Symbol=="undefined"||et[Symbol.iterator]==null){if(Array.isArray(et)||(T=function(Rt,Qt){if(!!Rt){if(typeof Rt=="string")return tl(Rt,Qt);var ee=Object.prototype.toString.call(Rt).slice(8,-1);if(ee==="Object"&&Rt.constructor&&(ee=Rt.constructor.name),ee==="Map"||ee==="Set")return Array.from(Rt);if(ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee))return tl(Rt,Qt)}}(et))||z&&et&&typeof et.length=="number"){T&&(et=T);var F=0,tt=function(){};return{s:tt,n:function(){return F>=et.length?{done:!0}:{done:!1,value:et[F++]}},e:function(Qt){throw Qt},f:tt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var It,Nt=!0,q=!1;return{s:function(){T=et[Symbol.iterator]()},n:function(){var Qt=T.next();return Nt=Qt.done,Qt},e:function(Qt){q=!0,It=Qt},f:function(){try{Nt||T.return==null||T.return()}finally{if(q)throw It}}}}function tl(et,z){(z==null||z>et.length)&&(z=et.length);for(var T=0,F=new Array(z);T<z;T++)F[T]=et[T];return F}var bh,el,nl,rl,dc,il,al,ol,sl,Fu,Gu,qs,vc,ul,pc,tu,cl,xh,ll,fl,gc,hl,eu=(Zr=Object(kr.injectable)(),ki=Object(kr.inject)(er.MeshComponentManager),Ba=Object(kr.inject)(er.GeometryComponentManager),Ha=Object(kr.inject)(er.MaterialComponentManager),Ka=Object(kr.inject)(er.CullableComponentManager),Ja=Object(kr.inject)(er.TransformComponentManager),ya=Object(kr.inject)(er.HierarchyComponentManager),Mo=Object(kr.inject)(er.Systems),jo=Object(kr.named)(er.FrameGraphSystem),Ro=Object(kr.inject)(er.RenderEngine),Za=Object(kr.inject)(er.ResourcePool),Zr((hu=_s=function(){function et(){var F=this;sr()(this,et),_n()(this,"mesh",ns,this),_n()(this,"geometry",ba,this),_n()(this,"material",qa,this),_n()(this,"cullable",Po,this),_n()(this,"transform",Qo,this),_n()(this,"hierarchy",Nu,this),_n()(this,"frameGraphSystem",ds,this),_n()(this,"engine",Lu,this),_n()(this,"resourcePool",$s,this),this.setup=function(tt,It,Nt){var q=tt.createRenderTarget(It,"color buffer",{width:1,height:1,usage:Gn.RENDER_ATTACHMENT|Gn.SAMPLED|Gn.COPY_SRC});Nt.data={output:It.write(tt,q)}},this.execute=function(){var tt=Vr()(br.a.mark(function It(Nt,q,Rt){var Qt,ee,xe,Pe,He,Be;return br.a.wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:Qt=Nt.getResourceNode(q.data.output),ee=F.resourcePool.getOrCreateResource(Qt.resource),xe=du(Rt),Ke.prev=3,xe.s();case 5:if((Pe=xe.n()).done){Ke.next=11;break}return He=Pe.value,Ke.next=9,F.initView(He);case 9:Ke.next=5;break;case 11:Ke.next=16;break;case 13:Ke.prev=13,Ke.t0=Ke.catch(3),xe.e(Ke.t0);case 16:return Ke.prev=16,xe.f(),Ke.finish(16);case 19:Be=F.engine.getCanvas(),ee.resize({width:Be.width,height:Be.height}),F.engine.setScissor({enable:!1}),F.engine.clear({framebuffer:ee,color:Rt[0].getClearColor(),depth:1}),F.engine.useFramebuffer(ee,function(){var Qe,ze=du(Rt);try{for(ze.s();!(Qe=ze.n()).done;){var en=Qe.value;F.renderView(en)}}catch(wn){ze.e(wn)}finally{ze.f()}});case 24:case"end":return Ke.stop()}},It,null,[[3,13,16,19]])}));return function(It,Nt,q){return tt.apply(this,arguments)}}()}var z,T;return pr()(et,[{key:"renderView",value:function(tt){var It=tt.getScene(),Nt=tt.getCamera(),q=Nt.getViewTransform(),Rt=Rn.b.multiply(Rn.b.create(),Nt.getPerspective(),q);Nt.getFrustum().extractFromVPMatrix(Rt);var Qt=tt.getViewport(),ee=Qt.x,xe=Qt.y,Pe=Qt.width,He=Qt.height;this.engine.viewport({x:ee,y:xe,width:Pe,height:He});var Be,Ke=du(It.getEntities());try{for(Ke.s();!(Be=Ke.n()).done;){var Qe=Be.value;this.renderMesh(Qe,{camera:Nt,view:tt,viewMatrix:q})}}catch(ze){Ke.e(ze)}finally{Ke.f()}}},{key:"renderMesh",value:function(tt,It){var Nt=this,q=It.camera,Rt=It.view,Qt=It.viewMatrix,ee=this.mesh.getComponentByEntity(tt);if(ee.visible){this.hierarchy.forEach(function(en,wn){wn.parentID===tt&&Nt.renderMesh(en,{camera:q,view:Rt,viewMatrix:Qt})});var xe=ee.material,Pe=ee.geometry;if(Pe&&!Pe.dirty&&xe){var He=this.transform.getComponentByEntity(tt),Be=Rn.b.multiply(Rn.b.create(),Qt,He.worldTransform),Ke=Rt.getViewport(),Qe=Ke.width,ze=Ke.height;xe.setUniform({projectionMatrix:q.getPerspective(),modelViewMatrix:Be,modelMatrix:He.worldTransform,viewMatrix:Qt,cameraPosition:q.getPosition(),u_viewport:[Qe,ze]}),ee.model&&(ee.model.draw({uniforms:xe.uniforms.reduce(function(en,wn){return en[wn.name]=wn.data,en},{})}),xe.uniforms.forEach(function(en){en.dirty=!1}),xe.dirty=!1)}}}},{key:"initMesh",value:(T=Vr()(br.a.mark(function F(tt,It){var Nt,q,Rt,Qt,ee,xe,Pe,He=this;return br.a.wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(Nt=this.mesh.getComponentByEntity(tt)){Be.next=3;break}return Be.abrupt("return");case 3:return q=Nt.material,Rt=Nt.geometry,Be.next=7,this.hierarchy.forEachAsync(function(){var Ke=Vr()(br.a.mark(function Qe(ze,en){return br.a.wrap(function(wn){for(;;)switch(wn.prev=wn.next){case 0:if(en.parentID!==tt){wn.next=4;break}return wn.next=4,He.initMesh(ze,It);case 4:case"end":return wn.stop()}},Qe)}));return function(Qe,ze){return Ke.apply(this,arguments)}}());case 7:if(Rt&&!Rt.dirty&&q){Be.next=9;break}return Be.abrupt("return");case 9:if(Nt.model){Be.next=21;break}return q.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),Qt=this.engine,ee=Qt.createModel,xe=Qt.createAttribute,Pe={vs:q.vertexShaderGLSL,fs:q.fragmentShaderGLSL,attributes:Rt.attributes.reduce(function(Ke,Qe){return Qe.data&&Qe.buffer&&(Ke[Qe.name]=xe({buffer:Qe.buffer,attributes:Qe.attributes,arrayStride:Qe.arrayStride,stepMode:Qe.stepMode,divisor:Qe.stepMode==="vertex"?0:1})),Ke},{}),uniforms:q.uniforms.reduce(function(Ke,Qe){return Ke[Qe.name]=Qe.data,Ke},{}),scissor:{enable:!0,box:function(){return It.getViewport()}}},q.cull&&(Pe.cull=q.cull),q.depth&&(Pe.depth=q.depth),q.blend&&(Pe.blend=q.blend),Rt.indicesBuffer&&(Pe.elements=Rt.indicesBuffer),Rt.maxInstancedCount&&(Pe.instances=Rt.maxInstancedCount,Pe.count=Rt.vertexCount||3),Be.next=20,ee(Pe);case 20:Nt.model=Be.sent;case 21:case"end":return Be.stop()}},F,this)})),function(F,tt){return T.apply(this,arguments)})},{key:"initView",value:(z=Vr()(br.a.mark(function F(tt){var It,Nt,q,Rt;return br.a.wrap(function(Qt){for(;;)switch(Qt.prev=Qt.next){case 0:It=tt.getScene(),Nt=du(It.getEntities()),Qt.prev=2,Nt.s();case 4:if((q=Nt.n()).done){Qt.next=10;break}return Rt=q.value,Qt.next=8,this.initMesh(Rt,tt);case 8:Qt.next=4;break;case 10:Qt.next=15;break;case 12:Qt.prev=12,Qt.t0=Qt.catch(2),Nt.e(Qt.t0);case 15:return Qt.prev=15,Nt.f(),Qt.finish(15);case 18:case"end":return Qt.stop()}},F,this,[[2,12,15,18]])})),function(F){return z.apply(this,arguments)})}]),et}(),_s.IDENTIFIER="Render Pass",$a=hu,ns=Ur()($a.prototype,"mesh",[ki],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ba=Ur()($a.prototype,"geometry",[Ba],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qa=Ur()($a.prototype,"material",[Ha],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Po=Ur()($a.prototype,"cullable",[Ka],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qo=Ur()($a.prototype,"transform",[Ja],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nu=Ur()($a.prototype,"hierarchy",[ya],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ds=Ur()($a.prototype,"frameGraphSystem",[Mo,jo],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lu=Ur()($a.prototype,"engine",[Ro],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$s=Ur()($a.prototype,"resourcePool",[Za],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ao=$a))||Ao),Uu=(bh=Object(kr.injectable)(),el=Object(kr.inject)(er.RenderEngine),nl=Object(kr.inject)(er.ResourcePool),bh((sl=ol=function et(){var z=this;sr()(this,et),_n()(this,"engine",il,this),_n()(this,"resourcePool",al,this),this.model=void 0,this.setup=function(T,F,tt){var It=T.getPass(eu.IDENTIFIER);if(It){var Nt=T.createRenderTarget(F,"render to screen",{width:1,height:1});tt.data={input:F.read(It.data.output),output:F.write(T,Nt)}}},this.execute=function(){var T=Vr()(br.a.mark(function F(tt,It){var Nt,q,Rt,Qt,ee,xe,Pe;return br.a.wrap(function(He){for(;;)switch(He.prev=He.next){case 0:if(Nt=z.engine,q=Nt.createModel,Rt=Nt.createAttribute,Qt=Nt.createBuffer,z.model){He.next=6;break}return He.next=4,q({vs:z.engine.supportWebGPU?`layout(location = 0) in vec2 a_Position;
layout(location = 0) out vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`:`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,fs:z.engine.supportWebGPU?`layout(set = 0, binding = 0) uniform sampler u_TextureSampler;
layout(set = 0, binding = 1) uniform texture2D u_Texture;

layout(location = 0) in vec2 v_UV;
layout(location = 0) out vec4 outColor;

void main() {
  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);
}`:`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,attributes:{a_Position:Rt({buffer:Qt({data:[-4,-4,4,-4,0,4],type:Gn.FLOAT}),size:2,arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:ee=He.sent,z.model=ee;case 6:xe=tt.getResourceNode(It.data.input),Pe=z.resourcePool.getOrCreateResource(xe.resource),z.engine.useFramebuffer(null,function(){z.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),z.model.draw({uniforms:{u_Texture:Pe}})});case 9:case"end":return He.stop()}},F)}));return function(F,tt){return T.apply(this,arguments)}}(),this.tearDown=function(){z.model=void 0}},ol.IDENTIFIER="Copy Pass",dc=sl,il=Ur()(dc.prototype,"engine",[el],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),al=Ur()(dc.prototype,"resourcePool",[nl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rl=dc))||rl);function mc(et,z){var T;if(typeof Symbol=="undefined"||et[Symbol.iterator]==null){if(Array.isArray(et)||(T=function(Rt,Qt){if(!!Rt){if(typeof Rt=="string")return yc(Rt,Qt);var ee=Object.prototype.toString.call(Rt).slice(8,-1);if(ee==="Object"&&Rt.constructor&&(ee=Rt.constructor.name),ee==="Map"||ee==="Set")return Array.from(Rt);if(ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee))return yc(Rt,Qt)}}(et))||z&&et&&typeof et.length=="number"){T&&(et=T);var F=0,tt=function(){};return{s:tt,n:function(){return F>=et.length?{done:!0}:{done:!1,value:et[F++]}},e:function(Qt){throw Qt},f:tt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var It,Nt=!0,q=!1;return{s:function(){T=et[Symbol.iterator]()},n:function(){var Qt=T.next();return Nt=Qt.done,Qt},e:function(Qt){q=!0,It=Qt},f:function(){try{Nt||T.return==null||T.return()}finally{if(q)throw It}}}}function yc(et,z){(z==null||z>et.length)&&(z=et.length);for(var T=0,F=new Array(z);T<z;T++)F[T]=et[T];return F}var dl,zu,vl,Oh,pl,gl,ml,nu,Sh,yl,bl,xl,jd=1,Ol=2,bc=(Fu=Object(kr.injectable)(),Gu=Object(kr.inject)(er.RenderEngine),qs=Object(kr.inject)(er.ResourcePool),vc=Object(kr.inject)(er.RenderPassFactory),ul=Object(kr.inject)(er.MeshComponentManager),Fu((hl=gc=function(){function et(){var z=this;sr()(this,et),_n()(this,"engine",cl,this),_n()(this,"resourcePool",xh,this),_n()(this,"renderPassFactory",ll,this),_n()(this,"mesh",fl,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(T,F,tt){var It=T.createRenderTarget(F,"picking fbo",{width:1,height:1});tt.data={output:F.write(T,It)},F.hasSideEffect=!0},this.execute=function(){var T=Vr()(br.a.mark(function F(tt,It,Nt){var q,Rt,Qt;return br.a.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(z.views=Nt,!z.alreadyInRendering){ee.next=3;break}return ee.abrupt("return");case 3:q=mc(Nt);try{for(Qt=function(){var Pe=Rt.value,He=Pe.getViewport(),Be=He.width,Ke=He.height;z.alreadyInRendering=!0;var Qe=tt.getResourceNode(It.data.output);z.pickingFBO=z.resourcePool.getOrCreateResource(Qe.resource),z.pickingFBO.resize({width:Be,height:Ke}),z.engine.useFramebuffer(z.pickingFBO,function(){z.engine.clear({framebuffer:z.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var ze,en=z.renderPassFactory(eu.IDENTIFIER),wn=[],zn=mc(Pe.getScene().getEntities());try{for(zn.s();!(ze=zn.n()).done;){var In=ze.value,Xn=z.mesh.getComponentByEntity(In);Xn.material.setUniform("u_PickingStage",jd),wn.push(Xn)}}catch(cr){zn.e(cr)}finally{zn.f()}en.renderView(Pe),wn.forEach(function(cr){cr.material.setUniform("u_PickingStage",Ol)}),z.alreadyInRendering=!1})},q.s();!(Rt=q.n()).done;)Qt()}catch(xe){q.e(xe)}finally{q.f()}case 5:case"end":return ee.stop()}},F)}));return function(F,tt,It){return T.apply(this,arguments)}}(),this.pick=function(T,F){var tt,It,Nt=T.x,q=T.y,Rt=z.engine,Qt=Rt.readPixels,ee=Rt.useFramebuffer,xe=F.getViewport(),Pe=xe.width,He=xe.height,Be=Nt*window.devicePixelRatio,Ke=q*window.devicePixelRatio;if(!(Be>Pe||Be<0||Ke>He||Ke<0))return ee(z.pickingFBO,function(){var Qe,ze;(tt=Qt({x:Math.round(Be),y:Math.round(He-(q+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(4),framebuffer:z.pickingFBO}))[0]===0&&tt[1]===0&&tt[2]===0||(Qe=tt,ze=Di()(Qe,3),It=ze[0]+256*ze[1]+65536*ze[2]-1,z.highlightEnabled&&z.highlightPickedFeature(tt,F))}),It}}return pr()(et,[{key:"enableHighlight",value:function(T){this.highlightEnabled=T}},{key:"setHighlightColor",value:function(T){this.highlightColor=T}},{key:"highlightPickedFeature",value:function(T,F){if(T){var tt,It=mc(F.getScene().getEntities());try{for(It.s();!(tt=It.n()).done;){var Nt=tt.value,q=this.mesh.getComponentByEntity(Nt).material;q.setUniform("u_PickingStage",Ol),q.setUniform("u_PickingColor",[T[0],T[1],T[2]]),q.setUniform("u_HighlightColor",this.highlightColor)}}catch(Rt){It.e(Rt)}finally{It.f()}}}}]),et}(),gc.IDENTIFIER="PixelPicking Pass",tu=hl,cl=Ur()(tu.prototype,"engine",[Gu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xh=Ur()(tu.prototype,"resourcePool",[qs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ll=Ur()(tu.prototype,"renderPassFactory",[vc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fl=Ur()(tu.prototype,"mesh",[ul],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pc=tu))||pc),xc=(dl=Object(kr.injectable)(),zu=Object(kr.inject)(er.Systems),vl=Object(kr.named)(er.FrameGraphSystem),Oh=Object(kr.inject)(er.RenderPassFactory),pl=Object(kr.inject)(er.ConfigService),gl=Object(kr.inject)(er.ResourcePool),dl((nu=function(){function et(){sr()(this,et),_n()(this,"frameGraphSystem",Sh,this),_n()(this,"renderPassFactory",yl,this),_n()(this,"configService",bl,this),_n()(this,"resourcePool",xl,this)}var z;return pr()(et,[{key:"execute",value:(z=Vr()(br.a.mark(function T(F){var tt,It,Nt,q,Rt,Qt,ee,xe;return br.a.wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:tt=this.renderPassFactory(eu.IDENTIFIER),It=tt.setup,Nt=tt.execute,this.frameGraphSystem.addPass(eu.IDENTIFIER,It,Nt),q=this.renderPassFactory(Uu.IDENTIFIER),Rt=q.setup,Qt=q.execute,ee=q.tearDown,xe=this.frameGraphSystem.addPass(Uu.IDENTIFIER,Rt,Qt,ee),this.frameGraphSystem.present(xe.data.output);case 5:case"end":return Pe.stop()}},T,this)})),function(T){return z.apply(this,arguments)})},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(F,tt){return this.renderPassFactory(bc.IDENTIFIER).pick(F,tt)}}]),et}(),Sh=Ur()(nu.prototype,"frameGraphSystem",[zu,vl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yl=Ur()(nu.prototype,"renderPassFactory",[Oh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bl=Ur()(nu.prototype,"configService",[pl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xl=Ur()(nu.prototype,"resourcePool",[gl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ml=nu))||ml);function Oc(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=Ta()(et);if(z){var tt=Ta()(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return $i()(this,T)}}var Sl,El,wl,vu,Cl,pu,Ml,Al,Tl,Eh=function(et){ea()(T,et);var z=Oc(T);function T(F){var tt;return sr()(this,T),(tt=z.call(this,F)).parentID=void 0,Object.assign(va()(tt),F),tt}return T}(Ui),wh=(Sl=Object(kr.injectable)(),El=Object(kr.inject)(er.HierarchyComponentManager),wl=Object(kr.inject)(er.TransformComponentManager),vu=Object(kr.inject)(er.MeshComponentManager),Sl((pu=function(){function et(){sr()(this,et),_n()(this,"hierarchy",Ml,this),_n()(this,"transform",Al,this),_n()(this,"mesh",Tl,this)}var z;return pr()(et,[{key:"execute",value:(z=Vr()(br.a.mark(function T(){return br.a.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return F.stop()}},T,this)})),function(){return z.apply(this,arguments)})},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var F=this;this.transform.forEach(function(tt,It){It.isDirty()&&(F.setMeshAABBDirty(tt),It.updateTransform())})}},{key:"runHierarchyUpdateSystem",value:function(){var F=this;this.hierarchy.forEach(function(tt,It){var Nt=F.transform.getComponentByEntity(tt),q=F.transform.getComponentByEntity(It.parentID);Nt!==null&&q!==null&&Nt.updateTransformWithParent(q)})}},{key:"attach",value:function(F,tt,It){if(this.hierarchy.contains(F)&&this.detach(F),this.hierarchy.create(F,{parentID:tt}),this.setMeshAABBDirty(tt),this.hierarchy.getCount()>1){for(var Nt=this.hierarchy.getCount()-1;Nt>0;--Nt)for(var q=this.hierarchy.getEntity(Nt),Rt=0;Rt<Nt;++Rt)if(this.hierarchy.getComponent(Rt).parentID===q){this.hierarchy.moveItem(Nt,Rt),++Nt;break}}this.hierarchy.getComponentByEntity(F);var Qt=this.transform.getComponentByEntity(tt);Qt===null&&(Qt=this.transform.create(tt));var ee=this.transform.getComponentByEntity(F);ee===null&&(ee=this.transform.create(F),Qt=this.transform.getComponentByEntity(tt)),!It&&Qt&&(ee.matrixTransform(Rn.b.invert(Rn.b.create(),Qt.worldTransform)),ee.updateTransform()),Qt&&ee.updateTransformWithParent(Qt)}},{key:"detach",value:function(F){if(this.hierarchy.getComponentByEntity(F)!==null){var tt=this.transform.getComponentByEntity(F);tt!==null&&tt.applyTransform(),this.hierarchy.removeKeepSorted(F),this.setMeshAABBDirty(F)}}},{key:"detachChildren",value:function(F){for(var tt=0;tt<this.hierarchy.getCount();){var It;if(((It=this.hierarchy.getComponent(tt))===null||It===void 0?void 0:It.parentID)===F){var Nt=this.hierarchy.getEntity(tt);this.detach(Nt)}else++tt}}},{key:"setMeshAABBDirty",value:function(F){var tt=this.mesh.getComponentByEntity(F);tt&&(tt.aabbDirty=!0)}}]),et}(),Ml=Ur()(pu.prototype,"hierarchy",[El],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Al=Ur()(pu.prototype,"transform",[wl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tl=Ur()(pu.prototype,"mesh",[vu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cl=pu))||Cl);function Ch(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=Ta()(et);if(z){var tt=Ta()(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return $i()(this,T)}}var Sc=function(et){ea()(T,et);var z=Ch(T);function T(F){var tt,It,Nt,q,Rt,Qt,ee,xe,Pe,He,Be,Ke,Qe,ze,en;return sr()(this,T),(tt=z.call(this,F)).dirtyFlag=void 0,tt.localTranslation=Rn.e.fromValues(0,0,0),tt.localRotation=Rn.c.fromValues(0,0,0,1),tt.localScale=Rn.e.fromValues(1,1,1),tt.localTransform=Rn.b.create(),tt.worldTransform=Rn.b.create(),tt.getRotation=(It=Rn.c.create(),function(){return Rn.b.getRotation(It,tt.worldTransform),It}),tt.getScale=(Nt=Rn.e.create(),function(){return Rn.b.getScaling(Nt,tt.worldTransform),Nt}),tt.getPosition=(q=Rn.e.create(),function(){return Rn.b.getTranslation(q,tt.worldTransform),q}),tt.getLocalMatrix=(Rt=Rn.b.create(),function(){return Rn.b.fromRotationTranslationScale(Rt,tt.localRotation,tt.localTranslation,tt.localScale),Rt}),tt.matrixTransform=(Qt=Rn.b.create(),function(wn){Rn.b.multiply(Qt,tt.getLocalMatrix(),wn),Rn.b.getScaling(tt.localScale,Qt),Rn.b.getTranslation(tt.localTranslation,Qt),Rn.b.getRotation(tt.localRotation,Qt)}),tt.rotateRollPitchYaw=(ee=Rn.c.create(),xe=Rn.c.create(),Pe=Rn.c.create(),function(wn,zn,In){tt.setDirty(),Rn.c.fromEuler(ee,wn,0,0),Rn.c.fromEuler(xe,0,zn,0),Rn.c.fromEuler(Pe,0,0,In),Rn.c.multiply(tt.localRotation,ee,tt.localRotation),Rn.c.multiply(tt.localRotation,tt.localRotation,xe),Rn.c.multiply(tt.localRotation,Pe,tt.localRotation),Rn.c.normalize(tt.localRotation,tt.localRotation)}),tt.lerp=(He=Rn.e.create(),Be=Rn.c.create(),Ke=Rn.e.create(),Qe=Rn.e.create(),ze=Rn.c.create(),en=Rn.e.create(),function(wn,zn,In){tt.setDirty(),Rn.b.getScaling(He,wn.worldTransform),Rn.b.getTranslation(Ke,wn.worldTransform),Rn.b.getRotation(Be,wn.worldTransform),Rn.b.getScaling(Qe,zn.worldTransform),Rn.b.getTranslation(en,zn.worldTransform),Rn.b.getRotation(ze,zn.worldTransform),Rn.e.lerp(tt.localScale,He,Qe,In),Rn.c.slerp(tt.localRotation,Be,ze,In),Rn.e.lerp(tt.localTranslation,Ke,en,In)}),tt}return pr()(T,[{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var tt=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];tt?this.dirtyFlag|=T.DIRTY:this.dirtyFlag&=~T.DIRTY}},{key:"updateTransform",value:function(){this.isDirty()&&(this.setDirty(!1),Rn.b.copy(this.worldTransform,this.getLocalMatrix()))}},{key:"updateTransformWithParent",value:function(tt){Rn.b.multiply(this.worldTransform,this.getLocalMatrix(),tt.worldTransform)}},{key:"applyTransform",value:function(){this.setDirty(),Rn.b.getScaling(this.localScale,this.worldTransform),Rn.b.getTranslation(this.localTranslation,this.worldTransform),Rn.b.getRotation(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localTranslation=Rn.e.fromValues(0,0,0),this.localRotation=Rn.c.fromValues(0,0,0,1),this.localScale=Rn.e.fromValues(1,1,1)}},{key:"translate",value:function(tt){return this.setDirty(),Rn.e.add(this.localTranslation,this.localTranslation,tt),this}},{key:"scale",value:function(tt){return this.setDirty(),Rn.e.multiply(this.localScale,this.localScale,tt),this}},{key:"rotate",value:function(tt){return this.setDirty(),Rn.c.multiply(this.localRotation,this.localRotation,tt),Rn.c.normalize(this.localRotation,this.localRotation),this}}]),T}(Ui);Sc.DIRTY=1,t(143),t(144),t(229),t(145),t(146),t(113),t(147),t(50),t(148),t(230);var Ec,jl,Il,_u,Pl,Dl=t(154),Mh=t(251),Ah=t.n(Mh),Vu=(Ec=Object(kr.injectable)(),jl=Object(kr.inject)(er.RenderEngine),Ec((_u=function(){function et(){sr()(this,et),_n()(this,"engine",Pl,this),this.resourcePool={}}return pr()(et,[{key:"getOrCreateResource",value:function(T){if(!this.resourcePool[T.name]){var F=T.descriptor,tt=F.width,It=F.height,Nt=F.usage;this.resourcePool[T.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:tt,height:It,wrapS:Gn.CLAMP_TO_EDGE,wrapT:Gn.CLAMP_TO_EDGE,usage:Nt})})}return this.resourcePool[T.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),et}(),Pl=Ur()(_u.prototype,"engine",[jl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Il=_u))||Il);function Th(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=Ta()(et);if(z){var tt=Ta()(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return $i()(this,T)}}var wc,Rl,jh=function(et){ea()(T,et);var z=Th(T);function T(F){var tt;return sr()(this,T),(tt=z.call(this,F)).name=void 0,tt.name=F.name||"",tt}return T}(Ui),kl=Object(kr.injectable)()(wc=function(){function et(){sr()(this,et),this.config=void 0}return pr()(et,[{key:"get",value:function(){return this.config}},{key:"set",value:function(T){this.config=T}}]),et}())||wc,Ih=Object(kr.injectable)()(Rl=function(){function et(){sr()(this,et)}return pr()(et,[{key:"listen",value:function(T){}},{key:"on",value:function(T,F){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),et}())||Rl,Ph=t(252),Nl=t.n(Ph),Cc,Dh=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function Ll(et){var z={};return{content:et=et.replace(Dh,function(T,F,tt){var It=tt.split(":"),Nt=It[0].trim(),q="";switch(It.length>1&&(q=It[1].trim()),F){case"bool":q=q==="true";break;case"float":case"int":q=Number(q);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":q=q?q.replace("[","").replace("]","").split(",").reduce(function(Rt,Qt){return Rt.push(Number(Qt.trim())),Rt},[]):new Array(function(Rt){var Qt=0;switch(Rt){case"vec2":case"ivec2":Qt=2;break;case"vec3":case"ivec3":Qt=3;break;case"vec4":case"ivec4":case"mat2":Qt=4;break;case"mat3":Qt=9;break;case"mat4":Qt=16}return Qt}(F)).fill(0)}return z[Nt]=q,"uniform ".concat(F," ").concat(Nt,`;
`)}),uniforms:z}}function Wu(et,z){var T=Object.keys(et);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(et);z&&(F=F.filter(function(tt){return Object.getOwnPropertyDescriptor(et,tt).enumerable})),T.push.apply(T,F)}return T}function gu(et){for(var z=1;z<arguments.length;z++){var T=arguments[z]!=null?arguments[z]:{};z%2?Wu(Object(T),!0).forEach(function(F){gr()(et,F,T[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(T)):Wu(Object(T)).forEach(function(F){Object.defineProperty(et,F,Object.getOwnPropertyDescriptor(T,F))})}return et}var Bl=/precision\s+(high|low|medium)p\s+float/,Rh=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,kh=Object(kr.injectable)()(Cc=function(){function et(){sr()(this,et),this.moduleCache={},this.rawContentCache={}}return pr()(et,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:`attribute vec3 a_PickingColor;
varying vec4 v_PickingResult;

uniform vec3 u_PickingColor : [0, 0, 0];
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;
uniform float u_PickingThreshold : 1.0;
uniform float u_PickingBuffer: 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

bool isVertexPicked(vec3 vertexColor) {
  return
    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&
    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&
    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;
}

void setPickingColor(vec3 pickingColor) {
  // compares only in highlight stage
  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));

  // Stores the picking color so that the fragment shader can render it during picking
  v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}`,fs:`varying vec4 v_PickingResult;
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color) {
  bool selected = bool(v_PickingResult.a);

  if (selected) {
    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;

    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));

    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(resultRGB, color.a);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  return filterPickingColor(filterHighlightColor(color));
}
`}),this.registerModule("sdf2d",{vs:"",fs:`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}`})}},{key:"registerModule",value:function(T,F){if(!this.rawContentCache[T]){var tt=F.vs,It=F.fs,Nt=F.uniforms,q=Ll(tt),Rt=q.content,Qt=q.uniforms,ee=Ll(It),xe=ee.content,Pe=ee.uniforms;this.rawContentCache[T]={fs:xe,uniforms:gu(gu(gu({},Qt),Pe),Nt),vs:Rt}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(T){var F=this;if(this.moduleCache[T])return this.moduleCache[T];var tt=this.rawContentCache[T].vs,It=this.rawContentCache[T].fs,Nt=this.processModule(tt,[],"vs"),q=Nt.content,Rt=Nt.includeList,Qt=this.processModule(It,[],"fs"),ee=Qt.content,xe=Qt.includeList,Pe=ee,He=Nl()(Rt.concat(xe).concat(T)).reduce(function(Be,Ke){return gu(gu({},Be),F.rawContentCache[Ke].uniforms)},{});return Bl.test(ee)||(Pe=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`+ee),this.moduleCache[T]={fs:Pe.trim(),uniforms:He,vs:q.trim()},this.moduleCache[T]}},{key:"processModule",value:function(T,F,tt){var It=this;return{content:T.replace(Rh,function(Nt,q){var Rt=q.split(" ")[0].replace(/"/g,"");if(F.indexOf(Rt)>-1)return"";var Qt=It.rawContentCache[Rt][tt];return F.push(Rt),It.processModule(Qt,F,tt).content}),includeList:F}}}]),et}())||Cc,us=new kr.Container;Object(kr.decorate)(Object(kr.injectable)(),Dl.EventEmitter),us.bind(er.IEventEmitter).to(Dl.EventEmitter),Ah()(us,!1);function Nh(){var et=new kr.Container;return et.parent=us,et.bind(er.Systems).to(wh).inSingletonScope().whenTargetNamed(er.SceneGraphSystem),et.bind(er.Systems).to(fo).inSingletonScope().whenTargetNamed(er.FrameGraphSystem),et.bind(er.Systems).to(Bu).inSingletonScope().whenTargetNamed(er.MeshSystem),et.bind(er.Systems).to(Ho).inSingletonScope().whenTargetNamed(er.GeometrySystem),et.bind(er.Systems).to(kt).inSingletonScope().whenTargetNamed(er.MaterialSystem),et.bind(er.Systems).to(xc).inSingletonScope().whenTargetNamed(er.RendererSystem),et.bind(er.ResourcePool).to(Vu).inSingletonScope(),et.bind(er.ConfigService).to(kl).inSingletonScope(),et.bind(er.InteractorService).to(Ih).inSingletonScope(),et.bind(er.RenderPass).to(eu).inSingletonScope().whenTargetNamed(eu.IDENTIFIER),et.bind(er.RenderPass).to(Uu).inSingletonScope().whenTargetNamed(Uu.IDENTIFIER),et.bind(er.RenderPass).to(bc).inSingletonScope().whenTargetNamed(bc.IDENTIFIER),et.bind(er.RenderPassFactory).toFactory(function(z){return function(T){return z.container.getNamed(er.RenderPass,T)}}),et}us.bind(er.ShaderModuleService).to(kh).inSingletonScope(),us.bind(er.NameComponentManager).toConstantValue(new ra(jh)),us.bind(er.HierarchyComponentManager).toConstantValue(new ra(Eh)),us.bind(er.TransformComponentManager).toConstantValue(new ra(Sc)),us.bind(er.MeshComponentManager).toConstantValue(new ra(ht)),us.bind(er.CullableComponentManager).toConstantValue(new ra(l)),us.bind(er.GeometryComponentManager).toConstantValue(new ra(uo)),us.bind(er.MaterialComponentManager).toConstantValue(new ra(Da));var Fl;t(231),t(149),function(et){et.PANSTART="PANSTART",et.PANEND="PANEND",et.PANMOVE="PANMOVE",et.PINCH="PINCH",et.KEYDOWN="KEYDOWN",et.KEYUP="KEYUP",et.HOVER="HOVER"}(Fl||(Fl={})),t(232);var js,Gl,Is,mu,es=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);(function(et){et.Void="Void",et.Boolean="Boolean",et.Float="Float",et.Uint32="Uint32",et.Int32="Int32",et.Vector="Vector",et.Vector2Float="vec2<f32>",et.Vector3Float="vec3<f32>",et.Vector4Float="vec4<f32>",et.Vector2Boolean="vec2<bool>",et.Vector3Boolean="vec3<bool>",et.Vector4Boolean="vec4<bool>",et.Vector2Uint="vec2<u32>",et.Vector3Uint="vec3<u32>",et.Vector4Uint="vec4<u32>",et.Vector2Int="vec2<i32>",et.Vector3Int="vec3<i32>",et.Vector4Int="vec4<i32>",et.Matrix="Matrix",et.Matrix3x3Float="mat3x3<f32>",et.Matrix4x4Float="mat4x4<i32>",et.Struct="Struct",et.FloatArray="Float[]",et.Vector4FloatArray="vec4<f32>[]"})(js||(js={})),function(et){et.Program="Program",et.Identifier="Identifier",et.VariableDeclaration="VariableDeclaration",et.BlockStatement="BlockStatement",et.ReturnStatement="ReturnStatement",et.FunctionDeclaration="FunctionDeclaration",et.VariableDeclarator="VariableDeclarator",et.AssignmentExpression="AssignmentExpression",et.LogicalExpression="LogicalExpression",et.BinaryExpression="BinaryExpression",et.ArrayExpression="ArrayExpression",et.UnaryExpression="UnaryExpression",et.UpdateExpression="UpdateExpression",et.FunctionExpression="FunctionExpression",et.MemberExpression="MemberExpression",et.ConditionalExpression="ConditionalExpression",et.ExpressionStatement="ExpressionStatement",et.CallExpression="CallExpression",et.NumThreadStatement="NumThreadStatement",et.StorageStatement="StorageStatement",et.DoWhileStatement="DoWhileStatement",et.WhileStatement="WhileStatement",et.ForStatement="ForStatement",et.BreakStatement="BreakStatement",et.ContinueStatement="ContinueStatement",et.IfStatement="IfStatement",et.ImportedFunctionStatement="ImportedFunctionStatement"}(Gl||(Gl={})),function(et){et.Input="Input",et.Output="Output",et.Uniform="Uniform",et.Workgroup="Workgroup",et.UniformConstant="UniformConstant",et.Image="Image",et.StorageBuffer="StorageBuffer",et.Private="Private",et.Function="Function"}(Is||(Is={})),function(et){et.GLSL100="GLSL100",et.GLSL450="GLSL450",et.WGSL="WGSL"}(mu||(mu={}));function xs(et){return et===void 0?0:et>360||et<-360?et%360:et}function Ps(et,z,T){return Rr()(et)?Rn.e.fromValues(et,z,T):et.length===3?Rn.e.clone(et):Rn.e.fromValues(et[0],et[1],et[2])}var yu,Mc,Ac,Tc,Ul,po,Yu,Ds,zl=function(){function et(z,T){sr()(this,et),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=z,this.matrix=Rn.b.clone(T.matrix),this.right=Rn.e.clone(T.right),this.up=Rn.e.clone(T.up),this.forward=Rn.e.clone(T.forward),this.position=Rn.e.clone(T.position),this.focalPoint=Rn.e.clone(T.focalPoint),this.distanceVector=Rn.e.clone(T.distanceVector),this.azimuth=T.azimuth,this.elevation=T.elevation,this.roll=T.roll,this.relAzimuth=T.relAzimuth,this.relElevation=T.relElevation,this.relRoll=T.relRoll,this.dollyingStep=T.dollyingStep,this.distance=T.distance}return pr()(et,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(T){T.matrix=Rn.b.copy(T.matrix,this.matrix),T.right=Rn.e.copy(T.right,this.right),T.up=Rn.e.copy(T.up,this.up),T.forward=Rn.e.copy(T.forward,this.forward),T.position=Rn.e.copy(T.position,this.position),T.focalPoint=Rn.e.copy(T.focalPoint,this.focalPoint),T.distanceVector=Rn.e.copy(T.distanceVector,this.distanceVector),T.azimuth=this.azimuth,T.elevation=this.elevation,T.roll=this.roll,T.relAzimuth=this.relAzimuth,T.relElevation=this.relElevation,T.relRoll=this.relRoll,T.dollyingStep=this.dollyingStep,T.distance=this.distance}}]),et}();(function(et){et.ORBITING="ORBITING",et.EXPLORING="EXPLORING",et.TRACKING="TRACKING"})(po||(po={})),function(et){et.DEFAULT="DEFAULT",et.ROTATIONAL="ROTATIONAL",et.TRANSLATIONAL="TRANSLATIONAL",et.CINEMATIC="CINEMATIC"}(Yu||(Yu={})),function(et){et.ORTHOGRAPHIC="ORTHOGRAPHIC",et.PERSPECTIVE="PERSPECTIVE"}(Ds||(Ds={}));var _l,Vl,Wl,Yl,Xu,Xl,Hl,Os=Math.PI/180,Vs=180/Math.PI,Kl=(yu=Object(kr.injectable)(),Mc=Object(kr.inject)(er.InteractorService),yu((Tc=function(){function et(){sr()(this,et),this.matrix=Rn.b.create(),this.right=Rn.e.fromValues(1,0,0),this.up=Rn.e.fromValues(0,1,0),this.forward=Rn.e.fromValues(0,0,1),this.position=Rn.e.fromValues(0,0,1),this.focalPoint=Rn.e.fromValues(0,0,0),this.distanceVector=Rn.e.fromValues(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.rotateWorld=!1,_n()(this,"interactor",Ul,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=Rn.b.create(),this.view=void 0,this.following=void 0,this.type=po.EXPLORING,this.trackingMode=Yu.DEFAULT,this.projectionMode=Ds.PERSPECTIVE,this.frustum=new xr,this.landmarks=[],this.landmarkAnimationID=void 0}return pr()(et,[{key:"clone",value:function(){var T=new et;return T.setType(this.type,void 0),T.interactor=this.interactor,T}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(T,F){return this.type=T,this.type===po.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===po.TRACKING&&F!==void 0&&this.setTrackingMode(F),this}},{key:"setProjectionMode",value:function(T){return this.projectionMode=T,this}},{key:"setTrackingMode",value:function(T){if(this.type!==po.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=T,this}},{key:"setWorldRotation",value:function(T){this.rotateWorld=T,this._getAngles()}},{key:"getViewTransform",value:function(){return Rn.b.invert(Rn.b.create(),this.matrix)}},{key:"setMatrix",value:function(T){return this.matrix=T,this._update(),this}},{key:"setAspect",value:function(T){return this.setPerspective(this.near,this.far,this.fov,T),this}},{key:"setViewOffset",value:function(T,F,tt,It,Nt,q){return this.aspect=T/F,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=T,this.view.fullHeight=F,this.view.offsetX=tt,this.view.offsetY=It,this.view.width=Nt,this.view.height=q,this.projectionMode===Ds.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===Ds.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(T,F,tt,It){return this.projectionMode=Ds.PERSPECTIVE,this.fov=tt,this.near=T,this.far=F,this.aspect=It,Rn.b.perspective(this.perspective,this.fov*Os,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(T,F,tt,It,Nt,q){this.projectionMode=Ds.ORTHOGRAPHIC,this.rright=F,this.left=T,this.top=tt,this.bottom=It,this.near=Nt,this.far=q;var Rt=(this.rright-this.left)/(2*this.zoom),Qt=(this.top-this.bottom)/(2*this.zoom),ee=(this.rright+this.left)/2,xe=(this.top+this.bottom)/2,Pe=ee-Rt,He=ee+Rt,Be=xe+Qt,Ke=xe-Qt;if(this.view!==void 0&&this.view.enabled){var Qe=(this.rright-this.left)/this.view.fullWidth/this.zoom,ze=(this.top-this.bottom)/this.view.fullHeight/this.zoom;He=(Pe+=Qe*this.view.offsetX)+Qe*this.view.width,Ke=(Be-=ze*this.view.offsetY)-ze*this.view.height}return Rn.b.ortho(this.perspective,Pe,He,Be,Ke,Nt,q),this}},{key:"setPosition",value:function(T,F,tt){return this._setPosition(T,F,tt),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(T,F,tt){var It=Rn.e.fromValues(0,1,0);if(this.focalPoint=Ps(T,F,tt),this.trackingMode===Yu.CINEMATIC){var Nt=Rn.e.subtract(Rn.e.create(),this.focalPoint,this.position);T=Nt[0],F=Nt[1],tt=Nt[2];var q=Rn.e.length(Nt),Rt=Math.asin(F/q)*Vs,Qt=90+Math.atan2(tt,T)*Vs,ee=Rn.b.create();Rn.b.rotateY(ee,ee,Qt*Os),Rn.b.rotateX(ee,ee,Rt*Os),It=Rn.e.transformMat4(Rn.e.create(),[0,1,0],ee)}return Rn.b.invert(this.matrix,Rn.b.lookAt(Rn.b.create(),this.position,this.focalPoint,It)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(T){if(!(this.distance===T||T<0)){this.distance=T,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var F=Rn.e.create();T=this.distance;var tt=this.forward,It=this.focalPoint;return F[0]=T*tt[0]+It[0],F[1]=T*tt[1]+It[1],F[2]=T*tt[2]+It[2],this._setPosition(F),this}}},{key:"changeAzimuth",value:function(T){return this.setAzimuth(this.azimuth+T),this}},{key:"changeElevation",value:function(T){return this.setElevation(this.elevation+T),this}},{key:"changeRoll",value:function(T){return this.setRoll(this.roll+T),this}},{key:"setAzimuth",value:function(T){return this.azimuth=xs(T),this.computeMatrix(),this._getAxes(),this.type===po.ORBITING||this.type===po.EXPLORING?this._getPosition():this.type===po.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(T){return this.elevation=xs(T),this.computeMatrix(),this._getAxes(),this.type===po.ORBITING||this.type===po.EXPLORING?this._getPosition():this.type===po.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(T){return this.roll=xs(T),this.computeMatrix(),this._getAxes(),this.type===po.ORBITING||this.type===po.EXPLORING?this._getPosition():this.type===po.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(T,F,tt){if(this.type===po.EXPLORING){T=xs(T),F=xs(F),tt=xs(tt);var It=Rn.c.setAxisAngle(Rn.c.create(),[1,0,0],(this.rotateWorld?1:-1)*F*Os),Nt=Rn.c.setAxisAngle(Rn.c.create(),[0,1,0],(this.rotateWorld?1:-1)*T*Os),q=Rn.c.setAxisAngle(Rn.c.create(),[0,0,1],tt*Os),Rt=Rn.c.multiply(Rn.c.create(),Nt,It);Rt=Rn.c.multiply(Rn.c.create(),Rt,q);var Qt=Rn.b.fromQuat(Rn.b.create(),Rt);Rn.b.translate(this.matrix,this.matrix,[0,0,-this.distance]),Rn.b.multiply(this.matrix,this.matrix,Qt),Rn.b.translate(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+F)>90)return;this.relElevation=xs(F),this.relAzimuth=xs(T),this.relRoll=xs(tt),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===po.ORBITING||this.type===po.EXPLORING?this._getPosition():this.type===po.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(T,F){var tt=Ps(T,F,0),It=Rn.e.clone(this.position);return Rn.e.add(It,It,Rn.e.scale(Rn.e.create(),this.right,tt[0])),Rn.e.add(It,It,Rn.e.scale(Rn.e.create(),this.up,tt[1])),this._setPosition(It),this}},{key:"dolly",value:function(T){var F=this.forward,tt=Rn.e.clone(this.position),It=T*this.dollyingStep;return tt[0]+=It*F[0],tt[1]+=It*F[1],tt[2]+=It*F[2],this._setPosition(tt),this.type===po.ORBITING||this.type===po.EXPLORING?this._getDistance():this.type===po.TRACKING&&Rn.e.add(this.focalPoint,tt,this.distanceVector),this}},{key:"createLandmark",value:function(T,F){var tt=this.clone();tt.setPosition(F.position),tt.setFocalPoint(F.focalPoint),F.roll!==void 0&&tt.setRoll(F.roll);var It=new zl(T,tt);return this.landmarks.push(It),It}},{key:"setLandmark",value:function(T){var F=new zl(T,this);return this.landmarks.push(F),this}},{key:"gotoLandmark",value:function(T){var F=this,tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3,It=this.landmarks.find(function(xe){return xe.name===T});if(It){if(tt===0)return void It.retrieve(this);this.landmarkAnimationID!==void 0&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var Nt,q=It.getPosition(),Rt=It.getFocalPoint(),Qt=It.getRoll(),ee=function xe(Pe){Nt===void 0&&(Nt=Pe);var He,Be=Pe-Nt,Ke=(1-Math.cos(Be/tt*Math.PI))/2,Qe=Rn.e.create(),ze=Rn.e.create();if(Rn.e.lerp(Qe,F.focalPoint,Rt,Ke),Rn.e.lerp(ze,F.position,q,Ke),He=F.roll*(1-Ke)+Qt*Ke,F.setFocalPoint(Qe),F.setPosition(ze),F.setRoll(He),F.computeMatrix(),!(Rn.e.dist(Qe,Rt)+Rn.e.dist(ze,q)>.01))return F.setFocalPoint(Qe),F.setPosition(ze),F.setRoll(He),F.computeMatrix(),void F.interactor.connect();Be<tt&&(F.landmarkAnimationID=window.requestAnimationFrame(xe))};window.requestAnimationFrame(ee)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var T,F,tt=Rn.c.setAxisAngle(Rn.c.create(),[0,0,1],this.roll*Os);Rn.b.identity(this.matrix),T=Rn.c.setAxisAngle(Rn.c.create(),[1,0,0],(this.rotateWorld&&this.type!==po.TRACKING||this.type===po.TRACKING?1:-1)*this.elevation*Os),F=Rn.c.setAxisAngle(Rn.c.create(),[0,1,0],(this.rotateWorld&&this.type!==po.TRACKING||this.type===po.TRACKING?1:-1)*this.azimuth*Os);var It=Rn.c.multiply(Rn.c.create(),F,T);It=Rn.c.multiply(Rn.c.create(),It,tt);var Nt=Rn.b.fromQuat(Rn.b.create(),It);this.type===po.ORBITING||this.type===po.EXPLORING?(Rn.b.translate(this.matrix,this.matrix,this.focalPoint),Rn.b.multiply(this.matrix,this.matrix,Nt),Rn.b.translate(this.matrix,this.matrix,[0,0,this.distance])):this.type===po.TRACKING&&(Rn.b.translate(this.matrix,this.matrix,this.position),Rn.b.multiply(this.matrix,this.matrix,Nt))}},{key:"_setPosition",value:function(T,F,tt){this.position=Ps(T,F,tt);var It=this.matrix;It[12]=this.position[0],It[13]=this.position[1],It[14]=this.position[2],It[15]=1}},{key:"_getAxes",value:function(){Rn.e.copy(this.right,Ps(Rn.f.transformMat4(Rn.f.create(),[1,0,0,0],this.matrix))),Rn.e.copy(this.up,Ps(Rn.f.transformMat4(Rn.f.create(),[0,1,0,0],this.matrix))),Rn.e.copy(this.forward,Ps(Rn.f.transformMat4(Rn.f.create(),[0,0,1,0],this.matrix))),Rn.e.normalize(this.right,this.right),Rn.e.normalize(this.up,this.up),Rn.e.normalize(this.forward,this.forward)}},{key:"_getAngles",value:function(){var T=this.distanceVector[0],F=this.distanceVector[1],tt=this.distanceVector[2],It=Rn.e.length(this.distanceVector);if(It===0)return this.elevation=0,void(this.azimuth=0);this.type===po.TRACKING||this.rotateWorld?(this.elevation=Math.asin(F/It)*Vs,this.azimuth=Math.atan2(-T,-tt)*Vs):(this.elevation=-Math.asin(F/It)*Vs,this.azimuth=-Math.atan2(-T,-tt)*Vs)}},{key:"_getPosition",value:function(){Rn.e.copy(this.position,Ps(Rn.f.transformMat4(Rn.f.create(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){Rn.e.transformMat3(this.distanceVector,[0,0,-this.distance],Rn.a.fromMat4(Rn.a.create(),this.matrix)),Rn.e.add(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=Rn.e.subtract(Rn.e.create(),this.focalPoint,this.position),this.distance=Rn.e.length(this.distanceVector),this.dollyingStep=this.distance/100}}]),et}(),Ul=Ur()(Tc.prototype,"interactor",[Mc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ac=Tc))||Ac),Jl=t(44),Hu=t.n(Jl),Lh=t(26),Ql=t.n(Lh),ci=t(7);function jc(){if(typeof document!="undefined")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function Zl(et,z){var T=Object.keys(et);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(et);z&&(F=F.filter(function(tt){return Object.getOwnPropertyDescriptor(et,tt).enumerable})),T.push.apply(T,F)}return T}function Ku(et){for(var z=1;z<arguments.length;z++){var T=arguments[z]!=null?arguments[z]:{};z%2?Zl(Object(T),!0).forEach(function(F){gr()(et,F,T[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(T)):Zl(Object(T)).forEach(function(F){Object.defineProperty(et,F,Object.getOwnPropertyDescriptor(T,F))})}return et}var $l,bu,ql,tf,ef,nf,rf,Rs,af,of,sf,uf,Ju,cf,Ss,ru,vs,rs,xu,ks,Ws,Qu,ps,Zo,Vo,gs,ms,Zu,lf=(_l=Object(kr.injectable)(),Vl=Object(kr.inject)(er.RenderEngine),Wl=Object(kr.inject)(er.ConfigService),_l((Xu=function(){function et(){sr()(this,et),_n()(this,"engine",Xl,this),_n()(this,"configService",Hl,this),this.entity=zi(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}var z,T,F;return pr()(et,[{key:"init",value:function(){var It=this.configService.get(),Nt=It.canvas,q=It.engineOptions;this.initPromise=this.engine.init(Ku({canvas:Nt||jc(),swapChainFormat:ci.TextureFormat.BGRA8Unorm,antialiasing:!1},q))}},{key:"setBundle",value:function(It){this.compiledBundle=JSON.parse(JSON.stringify(It))}},{key:"setDispatch",value:function(It){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=It),this}},{key:"setMaxIteration",value:function(It){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=It),this}},{key:"setBinding",value:function(It,Nt){var q=this;if(typeof It=="string"){var Rt=Rr()(Nt)||Hu()(Nt)||Ql()(Nt);if(this.compiledBundle&&this.compiledBundle.context){var Qt=this.compiledBundle.context.defines.find(function(xe){return xe.name===It});if(Qt)return Qt.value=Nt,this;var ee=this.compiledBundle.context.uniforms.find(function(xe){return xe.name===It});ee&&(Rt?(ee.data=Nt,ee.isReferer=!1,ee.storageClass===Is.Uniform?this.model&&this.model.updateUniform(It,Nt):this.model&&this.model.updateBuffer(It,Nt)):(ee.isReferer=!0,ee.data=Nt))}}else Object.keys(It).forEach(function(xe){q.setBinding(xe,It[xe])});return this}},{key:"execute",value:(F=Vr()(br.a.mark(function tt(){var It,Nt,q=this,Rt=arguments;return br.a.wrap(function(Qt){for(;;)switch(Qt.prev=Qt.next){case 0:if(It=Rt.length>0&&Rt[0]!==void 0?Rt[0]:1,!this.dirty){Qt.next=6;break}return this.compiledBundle.context&&(It>1?this.compiledBundle.context.maxIteration=It:this.compiledBundle.context.maxIteration++),Qt.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(ee){return ee.isReferer}).forEach(function(ee){var xe=ee.data,Pe=ee.name;q.model.confirmInput(xe.model,Pe)}),Nt=0;Nt<It;Nt++)this.model.run();return this.engine.endFrame(),Qt.abrupt("return",this);case 12:case"end":return Qt.stop()}},tt,this)})),function(){return F.apply(this,arguments)})},{key:"getOutput",value:(T=Vr()(br.a.mark(function tt(){return br.a.wrap(function(It){for(;;)switch(It.prev=It.next){case 0:return It.abrupt("return",this.model.readData());case 1:case"end":return It.stop()}},tt,this)})),function(){return T.apply(this,arguments)})},{key:"compile",value:(z=Vr()(br.a.mark(function tt(){var It,Nt,q;return br.a.wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:return Rt.next=2,this.initPromise;case 2:return It=Ku({},this.compiledBundle.context),Nt=this.engine.supportWebGPU?this.engine.useWGSL?mu.WGSL:mu.GLSL450:mu.GLSL100,q=this.compiledBundle.shaders[Nt],It.defines.filter(function(Qt){return Qt.runtime}).forEach(function(Qt){var ee="".concat("__DefineValuePlaceholder__").concat(Qt.name);q=q.replace(ee,"".concat(Qt.value))}),It.shader=q,It.uniforms.forEach(function(Qt){if(!Qt.data&&Qt.storageClass===Is.StorageBuffer){var ee=1;Qt.type===js.FloatArray?ee=1:Qt.type===js.Vector4FloatArray&&(ee=4),Qt.data=new Float32Array(It.output.length*ee).fill(0)}}),this.compiledBundle.context=It,Rt.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=Rt.sent;case 12:case"end":return Rt.stop()}},tt,this)})),function(){return z.apply(this,arguments)})}]),et}(),Xl=Ur()(Xu.prototype,"engine",[Vl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hl=Ur()(Xu.prototype,"configService",[Wl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yl=Xu))||Yl),Ns=($l=Object(kr.injectable)(),bu=Object(kr.inject)(er.MeshComponentManager),ql=Object(kr.inject)(er.CullableComponentManager),tf=Object(kr.inject)(er.TransformComponentManager),ef=Object(kr.inject)(er.Systems),nf=Object(kr.named)(er.SceneGraphSystem),$l((cf=Ju=function(){function et(){sr()(this,et),this.attributes={},this.config=void 0,_n()(this,"mesh",af,this),_n()(this,"cullable",of,this),_n()(this,"transform",sf,this),_n()(this,"sceneGraphSystem",uf,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return pr()(et,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(T){this.config=T}},{key:"setEntity",value:function(T){this.entity=T,this.cullable.create(T),this.meshComponent=this.mesh.create(T),this.transformComponent=this.transform.create(T),this.onEntityCreated()}},{key:"setMaterial",value:function(T){return this.meshComponent.material=T,this}},{key:"setGeometry",value:function(T){return this.meshComponent.geometry=T,this}},{key:"setAttributes",value:function(T){var F=this;Object.keys(T).forEach(function(tt){T[tt]!==void 0&&T[tt]!==F.attributes[tt]&&(F.onAttributeChanged({name:tt,data:T[tt]}),F.attributes[tt]=T[tt])})}},{key:"setVisible",value:function(T){return this.meshComponent.visible=T,this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(T){return this.sceneGraphSystem.attach(this.entity,T.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(T){var F=T.name,tt=T.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(F),tt)}},{key:"convertAttributeName2UniformName",value:function(T){return T}}]),et}(),Ju.POINT="point",Ju.LINE="line",Ju.GRID="grid",Rs=cf,af=Ur()(Rs.prototype,"mesh",[bu],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),of=Ur()(Rs.prototype,"cullable",[ql],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sf=Ur()(Rs.prototype,"transform",[tf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uf=Ur()(Rs.prototype,"sceneGraphSystem",[ef,nf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rf=Rs))||rf),Bh=t(253),Fh=t.n(Bh),Gh=function(){function et(z,T){sr()(this,et),this.attribute=void 0,this.buffer=void 0;var F=T.buffer,tt=T.offset,It=T.stride,Nt=T.normalized,q=T.size,Rt=T.divisor;this.buffer=F,this.attribute={buffer:F.get(),offset:tt||0,stride:It||0,normalized:Nt||!1,divisor:Rt||0},q&&(this.attribute.size=q)}return pr()(et,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(T){this.buffer.subData(T)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),et}(),Uh=(Ss={},gr()(Ss,Gn.POINTS,"points"),gr()(Ss,Gn.LINES,"lines"),gr()(Ss,Gn.LINE_LOOP,"line loop"),gr()(Ss,Gn.LINE_STRIP,"line strip"),gr()(Ss,Gn.TRIANGLES,"triangles"),gr()(Ss,Gn.TRIANGLE_FAN,"triangle fan"),gr()(Ss,Gn.TRIANGLE_STRIP,"triangle strip"),Ss),ff=(ru={},gr()(ru,Gn.STATIC_DRAW,"static"),gr()(ru,Gn.DYNAMIC_DRAW,"dynamic"),gr()(ru,Gn.STREAM_DRAW,"stream"),ru),Ic=(vs={},gr()(vs,Gn.BYTE,"int8"),gr()(vs,Gn.UNSIGNED_INT,"int16"),gr()(vs,Gn.INT,"int32"),gr()(vs,Gn.UNSIGNED_BYTE,"uint8"),gr()(vs,Gn.UNSIGNED_SHORT,"uint16"),gr()(vs,Gn.UNSIGNED_INT,"uint32"),gr()(vs,Gn.FLOAT,"float"),vs),zh=(rs={},gr()(rs,Gn.ALPHA,"alpha"),gr()(rs,Gn.LUMINANCE,"luminance"),gr()(rs,Gn.LUMINANCE_ALPHA,"luminance alpha"),gr()(rs,Gn.RGB,"rgb"),gr()(rs,Gn.RGBA,"rgba"),gr()(rs,Gn.RGBA4,"rgba4"),gr()(rs,Gn.RGB5_A1,"rgb5 a1"),gr()(rs,Gn.RGB565,"rgb565"),gr()(rs,Gn.DEPTH_COMPONENT,"depth"),gr()(rs,Gn.DEPTH_STENCIL,"depth stencil"),rs),hf=(xu={},gr()(xu,Gn.DONT_CARE,"dont care"),gr()(xu,Gn.NICEST,"nice"),gr()(xu,Gn.FASTEST,"fast"),xu),df=(ks={},gr()(ks,Gn.NEAREST,"nearest"),gr()(ks,Gn.LINEAR,"linear"),gr()(ks,Gn.LINEAR_MIPMAP_LINEAR,"mipmap"),gr()(ks,Gn.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),gr()(ks,Gn.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),gr()(ks,Gn.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),ks),Ou=(Ws={},gr()(Ws,Gn.REPEAT,"repeat"),gr()(Ws,Gn.CLAMP_TO_EDGE,"clamp"),gr()(Ws,Gn.MIRRORED_REPEAT,"mirror"),Ws),$u=(Qu={},gr()(Qu,Gn.NONE,"none"),gr()(Qu,Gn.BROWSER_DEFAULT_WEBGL,"browser"),Qu),_h=(ps={},gr()(ps,Gn.NEVER,"never"),gr()(ps,Gn.ALWAYS,"always"),gr()(ps,Gn.LESS,"less"),gr()(ps,Gn.LEQUAL,"lequal"),gr()(ps,Gn.GREATER,"greater"),gr()(ps,Gn.GEQUAL,"gequal"),gr()(ps,Gn.EQUAL,"equal"),gr()(ps,Gn.NOTEQUAL,"notequal"),ps),vf=(Zo={},gr()(Zo,Gn.FUNC_ADD,"add"),gr()(Zo,Gn.MIN_EXT,"min"),gr()(Zo,Gn.MAX_EXT,"max"),gr()(Zo,Gn.FUNC_SUBTRACT,"subtract"),gr()(Zo,Gn.FUNC_REVERSE_SUBTRACT,"reverse subtract"),Zo),Su=(Vo={},gr()(Vo,Gn.ZERO,"zero"),gr()(Vo,Gn.ONE,"one"),gr()(Vo,Gn.SRC_COLOR,"src color"),gr()(Vo,Gn.ONE_MINUS_SRC_COLOR,"one minus src color"),gr()(Vo,Gn.SRC_ALPHA,"src alpha"),gr()(Vo,Gn.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),gr()(Vo,Gn.DST_COLOR,"dst color"),gr()(Vo,Gn.ONE_MINUS_DST_COLOR,"one minus dst color"),gr()(Vo,Gn.DST_ALPHA,"dst alpha"),gr()(Vo,Gn.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),gr()(Vo,Gn.CONSTANT_COLOR,"constant color"),gr()(Vo,Gn.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),gr()(Vo,Gn.CONSTANT_ALPHA,"constant alpha"),gr()(Vo,Gn.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),gr()(Vo,Gn.SRC_ALPHA_SATURATE,"src alpha saturate"),Vo),qu=(gs={},gr()(gs,Gn.NEVER,"never"),gr()(gs,Gn.ALWAYS,"always"),gr()(gs,Gn.LESS,"less"),gr()(gs,Gn.LEQUAL,"lequal"),gr()(gs,Gn.GREATER,"greater"),gr()(gs,Gn.GEQUAL,"gequal"),gr()(gs,Gn.EQUAL,"equal"),gr()(gs,Gn.NOTEQUAL,"notequal"),gs),Ls=(ms={},gr()(ms,Gn.ZERO,"zero"),gr()(ms,Gn.KEEP,"keep"),gr()(ms,Gn.REPLACE,"replace"),gr()(ms,Gn.INVERT,"invert"),gr()(ms,Gn.INCR,"increment"),gr()(ms,Gn.DECR,"decrement"),gr()(ms,Gn.INCR_WRAP,"increment wrap"),gr()(ms,Gn.DECR_WRAP,"decrement wrap"),ms),pf=(Zu={},gr()(Zu,Gn.FRONT,"front"),gr()(Zu,Gn.BACK,"back"),Zu),Bs=function(){function et(z,T){sr()(this,et),this.buffer=void 0;var F=T.data,tt=T.usage,It=T.type;this.buffer=z.buffer({data:F,usage:ff[tt||Gn.STATIC_DRAW],type:Ic[It||Gn.UNSIGNED_BYTE]})}return pr()(et,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(T){var F=T.data,tt=T.offset;this.buffer.subdata(F,tt)}}]),et}(),gf=t(23),Go=t.n(gf);function mf(et,z){var T=Object.keys(et);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(et);z&&(F=F.filter(function(tt){return Object.getOwnPropertyDescriptor(et,tt).enumerable})),T.push.apply(T,F)}return T}function Es(et){for(var z=1;z<arguments.length;z++){var T=arguments[z]!=null?arguments[z]:{};z%2?mf(Object(T),!0).forEach(function(F){gr()(et,F,T[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(T)):mf(Object(T)).forEach(function(F){Object.defineProperty(et,F,Object.getOwnPropertyDescriptor(T,F))})}return et}var yf=0,bf=function(){function et(T,F){var tt=this;sr()(this,et),this.reGl=T,this.context=F,this.entity=zi(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var It={};this.context.uniforms.forEach(function(ee){var xe=ee.name,Pe=ee.type,He=ee.data,Be=ee.isReferer,Ke=ee.storageClass;if(Ke===Is.StorageBuffer){if(Be)tt.textureCache[xe]={data:void 0},It["".concat(xe,"Size")]=function(){return He.compiledBundle.context.output.textureSize};else{tt.textureCache[xe]=tt.calcDataTexture(xe,Pe,He);var Qe=tt.textureCache[xe],ze=Qe.textureWidth,en=Qe.isOutput;It["".concat(xe,"Size")]=[ze,ze],en&&(tt.outputTextureName=xe,tt.context.needPingpong&&(tt.outputTextureName="".concat(xe,"Output"),tt.textureCache[tt.outputTextureName]=tt.calcDataTexture(xe,Pe,He)))}It[xe]=function(){return tt.textureCache[xe].texture}}else if(Ke===Is.Uniform){if(He&&(Array.isArray(He)||Hu()(He))&&He.length>16)throw new Error("invalid data type ".concat(Pe));It[xe]=function(){return ee.data}}});var Nt=this.getOuputDataTexture(),q=Nt.textureWidth,Rt=Nt.texelCount;It.u_OutputTextureSize=[q,q],It.u_OutputTexelCount=Rt,this.context.output.textureSize=[q,q];var Qt={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(this.context.shader),uniforms:It,vert:`attribute vec3 a_Position;
attribute vec2 a_TexCoord;

varying vec2 v_TexCoord;

void main() {
  gl_Position = vec4(a_Position, 1.0);
  v_TexCoord = a_TexCoord;
}`,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(Qt)}var z;return pr()(et,[{key:"run",value:function(){var F=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){F.computeCommand()})}},{key:"readData",value:(z=Vr()(br.a.mark(function T(){var F,tt,It,Nt,q,Rt,Qt,ee,xe=this;return br.a.wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){F=xe.reGl.read()}),!F){Pe.next=6;break}if(tt=this.getOuputDataTexture(),It=tt.originalDataLength,Nt=tt.elementsPerTexel,q=tt.typedArrayConstructor,Rt=q===void 0?Float32Array:q,Qt=[],Nt!==4)for(ee=0;ee<F.length;ee+=4)Nt===1?Qt.push(F[ee]):Nt===2?Qt.push(F[ee],F[ee+1]):Qt.push(F[ee],F[ee+1],F[ee+2]);else Qt=F;return Pe.abrupt("return",new Rt(Qt.slice(0,It)));case 6:return Pe.abrupt("return",new Float32Array);case 7:case"end":return Pe.stop()}},T,this)})),function(){return z.apply(this,arguments)})},{key:"confirmInput",value:function(F,tt){var It;this.entity===F.entity?(this.dynamicPingpong=!0,It=this):It=F,this.textureCache[tt].id=It.getOuputDataTexture().id,this.textureCache[tt].texture=It.getOuputDataTexture().texture}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(F,tt){var It=this.context.uniforms.find(function(Qt){return Qt.name===F});if(It){var Nt=this.calcDataTexture(F,It.type,tt),q=Nt.texture,Rt=Nt.data;this.textureCache[F].data=Rt,this.textureCache[F].texture=q}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var F=this.context.output.name;this.textureCache[F].id=this.getOuputDataTexture().id,this.textureCache[F].texture=this.getOuputDataTexture().texture}var tt=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=tt}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var F=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=F}},{key:"cloneDataTexture",value:function(F){var tt=F.data,It=F.textureWidth;return Es(Es({},F),{},{id:yf++,texture:this.reGl.texture({width:It,height:It,data:tt,type:"float"})})}},{key:"calcDataTexture",value:function(F,tt,It){var Nt=1;tt===js.Vector4FloatArray&&(Nt=4);for(var q=[],Rt=0;Rt<It.length;Rt+=Nt)Nt===1?q.push(It[Rt],0,0,0):Nt===2?q.push(It[Rt],It[Rt+1],0,0):Nt===3?q.push(It[Rt],It[Rt+1],It[Rt+2],0):Nt===4&&q.push(It[Rt],It[Rt+1],It[Rt+2],It[Rt+3]);var Qt=It.length,ee=Math.ceil(Qt/Nt),xe=Math.ceil(Math.sqrt(ee)),Pe=xe*xe;ee<Pe&&q.push.apply(q,Go()(new Array(4*(Pe-ee)).fill(0)));var He=this.reGl.texture({width:xe,height:xe,data:q,type:"float"});return{id:yf++,data:q,originalDataLength:Qt,typedArrayConstructor:Hu()(It)?It.constructor:void 0,textureWidth:xe,texture:He,texelCount:ee,elementsPerTexel:Nt,isOutput:F===this.context.output.name}}}]),et}(),xf=function(){function et(z,T){sr()(this,et),this.elements=void 0;var F=T.data,tt=T.usage,It=T.type,Nt=T.count;this.elements=z.elements({data:F,usage:ff[tt||Gn.STATIC_DRAW],type:Ic[It||Gn.UNSIGNED_BYTE],count:Nt})}return pr()(et,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(T){var F=T.data;this.elements.subdata(F)}},{key:"destroy",value:function(){this.elements.destroy()}}]),et}(),Vh=function(){function et(z,T){sr()(this,et),this.framebuffer=void 0;var F=T.width,tt=T.height,It=T.color,Nt=T.colors,q=(T.depth,T.stencil,{width:F,height:tt});Array.isArray(Nt)&&(q.colors=Nt.map(function(Rt){return Rt.get()})),It&&typeof It!="boolean"&&(q.color=It.get()),this.framebuffer=z.framebuffer(q)}return pr()(et,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(T){var F=T.width,tt=T.height;this.framebuffer.resize(F,tt)}}]),et}(),Wh=t(90),Yh=t.n(Wh),Of=t(151),tc=t.n(Of);function Eu(et){var z={};return Object.keys(et).forEach(function(T){(function F(tt,It,Nt,q){if(It===null||typeof It=="number"||typeof It=="boolean"||Array.isArray(It)&&typeof It[0]=="number"||Hu()(It)||It===""||"resize"in It)return void(Nt["".concat(q&&q+".").concat(tt)]=It);tc()(It)&&Object.keys(It).forEach(function(Rt){F(Rt,It[Rt],Nt,"".concat(q&&q+".").concat(tt))}),Array.isArray(It)&&It.forEach(function(Rt,Qt){Object.keys(Rt).forEach(function(ee){F(ee,Rt[ee],Nt,"".concat(q&&q+".").concat(tt,"[").concat(Qt,"]"))})})})(T,et[T],z,"")}),z}function Sf(et,z){var T=Object.keys(et);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(et);z&&(F=F.filter(function(tt){return Object.getOwnPropertyDescriptor(et,tt).enumerable})),T.push.apply(T,F)}return T}function iu(et){for(var z=1;z<arguments.length;z++){var T=arguments[z]!=null?arguments[z]:{};z%2?Sf(Object(T),!0).forEach(function(F){gr()(et,F,T[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(T)):Sf(Object(T)).forEach(function(F){Object.defineProperty(et,F,Object.getOwnPropertyDescriptor(T,F))})}return et}var Ef,Ys,wf=function(){function et(z,T){sr()(this,et),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=z;var F=T.vs,tt=T.fs,It=T.attributes,Nt=T.uniforms,q=T.primitive,Rt=T.count,Qt=T.elements,ee=T.depth,xe=T.blend,Pe=T.stencil,He=T.cull,Be=T.instances,Ke=T.scissor,Qe=T.viewport,ze={};Nt&&(this.uniforms=Eu(Nt),Object.keys(Nt).forEach(function(zn){ze[zn]=z.prop(zn)}));var en={};Object.keys(It).forEach(function(zn){en[zn]=It[zn].get()});var wn={attributes:en,frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(tt),uniforms:ze,vert:F,primitive:Uh[q===void 0?Gn.TRIANGLES:q]};Be&&(wn.instances=Be),Rt&&(wn.count=Rt),Qt&&(wn.elements=Qt.get()),Ke&&(wn.scissor=Ke),Qe&&(wn.viewport=Qe),this.initDepthDrawParams({depth:ee},wn),this.initBlendDrawParams({blend:xe},wn),this.initStencilDrawParams({stencil:Pe},wn),this.initCullDrawParams({cull:He},wn),this.drawCommand=z(wn)}return pr()(et,[{key:"addUniforms",value:function(T){this.uniforms=iu(iu({},this.uniforms),Eu(T))}},{key:"draw",value:function(T){var F=iu(iu({},this.uniforms),Eu(T.uniforms||{})),tt={};Object.keys(F).forEach(function(It){var Nt=Yh()(F[It]);Nt==="boolean"||Nt==="number"||Array.isArray(F[It])||F[It].BYTES_PER_ELEMENT?tt[It]=F[It]:tt[It]=F[It].get()}),this.drawCommand(tt)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(T,F){var tt=T.depth;tt&&(F.depth={enable:tt.enable===void 0||!!tt.enable,mask:tt.mask===void 0||!!tt.mask,func:_h[tt.func||Gn.LESS],range:tt.range||[0,1]})}},{key:"initBlendDrawParams",value:function(T,F){var tt=T.blend;if(tt){var It=tt.enable,Nt=tt.func,q=tt.equation,Rt=tt.color,Qt=Rt===void 0?[0,0,0,0]:Rt;F.blend={enable:!!It,func:{srcRGB:Su[Nt&&Nt.srcRGB||Gn.SRC_ALPHA],srcAlpha:Su[Nt&&Nt.srcAlpha||Gn.SRC_ALPHA],dstRGB:Su[Nt&&Nt.dstRGB||Gn.ONE_MINUS_SRC_ALPHA],dstAlpha:Su[Nt&&Nt.dstAlpha||Gn.ONE_MINUS_SRC_ALPHA]},equation:{rgb:vf[q&&q.rgb||Gn.FUNC_ADD],alpha:vf[q&&q.alpha||Gn.FUNC_ADD]},color:Qt}}}},{key:"initStencilDrawParams",value:function(T,F){var tt=T.stencil;if(tt){var It=tt.enable,Nt=tt.mask,q=Nt===void 0?-1:Nt,Rt=tt.func,Qt=Rt===void 0?{cmp:Gn.ALWAYS,ref:0,mask:-1}:Rt,ee=tt.opFront,xe=ee===void 0?{fail:Gn.KEEP,zfail:Gn.KEEP,zpass:Gn.KEEP}:ee,Pe=tt.opBack,He=Pe===void 0?{fail:Gn.KEEP,zfail:Gn.KEEP,zpass:Gn.KEEP}:Pe;F.stencil={enable:!!It,mask:q,func:iu(iu({},Qt),{},{cmp:qu[Qt.cmp]}),opFront:{fail:Ls[xe.fail],zfail:Ls[xe.zfail],zpass:Ls[xe.zpass]},opBack:{fail:Ls[He.fail],zfail:Ls[He.zfail],zpass:Ls[He.zpass]}}}}},{key:"initCullDrawParams",value:function(T,F){var tt=T.cull;if(tt){var It=tt.enable,Nt=tt.face,q=Nt===void 0?Gn.BACK:Nt;F.cull={enable:!!It,face:pf[q]}}}}]),et}(),Xh=function(){function et(z,T){sr()(this,et),this.texture=void 0,this.width=void 0,this.height=void 0;var F=T.data,tt=T.type,It=tt===void 0?Gn.UNSIGNED_BYTE:tt,Nt=T.width,q=T.height,Rt=T.flipY,Qt=Rt!==void 0&&Rt,ee=T.format,xe=ee===void 0?Gn.RGBA:ee,Pe=T.mipmap,He=Pe!==void 0&&Pe,Be=T.wrapS,Ke=Be===void 0?Gn.CLAMP_TO_EDGE:Be,Qe=T.wrapT,ze=Qe===void 0?Gn.CLAMP_TO_EDGE:Qe,en=T.aniso,wn=en===void 0?0:en,zn=T.alignment,In=zn===void 0?1:zn,Xn=T.premultiplyAlpha,cr=Xn!==void 0&&Xn,or=T.mag,lr=or===void 0?Gn.NEAREST:or,Ar=T.min,Nr=Ar===void 0?Gn.NEAREST:Ar,Dr=T.colorSpace,Tr=Dr===void 0?Gn.BROWSER_DEFAULT_WEBGL:Dr;this.width=Nt,this.height=q;var Xr={width:Nt,height:q,type:Ic[It],format:zh[xe],wrapS:Ou[Ke],wrapT:Ou[ze],mag:df[lr],min:df[Nr],alignment:In,flipY:Qt,colorSpace:$u[Tr],premultiplyAlpha:cr,aniso:wn};F&&(Xr.data=F),typeof He=="number"?Xr.mipmap=hf[He]:typeof He=="boolean"&&(Xr.mipmap=He),this.texture=z.texture(Xr)}return pr()(et,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(T){var F=T.width,tt=T.height;this.texture.resize(F,tt),this.width=F,this.height=tt}},{key:"destroy",value:function(){this.texture.destroy()}}]),et}(),Hh=Object(kr.injectable)()(Ef=function(){function et(){var T=this;sr()(this,et),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var F=Vr()(br.a.mark(function tt(It){return br.a.wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return Nt.abrupt("return",new wf(T.gl,It));case 1:case"end":return Nt.stop()}},tt)}));return function(tt){return F.apply(this,arguments)}}(),this.createAttribute=function(F){return new Gh(T.gl,F)},this.createBuffer=function(F){return new Bs(T.gl,F)},this.createElements=function(F){return new xf(T.gl,F)},this.createTexture2D=function(F){return new Xh(T.gl,F)},this.createFramebuffer=function(F){return new Vh(T.gl,F)},this.useFramebuffer=function(F,tt){T.gl({framebuffer:F?F.get():null})(tt)},this.createComputeModel=function(){var F=Vr()(br.a.mark(function tt(It){return br.a.wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return Nt.abrupt("return",new bf(T.gl,It));case 1:case"end":return Nt.stop()}},tt)}));return function(tt){return F.apply(this,arguments)}}(),this.clear=function(F){var tt=F.color,It=F.depth,Nt=F.stencil,q=F.framebuffer,Rt=q===void 0?null:q,Qt={color:tt,depth:It,stencil:Nt};Qt.framebuffer=Rt===null?Rt:Rt.get(),T.gl.clear(Qt)},this.setScissor=function(F){T.gl&&T.gl._gl&&(F.enable&&F.box?(T.gl._gl.enable(Gn.SCISSOR_TEST),T.gl._gl.scissor(F.box.x,F.box.y,F.box.width,F.box.height)):T.gl._gl.disable(Gn.SCISSOR_TEST),T.gl._refresh())},this.viewport=function(F){var tt=F.x,It=F.y,Nt=F.width,q=F.height;T.gl&&T.gl._gl&&(T.gl._gl.viewport(tt,It,Nt,q),T.gl._refresh())},this.readPixels=function(F){var tt=F.framebuffer,It={x:F.x,y:F.y,width:F.width,height:F.height};return tt&&(It.framebuffer=tt.get()),T.gl.read(It)},this.getCanvas=function(){return T.$canvas},this.getGLContext=function(){return T.gl._gl},this.destroy=function(){T.gl&&(T.gl.destroy(),T.inited=!1)}}var z;return pr()(et,[{key:"init",value:(z=Vr()(br.a.mark(function T(F){return br.a.wrap(function(tt){for(;;)switch(tt.prev=tt.next){case 0:if(!this.inited){tt.next=2;break}return tt.abrupt("return");case 2:return this.$canvas=F.canvas,tt.next=5,new Promise(function(It,Nt){Fh()({canvas:F.canvas,attributes:{alpha:!0,antialias:F.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(Rt,Qt){!Rt&&Qt||Nt(Rt),It(Qt)}})});case 5:this.gl=tt.sent,this.inited=!0;case 7:case"end":return tt.stop()}},T,this)})),function(T){return z.apply(this,arguments)})},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),et}())||Ef;function Kh(et,z,T,F){if(typeof window!="undefined"){var tt=document.getElementsByTagName("head")[0],It=document.createElement("script");It.setAttribute("type","text/javascript"),It.setAttribute("src",et),F&&(It.id=F),It.onload=function(){z&&z()},It.onerror=function(Nt){T&&T("Unable to load script '".concat(et,"'"),Nt)},tt.appendChild(It)}}function Jh(et,z){return new Promise(function(T,F){Kh(et,function(){T()},function(tt,It){F(It)})})}var Qh=function(){return Cf.apply(this,arguments)};function Cf(){return(Cf=Vr()(br.a.mark(function et(){return br.a.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(!Ys){z.next=2;break}return z.abrupt("return",Ys);case 2:return z.next=4,Jh("https://preview.babylonjs.com/glslang/glslang.js");case 4:return Ys=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),z.abrupt("return",Ys);case 6:case"end":return z.stop()}},et)}))).apply(this,arguments)}var ws,cs,Xs,$o,au,ec,wu,Pc=function(){function et(z,T){sr()(this,et),this.engine=z,this.options=T,this.attribute=void 0,this.buffer=void 0;var F=T,tt=F.buffer,It=F.offset,Nt=F.stride,q=F.normalized,Rt=F.size,Qt=F.divisor,ee=F.arrayStride,xe=F.attributes,Pe=F.stepMode;this.buffer=tt,this.attribute={buffer:tt.get(),offset:It||0,stride:Nt||0,normalized:q||!1,divisor:Qt||0,arrayStride:ee||0,attributes:xe,stepMode:Pe||"vertex"},Rt&&(this.attribute.size=Rt)}return pr()(et,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(T){this.buffer.subData(T)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),et}(),Hs=function(){function et(z,T){sr()(this,et),this.engine=z,this.options=T,this.buffer=void 0;var F=T,tt=F.data,It=F.usage;F.type,this.buffer=this.createBuffer(tt instanceof Array?new Float32Array(tt):tt,It||ci.BufferUsage.Vertex|ci.BufferUsage.CopyDst)}return pr()(et,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(T){var F=T.data,tt=T.offset;this.setSubData(this.buffer,tt,F instanceof Array?new Float32Array(F):F)}},{key:"createBuffer",value:function(T,F){var tt=T.byteLength%4,It={size:T.byteLength+tt,usage:F},Nt=this.engine.device.createBuffer(It);return this.setSubData(Nt,0,T),Nt}},{key:"setSubData",value:function(T,F,tt){(es?this.engine.device.getQueue():this.engine.device.defaultQueue).writeBuffer(T,F,tt)}}]),et}(),Zh=t(92),Cu=t.n(Zh),$h=function(){function et(tt,It){sr()(this,et),this.engine=tt,this.context=It,this.entity=zi(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}var z,T,F;return pr()(et,[{key:"init",value:(F=Vr()(br.a.mark(function tt(){var It,Nt,q,Rt,Qt,ee,xe,Pe=this;return br.a.wrap(function(He){for(;;)switch(He.prev=He.next){case 0:return He.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:It=He.sent,Nt=It.computeStage,q=this.context.uniforms.filter(function(Be){return Be.storageClass===Is.StorageBuffer}),Rt=this.context.uniforms.filter(function(Be){return Be.storageClass===Is.Uniform}),Qt=Rt.length?1:0,this.bindGroupEntries=[],Qt&&(ee=0,xe=[],Rt.forEach(function(Be){if(Rr()(Be.data))Pe.uniformGPUBufferLayout.push({name:Be.name,offset:ee}),ee+=4,xe.push(Be.data);else{var Ke,Qe=((Ke=Be.data)===null||Ke===void 0?void 0:Ke.length)||1;Qe===3&&(Qe=4,Be.data.push(0));var ze=ee/4%4;if(ze>0){var en=4-ze;if(Qe>1&&Qe<=en)Qe===2&&(en===3&&(ee+=4,xe.push(0)),xe.push.apply(xe,Go()(Be.data)),Pe.uniformGPUBufferLayout.push({name:Be.name,offset:ee}));else{for(var wn=0;wn<en;wn++)ee+=4,xe.push(0);xe.push.apply(xe,Go()(Be.data)),Pe.uniformGPUBufferLayout.push({name:Be.name,offset:ee})}}ee+=4*Qe}}),this.uniformBuffer=new Hs(this.engine,{data:xe instanceof Array?new Float32Array(xe):xe,usage:ci.BufferUsage.Uniform|ci.BufferUsage.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),q.forEach(function(Be){var Ke;Cu()(Be.data)||Be.type!==js.Vector4FloatArray&&Be.type!==js.FloatArray||(Be.name===Pe.context.output.name?(Ke=new Hs(Pe.engine,{data:isFinite(Number(Be.data))?[Be.data]:Be.data,usage:ci.BufferUsage.Storage|ci.BufferUsage.CopyDst|ci.BufferUsage.CopySrc}),Pe.outputBuffer=Ke,Pe.context.output={name:Be.name,length:isFinite(Number(Be.data))?1:Be.data.length,typedArrayConstructor:Float32Array,gpuBuffer:Ke.get()}):Be.isReferer?Be.data.model&&Be.data.model.outputBuffer&&(Ke=Be.data.model.outputBuffer):Ke=new Hs(Pe.engine,{data:isFinite(Number(Be.data))?[Be.data]:Be.data,usage:ci.BufferUsage.Storage|ci.BufferUsage.CopyDst|ci.BufferUsage.CopySrc}),Pe.vertexBuffers[Be.name]=Ke,Pe.bindGroupEntries.push({binding:Qt,resource:{name:Be.name,refer:Ke?void 0:Be.data,buffer:Ke?Ke.get():void 0}}),Qt++)}),this.computePipeline=this.engine.device.createComputePipeline({computeStage:Nt}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return He.stop()}},tt,this)})),function(){return F.apply(this,arguments)})},{key:"destroy",value:function(){var It=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach(function(Nt){return It.vertexBuffers[Nt].destroy()})}},{key:"readData",value:(T=Vr()(br.a.mark(function tt(){var It,Nt,q,Rt,Qt,ee,xe,Pe,He;return br.a.wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(!(It=this.context.output)){Be.next=16;break}if(Nt=It.length,q=It.typedArrayConstructor,!(Rt=It.gpuBuffer)){Be.next=16;break}return Qt=Nt*q.BYTES_PER_ELEMENT,ee=this.engine.device.createBuffer({size:Qt,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),(xe=this.engine.device.createCommandEncoder()).copyBufferToBuffer(Rt,0,ee,0,Qt),(es?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([xe.finish()]),Be.next=12,ee.mapAsync(ci.MapMode.Read);case 12:return Pe=ee.getMappedRange(),He=new q(Pe.slice(0)),ee.unmap(),Be.abrupt("return",He);case 16:return Be.abrupt("return",new Float32Array);case 17:case"end":return Be.stop()}},tt,this)})),function(){return T.apply(this,arguments)})},{key:"run",value:function(){var It;this.engine.currentComputePass&&(this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(It=this.engine.currentComputePass).dispatch.apply(It,Go()(this.context.dispatch)))}},{key:"updateBuffer",value:function(It,Nt){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,Rt=this.vertexBuffers[It];Rt&&Rt.subData({data:Nt,offset:q})}},{key:"updateUniform",value:function(It,Nt){var q=this.uniformGPUBufferLayout.find(function(Rt){return Rt.name===It});q&&this.uniformBuffer.subData({data:Number.isFinite(Nt)?new Float32Array([Nt]):new Float32Array(Nt),offset:q.offset})}},{key:"confirmInput",value:function(It,Nt){var q=this.vertexBuffers[Nt],Rt=It.outputBuffer;if(q&&Rt&&q!==Rt){var Qt=this.engine.device.createCommandEncoder(),ee=It.context.output,xe=ee.length*ee.typedArrayConstructor.BYTES_PER_ELEMENT;Qt.copyBufferToBuffer(Rt.get(),0,q.get(),0,xe),(es?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([Qt.finish()])}}},{key:"compileShaderToSpirV",value:function(It,Nt,q){return this.compileRawShaderToSpirV(q+It,Nt)}},{key:"compileRawShaderToSpirV",value:function(It,Nt){return this.engine.glslang.compileGLSL(It,Nt)}},{key:"compileComputePipelineStageDescriptor",value:(z=Vr()(br.a.mark(function tt(It){var Nt;return br.a.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(Nt=It,this.engine.options.useWGSL){q.next=6;break}return q.next=5,this.compileShaderToSpirV(It,"compute",`#version 450
`);case 5:Nt=q.sent;case 6:return q.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:Nt,isWHLSL:es}),entryPoint:"main"}});case 7:case"end":return q.stop()}},tt,this)})),function(tt){return z.apply(this,arguments)})}]),et}(),qh=function(){function et(z,T){sr()(this,et),this.engine=z,this.options=T,this.indexCount=void 0,this.buffer=void 0;var F=T,tt=F.data,It=(F.usage,F.type,F.count);this.indexCount=It||0,this.buffer=new Hs(z,{data:tt instanceof Array?new Uint16Array(tt):tt,usage:ci.BufferUsage.Index|ci.BufferUsage.CopyDst})}return pr()(et,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(T){this.buffer.subData(T)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),et}(),td=function(){function et(z,T){sr()(this,et),this.engine=z,this.options=T,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var F=T,tt=(F.width,F.height,F.color),It=(F.colors,F.depth);F.stencil,tt&&(this.colorTexture=tt),It&&(this.depthTexture=It)}return pr()(et,[{key:"get",value:function(){var T,F;return{color:(T=this.colorTexture)===null||T===void 0?void 0:T.get(),depth:(F=this.depthTexture)===null||F===void 0?void 0:F.get()}}},{key:"destroy",value:function(){var T,F;(T=this.colorTexture)===null||T===void 0||T.destroy(),(F=this.depthTexture)===null||F===void 0||F.destroy()}},{key:"resize",value:function(T){var F,tt,It=T.width,Nt=T.height;It===this.width&&Nt===this.height||((F=this.colorTexture)===null||F===void 0||F.resize({width:It,height:Nt}),(tt=this.depthTexture)===null||tt===void 0||tt.resize({width:It,height:Nt})),this.width=It,this.height=Nt}}]),et}(),ed=(ws={},gr()(ws,Gn.POINTS,ci.PrimitiveTopology.PointList),gr()(ws,Gn.LINES,ci.PrimitiveTopology.LineList),gr()(ws,Gn.LINE_LOOP,ci.PrimitiveTopology.LineList),gr()(ws,Gn.LINE_STRIP,ci.PrimitiveTopology.LineStrip),gr()(ws,Gn.TRIANGLES,ci.PrimitiveTopology.TriangleList),gr()(ws,Gn.TRIANGLE_FAN,ci.PrimitiveTopology.TriangleList),gr()(ws,Gn.TRIANGLE_STRIP,ci.PrimitiveTopology.TriangleStrip),ws),nd=(cs={},gr()(cs,Gn.NEVER,ci.CompareFunction.Never),gr()(cs,Gn.ALWAYS,ci.CompareFunction.Always),gr()(cs,Gn.LESS,ci.CompareFunction.Less),gr()(cs,Gn.LEQUAL,ci.CompareFunction.LessEqual),gr()(cs,Gn.GREATER,ci.CompareFunction.Greater),gr()(cs,Gn.GEQUAL,ci.CompareFunction.GreaterEqual),gr()(cs,Gn.EQUAL,ci.CompareFunction.Equal),gr()(cs,Gn.NOTEQUAL,ci.CompareFunction.NotEqual),cs),nc=(Xs={},gr()(Xs,Gn.FUNC_ADD,ci.BlendOperation.Add),gr()(Xs,Gn.MIN_EXT,ci.BlendOperation.Min),gr()(Xs,Gn.MAX_EXT,ci.BlendOperation.Max),gr()(Xs,Gn.FUNC_SUBTRACT,ci.BlendOperation.Subtract),gr()(Xs,Gn.FUNC_REVERSE_SUBTRACT,ci.BlendOperation.ReverseSubtract),Xs),rc=($o={},gr()($o,Gn.ZERO,ci.BlendFactor.Zero),gr()($o,Gn.ONE,ci.BlendFactor.One),gr()($o,Gn.SRC_COLOR,ci.BlendFactor.SrcColor),gr()($o,Gn.ONE_MINUS_SRC_COLOR,ci.BlendFactor.OneMinusSrcColor),gr()($o,Gn.SRC_ALPHA,ci.BlendFactor.SrcAlpha),gr()($o,Gn.ONE_MINUS_SRC_ALPHA,ci.BlendFactor.OneMinusSrcAlpha),gr()($o,Gn.DST_COLOR,ci.BlendFactor.DstColor),gr()($o,Gn.ONE_MINUS_DST_COLOR,ci.BlendFactor.OneMinusDstColor),gr()($o,Gn.DST_ALPHA,ci.BlendFactor.DstAlpha),gr()($o,Gn.ONE_MINUS_DST_ALPHA,ci.BlendFactor.OneMinusDstAlpha),gr()($o,Gn.CONSTANT_COLOR,ci.BlendFactor.BlendColor),gr()($o,Gn.ONE_MINUS_CONSTANT_COLOR,ci.BlendFactor.OneMinusBlendColor),gr()($o,Gn.SRC_ALPHA_SATURATE,ci.BlendFactor.SrcAlphaSaturated),$o),rd=(au={},gr()(au,Gn.ALPHA,"r8unorm"),gr()(au,Gn.RGBA,"rgba8unorm"),gr()(au,Gn.DEPTH_COMPONENT,"depth32float"),gr()(au,Gn.DEPTH_STENCIL,"depth24plus-stencil8"),au),Mf=(ec={},gr()(ec,Gn.NEAREST,"nearest"),gr()(ec,Gn.LINEAR,"linear"),ec),Mu=(wu={},gr()(wu,Gn.REPEAT,"repeat"),gr()(wu,Gn.CLAMP_TO_EDGE,"clamp-to-edge"),gr()(wu,Gn.MIRRORED_REPEAT,"mirror-repeat"),wu);function id(et){var z=et.cull;return z&&z.enable?z.face?z.face===Gn.FRONT?ci.CullMode.Front:ci.CullMode.Back:void 0:ci.CullMode.None}function ad(et){var z=et.depth,T=(et.stencil,{compare:ci.CompareFunction.Always,depthFailOp:ci.StencilOperation.Keep,failOp:ci.StencilOperation.Keep,passOp:ci.StencilOperation.Keep});return{depthWriteEnabled:z&&z.enable,depthCompare:nd[(z==null?void 0:z.func)||Gn.ALWAYS],format:ci.TextureFormat.Depth24PlusStencil8,stencilFront:T,stencilBack:T,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function Au(et,z){var T=et.blend;return[{format:z,alphaBlend:{srcFactor:rc[T&&T.func&&T.func.srcAlpha||Gn.ONE],dstFactor:rc[T&&T.func&&T.func.dstAlpha||Gn.ZERO],operation:nc[T&&T.equation&&T.equation.alpha||Gn.FUNC_ADD]},colorBlend:{srcFactor:rc[T&&T.func&&T.func.srcRGB||Gn.ONE],dstFactor:rc[T&&T.func&&T.func.dstRGB||Gn.ZERO],operation:nc[T&&T.equation&&T.equation.rgb||Gn.FUNC_ADD]},writeMask:ci.ColorWrite.All}]}function ou(et,z){var T=Object.keys(et);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(et);z&&(F=F.filter(function(tt){return Object.getOwnPropertyDescriptor(et,tt).enumerable})),T.push.apply(T,F)}return T}function Fs(et){for(var z=1;z<arguments.length;z++){var T=arguments[z]!=null?arguments[z]:{};z%2?ou(Object(T),!0).forEach(function(F){gr()(et,F,T[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(T)):ou(Object(T)).forEach(function(F){Object.defineProperty(et,F,Object.getOwnPropertyDescriptor(T,F))})}return et}function Af(et){for(var z=0,T=arguments.length,F=new Array(T>1?T-1:0),tt=1;tt<T;tt++)F[tt-1]=arguments[tt];for(var It=0,Nt=F;It<Nt.length;It++){var q=Nt[It];z+=q.length}for(var Rt=new et(z),Qt=0,ee=0,xe=F;ee<xe.length;ee++){var Pe=xe[ee];Rt.set(Pe,Qt),Qt+=Pe.length}return Rt}var Gs,ys,Tf,ic,jf,If,Pf,Df,Tu,Dc,Rf,kf,od=function(){function et(F,tt){sr()(this,et),this.engine=F,this.options=tt,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}var z,T;return pr()(et,[{key:"init",value:(T=Vr()(br.a.mark(function F(){var tt,It,Nt,q,Rt,Qt,ee,xe,Pe,He,Be,Ke,Qe,ze,en,wn,zn=this;return br.a.wrap(function(In){for(;;)switch(In.prev=In.next){case 0:return tt=this.options,It=tt.vs,Nt=tt.fs,q=tt.attributes,Rt=tt.uniforms,Qt=tt.primitive,tt.count,ee=tt.elements,xe=tt.depth,Pe=tt.blend,He=tt.stencil,Be=tt.cull,tt.instances,In.next=3,this.compilePipelineStageDescriptor(It,Nt,null);case 3:Ke=In.sent,Qe=Ke.vertexStage,ze=Ke.fragmentStage,Rt&&this.buildUniformBindGroup(Rt),ee&&(this.indexBuffer=ee.get(),this.indexCount=ee.indexCount),en={vertexBuffers:Object.keys(q).map(function(Xn,cr){var or=q[Xn],lr=or.get(),Ar=lr.arrayStride,Nr=lr.stepMode,Dr=lr.attributes;return zn.attributeCache[Xn]=or,{arrayStride:Ar,stepMode:Nr,attributes:Dr}})},wn={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:ed[Qt||Gn.TRIANGLES],rasterizationState:Fs(Fs({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:id({cull:Be})}),depthStencilState:ad({depth:xe,stencil:He}),colorStates:Au({blend:Pe},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:Qe,fragmentStage:ze,vertexState:en},this.renderPipeline=this.engine.device.createRenderPipeline(wn);case 11:case"end":return In.stop()}},F,this)})),function(){return T.apply(this,arguments)})},{key:"addUniforms",value:function(tt){this.uniforms=Fs(Fs({},this.uniforms),Eu(tt))}},{key:"draw",value:function(tt){var It=this,Nt=this.engine.getCurrentRenderPass(),q=Fs(Fs({},this.uniforms),Eu(tt.uniforms||{})),Rt=[];Object.keys(q).forEach(function(Qt){var ee=Yh()(q[Qt]);if(ee==="boolean"||ee==="number"||Array.isArray(q[Qt])||q[Qt].BYTES_PER_ELEMENT){var xe,Pe=(xe=It.uniformGPUBufferLayout.find(function(wn){return wn.name===Qt}))===null||xe===void 0?void 0:xe.offset;Cu()(Pe)||It.uniformBuffer.subData({data:q[Qt],offset:Pe})}else{var He,Be=(He=It.uniformGPUBufferLayout.find(function(wn){return wn.name===Qt}))===null||He===void 0?void 0:He.offset;if(!Cu()(Be)){var Ke=q[Qt].get(),Qe=Ke.color||Ke,ze=Qe.texture,en=Qe.sampler;en&&(Rt.push({binding:Be,resource:en}),Be++),Rt.push({binding:Be,resource:ze.createView()})}}}),this.uniformBuffer&&(Rt[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:Rt}),this.renderPipeline&&Nt.setPipeline(this.renderPipeline),Nt.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&Nt.setIndexBuffer(this.indexBuffer.get(),ci.IndexFormat.Uint32,0),Object.keys(this.attributeCache).forEach(function(Qt,ee){Nt.setVertexBuffer(0+ee,It.attributeCache[Qt].get().buffer,0)}),this.indexBuffer?Nt.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):Nt.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:(z=Vr()(br.a.mark(function F(tt,It,Nt){var q,Rt,Qt;return br.a.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(q=`#version 450
`,Rt=tt,Qt=It,this.engine.options.useWGSL){ee.next=10;break}return ee.next=6,this.compileShaderToSpirV(tt,"vertex",q);case 6:return Rt=ee.sent,ee.next=9,this.compileShaderToSpirV(It,"fragment",q);case 9:Qt=ee.sent;case 10:return ee.abrupt("return",this.createPipelineStageDescriptor(Rt,Qt));case 11:case"end":return ee.stop()}},F,this)})),function(F,tt,It){return z.apply(this,arguments)})},{key:"compileShaderToSpirV",value:function(tt,It,Nt){return this.compileRawShaderToSpirV(Nt+tt,It)}},{key:"compileRawShaderToSpirV",value:function(tt,It){return this.engine.glslang.compileGLSL(tt,It)}},{key:"createPipelineStageDescriptor",value:function(tt,It){return{vertexStage:{module:this.engine.device.createShaderModule({code:tt,isWHLSL:es}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:It,isWHLSL:es}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:ci.FrontFace.CCW,cullMode:ci.CullMode.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(tt){var It=this,Nt=0,q=Af.apply(void 0,[Float32Array].concat(Go()(Object.keys(tt).map(function(ee){return tt[ee]?(It.uniformGPUBufferLayout.push({name:ee,offset:Nt}),Nt+=4*(tt[ee].length||1),tt[ee]):[]})))),Rt=[],Qt=!1;q.length&&(Qt=!0,Rt.push({binding:0,visibility:ci.ShaderStage.Fragment|ci.ShaderStage.Vertex,type:ci.BindingType.UniformBuffer})),Object.keys(tt).filter(function(ee){return tt[ee]===null}).forEach(function(ee,xe){It.uniformGPUBufferLayout.push({name:ee,offset:2*xe+(Qt?1:0)}),Rt.push({binding:2*xe+(Qt?1:0),visibility:ci.ShaderStage.Fragment,type:ci.BindingType.Sampler},{binding:2*xe+(Qt?1:0)+1,visibility:ci.ShaderStage.Fragment,type:ci.BindingType.SampledTexture})}),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:Rt}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),Qt&&(this.uniformBuffer=new Hs(this.engine,{data:q instanceof Array?new Float32Array(q):q,usage:ci.BufferUsage.Uniform|ci.BufferUsage.CopyDst}))}}]),et}(),sd=function(){function et(z,T){sr()(this,et),this.engine=z,this.options=T,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return pr()(et,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(T){var F=T.width,tt=T.height;F===this.width&&tt===this.height||(this.destroy(),this.createTexture()),this.width=F,this.height=tt}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var T=this.options,F=(T.data,T.type),tt=(F===void 0&&Gn.UNSIGNED_BYTE,T.width),It=T.height,Nt=(T.flipY,T.format),q=Nt===void 0?Gn.RGBA:Nt,Rt=(T.mipmap,T.wrapS),Qt=Rt===void 0?Gn.CLAMP_TO_EDGE:Rt,ee=T.wrapT,xe=ee===void 0?Gn.CLAMP_TO_EDGE:ee,Pe=T.aniso,He=Pe===void 0?0:Pe,Be=(T.alignment,T.premultiplyAlpha,T.mag),Ke=Be===void 0?Gn.NEAREST:Be,Qe=T.min,ze=Qe===void 0?Gn.NEAREST:Qe,en=T.colorSpace,wn=(en===void 0&&Gn.BROWSER_DEFAULT_WEBGL,T.usage);this.width=tt,this.height=It,this.texture=this.engine.device.createTexture({size:[tt,It,1],mipLevelCount:1,sampleCount:1,dimension:ci.TextureDimension.E2d,format:rd[q],usage:wn||ci.TextureUsage.Sampled|ci.TextureUsage.CopyDst}),(!wn||wn&ci.TextureUsage.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:Mu[Qt],addressModeV:Mu[xe],addressModeW:Mu[Qt],magFilter:Mf[Ke],minFilter:Mf[ze],maxAnisotropy:He}))}}]),et}(),ud=Object(kr.injectable)()(Gs=function(){function et(){var F=this;sr()(this,et),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:1/0,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(tt){tt.framebuffer;var It=tt.color,Nt=tt.depth,q=tt.stencil;F.options.supportCompute&&F.startComputePass(),F.currentRenderTarget?(F.currentRenderPass&&F.endRenderTargetRenderPass(),F.startRenderTargetRenderPass(F.currentRenderTarget,It||null,!!Nt,!!q)):(F.mainColorAttachments[0].loadValue=It||ci.LoadOp.Load,F.mainDepthAttachment.depthLoadValue=Nt||ci.LoadOp.Load,F.mainDepthAttachment.stencilLoadValue=q?F.clearStencilValue:ci.LoadOp.Load,F.mainRenderPass&&F.endMainRenderPass(),F.startMainRenderPass())},this.createModel=function(){var tt=Vr()(br.a.mark(function It(Nt){var q;return br.a.wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:return q=new od(F,Nt),Rt.next=3,q.init();case 3:return Rt.abrupt("return",q);case 4:case"end":return Rt.stop()}},It)}));return function(It){return tt.apply(this,arguments)}}(),this.createAttribute=function(tt){return new Pc(F,tt)},this.createBuffer=function(tt){return new Hs(F,tt)},this.createElements=function(tt){return new qh(F,tt)},this.createTexture2D=function(tt){return new sd(F,tt)},this.createFramebuffer=function(tt){return new td(F,tt)},this.useFramebuffer=function(tt,It){F.currentRenderTarget&&F.unbindFramebuffer(F.currentRenderTarget),F.currentRenderTarget=tt,F.currentRenderTargetViewDescriptor={dimension:ci.TextureViewDimension.E2d,arrayLayerCount:1,aspect:ci.TextureAspect.All},F.currentRenderPass=null,It()},this.createComputeModel=function(){var tt=Vr()(br.a.mark(function It(Nt){var q;return br.a.wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:return q=new $h(F,Nt),Rt.next=3,q.init();case 3:return Rt.abrupt("return",q);case 4:case"end":return Rt.stop()}},It)}));return function(It){return tt.apply(this,arguments)}}(),this.getCanvas=function(){return F.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(tt){var It=tt.x,Nt=tt.y,q=tt.width,Rt=tt.height;F.currentRenderPass?F.transientViewport.x!==1/0?F.getCurrentRenderPass().setViewport(F.transientViewport.x,F.transientViewport.y,F.transientViewport.width,F.transientViewport.height,0,1):(It!==F.cachedViewport.x||Nt!==F.cachedViewport.y||q!==F.cachedViewport.width||Rt!==F.cachedViewport.height)&&(F.cachedViewport={x:It,y:Nt,width:q,height:Rt},F.getCurrentRenderPass().setViewport(It,Nt,q,Rt,0,1)):F.transientViewport={x:It,y:Nt,width:q,height:Rt}},this.readPixels=function(tt){throw new Error("Method not implemented.")}}var z,T;return pr()(et,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:(T=Vr()(br.a.mark(function F(tt){return br.a.wrap(function(It){for(;;)switch(It.prev=It.next){case 0:return this.canvas=tt.canvas,this.options=tt,this.useWGSL=!!tt.useWGSL,this.mainPassSampleCount=tt.antialiasing?this.defaultSampleCount:1,It.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return It.stop()}},F,this)})),function(F){return T.apply(this,arguments)})},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach(function(tt){return tt.destroy()}),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),es?this.device.getQueue().submit(this.commandBuffers.filter(function(tt){return tt})):this.device.defaultQueue.submit(this.commandBuffers.filter(function(tt){return tt}))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:(z=Vr()(br.a.mark(function F(){var tt,It;return br.a.wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:return Nt.next=2,Qh();case 2:return this.glslang=Nt.sent,Nt.next=5,(tt=navigator)===null||tt===void 0||(It=tt.gpu)===null||It===void 0?void 0:It.requestAdapter();case 5:return this.adapter=Nt.sent,Nt.next=8,this.adapter.requestDevice();case 8:this.device=Nt.sent;case 9:case"end":return Nt.stop()}},F,this)})),function(){return z.apply(this,arguments)})},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(es?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:ci.TextureUsage.OutputAttachment|ci.TextureUsage.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var tt={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:ci.TextureDimension.E2d,format:ci.TextureFormat.BGRA8Unorm,usage:ci.TextureUsage.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(tt),this.mainColorAttachments=[{attachment:es?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:ci.StoreOp.Store}]}else this.mainColorAttachments=[{attachment:es?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:ci.StoreOp.Store}];var It={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:ci.TextureDimension.E2d,format:es?"depth32float-stencil8":ci.TextureFormat.Depth24PlusStencil8,usage:ci.TextureUsage.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(It),this.mainDepthAttachment={attachment:es?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:ci.StoreOp.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:ci.StoreOp.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=es?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=es?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(tt,It,Nt){var q,Rt,Qt,ee=arguments.length>3&&arguments[3]!==void 0&&arguments[3],xe=(q=tt.get().color)===null||q===void 0?void 0:q.texture;xe&&(Qt=xe.createView(this.currentRenderTargetViewDescriptor));var Pe,He=(Rt=tt.get().depth)===null||Rt===void 0?void 0:Rt.texture;He&&(Pe=He.createView());var Be=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:Qt,loadValue:It!==null?It:ci.LoadOp.Load,storeOp:ci.StoreOp.Store}],depthStencilAttachment:He&&Pe?{attachment:Pe,depthLoadValue:Nt?this.clearDepthValue:ci.LoadOp.Load,depthStoreOp:ci.StoreOp.Store,stencilLoadValue:ee?this.clearStencilValue:ci.LoadOp.Load,stencilStoreOp:ci.StoreOp.Store}:void 0});this.currentRenderPass=Be,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&this.currentRenderPass!==null&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(tt){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=1/0,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),et}())||Gs;function cd(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=Ta()(et);if(z){var tt=Ta()(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return $i()(this,T)}}var ld=(ys=Object(kr.injectable)(),Tf=Object(kr.inject)(er.Systems),ic=Object(kr.named)(er.MaterialSystem),jf=Object(kr.inject)(er.Systems),If=Object(kr.named)(er.GeometrySystem),Pf=Object(kr.inject)(er.ShaderModuleService),ys((Tu=function(et){ea()(T,et);var z=cd(T);function T(){var F;sr()(this,T);for(var tt=arguments.length,It=new Array(tt),Nt=0;Nt<tt;Nt++)It[Nt]=arguments[Nt];return F=z.call.apply(z,[this].concat(It)),_n()(F,"materialSystem",Dc,va()(F)),_n()(F,"geometrySystem",Rf,va()(F)),_n()(F,"shaderModuleService",kf,va()(F)),F}return pr()(T,[{key:"onAttributeChanged",value:function(tt){var It=tt.name,Nt=tt.data,q=this.getMeshComponent();q&&q.material&&(It==="gridColor"?(q.material.setUniform("u_GridColor",Nt),q.material.setUniform("u_GridColor2",Nt)):It==="gridSize"&&(q.material.setUniform("u_GridSize",Nt),q.material.setUniform("u_GridSize2",Nt)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:`attribute vec3 a_Position;

varying vec3 v_Position;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

void main() {
  v_Position = a_Position;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);
}`,fs:`// generate grid, borrow from clay.gl viewer
// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl
#extension GL_OES_standard_derivatives : enable

varying vec3 v_Position;
// varying vec3 v_Normal;

uniform float u_GridSize : 5;
uniform float u_GridSize2 : .5;
uniform vec4 u_GridColor : [0, 0, 0, 1];
uniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];
uniform bool u_GridEnabled : true;

// uniform vec3 u_LightDirection;
// uniform vec3 u_LightColor;
// uniform vec3 u_Camera;

void main() {
  // vec3 n = v_Normal;
  // vec3 l = normalize(u_LightDirection);
  // float NdotL = clamp(dot(n, l), 0.001, 1.0);

  gl_FragColor = vec4(1.);

  if (u_GridEnabled) {
    float wx = v_Position.x;
    float wz = v_Position.z;
    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;
    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;

    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;
    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;

    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);
    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);
    // if (v0 > 0.1) {
        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);
    // }
    // else {
        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);
    // }
  }

  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);
  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;

  // gl_FragColor.rgb *= diffuseColor;
}`});var tt=this.shaderModuleService.getModule("grid"),It=tt.vs,Nt=tt.fs,q=tt.uniforms,Rt=this.materialSystem.createShaderMaterial({vertexShader:It,fragmentShader:Nt});this.setMaterial(Rt);var Qt=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(Qt),Rt.setCull({enable:!1,face:Gn.BACK}).setDepth({enable:!0,func:Gn.LESS}),Rt.setUniform(q),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),Qt.setIndex([0,3,2,2,1,0]),Qt.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),T}(Ns),Dc=Ur()(Tu.prototype,"materialSystem",[Tf,ic],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rf=Ur()(Tu.prototype,"geometrySystem",[jf,If],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kf=Ur()(Tu.prototype,"shaderModuleService",[Pf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Df=Tu))||Df),ac=t(94),Ks=t(63);function Js(et,z,T,F,tt){ju(z,F,-tt),ju(z,F,tt),et.push(T),et.push(T)}function ju(et,z,T){et.push([[z[0],z[1]],T])}var Nf,Rc,kc,Lf,su,Us,Bf,Qs,Ff,Gf,Uf;function fd(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=Ta()(et);if(z){var tt=Ta()(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return $i()(this,T)}}var zf,oc,_f,Vf,Wf,Nc,Lc,Iu,Bc,Yf,Fc,hd=(Nf=Object(kr.injectable)(),Rc=Object(kr.inject)(er.Systems),kc=Object(kr.named)(er.MaterialSystem),Lf=Object(kr.inject)(er.Systems),su=Object(kr.named)(er.GeometrySystem),Us=Object(kr.inject)(er.ShaderModuleService),Nf((Qs=function(et){ea()(T,et);var z=fd(T);function T(){var F;sr()(this,T);for(var tt=arguments.length,It=new Array(tt),Nt=0;Nt<tt;Nt++)It[Nt]=arguments[Nt];return F=z.call.apply(z,[this].concat(It)),_n()(F,"materialSystem",Ff,va()(F)),_n()(F,"geometrySystem",Gf,va()(F)),_n()(F,"shaderModuleService",Uf,va()(F)),F.vertexCount=void 0,F}return pr()(T,[{key:"onAttributeChanged",value:function(tt){var It=tt.name,Nt=tt.data,q=this.getMeshComponent();if(q&&q.material)switch(It){case"dashArray":q.material.setUniform("u_dash_array",Nt);break;case"dashOffset":q.material.setUniform("u_dash_offset",Nt);break;case"dashRatio":q.material.setUniform("u_dash_ratio",Nt);break;case"thickness":q.material.setUniform("u_thickness",Nt);break;case"color":var Rt=new Array(this.vertexCount).fill(void 0).map(function(){return Nt}).reduce(function(Qt,ee){return[].concat(Go()(Qt),Go()(ee))},[]);q.geometry.setAttribute("a_color",Float32Array.from(Rt),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]})}}},{key:"onEntityCreated",value:function(){var tt=this;this.shaderModuleService.registerModule("line",{vs:`attribute vec2 a_pos;
attribute vec4 a_color;
attribute float a_line_miter;
attribute vec2 a_line_normal;
attribute float a_counters;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform float u_thickness : 0.02;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
  v_color = a_color;
  v_counters = a_counters;

  vec3 normal = normalize(vec3(a_line_normal, 0.0));

  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);

  v_normal = vec2(normal * sign(a_line_miter));

  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;
}
`,fs:`uniform float u_dash_array : 0.02;
uniform float u_dash_offset : 0;
uniform float u_dash_ratio : 0;
uniform float u_thickness : 0.02;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
    float blur = 1. - smoothstep(0.98, 1., length(v_normal));

    gl_FragColor = v_color;
    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));
}`});var It=this.shaderModuleService.getModule("line"),Nt=It.vs,q=It.fs,Rt=It.uniforms,Qt=this.materialSystem.createShaderMaterial({vertexShader:Nt,fragmentShader:q}),ee=function(zn,In,Xn){var cr=[0,0],or=[0,0],lr=[0,0],Ar=[0,0],Nr=-1,Dr=!1,Tr=null,Xr=Object(ac.create)(),Ir=Xn||0,vi=[],bi=[],Wi=[],Jr=[0,0];In&&(zn=zn.slice()).push(zn[0]);for(var Li=zn.length,Hi=1;Hi<Li;Hi++){var qi=Ir,xo=zn[Hi-1],oo=zn[Hi],ta=Hi<zn.length-1?zn[Hi+1]:null;if(Jr.push(Hi/Li,Hi/Li),Object(Ks.direction)(cr,oo,xo),Tr||(Tr=[0,0],Object(Ks.normal)(Tr,cr)),Dr||(Dr=!0,Js(bi,vi,xo,Tr,1)),Wi.push([qi+0,qi+1,qi+2]),ta){Object(Ks.direction)(or,ta,oo);var ga=Object(Ks.computeMiter)(lr,Ar,cr,or,1),ko=Object(ac.dot)(lr,Tr)<0?-1:1,Wo=ga>3;if(!isFinite(ga)){Object(Ks.normal)(Tr,cr),Js(bi,vi,oo,Tr,1),Wi.push(Nr===1?[qi,qi+2,qi+3]:[qi+2,qi+1,qi+3]),Ir+=2,Nr=ko;continue}Wo?(ga=3,Jr.push(Hi/Li),ju(vi,Tr,-ko),bi.push(oo),ju(vi,Ar,ga*ko),bi.push(oo),Wi.push(Nr!==-ko?[qi,qi+2,qi+3]:[qi+2,qi+1,qi+3]),Wi.push([qi+2,qi+3,qi+4]),Object(Ks.normal)(Xr,or),Object(ac.copy)(Tr,Xr),ju(vi,Tr,-ko),bi.push(oo),Ir+=3):(Js(bi,vi,oo,Ar,ga),Wi.push(Nr===1?[qi,qi+2,qi+3]:[qi+2,qi+1,qi+3]),ko=-1,Object(ac.copy)(Tr,Ar),Ir+=2),Nr=ko}else Object(Ks.normal)(Tr,cr),Js(bi,vi,oo,Tr,1),Wi.push(Nr===1?[qi,qi+2,qi+3]:[qi+2,qi+1,qi+3]),Ir+=2}return{normals:vi,attrIndex:Wi,attrPos:bi,attrCounters:Jr}}(this.config.points,!1),xe=ee.normals,Pe=ee.attrIndex,He=ee.attrPos,Be=ee.attrCounters,Ke=He.length;this.vertexCount=Ke;var Qe=this.geometrySystem.createBufferGeometry({vertexCount:Ke});this.setMaterial(Qt),this.setGeometry(Qe),Qt.setCull({enable:!1,face:Gn.BACK}).setUniform(Rt),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var ze=[],en=[];xe.forEach(function(zn){var In=zn[0],Xn=zn[1];ze.push([In[0],In[1]]),en.push(Xn)}),Qe.setIndex(Pe.reduce(function(zn,In){return[].concat(Go()(zn),Go()(In))},[])),Qe.setAttribute("a_pos",Float32Array.from(He.reduce(function(zn,In){return[].concat(Go()(zn),Go()(In))},[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var wn=new Array(Ke).fill(void 0).map(function(){return Go()(tt.config.color)}).reduce(function(zn,In){return[].concat(Go()(zn),Go()(In))},[]);Qe.setAttribute("a_color",Float32Array.from(wn),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),Qe.setAttribute("a_line_miter",Float32Array.from(en),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),Qe.setAttribute("a_line_normal",Float32Array.from(ze.reduce(function(zn,In){return[].concat(Go()(zn),Go()(In))},[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),Qe.setAttribute("a_counters",Float32Array.from(Be),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),T}(Ns),Ff=Ur()(Qs.prototype,"materialSystem",[Rc,kc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gf=Ur()(Qs.prototype,"geometrySystem",[Lf,su],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uf=Ur()(Qs.prototype,"shaderModuleService",[Us],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bf=Qs))||Bf);function Xf(et,z){var T=Object.keys(et);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(et);z&&(F=F.filter(function(tt){return Object.getOwnPropertyDescriptor(et,tt).enumerable})),T.push.apply(T,F)}return T}function dd(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=Ta()(et);if(z){var tt=Ta()(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return $i()(this,T)}}var vd=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"];console.log();var Hf,Kf,Gc,Jf,Pu,Du,sc,Qf,Zf,pd=(zf=Object(kr.injectable)(),oc=Object(kr.inject)(er.Systems),_f=Object(kr.named)(er.MaterialSystem),Vf=Object(kr.inject)(er.Systems),Wf=Object(kr.named)(er.GeometrySystem),Nc=Object(kr.inject)(er.ShaderModuleService),zf((Iu=function(et){ea()(T,et);var z=dd(T);function T(){var F;sr()(this,T);for(var tt=arguments.length,It=new Array(tt),Nt=0;Nt<tt;Nt++)It[Nt]=arguments[Nt];return F=z.call.apply(z,[this].concat(It)),_n()(F,"materialSystem",Bc,va()(F)),_n()(F,"geometrySystem",Yf,va()(F)),_n()(F,"shaderModuleService",Fc,va()(F)),F}return pr()(T,[{key:"onAttributeChanged",value:function(tt){var It=tt.name,Nt=tt.data,q=this.getMeshComponent();q&&q.material&&(It==="strokeWidth"?q.material.setUniform("u_stroke_width",Nt):It==="strokeColor"?q.material.setUniform("u_stroke_color",Nt):It==="strokeOpacity"?q.material.setUniform("u_stroke_opacity",Nt):It==="opacity"?q.material.setUniform("u_opacity",Nt):It==="blur"&&q.material.setUniform("u_blur",Nt))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:`attribute vec2 position;
attribute vec4 color;
attribute float shape;
attribute vec2 offset;
attribute float size;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

uniform float u_stroke_width : 0.01;
uniform float u_device_pixel_ratio;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "picking"

void main() {
  v_color = color;
  v_radius = size;

  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);

  // construct point coords
  v_data = vec4(position, antialiasblur, shape);

  gl_Position = projectionMatrix * modelViewMatrix
    * vec4(position * size + offset, 0.0, 1.0);

  setPickingColor(a_PickingColor);
}`,fs:`uniform float u_blur : 0.05;
uniform float u_opacity : 0.7;
uniform float u_stroke_width : 0.01;
uniform vec4 u_stroke_color : [0, 0, 0, 0];
uniform float u_stroke_opacity : 1;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "sdf2d"
#pragma include "picking"

void main() {
  int shape = int(floor(v_data.w + 0.5));

  float antialiasblur = v_data.z;
  float antialiased_blur = -max(u_blur, antialiasblur);
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  // if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  // } else if (shape == 1) {
  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  // } else if (shape == 2) {
  //   outer_df = sdBox(v_data.xy, vec2(1.));
  //   inner_df = sdBox(v_data.xy, vec2(r));
  // } else if (shape == 3) {
  //   outer_df = sdPentagon(v_data.xy, 0.8);
  //   inner_df = sdPentagon(v_data.xy, r * 0.8);
  // } else if (shape == 4) {
  //   outer_df = sdHexagon(v_data.xy, 0.8);
  //   inner_df = sdHexagon(v_data.xy, r * 0.8);
  // } else if (shape == 5) {
  //   outer_df = sdOctogon(v_data.xy, 1.0);
  //   inner_df = sdOctogon(v_data.xy, r);
  // } else if (shape == 6) {
  //   outer_df = sdHexagram(v_data.xy, 0.52);
  //   inner_df = sdHexagram(v_data.xy, r * 0.52);
  // } else if (shape == 7) {
  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));
  //   inner_df = sdRhombus(v_data.xy, vec2(r));
  // } else if (shape == 8) {
  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);
  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  // }

  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiased_blur,
    0.0,
    inner_df
  );
  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;

  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);
  gl_FragColor.a = gl_FragColor.a * opacity_t;

  gl_FragColor = filterColor(gl_FragColor);
}`});var tt=this.shaderModuleService.getModule("grid"),It=tt.vs,Nt=tt.fs,q=tt.uniforms,Rt=this.materialSystem.createShaderMaterial({vertexShader:It,fragmentShader:Nt,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:Gn.SRC_ALPHA,dstRGB:Gn.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});Rt.setUniform(function(xe){for(var Pe=1;Pe<arguments.length;Pe++){var He=arguments[Pe]!=null?arguments[Pe]:{};Pe%2?Xf(Object(He),!0).forEach(function(Be){gr()(xe,Be,He[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(He)):Xf(Object(He)).forEach(function(Be){Object.defineProperty(xe,Be,Object.getOwnPropertyDescriptor(He,Be))})}return xe}({u_device_pixel_ratio:window.devicePixelRatio},q));var Qt=this.buildAttributes(),ee=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:Qt.instancedOffsets.length/2,vertexCount:6});ee.setIndex([0,2,1,0,3,2]),ee.setAttribute("position",Float32Array.from(Qt.positions),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),ee.setAttribute("offset",Float32Array.from(Qt.instancedOffsets),{arrayStride:8,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),ee.setAttribute("color",Float32Array.from(Qt.instancedColors),{arrayStride:16,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),ee.setAttribute("size",Float32Array.from(Qt.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),ee.setAttribute("shape",Float32Array.from(Qt.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),ee.setAttribute("a_PickingColor",Float32Array.from(Qt.instancedPickingColors),{arrayStride:12,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(Rt),this.setGeometry(ee)}},{key:"buildAttribute",value:function(tt,It,Nt){var q,Rt,Qt,ee,xe;(q=It.instancedPickingColors).push.apply(q,Go()([(xe=tt.id||Nt)+1&255,xe+1>>8&255,xe+1>>8>>8&255])),It.instancedShapes.push(vd.indexOf(tt.shape||"circle")),(Rt=It.instancedColors).push.apply(Rt,Go()(tt.color||[1,0,0,1])),(Qt=It.instancedOffsets).push.apply(Qt,Go()(tt.position||[0,0])),(ee=It.instancedSizes).push.apply(ee,Go()(tt.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var tt=this,It={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach(function(Nt,q){tt.buildAttribute(Nt,It,q)}):this.buildAttribute(this.config,It,0),It}}]),T}(Ns),Bc=Ur()(Iu.prototype,"materialSystem",[oc,_f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yf=Ur()(Iu.prototype,"geometrySystem",[Vf,Wf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fc=Ur()(Iu.prototype,"shaderModuleService",[Nc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lc=Iu))||Lc);function Uc(et,z){var T;if(typeof Symbol=="undefined"||et[Symbol.iterator]==null){if(Array.isArray(et)||(T=function(Rt,Qt){if(!!Rt){if(typeof Rt=="string")return $f(Rt,Qt);var ee=Object.prototype.toString.call(Rt).slice(8,-1);if(ee==="Object"&&Rt.constructor&&(ee=Rt.constructor.name),ee==="Map"||ee==="Set")return Array.from(Rt);if(ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee))return $f(Rt,Qt)}}(et))||z&&et&&typeof et.length=="number"){T&&(et=T);var F=0,tt=function(){};return{s:tt,n:function(){return F>=et.length?{done:!0}:{done:!1,value:et[F++]}},e:function(Qt){throw Qt},f:tt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var It,Nt=!0,q=!1;return{s:function(){T=et[Symbol.iterator]()},n:function(){var Qt=T.next();return Nt=Qt.done,Qt},e:function(Qt){q=!0,It=Qt},f:function(){try{Nt||T.return==null||T.return()}finally{if(q)throw It}}}}function $f(et,z){(z==null||z>et.length)&&(z=et.length);for(var T=0,F=new Array(z);T<z;T++)F[T]=et[T];return F}var qf,th,eh,nh,rh,zc,ih,ah,oh,_c,uc,sh,Vc=(Hf=Object(kr.injectable)(),Kf=Object(kr.inject)(er.RenderEngine),Gc=Object(kr.inject)(er.ShaderModuleService),Jf=Object(kr.inject)(er.ConfigService),Hf((Du=function(){function et(){sr()(this,et),_n()(this,"engine",sc,this),_n()(this,"shaderModule",Qf,this),_n()(this,"configService",Zf,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0,this.container=void 0}var z,T;return pr()(et,[{key:"init",value:(T=Vr()(br.a.mark(function F(){var tt,It,Nt,q,Rt;return br.a.wrap(function(Qt){for(;;)switch(Qt.prev=Qt.next){case 0:if(this.shaderModule.registerBuiltinModules(),tt=this.container.getAll(er.Systems),!(It=this.configService.get()).canvas){Qt.next=25;break}return Qt.next=6,this.engine.init({canvas:It.canvas,swapChainFormat:ci.TextureFormat.BGRA8Unorm,antialiasing:!1});case 6:Nt=Uc(tt),Qt.prev=7,Nt.s();case 9:if((q=Nt.n()).done){Qt.next=16;break}if(!(Rt=q.value).initialize){Qt.next=14;break}return Qt.next=14,Rt.initialize();case 14:Qt.next=9;break;case 16:Qt.next=21;break;case 18:Qt.prev=18,Qt.t0=Qt.catch(7),Nt.e(Qt.t0);case 21:return Qt.prev=21,Nt.f(),Qt.finish(21);case 24:this.inited=!0;case 25:case"end":return Qt.stop()}},F,this,[[7,18,21,24]])})),function(){return T.apply(this,arguments)})},{key:"render",value:(z=Vr()(br.a.mark(function F(){var tt,It,Nt,q,Rt,Qt,ee,xe=arguments;return br.a.wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:if(this.inited&&!this.rendering){Pe.next=2;break}return Pe.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach(function(He){He()}),this.rendering=!0,this.engine.beginFrame(),tt=this.container.getAll(er.Systems),It=xe.length,Nt=new Array(It),q=0;q<It;q++)Nt[q]=xe[q];Rt=Uc(tt),Pe.prev=8,Rt.s();case 10:if((Qt=Rt.n()).done){Pe.next=17;break}if(!(ee=Qt.value).execute){Pe.next=15;break}return Pe.next=15,ee.execute(Nt);case 15:Pe.next=10;break;case 17:Pe.next=22;break;case 19:Pe.prev=19,Pe.t0=Pe.catch(8),Rt.e(Pe.t0);case 22:return Pe.prev=22,Rt.f(),Pe.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return Pe.stop()}},F,this,[[8,19,22,25]])})),function(){return z.apply(this,arguments)})},{key:"clear",value:function(tt){var It=this;return this.inited?this.engine.clear(tt):this.pendings.unshift(function(){It.engine.clear(tt),It.pendings.shift()}),this}},{key:"setSize",value:function(tt){var It=tt.width,Nt=tt.height,q=this.engine.getCanvas();return this.size={width:It,height:Nt},q.width=It,q.height=Nt,this}},{key:"getSize",value:function(){return this.size}}]),et}(),sc=Ur()(Du.prototype,"engine",[Kf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qf=Ur()(Du.prototype,"shaderModule",[Gc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zf=Ur()(Du.prototype,"configService",[Jf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pu=Du))||Pu),uh=Object(kr.injectable)()(qf=function(){function et(){sr()(this,et),this.entities=[]}return pr()(et,[{key:"getEntities",value:function(){return this.entities}},{key:"addEntity",value:function(T){return this.entities.indexOf(T)===-1&&this.entities.push(T),this}},{key:"removeEntity",value:function(T){var F=this.entities.indexOf(T);return this.entities.splice(F,1),this}}]),et}())||qf,ch=(th=Object(kr.injectable)(),eh=Object(kr.inject)(er.Systems),nh=Object(kr.named)(er.RendererSystem),th((zc=function(){function et(){sr()(this,et),_n()(this,"rendererSystem",ih,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return pr()(et,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(T){return this.camera=T,this}},{key:"setScene",value:function(T){return this.scene=T,this}},{key:"setViewport",value:function(T){return this.viewport=T,this}},{key:"setClearColor",value:function(T){return this.clearColor=T,this}},{key:"pick",value:function(T){return this.rendererSystem.pick(T,this)}}]),et}(),ih=Ur()(zc.prototype,"rendererSystem",[eh,nh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rh=zc))||rh);function lh(et,z){var T=Object.keys(et);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(et);z&&(F=F.filter(function(tt){return Object.getOwnPropertyDescriptor(et,tt).enumerable})),T.push.apply(T,F)}return T}function gd(et){for(var z=1;z<arguments.length;z++){var T=arguments[z]!=null?arguments[z]:{};z%2?lh(Object(T),!0).forEach(function(F){gr()(et,F,T[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(T)):lh(Object(T)).forEach(function(F){Object.defineProperty(et,F,Object.getOwnPropertyDescriptor(T,F))})}return et}var ls=(ah=Object(kr.injectable)(),oh=Object(kr.inject)(er.ConfigService),ah((uc=function(){function et(){sr()(this,et),_n()(this,"configService",sh,this),this.container=void 0}var z;return pr()(et,[{key:"getEngine",value:(z=Vr()(br.a.mark(function T(){var F,tt,It,Nt;return br.a.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return F=this.container.get(er.RenderEngine),tt=this.configService.get(),It=tt.canvas,Nt=tt.engineOptions,q.next=4,F.init(gd({canvas:It||jc(),swapChainFormat:ci.TextureFormat.BGRA8Unorm,antialiasing:!1},Nt));case 4:return q.abrupt("return",F);case 5:case"end":return q.stop()}},T,this)})),function(){return z.apply(this,arguments)})},{key:"getTransformComponent",value:function(F){return this.container.get(er.TransformComponentManager).getComponentByEntity(F)}},{key:"getMeshComponent",value:function(F){return this.container.get(er.MeshComponentManager).getComponentByEntity(F)}},{key:"setConfig",value:function(F){this.configService.set(F)}},{key:"setContainer",value:function(F){this.container=F}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return zi()}},{key:"createScene",value:function(){return this.container.get(uh)}},{key:"createCamera",value:function(){return this.container.get(Kl)}},{key:"createView",value:function(){return this.container.get(ch)}},{key:"createRenderable",value:function(F,tt,It){var Nt=tt?this.container.getNamed(er.Renderable,tt):this.container.get(Ns);return Nt.setConfig(It||{}),Nt.setEntity(F),Nt}},{key:"createBoxGeometry",value:function(F){return this.container.getNamed(er.Systems,er.GeometrySystem).createBox(F)}},{key:"createBufferGeometry",value:function(F){return this.container.getNamed(er.Systems,er.GeometrySystem).createBufferGeometry(F)}},{key:"createInstancedBufferGeometry",value:function(F){return this.container.getNamed(er.Systems,er.GeometrySystem).createInstancedBufferGeometry(F)}},{key:"createBasicMaterial",value:function(){return this.container.getNamed(er.Systems,er.MaterialSystem).createBasicMaterial()}},{key:"createShaderMaterial",value:function(F){return this.container.getNamed(er.Systems,er.MaterialSystem).createShaderMaterial(F)}},{key:"createKernel",value:function(F){var tt=this.container.get(lf);return typeof F=="string"?tt.setBundle(JSON.parse(F)):tt.setBundle(F),tt.init(),tt}},{key:"createRenderer",value:function(){var F=this.container.get(Vc);return F.container=this.container,F.init(),F}},{key:"destroy",value:function(){this.container.getAll(er.Systems).forEach(function(F){F.tearDown&&F.tearDown()}),this.container.get(er.RenderEngine).destroy(),this.container.get(er.InteractorService).destroy()}}],[{key:"create",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},tt=Nh(),It=navigator.gpu?ud:Hh;tt.isBound(er.RenderEngine)||tt.bind(er.RenderEngine).to(It).inSingletonScope(),tt.bind(Vc).toSelf(),tt.bind(lf).toSelf(),tt.bind(Ns).toSelf(),tt.bind(ch).toSelf(),tt.bind(Kl).toSelf(),tt.bind(uh).toSelf(),tt.bind(et).toSelf(),tt.bind(er.Renderable).to(pd).whenTargetNamed(Ns.POINT),tt.bind(er.Renderable).to(hd).whenTargetNamed(Ns.LINE),tt.bind(er.Renderable).to(ld).whenTargetNamed(Ns.GRID);var Nt=tt.get(et);return Nt.setContainer(tt),Nt.setConfig(F),Nt}}]),et}(),sh=Ur()(uc.prototype,"configService",[oh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_c=uc))||_c),Zs=function(z,T){return z?w(z)?function(){return z}:z:function(){return T||1}},h=function(z,T){var F=[],tt=[],It={},Nt=0;for(Nt=0;Nt<z.length;Nt++){var q=z[Nt];It[q.id]=Nt,F.push(q.x),F.push(q.y),F.push(0),F.push(0),tt.push([])}for(Nt=0;Nt<T.length;Nt++){var Rt=T[Nt];tt[It[Rt.source]].push(It[Rt.target]),tt[It[Rt.target]].push(It[Rt.source])}var Qt=0;for(Nt=0;Nt<z.length;Nt++){var ee=F.length,xe=tt[Nt],Pe=xe.length;F[4*Nt+2]=ee,F[4*Nt+3]=xe.length,Qt=Math.max(Qt,xe.length);for(var He=0;He<Pe;++He){var Be=xe[He];F.push(+Be)}}for(;F.length%4!=0;)F.push(0);return{maxEdgePerVetex:Qt,array:new Float32Array(F)}},o=function(z,T,F,tt){var It=[],Nt=[],q={},Rt=0;for(Rt=0;Rt<z.length;Rt++){var Qt=z[Rt];q[Qt.id]=Rt,It.push(Qt.x),It.push(Qt.y),It.push(0),It.push(0),Nt.push([])}for(Rt=0;Rt<T.length;Rt++){var ee=T[Rt];Nt[q[ee.source]].push(q[ee.target]),Nt[q[ee.source]].push(F(ee)),Nt[q[ee.source]].push(tt(ee)),Nt[q[ee.source]].push(0),Nt[q[ee.target]].push(q[ee.source]),Nt[q[ee.target]].push(F(ee)),Nt[q[ee.target]].push(tt(ee)),Nt[q[ee.target]].push(0)}var xe=0;for(Rt=0;Rt<z.length;Rt++){var Pe=It.length,He=Nt[Rt],Be=He.length;It[4*Rt+2]=Pe+1048576*Be/4,It[4*Rt+3]=0,xe=Math.max(xe,Be/4);for(var Ke=0;Ke<Be;++Ke){var Qe=He[Ke];It.push(+Qe)}}for(;It.length%4!=0;)It.push(0);return{maxEdgePerVetex:xe,array:new Float32Array(It)}},e=function(z,T){var F=[],tt=z.length,It={};return T.forEach(function(Nt){z.forEach(function(q,Rt){if(It[Nt[q]]===void 0&&(It[Nt[q]]=Object.keys(It).length),F.push(It[Nt[q]]),Rt===tt-1)for(;F.length%4!=0;)F.push(0)})}),{array:new Float32Array(F),count:Object.keys(It).length}},a=function(z){for(var T=[],F=z.length,tt=z[0].length,It=function(Rt){z.forEach(function(Qt,ee){if(T.push(Qt[Rt]),ee===F-1)for(;T.length%4!=0;)T.push(0)})},Nt=0;Nt<tt;Nt++)It(Nt);return new Float32Array(T)};function M(et){return(M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(et)}function N(et,z){for(var T=0;T<z.length;T++){var F=z[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(et,F.key,F)}}function ot(et,z){return(ot=Object.setPrototypeOf||function(T,F){return T.__proto__=F,T})(et,z)}function Ct(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=ne(et);if(z){var tt=ne(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return Ft(this,T)}}function Ft(et,z){return!z||M(z)!=="object"&&typeof z!="function"?function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(et):z}function ne(et){return(ne=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(et)}var ge=function(z,T,F,tt){return new(F||(F=Promise))(function(It,Nt){function q(ee){try{Qt(tt.next(ee))}catch(xe){Nt(xe)}}function Rt(ee){try{Qt(tt.throw(ee))}catch(xe){Nt(xe)}}function Qt(ee){var xe;ee.done?It(ee.value):(xe=ee.value,xe instanceof F?xe:new F(function(Pe){Pe(xe)})).then(q,Rt)}Qt((tt=tt.apply(z,T||[])).next())})},be=function(et){(function(Nt,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(q&&q.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),q&&ot(Nt,q)})(It,et);var z,T,F,tt=Ct(It);function It(Nt){var q;return function(Rt,Qt){if(!(Rt instanceof Qt))throw new TypeError("Cannot call a class as a function")}(this,It),(q=tt.call(this)).maxIteration=1e3,q.gravity=10,q.speed=1,q.clustering=!1,q.clusterField="cluster",q.clusterGravity=10,q.workerEnabled=!1,q.nodes=[],q.edges=[],q.width=300,q.height=300,q.nodeMap={},q.nodeIdxMap={},q.updateCfg(Nt),q}return z=It,(T=[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){return ge(this,void 0,void 0,Y.mark(function q(){var Rt,Qt,ee,xe,Pe,He=this;return Y.wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if((Qt=(Rt=this).nodes)&&Qt.length!==0){Be.next=5;break}return Rt.onLayoutEnd&&Rt.onLayoutEnd(),Be.abrupt("return");case 5:if(Rt.width||typeof window=="undefined"||(Rt.width=window.innerWidth),Rt.height||typeof window=="undefined"||(Rt.height=window.innerHeight),Rt.center||(Rt.center=[Rt.width/2,Rt.height/2]),ee=Rt.center,Qt.length!==1){Be.next=14;break}return Qt[0].x=ee[0],Qt[0].y=ee[1],Rt.onLayoutEnd&&Rt.onLayoutEnd(),Be.abrupt("return");case 14:return xe={},Pe={},Qt.forEach(function(Ke,Qe){w(Ke.x)||(Ke.x=Math.random()*He.width),w(Ke.y)||(Ke.y=Math.random()*He.height),xe[Ke.id]=Ke,Pe[Ke.id]=Qe}),Rt.nodeMap=xe,Rt.nodeIdxMap=Pe,Be.next=21,Rt.run();case 21:case"end":return Be.stop()}},q,this)}))}},{key:"executeWithWorker",value:function(q,Rt){return ge(this,void 0,void 0,Y.mark(function Qt(){var ee,xe,Pe,He,Be,Ke=this;return Y.wrap(function(Qe){for(;;)switch(Qe.prev=Qe.next){case 0:if(xe=(ee=this).nodes,Pe=ee.center,xe&&xe.length!==0){Qe.next=5;break}return Qe.abrupt("return");case 5:if(xe.length!==1){Qe.next=9;break}return xe[0].x=Pe[0],xe[0].y=Pe[1],Qe.abrupt("return");case 9:return He={},Be={},xe.forEach(function(ze,en){w(ze.x)||(ze.x=Math.random()*Ke.width),w(ze.y)||(ze.y=Math.random()*Ke.height),He[ze.id]=ze,Be[ze.id]=en}),ee.nodeMap=He,ee.nodeIdxMap=Be,Qe.next=16,ee.run(q,Rt);case 16:case"end":return Qe.stop()}},Qt,this)}))}},{key:"run",value:function(q,Rt){return ge(this,void 0,void 0,Y.mark(function Qt(){var ee,xe,Pe,He,Be,Ke,Qe,ze,en,wn,zn,In,Xn,cr,or,lr,Ar,Nr,Dr,Tr,Xr,Ir,vi,bi,Wi,Jr,Li=this;return Y.wrap(function(Hi){for(;;)switch(Hi.prev=Hi.next){case 0:for(xe=(ee=this).nodes,Pe=ee.edges,He=ee.maxIteration,Be=ee.center,Ke=ee.height*ee.width,Qe=Math.sqrt(Ke)/10,ze=Ke/(xe.length+1),en=Math.sqrt(ze),wn=ee.speed,zn=ee.clustering,In=e([ee.clusterField],xe),Xn=In.array,cr=In.count,or=xe.length,lr=h(xe,Pe),Ar=lr.maxEdgePerVetex,Nr=lr.array,Dr=ee.workerEnabled,Tr=Dr?ls.create({canvas:q,engineOptions:{supportCompute:!0}}):ls.create({engineOptions:{supportCompute:!0}}),Xr=ee.onLayoutEnd,Ir=[],vi=0;vi<cr;vi++)Ir.push(0,0,0,0);return bi=Tr.createKernel('{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}').setDispatch([or,1,1]).setBinding({u_Data:Nr,u_K:en,u_K2:ze,u_Gravity:ee.gravity,u_ClusterGravity:ee.clusterGravity||ee.gravity||1,u_Speed:wn,u_MaxDisplace:Qe,u_Clustering:zn?1:0,u_Center:Be,u_AttributeArray:Xn,u_ClusterCenters:Ir,MAX_EDGE_PER_VERTEX:Ar,VERTEX_COUNT:or}),zn&&(Wi=Tr.createKernel('{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}').setDispatch([cr,1,1]).setBinding({u_Data:Nr,u_NodeAttributes:Xn,u_ClusterCenters:Ir,VERTEX_COUNT:or,CLUSTER_COUNT:cr})),Jr=function(){return ge(Li,void 0,void 0,Y.mark(function xo(){var oo,ta;return Y.wrap(function(ga){for(;;)switch(ga.prev=ga.next){case 0:oo=0;case 1:if(!(oo<He)){ga.next=13;break}return ga.next=4,bi.execute();case 4:if(!zn){ga.next=9;break}return Wi.setBinding({u_Data:bi}),ga.next=8,Wi.execute();case 8:bi.setBinding({u_ClusterCenters:Wi});case 9:bi.setBinding({u_MaxDisplace:Qe*=.99});case 10:oo++,ga.next=1;break;case 13:return ga.next=15,bi.getOutput();case 15:ta=ga.sent,q?Rt.postMessage({type:si,vertexEdgeData:ta}):xe.forEach(function(ko,Wo){var Cs=ta[4*Wo],fs=ta[4*Wo+1];ko.x=Cs,ko.y=fs}),Xr&&Xr();case 18:case"end":return ga.stop()}},xo)}))},Hi.next=24,Jr();case 24:case"end":return Hi.stop()}},Qt,this)}))}},{key:"getType",value:function(){return"fruchterman-gpu"}}])&&N(z.prototype,T),F&&N(z,F),It}(O);function Ae(et){return(Ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(et)}function Xe(et,z){for(var T=0;T<z.length;T++){var F=z[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(et,F.key,F)}}function fn(et,z){return(fn=Object.setPrototypeOf||function(T,F){return T.__proto__=F,T})(et,z)}function Sn(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=ar(et);if(z){var tt=ar(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return nr(this,T)}}function nr(et,z){return!z||Ae(z)!=="object"&&typeof z!="function"?function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(et):z}function ar(et){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(et)}var Sr=function(z,T,F,tt){return new(F||(F=Promise))(function(It,Nt){function q(ee){try{Qt(tt.next(ee))}catch(xe){Nt(xe)}}function Rt(ee){try{Qt(tt.throw(ee))}catch(xe){Nt(xe)}}function Qt(ee){var xe;ee.done?It(ee.value):(xe=ee.value,xe instanceof F?xe:new F(function(Pe){Pe(xe)})).then(q,Rt)}Qt((tt=tt.apply(z,T||[])).next())})},Mr=function(et){(function(Nt,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(q&&q.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),q&&fn(Nt,q)})(It,et);var z,T,F,tt=Sn(It);function It(Nt){var q;return function(Rt,Qt){if(!(Rt instanceof Qt))throw new TypeError("Cannot call a class as a function")}(this,It),(q=tt.call(this)).maxIteration=1e3,q.edgeStrength=200,q.nodeStrength=1e3,q.coulombDisScale=.005,q.damping=.9,q.maxSpeed=1e3,q.minMovement=1,q.interval=.02,q.factor=1,q.linkDistance=1,q.gravity=10,q.workerEnabled=!1,q.nodes=[],q.edges=[],q.width=300,q.height=300,q.nodeMap={},q.nodeIdxMap={},q.updateCfg(Nt),q}return z=It,(T=[{key:"getDefaultCfg",value:function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){return Sr(this,void 0,void 0,Y.mark(function q(){var Rt,Qt,ee,xe,Pe;return Y.wrap(function(He){for(;;)switch(He.prev=He.next){case 0:if((Qt=(Rt=this).nodes)&&Qt.length!==0){He.next=5;break}return Rt.onLayoutEnd&&Rt.onLayoutEnd(),He.abrupt("return");case 5:if(Rt.width||typeof window=="undefined"||(Rt.width=window.innerWidth),Rt.height||typeof window=="undefined"||(Rt.height=window.innerHeight),Rt.center||(Rt.center=[Rt.width/2,Rt.height/2]),ee=Rt.center,Qt.length!==1){He.next=14;break}return Qt[0].x=ee[0],Qt[0].y=ee[1],Rt.onLayoutEnd&&Rt.onLayoutEnd(),He.abrupt("return");case 14:return xe={},Pe={},Qt.forEach(function(Be,Ke){w(Be.x)||(Be.x=Math.random()*Rt.width),w(Be.y)||(Be.y=Math.random()*Rt.height),xe[Be.id]=Be,Pe[Be.id]=Ke}),Rt.nodeMap=xe,Rt.nodeIdxMap=Pe,Rt.nodeStrength=Zs(Rt.nodeStrength,1),Rt.edgeStrength=Zs(Rt.edgeStrength,1),He.next=23,Rt.run();case 23:case"end":return He.stop()}},q,this)}))}},{key:"executeWithWorker",value:function(q,Rt){var Qt=this,ee=Qt.nodes,xe=Qt.center;if(ee&&ee.length!==0){if(ee.length===1)return ee[0].x=xe[0],void(ee[0].y=xe[1]);var Pe={},He={};ee.forEach(function(Be,Ke){w(Be.x)||(Be.x=Math.random()*Qt.width),w(Be.y)||(Be.y=Math.random()*Qt.height),Pe[Be.id]=Be,He[Be.id]=Ke}),Qt.nodeMap=Pe,Qt.nodeIdxMap=He,Qt.nodeStrength=Zs(Qt.nodeStrength,1),Qt.edgeStrength=Zs(Qt.edgeStrength,1),Qt.run(q,Rt)}}},{key:"run",value:function(q,Rt){return Sr(this,void 0,void 0,Y.mark(function Qt(){var ee,xe,Pe,He,Be,Ke,Qe,ze,en,wn,zn,In,Xn,cr,or,lr,Ar,Nr,Dr,Tr,Xr,Ir,vi,bi,Wi,Jr=this;return Y.wrap(function(Li){for(;;)switch(Li.prev=Li.next){case 0:for(xe=(ee=this).nodes,Pe=ee.edges,He=ee.maxIteration,ee.width||typeof window=="undefined"||(ee.width=window.innerWidth),ee.height||typeof window=="undefined"||(ee.height=window.innerHeight),Be=xe.length,ee.linkDistance=Zs(ee.linkDistance),ee.edgeStrength=Zs(ee.edgeStrength),Ke=o(xe,Pe,ee.linkDistance,ee.edgeStrength),Qe=Ke.maxEdgePerVetex,ze=Ke.array,ee.degrees=m(xe.length,ee.nodeIdxMap,Pe),en=[],wn=[],zn=[],In=[],Xn=[],ee.getMass||(ee.getMass=function(Hi){return ee.degrees[ee.nodeIdxMap[Hi.id]]||1}),cr=ee.gravity,or=ee.center,xe.forEach(function(Hi,qi){en.push(ee.getMass(Hi)),wn.push(ee.nodeStrength(Hi)),ee.degrees[qi]||(ee.degrees[qi]=0);var xo=[or[0],or[1],cr];if(ee.getCenter){var oo=ee.getCenter(Hi,ee.degrees[qi]);oo&&w(oo[0])&&w(oo[1])&&w(oo[2])&&(xo=oo)}zn.push(xo[0]),In.push(xo[1]),Xn.push(xo[2])}),lr=a([en,ee.degrees,wn]),Ar=a([zn,In,Xn]),Nr=ee.workerEnabled,Dr=Nr?ls.create({canvas:q,engineOptions:{supportCompute:!0}}):ls.create({engineOptions:{supportCompute:!0}}),Tr=ee.onLayoutEnd,Xr=[],ze.forEach(function(Hi){Xr.push(Hi)}),Ir=0;Ir<4;Ir++)Xr.push(0);return vi=Dr.createKernel('{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = dist * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (1000.0 * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.w;\\nvar ay : f32 = vy * attributes2.w;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = dist * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (1000.0 * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.w;\\nfloat ay = vy * attributes2.w;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = dist * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (1000.0 * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.w;\\nfloat ay = vy * attributes2.w;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\ngl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}').setDispatch([Be,1,1]).setBinding({u_Data:ze,u_damping:ee.damping,u_maxSpeed:ee.maxSpeed,u_minMovement:ee.minMovement,u_coulombDisScale:ee.coulombDisScale,u_factor:ee.factor,u_NodeAttributeArray1:lr,u_NodeAttributeArray2:Ar,MAX_EDGE_PER_VERTEX:Qe,VERTEX_COUNT:Be,u_AveMovement:Xr,u_interval:ee.interval}),bi=Dr.createKernel('{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}').setDispatch([1,1,1]).setBinding({u_Data:ze,VERTEX_COUNT:Be,u_AveMovement:[0,0,0,0]}),Wi=function(){return Sr(Jr,void 0,void 0,Y.mark(function qi(){var xo,oo,ta;return Y.wrap(function(ga){for(;;)switch(ga.prev=ga.next){case 0:xo=0;case 1:if(!(xo<He)){ga.next=12;break}return ga.next=4,vi.execute();case 4:return bi.setBinding({u_Data:vi}),ga.next=7,bi.execute();case 7:oo=Math.max(.02,ee.interval-.002*xo),vi.setBinding({u_interval:oo,u_AveMovement:bi});case 9:xo++,ga.next=1;break;case 12:return ga.next=14,vi.getOutput();case 14:ta=ga.sent,q?Rt.postMessage({type:si,vertexEdgeData:ta}):xe.forEach(function(ko,Wo){var Cs=ta[4*Wo],fs=ta[4*Wo+1];ko.x=Cs,ko.y=fs}),Tr&&Tr();case 17:case"end":return ga.stop()}},qi)}))},Li.next=33,Wi();case 33:case"end":return Li.stop()}},Qt,this)}))}},{key:"getType",value:function(){return"gForce-gpu"}}])&&Xe(z.prototype,T),F&&Xe(z,F),It}(O);function qr(et){return(qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z})(et)}function oi(et,z){for(var T=0;T<z.length;T++){var F=z[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(et,F.key,F)}}function ai(et,z){return(ai=Object.setPrototypeOf||function(T,F){return T.__proto__=F,T})(et,z)}function aa(et){var z=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var T,F=_i(et);if(z){var tt=_i(this).constructor;T=Reflect.construct(F,arguments,tt)}else T=F.apply(this,arguments);return Ji(this,T)}}function Ji(et,z){return!z||qr(z)!=="object"&&typeof z!="function"?function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(et):z}function _i(et){return(_i=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)})(et)}var Ca=function(et){(function(Nt,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(q&&q.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),q&&ai(Nt,q)})(It,et);var z,T,F,tt=aa(It);function It(Nt){var q;return function(Rt,Qt){if(!(Rt instanceof Qt))throw new TypeError("Cannot call a class as a function")}(this,It),(q=tt.call(this)).center=[0,0],q.maxIteration=100,q.gravity=10,q.comboGravity=10,q.linkDistance=10,q.alpha=1,q.alphaMin=.001,q.alphaDecay=1-Math.pow(q.alphaMin,1/300),q.alphaTarget=0,q.velocityDecay=.6,q.edgeStrength=.6,q.nodeStrength=30,q.preventOverlap=!1,q.preventNodeOverlap=!1,q.preventComboOverlap=!1,q.collideStrength=void 0,q.nodeCollideStrength=.5,q.comboCollideStrength=.5,q.comboSpacing=20,q.comboPadding=10,q.optimizeRangeFactor=1,q.onTick=function(){},q.onLayoutEnd=function(){},q.depthAttractiveForceScale=1,q.depthRepulsiveForceScale=2,q.nodes=[],q.edges=[],q.combos=[],q.comboTrees=[],q.width=300,q.height=300,q.bias=[],q.nodeMap={},q.oriComboMap={},q.indexMap={},q.comboMap={},q.previousLayouted=!1,q.updateCfg(Nt),q}return z=It,(T=[{key:"getDefaultCfg",value:function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}}},{key:"execute",value:function(){var q=this.nodes,Rt=this.center;if(this.comboTree={id:"comboTreeRoot",depth:-1,children:this.comboTrees},q&&q.length!==0){if(q.length===1)return q[0].x=Rt[0],q[0].y=Rt[1],void(this.onLayoutEnd&&this.onLayoutEnd());this.initVals(),this.run(),this.onLayoutEnd&&this.onLayoutEnd()}else this.onLayoutEnd&&this.onLayoutEnd()}},{key:"run",value:function(){var q=this,Rt=q.nodes,Qt=q.previousLayouted?q.maxIteration/5:q.maxIteration;q.width||typeof window=="undefined"||(q.width=window.innerWidth),q.height||typeof window=="undefined"||(q.height=window.innerHeight);var ee=q.center,xe=q.velocityDecay,Pe=q.comboMap;q.previousLayouted||q.initPos(Pe);for(var He=function(en){var wn=[];Rt.forEach(function(zn,In){wn[In]={x:0,y:0}}),q.applyCalculate(wn),q.applyComboCenterForce(wn),Rt.forEach(function(zn,In){w(zn.x)&&w(zn.y)&&(zn.x+=wn[In].x*xe,zn.y+=wn[In].y*xe)}),q.alpha+=(q.alphaTarget-q.alpha)*q.alphaDecay,q.onTick()},Be=0;Be<Qt;Be++)He();var Ke=[0,0];Rt.forEach(function(ze){w(ze.x)&&w(ze.y)&&(Ke[0]+=ze.x,Ke[1]+=ze.y)}),Ke[0]/=Rt.length,Ke[1]/=Rt.length;var Qe=[ee[0]-Ke[0],ee[1]-Ke[1]];Rt.forEach(function(ze,en){w(ze.x)&&w(ze.y)&&(ze.x+=Qe[0],ze.y+=Qe[1])}),q.combos.forEach(function(ze){var en=Pe[ze.id];en&&en.empty&&(ze.x=en.cx||ze.x,ze.y=en.cy||ze.y)}),q.previousLayouted=!0}},{key:"initVals",value:function(){var q=this.edges,Rt=this.nodes,Qt=this.combos,ee={},xe={},Pe={};Rt.forEach(function(Jr,Li){xe[Jr.id]=Jr,Pe[Jr.id]=Li}),this.nodeMap=xe,this.indexMap=Pe;var He={};Qt.forEach(function(Jr){He[Jr.id]=Jr}),this.oriComboMap=He,this.comboMap=this.getComboMap();var Be=this.preventOverlap;this.preventComboOverlap=this.preventComboOverlap||Be,this.preventNodeOverlap=this.preventNodeOverlap||Be;var Ke=this.collideStrength;Ke&&(this.comboCollideStrength=Ke,this.nodeCollideStrength=Ke),this.comboCollideStrength=this.comboCollideStrength?this.comboCollideStrength:0,this.nodeCollideStrength=this.nodeCollideStrength?this.nodeCollideStrength:0;for(var Qe=0;Qe<q.length;++Qe)ee[q[Qe].source]?ee[q[Qe].source]++:ee[q[Qe].source]=1,ee[q[Qe].target]?ee[q[Qe].target]++:ee[q[Qe].target]=1;for(var ze=[],en=0;en<q.length;++en)ze[en]=ee[q[en].source]/(ee[q[en].source]+ee[q[en].target]);this.bias=ze;var wn,zn,In=this.nodeSize,Xn=this.nodeSpacing;if(zn=w(Xn)?function(){return Xn}:A(Xn)?Xn:function(){return 0},this.nodeSpacing=zn,In)if(A(In))wn=function(Li){return In(Li)};else if(c(In)){var cr=(In[0]>In[1]?In[0]:In[1])/2;wn=function(Li){return cr}}else{var or=In/2;wn=function(Li){return or}}else wn=function(Li){return Li.size?c(Li.size)?(Li.size[0]>Li.size[1]?Li.size[0]:Li.size[1])/2:Li.size/2:10};this.nodeSize=wn;var lr,Ar=this.comboSpacing;lr=w(Ar)?function(){return Ar}:A(Ar)?Ar:function(){return 0},this.comboSpacing=lr;var Nr,Dr=this.comboPadding;Nr=w(Dr)?function(){return Dr}:c(Dr)?function(){return Math.max.apply(null,Dr)}:A(Dr)?Dr:function(){return 0},this.comboPadding=Nr;var Tr,Xr=this.linkDistance;Xr||(Xr=10),Tr=w(Xr)?function(Jr){return Xr}:Xr,this.linkDistance=Tr;var Ir,vi=this.edgeStrength;vi||(vi=1),Ir=w(vi)?function(Jr){return vi}:vi,this.edgeStrength=Ir;var bi,Wi=this.nodeStrength;Wi||(Wi=30),bi=w(Wi)?function(Jr){return Wi}:Wi,this.nodeStrength=bi}},{key:"initPos",value:function(q){this.nodes.forEach(function(Rt,Qt){var ee=Rt.comboId,xe=q[ee];ee&&xe?(Rt.x=xe.cx+100/(Qt+1),Rt.y=xe.cy+100/(Qt+1)):(Rt.x=100/(Qt+1),Rt.y=100/(Qt+1))})}},{key:"getComboMap",value:function(){var q=this,Rt=q.nodeMap,Qt=q.indexMap,ee=q.comboTrees,xe=q.oriComboMap,Pe={};return(ee||[]).forEach(function(He){var Be=[];d(He,function(Ke){if(Ke.itemType==="node"||!xe[Ke.id])return!0;if(Pe[Ke.id]===void 0){var Qe={id:Ke.id,name:Ke.id,cx:0,cy:0,count:0,depth:q.oriComboMap[Ke.id].depth,children:[]};Pe[Ke.id]=Qe}var ze=Ke.children;ze&&ze.forEach(function(cr){if(!Pe[cr.id]&&!Rt[cr.id])return!0;Be.push(cr)});var en=Pe[Ke.id];if(en.cx=0,en.cy=0,Be.length===0){en.empty=!0;var wn=xe[Ke.id],zn=Object.keys(Rt).length,In="".concat(Ke.id,"-visual-child-").concat(zn),Xn={id:In,x:wn.x,y:wn.y,depth:en.depth+1,itemType:"node"};q.nodes.push(Xn),Rt[In]=Xn,Qt[In]=zn,en.cx=wn.x,en.cy=wn.y,Be.push(Xn)}return Be.forEach(function(cr){if(en.count++,cr.itemType!=="node"){var or=Pe[cr.id];return w(or.cx)&&(en.cx+=or.cx),void(w(or.cy)&&(en.cy+=or.cy))}var lr=Rt[cr.id];lr&&(w(lr.x)&&(en.cx+=lr.x),w(lr.y)&&(en.cy+=lr.y))}),en.cx/=en.count,en.cy/=en.count,en.children=Be,!0})}),Pe}},{key:"applyComboCenterForce",value:function(q){var Rt=this.gravity,Qt=this.comboGravity||Rt,ee=this.alpha,xe=this.comboTrees,Pe=this.indexMap,He=this.nodeMap,Be=this.comboMap;(xe||[]).forEach(function(Ke){d(Ke,function(Qe){if(Qe.itemType==="node"||!Be[Qe.id])return!0;var ze=Be[Qe.id],en=(ze.depth+1)/10*.5,wn=ze.cx,zn=ze.cy;return ze.cx=0,ze.cy=0,ze.children.forEach(function(In){if(In.itemType!=="node"){var Xn=Be[In.id];return Xn&&w(Xn.cx)&&(ze.cx+=Xn.cx),void(Xn&&w(Xn.cy)&&(ze.cy+=Xn.cy))}var cr=He[In.id],or=cr.x-wn||.005,lr=cr.y-zn||.005,Ar=Math.sqrt(or*or+lr*lr),Nr=Pe[cr.id],Dr=Qt*ee/Ar*en;q[Nr].x-=or*Dr,q[Nr].y-=lr*Dr,w(cr.x)&&(ze.cx+=cr.x),w(cr.y)&&(ze.cy+=cr.y)}),ze.cx/=ze.count,ze.cy/=ze.count,!0})})}},{key:"applyCalculate",value:function(q){var Rt=this.comboMap,Qt=this.nodes,ee={};Qt.forEach(function(xe,Pe){Qt.forEach(function(He,Be){if(!(Pe<Be)){var Ke=xe.x-He.x||.005,Qe=xe.y-He.y||.005,ze=Ke*Ke+Qe*Qe,en=Math.sqrt(ze);ze<1&&(ze=en),ee["".concat(xe.id,"-").concat(He.id)]={vx:Ke,vy:Qe,vl2:ze,vl:en},ee["".concat(He.id,"-").concat(xe.id)]={vl2:ze,vl:en,vx:-Ke,vy:-Qe}}})}),this.updateComboSizes(Rt),this.calRepulsive(q,ee),this.calAttractive(q,ee),this.preventComboOverlap&&this.comboNonOverlapping(q,Rt)}},{key:"updateComboSizes",value:function(q){var Rt=this,Qt=Rt.comboTrees,ee=Rt.nodeMap,xe=Rt.nodeSize,Pe=Rt.comboSpacing,He=Rt.comboPadding;(Qt||[]).forEach(function(Be){var Ke=[];d(Be,function(Qe){if(Qe.itemType==="node")return!0;var ze=q[Qe.id];if(!ze)return!1;var en=Qe.children;en&&en.forEach(function(In){(q[In.id]||ee[In.id])&&Ke.push(In)}),ze.minX=1/0,ze.minY=1/0,ze.maxX=-1/0,ze.maxY=-1/0,Ke.forEach(function(In){if(In.itemType!=="node")return!0;var Xn=ee[In.id];if(!Xn)return!0;var cr=xe(Xn),or=Xn.x-cr,lr=Xn.y-cr,Ar=Xn.x+cr,Nr=Xn.y+cr;ze.minX>or&&(ze.minX=or),ze.minY>lr&&(ze.minY=lr),ze.maxX<Ar&&(ze.maxX=Ar),ze.maxY<Nr&&(ze.maxY=Nr)});var wn=Rt.oriComboMap[Qe.id].size||10;c(wn)&&(wn=wn[0]);var zn=Math.max(ze.maxX-ze.minX,ze.maxY-ze.minY,wn);return ze.r=zn/2+Pe(ze)/2+He(ze),!0})})}},{key:"comboNonOverlapping",value:function(q,Rt){var Qt=this.comboTree,ee=this.comboCollideStrength,xe=this.indexMap,Pe=this.nodeMap;d(Qt,function(He){if(!Rt[He.id]&&!Pe[He.id]&&He.id!=="comboTreeRoot")return!1;var Be=He.children;return Be&&Be.length>1&&Be.forEach(function(Ke,Qe){if(Ke.itemType==="node")return!1;var ze=Rt[Ke.id];ze&&Be.forEach(function(en,wn){if(Qe<=wn||en.itemType==="node")return!1;var zn=Rt[en.id];if(!zn)return!1;var In=ze.cx-zn.cx||.005,Xn=ze.cy-zn.cy||.005,cr=In*In+Xn*Xn,or=ze.r,lr=zn.r,Ar=or+lr,Nr=lr*lr,Dr=or*or;if(cr<Ar*Ar){var Tr=Ke.children;if(!Tr||Tr.length===0)return!1;var Xr=en.children;if(!Xr||Xr.length===0)return!1;var Ir=Math.sqrt(cr),vi=(Ar-Ir)/Ir*ee,bi=In*vi,Wi=Xn*vi,Jr=Nr/(Dr+Nr),Li=1-Jr;Tr.forEach(function(Hi){if(Hi.itemType!=="node")return!1;if(Pe[Hi.id]){var qi=xe[Hi.id];Xr.forEach(function(xo){if(xo.itemType!=="node"||!Pe[xo.id])return!1;var oo=xe[xo.id];q[qi].x+=bi*Jr,q[qi].y+=Wi*Jr,q[oo].x-=bi*Li,q[oo].y-=Wi*Li})}})}})}),!0})}},{key:"calRepulsive",value:function(q,Rt){var Qt=this,ee=Qt.nodes,xe=Qt.width*Qt.optimizeRangeFactor,Pe=Qt.nodeStrength,He=Qt.alpha,Be=Qt.nodeCollideStrength,Ke=Qt.preventNodeOverlap,Qe=Qt.nodeSize,ze=Qt.nodeSpacing,en=Qt.depthRepulsiveForceScale,wn=Qt.center;ee.forEach(function(zn,In){if(zn.x&&zn.y){if(wn){var Xn=Qt.gravity,cr=zn.x-wn[0]||.005,or=zn.y-wn[1]||.005,lr=Math.sqrt(cr*cr+or*or);q[In].x-=cr*Xn*He/lr,q[In].y-=or*Xn*He/lr}ee.forEach(function(Ar,Nr){if(In!==Nr&&Ar.x&&Ar.y){var Dr=Rt["".concat(zn.id,"-").concat(Ar.id)],Tr=Dr.vl2,Xr=Dr.vl;if(!(Xr>xe)){var Ir=Rt["".concat(zn.id,"-").concat(Ar.id)],vi=Ir.vx,bi=Ir.vy,Wi=Math.log(Math.abs(Ar.depth-zn.depth)/10)+1||1;Wi=Wi<1?1:Wi,Ar.comboId!==zn.comboId&&(Wi+=1);var Jr=Wi?Math.pow(en,Wi):1,Li=Pe(Ar)*He/Tr*Jr;if(q[In].x+=vi*Li,q[In].y+=bi*Li,In<Nr&&Ke){var Hi=Qe(zn)+ze(zn),qi=Qe(Ar)+ze(Ar),xo=Hi+qi;if(Tr<xo*xo){var oo=(xo-Xr)/Xr*Be,ta=qi*qi,ga=ta/(Hi*Hi+ta),ko=vi*oo,Wo=bi*oo;q[In].x+=ko*ga,q[In].y+=Wo*ga,ga=1-ga,q[Nr].x-=ko*ga,q[Nr].y-=Wo*ga}}}}})}})}},{key:"calAttractive",value:function(q,Rt){var Qt=this,ee=Qt.edges,xe=Qt.linkDistance,Pe=Qt.alpha,He=Qt.edgeStrength,Be=Qt.bias,Ke=Qt.depthAttractiveForceScale;ee.forEach(function(Qe,ze){if(Qe.source&&Qe.target&&Qe.source!==Qe.target){var en=Qt.indexMap[Qe.source],wn=Qt.indexMap[Qe.target],zn=Qt.nodeMap[Qe.source],In=Qt.nodeMap[Qe.target];if(zn&&In){var Xn=Math.log(Math.abs(zn.depth-In.depth)/10);zn.comboId===In.comboId&&(Xn/=2);var cr=Xn?Math.pow(Ke,Xn):1;if(zn.comboId!==In.comboId&&cr===1?cr=Ke/2:zn.comboId===In.comboId&&(cr=2),w(In.x)&&w(zn.x)&&w(In.y)&&w(zn.y)){var or=Rt["".concat(Qe.target,"-").concat(Qe.source)],lr=or.vl,Ar=or.vx,Nr=or.vy,Dr=(lr-xe(Qe))/lr*Pe*He(Qe)*cr,Tr=Ar*Dr,Xr=Nr*Dr,Ir=Be[ze];q[wn].x-=Tr*Ir,q[wn].y-=Xr*Ir,q[en].x+=Tr*(1-Ir),q[en].y+=Xr*(1-Ir)}}}})}},{key:"getType",value:function(){return"comboForce"}}])&&oi(z.prototype,T),F&&oi(z,F),It}(O),io,ao=new Proxy({},{get:function(z,T){return tr(T)},set:function(z,T,F){return En(T,F),!0}});io||(io={}),En("grid",Z),En("random",Et),En("force",di),En("circular",Qi),En("dagre",Oe),En("radial",Ie),En("concentric",wi),En("mds",Yo),En("fruchterman",Jn),En("fruchterman-gpu",be),En("gForce",it),En("gForce-gpu",Mr),En("comboForce",Ca);var co=self;co.onmessage=function(et){(function(z){var T=z.data.type;return T===pa||T===Pr})(et)&&function(z){switch(z.data.type){case pa:var T=z.data,F=T.nodes,tt=T.edges,It=T.layoutCfg,Nt=It===void 0?{}:It,q=Nt.type,Rt=tr(q);if(!Rt){co.postMessage({type:Yr,message:"layout ".concat(q," not found")});break}var Qt=new Rt(Nt);Qt.init({nodes:F,edges:tt}),Qt.execute(),co.postMessage({nodes:F,type:La}),Qt.destroy();break;case Pr:var ee=z.data,xe=ee.nodes,Pe=ee.edges,He=ee.layoutCfg,Be=He===void 0?{}:He,Ke=ee.canvas,Qe=Be.type,ze=tr(Qe);if(!ze){co.postMessage({type:Yr,message:"layout ".concat(Qe," not found")});break}if(Qe.split("-")[1]!=="gpu"){co.postMessage({type:Yr,message:"layout ".concat(Qe," does not support GPU")});break}var en=new ze(Be);en.init({nodes:xe,edges:Pe}),en.executeWithWorker(Ke,co)}}(et)};var go=function(z,T){T.isCustomLayout=!0,En(z,T)}},function(i,b,t){"use strict";t.d(b,"a",function(){return g}),t.d(b,"b",function(){return x});var n=t(36),u=t(22);function g(c,w){w.forEach(function(I){I.draw(c)})}function x(c,w){var I=c.get("canvas");if(I&&I.get("autoDraw")){var m=I.get("context"),r=c.getParent(),s=r?r.getChildren():[I],d=c.get("el");if(w==="remove")if(c.get("isClipShape")){var C=d&&d.parentNode,S=C&&C.parentNode;C&&S&&S.removeChild(C)}else d&&d.parentNode&&d.parentNode.removeChild(d);else if(w==="show")d.setAttribute("visibility","visible");else if(w==="hide")d.setAttribute("visibility","hidden");else if(w==="zIndex")Object(u.c)(d,s.indexOf(c));else if(w==="sort"){var A=c.get("children");A&&A.length&&Object(u.d)(c,function(f,O){return A.indexOf(f)-A.indexOf(O)?1:0})}else w==="clear"?d&&(d.innerHTML=""):w==="matrix"?Object(n.c)(c):w==="clip"?Object(n.a)(c,m):w==="attr"||w==="add"&&c.draw(m)}}},function(i,b){i.exports=function(t,n){return t===n||t!=t&&n!=n}},function(i,b,t){var n=t(47).Symbol;i.exports=n},function(i,b,t){(function(n){function u(r){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}var g=t(47),x=t(304),c=u(b)=="object"&&b&&!b.nodeType&&b,w=c&&u(n)=="object"&&n&&!n.nodeType&&n,I=w&&w.exports===c?g.Buffer:void 0,m=(I?I.isBuffer:void 0)||x;n.exports=m}).call(this,t(86)(i))},function(i,b,t){var n=t(313),u=t(125),g=t(314),x=t(176),c=t(315),w=t(57),I=t(165),m=I(n),r=I(u),s=I(g),d=I(x),C=I(c),S=w;(n&&S(new n(new ArrayBuffer(1)))!="[object DataView]"||u&&S(new u)!="[object Map]"||g&&S(g.resolve())!="[object Promise]"||x&&S(new x)!="[object Set]"||c&&S(new c)!="[object WeakMap]")&&(S=function(f){var O=w(f),j=O=="[object Object]"?f.constructor:void 0,D=j?I(j):"";if(D)switch(D){case m:return"[object DataView]";case r:return"[object Map]";case s:return"[object Promise]";case d:return"[object Set]";case C:return"[object WeakMap]"}return O}),i.exports=S},function(i,b,t){function n(x){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(x)}var u=t(57),g=t(48);i.exports=function(x){return n(x)=="symbol"||g(x)&&u(x)=="[object Symbol]"}},function(i,b,t){"use strict";var n=t(1),u=t(18),g=t(56),x=t(29),c=t(0),w=t(17),I=function(m){function r(){return m!==null&&m.apply(this,arguments)||this}return Object(n.b)(r,m),r.prototype.onCanvasChange=function(s){Object(x.h)(this,s)},r.prototype.getShapeBase=function(){return g},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(s,d){d&&(s.save(),Object(x.a)(s,d),d.createPath(s),s.restore(),s.clip(),d._afterDraw())},r.prototype.cacheCanvasBBox=function(){var s=this.cfg.children,d=[],C=[];Object(c.f)(s,function(H){var $=H.cfg.cacheCanvasBBox;$&&H.cfg.isInView&&(d.push($.minX,$.maxX),C.push($.minY,$.maxY))});var S=null;if(d.length){var A=Math.min.apply(null,d),f=Math.max.apply(null,d),O=Math.min.apply(null,C),j=Math.max.apply(null,C);S={minX:A,minY:O,x:A,y:O,maxX:f,maxY:j,width:f-A,height:j-O};var D=this.cfg.canvas;if(D){var V=D.getViewRange();this.set("isInView",Object(w.f)(S,V))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",S)},r.prototype.draw=function(s,d){var C=this.cfg.children,S=!d||this.cfg.refresh;C.length&&S&&(s.save(),Object(x.a)(s,this),this._applyClip(s,this.getClip()),Object(x.d)(s,C,d),s.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}(u.AbstractGroup);b.a=I},function(i,b,t){"use strict";var n=t(1),u=t(18),g=t(0),x=t(78),c=t(70),w=t(36),I=t(16),m=t(22),r=function(s){function d(){return s!==null&&s.apply(this,arguments)||this}return Object(n.b)(d,s),d.prototype.isEntityGroup=function(){return!0},d.prototype.createDom=function(){var C=Object(m.b)("g");this.set("el",C);var S=this.getParent();if(S){var A=S.get("el");A||(A=S.createDom(),S.set("el",A)),A.appendChild(C)}return C},d.prototype.afterAttrsChange=function(C){s.prototype.afterAttrsChange.call(this,C);var S=this.get("canvas");if(S&&S.get("autoDraw")){var A=S.get("context");this.createPath(A,C)}},d.prototype.onCanvasChange=function(C){Object(c.b)(this,C)},d.prototype.getShapeBase=function(){return x},d.prototype.getGroupBase=function(){return d},d.prototype.draw=function(C){var S=this.getChildren(),A=this.get("el");this.get("destroyed")?A&&A.parentNode.removeChild(A):(A||this.createDom(),Object(w.a)(this,C),this.createPath(C),S.length&&Object(c.a)(C,S))},d.prototype.createPath=function(C,S){var A=this.attr(),f=this.get("el");Object(g.f)(S||A,function(O,j){I.b[j]&&f.setAttribute(I.b[j],O)}),Object(w.c)(this)},d}(u.AbstractGroup);b.a=r},function(i,b,t){"use strict";t.r(b),t.d(b,"Base",function(){return r}),t.d(b,"Circle",function(){return d}),t.d(b,"Dom",function(){return C}),t.d(b,"Ellipse",function(){return S}),t.d(b,"Image",function(){return A}),t.d(b,"Line",function(){return O}),t.d(b,"Marker",function(){return V}),t.d(b,"Path",function(){return H}),t.d(b,"Polygon",function(){return $}),t.d(b,"Polyline",function(){return dt}),t.d(b,"Rect",function(){return Z}),t.d(b,"Text",function(){return Bt});var n={};t.r(n),t.d(n,"Base",function(){return r}),t.d(n,"Circle",function(){return d}),t.d(n,"Dom",function(){return C}),t.d(n,"Ellipse",function(){return S}),t.d(n,"Image",function(){return A}),t.d(n,"Line",function(){return O}),t.d(n,"Marker",function(){return V}),t.d(n,"Path",function(){return H}),t.d(n,"Polygon",function(){return $}),t.d(n,"Polyline",function(){return dt}),t.d(n,"Rect",function(){return Z}),t.d(n,"Text",function(){return Bt});var u=t(1),g=t(18),x=t(36),c=t(22),w=t(70),I=t(16),m=t(77),r=function(Lt){function Et(){var K=Lt!==null&&Lt.apply(this,arguments)||this;return K.type="svg",K.canFill=!1,K.canStroke=!1,K}return Object(u.b)(Et,Lt),Et.prototype.getDefaultAttrs=function(){var K=Lt.prototype.getDefaultAttrs.call(this);return Object(u.a)(Object(u.a)({},K),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},Et.prototype.afterAttrsChange=function(K){Lt.prototype.afterAttrsChange.call(this,K);var ft=this.get("canvas");if(ft&&ft.get("autoDraw")){var mt=ft.get("context");this.draw(mt,K)}},Et.prototype.getShapeBase=function(){return n},Et.prototype.getGroupBase=function(){return m.a},Et.prototype.onCanvasChange=function(K){Object(w.b)(this,K)},Et.prototype.calculateBBox=function(){var K=this.get("el"),ft=null;if(K)ft=K.getBBox();else{var mt=Object(g.getBBoxMethod)(this.get("type"));mt&&(ft=mt(this))}if(ft){var yt=ft.x,wt=ft.y,J=ft.width,lt=ft.height,it=this.getHitLineWidth(),_=it/2,P=yt-_,Q=wt-_;return{x:P,y:Q,minX:P,minY:Q,maxX:yt+J+_,maxY:wt+lt+_,width:J+it,height:lt+it}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},Et.prototype.isFill=function(){var K=this.attr(),ft=K.fill,mt=K.fillStyle;return(ft||mt||this.isClipShape())&&this.canFill},Et.prototype.isStroke=function(){var K=this.attr(),ft=K.stroke,mt=K.strokeStyle;return(ft||mt)&&this.canStroke},Et.prototype.draw=function(K,ft){var mt=this.get("el");this.get("destroyed")?mt&&mt.parentNode.removeChild(mt):(mt||Object(c.a)(this),Object(x.a)(this,K),this.createPath(K,ft),this.shadow(K,ft),this.strokeAndFill(K,ft),this.transform(ft))},Et.prototype.createPath=function(K,ft){},Et.prototype.strokeAndFill=function(K,ft){var mt=ft||this.attr(),yt=mt.fill,wt=mt.fillStyle,J=mt.stroke,lt=mt.strokeStyle,it=mt.fillOpacity,_=mt.strokeOpacity,P=mt.lineWidth,Q=this.get("el");this.canFill&&(ft?"fill"in mt?this._setColor(K,"fill",yt):"fillStyle"in mt&&this._setColor(K,"fill",wt):this._setColor(K,"fill",yt||wt),it&&Q.setAttribute(I.b.fillOpacity,it)),this.canStroke&&P>0&&(ft?"stroke"in mt?this._setColor(K,"stroke",J):"strokeStyle"in mt&&this._setColor(K,"stroke",lt):this._setColor(K,"stroke",J||lt),_&&Q.setAttribute(I.b.strokeOpacity,_),P&&Q.setAttribute(I.b.lineWidth,P))},Et.prototype._setColor=function(K,ft,mt){var yt=this.get("el");if(mt)if(mt=mt.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(mt))(wt=K.find("gradient",mt))||(wt=K.addGradient(mt)),yt.setAttribute(I.b[ft],"url(#"+wt+")");else if(/^[p,P]{1}[\s]*\(/.test(mt)){var wt;(wt=K.find("pattern",mt))||(wt=K.addPattern(mt)),yt.setAttribute(I.b[ft],"url(#"+wt+")")}else yt.setAttribute(I.b[ft],mt);else yt.setAttribute(I.b[ft],"none")},Et.prototype.shadow=function(K,ft){var mt=this.attr(),yt=ft||mt,wt=yt.shadowOffsetX,J=yt.shadowOffsetY,lt=yt.shadowBlur,it=yt.shadowColor;(wt||J||lt||it)&&Object(x.b)(this,K)},Et.prototype.transform=function(K){var ft=this.attr();(K||ft).matrix&&Object(x.c)(this)},Et.prototype.isInShape=function(K,ft){return this.isPointInPath(K,ft)},Et.prototype.isPointInPath=function(K,ft){var mt=this.get("el"),yt=this.get("canvas").get("el").getBoundingClientRect(),wt=K+yt.left,J=ft+yt.top,lt=document.elementFromPoint(wt,J);return!(!lt||!lt.isEqualNode(mt))},Et.prototype.getHitLineWidth=function(){var K=this.attrs,ft=K.lineWidth,mt=K.lineAppendWidth;return this.isStroke()?ft+mt:0},Et}(g.AbstractShape),s=t(0),d=function(Lt){function Et(){var K=Lt!==null&&Lt.apply(this,arguments)||this;return K.type="circle",K.canFill=!0,K.canStroke=!0,K}return Object(u.b)(Et,Lt),Et.prototype.getDefaultAttrs=function(){var K=Lt.prototype.getDefaultAttrs.call(this);return Object(u.a)(Object(u.a)({},K),{x:0,y:0,r:0})},Et.prototype.createPath=function(K,ft){var mt=this.attr(),yt=this.get("el");Object(s.f)(ft||mt,function(wt,J){J==="x"||J==="y"?yt.setAttribute("c"+J,wt):I.b[J]&&yt.setAttribute(I.b[J],wt)})},Et}(r),C=function(Lt){function Et(){var K=Lt!==null&&Lt.apply(this,arguments)||this;return K.type="dom",K.canFill=!1,K.canStroke=!1,K}return Object(u.b)(Et,Lt),Et.prototype.createPath=function(K,ft){var mt=this.attr(),yt=this.get("el");if(Object(s.f)(ft||mt,function(it,_){I.b[_]&&yt.setAttribute(I.b[_],it)}),typeof mt.html=="function"){var wt=mt.html.call(this,mt);if(wt instanceof Element||wt instanceof HTMLDocument){for(var J=yt.childNodes,lt=J.length-1;lt>=0;lt--)yt.removeChild(J[lt]);yt.appendChild(wt)}else yt.innerHTML=wt}else yt.innerHTML=mt.html},Et}(r),S=function(Lt){function Et(){var K=Lt!==null&&Lt.apply(this,arguments)||this;return K.type="ellipse",K.canFill=!0,K.canStroke=!0,K}return Object(u.b)(Et,Lt),Et.prototype.getDefaultAttrs=function(){var K=Lt.prototype.getDefaultAttrs.call(this);return Object(u.a)(Object(u.a)({},K),{x:0,y:0,rx:0,ry:0})},Et.prototype.createPath=function(K,ft){var mt=this.attr(),yt=this.get("el");Object(s.f)(ft||mt,function(wt,J){J==="x"||J==="y"?yt.setAttribute("c"+J,wt):I.b[J]&&yt.setAttribute(I.b[J],wt)})},Et}(r),A=function(Lt){function Et(){var K=Lt!==null&&Lt.apply(this,arguments)||this;return K.type="image",K.canFill=!1,K.canStroke=!1,K}return Object(u.b)(Et,Lt),Et.prototype.getDefaultAttrs=function(){var K=Lt.prototype.getDefaultAttrs.call(this);return Object(u.a)(Object(u.a)({},K),{x:0,y:0,width:0,height:0})},Et.prototype.createPath=function(K,ft){var mt=this,yt=this.attr(),wt=this.get("el");Object(s.f)(ft||yt,function(J,lt){lt==="img"?mt._setImage(yt.img):I.b[lt]&&wt.setAttribute(I.b[lt],J)})},Et.prototype.setAttr=function(K,ft){this.attrs[K]=ft,K==="img"&&this._setImage(ft)},Et.prototype._setImage=function(K){var ft=this.attr(),mt=this.get("el");if(Object(s.x)(K))mt.setAttribute("href",K);else if(K instanceof window.Image)ft.width||(mt.setAttribute("width",K.width),this.attr("width",K.width)),ft.height||(mt.setAttribute("height",K.height),this.attr("height",K.height)),mt.setAttribute("href",K.src);else if(K instanceof HTMLElement&&Object(s.x)(K.nodeName)&&K.nodeName.toUpperCase()==="CANVAS")mt.setAttribute("href",K.toDataURL());else if(K instanceof ImageData){var yt=document.createElement("canvas");yt.setAttribute("width",""+K.width),yt.setAttribute("height",""+K.height),yt.getContext("2d").putImageData(K,0,0),ft.width||(mt.setAttribute("width",""+K.width),this.attr("width",K.width)),ft.height||(mt.setAttribute("height",""+K.height),this.attr("height",K.height)),mt.setAttribute("href",yt.toDataURL())}},Et}(r),f=t(20),O=function(Lt){function Et(){var K=Lt!==null&&Lt.apply(this,arguments)||this;return K.type="line",K.canFill=!1,K.canStroke=!0,K}return Object(u.b)(Et,Lt),Et.prototype.getDefaultAttrs=function(){var K=Lt.prototype.getDefaultAttrs.call(this);return Object(u.a)(Object(u.a)({},K),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},Et.prototype.createPath=function(K,ft){var mt=this.attr(),yt=this.get("el");Object(s.f)(ft||mt,function(wt,J){if(J==="startArrow"||J==="endArrow")if(wt){var lt=Object(s.v)(wt)?K.addArrow(mt,I.b[J]):K.getDefaultArrow(mt,I.b[J]);yt.setAttribute(I.b[J],"url(#"+lt+")")}else yt.removeAttribute(I.b[J]);else I.b[J]&&yt.setAttribute(I.b[J],wt)})},Et.prototype.getTotalLength=function(){var K=this.attr(),ft=K.x1,mt=K.y1,yt=K.x2,wt=K.y2;return f.c.length(ft,mt,yt,wt)},Et.prototype.getPoint=function(K){var ft=this.attr(),mt=ft.x1,yt=ft.y1,wt=ft.x2,J=ft.y2;return f.c.pointAt(mt,yt,wt,J,K)},Et}(r),j={circle:function(Et,K,ft){return[["M",Et,K],["m",-ft,0],["a",ft,ft,0,1,0,2*ft,0],["a",ft,ft,0,1,0,2*-ft,0]]},square:function(Et,K,ft){return[["M",Et-ft,K-ft],["L",Et+ft,K-ft],["L",Et+ft,K+ft],["L",Et-ft,K+ft],["Z"]]},diamond:function(Et,K,ft){return[["M",Et-ft,K],["L",Et,K-ft],["L",Et+ft,K],["L",Et,K+ft],["Z"]]},triangle:function(Et,K,ft){var mt=ft*Math.sin(1/3*Math.PI);return[["M",Et-ft,K+mt],["L",Et,K-mt],["L",Et+ft,K+mt],["z"]]},triangleDown:function(Et,K,ft){var mt=ft*Math.sin(1/3*Math.PI);return[["M",Et-ft,K-mt],["L",Et+ft,K-mt],["L",Et,K+mt],["Z"]]}},D={get:function(Et){return j[Et]},register:function(Et,K){j[Et]=K},remove:function(Et){delete j[Et]},getAll:function(){return j}},V=function(Lt){function Et(){var K=Lt!==null&&Lt.apply(this,arguments)||this;return K.type="marker",K.canFill=!0,K.canStroke=!0,K}return Object(u.b)(Et,Lt),Et.prototype.createPath=function(K){this.get("el").setAttribute("d",this._assembleMarker())},Et.prototype._assembleMarker=function(){var K=this._getPath();return Object(s.m)(K)?K.map(function(ft){return ft.join(" ")}).join(""):K},Et.prototype._getPath=function(){var K,ft=this.attr(),mt=ft.x,yt=ft.y,wt=ft.r||ft.radius,J=ft.symbol||"circle";return(K=Object(s.r)(J)?J:D.get(J))?K(mt,yt,wt):(console.warn(K+" symbol is not exist."),null)},Et.symbolsFactory=D,Et}(r),H=function(Lt){function Et(){var K=Lt!==null&&Lt.apply(this,arguments)||this;return K.type="path",K.canFill=!0,K.canStroke=!0,K}return Object(u.b)(Et,Lt),Et.prototype.getDefaultAttrs=function(){var K=Lt.prototype.getDefaultAttrs.call(this);return Object(u.a)(Object(u.a)({},K),{startArrow:!1,endArrow:!1})},Et.prototype.createPath=function(K,ft){var mt=this,yt=this.attr(),wt=this.get("el");Object(s.f)(ft||yt,function(J,lt){if(lt==="path"&&Object(s.m)(J))wt.setAttribute("d",mt._formatPath(J));else if(lt==="startArrow"||lt==="endArrow")if(J){var it=Object(s.v)(J)?K.addArrow(yt,I.b[lt]):K.getDefaultArrow(yt,I.b[lt]);wt.setAttribute(I.b[lt],"url(#"+it+")")}else wt.removeAttribute(I.b[lt]);else I.b[lt]&&wt.setAttribute(I.b[lt],J)})},Et.prototype._formatPath=function(K){var ft=K.map(function(mt){return mt.join(" ")}).join("");return~ft.indexOf("NaN")?"":ft},Et.prototype.getTotalLength=function(){var K=this.get("el");return K?K.getTotalLength():null},Et.prototype.getPoint=function(K){var ft=this.get("el"),mt=this.getTotalLength();if(mt===0)return null;var yt=ft?ft.getPointAtLength(K*mt):null;return yt?{x:yt.x,y:yt.y}:null},Et}(r),$=function(Lt){function Et(){var K=Lt!==null&&Lt.apply(this,arguments)||this;return K.type="polygon",K.canFill=!0,K.canStroke=!0,K}return Object(u.b)(Et,Lt),Et.prototype.createPath=function(K,ft){var mt=this.attr(),yt=this.get("el");Object(s.f)(ft||mt,function(wt,J){J==="points"&&Object(s.m)(wt)&&wt.length>=2?yt.setAttribute("points",wt.map(function(lt){return lt[0]+","+lt[1]}).join(" ")):I.b[J]&&yt.setAttribute(I.b[J],wt)})},Et}(r),dt=function(Lt){function Et(){var K=Lt!==null&&Lt.apply(this,arguments)||this;return K.type="polyline",K.canFill=!0,K.canStroke=!0,K}return Object(u.b)(Et,Lt),Et.prototype.getDefaultAttrs=function(){var K=Lt.prototype.getDefaultAttrs.call(this);return Object(u.a)(Object(u.a)({},K),{startArrow:!1,endArrow:!1})},Et.prototype.onAttrChange=function(K,ft,mt){Lt.prototype.onAttrChange.call(this,K,ft,mt),["points"].indexOf(K)!==-1&&this._resetCache()},Et.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},Et.prototype.createPath=function(K,ft){var mt=this.attr(),yt=this.get("el");Object(s.f)(ft||mt,function(wt,J){J==="points"&&Object(s.m)(wt)&&wt.length>=2?yt.setAttribute("points",wt.map(function(lt){return lt[0]+","+lt[1]}).join(" ")):I.b[J]&&yt.setAttribute(I.b[J],wt)})},Et.prototype.getTotalLength=function(){var K=this.attr().points,ft=this.get("totalLength");return Object(s.s)(ft)?(this.set("totalLength",f.d.length(K)),this.get("totalLength")):ft},Et.prototype.getPoint=function(K){var ft,mt,yt=this.attr().points,wt=this.get("tCache");return wt||(this._setTcache(),wt=this.get("tCache")),Object(s.f)(wt,function(J,lt){K>=J[0]&&K<=J[1]&&(ft=(K-J[0])/(J[1]-J[0]),mt=lt)}),f.c.pointAt(yt[mt][0],yt[mt][1],yt[mt+1][0],yt[mt+1][1],ft)},Et.prototype._setTcache=function(){var K=this.attr().points;if(K&&K.length!==0){var ft=this.getTotalLength();if(!(ft<=0)){var mt,yt,wt=0,J=[];Object(s.f)(K,function(lt,it){K[it+1]&&((mt=[])[0]=wt/ft,yt=f.c.length(lt[0],lt[1],K[it+1][0],K[it+1][1]),wt+=yt,mt[1]=wt/ft,J.push(mt))}),this.set("tCache",J)}}},Et.prototype.getStartTangent=function(){var K=this.attr().points,ft=[];return ft.push([K[1][0],K[1][1]]),ft.push([K[0][0],K[0][1]]),ft},Et.prototype.getEndTangent=function(){var K=this.attr().points,ft=K.length-1,mt=[];return mt.push([K[ft-1][0],K[ft-1][1]]),mt.push([K[ft][0],K[ft][1]]),mt},Et}(r),Z=function(Lt){function Et(){var K=Lt!==null&&Lt.apply(this,arguments)||this;return K.type="rect",K.canFill=!0,K.canStroke=!0,K}return Object(u.b)(Et,Lt),Et.prototype.getDefaultAttrs=function(){var K=Lt.prototype.getDefaultAttrs.call(this);return Object(u.a)(Object(u.a)({},K),{x:0,y:0,width:0,height:0,radius:0})},Et.prototype.createPath=function(K,ft){var mt=this,yt=this.attr(),wt=this.get("el"),J=!1,lt=["x","y","width","height","radius"];Object(s.f)(ft||yt,function(it,_){lt.indexOf(_)===-1||J?lt.indexOf(_)===-1&&I.b[_]&&wt.setAttribute(I.b[_],it):(wt.setAttribute("d",mt._assembleRect(yt)),J=!0)})},Et.prototype._assembleRect=function(K){var ft=K.x,mt=K.y,yt=K.width,wt=K.height,J=K.radius;if(!J)return"M "+ft+","+mt+" l "+yt+",0 l 0,"+wt+" l"+-yt+" 0 z";var lt=function(it){var _=0,P=0,Q=0,k=0;return Object(s.m)(it)?it.length===1?_=P=Q=k=it[0]:it.length===2?(_=Q=it[0],P=k=it[1]):it.length===3?(_=it[0],P=k=it[1],Q=it[2]):(_=it[0],P=it[1],Q=it[2],k=it[3]):_=P=Q=k=it,{r1:_,r2:P,r3:Q,r4:k}}(J);return Object(s.m)(J)?J.length===1?lt.r1=lt.r2=lt.r3=lt.r4=J[0]:J.length===2?(lt.r1=lt.r3=J[0],lt.r2=lt.r4=J[1]):J.length===3?(lt.r1=J[0],lt.r2=lt.r4=J[1],lt.r3=J[2]):(lt.r1=J[0],lt.r2=J[1],lt.r3=J[2],lt.r4=J[3]):lt.r1=lt.r2=lt.r3=lt.r4=J,[["M "+(ft+lt.r1)+","+mt],["l "+(yt-lt.r1-lt.r2)+",0"],["a "+lt.r2+","+lt.r2+",0,0,1,"+lt.r2+","+lt.r2],["l 0,"+(wt-lt.r2-lt.r3)],["a "+lt.r3+","+lt.r3+",0,0,1,"+-lt.r3+","+lt.r3],["l "+(lt.r3+lt.r4-yt)+",0"],["a "+lt.r4+","+lt.r4+",0,0,1,"+-lt.r4+","+-lt.r4],["l 0,"+(lt.r4+lt.r1-wt)],["a "+lt.r1+","+lt.r1+",0,0,1,"+lt.r1+","+-lt.r1],["z"]].join(" ")},Et}(r),ct=t(119),pt={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},gt={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},at={left:"left",start:"left",center:"middle",right:"end",end:"end"},Bt=function(Lt){function Et(){var K=Lt!==null&&Lt.apply(this,arguments)||this;return K.type="text",K.canFill=!0,K.canStroke=!0,K}return Object(u.b)(Et,Lt),Et.prototype.getDefaultAttrs=function(){var K=Lt.prototype.getDefaultAttrs.call(this);return Object(u.a)(Object(u.a)({},K),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},Et.prototype.createPath=function(K,ft){var mt=this,yt=this.attr(),wt=this.get("el");this._setFont(),Object(s.f)(ft||yt,function(J,lt){lt==="text"?mt._setText(""+J):lt==="matrix"&&J?Object(x.c)(mt):I.b[lt]&&wt.setAttribute(I.b[lt],J)}),wt.setAttribute("paint-order","stroke"),wt.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},Et.prototype._setFont=function(){var K=this.get("el"),ft=this.attr(),mt=ft.textBaseline,yt=ft.textAlign,wt=Object(ct.a)();wt&&wt.name==="firefox"?K.setAttribute("dominant-baseline",gt[mt]||"alphabetic"):K.setAttribute("alignment-baseline",pt[mt]||"baseline"),K.setAttribute("text-anchor",at[yt]||"left")},Et.prototype._setText=function(K){var ft=this.get("el"),mt=this.attr(),yt=mt.x,wt=mt.textBaseline,J=wt===void 0?"bottom":wt;if(K)if(~K.indexOf(`
`)){var lt=K.split(`
`),it=lt.length-1,_="";Object(s.f)(lt,function(P,Q){Q===0?J==="alphabetic"?_+='<tspan x="'+yt+'" dy="'+-it+'em">'+P+"</tspan>":J==="top"?_+='<tspan x="'+yt+'" dy="0.9em">'+P+"</tspan>":J==="middle"?_+='<tspan x="'+yt+'" dy="'+-(it-1)/2+'em">'+P+"</tspan>":J==="bottom"?_+='<tspan x="'+yt+'" dy="-'+(it+.3)+'em">'+P+"</tspan>":J==="hanging"&&(_+='<tspan x="'+yt+'" dy="'+(-(it-1)-.3)+'em">'+P+"</tspan>"):_+='<tspan x="'+yt+'" dy="1em">'+P+"</tspan>"}),ft.innerHTML=_}else ft.innerHTML=K;else ft.innerHTML=""},Et}(r)},function(i,b,t){"use strict";var n=function(){function u(){this._events={}}return u.prototype.on=function(g,x,c){return this._events[g]||(this._events[g]=[]),this._events[g].push({callback:x,once:!!c}),this},u.prototype.once=function(g,x){return this.on(g,x,!0),this},u.prototype.emit=function(g){for(var x=this,c=[],w=1;w<arguments.length;w++)c[w-1]=arguments[w];var I=this._events[g]||[],m=this._events["*"]||[],r=function(d){for(var C=d.length,S=0;S<C;S++)if(d[S]){var A=d[S],f=A.callback;A.once&&(d.splice(S,1),d.length===0&&delete x._events[g],C--,S--),f.apply(x,c)}};r(I),r(m)},u.prototype.off=function(g,x){if(g)if(x){for(var c=this._events[g]||[],w=c.length,I=0;I<w;I++)c[I].callback===x&&(c.splice(I,1),w--,I--);c.length===0&&delete this._events[g]}else delete this._events[g];else this._events={};return this},u.prototype.getEvents=function(){return this._events},u}();b.a=n},function(i,b,t){"use strict";t.r(b),t.d(b,"create",function(){return u}),t.d(b,"clone",function(){return g}),t.d(b,"fromValues",function(){return x}),t.d(b,"copy",function(){return c}),t.d(b,"set",function(){return w}),t.d(b,"add",function(){return I}),t.d(b,"subtract",function(){return m}),t.d(b,"multiply",function(){return r}),t.d(b,"divide",function(){return s}),t.d(b,"ceil",function(){return d}),t.d(b,"floor",function(){return C}),t.d(b,"min",function(){return S}),t.d(b,"max",function(){return A}),t.d(b,"round",function(){return f}),t.d(b,"scale",function(){return O}),t.d(b,"scaleAndAdd",function(){return j}),t.d(b,"distance",function(){return D}),t.d(b,"squaredDistance",function(){return V}),t.d(b,"length",function(){return H}),t.d(b,"squaredLength",function(){return $}),t.d(b,"negate",function(){return dt}),t.d(b,"inverse",function(){return Z}),t.d(b,"normalize",function(){return ct}),t.d(b,"dot",function(){return pt}),t.d(b,"cross",function(){return gt}),t.d(b,"lerp",function(){return at}),t.d(b,"random",function(){return Bt}),t.d(b,"transformMat2",function(){return Lt}),t.d(b,"transformMat2d",function(){return Et}),t.d(b,"transformMat3",function(){return K}),t.d(b,"transformMat4",function(){return ft}),t.d(b,"rotate",function(){return mt}),t.d(b,"angle",function(){return yt}),t.d(b,"zero",function(){return wt}),t.d(b,"str",function(){return J}),t.d(b,"exactEquals",function(){return lt}),t.d(b,"equals",function(){return it}),t.d(b,"len",function(){return P}),t.d(b,"sub",function(){return Q}),t.d(b,"mul",function(){return k}),t.d(b,"div",function(){return p}),t.d(b,"dist",function(){return y}),t.d(b,"sqrDist",function(){return B}),t.d(b,"sqrLen",function(){return W}),t.d(b,"forEach",function(){return rt});var n=t(11);function u(){var st=new n.a(2);return n.a!=Float32Array&&(st[0]=0,st[1]=0),st}function g(st){var ut=new n.a(2);return ut[0]=st[0],ut[1]=st[1],ut}function x(st,ut){var Mt=new n.a(2);return Mt[0]=st,Mt[1]=ut,Mt}function c(st,ut){return st[0]=ut[0],st[1]=ut[1],st}function w(st,ut,Mt){return st[0]=ut,st[1]=Mt,st}function I(st,ut,Mt){return st[0]=ut[0]+Mt[0],st[1]=ut[1]+Mt[1],st}function m(st,ut,Mt){return st[0]=ut[0]-Mt[0],st[1]=ut[1]-Mt[1],st}function r(st,ut,Mt){return st[0]=ut[0]*Mt[0],st[1]=ut[1]*Mt[1],st}function s(st,ut,Mt){return st[0]=ut[0]/Mt[0],st[1]=ut[1]/Mt[1],st}function d(st,ut){return st[0]=Math.ceil(ut[0]),st[1]=Math.ceil(ut[1]),st}function C(st,ut){return st[0]=Math.floor(ut[0]),st[1]=Math.floor(ut[1]),st}function S(st,ut,Mt){return st[0]=Math.min(ut[0],Mt[0]),st[1]=Math.min(ut[1],Mt[1]),st}function A(st,ut,Mt){return st[0]=Math.max(ut[0],Mt[0]),st[1]=Math.max(ut[1],Mt[1]),st}function f(st,ut){return st[0]=Math.round(ut[0]),st[1]=Math.round(ut[1]),st}function O(st,ut,Mt){return st[0]=ut[0]*Mt,st[1]=ut[1]*Mt,st}function j(st,ut,Mt,bt){return st[0]=ut[0]+Mt[0]*bt,st[1]=ut[1]+Mt[1]*bt,st}function D(st,ut){var Mt=ut[0]-st[0],bt=ut[1]-st[1];return Math.hypot(Mt,bt)}function V(st,ut){var Mt=ut[0]-st[0],bt=ut[1]-st[1];return Mt*Mt+bt*bt}function H(st){var ut=st[0],Mt=st[1];return Math.hypot(ut,Mt)}function $(st){var ut=st[0],Mt=st[1];return ut*ut+Mt*Mt}function dt(st,ut){return st[0]=-ut[0],st[1]=-ut[1],st}function Z(st,ut){return st[0]=1/ut[0],st[1]=1/ut[1],st}function ct(st,ut){var Mt=ut[0],bt=ut[1],xt=Mt*Mt+bt*bt;return xt>0&&(xt=1/Math.sqrt(xt)),st[0]=ut[0]*xt,st[1]=ut[1]*xt,st}function pt(st,ut){return st[0]*ut[0]+st[1]*ut[1]}function gt(st,ut,Mt){var bt=ut[0]*Mt[1]-ut[1]*Mt[0];return st[0]=st[1]=0,st[2]=bt,st}function at(st,ut,Mt,bt){var xt=ut[0],Ot=ut[1];return st[0]=xt+bt*(Mt[0]-xt),st[1]=Ot+bt*(Mt[1]-Ot),st}function Bt(st,ut){ut=ut||1;var Mt=2*n.c()*Math.PI;return st[0]=Math.cos(Mt)*ut,st[1]=Math.sin(Mt)*ut,st}function Lt(st,ut,Mt){var bt=ut[0],xt=ut[1];return st[0]=Mt[0]*bt+Mt[2]*xt,st[1]=Mt[1]*bt+Mt[3]*xt,st}function Et(st,ut,Mt){var bt=ut[0],xt=ut[1];return st[0]=Mt[0]*bt+Mt[2]*xt+Mt[4],st[1]=Mt[1]*bt+Mt[3]*xt+Mt[5],st}function K(st,ut,Mt){var bt=ut[0],xt=ut[1];return st[0]=Mt[0]*bt+Mt[3]*xt+Mt[6],st[1]=Mt[1]*bt+Mt[4]*xt+Mt[7],st}function ft(st,ut,Mt){var bt=ut[0],xt=ut[1];return st[0]=Mt[0]*bt+Mt[4]*xt+Mt[12],st[1]=Mt[1]*bt+Mt[5]*xt+Mt[13],st}function mt(st,ut,Mt,bt){var xt=ut[0]-Mt[0],Ot=ut[1]-Mt[1],jt=Math.sin(bt),Dt=Math.cos(bt);return st[0]=xt*Dt-Ot*jt+Mt[0],st[1]=xt*jt+Ot*Dt+Mt[1],st}function yt(st,ut){var Mt=st[0],bt=st[1],xt=ut[0],Ot=ut[1],jt=Math.sqrt(Mt*Mt+bt*bt)*Math.sqrt(xt*xt+Ot*Ot),Dt=jt&&(Mt*xt+bt*Ot)/jt;return Math.acos(Math.min(Math.max(Dt,-1),1))}function wt(st){return st[0]=0,st[1]=0,st}function J(st){return"vec2("+st[0]+", "+st[1]+")"}function lt(st,ut){return st[0]===ut[0]&&st[1]===ut[1]}function it(st,ut){var Mt=st[0],bt=st[1],xt=ut[0],Ot=ut[1];return Math.abs(Mt-xt)<=n.b*Math.max(1,Math.abs(Mt),Math.abs(xt))&&Math.abs(bt-Ot)<=n.b*Math.max(1,Math.abs(bt),Math.abs(Ot))}var _,P=H,Q=m,k=r,p=s,y=D,B=V,W=$,rt=(_=u(),function(st,ut,Mt,bt,xt,Ot){var jt,Dt;for(ut||(ut=2),Mt||(Mt=0),Dt=bt?Math.min(bt*ut+Mt,st.length):st.length,jt=Mt;jt<Dt;jt+=ut)_[0]=st[jt],_[1]=st[jt+1],xt(_,_,Ot),st[jt]=_[0],st[jt+1]=_[1];return st})},function(i,b){var t=[],n=[];function u(g,x){if(x=x||{},g===void 0)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var c,w=x.prepend===!0?"prepend":"append",I=x.container!==void 0?x.container:document.querySelector("head"),m=t.indexOf(I);return m===-1&&(m=t.push(I)-1,n[m]={}),n[m]!==void 0&&n[m][w]!==void 0?c=n[m][w]:(c=n[m][w]=function(){var r=document.createElement("style");return r.setAttribute("type","text/css"),r}(),w==="prepend"?I.insertBefore(c,I.childNodes[0]):I.appendChild(c)),g.charCodeAt(0)===65279&&(g=g.substr(1,g.length)),c.styleSheet?c.styleSheet.cssText+=g:c.textContent+=g,c}i.exports=u,i.exports.insertCss=u},function(i,b,t){"use strict";function n(S){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(S)}var u=t(263),g=t(267),x=[].slice,c=["keyword","gray","hex"],w={};Object.keys(g).forEach(function(S){w[x.call(g[S].labels).sort().join("")]=S});var I={};function m(S,A){if(!(this instanceof m))return new m(S,A);if(A&&A in c&&(A=null),A&&!(A in g))throw new Error("Unknown model: "+A);var f,O;if(S==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(S instanceof m)this.model=S.model,this.color=S.color.slice(),this.valpha=S.valpha;else if(typeof S=="string"){var j=u.get(S);if(j===null)throw new Error("Unable to parse color from string: "+S);this.model=j.model,O=g[this.model].channels,this.color=j.value.slice(0,O),this.valpha=typeof j.value[O]=="number"?j.value[O]:1}else if(S.length){this.model=A||"rgb",O=g[this.model].channels;var D=x.call(S,0,O);this.color=C(D,O),this.valpha=typeof S[O]=="number"?S[O]:1}else if(typeof S=="number")S&=16777215,this.model="rgb",this.color=[S>>16&255,S>>8&255,255&S],this.valpha=1;else{this.valpha=1;var V=Object.keys(S);"alpha"in S&&(V.splice(V.indexOf("alpha"),1),this.valpha=typeof S.alpha=="number"?S.alpha:0);var H=V.sort().join("");if(!(H in w))throw new Error("Unable to parse color from object: "+JSON.stringify(S));this.model=w[H];var $=g[this.model].labels,dt=[];for(f=0;f<$.length;f++)dt.push(S[$[f]]);this.color=C(dt)}if(I[this.model])for(O=g[this.model].channels,f=0;f<O;f++){var Z=I[this.model][f];Z&&(this.color[f]=Z(this.color[f]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function r(S,A,f){return(S=Array.isArray(S)?S:[S]).forEach(function(O){(I[O]||(I[O]=[]))[A]=f}),S=S[0],function(O){var j;return arguments.length?(f&&(O=f(O)),(j=this[S]()).color[A]=O,j):(j=this[S]().color[A],f&&(j=f(j)),j)}}function s(S){return function(A){return Math.max(0,Math.min(S,A))}}function d(S){return Array.isArray(S)?S:[S]}function C(S,A){for(var f=0;f<A;f++)typeof S[f]!="number"&&(S[f]=0);return S}m.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(A){var f=this.model in u.to?this:this.rgb(),O=(f=f.round(typeof A=="number"?A:1)).valpha===1?f.color:f.color.concat(this.valpha);return u.to[f.model](O)},percentString:function(A){var f=this.rgb().round(typeof A=="number"?A:1),O=f.valpha===1?f.color:f.color.concat(this.valpha);return u.to.rgb.percent(O)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var A={},f=g[this.model].channels,O=g[this.model].labels,j=0;j<f;j++)A[O[j]]=this.color[j];return this.valpha!==1&&(A.alpha=this.valpha),A},unitArray:function(){var A=this.rgb().color;return A[0]/=255,A[1]/=255,A[2]/=255,this.valpha!==1&&A.push(this.valpha),A},unitObject:function(){var A=this.rgb().object();return A.r/=255,A.g/=255,A.b/=255,this.valpha!==1&&(A.alpha=this.valpha),A},round:function(A){return A=Math.max(A||0,0),new m(this.color.map(function(f){return function(O){return function(j,D){return Number(j.toFixed(D))}(O,f)}}(A)).concat(this.valpha),this.model)},alpha:function(A){return arguments.length?new m(this.color.concat(Math.max(0,Math.min(1,A))),this.model):this.valpha},red:r("rgb",0,s(255)),green:r("rgb",1,s(255)),blue:r("rgb",2,s(255)),hue:r(["hsl","hsv","hsl","hwb","hcg"],0,function(S){return(S%360+360)%360}),saturationl:r("hsl",1,s(100)),lightness:r("hsl",2,s(100)),saturationv:r("hsv",1,s(100)),value:r("hsv",2,s(100)),chroma:r("hcg",1,s(100)),gray:r("hcg",2,s(100)),white:r("hwb",1,s(100)),wblack:r("hwb",2,s(100)),cyan:r("cmyk",0,s(100)),magenta:r("cmyk",1,s(100)),yellow:r("cmyk",2,s(100)),black:r("cmyk",3,s(100)),x:r("xyz",0,s(100)),y:r("xyz",1,s(100)),z:r("xyz",2,s(100)),l:r("lab",0,s(100)),a:r("lab",1),b:r("lab",2),keyword:function(A){return arguments.length?new m(A):g[this.model].keyword(this.color)},hex:function(A){return arguments.length?new m(A):u.to.hex(this.rgb().round().color)},rgbNumber:function(){var A=this.rgb().color;return(255&A[0])<<16|(255&A[1])<<8|255&A[2]},luminosity:function(){for(var A=this.rgb().color,f=[],O=0;O<A.length;O++){var j=A[O]/255;f[O]=j<=.03928?j/12.92:Math.pow((j+.055)/1.055,2.4)}return .2126*f[0]+.7152*f[1]+.0722*f[2]},contrast:function(A){var f=this.luminosity(),O=A.luminosity();return f>O?(f+.05)/(O+.05):(O+.05)/(f+.05)},level:function(A){var f=this.contrast(A);return f>=7.1?"AAA":f>=4.5?"AA":""},isDark:function(){var A=this.rgb().color;return(299*A[0]+587*A[1]+114*A[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var A=this.rgb(),f=0;f<3;f++)A.color[f]=255-A.color[f];return A},lighten:function(A){var f=this.hsl();return f.color[2]+=f.color[2]*A,f},darken:function(A){var f=this.hsl();return f.color[2]-=f.color[2]*A,f},saturate:function(A){var f=this.hsl();return f.color[1]+=f.color[1]*A,f},desaturate:function(A){var f=this.hsl();return f.color[1]-=f.color[1]*A,f},whiten:function(A){var f=this.hwb();return f.color[1]+=f.color[1]*A,f},blacken:function(A){var f=this.hwb();return f.color[2]+=f.color[2]*A,f},grayscale:function(){var A=this.rgb().color,f=.3*A[0]+.59*A[1]+.11*A[2];return m.rgb(f,f,f)},fade:function(A){return this.alpha(this.valpha-this.valpha*A)},opaquer:function(A){return this.alpha(this.valpha+this.valpha*A)},rotate:function(A){var f=this.hsl(),O=f.color[0];return O=(O=(O+A)%360)<0?360+O:O,f.color[0]=O,f},mix:function(A,f){if(!A||!A.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+n(A));var O=A.rgb(),j=this.rgb(),D=f===void 0?.5:f,V=2*D-1,H=O.alpha()-j.alpha(),$=((V*H==-1?V:(V+H)/(1+V*H))+1)/2,dt=1-$;return m.rgb($*O.red()+dt*j.red(),$*O.green()+dt*j.green(),$*O.blue()+dt*j.blue(),O.alpha()*D+j.alpha()*(1-D))}},Object.keys(g).forEach(function(S){if(c.indexOf(S)===-1){var A=g[S].channels;m.prototype[S]=function(){if(this.model===S)return new m(this);if(arguments.length)return new m(arguments,S);var f=typeof arguments[A]=="number"?A:this.valpha;return new m(d(g[this.model][S].raw(this.color)).concat(f),S)},m[S]=function(f){return typeof f=="number"&&(f=C(x.call(arguments),A)),new m(f,S)}}}),i.exports=m},function(i,b,t){var n=t(57),u=t(43);i.exports=function(g){if(!u(g))return!1;var x=n(g);return x=="[object Function]"||x=="[object GeneratorFunction]"||x=="[object AsyncFunction]"||x=="[object Proxy]"}},function(i,b,t){var n=t(100),u=t(101);i.exports=function(g,x,c,w){var I=!c;c||(c={});for(var m=-1,r=x.length;++m<r;){var s=x[m],d=w?w(c[s],g[s],s,c,g):void 0;d===void 0&&(d=g[s]),I?u(c,s,d):n(c,s,d)}return c}},function(i,b,t){var n=t(303),u=t(48),g=Object.prototype,x=g.hasOwnProperty,c=g.propertyIsEnumerable,w=n(function(){return arguments}())?n:function(I){return u(I)&&x.call(I,"callee")&&!c.call(I,"callee")};i.exports=w},function(i,b){i.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(i,b,t){var n=t(75);i.exports=function(u){if(typeof u=="string"||n(u))return u;var g=u+"";return g=="0"&&1/u==-1/0?"-0":g}},function(i,b,t){"use strict";function n(c){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(c)}Object.defineProperty(b,"__esModule",{value:!0}),b.circularDependencyToException=b.listMetadataForTarget=b.listRegisteredBindingsForServiceIdentifier=b.getServiceIdentifierAsString=b.getFunctionName=void 0;var u=t(41);function g(c){return typeof c=="function"?c.name:n(c)==="symbol"?c.toString():c}function x(c){if(c.name)return c.name;var w=c.toString(),I=w.match(/^function\s*([^\s(]+)/);return I?I[1]:"Anonymous function: "+w}b.getServiceIdentifierAsString=g,b.listRegisteredBindingsForServiceIdentifier=function(c,w,I){var m="",r=I(c,w);return r.length!==0&&(m=`
Registered bindings:`,r.forEach(function(s){var d="Object";s.implementationType!==null&&(d=x(s.implementationType)),m=m+`
 `+d,s.constraint.metaData&&(m=m+" - "+s.constraint.metaData)})),m},b.circularDependencyToException=function c(w){w.childRequests.forEach(function(I){if(function r(s,d){return s.parentRequest!==null&&(s.parentRequest.serviceIdentifier===d||r(s.parentRequest,d))}(I,I.serviceIdentifier)){var m=function(r){return function s(d,C){C===void 0&&(C=[]);var S=g(d.serviceIdentifier);return C.push(S),d.parentRequest!==null?s(d.parentRequest,C):C}(r).reverse().join(" --> ")}(I);throw new Error(u.CIRCULAR_DEPENDENCY+" "+m)}c(I)})},b.listMetadataForTarget=function(c,w){if(w.isTagged()||w.isNamed()){var I="",m=w.getNamedTag(),r=w.getCustomTags();return m!==null&&(I+=m.toString()+`
`),r!==null&&r.forEach(function(s){I+=s.toString()+`
`})," "+c+`
 `+c+" - "+I}return" "+c},b.getFunctionName=x},function(i,b,t){"use strict";t.d(b,"a",function(){return c});var n=t(17);function u(w){return Math.sqrt(w[0]*w[0]+w[1]*w[1])}function g(w,I){return u(w)*u(I)?(w[0]*I[0]+w[1]*I[1])/(u(w)*u(I)):1}function x(w,I){return(w[0]*I[1]<w[1]*I[0]?-1:1)*Math.acos(g(w,I))}function c(w,I){var m=I[1],r=I[2],s=Object(n.m)(Object(n.o)(I[3]),2*Math.PI),d=I[4],C=I[5],S=w[0],A=w[1],f=I[6],O=I[7],j=Math.cos(s)*(S-f)/2+Math.sin(s)*(A-O)/2,D=-1*Math.sin(s)*(S-f)/2+Math.cos(s)*(A-O)/2,V=j*j/(m*m)+D*D/(r*r);V>1&&(m*=Math.sqrt(V),r*=Math.sqrt(V));var H=m*m*(D*D)+r*r*(j*j),$=H?Math.sqrt((m*m*(r*r)-H)/H):1;d===C&&($*=-1),isNaN($)&&($=0);var dt=r?$*m*D/r:0,Z=m?$*-r*j/m:0,ct=(S+f)/2+Math.cos(s)*dt-Math.sin(s)*Z,pt=(A+O)/2+Math.sin(s)*dt+Math.cos(s)*Z,gt=[(j-dt)/m,(D-Z)/r],at=[(-1*j-dt)/m,(-1*D-Z)/r],Bt=x([1,0],gt),Lt=x(gt,at);return g(gt,at)<=-1&&(Lt=Math.PI),g(gt,at)>=1&&(Lt=0),C===0&&Lt>0&&(Lt-=2*Math.PI),C===1&&Lt<0&&(Lt+=2*Math.PI),{cx:ct,cy:pt,rx:Object(n.j)(w,[f,O])?0:m,ry:Object(n.j)(w,[f,O])?0:r,startAngle:Bt,endAngle:Bt+Lt,xRotation:s,arcFlag:d,sweepFlag:C}}},function(i,b){function t(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i.exports=t=function(g){return typeof g}:i.exports=t=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},t(n)}i.exports=t},function(i,b,t){"use strict";var n=t(1),u=t(52),g=t(62),x=t(122),c=t(0),w=t(5),I=t(45),m=t(14),r=w.n.cloneEvent,s=w.n.isViewportChanged,d=function(ft){function mt(yt){var wt=ft.call(this,yt)||this;return wt.extendEvents=[],wt.dragging=!1,wt.preItem=null,wt.graph=yt,wt.destroyed=!1,wt.initEvents(),wt}return Object(n.b)(mt,ft),mt.prototype.initEvents=function(){var yt=this.graph,wt=this.extendEvents,J=wt===void 0?[]:wt,lt=yt.get("canvas"),it=lt.get("el"),_=Object(c.J)(this,"onCanvasEvents"),P=Object(c.J)(this,"onExtendEvents"),Q=Object(c.J)(this,"onWheelEvent");lt.off("*").on("*",_),this.canvasHandler=_,J.push(Object(m.a)(it,"DOMMouseScroll",Q)),J.push(Object(m.a)(it,"mousewheel",Q)),typeof window!="undefined"&&(J.push(Object(m.a)(window,"keydown",P)),J.push(Object(m.a)(window,"keyup",P)),J.push(Object(m.a)(window,"focus",P)))},mt.getItemRoot=function(yt){for(;yt&&!yt.get("item");)yt=yt.get("parent");return yt},mt.prototype.onCanvasEvents=function(yt){var wt=this.graph,J=wt.get("canvas"),lt=yt.target,it=yt.type;yt.canvasX=yt.x,yt.canvasY=yt.y;var _={x:yt.canvasX,y:yt.canvasY},P=wt.get("group").getMatrix();if(P||(P=[1,0,0,0,1,0,0,0,1]),s(P)&&(_=wt.getPointByClient(yt.clientX,yt.clientY)),yt.x=_.x,yt.y=_.y,yt.currentTarget=wt,lt===J)return it==="mousemove"&&this.handleMouseMove(yt,"canvas"),yt.target=J,yt.item=null,wt.emit(it,yt),void wt.emit("canvas:"+it,yt);var Q=mt.getItemRoot(lt);if(Q){var k=Q.get("item");if(!k.destroyed){var p=k.getType();if(yt.target=lt,yt.item=k,yt.canvasX===yt.x&&yt.canvasY===yt.y){var y=wt.getCanvasByPoint(yt.x,yt.y);yt.canvasX=y.x,yt.canvasY=y.y}wt.emit(it,yt),yt.name&&!yt.name.includes(":")?wt.emit(p+":"+it,yt):wt.emit(yt.name,yt),it==="dragstart"&&(this.dragging=!0),it==="dragend"&&(this.dragging=!1),it==="mousemove"&&this.handleMouseMove(yt,p)}}else wt.emit(it,yt)},mt.prototype.onExtendEvents=function(yt){this.graph.emit(yt.type,yt)},mt.prototype.onWheelEvent=function(yt){Object(c.s)(yt.wheelDelta)&&(yt.wheelDelta=-yt.detail),this.graph.emit("wheel",yt)},mt.prototype.handleMouseMove=function(yt,wt){var J=this.graph,lt=this.preItem,it=J.get("canvas"),_=yt.target===it?null:yt.item;yt=r(yt),lt&&lt!==_&&!lt.destroyed&&(yt.item=lt,this.emitCustomEvent(lt.getType(),"mouseleave",yt),this.dragging&&this.emitCustomEvent(lt.getType(),"dragleave",yt)),_&&lt!==_&&(yt.item=_,this.emitCustomEvent(wt,"mouseenter",yt),this.dragging&&this.emitCustomEvent(wt,"dragenter",yt)),this.preItem=_},mt.prototype.emitCustomEvent=function(yt,wt,J){J.type=wt,this.graph.emit(yt+":"+wt,J)},mt.prototype.destroy=function(){var yt=this.graph,wt=this.canvasHandler,J=this.extendEvents;yt.get("canvas").off("*",wt),Object(c.f)(J,function(lt){lt.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},mt}(w.a),C=t(69),S=t(254),A=t.n(S);function f(){return A()(`!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=436)}([function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.METADATA_KEY=void 0;var r=n(17);e.METADATA_KEY=r;var o=n(374);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return o.Container}});var i=n(30);Object.defineProperty(e,"BindingScopeEnum",{enumerable:!0,get:function(){return i.BindingScopeEnum}}),Object.defineProperty(e,"BindingTypeEnum",{enumerable:!0,get:function(){return i.BindingTypeEnum}}),Object.defineProperty(e,"TargetTypeEnum",{enumerable:!0,get:function(){return i.TargetTypeEnum}});var a=n(390);Object.defineProperty(e,"AsyncContainerModule",{enumerable:!0,get:function(){return a.AsyncContainerModule}}),Object.defineProperty(e,"ContainerModule",{enumerable:!0,get:function(){return a.ContainerModule}});var u=n(391);Object.defineProperty(e,"injectable",{enumerable:!0,get:function(){return u.injectable}});var s=n(392);Object.defineProperty(e,"tagged",{enumerable:!0,get:function(){return s.tagged}});var c=n(393);Object.defineProperty(e,"named",{enumerable:!0,get:function(){return c.named}});var f=n(164);Object.defineProperty(e,"inject",{enumerable:!0,get:function(){return f.inject}}),Object.defineProperty(e,"LazyServiceIdentifer",{enumerable:!0,get:function(){return f.LazyServiceIdentifer}});var l=n(394);Object.defineProperty(e,"optional",{enumerable:!0,get:function(){return l.optional}});var h=n(395);Object.defineProperty(e,"unmanaged",{enumerable:!0,get:function(){return h.unmanaged}});var d=n(396);Object.defineProperty(e,"multiInject",{enumerable:!0,get:function(){return d.multiInject}});var p=n(397);Object.defineProperty(e,"targetName",{enumerable:!0,get:function(){return p.targetName}});var v=n(398);Object.defineProperty(e,"postConstruct",{enumerable:!0,get:function(){return v.postConstruct}});var m=n(162);Object.defineProperty(e,"MetadataReader",{enumerable:!0,get:function(){return m.MetadataReader}});var y=n(40);Object.defineProperty(e,"id",{enumerable:!0,get:function(){return y.id}});var g=n(33);Object.defineProperty(e,"decorate",{enumerable:!0,get:function(){return g.decorate}});var b=n(167);Object.defineProperty(e,"traverseAncerstors",{enumerable:!0,get:function(){return b.traverseAncerstors}}),Object.defineProperty(e,"taggedConstraint",{enumerable:!0,get:function(){return b.taggedConstraint}}),Object.defineProperty(e,"namedConstraint",{enumerable:!0,get:function(){return b.namedConstraint}}),Object.defineProperty(e,"typeConstraint",{enumerable:!0,get:function(){return b.typeConstraint}});var _=n(50);Object.defineProperty(e,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return _.getServiceIdentifierAsString}});var x=n(399);Object.defineProperty(e,"multiBindToService",{enumerable:!0,get:function(){return x.multiBindToService}})},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.TextureCompressionBC="texture-compression-bc"}(e.ExtensionName||(e.ExtensionName={})),function(t){t.ClampToEdge="clamp-to-edge",t.Repeat="repeat",t.MirrorRepeat="mirror-repeat"}(e.AddressMode||(e.AddressMode={})),function(t){t.UniformBuffer="uniform-buffer",t.StorageBuffer="storage-buffer",t.ReadonlyStorageBuffer="readonly-storage-buffer",t.Sampler="sampler",t.ComparisonSampler="comparison-sampler",t.SampledTexture="sampled-texture",t.ReadonlyStorageTexture="readonly-storage-texture",t.WriteonlyStorageTexture="writeonly-storage-texture"}(e.BindingType||(e.BindingType={})),function(t){t.Zero="zero",t.One="one",t.SrcColor="src-color",t.OneMinusSrcColor="one-minus-src-color",t.SrcAlpha="src-alpha",t.OneMinusSrcAlpha="one-minus-src-alpha",t.DstColor="dst-color",t.OneMinusDstColor="one-minus-dst-color",t.DstAlpha="dst-alpha",t.OneMinusDstAlpha="one-minus-dst-alpha",t.SrcAlphaSaturated="src-alpha-saturated",t.BlendColor="blend-color",t.OneMinusBlendColor="one-minus-blend-color"}(e.BlendFactor||(e.BlendFactor={})),function(t){t.Add="add",t.Subtract="subtract",t.ReverseSubtract="reverse-subtract",t.Min="min",t.Max="max"}(e.BlendOperation||(e.BlendOperation={})),function(t){t.Never="never",t.Less="less",t.Equal="equal",t.LessEqual="less-equal",t.Greater="greater",t.NotEqual="not-equal",t.GreaterEqual="greater-equal",t.Always="always"}(e.CompareFunction||(e.CompareFunction={})),function(t){t.None="none",t.Front="front",t.Back="back"}(e.CullMode||(e.CullMode={})),function(t){t.Nearest="nearest",t.Linear="linear"}(e.FilterMode||(e.FilterMode={})),function(t){t.CCW="ccw",t.CW="cw"}(e.FrontFace||(e.FrontFace={})),function(t){t.Uint16="uint16",t.Uint32="uint32"}(e.IndexFormat||(e.IndexFormat={})),function(t){t.Vertex="vertex",t.Instance="instance"}(e.InputStepMode||(e.InputStepMode={})),function(t){t.Load="load"}(e.LoadOp||(e.LoadOp={})),function(t){t.PointList="point-list",t.LineList="line-list",t.LineStrip="line-strip",t.TriangleList="triangle-list",t.TriangleStrip="triangle-strip"}(e.PrimitiveTopology||(e.PrimitiveTopology={})),function(t){t.Keep="keep",t.Zero="zero",t.Replace="replace",t.Invert="invert",t.IncrementClamp="increment-clamp",t.DecrementClamp="decrement-clamp",t.IncrementWrap="increment-wrap",t.DecrementWrap="decrement-wrap"}(e.StencilOperation||(e.StencilOperation={})),function(t){t.Store="store",t.Clear="clear"}(e.StoreOp||(e.StoreOp={})),function(t){t.E1d="1d",t.E2d="2d",t.E3d="3d"}(e.TextureDimension||(e.TextureDimension={})),function(t){t.R8Unorm="r8unorm",t.R8Snorm="r8snorm",t.R8Uint="r8uint",t.R8Sint="r8sint",t.R16Uint="r16uint",t.R16Sint="r16sint",t.R16Float="r16float",t.RG8Unorm="rg8unorm",t.RG8Snorm="rg8snorm",t.RG8Uint="rg8uint",t.RG8Sint="rg8sint",t.R32Uint="r32uint",t.R32Sint="r32sint",t.R32Float="r32float",t.RG16Uint="rg16uint",t.RG16Sint="rg16sint",t.RG16Float="rg16float",t.RGBA8Unorm="rgba8unorm",t.RGBA8UnormSRGB="rgba8unorm-srgb",t.RGBA8Snorm="rgba8snorm",t.RGBA8Uint="rgba8uint",t.RGBA8Sint="rgba8sint",t.BGRA8Unorm="bgra8unorm",t.BGRA8UnormSRGB="bgra8unorm-srgb",t.RGB10A2Unorm="rgb10a2unorm",t.RG11B10Float="rg11b10float",t.RG32Uint="rg32uint",t.RG32Sint="rg32sint",t.RG32Float="rg32float",t.RGBA16Uint="rgba16uint",t.RGBA16Sint="rgba16sint",t.RGBA16Float="rgba16float",t.RGBA32Uint="rgba32uint",t.RGBA32Sint="rgba32sint",t.RGBA32Float="rgba32float",t.Depth32Float="depth32float",t.Depth24Plus="depth24plus",t.Depth24PlusStencil8="depth24plus-stencil8"}(e.TextureFormat||(e.TextureFormat={})),function(t){t.Float="float",t.Sint="sint",t.Uint="uint"}(e.TextureComponentType||(e.TextureComponentType={})),function(t){t.E1d="1d",t.E2d="2d",t.E2dArray="2d-array",t.Cube="cube",t.CubeArray="cube-array",t.E3d="3d"}(e.TextureViewDimension||(e.TextureViewDimension={})),function(t){t.Uchar2="uchar2",t.Uchar4="uchar4",t.Char2="char2",t.Char4="char4",t.Uchar2Norm="uchar2norm",t.Uchar4Norm="uchar4norm",t.Char2Norm="char2norm",t.Char4Norm="char4norm",t.Ushort2="ushort2",t.Ushort4="ushort4",t.Short2="short2",t.Short4="short4",t.Ushort2Norm="ushort2norm",t.Ushort4Norm="ushort4norm",t.Short2Norm="short2norm",t.Short4Norm="short4norm",t.Half2="half2",t.Half4="half4",t.Float="float",t.Float2="float2",t.Float3="float3",t.Float4="float4",t.Uint="uint",t.Uint2="uint2",t.Uint3="uint3",t.Uint4="uint4",t.Int="int",t.Int2="int2",t.Int3="int3",t.Int4="int4"}(e.VertexFormat||(e.VertexFormat={})),function(t){t.All="all",t.StencilOnly="stencil-only",t.DepthOnly="depth-only"}(e.TextureAspect||(e.TextureAspect={})),function(t){t.Error="error",t.Warning="warning",t.Info="info"}(e.CompilationMessageType||(e.CompilationMessageType={})),function(t){t.Occlusion="occlusion"}(e.QueryType||(e.QueryType={})),function(t){t[t.MapRead=1]="MapRead",t[t.MapWrite=2]="MapWrite",t[t.CopySrc=4]="CopySrc",t[t.CopyDst=8]="CopyDst",t[t.Index=16]="Index",t[t.Vertex=32]="Vertex",t[t.Uniform=64]="Uniform",t[t.Storage=128]="Storage",t[t.Indirect=256]="Indirect",t[t.QueryResolve=512]="QueryResolve"}(e.BufferUsage||(e.BufferUsage={})),function(t){t[t.Red=1]="Red",t[t.Green=2]="Green",t[t.Blue=4]="Blue",t[t.Alpha=8]="Alpha",t[t.All=15]="All"}(e.ColorWrite||(e.ColorWrite={})),function(t){t[t.Vertex=1]="Vertex",t[t.Fragment=2]="Fragment",t[t.Compute=4]="Compute"}(e.ShaderStage||(e.ShaderStage={})),function(t){t[t.CopySrc=1]="CopySrc",t[t.CopyDst=2]="CopyDst",t[t.Sampled=4]="Sampled",t[t.Storage=8]="Storage",t[t.OutputAttachment=16]="OutputAttachment"}(e.TextureUsage||(e.TextureUsage={})),function(t){t[t.Read=1]="Read",t[t.Write=2]="Write"}(e.MapMode||(e.MapMode={}))},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){t.exports=n(370)},function(t,e){t.exports=function(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}},function(t,e){t.exports=function(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}},function(t,e){function n(t,e,n,r,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function u(t){n(a,o,i,u,s,"next",t)}function s(t){n(a,o,i,u,s,"throw",t)}u(void 0)}))}}},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},function(t,e,n){var r=n(402),o=n(403),i=n(160),a=n(404);t.exports=function(t){return r(t)||o(t)||i(t)||a()}},function(t,e,n){var r;try{r={cloneDeep:n(310),constant:n(84),defaults:n(311),each:n(123),filter:n(126),find:n(312),flatten:n(154),forEach:n(124),forIn:n(317),has:n(137),isUndefined:n(138),last:n(318),map:n(139),mapValues:n(319),max:n(320),merge:n(322),min:n(327),minBy:n(328),now:n(329),pick:n(330),range:n(335),reduce:n(141),sortBy:n(338),uniqueId:n(343),values:n(147),zipObject:n(344)}}catch(t){}r||(r=window._),t.exports=r},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(400);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){var r=n(51),o=n(12);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},function(t,e){t.exports=function(t,e){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.POST_CONSTRUCT=e.DESIGN_PARAM_TYPES=e.PARAM_TYPES=e.TAGGED_PROP=e.TAGGED=e.MULTI_INJECT_TAG=e.INJECT_TAG=e.OPTIONAL_TAG=e.UNMANAGED_TAG=e.NAME_TAG=e.NAMED_TAG=void 0,e.NAMED_TAG="named",e.NAME_TAG="name",e.UNMANAGED_TAG="unmanaged",e.OPTIONAL_TAG="optional",e.INJECT_TAG="inject",e.MULTI_INJECT_TAG="multi_inject",e.TAGGED="inversify:tagged",e.TAGGED_PROP="inversify:tagged_props",e.PARAM_TYPES="inversify:paramtypes",e.DESIGN_PARAM_TYPES="design:paramtypes",e.POST_CONSTRUCT="post_construct"},function(t,e,n){"use strict";var r=n(11),o=n(23).Graph;function i(t,e,n,o){var i;do{i=r.uniqueId(o)}while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function a(t){return r.max(r.map(t.nodes(),(function(e){var n=t.node(e).rank;if(!r.isUndefined(n))return n})))}t.exports={addDummyNode:i,simplify:function(t){var e=(new o).setGraph(t.graph());return r.forEach(t.nodes(),(function(n){e.setNode(n,t.node(n))})),r.forEach(t.edges(),(function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},o=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})})),e},asNonCompoundGraph:function(t){var e=new o({multigraph:t.isMultigraph()}).setGraph(t.graph());return r.forEach(t.nodes(),(function(n){t.children(n).length||e.setNode(n,t.node(n))})),r.forEach(t.edges(),(function(n){e.setEdge(n,t.edge(n))})),e},successorWeights:function(t){var e=r.map(t.nodes(),(function(e){var n={};return r.forEach(t.outEdges(e),(function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight})),n}));return r.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=r.map(t.nodes(),(function(e){var n={};return r.forEach(t.inEdges(e),(function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight})),n}));return r.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,o=t.x,i=t.y,a=e.x-o,u=e.y-i,s=t.width/2,c=t.height/2;if(!a&&!u)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(u)*s>Math.abs(a)*c?(u<0&&(c=-c),n=c*a/u,r=c):(a<0&&(s=-s),n=s,r=s*u/a);return{x:o+n,y:i+r}},buildLayerMatrix:function(t){var e=r.map(r.range(a(t)+1),(function(){return[]}));return r.forEach(t.nodes(),(function(n){var o=t.node(n),i=o.rank;r.isUndefined(i)||(e[i][o.order]=n)})),e},normalizeRanks:function(t){var e=r.min(r.map(t.nodes(),(function(e){return t.node(e).rank})));r.forEach(t.nodes(),(function(n){var o=t.node(n);r.has(o,"rank")&&(o.rank-=e)}))},removeEmptyRanks:function(t){var e=r.min(r.map(t.nodes(),(function(e){return t.node(e).rank}))),n=[];r.forEach(t.nodes(),(function(r){var o=t.node(r).rank-e;n[o]||(n[o]=[]),n[o].push(r)}));var o=0,i=t.graph().nodeRankFactor;r.forEach(n,(function(e,n){r.isUndefined(e)&&n%i!=0?--o:o&&r.forEach(e,(function(e){t.node(e).rank+=o}))}))},addBorderNode:function(t,e,n,r){var o={width:0,height:0};arguments.length>=4&&(o.rank=n,o.order=r);return i(t,"border",o,e)},maxRank:a,partition:function(t,e){var n={lhs:[],rhs:[]};return r.forEach(t,(function(t){e(t)?n.lhs.push(t):n.rhs.push(t)})),n},time:function(t,e){var n=r.now();try{return e()}finally{console.log(t+" time: "+(r.now()-n)+"ms")}},notime:function(t,e){return e()}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STACK_OVERFLOW=e.CIRCULAR_DEPENDENCY_IN_FACTORY=e.POST_CONSTRUCT_ERROR=e.MULTIPLE_POST_CONSTRUCT_METHODS=e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=e.ARGUMENTS_LENGTH_MISMATCH=e.INVALID_DECORATOR_OPERATION=e.INVALID_TO_SELF_VALUE=e.INVALID_FUNCTION_BINDING=e.INVALID_MIDDLEWARE_RETURN=e.NO_MORE_SNAPSHOTS_AVAILABLE=e.INVALID_BINDING_TYPE=e.NOT_IMPLEMENTED=e.CIRCULAR_DEPENDENCY=e.UNDEFINED_INJECT_ANNOTATION=e.MISSING_INJECT_ANNOTATION=e.MISSING_INJECTABLE_ANNOTATION=e.NOT_REGISTERED=e.CANNOT_UNBIND=e.AMBIGUOUS_MATCH=e.KEY_NOT_FOUND=e.NULL_ARGUMENT=e.DUPLICATED_METADATA=e.DUPLICATED_INJECTABLE_DECORATOR=void 0,e.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",e.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",e.NULL_ARGUMENT="NULL argument",e.KEY_NOT_FOUND="Key Not Found",e.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",e.CANNOT_UNBIND="Could not unbind serviceIdentifier:",e.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",e.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",e.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",e.UNDEFINED_INJECT_ANNOTATION=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},e.CIRCULAR_DEPENDENCY="Circular dependency found:",e.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",e.INVALID_BINDING_TYPE="Invalid binding type:",e.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",e.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",e.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",e.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",e.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",e.ARGUMENTS_LENGTH_MISMATCH=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+t[0]+" must be >= than the number of constructor arguments of its base class."},e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",e.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",e.POST_CONSTRUCT_ERROR=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"@postConstruct error in class "+t[0]+": "+t[1]},e.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"It looks like there is a circular dependency in one of the '"+t[0]+"' bindings. Please investigate bindings withservice identifier '"+t[1]+"'."},e.STACK_OVERFLOW="Maximum call stack size exceeded"},function(t,e,n){var r;try{r={clone:n(199),constant:n(84),each:n(123),filter:n(126),has:n(137),isArray:n(13),isEmpty:n(275),isFunction:n(46),isUndefined:n(138),keys:n(32),map:n(139),reduce:n(141),size:n(278),transform:n(284),union:n(285),values:n(147)}}catch(t){}r||(r=window._),t.exports=r},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var e=n(t);return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r=n(232),o=n(63),i=n(79),a=i&&i.isTypedArray,u=a?o(a):r;t.exports=u},function(t,e,n){var r;try{r=n(197)}catch(t){}r||(r=window.graphlib),t.exports=r},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(105),i="object"==("undefined"==typeof self?"undefined":r(self))&&self&&self.Object===Object&&self,a=o||i||Function("return this")();t.exports=a},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return null!=t&&"object"==n(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var r=n(17),o=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.toString=function(){return this.key===r.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}();e.Metadata=o},function(t,e){},function(t,e,n){var r=n(46),o=n(78);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(255),i=n(265),a=n(39),u=n(13),s=n(272);t.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==r(t)?u(t)?i(t[0],t[1]):o(t):s(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TargetTypeEnum=e.BindingTypeEnum=e.BindingScopeEnum=void 0;e.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};e.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};e.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},function(t,e,n){var r=n(42),o=n(211),i=n(212),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},function(t,e,n){var r=n(109),o=n(80),i=n(28);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tagProperty=e.tagParameter=e.decorate=void 0;var r=n(19),o=n(17);function i(t,e,n,o,i){var a={},u="number"==typeof i,s=void 0!==i&&u?i.toString():n;if(u&&void 0!==n)throw new Error(r.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(t,e)&&(a=Reflect.getMetadata(t,e));var c=a[s];if(Array.isArray(c))for(var f=0,l=c;f<l.length;f++){var h=l[f];if(h.key===o.key)throw new Error(r.DUPLICATED_METADATA+" "+h.key.toString())}else c=[];c.push(o),a[s]=c,Reflect.defineMetadata(t,a,e)}function a(t,e){Reflect.decorate(t,e)}function u(t,e){return function(n,r){e(n,r,t)}}e.tagParameter=function(t,e,n,r){i(o.TAGGED,t,e,r,n)},e.tagProperty=function(t,e,n){i(o.TAGGED_PROP,t.constructor,e,n)},e.decorate=function(t,e,n){"number"==typeof n?a([u(n,t)],e):"string"==typeof n?Reflect.decorate([t],e,n):a([t],e)}},function(t,e,n){var r=n(371),o=n(372),i=n(160),a=n(373);t.exports=function(t,e){return r(t)||o(t,e)||i(t,e)||a()}},function(t,e,n){var r=n(31),o=n(25);t.exports=function(t){return"number"==typeof t||o(t)&&"[object Number]"==r(t)}},function(t,e,n){var r=n(178),o=n(177),i=n(185),a=n(100),u=n(186),s=[0,0];t.exports.computeMiter=function(t,e,n,a,c){return r(t,n,a),i(t,t),o(e,-t[1],t[0]),o(s,-n[1],n[0]),c/u(e,s)},t.exports.normal=function(t,e){return o(t,-e[1],e[0]),t},t.exports.direction=function(t,e,n){return a(t,e,n),i(t,t),t}},function(t,e,n){var r=n(210),o=n(215);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(109),o=n(235),i=n(28);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,e){t.exports=function(t){return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.id=void 0;var r=0;e.id=function(){return r++}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,n){var r=n(24).Symbol;t.exports=r},function(t,e,n){(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(24),i=n(231),a="object"==r(e)&&e&&!e.nodeType&&e,u=a&&"object"==r(t)&&t&&!t.nodeType&&t,s=u&&u.exports===a?o.Buffer:void 0,c=(s?s.isBuffer:void 0)||i;t.exports=c}).call(this,n(61)(t))},function(t,e,n){var r=n(240),o=n(75),i=n(241),a=n(118),u=n(242),s=n(31),c=n(107),f=c(r),l=c(o),h=c(i),d=c(a),p=c(u),v=s;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||u&&"[object WeakMap]"!=v(new u))&&(v=function(t){var e=s(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case f:return"[object DataView]";case l:return"[object Map]";case h:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(31),i=n(25);t.exports=function(t){return"symbol"==r(t)||i(t)&&"[object Symbol]"==o(t)}},function(t,e,n){var r=n(31),o=n(21);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){var r=n(59),o=n(60);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var u=-1,s=e.length;++u<s;){var c=e[u],f=i?i(n[c],t[c],c,n,t):void 0;void 0===f&&(f=t[c]),a?o(n,c,f):r(n,c,f)}return n}},function(t,e,n){var r=n(230),o=n(25),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=s},function(t,e,n){var r=n(45);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.circularDependencyToException=e.listMetadataForTarget=e.listRegisteredBindingsForServiceIdentifier=e.getServiceIdentifierAsString=e.getFunctionName=void 0;var o=n(19);function i(t){return"function"==typeof t?t.name:"symbol"===r(t)?t.toString():t}function a(t){if(t.name)return t.name;var e=t.toString(),n=e.match(/^function\\s*([^\\s(]+)/);return n?n[1]:"Anonymous function: "+e}e.getServiceIdentifierAsString=i,e.listRegisteredBindingsForServiceIdentifier=function(t,e,n){var r="",o=n(t,e);return 0!==o.length&&(r="\\nRegistered bindings:",o.forEach((function(t){var e="Object";null!==t.implementationType&&(e=a(t.implementationType)),r=r+"\\n "+e,t.constraint.metaData&&(r=r+" - "+t.constraint.metaData)}))),r},e.circularDependencyToException=function t(e){e.childRequests.forEach((function(e){if(function t(e,n){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===n||t(e.parentRequest,n))}(e,e.serviceIdentifier)){var n=function(t){return function t(e,n){void 0===n&&(n=[]);var r=i(e.serviceIdentifier);return n.push(r),null!==e.parentRequest?t(e.parentRequest,n):n}(t).reverse().join(" --\\x3e ")}(e);throw new Error(o.CIRCULAR_DEPENDENCY+" "+n)}t(e)}))},e.listMetadataForTarget=function(t,e){if(e.isTagged()||e.isNamed()){var n="",r=e.getNamedTag(),o=e.getCustomTags();return null!==r&&(n+=r.toString()+"\\n"),null!==o&&o.forEach((function(t){n+=t.toString()+"\\n"}))," "+t+"\\n "+t+" - "+n}return" "+t},e.getFunctionName=a},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e){t.exports=function(t){return null==t}},function(t,e,n){t.exports={EPSILON:n(175),create:n(176),clone:n(405),fromValues:n(406),copy:n(407),set:n(177),equals:n(408),exactEquals:n(409),add:n(178),subtract:n(100),sub:n(410),multiply:n(179),mul:n(411),divide:n(180),div:n(412),inverse:n(413),min:n(414),max:n(415),rotate:n(416),floor:n(417),ceil:n(418),round:n(419),scale:n(420),scaleAndAdd:n(421),distance:n(181),dist:n(422),squaredDistance:n(182),sqrDist:n(423),length:n(183),len:n(424),squaredLength:n(184),sqrLen:n(425),negate:n(426),normalize:n(185),dot:n(186),cross:n(427),lerp:n(428),random:n(429),transformMat2:n(430),transformMat2d:n(431),transformMat3:n(432),transformMat4:n(433),forEach:n(434),limit:n(435)}},function(t,e,n){var r=n(55),o=n(205),i=n(206),a=n(207),u=n(208),s=n(209);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=u,c.prototype.set=s,t.exports=c},function(t,e,n){var r=n(200),o=n(201),i=n(202),a=n(203),u=n(204);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e,n){var r=n(41);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(37)(Object,"create");t.exports=r},function(t,e,n){var r=n(224);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(60),o=n(41),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(108);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=/^(?:0|[1-9]\\d*)$/;t.exports=function(t,e){var o=n(t);return!!(e=null==e?9007199254740991:e)&&("number"==o||"symbol"!=o&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(110)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(85),o=n(253)(r);t.exports=o},function(t,e,n){var r=n(68),o=n(49);t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},function(t,e,n){var r=n(13),o=n(88),i=n(267),a=n(133);t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(a(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e,n){var r=n(39),o=n(142),i=n(143);t.exports=function(t,e){return i(o(t,e,r),t+"")}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(41),i=n(28),a=n(62),u=n(21);t.exports=function(t,e,n){if(!u(n))return!1;var s=r(e);return!!("number"==s?i(n)&&a(e,n.length):"string"==s&&e in n)&&o(n[e],t)}},function(t,e,n){"use strict";var r=n(11);t.exports={longestPath:function(t){var e={};r.forEach(t.sources(),(function n(o){var i=t.node(o);if(r.has(e,o))return i.rank;e[o]=!0;var a=r.min(r.map(t.outEdges(o),(function(e){return n(e.w)-t.edge(e).minlen})));return a!==Number.POSITIVE_INFINITY&&null!=a||(a=0),i.rank=a}))},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},function(t,e){},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(20);t.exports=i;function i(t){this._isDirected=!o.has(t,"directed")||t.directed,this._isMultigraph=!!o.has(t,"multigraph")&&t.multigraph,this._isCompound=!!o.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=o.constant(void 0),this._defaultEdgeLabelFn=o.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(t,e){t[e]?t[e]++:t[e]=1}function u(t,e){--t[e]||delete t[e]}function s(t,e,n,r){var i=""+e,a=""+n;if(!t&&i>a){var u=i;i=a,a=u}return i+""+a+""+(o.isUndefined(r)?"\\0":r)}function c(t,e,n,r){var o=""+e,i=""+n;if(!t&&o>i){var a=o;o=i,i=a}var u={v:o,w:i};return r&&(u.name=r),u}function f(t,e){return s(t,e.v,e.w,e.name)}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(t){return this._label=t,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(t){return o.isFunction(t)||(t=o.constant(t)),this._defaultNodeLabelFn=t,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return o.keys(this._nodes)},i.prototype.sources=function(){var t=this;return o.filter(this.nodes(),(function(e){return o.isEmpty(t._in[e])}))},i.prototype.sinks=function(){var t=this;return o.filter(this.nodes(),(function(e){return o.isEmpty(t._out[e])}))},i.prototype.setNodes=function(t,e){var n=arguments,r=this;return o.each(t,(function(t){n.length>1?r.setNode(t,e):r.setNode(t)})),this},i.prototype.setNode=function(t,e){return o.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\\0",this._children[t]={},this._children["\\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},i.prototype.node=function(t){return this._nodes[t]},i.prototype.hasNode=function(t){return o.has(this._nodes,t)},i.prototype.removeNode=function(t){var e=this;if(o.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],o.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),o.each(o.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],o.each(o.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},i.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(o.isUndefined(e))e="\\0";else{for(var n=e+="";!o.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},i.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},i.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if("\\0"!==e)return e}},i.prototype.children=function(t){if(o.isUndefined(t)&&(t="\\0"),this._isCompound){var e=this._children[t];if(e)return o.keys(e)}else{if("\\0"===t)return this.nodes();if(this.hasNode(t))return[]}},i.prototype.predecessors=function(t){var e=this._preds[t];if(e)return o.keys(e)},i.prototype.successors=function(t){var e=this._sucs[t];if(e)return o.keys(e)},i.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return o.union(e,this.successors(t))},i.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},i.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;o.each(this._nodes,(function(n,r){t(r)&&e.setNode(r,n)})),o.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))}));var r={};return this._isCompound&&o.each(e.nodes(),(function(t){e.setParent(t,function t(o){var i=n.parent(o);return void 0===i||e.hasNode(i)?(r[o]=i,i):i in r?r[i]:t(i)}(t))})),e},i.prototype.setDefaultEdgeLabel=function(t){return o.isFunction(t)||(t=o.constant(t)),this._defaultEdgeLabelFn=t,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return o.values(this._edgeObjs)},i.prototype.setPath=function(t,e){var n=this,r=arguments;return o.reduce(t,(function(t,o){return r.length>1?n.setEdge(t,o,e):n.setEdge(t,o),o})),this},i.prototype.setEdge=function(){var t,e,n,i,u=!1,f=arguments[0];"object"===r(f)&&null!==f&&"v"in f?(t=f.v,e=f.w,n=f.name,2===arguments.length&&(i=arguments[1],u=!0)):(t=f,e=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],u=!0)),t=""+t,e=""+e,o.isUndefined(n)||(n=""+n);var l=s(this._isDirected,t,e,n);if(o.has(this._edgeLabels,l))return u&&(this._edgeLabels[l]=i),this;if(!o.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[l]=u?i:this._defaultEdgeLabelFn(t,e,n);var h=c(this._isDirected,t,e,n);return t=h.v,e=h.w,Object.freeze(h),this._edgeObjs[l]=h,a(this._preds[e],t),a(this._sucs[t],e),this._in[e][l]=h,this._out[t][l]=h,this._edgeCount++,this},i.prototype.edge=function(t,e,n){var r=1===arguments.length?f(this._isDirected,arguments[0]):s(this._isDirected,t,e,n);return this._edgeLabels[r]},i.prototype.hasEdge=function(t,e,n){var r=1===arguments.length?f(this._isDirected,arguments[0]):s(this._isDirected,t,e,n);return o.has(this._edgeLabels,r)},i.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?f(this._isDirected,arguments[0]):s(this._isDirected,t,e,n),o=this._edgeObjs[r];return o&&(t=o.v,e=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],u(this._preds[e],t),u(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},i.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=o.values(n);return e?o.filter(r,(function(t){return t.v===e})):r}},i.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=o.values(n);return e?o.filter(r,(function(t){return t.w===e})):r}},i.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},function(t,e,n){var r=n(37)(n(24),"Map");t.exports=r},function(t,e,n){var r=n(216),o=n(223),i=n(225),a=n(226),u=n(227);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(105),i="object"==r(e)&&e&&!e.nodeType&&e,a=i&&"object"==r(t)&&t&&!t.nodeType&&t,u=a&&a.exports===i&&o.process,s=function(){try{var t=a&&a.require&&a.require("util").types;return t||u&&u.binding&&u.binding("util")}catch(t){}}();t.exports=s}).call(this,n(61)(t))},function(t,e,n){var r=n(64),o=n(233),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(113),o=n(114),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return i.call(t,e)})))}:o;t.exports=u},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(119);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(86),o=n(32);t.exports=function(t,e){return t&&r(t,e,o)}},function(t,e,n){var r=n(252)();t.exports=r},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(13),i=n(45),a=/\\.|\\[(?:[^[\\]]*|(["'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,u=/^\\w*$/;t.exports=function(t,e){if(o(t))return!1;var n=r(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||(u.test(t)||!a.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var r=n(82),o=n(286);t.exports=function t(e,n,i,a,u){var s=-1,c=e.length;for(i||(i=o),u||(u=[]);++s<c;){var f=e[s];n>0&&i(f)?n>1?t(f,n-1,i,a,u):r(u,f):a||(u[u.length]=f)}return u}},function(t,e,n){var r=n(45);t.exports=function(t,e,n){for(var o=-1,i=t.length;++o<i;){var a=t[o],u=e(a);if(null!=u&&(void 0===s?u==u&&!r(u):n(u,s)))var s=u,c=a}return c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingOnSyntax=void 0;var r=n(92),o=function(){function t(t){this._binding=t}return t.prototype.onActivation=function(t){return this._binding.onActivation=t,new r.BindingWhenSyntax(this._binding)},t}();e.BindingOnSyntax=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingWhenSyntax=void 0;var r=n(91),o=n(167),i=function(){function t(t){this._binding=t}return t.prototype.when=function(t){return this._binding.constraint=t,new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(t){return this._binding.constraint=o.namedConstraint(t),new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){return null!==t.target&&!t.target.isNamed()&&!t.target.isTagged()},new r.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(t,e){return this._binding.constraint=o.taggedConstraint(t)(e),new r.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(t){return this._binding.constraint=function(e){return o.typeConstraint(t)(e.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(t){return this._binding.constraint=function(e){return o.namedConstraint(t)(e.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(t,e){return this._binding.constraint=function(n){return o.taggedConstraint(t)(e)(n.parentRequest)},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(t){return this._binding.constraint=function(e){return o.traverseAncerstors(e,o.typeConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(t){return this._binding.constraint=function(e){return!o.traverseAncerstors(e,o.typeConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(t){return this._binding.constraint=function(e){return o.traverseAncerstors(e,o.namedConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(t){return this._binding.constraint=function(e){return!o.traverseAncerstors(e,o.namedConstraint(t))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._binding.constraint=function(n){return o.traverseAncerstors(n,o.taggedConstraint(t)(e))},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(t,e){return this._binding.constraint=function(n){return!o.traverseAncerstors(n,o.taggedConstraint(t)(e))},new r.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(t){return this._binding.constraint=function(e){return o.traverseAncerstors(e,t)},new r.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(t){return this._binding.constraint=function(e){return!o.traverseAncerstors(e,t)},new r.BindingOnSyntax(this._binding)},t}();e.BindingWhenSyntax=i},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}},function(t,e,n){var r=n(31),o=n(65),i=n(25),a=Function.prototype,u=Object.prototype,s=a.toString,c=u.hasOwnProperty,f=s.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var e=o(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==f}},function(t,e,n){t.exports={graphlib:n(23),layout:n(309),debug:n(367),util:{time:n(18).time,notime:n(18).notime},version:n(368)}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function i(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function u(t,e,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var u=new a(n,r||t,i),s=o?o+e:e;return t._events[s]?t._events[s].fn?t._events[s]=[t._events[s],u]:t._events[s].push(u):(t._events[s]=u,t._eventsCount++),t}function s(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function c(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),c.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},c.prototype.listeners=function(t){var e=o?o+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,a=new Array(i);r<i;r++)a[r]=n[r].fn;return a},c.prototype.listenerCount=function(t){var e=o?o+t:t,n=this._events[e];return n?n.fn?1:n.length:0},c.prototype.emit=function(t,e,n,r,i,a){var u=o?o+t:t;if(!this._events[u])return!1;var s,c,f=this._events[u],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,n),!0;case 4:return f.fn.call(f.context,e,n,r),!0;case 5:return f.fn.call(f.context,e,n,r,i),!0;case 6:return f.fn.call(f.context,e,n,r,i,a),!0}for(c=1,s=new Array(l-1);c<l;c++)s[c-1]=arguments[c];f.fn.apply(f.context,s)}else{var h,d=f.length;for(c=0;c<d;c++)switch(f[c].once&&this.removeListener(t,f[c].fn,void 0,!0),l){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,e);break;case 3:f[c].fn.call(f[c].context,e,n);break;case 4:f[c].fn.call(f[c].context,e,n,r);break;default:if(!s)for(h=1,s=new Array(l-1);h<l;h++)s[h-1]=arguments[h];f[c].fn.apply(f[c].context,s)}}return!0},c.prototype.on=function(t,e,n){return u(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return u(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,n,r){var i=o?o+t:t;if(!this._events[i])return this;if(!e)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||s(this,i);else{for(var u=0,c=[],f=a.length;u<f;u++)(a[u].fn!==e||r&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[i]=1===c.length?c[0]:c:s(this,i)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&s(this,e)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=o,c.EventEmitter=c,t.exports=c},function(t,e,n){var r=n(54),o=n(77),i=n(59),a=n(228),u=n(234),s=n(111),c=n(112),f=n(237),l=n(238),h=n(116),d=n(239),p=n(44),v=n(243),m=n(244),y=n(121),g=n(13),b=n(43),_=n(248),x=n(21),w=n(250),E=n(32),S=n(38),T={};T["[object Arguments]"]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T["[object Object]"]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T["[object Function]"]=T["[object WeakMap]"]=!1,t.exports=function t(e,n,A,I,k,O){var D,R=1&n,M=2&n,C=4&n;if(A&&(D=k?A(e,I,k,O):A(e)),void 0!==D)return D;if(!x(e))return e;var N=g(e);if(N){if(D=v(e),!R)return c(e,D)}else{var P=p(e),G="[object Function]"==P||"[object GeneratorFunction]"==P;if(b(e))return s(e,R);if("[object Object]"==P||"[object Arguments]"==P||G&&!k){if(D=M||G?{}:y(e),!R)return M?l(e,u(D,e)):f(e,a(D,e))}else{if(!T[P])return k?e:{};D=m(e,P,R)}}O||(O=new r);var j=O.get(e);if(j)return j;O.set(e,D),w(e)?e.forEach((function(r){D.add(t(r,n,A,r,e,O))})):_(e)&&e.forEach((function(r,o){D.set(o,t(r,n,A,o,e,O))}));var L=N?void 0:(C?M?d:h:M?S:E)(e);return o(L||e,(function(r,o){L&&(r=e[o=r]),i(D,o,t(r,n,A,o,e,O))})),D}},function(t,e,n){(function(e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r="object"==(void 0===e?"undefined":n(e))&&e&&e.Object===Object&&e;t.exports=r}).call(this,n(106))},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}t.exports=r},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,n){var r=n(37),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,n){var r=n(229),o=n(48),i=n(13),a=n(43),u=n(62),s=n(22),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),f=!n&&o(t),l=!n&&!f&&a(t),h=!n&&!f&&!l&&s(t),d=n||f||l||h,p=d?r(t.length,String):[],v=p.length;for(var m in t)!e&&!c.call(t,m)||d&&("length"==m||l&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||u(m,v))||p.push(m);return p}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=n(24),i="object"==r(e)&&e&&!e.nodeType&&e,a=i&&"object"==r(t)&&t&&!t.nodeType&&t,u=a&&a.exports===i?o.Buffer:void 0,s=u?u.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(61)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(82),o=n(65),i=n(81),a=n(114),u=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=u},function(t,e,n){var r=n(117),o=n(81),i=n(32);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(82),o=n(13);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},function(t,e,n){var r=n(37)(n(24),"Set");t.exports=r},function(t,e,n){var r=n(24).Uint8Array;t.exports=r},function(t,e,n){var r=n(83);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(122),o=n(65),i=n(64);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,e,n){var r=n(21),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e,n){t.exports=n(124)},function(t,e,n){var r=n(77),o=n(66),i=n(125),a=n(13);t.exports=function(t,e){return(a(t)?r:o)(t,i(e))}},function(t,e,n){var r=n(39);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(113),o=n(254),i=n(29),a=n(13);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e,n){var r=n(257),o=n(25);t.exports=function t(e,n,i,a,u){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!=e&&n!=n:r(e,n,i,a,t,u))}},function(t,e,n){var r=n(129),o=n(260),i=n(130);t.exports=function(t,e,n,a,u,s){var c=1&n,f=t.length,l=e.length;if(f!=l&&!(c&&l>f))return!1;var h=s.get(t),d=s.get(e);if(h&&d)return h==e&&d==t;var p=-1,v=!0,m=2&n?new r:void 0;for(s.set(t,e),s.set(e,t);++p<f;){var y=t[p],g=e[p];if(a)var b=c?a(g,y,p,e,t,s):a(y,g,p,t,e,s);if(void 0!==b){if(b)continue;v=!1;break}if(m){if(!o(e,(function(t,e){if(!i(m,e)&&(y===t||u(y,t,n,a,s)))return m.push(e)}))){v=!1;break}}else if(y!==g&&!u(y,g,n,a,s)){v=!1;break}}return s.delete(t),s.delete(e),v}},function(t,e,n){var r=n(76),o=n(258),i=n(259);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(21);t.exports=function(t){return t==t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e,n){var r=n(270);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(271),o=n(135);t.exports=function(t,e){return null!=t&&o(t,e,r)}},function(t,e,n){var r=n(68),o=n(48),i=n(13),a=n(62),u=n(78),s=n(49);t.exports=function(t,e,n){for(var c=-1,f=(e=r(e,t)).length,l=!1;++c<f;){var h=s(e[c]);if(!(l=null!=t&&n(t,h)))break;t=t[h]}return l||++c!=f?l:!!(f=null==t?0:t.length)&&u(f)&&a(h,f)&&(i(t)||o(t))}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(274),o=n(135);t.exports=function(t,e){return null!=t&&o(t,e,r)}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){var r=n(69),o=n(29),i=n(140),a=n(13);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},function(t,e,n){var r=n(66),o=n(28);t.exports=function(t,e){var n=-1,i=o(t)?Array(t.length):[];return r(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}},function(t,e,n){var r=n(276),o=n(66),i=n(29),a=n(277),u=n(13);t.exports=function(t,e,n){var s=u(t)?r:a,c=arguments.length<3;return s(t,i(e,4),n,c,o)}},function(t,e,n){var r=n(287),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,u=o(i.length-e,0),s=Array(u);++a<u;)s[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=n(s),r(t,this,c)}}},function(t,e,n){var r=n(288),o=n(289)(r);t.exports=o},function(t,e,n){var r=n(129),o=n(290),i=n(294),a=n(130),u=n(295),s=n(87);t.exports=function(t,e,n){var c=-1,f=o,l=t.length,h=!0,d=[],p=d;if(n)h=!1,f=i;else if(l>=200){var v=e?null:u(t);if(v)return s(v);h=!1,f=a,p=new r}else p=e?[]:d;t:for(;++c<l;){var m=t[c],y=e?e(m):m;if(m=n||0!==m?m:0,h&&y==y){for(var g=p.length;g--;)if(p[g]===y)continue t;e&&p.push(y),d.push(m)}else f(p,y,n)||(p!==d&&p.push(y),d.push(m))}return d}},function(t,e){t.exports=function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},function(t,e,n){var r=n(28),o=n(25);t.exports=function(t){return o(t)&&r(t)}},function(t,e,n){var r=n(297),o=n(32);t.exports=function(t){return null==t?[]:r(t,o(t))}},function(t,e,n){var r=n(20),o=n(149);t.exports=function(t,e,n,r){return function(t,e,n,r){var i,a,u={},s=new o,c=function(t){var e=t.v!==i?t.v:t.w,r=u[e],o=n(t),c=a.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+o);c<r.distance&&(r.distance=c,r.predecessor=i,s.decrease(e,c))};t.nodes().forEach((function(t){var n=t===e?0:Number.POSITIVE_INFINITY;u[t]={distance:n},s.add(t,n)}));for(;s.size()>0&&(i=s.removeMin(),(a=u[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(c);return u}(t,String(e),n||i,r||function(e){return t.outEdges(e)})};var i=r.constant(1)},function(t,e,n){var r=n(20);function o(){this._arr=[],this._keyIndices={}}t.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},o.prototype.has=function(t){return r.has(this._keyIndices,t)},o.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!r.has(n,t)){var o=this._arr,i=o.length;return n[t]=i,o.push({key:t,priority:e}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},o.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},o.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,o=t;n<e.length&&(o=e[n].priority<e[o].priority?n:o,r<e.length&&(o=e[r].priority<e[o].priority?r:o),o!==t&&(this._swap(t,o),this._heapify(o)))},o.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},o.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,o=n[t],i=n[e];n[t]=i,n[e]=o,r[i.key]=t,r[o.key]=e}},function(t,e,n){var r=n(20);t.exports=function(t){var e=0,n=[],o={},i=[];return t.nodes().forEach((function(a){r.has(o,a)||function a(u){var s=o[u]={onStack:!0,lowlink:e,index:e++};if(n.push(u),t.successors(u).forEach((function(t){r.has(o,t)?o[t].onStack&&(s.lowlink=Math.min(s.lowlink,o[t].index)):(a(t),s.lowlink=Math.min(s.lowlink,o[t].lowlink))})),s.lowlink===s.index){var c,f=[];do{c=n.pop(),o[c].onStack=!1,f.push(c)}while(u!==c);i.push(f)}}(a)})),i}},function(t,e,n){var r=n(20);function o(t){var e={},n={},o=[];if(r.each(t.sinks(),(function a(u){if(r.has(n,u))throw new i;r.has(e,u)||(n[u]=!0,e[u]=!0,r.each(t.predecessors(u),a),delete n[u],o.push(u))})),r.size(e)!==t.nodeCount())throw new i;return o}function i(){}t.exports=o,o.CycleException=i,i.prototype=new Error},function(t,e,n){var r=n(20);t.exports=function(t,e,n){r.isArray(e)||(e=[e]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],a={};return r.each(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,n,o,i,a,u){r.has(i,n)||(i[n]=!0,o||u.push(n),r.each(a(n),(function(n){t(e,n,o,i,a,u)})),o&&u.push(n))}(t,e,"post"===n,a,o,i)})),i}},function(t,e,n){var r=n(316);t.exports=function(t){return t?(t=r(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},function(t,e,n){var r=n(89);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},function(t,e,n){var r=n(60),o=n(41);t.exports=function(t,e,n){(void 0!==n&&!o(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e){t.exports=function(t,e){return t<e}},function(t,e,n){"use strict";var r=n(11),o=n(23).Graph,i=n(72).slack;function a(t,e){return r.forEach(t.nodes(),(function n(o){r.forEach(e.nodeEdges(o),(function(r){var a=r.v,u=o===a?r.w:a;t.hasNode(u)||i(e,r)||(t.setNode(u,{}),t.setEdge(o,u,{}),n(u))}))})),t.nodeCount()}function u(t,e){return r.minBy(e.edges(),(function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return i(e,n)}))}function s(t,e,n){r.forEach(t.nodes(),(function(t){e.node(t).rank+=n}))}t.exports=function(t){var e,n,r=new o({directed:!1}),c=t.nodes()[0],f=t.nodeCount();r.setNode(c,{});for(;a(r,t)<f;)e=u(r,t),n=r.hasNode(e.v)?i(t,e):-i(t,e),s(r,t,n);return r}},function(t,e,n){(function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var r;!function(r){!function(o){var i="object"===(void 0===e?"undefined":n(e))?e:"object"===("undefined"==typeof self?"undefined":n(self))?self:"object"===n(this)?this:Function("return this;")(),a=u(r);function u(t,e){return function(n,r){"function"!=typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:r}),e&&e(n,r)}}void 0===i.Reflect?i.Reflect=r:a=u(i.Reflect,a),function(e){var r=Object.prototype.hasOwnProperty,o="function"==typeof Symbol,i=o&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",a=o&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",u="function"==typeof Object.create,s={__proto__:[]}instanceof Array,c=!u&&!s,f={create:u?function(){return N(Object.create(null))}:s?function(){return N({__proto__:null})}:function(){return N({})},has:c?function(t,e){return r.call(t,e)}:function(t,e){return e in t},get:c?function(t,e){return r.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},l=Object.getPrototypeOf(Function),h="object"===(void 0===t?"undefined":n(t))&&t.env&&"true"===t.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=h||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[a]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,r)},e.prototype.values=function(){return new n(this._keys,this._values,o)},e.prototype.entries=function(){return new n(this._keys,this._values,i)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[a]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function r(t,e){return t}function o(t,e){return e}function i(t,e){return[t,e]}}():Map,p=h||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new d}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[a]=function(){return this.keys()},t}():Set,v=new(h||"function"!=typeof WeakMap?function(){var t=f.create(),e=n();return function(){function t(){this._key=n()}return t.prototype.has=function(t){var e=o(t,!1);return void 0!==e&&f.has(e,this._key)},t.prototype.get=function(t){var e=o(t,!1);return void 0!==e?f.get(e,this._key):void 0},t.prototype.set=function(t,e){return o(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=o(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=n()},t}();function n(){var e;do{e="@@WeakMap@@"+a()}while(f.has(t,e));return t[e]=!0,e}function o(t,n){if(!r.call(t,e)){if(!n)return;Object.defineProperty(t,e,{value:f.create()})}return t[e]}function i(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function a(){var t,e=(t=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):i(new Uint8Array(t),t):i(new Array(t),t));e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var n="",r=0;r<16;++r){var o=e[r];4!==r&&6!==r&&8!==r||(n+="-"),o<16&&(n+="0"),n+=o.toString(16).toLowerCase()}return n}}():WeakMap);function m(t,e,n){var r=v.get(t);if(w(r)){if(!n)return;r=new d,v.set(t,r)}var o=r.get(e);if(w(o)){if(!n)return;o=new d,r.set(e,o)}return o}function y(t,e,n){var r=m(e,n,!1);return!w(r)&&!!r.has(t)}function g(t,e,n){var r=m(e,n,!1);if(!w(r))return r.get(t)}function b(t,e,n,r){m(n,r,!0).set(t,e)}function _(t,e){var n=[],r=m(t,e,!1);if(w(r))return n;for(var o=function(t){var e=D(t,a);if(!k(e))throw new TypeError;var n=e.call(t);if(!S(n))throw new TypeError;return n}(r.keys()),i=0;;){var u=R(o);if(!u)return n.length=i,n;var s=u.value;try{n[i]=s}catch(t){try{M(o)}finally{throw t}}i++}}function x(t){if(null===t)return 1;switch(n(t)){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function w(t){return void 0===t}function E(t){return null===t}function S(t){return"object"===n(t)?null!==t:"function"==typeof t}function T(t,e){switch(x(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",r=D(t,i);if(void 0!==r){var o=r.call(t,n);if(S(o))throw new TypeError;return o}return function(t,e){if("string"===e){var n=t.toString;if(k(n))if(!S(o=n.call(t)))return o;if(k(r=t.valueOf))if(!S(o=r.call(t)))return o}else{var r;if(k(r=t.valueOf))if(!S(o=r.call(t)))return o;var o,i=t.toString;if(k(i))if(!S(o=i.call(t)))return o}throw new TypeError}(t,"default"===n?"number":n)}function A(t){var e=T(t,3);return"symbol"===n(e)?e:function(t){return""+t}(e)}function I(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function k(t){return"function"==typeof t}function O(t){return"function"==typeof t}function D(t,e){var n=t[e];if(null!=n){if(!k(n))throw new TypeError;return n}}function R(t){var e=t.next();return!e.done&&e}function M(t){var e=t.return;e&&e.call(t)}function C(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===l)return e;if(e!==l)return e;var n=t.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return e;var o=r.constructor;return"function"!=typeof o||o===t?e:o}function N(t){return t.__=void 0,delete t.__,t}e("decorate",(function(t,e,n,r){if(w(n)){if(!I(t))throw new TypeError;if(!O(e))throw new TypeError;return function(t,e){for(var n=t.length-1;n>=0;--n){var r=(0,t[n])(e);if(!w(r)&&!E(r)){if(!O(r))throw new TypeError;e=r}}return e}(t,e)}if(!I(t))throw new TypeError;if(!S(e))throw new TypeError;if(!S(r)&&!w(r)&&!E(r))throw new TypeError;return E(r)&&(r=void 0),function(t,e,n,r){for(var o=t.length-1;o>=0;--o){var i=(0,t[o])(e,n,r);if(!w(i)&&!E(i)){if(!S(i))throw new TypeError;r=i}}return r}(t,e,n=A(n),r)})),e("metadata",(function(t,e){return function(n,r){if(!S(n))throw new TypeError;if(!w(r)&&!function(t){switch(x(t)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;b(t,e,n,r)}})),e("defineMetadata",(function(t,e,n,r){if(!S(n))throw new TypeError;return w(r)||(r=A(r)),b(t,e,n,r)})),e("hasMetadata",(function(t,e,n){if(!S(e))throw new TypeError;return w(n)||(n=A(n)),function t(e,n,r){if(y(e,n,r))return!0;var o=C(n);return!E(o)&&t(e,o,r)}(t,e,n)})),e("hasOwnMetadata",(function(t,e,n){if(!S(e))throw new TypeError;return w(n)||(n=A(n)),y(t,e,n)})),e("getMetadata",(function(t,e,n){if(!S(e))throw new TypeError;return w(n)||(n=A(n)),function t(e,n,r){if(y(e,n,r))return g(e,n,r);var o=C(n);return E(o)?void 0:t(e,o,r)}(t,e,n)})),e("getOwnMetadata",(function(t,e,n){if(!S(e))throw new TypeError;return w(n)||(n=A(n)),g(t,e,n)})),e("getMetadataKeys",(function(t,e){if(!S(t))throw new TypeError;return w(e)||(e=A(e)),function t(e,n){var r=_(e,n),o=C(e);if(null===o)return r;var i=t(o,n);if(i.length<=0)return r;if(r.length<=0)return i;for(var a=new p,u=[],s=0,c=r;s<c.length;s++){var f=c[s];a.has(f)||(a.add(f),u.push(f))}for(var l=0,h=i;l<h.length;l++){f=h[l];a.has(f)||(a.add(f),u.push(f))}return u}(t,e)})),e("getOwnMetadataKeys",(function(t,e){if(!S(t))throw new TypeError;return w(e)||(e=A(e)),_(t,e)})),e("deleteMetadata",(function(t,e,n){if(!S(e))throw new TypeError;w(n)||(n=A(n));var r=m(e,n,!1);if(w(r))return!1;if(!r.delete(t))return!1;if(r.size>0)return!0;var o=v.get(e);return o.delete(n),o.size>0||v.delete(e),!0}))}(a)}()}(r||(r={}))}).call(this,n(369),n(106))},function(t,e,n){var r=n(161);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MetadataReader=void 0;var r=n(17),o=function(){function t(){}return t.prototype.getConstructorMetadata=function(t){return{compilerGeneratedMetadata:Reflect.getMetadata(r.PARAM_TYPES,t),userGeneratedMetadata:Reflect.getMetadata(r.TAGGED,t)||{}}},t.prototype.getPropertiesMetadata=function(t){return Reflect.getMetadata(r.TAGGED_PROP,t)||[]},t}();e.MetadataReader=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStackOverflowExeption=void 0;var r=n(19);e.isStackOverflowExeption=function(t){return t instanceof RangeError||t.message===r.STACK_OVERFLOW}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inject=e.LazyServiceIdentifer=void 0;var r=n(19),o=n(17),i=n(26),a=n(33),u=function(){function t(t){this._cb=t}return t.prototype.unwrap=function(){return this._cb()},t}();e.LazyServiceIdentifer=u,e.inject=function(t){return function(e,n,u){if(void 0===t)throw new Error(r.UNDEFINED_INJECT_ANNOTATION(e.name));var s=new i.Metadata(o.INJECT_TAG,t);"number"==typeof u?a.tagParameter(e,n,u,s):a.tagProperty(e,n,s)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Target=void 0;var r=n(17),o=n(40),i=n(26),a=n(381),u=function(){function t(t,e,n,u){this.id=o.id(),this.type=t,this.serviceIdentifier=n,this.name=new a.QueryableString(e||""),this.metadata=new Array;var s=null;"string"==typeof u?s=new i.Metadata(r.NAMED_TAG,u):u instanceof i.Metadata&&(s=u),null!==s&&this.metadata.push(s)}return t.prototype.hasTag=function(t){for(var e=0,n=this.metadata;e<n.length;e++){if(n[e].key===t)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(t){return this.matchesTag(r.MULTI_INJECT_TAG)(t)},t.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some((function(t){return t.key!==r.INJECT_TAG&&t.key!==r.MULTI_INJECT_TAG&&t.key!==r.NAME_TAG&&t.key!==r.UNMANAGED_TAG&&t.key!==r.NAMED_TAG}))},t.prototype.isOptional=function(){return this.matchesTag(r.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(t){return t.key===r.NAMED_TAG}))[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(t){return t.key!==r.INJECT_TAG&&t.key!==r.MULTI_INJECT_TAG&&t.key!==r.NAME_TAG&&t.key!==r.UNMANAGED_TAG&&t.key!==r.NAMED_TAG})):null},t.prototype.matchesNamedTag=function(t){return this.matchesTag(r.NAMED_TAG)(t)},t.prototype.matchesTag=function(t){var e=this;return function(n){for(var r=0,o=e.metadata;r<o.length;r++){var i=o[r];if(i.key===t&&i.value===n)return!0}return!1}},t}();e.Target=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingWhenOnSyntax=void 0;var r=n(91),o=n(92),i=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new o.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding)}return t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingWhenOnSyntax=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typeConstraint=e.namedConstraint=e.taggedConstraint=e.traverseAncerstors=void 0;var r=n(17),o=n(26);e.traverseAncerstors=function t(e,n){var r=e.parentRequest;return null!==r&&(!!n(r)||t(r,n))};var i=function(t){return function(e){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(t)(e)};return n.metaData=new o.Metadata(t,e),n}};e.taggedConstraint=i;var a=i(r.NAMED_TAG);e.namedConstraint=a;e.typeConstraint=function(t){return function(e){var n=null;if(null!==e){if(n=e.bindings[0],"string"==typeof t)return n.serviceIdentifier===t;var r=e.bindings[0].implementationType;return t===r}return!1}}},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports=1e-6},function(t,e){t.exports=function(){var t=new Float32Array(2);return t[0]=0,t[1]=0,t}},function(t,e){t.exports=function(t,e,n){return t[0]=e,t[1]=n,t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}},function(t,e){t.exports=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}},function(t,e){t.exports=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)}},function(t,e){t.exports=function(t){var e=t[0],n=t[1];return e*e+n*n}},function(t,e){t.exports=function(t,e){var n=e[0],r=e[1],o=n*n+r*r;o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o);return t}},function(t,e){t.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(401);e.default=function(t,e){return void 0===e&&(e=!0),{lazyInject:r.makePropertyInjectDecorator(t,e),lazyInjectNamed:r.makePropertyInjectNamedDecorator(t,e),lazyInjectTagged:r.makePropertyInjectTaggedDecorator(t,e),lazyMultiInject:r.makePropertyMultiInjectDecorator(t,e)}}},function(t,e,n){var r=n(144);t.exports=function(t){return t&&t.length?r(t):[]}},function(t,e,n){var r,o,i;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}i=function(){"use strict";var t=function(t){return t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Float32Array||t instanceof Float64Array||t instanceof Uint8ClampedArray},e=function(t,e){for(var n=Object.keys(e),r=0;r<n.length;++r)t[n[r]]=e[n[r]];return t};function n(t){var e=new Error("(regl) "+t);throw console.error(e),e}function r(t,e){t||n(e)}function o(t){return t?": "+t:""}function i(t,e){switch(e){case"number":return"number"==typeof t;case"object":return"object"===a(t);case"string":return"string"==typeof t;case"boolean":return"boolean"==typeof t;case"function":return"function"==typeof t;case"undefined":return void 0===t;case"symbol":return"symbol"===a(t)}}function u(t,e,r){e.indexOf(t)<0&&n("invalid value"+o(r)+". must be one of: "+e)}var s=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function c(t,e){for(t+="";t.length<e;)t=" "+t;return t}function f(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function l(t,e){this.number=t,this.line=e,this.errors=[]}function h(t,e,n){this.file=t,this.line=e,this.message=n}function d(){var t=new Error,e=(t.stack||t).toString(),n=/compileProcedure.*\\n\\s*at.*\\((.*)\\)/.exec(e);if(n)return n[1];var r=/compileProcedure.*\\n\\s*at\\s+(.*)(\\n|$)/.exec(e);return r?r[1]:"unknown"}function p(){var t=new Error,e=(t.stack||t).toString(),n=/at REGLCommand.*\\n\\s+at.*\\((.*)\\)/.exec(e);if(n)return n[1];var r=/at REGLCommand.*\\n\\s+at\\s+(.*)\\n/.exec(e);return r?r[1]:"unknown"}function v(t,e){var n,r=t.split("\\n"),o=1,i=0,a={unknown:new f,0:new f};a.unknown.name=a[0].name=e||d(),a.unknown.lines.push(new l(0,""));for(var u=0;u<r.length;++u){var s=r[u],c=/^\\s*#\\s*(\\w+)\\s+(.+)\\s*$/.exec(s);if(c)switch(c[1]){case"line":var h=/(\\d+)(\\s+\\d+)?/.exec(c[2]);h&&(o=0|h[1],h[2]&&((i=0|h[2])in a||(a[i]=new f)));break;case"define":var p=/SHADER_NAME(_B64)?\\s+(.*)$/.exec(c[2]);p&&(a[i].name=p[1]?(n=p[2],"undefined"!=typeof atob?atob(n):"base64:"+n):p[2])}a[i].lines.push(new l(o++,s))}return Object.keys(a).forEach((function(t){var e=a[t];e.lines.forEach((function(t){e.index[t.number]=t}))})),a}function m(t){t._commandRef=d()}function y(t,e){var r=p();n(t+" in command "+(e||d())+("unknown"===r?"":" called from "+r))}function g(t,e,n,r){i(t,e)||y("invalid parameter type"+o(n)+". expected "+e+", got "+a(t),r||d())}var b={};function _(t,e){return 32820===t||32819===t||33635===t?2:34042===t?4:b[t]*e}function x(t){return!(t&t-1||!t)}b[5120]=b[5121]=1,b[5122]=b[5123]=b[36193]=b[33635]=b[32819]=b[32820]=2,b[5124]=b[5125]=b[5126]=b[34042]=4;var w=e(r,{optional:function(t){t()},raise:n,commandRaise:y,command:function(t,e,n){t||y(e,n||d())},parameter:function(t,e,r){t in e||n("unknown parameter ("+t+")"+o(r)+". possible values: "+Object.keys(e).join())},commandParameter:function(t,e,n,r){t in e||y("unknown parameter ("+t+")"+o(n)+". possible values: "+Object.keys(e).join(),r||d())},constructor:function(t){Object.keys(t).forEach((function(t){s.indexOf(t)<0&&n('invalid regl constructor argument "'+t+'". must be one of '+s)}))},type:function(t,e,r){i(t,e)||n("invalid parameter type"+o(r)+". expected "+e+", got "+a(t))},commandType:g,isTypedArray:function(e,r){t(e)||n("invalid parameter type"+o(r)+". must be a typed array")},nni:function(t,e){t>=0&&(0|t)===t||n("invalid parameter type, ("+t+")"+o(e)+". must be a nonnegative integer")},oneOf:u,shaderError:function(t,e,n,o,i){if(!t.getShaderParameter(e,t.COMPILE_STATUS)){var a=t.getShaderInfoLog(e),u=o===t.FRAGMENT_SHADER?"fragment":"vertex";g(n,"string",u+" shader source must be a string",i);var s=v(n,i),f=function(t){var e=[];return t.split("\\n").forEach((function(t){if(!(t.length<5)){var n=/^ERROR:\\s+(\\d+):(\\d+):\\s*(.*)$/.exec(t);n?e.push(new h(0|n[1],0|n[2],n[3].trim())):t.length>0&&e.push(new h("unknown",0,t))}})),e}(a);!function(t,e){e.forEach((function(e){var n=t[e.file];if(n){var r=n.index[e.line];if(r)return r.errors.push(e),void(n.hasErrors=!0)}t.unknown.hasErrors=!0,t.unknown.lines[0].errors.push(e)}))}(s,f),Object.keys(s).forEach((function(t){var e=s[t];if(e.hasErrors){var n=[""],r=[""];o("file number "+t+": "+e.name+"\\n","color:red;text-decoration:underline;font-weight:bold"),e.lines.forEach((function(t){if(t.errors.length>0){o(c(t.number,4)+"|  ","background-color:yellow; font-weight:bold"),o(t.line+"\\n","color:red; background-color:yellow; font-weight:bold");var e=0;t.errors.forEach((function(n){var r=n.message,i=/^\\s*'(.*)'\\s*:\\s*(.*)$/.exec(r);if(i){var a=i[1];switch(r=i[2],a){case"assign":a="="}e=Math.max(t.line.indexOf(a,e),0)}else e=0;o(c("| ",6)),o(c("^^^",e+3)+"\\n","font-weight:bold"),o(c("| ",6)),o(r+"\\n","font-weight:bold")})),o(c("| ",6)+"\\n")}else o(c(t.number,4)+"|  "),o(t.line+"\\n","color:red")})),"undefined"==typeof document||window.chrome?console.log(n.join("")):(r[0]=n.join("%c"),console.log.apply(console,r))}function o(t,e){n.push(t),r.push(e||"")}})),r.raise("Error compiling "+u+" shader, "+s[0].name)}},linkError:function(t,e,n,o,i){if(!t.getProgramParameter(e,t.LINK_STATUS)){var a=t.getProgramInfoLog(e),u=v(n,i),s='Error linking program with vertex shader, "'+v(o,i)[0].name+'", and fragment shader "'+u[0].name+'"';"undefined"!=typeof document?console.log("%c"+s+"\\n%c"+a,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(s+"\\n"+a),r.raise(s)}},callSite:p,saveCommandRef:m,saveDrawInfo:function(t,e,n,r){function o(t){return t?r.id(t):0}function i(t,e){Object.keys(e).forEach((function(e){t[r.id(e)]=!0}))}m(t),t._fragId=o(t.static.frag),t._vertId=o(t.static.vert);var a=t._uniformSet={};i(a,e.static),i(a,e.dynamic);var u=t._attributeSet={};i(u,n.static),i(u,n.dynamic),t._hasCount="count"in t.static||"count"in t.dynamic||"elements"in t.static||"elements"in t.dynamic},framebufferFormat:function(t,e,n){t.texture?u(t.texture._texture.internalformat,e,"unsupported texture format for attachment"):u(t.renderbuffer._renderbuffer.format,n,"unsupported renderbuffer format for attachment")},guessCommand:d,texture2D:function(t,e,n){var o,i=e.width,a=e.height,u=e.channels;r(i>0&&i<=n.maxTextureSize&&a>0&&a<=n.maxTextureSize,"invalid texture shape"),33071===t.wrapS&&33071===t.wrapT||r(x(i)&&x(a),"incompatible wrap mode for texture, both width and height must be power of 2"),1===e.mipmask?1!==i&&1!==a&&r(9984!==t.minFilter&&9986!==t.minFilter&&9985!==t.minFilter&&9987!==t.minFilter,"min filter requires mipmap"):(r(x(i)&&x(a),"texture must be a square power of 2 to support mipmapping"),r(e.mipmask===(i<<1)-1,"missing or incomplete mipmap data")),5126===e.type&&(n.extensions.indexOf("oes_texture_float_linear")<0&&r(9728===t.minFilter&&9728===t.magFilter,"filter not supported, must enable oes_texture_float_linear"),r(!t.genMipmaps,"mipmap generation not supported with float textures"));var s=e.images;for(o=0;o<16;++o)if(s[o]){var c=i>>o,f=a>>o;r(e.mipmask&1<<o,"missing mipmap data");var l=s[o];if(r(l.width===c&&l.height===f,"invalid shape for mip images"),r(l.format===e.format&&l.internalformat===e.internalformat&&l.type===e.type,"incompatible type for mip image"),l.compressed);else if(l.data){var h=Math.ceil(_(l.type,u)*c/l.unpackAlignment)*l.unpackAlignment;r(l.data.byteLength===h*f,"invalid data for image, buffer size is inconsistent with image format")}else l.element||l.copy}else t.genMipmaps||r(0==(e.mipmask&1<<o),"extra mipmap data");e.compressed&&r(!t.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(t,e,n,o){var i=t.width,a=t.height,u=t.channels;r(i>0&&i<=o.maxTextureSize&&a>0&&a<=o.maxTextureSize,"invalid texture shape"),r(i===a,"cube map must be square"),r(33071===e.wrapS&&33071===e.wrapT,"wrap mode not supported by cube map");for(var s=0;s<n.length;++s){var c=n[s];r(c.width===i&&c.height===a,"inconsistent cube map face shape"),e.genMipmaps&&(r(!c.compressed,"can not generate mipmap for compressed textures"),r(1===c.mipmask,"can not specify mipmaps and generate mipmaps"));for(var f=c.images,l=0;l<16;++l){var h=f[l];if(h){var d=i>>l,p=a>>l;r(c.mipmask&1<<l,"missing mipmap data"),r(h.width===d&&h.height===p,"invalid shape for mip images"),r(h.format===t.format&&h.internalformat===t.internalformat&&h.type===t.type,"incompatible type for mip image"),h.compressed||(h.data?r(h.data.byteLength===d*p*Math.max(_(h.type,u),h.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):h.element||h.copy)}}}}}),E=0;function S(t,e){this.id=E++,this.type=t,this.data=e}function T(t){return t.replace(/\\\\/g,"\\\\\\\\").replace(/"/g,'\\\\"')}function A(t){return"["+function t(e){if(0===e.length)return[];var n=e.charAt(0),r=e.charAt(e.length-1);if(e.length>1&&n===r&&('"'===n||"'"===n))return['"'+T(e.substr(1,e.length-2))+'"'];var o=/\\[(false|true|null|\\d+|'[^']*'|"[^"]*")\\]/.exec(e);if(o)return t(e.substr(0,o.index)).concat(t(o[1])).concat(t(e.substr(o.index+o[0].length)));var i=e.split(".");if(1===i.length)return['"'+T(e)+'"'];for(var a=[],u=0;u<i.length;++u)a=a.concat(t(i[u]));return a}(t).join("][")+"]"}var I={DynamicVariable:S,define:function(t,e){return new S(t,A(e+""))},isDynamic:function(t){return"function"==typeof t&&!t._reglType||t instanceof S},unbox:function t(e,n){return"function"==typeof e?new S(0,e):"number"==typeof e||"boolean"==typeof e?new S(5,e):Array.isArray(e)?new S(6,e.map((function(e,r){return t(e,n+"["+r+"]")}))):e instanceof S?e:void w(!1,"invalid option type in uniform "+n)},accessor:A},k={next:"function"==typeof requestAnimationFrame?function(t){return requestAnimationFrame(t)}:function(t){return setTimeout(t,16)},cancel:"function"==typeof cancelAnimationFrame?function(t){return cancelAnimationFrame(t)}:clearTimeout},O="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function D(t){return"string"==typeof t?t.split():(w(Array.isArray(t),"invalid extension array"),t)}function R(t){return"string"==typeof t?(w("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(t)):t}function M(t){var n,r,o,i,u,s=t||{},c={},f=[],l=[],h="undefined"==typeof window?1:window.devicePixelRatio,d=!1,p=function(t){t&&w.raise(t)},v=function(){};if("string"==typeof s?(w("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),n=document.querySelector(s),w(n,"invalid query string for element")):"object"===a(s)?"string"==typeof(u=s).nodeName&&"function"==typeof u.appendChild&&"function"==typeof u.getBoundingClientRect?n=s:function(t){return"function"==typeof t.drawArrays||"function"==typeof t.drawElements}(s)?o=(i=s).canvas:(w.constructor(s),"gl"in s?i=s.gl:"canvas"in s?o=R(s.canvas):"container"in s&&(r=R(s.container)),"attributes"in s&&(c=s.attributes,w.type(c,"object","invalid context attributes")),"extensions"in s&&(f=D(s.extensions)),"optionalExtensions"in s&&(l=D(s.optionalExtensions)),"onDone"in s&&(w.type(s.onDone,"function","invalid or missing onDone callback"),p=s.onDone),"profile"in s&&(d=!!s.profile),"pixelRatio"in s&&(h=+s.pixelRatio,w(h>0,"invalid pixel ratio"))):w.raise("invalid arguments to regl"),n&&("canvas"===n.nodeName.toLowerCase()?o=n:r=n),!i){if(!o){w("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var m=function(t,n,r){var o,i=document.createElement("canvas");function a(){var n=window.innerWidth,o=window.innerHeight;if(t!==document.body){var a=t.getBoundingClientRect();n=a.right-a.left,o=a.bottom-a.top}i.width=r*n,i.height=r*o,e(i.style,{width:n+"px",height:o+"px"})}return e(i.style,{border:0,margin:0,padding:0,top:0,left:0}),t.appendChild(i),t===document.body&&(i.style.position="absolute",e(t.style,{margin:0,padding:0})),t!==document.body&&"function"==typeof ResizeObserver?(o=new ResizeObserver((function(){setTimeout(a)}))).observe(t):window.addEventListener("resize",a,!1),a(),{canvas:i,onDestroy:function(){o?o.disconnect():window.removeEventListener("resize",a),t.removeChild(i)}}}(r||document.body,0,h);if(!m)return null;o=m.canvas,v=m.onDestroy}void 0===c.premultipliedAlpha&&(c.premultipliedAlpha=!0),i=function(t,e){function n(n){try{return t.getContext(n,e)}catch(t){return null}}return n("webgl")||n("experimental-webgl")||n("webgl-experimental")}(o,c)}return i?{gl:i,canvas:o,container:r,extensions:f,optionalExtensions:l,pixelRatio:h,profile:d,onDone:p,onDestroy:v}:(v(),p("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function C(t,e){for(var n=Array(t),r=0;r<t;++r)n[r]=e(r);return n}function N(t){var e,n;return e=(t>65535)<<4,e|=n=((t>>>=e)>255)<<3,e|=n=((t>>>=n)>15)<<2,(e|=n=((t>>>=n)>3)<<1)|(t>>>=n)>>1}function P(){var t=C(8,(function(){return[]}));function e(e){var n=function(t){for(var e=16;e<=1<<28;e*=16)if(t<=e)return e;return 0}(e),r=t[N(n)>>2];return r.length>0?r.pop():new ArrayBuffer(n)}function n(e){t[N(e.byteLength)>>2].push(e)}return{alloc:e,free:n,allocType:function(t,n){var r=null;switch(t){case 5120:r=new Int8Array(e(n),0,n);break;case 5121:r=new Uint8Array(e(n),0,n);break;case 5122:r=new Int16Array(e(2*n),0,n);break;case 5123:r=new Uint16Array(e(2*n),0,n);break;case 5124:r=new Int32Array(e(4*n),0,n);break;case 5125:r=new Uint32Array(e(4*n),0,n);break;case 5126:r=new Float32Array(e(4*n),0,n);break;default:return null}return r.length!==n?r.subarray(0,n):r},freeType:function(t){n(t.buffer)}}}var G=P();function j(e){return!!e&&"object"===a(e)&&Array.isArray(e.shape)&&Array.isArray(e.stride)&&"number"==typeof e.offset&&e.shape.length===e.stride.length&&(Array.isArray(e.data)||t(e.data))}G.zero=P();var L=function(t){return Object.keys(t).map((function(e){return t[e]}))},U={shape:function(t){for(var e=[],n=t;n.length;n=n[0])e.push(n.length);return e},flatten:function(t,e,n,r){var o=1;if(e.length)for(var i=0;i<e.length;++i)o*=e[i];else o=0;var a=r||G.allocType(n,o);switch(e.length){case 0:break;case 1:!function(t,e,n){for(var r=0;r<e;++r)n[r]=t[r]}(t,e[0],a);break;case 2:!function(t,e,n,r){for(var o=0,i=0;i<e;++i)for(var a=t[i],u=0;u<n;++u)r[o++]=a[u]}(t,e[0],e[1],a);break;case 3:B(t,e[0],e[1],e[2],a,0);break;default:!function t(e,n,r,o,i){for(var a=1,u=r+1;u<n.length;++u)a*=n[u];var s=n[r];if(n.length-r==4){var c=n[r+1],f=n[r+2],l=n[r+3];for(u=0;u<s;++u)B(e[u],c,f,l,o,i),i+=a}else for(u=0;u<s;++u)t(e[u],n,r+1,o,i),i+=a}(t,e,0,a,0)}return a}};function B(t,e,n,r,o,i){for(var a=i,u=0;u<e;++u)for(var s=t[u],c=0;c<n;++c)for(var f=s[c],l=0;l<r;++l)o[a++]=f[l]}var F={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},z={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},V={dynamic:35048,stream:35040,static:35044},W=U.flatten,X=U.shape,H=[];function q(t){return 0|F[Object.prototype.toString.call(t)]}function Y(t,e){for(var n=0;n<e.length;++n)t[n]=e[n]}function K(t,e,n,r,o,i,a){for(var u=0,s=0;s<n;++s)for(var c=0;c<r;++c)t[u++]=e[o*s+i*c+a]}H[5120]=1,H[5122]=2,H[5124]=4,H[5121]=1,H[5123]=2,H[5125]=4,H[5126]=4;var Z={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Q=new Float32Array(1),J=new Uint32Array(Q.buffer);function $(t){for(var e=G.allocType(5123,t.length),n=0;n<t.length;++n)if(isNaN(t[n]))e[n]=65535;else if(t[n]===1/0)e[n]=31744;else if(t[n]===-1/0)e[n]=64512;else{Q[0]=t[n];var r=J[0],o=r>>>31<<15,i=(r<<1>>>24)-127,a=r>>13&1023;if(i<-24)e[n]=o;else if(i<-14){var u=-14-i;e[n]=o+(a+1024>>u)}else e[n]=i>15?o+31744:o+(i+15<<10)+a}return e}function tt(e){return Array.isArray(e)||t(e)}var et=function(t){return!(t&t-1||!t)},nt=[9984,9986,9985,9987],rt=[0,6409,6410,6407,6408],ot={};function it(t){return"[object "+t+"]"}ot[6409]=ot[6406]=ot[6402]=1,ot[34041]=ot[6410]=2,ot[6407]=ot[35904]=3,ot[6408]=ot[35906]=4;var at=it("HTMLCanvasElement"),ut=it("OffscreenCanvas"),st=it("CanvasRenderingContext2D"),ct=it("ImageBitmap"),ft=it("HTMLImageElement"),lt=it("HTMLVideoElement"),ht=Object.keys(F).concat([at,ut,st,ct,ft,lt]),dt=[];dt[5121]=1,dt[5126]=4,dt[36193]=2,dt[5123]=2,dt[5125]=4;var pt=[];function vt(t){return Array.isArray(t)&&(0===t.length||"number"==typeof t[0])}function mt(t){return!!Array.isArray(t)&&!(0===t.length||!tt(t[0]))}function yt(t){return Object.prototype.toString.call(t)}function gt(t){return yt(t)===at}function bt(t){return yt(t)===ut}function _t(t){if(!t)return!1;var e=yt(t);return ht.indexOf(e)>=0||vt(t)||mt(t)||j(t)}function xt(t){return 0|F[Object.prototype.toString.call(t)]}function wt(t,e){return G.allocType(36193===t.type?5126:t.type,e)}function Et(t,e){36193===t.type?(t.data=$(e),G.freeType(e)):t.data=e}function St(t,e,n,r,o,i){var a;if(a=void 0!==pt[t]?pt[t]:ot[t]*dt[e],i&&(a*=6),o){for(var u=0,s=n;s>=1;)u+=a*s*s,s/=2;return u}return a*n*r}function Tt(n,r,o,i,u,s,c){var f={"don't care":4352,"dont care":4352,nice:4354,fast:4353},l={repeat:10497,clamp:33071,mirror:33648},h={nearest:9728,linear:9729},d=e({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},h),p={none:0,browser:37444},v={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},m={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},y={};r.ext_srgb&&(m.srgb=35904,m.srgba=35906),r.oes_texture_float&&(v.float32=v.float=5126),r.oes_texture_half_float&&(v.float16=v["half float"]=36193),r.webgl_depth_texture&&(e(m,{depth:6402,"depth stencil":34041}),e(v,{uint16:5123,uint32:5125,"depth stencil":34042})),r.webgl_compressed_texture_s3tc&&e(y,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),r.webgl_compressed_texture_atc&&e(y,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),r.webgl_compressed_texture_pvrtc&&e(y,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),r.webgl_compressed_texture_etc1&&(y["rgb etc1"]=36196);var g=Array.prototype.slice.call(n.getParameter(34467));Object.keys(y).forEach((function(t){var e=y[t];g.indexOf(e)>=0&&(m[t]=e)}));var b=Object.keys(m);o.textureFormats=b;var _=[];Object.keys(m).forEach((function(t){var e=m[t];_[e]=t}));var x=[];Object.keys(v).forEach((function(t){var e=v[t];x[e]=t}));var E=[];Object.keys(h).forEach((function(t){E[h[t]]=t}));var S=[];Object.keys(d).forEach((function(t){var e=d[t];S[e]=t}));var T=[];Object.keys(l).forEach((function(t){T[l[t]]=t}));var A=b.reduce((function(t,e){var n=m[e];return 6409===n||6406===n||6409===n||6410===n||6402===n||34041===n||r.ext_srgb&&(35904===n||35906===n)?t[n]=n:32855===n||e.indexOf("rgba")>=0?t[n]=6408:t[n]=6407,t}),{});function I(){this.internalformat=6408,this.format=6408,this.type=5121,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=37444,this.width=0,this.height=0,this.channels=0}function k(t,e){t.internalformat=e.internalformat,t.format=e.format,t.type=e.type,t.compressed=e.compressed,t.premultiplyAlpha=e.premultiplyAlpha,t.flipY=e.flipY,t.unpackAlignment=e.unpackAlignment,t.colorSpace=e.colorSpace,t.width=e.width,t.height=e.height,t.channels=e.channels}function O(t,e){if("object"===a(e)&&e){if("premultiplyAlpha"in e&&(w.type(e.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),t.premultiplyAlpha=e.premultiplyAlpha),"flipY"in e&&(w.type(e.flipY,"boolean","invalid texture flip"),t.flipY=e.flipY),"alignment"in e&&(w.oneOf(e.alignment,[1,2,4,8],"invalid texture unpack alignment"),t.unpackAlignment=e.alignment),"colorSpace"in e&&(w.parameter(e.colorSpace,p,"invalid colorSpace"),t.colorSpace=p[e.colorSpace]),"type"in e){var n=e.type;w(r.oes_texture_float||!("float"===n||"float32"===n),"you must enable the OES_texture_float extension in order to use floating point textures."),w(r.oes_texture_half_float||!("half float"===n||"float16"===n),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),w(r.webgl_depth_texture||!("uint16"===n||"uint32"===n||"depth stencil"===n),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),w.parameter(n,v,"invalid texture type"),t.type=v[n]}var i=t.width,u=t.height,s=t.channels,c=!1;"shape"in e?(w(Array.isArray(e.shape)&&e.shape.length>=2,"shape must be an array"),i=e.shape[0],u=e.shape[1],3===e.shape.length&&(s=e.shape[2],w(s>0&&s<=4,"invalid number of channels"),c=!0),w(i>=0&&i<=o.maxTextureSize,"invalid width"),w(u>=0&&u<=o.maxTextureSize,"invalid height")):("radius"in e&&(i=u=e.radius,w(i>=0&&i<=o.maxTextureSize,"invalid radius")),"width"in e&&(i=e.width,w(i>=0&&i<=o.maxTextureSize,"invalid width")),"height"in e&&(u=e.height,w(u>=0&&u<=o.maxTextureSize,"invalid height")),"channels"in e&&(s=e.channels,w(s>0&&s<=4,"invalid number of channels"),c=!0)),t.width=0|i,t.height=0|u,t.channels=0|s;var f=!1;if("format"in e){var l=e.format;w(r.webgl_depth_texture||!("depth"===l||"depth stencil"===l),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),w.parameter(l,m,"invalid texture format");var h=t.internalformat=m[l];t.format=A[h],l in v&&("type"in e||(t.type=v[l])),l in y&&(t.compressed=!0),f=!0}!c&&f?t.channels=ot[t.format]:c&&!f?t.channels!==rt[t.format]&&(t.format=t.internalformat=rt[t.channels]):f&&c&&w(t.channels===ot[t.format],"number of channels inconsistent with specified format")}}function D(t){n.pixelStorei(37440,t.flipY),n.pixelStorei(37441,t.premultiplyAlpha),n.pixelStorei(37443,t.colorSpace),n.pixelStorei(3317,t.unpackAlignment)}function R(){I.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function M(e,n){var r=null;if(_t(n)?r=n:n&&(w.type(n,"object","invalid pixel data type"),O(e,n),"x"in n&&(e.xOffset=0|n.x),"y"in n&&(e.yOffset=0|n.y),_t(n.data)&&(r=n.data)),w(!e.compressed||r instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),n.copy){w(!r,"can not specify copy and data field for the same texture");var i=u.viewportWidth,a=u.viewportHeight;e.width=e.width||i-e.xOffset,e.height=e.height||a-e.yOffset,e.needsCopy=!0,w(e.xOffset>=0&&e.xOffset<i&&e.yOffset>=0&&e.yOffset<a&&e.width>0&&e.width<=i&&e.height>0&&e.height<=a,"copy texture read out of bounds")}else if(r){if(t(r))e.channels=e.channels||4,e.data=r,"type"in n||5121!==e.type||(e.type=xt(r));else if(vt(r))e.channels=e.channels||4,function(t,e){var n=e.length;switch(t.type){case 5121:case 5123:case 5125:case 5126:var r=G.allocType(t.type,n);r.set(e),t.data=r;break;case 36193:t.data=$(e);break;default:w.raise("unsupported texture type, must specify a typed array")}}(e,r),e.alignment=1,e.needsFree=!0;else if(j(r)){var s=r.data;Array.isArray(s)||5121!==e.type||(e.type=xt(s));var c,f,l,h,d,p,v=r.shape,m=r.stride;3===v.length?(l=v[2],p=m[2]):(w(2===v.length,"invalid ndarray pixel data, must be 2 or 3D"),l=1,p=1),c=v[0],f=v[1],h=m[0],d=m[1],e.alignment=1,e.width=c,e.height=f,e.channels=l,e.format=e.internalformat=rt[l],e.needsFree=!0,function(t,e,n,r,o,i){for(var a=t.width,u=t.height,s=t.channels,c=wt(t,a*u*s),f=0,l=0;l<u;++l)for(var h=0;h<a;++h)for(var d=0;d<s;++d)c[f++]=e[n*h+r*l+o*d+i];Et(t,c)}(e,s,h,d,p,r.offset)}else if(gt(r)||bt(r)||yt(r)===st)gt(r)||bt(r)?e.element=r:e.element=r.canvas,e.width=e.element.width,e.height=e.element.height,e.channels=4;else if(function(t){return yt(t)===ct}(r))e.element=r,e.width=r.width,e.height=r.height,e.channels=4;else if(function(t){return yt(t)===ft}(r))e.element=r,e.width=r.naturalWidth,e.height=r.naturalHeight,e.channels=4;else if(function(t){return yt(t)===lt}(r))e.element=r,e.width=r.videoWidth,e.height=r.videoHeight,e.channels=4;else if(mt(r)){var y=e.width||r[0].length,g=e.height||r.length,b=e.channels;b=tt(r[0][0])?b||r[0][0].length:b||1;for(var _=U.shape(r),x=1,E=0;E<_.length;++E)x*=_[E];var S=wt(e,x);U.flatten(r,_,"",S),Et(e,S),e.alignment=1,e.width=y,e.height=g,e.channels=b,e.format=e.internalformat=rt[b],e.needsFree=!0}}else e.width=e.width||1,e.height=e.height||1,e.channels=e.channels||4;5126===e.type?w(o.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):36193===e.type&&w(o.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function C(t,e,r){var o=t.element,a=t.data,u=t.internalformat,s=t.format,c=t.type,f=t.width,l=t.height;D(t),o?n.texImage2D(e,r,s,s,c,o):t.compressed?n.compressedTexImage2D(e,r,u,f,l,0,a):t.needsCopy?(i(),n.copyTexImage2D(e,r,s,t.xOffset,t.yOffset,f,l,0)):n.texImage2D(e,r,s,f,l,0,s,c,a||null)}function N(t,e,r,o,a){var u=t.element,s=t.data,c=t.internalformat,f=t.format,l=t.type,h=t.width,d=t.height;D(t),u?n.texSubImage2D(e,a,r,o,f,l,u):t.compressed?n.compressedTexSubImage2D(e,a,r,o,c,h,d,s):t.needsCopy?(i(),n.copyTexSubImage2D(e,a,r,o,t.xOffset,t.yOffset,h,d)):n.texSubImage2D(e,a,r,o,h,d,f,l,s)}var P=[];function B(){return P.pop()||new R}function F(t){t.needsFree&&G.freeType(t.data),R.call(t),P.push(t)}function z(){I.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function V(t,e,n){var r=t.images[0]=B();t.mipmask=1,r.width=t.width=e,r.height=t.height=n,r.channels=t.channels=4}function W(t,e){var n=null;if(_t(e))k(n=t.images[0]=B(),t),M(n,e),t.mipmask=1;else if(O(t,e),Array.isArray(e.mipmap))for(var r=e.mipmap,o=0;o<r.length;++o)k(n=t.images[o]=B(),t),n.width>>=o,n.height>>=o,M(n,r[o]),t.mipmask|=1<<o;else k(n=t.images[0]=B(),t),M(n,e),t.mipmask=1;k(t,t.images[0]),!t.compressed||33776!==t.internalformat&&33777!==t.internalformat&&33778!==t.internalformat&&33779!==t.internalformat||w(t.width%4==0&&t.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function X(t,e){for(var n=t.images,r=0;r<n.length;++r){if(!n[r])return;C(n[r],e,r)}}var H=[];function q(){var t=H.pop()||new z;I.call(t),t.mipmask=0;for(var e=0;e<16;++e)t.images[e]=null;return t}function Y(t){for(var e=t.images,n=0;n<e.length;++n)e[n]&&F(e[n]),e[n]=null;H.push(t)}function K(){this.minFilter=9728,this.magFilter=9728,this.wrapS=33071,this.wrapT=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function Z(t,e){if("min"in e){var n=e.min;w.parameter(n,d),t.minFilter=d[n],nt.indexOf(t.minFilter)>=0&&!("faces"in e)&&(t.genMipmaps=!0)}if("mag"in e){var r=e.mag;w.parameter(r,h),t.magFilter=h[r]}var i=t.wrapS,u=t.wrapT;if("wrap"in e){var s=e.wrap;"string"==typeof s?(w.parameter(s,l),i=u=l[s]):Array.isArray(s)&&(w.parameter(s[0],l),w.parameter(s[1],l),i=l[s[0]],u=l[s[1]])}else{if("wrapS"in e){var c=e.wrapS;w.parameter(c,l),i=l[c]}if("wrapT"in e){var p=e.wrapT;w.parameter(p,l),u=l[p]}}if(t.wrapS=i,t.wrapT=u,"anisotropic"in e){var v=e.anisotropic;w("number"==typeof v&&v>=1&&v<=o.maxAnisotropic,"aniso samples must be between 1 and "),t.anisotropic=e.anisotropic}if("mipmap"in e){var m=!1;switch(a(e.mipmap)){case"string":w.parameter(e.mipmap,f,"invalid mipmap hint"),t.mipmapHint=f[e.mipmap],t.genMipmaps=!0,m=!0;break;case"boolean":m=t.genMipmaps=e.mipmap;break;case"object":w(Array.isArray(e.mipmap),"invalid mipmap type"),t.genMipmaps=!1,m=!0;break;default:w.raise("invalid mipmap type")}m&&!("min"in e)&&(t.minFilter=9984)}}function Q(t,e){n.texParameteri(e,10241,t.minFilter),n.texParameteri(e,10240,t.magFilter),n.texParameteri(e,10242,t.wrapS),n.texParameteri(e,10243,t.wrapT),r.ext_texture_filter_anisotropic&&n.texParameteri(e,34046,t.anisotropic),t.genMipmaps&&(n.hint(33170,t.mipmapHint),n.generateMipmap(e))}var J=0,it={},at=o.maxTextureUnits,ut=Array(at).map((function(){return null}));function ht(t){I.call(this),this.mipmask=0,this.internalformat=6408,this.id=J++,this.refCount=1,this.target=t,this.texture=n.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new K,c.profile&&(this.stats={size:0})}function dt(t){n.activeTexture(33984),n.bindTexture(t.target,t.texture)}function pt(){var t=ut[0];t?n.bindTexture(t.target,t.texture):n.bindTexture(3553,null)}function Tt(t){var e=t.texture;w(e,"must not double destroy texture");var r=t.unit,o=t.target;r>=0&&(n.activeTexture(33984+r),n.bindTexture(o,null),ut[r]=null),n.deleteTexture(e),t.texture=null,t.params=null,t.pixels=null,t.refCount=0,delete it[t.id],s.textureCount--}return e(ht.prototype,{bind:function(){this.bindCount+=1;var t=this.unit;if(t<0){for(var e=0;e<at;++e){var r=ut[e];if(r){if(r.bindCount>0)continue;r.unit=-1}ut[e]=this,t=e;break}t>=at&&w.raise("insufficient number of texture units"),c.profile&&s.maxTextureUnits<t+1&&(s.maxTextureUnits=t+1),this.unit=t,n.activeTexture(33984+t),n.bindTexture(this.target,this.texture)}return t},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Tt(this)}}),c.profile&&(s.getTotalTextureSize=function(){var t=0;return Object.keys(it).forEach((function(e){t+=it[e].stats.size})),t}),{create2D:function(t,e){var r=new ht(3553);function i(t,e){var n=r.texInfo;K.call(n);var a=q();return"number"==typeof t?V(a,0|t,"number"==typeof e?0|e:0|t):t?(w.type(t,"object","invalid arguments to regl.texture"),Z(n,t),W(a,t)):V(a,1,1),n.genMipmaps&&(a.mipmask=(a.width<<1)-1),r.mipmask=a.mipmask,k(r,a),w.texture2D(n,a,o),r.internalformat=a.internalformat,i.width=a.width,i.height=a.height,dt(r),X(a,3553),Q(n,3553),pt(),Y(a),c.profile&&(r.stats.size=St(r.internalformat,r.type,a.width,a.height,n.genMipmaps,!1)),i.format=_[r.internalformat],i.type=x[r.type],i.mag=E[n.magFilter],i.min=S[n.minFilter],i.wrapS=T[n.wrapS],i.wrapT=T[n.wrapT],i}return it[r.id]=r,s.textureCount++,i(t,e),i.subimage=function(t,e,n,o){w(!!t,"must specify image data");var a=0|e,u=0|n,s=0|o,c=B();return k(c,r),c.width=0,c.height=0,M(c,t),c.width=c.width||(r.width>>s)-a,c.height=c.height||(r.height>>s)-u,w(r.type===c.type&&r.format===c.format&&r.internalformat===c.internalformat,"incompatible format for texture.subimage"),w(a>=0&&u>=0&&a+c.width<=r.width&&u+c.height<=r.height,"texture.subimage write out of bounds"),w(r.mipmask&1<<s,"missing mipmap data"),w(c.data||c.element||c.needsCopy,"missing image data"),dt(r),N(c,3553,a,u,s),pt(),F(c),i},i.resize=function(t,e){var o=0|t,a=0|e||o;if(o===r.width&&a===r.height)return i;i.width=r.width=o,i.height=r.height=a,dt(r);for(var u=0;r.mipmask>>u;++u){var s=o>>u,f=a>>u;if(!s||!f)break;n.texImage2D(3553,u,r.format,s,f,0,r.format,r.type,null)}return pt(),c.profile&&(r.stats.size=St(r.internalformat,r.type,o,a,!1,!1)),i},i._reglType="texture2d",i._texture=r,c.profile&&(i.stats=r.stats),i.destroy=function(){r.decRef()},i},createCube:function(t,e,r,i,u,f){var l=new ht(34067);it[l.id]=l,s.cubeCount++;var h=new Array(6);function d(t,e,n,r,i,u){var s,f=l.texInfo;for(K.call(f),s=0;s<6;++s)h[s]=q();if("number"!=typeof t&&t)if("object"===a(t))if(e)W(h[0],t),W(h[1],e),W(h[2],n),W(h[3],r),W(h[4],i),W(h[5],u);else if(Z(f,t),O(l,t),"faces"in t){var p=t.faces;for(w(Array.isArray(p)&&6===p.length,"cube faces must be a length 6 array"),s=0;s<6;++s)w("object"===a(p[s])&&!!p[s],"invalid input for cube map face"),k(h[s],l),W(h[s],p[s])}else for(s=0;s<6;++s)W(h[s],t);else w.raise("invalid arguments to cube map");else{var v=0|t||1;for(s=0;s<6;++s)V(h[s],v,v)}for(k(l,h[0]),o.npotTextureCube||w(et(l.width)&&et(l.height),"your browser does not support non power or two texture dimensions"),f.genMipmaps?l.mipmask=(h[0].width<<1)-1:l.mipmask=h[0].mipmask,w.textureCube(l,f,h,o),l.internalformat=h[0].internalformat,d.width=h[0].width,d.height=h[0].height,dt(l),s=0;s<6;++s)X(h[s],34069+s);for(Q(f,34067),pt(),c.profile&&(l.stats.size=St(l.internalformat,l.type,d.width,d.height,f.genMipmaps,!0)),d.format=_[l.internalformat],d.type=x[l.type],d.mag=E[f.magFilter],d.min=S[f.minFilter],d.wrapS=T[f.wrapS],d.wrapT=T[f.wrapT],s=0;s<6;++s)Y(h[s]);return d}return d(t,e,r,i,u,f),d.subimage=function(t,e,n,r,o){w(!!e,"must specify image data"),w("number"==typeof t&&t===(0|t)&&t>=0&&t<6,"invalid face");var i=0|n,a=0|r,u=0|o,s=B();return k(s,l),s.width=0,s.height=0,M(s,e),s.width=s.width||(l.width>>u)-i,s.height=s.height||(l.height>>u)-a,w(l.type===s.type&&l.format===s.format&&l.internalformat===s.internalformat,"incompatible format for texture.subimage"),w(i>=0&&a>=0&&i+s.width<=l.width&&a+s.height<=l.height,"texture.subimage write out of bounds"),w(l.mipmask&1<<u,"missing mipmap data"),w(s.data||s.element||s.needsCopy,"missing image data"),dt(l),N(s,34069+t,i,a,u),pt(),F(s),d},d.resize=function(t){var e=0|t;if(e!==l.width){d.width=l.width=e,d.height=l.height=e,dt(l);for(var r=0;r<6;++r)for(var o=0;l.mipmask>>o;++o)n.texImage2D(34069+r,o,l.format,e>>o,e>>o,0,l.format,l.type,null);return pt(),c.profile&&(l.stats.size=St(l.internalformat,l.type,d.width,d.height,!1,!0)),d}},d._reglType="textureCube",d._texture=l,c.profile&&(d.stats=l.stats),d.destroy=function(){l.decRef()},d},clear:function(){for(var t=0;t<at;++t)n.activeTexture(33984+t),n.bindTexture(3553,null),ut[t]=null;L(it).forEach(Tt),s.cubeCount=0,s.textureCount=0},getTexture:function(t){return null},restore:function(){for(var t=0;t<at;++t){var e=ut[t];e&&(e.bindCount=0,e.unit=-1,ut[t]=null)}L(it).forEach((function(t){t.texture=n.createTexture(),n.bindTexture(t.target,t.texture);for(var e=0;e<32;++e)if(0!=(t.mipmask&1<<e))if(3553===t.target)n.texImage2D(3553,e,t.internalformat,t.width>>e,t.height>>e,0,t.internalformat,t.type,null);else for(var r=0;r<6;++r)n.texImage2D(34069+r,e,t.internalformat,t.width>>e,t.height>>e,0,t.internalformat,t.type,null);Q(t.texInfo,t.target)}))},refresh:function(){for(var t=0;t<at;++t){var e=ut[t];e&&(e.bindCount=0,e.unit=-1,ut[t]=null),n.activeTexture(33984+t),n.bindTexture(3553,null),n.bindTexture(34067,null)}}}}pt[32854]=2,pt[32855]=2,pt[36194]=2,pt[34041]=4,pt[33776]=.5,pt[33777]=.5,pt[33778]=1,pt[33779]=1,pt[35986]=.5,pt[35987]=1,pt[34798]=1,pt[35840]=.5,pt[35841]=.25,pt[35842]=.5,pt[35843]=.25,pt[36196]=.5;var At=[];function It(t,e,n){return At[t]*e*n}At[32854]=2,At[32855]=2,At[36194]=2,At[33189]=2,At[36168]=1,At[34041]=4,At[35907]=4,At[34836]=16,At[34842]=8,At[34843]=6;var kt=[6407,6408],Ot=[];Ot[6408]=4,Ot[6407]=3;var Dt=[];Dt[5121]=1,Dt[5126]=4,Dt[36193]=2;var Rt=[32854,32855,36194,35907,34842,34843,34836],Mt={};function Ct(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.offset=0,this.stride=0,this.divisor=0}function Nt(e,n,r,o,i,a,u){function s(s){var c;null===n.next?(w(i.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),c=5121):(w(null!==n.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),c=n.next.colorAttachments[0].texture._texture.type,a.oes_texture_float?(w(5121===c||5126===c,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),5126===c&&w(u.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):w(5121===c,"Reading from a framebuffer is only allowed for the type 'uint8'"));var f=0,l=0,h=o.framebufferWidth,d=o.framebufferHeight,p=null;t(s)?p=s:s&&(w.type(s,"object","invalid arguments to regl.read()"),f=0|s.x,l=0|s.y,w(f>=0&&f<o.framebufferWidth,"invalid x offset for regl.read"),w(l>=0&&l<o.framebufferHeight,"invalid y offset for regl.read"),h=0|(s.width||o.framebufferWidth-f),d=0|(s.height||o.framebufferHeight-l),p=s.data||null),p&&(5121===c?w(p instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):5126===c&&w(p instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),w(h>0&&h+f<=o.framebufferWidth,"invalid width for read pixels"),w(d>0&&d+l<=o.framebufferHeight,"invalid height for read pixels"),r();var v=h*d*4;return p||(5121===c?p=new Uint8Array(v):5126===c&&(p=p||new Float32Array(v))),w.isTypedArray(p,"data buffer for regl.read() must be a typedarray"),w(p.byteLength>=v,"data buffer for regl.read() too small"),e.pixelStorei(3333,4),e.readPixels(f,l,h,d,6408,c,p),p}return function(t){return t&&"framebuffer"in t?function(t){var e;return n.setFBO({framebuffer:t.framebuffer},(function(){e=s(t)})),e}(t):s(t)}}function Pt(t){return Array.prototype.slice.call(t)}function Gt(t){return Pt(t).join("")}Mt[36053]="complete",Mt[36054]="incomplete attachment",Mt[36057]="incomplete dimensions",Mt[36055]="incomplete, missing attachment",Mt[36061]="unsupported";var jt="xyzw".split(""),Lt="profile",Ut="framebuffer",Bt="vert",Ft="frag",zt="elements",Vt="primitive",Wt="count",Xt="offset",Ht="instances",qt="vao",Yt=Ut+"Width",Kt=Ut+"Height",Zt=["blend.func","blend.equation","stencil.func","stencil.opFront","stencil.opBack","sample.coverage","viewport","scissor.box","polygonOffset.offset"],Qt={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Jt=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],$t={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},te={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},ee={frag:35632,vert:35633},ne={cw:2304,ccw:2305};function re(e){return Array.isArray(e)||t(e)||j(e)}function oe(t){return t.sort((function(t,e){return"viewport"===t?-1:"viewport"===e?1:t<e?-1:1}))}function ie(t,e,n,r){this.thisDep=t,this.contextDep=e,this.propDep=n,this.append=r}function ae(t){return t&&!(t.thisDep||t.contextDep||t.propDep)}function ue(t){return new ie(!1,!1,!1,t)}function se(t,e){var n=t.type;if(0===n){var r=t.data.length;return new ie(!0,r>=1,r>=2,e)}if(4===n){var o=t.data;return new ie(o.thisDep,o.contextDep,o.propDep,e)}if(5===n)return new ie(!1,!1,!1,e);if(6===n){for(var i=!1,a=!1,u=!1,s=0;s<t.data.length;++s){var c=t.data[s];if(1===c.type)u=!0;else if(2===c.type)a=!0;else if(3===c.type)i=!0;else if(0===c.type){i=!0;var f=c.data;f>=1&&(a=!0),f>=2&&(u=!0)}else 4===c.type&&(i=i||c.data.thisDep,a=a||c.data.contextDep,u=u||c.data.propDep)}return new ie(i,a,u,e)}return new ie(3===n,2===n,1===n,e)}var ce=new ie(!1,!1,!1,(function(){}));function fe(t,n,r,o,i,u,s,c,f,l,h,d,p,v,m){var y=l.Record,g={add:32774,subtract:32778,"reverse subtract":32779};r.ext_blend_minmax&&(g.min=32775,g.max=32776);var b=r.angle_instanced_arrays,_=r.webgl_draw_buffers,x={dirty:!0,profile:m.profile},E={},S=[],T={},A={};function k(t){return t.replace(".","_")}function O(t,e,n){var r=k(t);S.push(t),E[r]=x[r]=!!n,T[r]=e}function D(t,e,n){var r=k(t);S.push(t),Array.isArray(n)?(x[r]=n.slice(),E[r]=n.slice()):x[r]=E[r]=n,A[r]=e}O("dither",3024),O("blend.enable",3042),D("blend.color","blendColor",[0,0,0,0]),D("blend.equation","blendEquationSeparate",[32774,32774]),D("blend.func","blendFuncSeparate",[1,0,1,0]),O("depth.enable",2929,!0),D("depth.func","depthFunc",513),D("depth.range","depthRange",[0,1]),D("depth.mask","depthMask",!0),D("colorMask","colorMask",[!0,!0,!0,!0]),O("cull.enable",2884),D("cull.face","cullFace",1029),D("frontFace","frontFace",2305),D("lineWidth","lineWidth",1),O("polygonOffset.enable",32823),D("polygonOffset.offset","polygonOffset",[0,0]),O("sample.alpha",32926),O("sample.enable",32928),D("sample.coverage","sampleCoverage",[1,!1]),O("stencil.enable",2960),D("stencil.mask","stencilMask",-1),D("stencil.func","stencilFunc",[519,0,-1]),D("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),D("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),O("scissor.enable",3089),D("scissor.box","scissor",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]),D("viewport","viewport",[0,0,t.drawingBufferWidth,t.drawingBufferHeight]);var R={gl:t,context:p,strings:n,next:E,current:x,draw:d,elements:u,buffer:i,shader:h,attributes:l.state,vao:l,uniforms:f,framebuffer:c,extensions:r,timer:v,isBufferArgs:re},M={primTypes:Z,compareFuncs:$t,blendFuncs:Qt,blendEquations:g,stencilOps:te,glTypes:z,orientationType:ne};w.optional((function(){R.isArrayLike=tt})),_&&(M.backBuffer=[1029],M.drawBuffer=C(o.maxDrawbuffers,(function(t){return 0===t?[0]:C(t,(function(t){return 36064+t}))})));var N=0;function P(){var t=function(){var t=0,n=[],r=[];function o(){var n=[],r=[];return e((function(){n.push.apply(n,Pt(arguments))}),{def:function(){var e="v"+t++;return r.push(e),arguments.length>0&&(n.push(e,"="),n.push.apply(n,Pt(arguments)),n.push(";")),e},toString:function(){return Gt([r.length>0?"var "+r.join(",")+";":"",Gt(n)])}})}function i(){var t=o(),n=o(),r=t.toString,i=n.toString;function a(e,r){n(e,r,"=",t.def(e,r),";")}return e((function(){t.apply(t,Pt(arguments))}),{def:t.def,entry:t,exit:n,save:a,set:function(e,n,r){a(e,n),t(e,n,"=",r,";")},toString:function(){return r()+i()}})}var a=o(),u={};return{global:a,link:function(e){for(var o=0;o<r.length;++o)if(r[o]===e)return n[o];var i="g"+t++;return n.push(i),r.push(e),i},block:o,proc:function(t,n){var r=[];function o(){var t="a"+r.length;return r.push(t),t}n=n||0;for(var a=0;a<n;++a)o();var s=i(),c=s.toString;return u[t]=e(s,{arg:o,toString:function(){return Gt(["function(",r.join(),"){",c(),"}"])}})},scope:i,cond:function(){var t=Gt(arguments),n=i(),r=i(),o=n.toString,a=r.toString;return e(n,{then:function(){return n.apply(n,Pt(arguments)),this},else:function(){return r.apply(r,Pt(arguments)),this},toString:function(){var e=a();return e&&(e="else{"+e+"}"),Gt(["if(",t,"){",o(),"}",e])}})},compile:function(){var t=['"use strict";',a,"return {"];Object.keys(u).forEach((function(e){t.push('"',e,'":',u[e].toString(),",")})),t.push("}");var e=Gt(t).replace(/;/g,";\\n").replace(/}/g,"}\\n").replace(/{/g,"{\\n");return Function.apply(null,n.concat(e)).apply(null,r)}}}(),r=t.link,o=t.global;t.id=N++,t.batchId="0";var i=r(R),a=t.shared={props:"a0"};Object.keys(R).forEach((function(t){a[t]=o.def(i,".",t)})),w.optional((function(){t.CHECK=r(w),t.commandStr=w.guessCommand(),t.command=r(t.commandStr),t.assert=function(t,e,n){t("if(!(",e,"))",this.CHECK,".commandRaise(",r(n),",",this.command,");")},M.invalidBlendCombinations=Jt}));var u=t.next={},s=t.current={};Object.keys(A).forEach((function(t){Array.isArray(x[t])&&(u[t]=o.def(a.next,".",t),s[t]=o.def(a.current,".",t))}));var c=t.constants={};Object.keys(M).forEach((function(t){c[t]=o.def(JSON.stringify(M[t]))})),t.invoke=function(e,n){switch(n.type){case 0:var o=["this",a.context,a.props,t.batchId];return e.def(r(n.data),".call(",o.slice(0,Math.max(n.data.length+1,4)),")");case 1:return e.def(a.props,n.data);case 2:return e.def(a.context,n.data);case 3:return e.def("this",n.data);case 4:return n.data.append(t,e),n.data.ref;case 5:return n.data.toString();case 6:return n.data.map((function(n){return t.invoke(e,n)}))}},t.attribCache={};var f={};return t.scopeAttrib=function(t){var e=n.id(t);if(e in f)return f[e];var o=l.scope[e];return o||(o=l.scope[e]=new y),f[e]=r(o)},t}function G(t,e,s,f,d){var p=t.static,v=t.dynamic;w.optional((function(){var t=[Ut,Bt,Ft,zt,Vt,Xt,Wt,Ht,Lt,qt].concat(S);function e(e){Object.keys(e).forEach((function(e){w.command(t.indexOf(e)>=0,'unknown parameter "'+e+'"',d.commandStr)}))}e(p),e(v)}));var m=function(t,e){var n=t.static;if("string"==typeof n[Ft]&&"string"==typeof n[Bt]){if(Object.keys(e.dynamic).length>0)return null;var r=e.static,o=Object.keys(r);if(o.length>0&&"number"==typeof r[o[0]]){for(var i=[],a=0;a<o.length;++a)w("number"==typeof r[o[a]],"must specify all vertex attribute locations when using vaos"),i.push([0|r[o[a]],o[a]]);return i}}return null}(t,e),_=function(t,e){var n=t.static,r=t.dynamic;if(Ut in n){var o=n[Ut];return o?(o=c.getFramebuffer(o),w.command(o,"invalid framebuffer object"),ue((function(t,e){var n=t.link(o),r=t.shared;e.set(r.framebuffer,".next",n);var i=r.context;return e.set(i,"."+Yt,n+".width"),e.set(i,"."+Kt,n+".height"),n}))):ue((function(t,e){var n=t.shared;e.set(n.framebuffer,".next","null");var r=n.context;return e.set(r,"."+Yt,r+".drawingBufferWidth"),e.set(r,"."+Kt,r+".drawingBufferHeight"),"null"}))}if(Ut in r){var i=r[Ut];return se(i,(function(t,e){var n=t.invoke(e,i),r=t.shared,o=r.framebuffer,a=e.def(o,".getFramebuffer(",n,")");w.optional((function(){t.assert(e,"!"+n+"||"+a,"invalid framebuffer object")})),e.set(o,".next",a);var u=r.context;return e.set(u,"."+Yt,a+"?"+a+".width:"+u+".drawingBufferWidth"),e.set(u,"."+Kt,a+"?"+a+".height:"+u+".drawingBufferHeight"),a}))}return null}(t),x=function(t,e,n){var r=t.static,o=t.dynamic;function i(t){if(t in r){var i=r[t];w.commandType(i,"object","invalid "+t,n.commandStr);var a,u,s=!0,c=0|i.x,f=0|i.y;return"width"in i?(a=0|i.width,w.command(a>=0,"invalid "+t,n.commandStr)):s=!1,"height"in i?(u=0|i.height,w.command(u>=0,"invalid "+t,n.commandStr)):s=!1,new ie(!s&&e&&e.thisDep,!s&&e&&e.contextDep,!s&&e&&e.propDep,(function(t,e){var n=t.shared.context,r=a;"width"in i||(r=e.def(n,".",Yt,"-",c));var o=u;return"height"in i||(o=e.def(n,".",Kt,"-",f)),[c,f,r,o]}))}if(t in o){var l=o[t],h=se(l,(function(e,n){var r=e.invoke(n,l);w.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)}));var o=e.shared.context,i=n.def(r,".x|0"),a=n.def(r,".y|0"),u=n.def('"width" in ',r,"?",r,".width|0:","(",o,".",Yt,"-",i,")"),s=n.def('"height" in ',r,"?",r,".height|0:","(",o,".",Kt,"-",a,")");return w.optional((function(){e.assert(n,u+">=0&&"+s+">=0","invalid "+t)})),[i,a,u,s]}));return e&&(h.thisDep=h.thisDep||e.thisDep,h.contextDep=h.contextDep||e.contextDep,h.propDep=h.propDep||e.propDep),h}return e?new ie(e.thisDep,e.contextDep,e.propDep,(function(t,e){var n=t.shared.context;return[0,0,e.def(n,".",Yt),e.def(n,".",Kt)]})):null}var a=i("viewport");if(a){var u=a;a=new ie(a.thisDep,a.contextDep,a.propDep,(function(t,e){var n=u.append(t,e),r=t.shared.context;return e.set(r,".viewportWidth",n[2]),e.set(r,".viewportHeight",n[3]),n}))}return{viewport:a,scissor_box:i("scissor.box")}}(t,_,d),E=function(t,e){var n=t.static,r=t.dynamic,o=function(){if(zt in n){var t=n[zt];re(t)?t=u.getElements(u.create(t,!0)):t&&(t=u.getElements(t),w.command(t,"invalid elements",e.commandStr));var o=ue((function(e,n){if(t){var r=e.link(t);return e.ELEMENTS=r,r}return e.ELEMENTS=null,null}));return o.value=t,o}if(zt in r){var i=r[zt];return se(i,(function(t,e){var n=t.shared,r=n.isBufferArgs,o=n.elements,a=t.invoke(e,i),u=e.def("null"),s=e.def(r,"(",a,")"),c=t.cond(s).then(u,"=",o,".createStream(",a,");").else(u,"=",o,".getElements(",a,");");return w.optional((function(){t.assert(c.else,"!"+a+"||"+u,"invalid elements")})),e.entry(c),e.exit(t.cond(s).then(o,".destroyStream(",u,");")),t.ELEMENTS=u,u}))}return null}();function i(t,i){if(t in n){var a=0|n[t];return w.command(!i||a>=0,"invalid "+t,e.commandStr),ue((function(t,e){return i&&(t.OFFSET=a),a}))}if(t in r){var u=r[t];return se(u,(function(e,n){var r=e.invoke(n,u);return i&&(e.OFFSET=r,w.optional((function(){e.assert(n,r+">=0","invalid "+t)}))),r}))}return i&&o?ue((function(t,e){return t.OFFSET="0",0})):null}var a=i(Xt,!0);return{elements:o,primitive:function(){if(Vt in n){var t=n[Vt];return w.commandParameter(t,Z,"invalid primitve",e.commandStr),ue((function(e,n){return Z[t]}))}if(Vt in r){var i=r[Vt];return se(i,(function(t,e){var n=t.constants.primTypes,r=t.invoke(e,i);return w.optional((function(){t.assert(e,r+" in "+n,"invalid primitive, must be one of "+Object.keys(Z))})),e.def(n,"[",r,"]")}))}return o?ae(o)?o.value?ue((function(t,e){return e.def(t.ELEMENTS,".primType")})):ue((function(){return 4})):new ie(o.thisDep,o.contextDep,o.propDep,(function(t,e){var n=t.ELEMENTS;return e.def(n,"?",n,".primType:",4)})):null}(),count:function(){if(Wt in n){var t=0|n[Wt];return w.command("number"==typeof t&&t>=0,"invalid vertex count",e.commandStr),ue((function(){return t}))}if(Wt in r){var i=r[Wt];return se(i,(function(t,e){var n=t.invoke(e,i);return w.optional((function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">=0&&"+n+"===("+n+"|0)","invalid vertex count")})),n}))}if(o){if(ae(o)){if(o)return a?new ie(a.thisDep,a.contextDep,a.propDep,(function(t,e){var n=e.def(t.ELEMENTS,".vertCount-",t.OFFSET);return w.optional((function(){t.assert(e,n+">=0","invalid vertex offset/element buffer too small")})),n})):ue((function(t,e){return e.def(t.ELEMENTS,".vertCount")}));var u=ue((function(){return-1}));return w.optional((function(){u.MISSING=!0})),u}var s=new ie(o.thisDep||a.thisDep,o.contextDep||a.contextDep,o.propDep||a.propDep,(function(t,e){var n=t.ELEMENTS;return t.OFFSET?e.def(n,"?",n,".vertCount-",t.OFFSET,":-1"):e.def(n,"?",n,".vertCount:-1")}));return w.optional((function(){s.DYNAMIC=!0})),s}return null}(),instances:i(Ht,!1),offset:a}}(t,d),T=function(t,e){var n=t.static,r=t.dynamic,i={};return S.forEach((function(t){var u=k(t);function s(e,o){if(t in n){var a=e(n[t]);i[u]=ue((function(){return a}))}else if(t in r){var s=r[t];i[u]=se(s,(function(t,e){return o(t,e,t.invoke(e,s))}))}}switch(t){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return s((function(n){return w.commandType(n,"boolean",t,e.commandStr),n}),(function(e,n,r){return w.optional((function(){e.assert(n,"typeof "+r+'==="boolean"',"invalid flag "+t,e.commandStr)})),r}));case"depth.func":return s((function(n){return w.commandParameter(n,$t,"invalid "+t,e.commandStr),$t[n]}),(function(e,n,r){var o=e.constants.compareFuncs;return w.optional((function(){e.assert(n,r+" in "+o,"invalid "+t+", must be one of "+Object.keys($t))})),n.def(o,"[",r,"]")}));case"depth.range":return s((function(t){return w.command(tt(t)&&2===t.length&&"number"==typeof t[0]&&"number"==typeof t[1]&&t[0]<=t[1],"depth range is 2d array",e.commandStr),t}),(function(t,e,n){return w.optional((function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===2&&typeof "+n+'[0]==="number"&&typeof '+n+'[1]==="number"&&'+n+"[0]<="+n+"[1]","depth range must be a 2d array")})),[e.def("+",n,"[0]"),e.def("+",n,"[1]")]}));case"blend.func":return s((function(t){w.commandType(t,"object","blend.func",e.commandStr);var n="srcRGB"in t?t.srcRGB:t.src,r="srcAlpha"in t?t.srcAlpha:t.src,o="dstRGB"in t?t.dstRGB:t.dst,i="dstAlpha"in t?t.dstAlpha:t.dst;return w.commandParameter(n,Qt,u+".srcRGB",e.commandStr),w.commandParameter(r,Qt,u+".srcAlpha",e.commandStr),w.commandParameter(o,Qt,u+".dstRGB",e.commandStr),w.commandParameter(i,Qt,u+".dstAlpha",e.commandStr),w.command(-1===Jt.indexOf(n+", "+o),"unallowed blending combination (srcRGB, dstRGB) = ("+n+", "+o+")",e.commandStr),[Qt[n],Qt[o],Qt[r],Qt[i]]}),(function(e,n,r){var o=e.constants.blendFuncs;function i(i,a){var u=n.def('"',i,a,'" in ',r,"?",r,".",i,a,":",r,".",i);return w.optional((function(){e.assert(n,u+" in "+o,"invalid "+t+"."+i+a+", must be one of "+Object.keys(Qt))})),u}w.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid blend func, must be an object")}));var a=i("src","RGB"),u=i("dst","RGB");w.optional((function(){var t=e.constants.invalidBlendCombinations;e.assert(n,t+".indexOf("+a+'+", "+'+u+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")}));var s=n.def(o,"[",a,"]"),c=n.def(o,"[",i("src","Alpha"),"]");return[s,n.def(o,"[",u,"]"),c,n.def(o,"[",i("dst","Alpha"),"]")]}));case"blend.equation":return s((function(n){return"string"==typeof n?(w.commandParameter(n,g,"invalid "+t,e.commandStr),[g[n],g[n]]):"object"===a(n)?(w.commandParameter(n.rgb,g,t+".rgb",e.commandStr),w.commandParameter(n.alpha,g,t+".alpha",e.commandStr),[g[n.rgb],g[n.alpha]]):void w.commandRaise("invalid blend.equation",e.commandStr)}),(function(e,n,r){var o=e.constants.blendEquations,i=n.def(),a=n.def(),u=e.cond("typeof ",r,'==="string"');return w.optional((function(){function n(t,n,r){e.assert(t,r+" in "+o,"invalid "+n+", must be one of "+Object.keys(g))}n(u.then,t,r),e.assert(u.else,r+"&&typeof "+r+'==="object"',"invalid "+t),n(u.else,t+".rgb",r+".rgb"),n(u.else,t+".alpha",r+".alpha")})),u.then(i,"=",a,"=",o,"[",r,"];"),u.else(i,"=",o,"[",r,".rgb];",a,"=",o,"[",r,".alpha];"),n(u),[i,a]}));case"blend.color":return s((function(t){return w.command(tt(t)&&4===t.length,"blend.color must be a 4d array",e.commandStr),C(4,(function(e){return+t[e]}))}),(function(t,e,n){return w.optional((function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","blend.color must be a 4d array")})),C(4,(function(t){return e.def("+",n,"[",t,"]")}))}));case"stencil.mask":return s((function(t){return w.commandType(t,"number",u,e.commandStr),0|t}),(function(t,e,n){return w.optional((function(){t.assert(e,"typeof "+n+'==="number"',"invalid stencil.mask")})),e.def(n,"|0")}));case"stencil.func":return s((function(n){w.commandType(n,"object",u,e.commandStr);var r=n.cmp||"keep",o=n.ref||0,i="mask"in n?n.mask:-1;return w.commandParameter(r,$t,t+".cmp",e.commandStr),w.commandType(o,"number",t+".ref",e.commandStr),w.commandType(i,"number",t+".mask",e.commandStr),[$t[r],o,i]}),(function(t,e,n){var r=t.constants.compareFuncs;return w.optional((function(){function o(){t.assert(e,Array.prototype.join.call(arguments,""),"invalid stencil.func")}o(n+"&&typeof ",n,'==="object"'),o('!("cmp" in ',n,")||(",n,".cmp in ",r,")")})),[e.def('"cmp" in ',n,"?",r,"[",n,".cmp]",":",7680),e.def(n,".ref|0"),e.def('"mask" in ',n,"?",n,".mask|0:-1")]}));case"stencil.opFront":case"stencil.opBack":return s((function(n){w.commandType(n,"object",u,e.commandStr);var r=n.fail||"keep",o=n.zfail||"keep",i=n.zpass||"keep";return w.commandParameter(r,te,t+".fail",e.commandStr),w.commandParameter(o,te,t+".zfail",e.commandStr),w.commandParameter(i,te,t+".zpass",e.commandStr),["stencil.opBack"===t?1029:1028,te[r],te[o],te[i]]}),(function(e,n,r){var o=e.constants.stencilOps;function i(i){return w.optional((function(){e.assert(n,'!("'+i+'" in '+r+")||("+r+"."+i+" in "+o+")","invalid "+t+"."+i+", must be one of "+Object.keys(te))})),n.def('"',i,'" in ',r,"?",o,"[",r,".",i,"]:",7680)}return w.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)})),["stencil.opBack"===t?1029:1028,i("fail"),i("zfail"),i("zpass")]}));case"polygonOffset.offset":return s((function(t){w.commandType(t,"object",u,e.commandStr);var n=0|t.factor,r=0|t.units;return w.commandType(n,"number",u+".factor",e.commandStr),w.commandType(r,"number",u+".units",e.commandStr),[n,r]}),(function(e,n,r){return w.optional((function(){e.assert(n,r+"&&typeof "+r+'==="object"',"invalid "+t)})),[n.def(r,".factor|0"),n.def(r,".units|0")]}));case"cull.face":return s((function(t){var n=0;return"front"===t?n=1028:"back"===t&&(n=1029),w.command(!!n,u,e.commandStr),n}),(function(t,e,n){return w.optional((function(){t.assert(e,n+'==="front"||'+n+'==="back"',"invalid cull.face")})),e.def(n,'==="front"?',1028,":",1029)}));case"lineWidth":return s((function(t){return w.command("number"==typeof t&&t>=o.lineWidthDims[0]&&t<=o.lineWidthDims[1],"invalid line width, must be a positive number between "+o.lineWidthDims[0]+" and "+o.lineWidthDims[1],e.commandStr),t}),(function(t,e,n){return w.optional((function(){t.assert(e,"typeof "+n+'==="number"&&'+n+">="+o.lineWidthDims[0]+"&&"+n+"<="+o.lineWidthDims[1],"invalid line width")})),n}));case"frontFace":return s((function(t){return w.commandParameter(t,ne,u,e.commandStr),ne[t]}),(function(t,e,n){return w.optional((function(){t.assert(e,n+'==="cw"||'+n+'==="ccw"',"invalid frontFace, must be one of cw,ccw")})),e.def(n+'==="cw"?2304:2305')}));case"colorMask":return s((function(t){return w.command(tt(t)&&4===t.length,"color.mask must be length 4 array",e.commandStr),t.map((function(t){return!!t}))}),(function(t,e,n){return w.optional((function(){t.assert(e,t.shared.isArrayLike+"("+n+")&&"+n+".length===4","invalid color.mask")})),C(4,(function(t){return"!!"+n+"["+t+"]"}))}));case"sample.coverage":return s((function(t){w.command("object"===a(t)&&t,u,e.commandStr);var n="value"in t?t.value:1,r=!!t.invert;return w.command("number"==typeof n&&n>=0&&n<=1,"sample.coverage.value must be a number between 0 and 1",e.commandStr),[n,r]}),(function(t,e,n){return w.optional((function(){t.assert(e,n+"&&typeof "+n+'==="object"',"invalid sample.coverage")})),[e.def('"value" in ',n,"?+",n,".value:1"),e.def("!!",n,".invert")]}))}})),i}(t,d),A=function(t,e,r){var o=t.static,i=t.dynamic;function a(t){if(t in o){var e=n.id(o[t]);w.optional((function(){h.shader(ee[t],e,w.guessCommand())}));var r=ue((function(){return e}));return r.id=e,r}if(t in i){var a=i[t];return se(a,(function(e,n){var r=e.invoke(n,a),o=n.def(e.shared.strings,".id(",r,")");return w.optional((function(){n(e.shared.shader,".shader(",ee[t],",",o,",",e.command,");")})),o}))}return null}var u,s=a(Ft),c=a(Bt),f=null;return ae(s)&&ae(c)?(f=h.program(c.id,s.id,null,r),u=ue((function(t,e){return t.link(f)}))):u=new ie(s&&s.thisDep||c&&c.thisDep,s&&s.contextDep||c&&c.contextDep,s&&s.propDep||c&&c.propDep,(function(t,e){var n,r=t.shared.shader;n=s?s.append(t,e):e.def(r,".",Ft);var o=r+".program("+(c?c.append(t,e):e.def(r,".",Bt))+","+n;return w.optional((function(){o+=","+t.command})),e.def(o+")")})),{frag:s,vert:c,progVar:u,program:f}}(t,0,m);function I(t){var e=x[t];e&&(T[t]=e)}I("viewport"),I(k("scissor.box"));var O=Object.keys(T).length>0,D={framebuffer:_,draw:E,shader:A,state:T,dirty:O,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(D.profile=function(t){var e,n=t.static,r=t.dynamic;if(Lt in n){var o=!!n[Lt];(e=ue((function(t,e){return o}))).enable=o}else if(Lt in r){var i=r[Lt];e=se(i,(function(t,e){return t.invoke(e,i)}))}return e}(t),D.uniforms=function(t,e){var n=t.static,r=t.dynamic,o={};return Object.keys(n).forEach((function(t){var r,i=n[t];if("number"==typeof i||"boolean"==typeof i)r=ue((function(){return i}));else if("function"==typeof i){var a=i._reglType;"texture2d"===a||"textureCube"===a?r=ue((function(t){return t.link(i)})):"framebuffer"===a||"framebufferCube"===a?(w.command(i.color.length>0,'missing color attachment for framebuffer sent to uniform "'+t+'"',e.commandStr),r=ue((function(t){return t.link(i.color[0])}))):w.commandRaise('invalid data for uniform "'+t+'"',e.commandStr)}else tt(i)?r=ue((function(e){return e.global.def("[",C(i.length,(function(n){return w.command("number"==typeof i[n]||"boolean"==typeof i[n],"invalid uniform "+t,e.commandStr),i[n]})),"]")})):w.commandRaise('invalid or missing data for uniform "'+t+'"',e.commandStr);r.value=i,o[t]=r})),Object.keys(r).forEach((function(t){var e=r[t];o[t]=se(e,(function(t,n){return t.invoke(n,e)}))})),o}(s,d),D.drawVAO=D.scopeVAO=function(t,e){var n=t.static,r=t.dynamic;if(qt in n){var o=n[qt];return null!==o&&null===l.getVAO(o)&&(o=l.createVAO(o)),ue((function(t){return t.link(l.getVAO(o))}))}if(qt in r){var i=r[qt];return se(i,(function(t,e){var n=t.invoke(e,i);return e.def(t.shared.vao+".getVAO("+n+")")}))}return null}(t),!D.drawVAO&&A.program&&!m&&r.angle_instanced_arrays){var R=!0,M=A.program.attributes.map((function(t){var n=e.static[t];return R=R&&!!n,n}));if(R&&M.length>0){var N=l.getVAO(l.createVAO(M));D.drawVAO=new ie(null,null,null,(function(t,e){return t.link(N)})),D.useVAO=!0}}return m?D.useVAO=!0:D.attributes=function(t,e){var r=t.static,o=t.dynamic,u={};return Object.keys(r).forEach((function(t){var o=r[t],s=n.id(t),c=new y;if(re(o))c.state=1,c.buffer=i.getBuffer(i.create(o,34962,!1,!0)),c.type=0;else{var f=i.getBuffer(o);if(f)c.state=1,c.buffer=f,c.type=0;else if(w.command("object"===a(o)&&o,"invalid data for attribute "+t,e.commandStr),"constant"in o){var l=o.constant;c.buffer="null",c.state=2,"number"==typeof l?c.x=l:(w.command(tt(l)&&l.length>0&&l.length<=4,"invalid constant for attribute "+t,e.commandStr),jt.forEach((function(t,e){e<l.length&&(c[t]=l[e])})))}else{f=re(o.buffer)?i.getBuffer(i.create(o.buffer,34962,!1,!0)):i.getBuffer(o.buffer),w.command(!!f,'missing buffer for attribute "'+t+'"',e.commandStr);var h=0|o.offset;w.command(h>=0,'invalid offset for attribute "'+t+'"',e.commandStr);var d=0|o.stride;w.command(d>=0&&d<256,'invalid stride for attribute "'+t+'", must be integer betweeen [0, 255]',e.commandStr);var p=0|o.size;w.command(!("size"in o)||p>0&&p<=4,'invalid size for attribute "'+t+'", must be 1,2,3,4',e.commandStr);var v=!!o.normalized,m=0;"type"in o&&(w.commandParameter(o.type,z,"invalid type for attribute "+t,e.commandStr),m=z[o.type]);var g=0|o.divisor;"divisor"in o&&(w.command(0===g||b,'cannot specify divisor for attribute "'+t+'", instancing not supported',e.commandStr),w.command(g>=0,'invalid divisor for attribute "'+t+'"',e.commandStr)),w.optional((function(){var n=e.commandStr,r=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(o).forEach((function(e){w.command(r.indexOf(e)>=0,'unknown parameter "'+e+'" for attribute pointer "'+t+'" (valid parameters are '+r+")",n)}))})),c.buffer=f,c.state=1,c.size=p,c.normalized=v,c.type=m||f.dtype,c.offset=h,c.stride=d,c.divisor=g}}u[t]=ue((function(t,e){var n=t.attribCache;if(s in n)return n[s];var r={isStream:!1};return Object.keys(c).forEach((function(t){r[t]=c[t]})),c.buffer&&(r.buffer=t.link(c.buffer),r.type=r.type||r.buffer+".dtype"),n[s]=r,r}))})),Object.keys(o).forEach((function(t){var e=o[t];u[t]=se(e,(function(n,r){var o=n.invoke(r,e),i=n.shared,a=n.constants,u=i.isBufferArgs,s=i.buffer;w.optional((function(){n.assert(r,o+"&&(typeof "+o+'==="object"||typeof '+o+'==="function")&&('+u+"("+o+")||"+s+".getBuffer("+o+")||"+s+".getBuffer("+o+".buffer)||"+u+"("+o+'.buffer)||("constant" in '+o+"&&(typeof "+o+'.constant==="number"||'+i.isArrayLike+"("+o+".constant))))",'invalid dynamic attribute "'+t+'"')}));var c={isStream:r.def(!1)},f=new y;f.state=1,Object.keys(f).forEach((function(t){c[t]=r.def(""+f[t])}));var l=c.buffer,h=c.type;function d(t){r(c[t],"=",o,".",t,"|0;")}return r("if(",u,"(",o,")){",c.isStream,"=true;",l,"=",s,".createStream(",34962,",",o,");",h,"=",l,".dtype;","}else{",l,"=",s,".getBuffer(",o,");","if(",l,"){",h,"=",l,".dtype;",'}else if("constant" in ',o,"){",c.state,"=",2,";","if(typeof "+o+'.constant === "number"){',c[jt[0]],"=",o,".constant;",jt.slice(1).map((function(t){return c[t]})).join("="),"=0;","}else{",jt.map((function(t,e){return c[t]+"="+o+".constant.length>"+e+"?"+o+".constant["+e+"]:0;"})).join(""),"}}else{","if(",u,"(",o,".buffer)){",l,"=",s,".createStream(",34962,",",o,".buffer);","}else{",l,"=",s,".getBuffer(",o,".buffer);","}",h,'="type" in ',o,"?",a.glTypes,"[",o,".type]:",l,".dtype;",c.normalized,"=!!",o,".normalized;"),d("size"),d("offset"),d("stride"),d("divisor"),r("}}"),r.exit("if(",c.isStream,"){",s,".destroyStream(",l,");","}"),c}))})),u}(e,d),D.context=function(t){var e=t.static,n=t.dynamic,r={};return Object.keys(e).forEach((function(t){var n=e[t];r[t]=ue((function(t,e){return"number"==typeof n||"boolean"==typeof n?""+n:t.link(n)}))})),Object.keys(n).forEach((function(t){var e=n[t];r[t]=se(e,(function(t,n){return t.invoke(n,e)}))})),r}(f),D}function j(t,e,n){var r=t.shared.context,o=t.scope();Object.keys(n).forEach((function(i){e.save(r,"."+i);var a=n[i].append(t,e);Array.isArray(a)?o(r,".",i,"=[",a.join(),"];"):o(r,".",i,"=",a,";")})),e(o)}function L(t,e,n,r){var o,i=t.shared,a=i.gl,u=i.framebuffer;_&&(o=e.def(i.extensions,".webgl_draw_buffers"));var s,c=t.constants,f=c.drawBuffer,l=c.backBuffer;s=n?n.append(t,e):e.def(u,".next"),r||e("if(",s,"!==",u,".cur){"),e("if(",s,"){",a,".bindFramebuffer(",36160,",",s,".framebuffer);"),_&&e(o,".drawBuffersWEBGL(",f,"[",s,".colorAttachments.length]);"),e("}else{",a,".bindFramebuffer(",36160,",null);"),_&&e(o,".drawBuffersWEBGL(",l,");"),e("}",u,".cur=",s,";"),r||e("}")}function U(t,e,n){var r=t.shared,o=r.gl,i=t.current,a=t.next,u=r.current,s=r.next,c=t.cond(u,".dirty");S.forEach((function(e){var r,f,l=k(e);if(!(l in n.state))if(l in a){r=a[l],f=i[l];var h=C(x[l].length,(function(t){return c.def(r,"[",t,"]")}));c(t.cond(h.map((function(t,e){return t+"!=="+f+"["+e+"]"})).join("||")).then(o,".",A[l],"(",h,");",h.map((function(t,e){return f+"["+e+"]="+t})).join(";"),";"))}else{r=c.def(s,".",l);var d=t.cond(r,"!==",u,".",l);c(d),l in T?d(t.cond(r).then(o,".enable(",T[l],");").else(o,".disable(",T[l],");"),u,".",l,"=",r,";"):d(o,".",A[l],"(",r,");",u,".",l,"=",r,";")}})),0===Object.keys(n.state).length&&c(u,".dirty=false;"),e(c)}function B(t,e,n,r){var o=t.shared,i=t.current,a=o.current,u=o.gl;oe(Object.keys(n)).forEach((function(o){var s=n[o];if(!r||r(s)){var c=s.append(t,e);if(T[o]){var f=T[o];ae(s)?e(u,c?".enable(":".disable(",f,");"):e(t.cond(c).then(u,".enable(",f,");").else(u,".disable(",f,");")),e(a,".",o,"=",c,";")}else if(tt(c)){var l=i[o];e(u,".",A[o],"(",c,");",c.map((function(t,e){return l+"["+e+"]="+t})).join(";"),";")}else e(u,".",A[o],"(",c,");",a,".",o,"=",c,";")}}))}function F(t,e){b&&(t.instancing=e.def(t.shared.extensions,".angle_instanced_arrays"))}function V(t,e,n,r,o){var i,a,u,s=t.shared,c=t.stats,f=s.current,l=s.timer,h=n.profile;function d(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function p(t){t(i=e.def(),"=",d(),";"),"string"==typeof o?t(c,".count+=",o,";"):t(c,".count++;"),v&&(r?t(a=e.def(),"=",l,".getNumPendingQueries();"):t(l,".beginQuery(",c,");"))}function m(t){t(c,".cpuTime+=",d(),"-",i,";"),v&&(r?t(l,".pushScopeStats(",a,",",l,".getNumPendingQueries(),",c,");"):t(l,".endQuery();"))}function y(t){var n=e.def(f,".profile");e(f,".profile=",t,";"),e.exit(f,".profile=",n,";")}if(h){if(ae(h))return void(h.enable?(p(e),m(e.exit),y("true")):y("false"));y(u=h.append(t,e))}else u=e.def(f,".profile");var g=t.block();p(g),e("if(",u,"){",g,"}");var b=t.block();m(b),e.exit("if(",u,"){",b,"}")}function W(t,e,n,r,o){var i=t.shared;r.forEach((function(r){var a,u=r.name,s=n.attributes[u];if(s){if(!o(s))return;a=s.append(t,e)}else{if(!o(ce))return;var c=t.scopeAttrib(u);w.optional((function(){t.assert(e,c+".state","missing attribute "+u)})),a={},Object.keys(new y).forEach((function(t){a[t]=e.def(c,".",t)}))}!function(n,r,o){var a=i.gl,u=e.def(n,".location"),s=e.def(i.attributes,"[",u,"]"),c=o.state,f=o.buffer,l=[o.x,o.y,o.z,o.w],h=["buffer","normalized","offset","stride"];function d(){e("if(!",s,".buffer){",a,".enableVertexAttribArray(",u,");}");var n,i=o.type;if(n=o.size?e.def(o.size,"||",r):r,e("if(",s,".type!==",i,"||",s,".size!==",n,"||",h.map((function(t){return s+"."+t+"!=="+o[t]})).join("||"),"){",a,".bindBuffer(",34962,",",f,".buffer);",a,".vertexAttribPointer(",[u,n,i,o.normalized,o.stride,o.offset],");",s,".type=",i,";",s,".size=",n,";",h.map((function(t){return s+"."+t+"="+o[t]+";"})).join(""),"}"),b){var c=o.divisor;e("if(",s,".divisor!==",c,"){",t.instancing,".vertexAttribDivisorANGLE(",[u,c],");",s,".divisor=",c,";}")}}function p(){e("if(",s,".buffer){",a,".disableVertexAttribArray(",u,");",s,".buffer=null;","}if(",jt.map((function(t,e){return s+"."+t+"!=="+l[e]})).join("||"),"){",a,".vertexAttrib4f(",u,",",l,");",jt.map((function(t,e){return s+"."+t+"="+l[e]+";"})).join(""),"}")}1===c?d():2===c?p():(e("if(",c,"===",1,"){"),d(),e("}else{"),p(),e("}"))}(t.link(r),function(t){switch(t){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(r.info.type),a)}))}function X(t,e,r,o,i){for(var a,u=t.shared,s=u.gl,c=0;c<o.length;++c){var f,l=o[c],h=l.name,d=l.info.type,p=r.uniforms[h],v=t.link(l)+".location";if(p){if(!i(p))continue;if(ae(p)){var m=p.value;if(w.command(null!=m,'missing uniform "'+h+'"',t.commandStr),35678===d||35680===d){w.command("function"==typeof m&&(35678===d&&("texture2d"===m._reglType||"framebuffer"===m._reglType)||35680===d&&("textureCube"===m._reglType||"framebufferCube"===m._reglType)),"invalid texture for uniform "+h,t.commandStr);var y=t.link(m._texture||m.color[0]._texture);e(s,".uniform1i(",v,",",y+".bind());"),e.exit(y,".unbind();")}else if(35674===d||35675===d||35676===d){w.optional((function(){w.command(tt(m),"invalid matrix for uniform "+h,t.commandStr),w.command(35674===d&&4===m.length||35675===d&&9===m.length||35676===d&&16===m.length,"invalid length for matrix uniform "+h,t.commandStr)}));var g=t.global.def("new Float32Array(["+Array.prototype.slice.call(m)+"])"),b=2;35675===d?b=3:35676===d&&(b=4),e(s,".uniformMatrix",b,"fv(",v,",false,",g,");")}else{switch(d){case 5126:w.commandType(m,"number","uniform "+h,t.commandStr),a="1f";break;case 35664:w.command(tt(m)&&2===m.length,"uniform "+h,t.commandStr),a="2f";break;case 35665:w.command(tt(m)&&3===m.length,"uniform "+h,t.commandStr),a="3f";break;case 35666:w.command(tt(m)&&4===m.length,"uniform "+h,t.commandStr),a="4f";break;case 35670:w.commandType(m,"boolean","uniform "+h,t.commandStr),a="1i";break;case 5124:w.commandType(m,"number","uniform "+h,t.commandStr),a="1i";break;case 35671:case 35667:w.command(tt(m)&&2===m.length,"uniform "+h,t.commandStr),a="2i";break;case 35672:case 35668:w.command(tt(m)&&3===m.length,"uniform "+h,t.commandStr),a="3i";break;case 35673:case 35669:w.command(tt(m)&&4===m.length,"uniform "+h,t.commandStr),a="4i"}e(s,".uniform",a,"(",v,",",tt(m)?Array.prototype.slice.call(m):m,");")}continue}f=p.append(t,e)}else{if(!i(ce))continue;f=e.def(u.uniforms,"[",n.id(h),"]")}35678===d?(w(!Array.isArray(f),"must specify a scalar prop for textures"),e("if(",f,"&&",f,'._reglType==="framebuffer"){',f,"=",f,".color[0];","}")):35680===d&&(w(!Array.isArray(f),"must specify a scalar prop for cube maps"),e("if(",f,"&&",f,'._reglType==="framebufferCube"){',f,"=",f,".color[0];","}")),w.optional((function(){function n(n,r){t.assert(e,n,'bad data or missing for uniform "'+h+'".  '+r)}function r(t){w(!Array.isArray(f),"must not specify an array type for uniform"),n("typeof "+f+'==="'+t+'"',"invalid type, expected "+t)}function o(e,r){Array.isArray(f)?w(f.length===e,"must have length "+e):n(u.isArrayLike+"("+f+")&&"+f+".length==="+e,"invalid vector, should have length "+e,t.commandStr)}function i(e){w(!Array.isArray(f),"must not specify a value type"),n("typeof "+f+'==="function"&&'+f+'._reglType==="texture'+(3553===e?"2d":"Cube")+'"',"invalid texture type",t.commandStr)}switch(d){case 5124:r("number");break;case 35667:o(2);break;case 35668:o(3);break;case 35669:o(4);break;case 5126:r("number");break;case 35664:o(2);break;case 35665:o(3);break;case 35666:o(4);break;case 35670:r("boolean");break;case 35671:o(2);break;case 35672:o(3);break;case 35673:case 35674:o(4);break;case 35675:o(9);break;case 35676:o(16);break;case 35678:i(3553);break;case 35680:i(34067)}}));var _=1;switch(d){case 35678:case 35680:var x=e.def(f,"._texture");e(s,".uniform1i(",v,",",x,".bind());"),e.exit(x,".unbind();");continue;case 5124:case 35670:a="1i";break;case 35667:case 35671:a="2i",_=2;break;case 35668:case 35672:a="3i",_=3;break;case 35669:case 35673:a="4i",_=4;break;case 5126:a="1f";break;case 35664:a="2f",_=2;break;case 35665:a="3f",_=3;break;case 35666:a="4f",_=4;break;case 35674:a="Matrix2fv";break;case 35675:a="Matrix3fv";break;case 35676:a="Matrix4fv"}if(e(s,".uniform",a,"(",v,","),"M"===a.charAt(0)){var E=Math.pow(d-35674+2,2),S=t.global.def("new Float32Array(",E,")");Array.isArray(f)?e("false,(",C(E,(function(t){return S+"["+t+"]="+f[t]})),",",S,")"):e("false,(Array.isArray(",f,")||",f," instanceof Float32Array)?",f,":(",C(E,(function(t){return S+"["+t+"]="+f+"["+t+"]"})),",",S,")")}else _>1?e(C(_,(function(t){return Array.isArray(f)?f[t]:f+"["+t+"]"}))):(w(!Array.isArray(f),"uniform value must not be an array"),e(f));e(");")}}function H(t,e,n,r){var o=t.shared,i=o.gl,a=o.draw,u=r.draw,s=function(){var o,s=u.elements,c=e;return s?((s.contextDep&&r.contextDynamic||s.propDep)&&(c=n),o=s.append(t,c)):o=c.def(a,".",zt),o&&c("if("+o+")"+i+".bindBuffer(34963,"+o+".buffer.buffer);"),o}();function c(o){var i=u[o];return i?i.contextDep&&r.contextDynamic||i.propDep?i.append(t,n):i.append(t,e):e.def(a,".",o)}var f,l,h=c(Vt),d=c(Xt),p=function(){var o,i=u.count,s=e;return i?((i.contextDep&&r.contextDynamic||i.propDep)&&(s=n),o=i.append(t,s),w.optional((function(){i.MISSING&&t.assert(e,"false","missing vertex count"),i.DYNAMIC&&t.assert(s,o+">=0","missing vertex count")}))):(o=s.def(a,".",Wt),w.optional((function(){t.assert(s,o+">=0","missing vertex count")}))),o}();if("number"==typeof p){if(0===p)return}else n("if(",p,"){"),n.exit("}");b&&(f=c(Ht),l=t.instancing);var v=s+".type",m=u.elements&&ae(u.elements);function y(){function t(){n(l,".drawElementsInstancedANGLE(",[h,p,v,d+"<<(("+v+"-5121)>>1)",f],");")}function e(){n(l,".drawArraysInstancedANGLE(",[h,d,p,f],");")}s?m?t():(n("if(",s,"){"),t(),n("}else{"),e(),n("}")):e()}function g(){function t(){n(i+".drawElements("+[h,p,v,d+"<<(("+v+"-5121)>>1)"]+");")}function e(){n(i+".drawArrays("+[h,d,p]+");")}s?m?t():(n("if(",s,"){"),t(),n("}else{"),e(),n("}")):e()}b&&("number"!=typeof f||f>=0)?"string"==typeof f?(n("if(",f,">0){"),y(),n("}else if(",f,"<0){"),g(),n("}")):y():g()}function q(t,e,n,r,o){var i=P(),a=i.proc("body",o);return w.optional((function(){i.commandStr=e.commandStr,i.command=i.link(e.commandStr)})),b&&(i.instancing=a.def(i.shared.extensions,".angle_instanced_arrays")),t(i,a,n,r),i.compile().body}function Y(t,e,n,r){F(t,e),n.useVAO?n.drawVAO?e(t.shared.vao,".setVAO(",n.drawVAO.append(t,e),");"):e(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(e(t.shared.vao,".setVAO(null);"),W(t,e,n,r.attributes,(function(){return!0}))),X(t,e,n,r.uniforms,(function(){return!0})),H(t,e,e,n)}function K(t,e,n,r){function o(){return!0}t.batchId="a1",F(t,e),W(t,e,n,r.attributes,o),X(t,e,n,r.uniforms,o),H(t,e,e,n)}function Q(t,e,n,r){F(t,e);var o=n.contextDep,i=e.def(),a=e.def();t.shared.props=a,t.batchId=i;var u=t.scope(),s=t.scope();function c(t){return t.contextDep&&o||t.propDep}function f(t){return!c(t)}if(e(u.entry,"for(",i,"=0;",i,"<","a1",";++",i,"){",a,"=","a0","[",i,"];",s,"}",u.exit),n.needsContext&&j(t,s,n.context),n.needsFramebuffer&&L(t,s,n.framebuffer),B(t,s,n.state,c),n.profile&&c(n.profile)&&V(t,s,n,!1,!0),r)n.useVAO?n.drawVAO?c(n.drawVAO)?s(t.shared.vao,".setVAO(",n.drawVAO.append(t,s),");"):u(t.shared.vao,".setVAO(",n.drawVAO.append(t,u),");"):u(t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"):(u(t.shared.vao,".setVAO(null);"),W(t,u,n,r.attributes,f),W(t,s,n,r.attributes,c)),X(t,u,n,r.uniforms,f),X(t,s,n,r.uniforms,c),H(t,u,s,n);else{var l=t.global.def("{}"),h=n.shader.progVar.append(t,s),d=s.def(h,".id"),p=s.def(l,"[",d,"]");s(t.shared.gl,".useProgram(",h,".program);","if(!",p,"){",p,"=",l,"[",d,"]=",t.link((function(e){return q(K,t,n,e,2)})),"(",h,");}",p,".call(this,a0[",i,"],",i,");")}}function J(t,e,n){var r=e.static[n];if(r&&function(t){if("object"===a(t)&&!tt(t)){for(var e=Object.keys(t),n=0;n<e.length;++n)if(I.isDynamic(t[e[n]]))return!0;return!1}}(r)){var o=t.global,i=Object.keys(r),u=!1,s=!1,c=!1,f=t.global.def("{}");i.forEach((function(e){var n=r[e];if(I.isDynamic(n)){"function"==typeof n&&(n=r[e]=I.unbox(n));var i=se(n,null);u=u||i.thisDep,c=c||i.propDep,s=s||i.contextDep}else{switch(o(f,".",e,"="),a(n)){case"number":o(n);break;case"string":o('"',n,'"');break;case"object":Array.isArray(n)&&o("[",n.join(),"]");break;default:o(t.link(n))}o(";")}})),e.dynamic[n]=new I.DynamicVariable(4,{thisDep:u,contextDep:s,propDep:c,ref:f,append:function(t,e){i.forEach((function(n){var o=r[n];if(I.isDynamic(o)){var i=t.invoke(e,o);e(f,".",n,"=",i,";")}}))}}),delete e.static[n]}}return{next:E,current:x,procs:function(){var t=P(),e=t.proc("poll"),n=t.proc("refresh"),i=t.block();e(i),n(i);var a,u=t.shared,s=u.gl,c=u.next,f=u.current;i(f,".dirty=false;"),L(t,e),L(t,n,null,!0),b&&(a=t.link(b)),r.oes_vertex_array_object&&n(t.link(r.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var l=0;l<o.maxAttributes;++l){var h=n.def(u.attributes,"[",l,"]"),d=t.cond(h,".buffer");d.then(s,".enableVertexAttribArray(",l,");",s,".bindBuffer(",34962,",",h,".buffer.buffer);",s,".vertexAttribPointer(",l,",",h,".size,",h,".type,",h,".normalized,",h,".stride,",h,".offset);").else(s,".disableVertexAttribArray(",l,");",s,".vertexAttrib4f(",l,",",h,".x,",h,".y,",h,".z,",h,".w);",h,".buffer=null;"),n(d),b&&n(a,".vertexAttribDivisorANGLE(",l,",",h,".divisor);")}return n(t.shared.vao,".currentVAO=null;",t.shared.vao,".setVAO(",t.shared.vao,".targetVAO);"),Object.keys(T).forEach((function(r){var o=T[r],a=i.def(c,".",r),u=t.block();u("if(",a,"){",s,".enable(",o,")}else{",s,".disable(",o,")}",f,".",r,"=",a,";"),n(u),e("if(",a,"!==",f,".",r,"){",u,"}")})),Object.keys(A).forEach((function(r){var o,a,u=A[r],l=x[r],h=t.block();if(h(s,".",u,"("),tt(l)){var d=l.length;o=t.global.def(c,".",r),a=t.global.def(f,".",r),h(C(d,(function(t){return o+"["+t+"]"})),");",C(d,(function(t){return a+"["+t+"]="+o+"["+t+"];"})).join("")),e("if(",C(d,(function(t){return o+"["+t+"]!=="+a+"["+t+"]"})).join("||"),"){",h,"}")}else o=i.def(c,".",r),a=i.def(f,".",r),h(o,");",f,".",r,"=",o,";"),e("if(",o,"!==",a,"){",h,"}");n(h)})),t.compile()}(),compile:function(t,r,o,i,a){var u=P();u.stats=u.link(a),Object.keys(r.static).forEach((function(t){J(u,r,t)})),Zt.forEach((function(e){J(u,t,e)}));var s=G(t,r,o,i,u);return function(t,e){var n=t.proc("draw",1);F(t,n),j(t,n,e.context),L(t,n,e.framebuffer),U(t,n,e),B(t,n,e.state),V(t,n,e,!1,!0);var r=e.shader.progVar.append(t,n);if(n(t.shared.gl,".useProgram(",r,".program);"),e.shader.program)Y(t,n,e,e.shader.program);else{n(t.shared.vao,".setVAO(null);");var o=t.global.def("{}"),i=n.def(r,".id"),a=n.def(o,"[",i,"]");n(t.cond(a).then(a,".call(this,a0);").else(a,"=",o,"[",i,"]=",t.link((function(n){return q(Y,t,e,n,1)})),"(",r,");",a,".call(this,a0);"))}Object.keys(e.state).length>0&&n(t.shared.current,".dirty=true;")}(u,s),function(t,e){var r=t.proc("scope",3);t.batchId="a2";var o=t.shared,i=o.current;function a(n){var i=e.shader[n];i&&r.set(o.shader,"."+n,i.append(t,r))}j(t,r,e.context),e.framebuffer&&e.framebuffer.append(t,r),oe(Object.keys(e.state)).forEach((function(n){var i=e.state[n].append(t,r);tt(i)?i.forEach((function(e,o){r.set(t.next[n],"["+o+"]",e)})):r.set(o.next,"."+n,i)})),V(t,r,e,!0,!0),[zt,Xt,Wt,Ht,Vt].forEach((function(n){var i=e.draw[n];i&&r.set(o.draw,"."+n,""+i.append(t,r))})),Object.keys(e.uniforms).forEach((function(i){var a=e.uniforms[i].append(t,r);Array.isArray(a)&&(a="["+a.join()+"]"),r.set(o.uniforms,"["+n.id(i)+"]",a)})),Object.keys(e.attributes).forEach((function(n){var o=e.attributes[n].append(t,r),i=t.scopeAttrib(n);Object.keys(new y).forEach((function(t){r.set(i,"."+t,o[t])}))})),e.scopeVAO&&r.set(o.vao,".targetVAO",e.scopeVAO.append(t,r)),a(Bt),a(Ft),Object.keys(e.state).length>0&&(r(i,".dirty=true;"),r.exit(i,".dirty=true;")),r("a1(",t.shared.context,",a0,",t.batchId,");")}(u,s),function(t,e){var n=t.proc("batch",2);t.batchId="0",F(t,n);var r=!1,o=!0;Object.keys(e.context).forEach((function(t){r=r||e.context[t].propDep})),r||(j(t,n,e.context),o=!1);var i=e.framebuffer,a=!1;function u(t){return t.contextDep&&r||t.propDep}i?(i.propDep?r=a=!0:i.contextDep&&r&&(a=!0),a||L(t,n,i)):L(t,n,null),e.state.viewport&&e.state.viewport.propDep&&(r=!0),U(t,n,e),B(t,n,e.state,(function(t){return!u(t)})),e.profile&&u(e.profile)||V(t,n,e,!1,"a1"),e.contextDep=r,e.needsContext=o,e.needsFramebuffer=a;var s=e.shader.progVar;if(s.contextDep&&r||s.propDep)Q(t,n,e,null);else{var c=s.append(t,n);if(n(t.shared.gl,".useProgram(",c,".program);"),e.shader.program)Q(t,n,e,e.shader.program);else{n(t.shared.vao,".setVAO(null);");var f=t.global.def("{}"),l=n.def(c,".id"),h=n.def(f,"[",l,"]");n(t.cond(h).then(h,".call(this,a0,a1);").else(h,"=",f,"[",l,"]=",t.link((function(n){return q(Q,t,e,n,2)})),"(",c,");",h,".call(this,a0,a1);"))}}Object.keys(e.state).length>0&&n(t.shared.current,".dirty=true;")}(u,s),e(u.compile(),{destroy:function(){s.shader.program.destroy()}})}}}var le=function(t,e){if(!e.ext_disjoint_timer_query)return null;var n=[];function r(t){n.push(t)}var o=[];function i(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var a=[];function u(t){a.push(t)}var s=[];function c(t,e,n){var r=a.pop()||new i;r.startQueryIndex=t,r.endQueryIndex=e,r.sum=0,r.stats=n,s.push(r)}var f=[],l=[];return{beginQuery:function(t){var r=n.pop()||e.ext_disjoint_timer_query.createQueryEXT();e.ext_disjoint_timer_query.beginQueryEXT(35007,r),o.push(r),c(o.length-1,o.length,t)},endQuery:function(){e.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:c,update:function(){var t,n,i=o.length;if(0!==i){l.length=Math.max(l.length,i+1),f.length=Math.max(f.length,i+1),f[0]=0,l[0]=0;var a=0;for(t=0,n=0;n<o.length;++n){var c=o[n];e.ext_disjoint_timer_query.getQueryObjectEXT(c,34919)?(a+=e.ext_disjoint_timer_query.getQueryObjectEXT(c,34918),r(c)):o[t++]=c,f[n+1]=a,l[n+1]=t}for(o.length=t,t=0,n=0;n<s.length;++n){var h=s[n],d=h.startQueryIndex,p=h.endQueryIndex;h.sum+=f[p]-f[d];var v=l[d],m=l[p];m===v?(h.stats.gpuTime+=h.sum/1e6,u(h)):(h.startQueryIndex=v,h.endQueryIndex=m,s[t++]=h)}s.length=t}},getNumPendingQueries:function(){return o.length},clear:function(){n.push.apply(n,o);for(var t=0;t<n.length;t++)e.ext_disjoint_timer_query.deleteQueryEXT(n[t]);o.length=0,n.length=0},restore:function(){o.length=0,n.length=0}}};function he(t,e){for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}return function(n){var r=M(n);if(!r)return null;var o=r.gl,i=o.getContextAttributes(),u=o.isContextLost(),s=function(t,e){var n={};function r(e){w.type(e,"string","extension name must be string");var r,o=e.toLowerCase();try{r=n[o]=t.getExtension(o)}catch(t){}return!!r}for(var o=0;o<e.extensions.length;++o){var i=e.extensions[o];if(!r(i))return e.onDestroy(),e.onDone('"'+i+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return e.optionalExtensions.forEach(r),{extensions:n,restore:function(){Object.keys(n).forEach((function(t){if(n[t]&&!r(t))throw new Error("(regl): error restoring extension "+t)}))}}}(o,r);if(!s)return null;var c,f,l=(c={"":0},f=[""],{id:function(t){var e=c[t];return e||(e=c[t]=f.length,f.push(t),e)},str:function(t){return f[t]}}),h={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},d=s.extensions,p=le(0,d),v=O(),m=o.drawingBufferWidth,y=o.drawingBufferHeight,g={tick:0,time:0,viewportWidth:m,viewportHeight:y,framebufferWidth:m,framebufferHeight:y,drawingBufferWidth:m,drawingBufferHeight:y,pixelRatio:r.pixelRatio},b=function(t,e){var n=1;e.ext_texture_filter_anisotropic&&(n=t.getParameter(34047));var r=1,o=1;e.webgl_draw_buffers&&(r=t.getParameter(34852),o=t.getParameter(36063));var i=!!e.oes_texture_float;if(i){var a=t.createTexture();t.bindTexture(3553,a),t.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var u=t.createFramebuffer();if(t.bindFramebuffer(36160,u),t.framebufferTexture2D(36160,36064,3553,a,0),t.bindTexture(3553,null),36053!==t.checkFramebufferStatus(36160))i=!1;else{t.viewport(0,0,1,1),t.clearColor(1,0,0,1),t.clear(16384);var s=G.allocType(5126,4);t.readPixels(0,0,1,1,6408,5126,s),t.getError()?i=!1:(t.deleteFramebuffer(u),t.deleteTexture(a),i=1===s[0]),G.freeType(s)}}var c=!0;if("undefined"==typeof navigator||!(/MSIE/.test(navigator.userAgent)||/Trident\\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var f=t.createTexture(),l=G.allocType(5121,36);t.activeTexture(33984),t.bindTexture(34067,f),t.texImage2D(34069,0,6408,3,3,0,6408,5121,l),G.freeType(l),t.bindTexture(34067,null),t.deleteTexture(f),c=!t.getError()}return{colorBits:[t.getParameter(3410),t.getParameter(3411),t.getParameter(3412),t.getParameter(3413)],depthBits:t.getParameter(3414),stencilBits:t.getParameter(3415),subpixelBits:t.getParameter(3408),extensions:Object.keys(e).filter((function(t){return!!e[t]})),maxAnisotropic:n,maxDrawbuffers:r,maxColorAttachments:o,pointSizeDims:t.getParameter(33901),lineWidthDims:t.getParameter(33902),maxViewportDims:t.getParameter(3386),maxCombinedTextureUnits:t.getParameter(35661),maxCubeMapSize:t.getParameter(34076),maxRenderbufferSize:t.getParameter(34024),maxTextureUnits:t.getParameter(34930),maxTextureSize:t.getParameter(3379),maxAttributes:t.getParameter(34921),maxVertexUniforms:t.getParameter(36347),maxVertexTextureUnits:t.getParameter(35660),maxVaryingVectors:t.getParameter(36348),maxFragmentUniforms:t.getParameter(36349),glsl:t.getParameter(35724),renderer:t.getParameter(7937),vendor:t.getParameter(7936),version:t.getParameter(7938),readFloat:i,npotTextureCube:c}}(o,d),_=function(e,n,r,o){var i=0,a={};function u(t){this.id=i++,this.buffer=e.createBuffer(),this.type=t,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,r.profile&&(this.stats={size:0})}u.prototype.bind=function(){e.bindBuffer(this.type,this.buffer)},u.prototype.destroy=function(){l(this)};var s=[];function c(t,n,r){t.byteLength=n.byteLength,e.bufferData(t.type,n,r)}function f(e,n,r,o,i,a){var u,s;if(e.usage=r,Array.isArray(n)){if(e.dtype=o||5126,n.length>0)if(Array.isArray(n[0])){u=X(n);for(var f=1,l=1;l<u.length;++l)f*=u[l];e.dimension=f,c(e,s=W(n,u,e.dtype),r),a?e.persistentData=s:G.freeType(s)}else if("number"==typeof n[0]){e.dimension=i;var h=G.allocType(e.dtype,n.length);Y(h,n),c(e,h,r),a?e.persistentData=h:G.freeType(h)}else t(n[0])?(e.dimension=n[0].length,e.dtype=o||q(n[0])||5126,c(e,s=W(n,[n.length,n[0].length],e.dtype),r),a?e.persistentData=s:G.freeType(s)):w.raise("invalid buffer data")}else if(t(n))e.dtype=o||q(n),e.dimension=i,c(e,n,r),a&&(e.persistentData=new Uint8Array(new Uint8Array(n.buffer)));else if(j(n)){u=n.shape;var d=n.stride,p=n.offset,v=0,m=0,y=0,g=0;1===u.length?(v=u[0],m=1,y=d[0],g=0):2===u.length?(v=u[0],m=u[1],y=d[0],g=d[1]):w.raise("invalid shape"),e.dtype=o||q(n.data)||5126,e.dimension=m;var b=G.allocType(e.dtype,v*m);K(b,n.data,v,m,y,g,p),c(e,b,r),a?e.persistentData=b:G.freeType(b)}else n instanceof ArrayBuffer?(e.dtype=5121,e.dimension=i,c(e,n,r),a&&(e.persistentData=new Uint8Array(new Uint8Array(n)))):w.raise("invalid buffer data")}function l(t){n.bufferCount--,o(t);var r=t.buffer;w(r,"buffer must not be deleted already"),e.deleteBuffer(r),t.buffer=null,delete a[t.id]}return r.profile&&(n.getTotalBufferSize=function(){var t=0;return Object.keys(a).forEach((function(e){t+=a[e].stats.size})),t}),{create:function(o,i,s,c){n.bufferCount++;var h=new u(i);function d(n){var o=35044,i=null,a=0,u=0,s=1;return Array.isArray(n)||t(n)||j(n)||n instanceof ArrayBuffer?i=n:"number"==typeof n?a=0|n:n&&(w.type(n,"object","buffer arguments must be an object, a number or an array"),"data"in n&&(w(null===i||Array.isArray(i)||t(i)||j(i),"invalid data for buffer"),i=n.data),"usage"in n&&(w.parameter(n.usage,V,"invalid buffer usage"),o=V[n.usage]),"type"in n&&(w.parameter(n.type,z,"invalid buffer type"),u=z[n.type]),"dimension"in n&&(w.type(n.dimension,"number","invalid dimension"),s=0|n.dimension),"length"in n&&(w.nni(a,"buffer length must be a nonnegative integer"),a=0|n.length)),h.bind(),i?f(h,i,o,u,s,c):(a&&e.bufferData(h.type,a,o),h.dtype=u||5121,h.usage=o,h.dimension=s,h.byteLength=a),r.profile&&(h.stats.size=h.byteLength*H[h.dtype]),d}function p(t,n){w(n+t.byteLength<=h.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+t.byteLength+" starting from offset "+n+" to a buffer of size "+h.byteLength),e.bufferSubData(h.type,n,t)}return a[h.id]=h,s||d(o),d._reglType="buffer",d._buffer=h,d.subdata=function(e,n){var r,o=0|(n||0);if(h.bind(),t(e)||e instanceof ArrayBuffer)p(e,o);else if(Array.isArray(e)){if(e.length>0)if("number"==typeof e[0]){var i=G.allocType(h.dtype,e.length);Y(i,e),p(i,o),G.freeType(i)}else if(Array.isArray(e[0])||t(e[0])){r=X(e);var a=W(e,r,h.dtype);p(a,o),G.freeType(a)}else w.raise("invalid buffer data")}else if(j(e)){r=e.shape;var u=e.stride,s=0,c=0,f=0,l=0;1===r.length?(s=r[0],c=1,f=u[0],l=0):2===r.length?(s=r[0],c=r[1],f=u[0],l=u[1]):w.raise("invalid shape");var v=Array.isArray(e.data)?h.dtype:q(e.data),m=G.allocType(v,s*c);K(m,e.data,s,c,f,l,e.offset),p(m,o),G.freeType(m)}else w.raise("invalid data for buffer subdata");return d},r.profile&&(d.stats=h.stats),d.destroy=function(){l(h)},d},createStream:function(t,e){var n=s.pop();return n||(n=new u(t)),n.bind(),f(n,e,35040,0,1,!1),n},destroyStream:function(t){s.push(t)},clear:function(){L(a).forEach(l),s.forEach(l)},getBuffer:function(t){return t&&t._buffer instanceof u?t._buffer:null},restore:function(){L(a).forEach((function(t){t.buffer=e.createBuffer(),e.bindBuffer(t.type,t.buffer),e.bufferData(t.type,t.persistentData||t.byteLength,t.usage)}))},_initBuffer:f}}(o,h,r,(function(t){return x.destroyBuffer(t)})),x=function(e,n,r,o,i){for(var a=r.maxAttributes,u=new Array(a),s=0;s<a;++s)u[s]=new Ct;var c=0,f={},l={Record:Ct,scope:{},state:u,currentVAO:null,targetVAO:null,restore:h()?function(){h()&&L(f).forEach((function(t){t.refresh()}))}:function(){},createVAO:function(e){var r=new p;function u(e){w(Array.isArray(e),"arguments to vertex array constructor must be an array"),w(e.length<a,"too many attributes"),w(e.length>0,"must specify at least one attribute");var o={},s=r.attributes;s.length=e.length;for(var c=0;c<e.length;++c){var f,l=e[c],h=s[c]=new Ct,d=l.data||l;Array.isArray(d)||t(d)||j(d)?(r.buffers[c]&&(f=r.buffers[c],t(d)&&f._buffer.byteLength>=d.byteLength?f.subdata(d):(f.destroy(),r.buffers[c]=null)),r.buffers[c]||(f=r.buffers[c]=i.create(l,34962,!1,!0)),h.buffer=i.getBuffer(f),h.size=0|h.buffer.dimension,h.normalized=!1,h.type=h.buffer.dtype,h.offset=0,h.stride=0,h.divisor=0,h.state=1,o[c]=1):i.getBuffer(l)?(h.buffer=i.getBuffer(l),h.size=0|h.buffer.dimension,h.normalized=!1,h.type=h.buffer.dtype,h.offset=0,h.stride=0,h.divisor=0,h.state=1):i.getBuffer(l.buffer)?(h.buffer=i.getBuffer(l.buffer),h.size=0|(+l.size||h.buffer.dimension),h.normalized=!!l.normalized||!1,"type"in l?(w.parameter(l.type,z,"invalid buffer type"),h.type=z[l.type]):h.type=h.buffer.dtype,h.offset=0|(l.offset||0),h.stride=0|(l.stride||0),h.divisor=0|(l.divisor||0),h.state=1,w(h.size>=1&&h.size<=4,"size must be between 1 and 4"),w(h.offset>=0,"invalid offset"),w(h.stride>=0&&h.stride<=255,"stride must be between 0 and 255"),w(h.divisor>=0,"divisor must be positive"),w(!h.divisor||!!n.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in l?(w(c>0,"first attribute must not be a constant"),h.x=+l.x||0,h.y=+l.y||0,h.z=+l.z||0,h.w=+l.w||0,h.state=2):w(!1,"invalid attribute spec for location "+c)}for(var p=0;p<r.buffers.length;++p)!o[p]&&r.buffers[p]&&(r.buffers[p].destroy(),r.buffers[p]=null);return r.refresh(),u}return o.vaoCount+=1,u.destroy=function(){for(var t=0;t<r.buffers.length;++t)r.buffers[t]&&r.buffers[t].destroy();r.buffers.length=0,r.destroy()},u._vao=r,u._reglType="vao",u(e)},getVAO:function(t){return"function"==typeof t&&t._vao?t._vao:null},destroyBuffer:function(t){for(var n=0;n<u.length;++n){var r=u[n];r.buffer===t&&(e.disableVertexAttribArray(n),r.buffer=null)}},setVAO:h()?function(t){if(t!==l.currentVAO){var e=h();t?e.bindVertexArrayOES(t.vao):e.bindVertexArrayOES(null),l.currentVAO=t}}:function(t){if(t!==l.currentVAO){if(t)t.bindAttrs();else for(var n=d(),r=0;r<u.length;++r){var o=u[r];o.buffer?(e.enableVertexAttribArray(r),e.vertexAttribPointer(r,o.size,o.type,o.normalized,o.stride,o.offfset),n&&o.divisor&&n.vertexAttribDivisorANGLE(r,o.divisor)):(e.disableVertexAttribArray(r),e.vertexAttrib4f(r,o.x,o.y,o.z,o.w))}l.currentVAO=t}},clear:h()?function(){L(f).forEach((function(t){t.destroy()}))}:function(){}};function h(){return n.oes_vertex_array_object}function d(){return n.angle_instanced_arrays}function p(){this.id=++c,this.attributes=[];var t=h();this.vao=t?t.createVertexArrayOES():null,f[this.id]=this,this.buffers=[]}return p.prototype.bindAttrs=function(){for(var t=d(),n=this.attributes,r=0;r<n.length;++r){var o=n[r];o.buffer?(e.enableVertexAttribArray(r),e.bindBuffer(34962,o.buffer.buffer),e.vertexAttribPointer(r,o.size,o.type,o.normalized,o.stride,o.offset),t&&o.divisor&&t.vertexAttribDivisorANGLE(r,o.divisor)):(e.disableVertexAttribArray(r),e.vertexAttrib4f(r,o.x,o.y,o.z,o.w))}for(var i=n.length;i<a;++i)e.disableVertexAttribArray(i)},p.prototype.refresh=function(){var t=h();t&&(t.bindVertexArrayOES(this.vao),this.bindAttrs(),l.currentVAO=this)},p.prototype.destroy=function(){if(this.vao){var t=h();this===l.currentVAO&&(l.currentVAO=null,t.bindVertexArrayOES(null)),t.deleteVertexArrayOES(this.vao),this.vao=null}f[this.id]&&(delete f[this.id],o.vaoCount-=1)},l}(o,d,b,h,_),E=function(e,n,r,o){var i={},a=0,u={uint8:5121,uint16:5123};function s(t){this.id=a++,i[this.id]=this,this.buffer=t,this.primType=4,this.vertCount=0,this.type=0}n.oes_element_index_uint&&(u.uint32=5125),s.prototype.bind=function(){this.buffer.bind()};var c=[];function f(o,i,a,u,s,c,f){var l;if(o.buffer.bind(),i){var h=f;f||t(i)&&(!j(i)||t(i.data))||(h=n.oes_element_index_uint?5125:5123),r._initBuffer(o.buffer,i,a,h,3)}else e.bufferData(34963,c,a),o.buffer.dtype=l||5121,o.buffer.usage=a,o.buffer.dimension=3,o.buffer.byteLength=c;if(l=f,!f){switch(o.buffer.dtype){case 5121:case 5120:l=5121;break;case 5123:case 5122:l=5123;break;case 5125:case 5124:l=5125;break;default:w.raise("unsupported type for element array")}o.buffer.dtype=l}o.type=l,w(5125!==l||!!n.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var d=s;d<0&&(d=o.buffer.byteLength,5123===l?d>>=1:5125===l&&(d>>=2)),o.vertCount=d;var p=u;if(u<0){p=4;var v=o.buffer.dimension;1===v&&(p=0),2===v&&(p=1),3===v&&(p=4)}o.primType=p}function l(t){o.elementsCount--,w(null!==t.buffer,"must not double destroy elements"),delete i[t.id],t.buffer.destroy(),t.buffer=null}return{create:function(e,n){var i=r.create(null,34963,!0),a=new s(i._buffer);function c(e){if(e)if("number"==typeof e)i(e),a.primType=4,a.vertCount=0|e,a.type=5121;else{var n=null,r=35044,o=-1,s=-1,l=0,h=0;Array.isArray(e)||t(e)||j(e)?n=e:(w.type(e,"object","invalid arguments for elements"),"data"in e&&(n=e.data,w(Array.isArray(n)||t(n)||j(n),"invalid data for element buffer")),"usage"in e&&(w.parameter(e.usage,V,"invalid element buffer usage"),r=V[e.usage]),"primitive"in e&&(w.parameter(e.primitive,Z,"invalid element buffer primitive"),o=Z[e.primitive]),"count"in e&&(w("number"==typeof e.count&&e.count>=0,"invalid vertex count for elements"),s=0|e.count),"type"in e&&(w.parameter(e.type,u,"invalid buffer type"),h=u[e.type]),"length"in e?l=0|e.length:(l=s,5123===h||5122===h?l*=2:5125!==h&&5124!==h||(l*=4))),f(a,n,r,o,s,l,h)}else i(),a.primType=4,a.vertCount=0,a.type=5121;return c}return o.elementsCount++,c(e),c._reglType="elements",c._elements=a,c.subdata=function(t,e){return i.subdata(t,e),c},c.destroy=function(){l(a)},c},createStream:function(t){var e=c.pop();return e||(e=new s(r.create(null,34963,!0,!1)._buffer)),f(e,t,35040,-1,-1,0,0),e},destroyStream:function(t){c.push(t)},getElements:function(t){return"function"==typeof t&&t._elements instanceof s?t._elements:null},clear:function(){L(i).forEach(l)}}}(o,d,_,h),S=function(t,n,r,o){var i={},a={};function u(t,e,n,r){this.name=t,this.id=e,this.location=n,this.info=r}function s(t,e){for(var n=0;n<t.length;++n)if(t[n].id===e.id)return void(t[n].location=e.location);t.push(e)}function c(e,r,o){var u=35632===e?i:a,s=u[r];if(!s){var c=n.str(r);s=t.createShader(e),t.shaderSource(s,c),t.compileShader(s),w.shaderError(t,s,c,e,o),u[r]=s}return s}var f={},l=[],h=0;function d(t,e){this.id=h++,this.fragId=t,this.vertId=e,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,o.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function p(e,r,i){var a,f,l=c(35632,e.fragId),h=c(35633,e.vertId),d=e.program=t.createProgram();if(t.attachShader(d,l),t.attachShader(d,h),i)for(a=0;a<i.length;++a){var p=i[a];t.bindAttribLocation(d,p[0],p[1])}t.linkProgram(d),w.linkError(t,d,n.str(e.fragId),n.str(e.vertId),r);var v=t.getProgramParameter(d,35718);o.profile&&(e.stats.uniformsCount=v);var m=e.uniforms;for(a=0;a<v;++a)if(f=t.getActiveUniform(d,a))if(f.size>1)for(var y=0;y<f.size;++y){var g=f.name.replace("[0]","["+y+"]");s(m,new u(g,n.id(g),t.getUniformLocation(d,g),f))}else s(m,new u(f.name,n.id(f.name),t.getUniformLocation(d,f.name),f));var b=t.getProgramParameter(d,35721);o.profile&&(e.stats.attributesCount=b);var _=e.attributes;for(a=0;a<b;++a)(f=t.getActiveAttrib(d,a))&&s(_,new u(f.name,n.id(f.name),t.getAttribLocation(d,f.name),f))}return o.profile&&(r.getMaxUniformsCount=function(){var t=0;return l.forEach((function(e){e.stats.uniformsCount>t&&(t=e.stats.uniformsCount)})),t},r.getMaxAttributesCount=function(){var t=0;return l.forEach((function(e){e.stats.attributesCount>t&&(t=e.stats.attributesCount)})),t}),{clear:function(){var e=t.deleteShader.bind(t);L(i).forEach(e),i={},L(a).forEach(e),a={},l.forEach((function(e){t.deleteProgram(e.program)})),l.length=0,f={},r.shaderCount=0},program:function(n,o,u,s){w.command(n>=0,"missing vertex shader",u),w.command(o>=0,"missing fragment shader",u);var c=f[o];c||(c=f[o]={});var h=c[n];if(h&&(h.refCount++,!s))return h;var v=new d(o,n);return r.shaderCount++,p(v,u,s),h||(c[n]=v),l.push(v),e(v,{destroy:function(){if(v.refCount--,v.refCount<=0){t.deleteProgram(v.program);var e=l.indexOf(v);l.splice(e,1),r.shaderCount--}c[v.vertId].refCount<=0&&(t.deleteShader(a[v.vertId]),delete a[v.vertId],delete f[v.fragId][v.vertId]),Object.keys(f[v.fragId]).length||(t.deleteShader(i[v.fragId]),delete i[v.fragId],delete f[v.fragId])}})},restore:function(){i={},a={};for(var t=0;t<l.length;++t)p(l[t],null,l[t].attributes.map((function(t){return[t.location,t.name]})))},shader:c,frag:-1,vert:-1}}(o,l,h,r),T=Tt(o,d,b,(function(){R.procs.poll()}),g,h,r),A=function(t,e,n,r,o){var i={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};e.ext_srgb&&(i.srgba=35907),e.ext_color_buffer_half_float&&(i.rgba16f=34842,i.rgb16f=34843),e.webgl_color_buffer_float&&(i.rgba32f=34836);var u=[];Object.keys(i).forEach((function(t){var e=i[t];u[e]=t}));var s=0,c={};function f(t){this.id=s++,this.refCount=1,this.renderbuffer=t,this.format=32854,this.width=0,this.height=0,o.profile&&(this.stats={size:0})}function l(e){var n=e.renderbuffer;w(n,"must not double destroy renderbuffer"),t.bindRenderbuffer(36161,null),t.deleteRenderbuffer(n),e.renderbuffer=null,e.refCount=0,delete c[e.id],r.renderbufferCount--}return f.prototype.decRef=function(){--this.refCount<=0&&l(this)},o.profile&&(r.getTotalRenderbufferSize=function(){var t=0;return Object.keys(c).forEach((function(e){t+=c[e].stats.size})),t}),{create:function(e,s){var l=new f(t.createRenderbuffer());function h(e,r){var s=0,c=0,f=32854;if("object"===a(e)&&e){var d=e;if("shape"in d){var p=d.shape;w(Array.isArray(p)&&p.length>=2,"invalid renderbuffer shape"),s=0|p[0],c=0|p[1]}else"radius"in d&&(s=c=0|d.radius),"width"in d&&(s=0|d.width),"height"in d&&(c=0|d.height);"format"in d&&(w.parameter(d.format,i,"invalid renderbuffer format"),f=i[d.format])}else"number"==typeof e?(s=0|e,c="number"==typeof r?0|r:s):e?w.raise("invalid arguments to renderbuffer constructor"):s=c=1;if(w(s>0&&c>0&&s<=n.maxRenderbufferSize&&c<=n.maxRenderbufferSize,"invalid renderbuffer size"),s!==l.width||c!==l.height||f!==l.format)return h.width=l.width=s,h.height=l.height=c,l.format=f,t.bindRenderbuffer(36161,l.renderbuffer),t.renderbufferStorage(36161,f,s,c),w(0===t.getError(),"invalid render buffer format"),o.profile&&(l.stats.size=It(l.format,l.width,l.height)),h.format=u[l.format],h}return c[l.id]=l,r.renderbufferCount++,h(e,s),h.resize=function(e,r){var i=0|e,a=0|r||i;return i===l.width&&a===l.height||(w(i>0&&a>0&&i<=n.maxRenderbufferSize&&a<=n.maxRenderbufferSize,"invalid renderbuffer size"),h.width=l.width=i,h.height=l.height=a,t.bindRenderbuffer(36161,l.renderbuffer),t.renderbufferStorage(36161,l.format,i,a),w(0===t.getError(),"invalid render buffer format"),o.profile&&(l.stats.size=It(l.format,l.width,l.height))),h},h._reglType="renderbuffer",h._renderbuffer=l,o.profile&&(h.stats=l.stats),h.destroy=function(){l.decRef()},h},clear:function(){L(c).forEach(l)},restore:function(){L(c).forEach((function(e){e.renderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,e.renderbuffer),t.renderbufferStorage(36161,e.format,e.width,e.height)})),t.bindRenderbuffer(36161,null)}}}(o,d,b,h,r),D=function(t,n,r,o,i,u){var s={cur:null,next:null,dirty:!1,setFBO:null},c=["rgba"],f=["rgba4","rgb565","rgb5 a1"];n.ext_srgb&&f.push("srgba"),n.ext_color_buffer_half_float&&f.push("rgba16f","rgb16f"),n.webgl_color_buffer_float&&f.push("rgba32f");var l=["uint8"];function h(t,e,n){this.target=t,this.texture=e,this.renderbuffer=n;var r=0,o=0;e?(r=e.width,o=e.height):n&&(r=n.width,o=n.height),this.width=r,this.height=o}function d(t){t&&(t.texture&&t.texture._texture.decRef(),t.renderbuffer&&t.renderbuffer._renderbuffer.decRef())}function p(t,e,n){if(t)if(t.texture){var r=t.texture._texture,o=Math.max(1,r.width),i=Math.max(1,r.height);w(o===e&&i===n,"inconsistent width/height for supplied texture"),r.refCount+=1}else{var a=t.renderbuffer._renderbuffer;w(a.width===e&&a.height===n,"inconsistent width/height for renderbuffer"),a.refCount+=1}}function v(e,n){n&&(n.texture?t.framebufferTexture2D(36160,e,n.target,n.texture._texture.texture,0):t.framebufferRenderbuffer(36160,e,36161,n.renderbuffer._renderbuffer.renderbuffer))}function m(t){var e=3553,n=null,r=null,o=t;"object"===a(t)&&(o=t.data,"target"in t&&(e=0|t.target)),w.type(o,"function","invalid attachment data");var i=o._reglType;return"texture2d"===i?(n=o,w(3553===e)):"textureCube"===i?(n=o,w(e>=34069&&e<34075,"invalid cube map target")):"renderbuffer"===i?(r=o,e=36161):w.raise("invalid regl object for attachment"),new h(e,n,r)}function y(t,e,n,r,a){if(n){var u=o.create2D({width:t,height:e,format:r,type:a});return u._texture.refCount=0,new h(3553,u,null)}var s=i.create({width:t,height:e,format:r});return s._renderbuffer.refCount=0,new h(36161,null,s)}function g(t){return t&&(t.texture||t.renderbuffer)}function b(t,e,n){t&&(t.texture?t.texture.resize(e,n):t.renderbuffer&&t.renderbuffer.resize(e,n),t.width=e,t.height=n)}n.oes_texture_half_float&&l.push("half float","float16"),n.oes_texture_float&&l.push("float","float32");var _=0,x={};function E(){this.id=_++,x[this.id]=this,this.framebuffer=t.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function S(t){t.colorAttachments.forEach(d),d(t.depthAttachment),d(t.stencilAttachment),d(t.depthStencilAttachment)}function T(e){var n=e.framebuffer;w(n,"must not double destroy framebuffer"),t.deleteFramebuffer(n),e.framebuffer=null,u.framebufferCount--,delete x[e.id]}function A(e){var n;t.bindFramebuffer(36160,e.framebuffer);var o=e.colorAttachments;for(n=0;n<o.length;++n)v(36064+n,o[n]);for(n=o.length;n<r.maxColorAttachments;++n)t.framebufferTexture2D(36160,36064+n,3553,null,0);t.framebufferTexture2D(36160,33306,3553,null,0),t.framebufferTexture2D(36160,36096,3553,null,0),t.framebufferTexture2D(36160,36128,3553,null,0),v(36096,e.depthAttachment),v(36128,e.stencilAttachment),v(33306,e.depthStencilAttachment);var i=t.checkFramebufferStatus(36160);t.isContextLost()||36053===i||w.raise("framebuffer configuration not supported, status = "+Mt[i]),t.bindFramebuffer(36160,s.next?s.next.framebuffer:null),s.cur=s.next,t.getError()}function I(t,o){var i=new E;function a(t,e){var o;w(s.next!==i,"can not update framebuffer which is currently in use");var u=0,h=0,d=!0,v=!0,b=null,_=!0,x="rgba",E="uint8",T=1,I=null,k=null,O=null,D=!1;if("number"==typeof t)u=0|t,h=0|e||u;else if(t){w.type(t,"object","invalid arguments for framebuffer");var R=t;if("shape"in R){var M=R.shape;w(Array.isArray(M)&&M.length>=2,"invalid shape for framebuffer"),u=M[0],h=M[1]}else"radius"in R&&(u=h=R.radius),"width"in R&&(u=R.width),"height"in R&&(h=R.height);("color"in R||"colors"in R)&&(b=R.color||R.colors,Array.isArray(b)&&w(1===b.length||n.webgl_draw_buffers,"multiple render targets not supported")),b||("colorCount"in R&&(T=0|R.colorCount,w(T>0,"invalid color buffer count")),"colorTexture"in R&&(_=!!R.colorTexture,x="rgba4"),"colorType"in R&&(E=R.colorType,_?(w(n.oes_texture_float||!("float"===E||"float32"===E),"you must enable OES_texture_float in order to use floating point framebuffer objects"),w(n.oes_texture_half_float||!("half float"===E||"float16"===E),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===E||"float16"===E?(w(n.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),x="rgba16f"):"float"!==E&&"float32"!==E||(w(n.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),x="rgba32f"),w.oneOf(E,l,"invalid color type")),"colorFormat"in R&&(x=R.colorFormat,c.indexOf(x)>=0?_=!0:f.indexOf(x)>=0?_=!1:_?w.oneOf(R.colorFormat,c,"invalid color format for texture"):w.oneOf(R.colorFormat,f,"invalid color format for renderbuffer"))),("depthTexture"in R||"depthStencilTexture"in R)&&(D=!(!R.depthTexture&&!R.depthStencilTexture),w(!D||n.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in R&&("boolean"==typeof R.depth?d=R.depth:(I=R.depth,v=!1)),"stencil"in R&&("boolean"==typeof R.stencil?v=R.stencil:(k=R.stencil,d=!1)),"depthStencil"in R&&("boolean"==typeof R.depthStencil?d=v=R.depthStencil:(O=R.depthStencil,d=!1,v=!1))}else u=h=1;var C=null,N=null,P=null,G=null;if(Array.isArray(b))C=b.map(m);else if(b)C=[m(b)];else for(C=new Array(T),o=0;o<T;++o)C[o]=y(u,h,_,x,E);w(n.webgl_draw_buffers||C.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),w(C.length<=r.maxColorAttachments,"too many color attachments, not supported"),u=u||C[0].width,h=h||C[0].height,I?N=m(I):d&&!v&&(N=y(u,h,D,"depth","uint32")),k?P=m(k):v&&!d&&(P=y(u,h,!1,"stencil","uint8")),O?G=m(O):!I&&!k&&v&&d&&(G=y(u,h,D,"depth stencil","depth stencil")),w(!!I+!!k+!!O<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var j=null;for(o=0;o<C.length;++o)if(p(C[o],u,h),w(!C[o]||C[o].texture&&kt.indexOf(C[o].texture._texture.format)>=0||C[o].renderbuffer&&Rt.indexOf(C[o].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+o+" is invalid"),C[o]&&C[o].texture){var L=Ot[C[o].texture._texture.format]*Dt[C[o].texture._texture.type];null===j?j=L:w(j===L,"all color attachments much have the same number of bits per pixel.")}return p(N,u,h),w(!N||N.texture&&6402===N.texture._texture.format||N.renderbuffer&&33189===N.renderbuffer._renderbuffer.format,"invalid depth attachment for framebuffer object"),p(P,u,h),w(!P||P.renderbuffer&&36168===P.renderbuffer._renderbuffer.format,"invalid stencil attachment for framebuffer object"),p(G,u,h),w(!G||G.texture&&34041===G.texture._texture.format||G.renderbuffer&&34041===G.renderbuffer._renderbuffer.format,"invalid depth-stencil attachment for framebuffer object"),S(i),i.width=u,i.height=h,i.colorAttachments=C,i.depthAttachment=N,i.stencilAttachment=P,i.depthStencilAttachment=G,a.color=C.map(g),a.depth=g(N),a.stencil=g(P),a.depthStencil=g(G),a.width=i.width,a.height=i.height,A(i),a}return u.framebufferCount++,a(t,o),e(a,{resize:function(t,e){w(s.next!==i,"can not resize a framebuffer which is currently in use");var n=Math.max(0|t,1),r=Math.max(0|e||n,1);if(n===i.width&&r===i.height)return a;for(var o=i.colorAttachments,u=0;u<o.length;++u)b(o[u],n,r);return b(i.depthAttachment,n,r),b(i.stencilAttachment,n,r),b(i.depthStencilAttachment,n,r),i.width=a.width=n,i.height=a.height=r,A(i),a},_reglType:"framebuffer",_framebuffer:i,destroy:function(){T(i),S(i)},use:function(t){s.setFBO({framebuffer:a},t)}})}return e(s,{getFramebuffer:function(t){if("function"==typeof t&&"framebuffer"===t._reglType){var e=t._framebuffer;if(e instanceof E)return e}return null},create:I,createCube:function(t){var i=Array(6);function a(t){var r;w(i.indexOf(s.next)<0,"can not update framebuffer which is currently in use");var u,f={color:null},h=0,d=null,p="rgba",v="uint8",m=1;if("number"==typeof t)h=0|t;else if(t){w.type(t,"object","invalid arguments for framebuffer");var y=t;if("shape"in y){var g=y.shape;w(Array.isArray(g)&&g.length>=2,"invalid shape for framebuffer"),w(g[0]===g[1],"cube framebuffer must be square"),h=g[0]}else"radius"in y&&(h=0|y.radius),"width"in y?(h=0|y.width,"height"in y&&w(y.height===h,"must be square")):"height"in y&&(h=0|y.height);("color"in y||"colors"in y)&&(d=y.color||y.colors,Array.isArray(d)&&w(1===d.length||n.webgl_draw_buffers,"multiple render targets not supported")),d||("colorCount"in y&&(m=0|y.colorCount,w(m>0,"invalid color buffer count")),"colorType"in y&&(w.oneOf(y.colorType,l,"invalid color type"),v=y.colorType),"colorFormat"in y&&(p=y.colorFormat,w.oneOf(y.colorFormat,c,"invalid color format for texture"))),"depth"in y&&(f.depth=y.depth),"stencil"in y&&(f.stencil=y.stencil),"depthStencil"in y&&(f.depthStencil=y.depthStencil)}else h=1;if(d)if(Array.isArray(d))for(u=[],r=0;r<d.length;++r)u[r]=d[r];else u=[d];else{u=Array(m);var b={radius:h,format:p,type:v};for(r=0;r<m;++r)u[r]=o.createCube(b)}for(f.color=Array(u.length),r=0;r<u.length;++r){var _=u[r];w("function"==typeof _&&"textureCube"===_._reglType,"invalid cube map"),h=h||_.width,w(_.width===h&&_.height===h,"invalid cube map shape"),f.color[r]={target:34069,data:u[r]}}for(r=0;r<6;++r){for(var x=0;x<u.length;++x)f.color[x].target=34069+r;r>0&&(f.depth=i[0].depth,f.stencil=i[0].stencil,f.depthStencil=i[0].depthStencil),i[r]?i[r](f):i[r]=I(f)}return e(a,{width:h,height:h,color:u})}return a(t),e(a,{faces:i,resize:function(t){var e,n=0|t;if(w(n>0&&n<=r.maxCubeMapSize,"invalid radius for cube fbo"),n===a.width)return a;var o=a.color;for(e=0;e<o.length;++e)o[e].resize(n);for(e=0;e<6;++e)i[e].resize(n);return a.width=a.height=n,a},_reglType:"framebufferCube",destroy:function(){i.forEach((function(t){t.destroy()}))}})},clear:function(){L(x).forEach(T)},restore:function(){s.cur=null,s.next=null,s.dirty=!0,L(x).forEach((function(e){e.framebuffer=t.createFramebuffer(),A(e)}))}})}(o,d,b,T,A,h),R=fe(o,l,d,b,_,E,0,D,{},x,S,{elements:null,primitive:4,count:-1,offset:0,instances:-1},g,p,r),C=Nt(o,D,R.procs.poll,g,i,d,b),N=R.next,P=o.canvas,U=[],B=[],F=[],Q=[r.onDestroy],J=null;function $(){if(0===U.length)return p&&p.update(),void(J=null);J=k.next($),ct();for(var t=U.length-1;t>=0;--t){var e=U[t];e&&e(g,null,0)}o.flush(),p&&p.update()}function tt(){!J&&U.length>0&&(J=k.next($))}function et(){J&&(k.cancel($),J=null)}function nt(t){t.preventDefault(),u=!0,et(),B.forEach((function(t){t()}))}function rt(t){o.getError(),u=!1,s.restore(),S.restore(),_.restore(),T.restore(),A.restore(),D.restore(),x.restore(),p&&p.restore(),R.procs.refresh(),tt(),F.forEach((function(t){t()}))}function ot(t){function n(t,e){var n={},r={};return Object.keys(t).forEach((function(o){var i=t[o];if(I.isDynamic(i))r[o]=I.unbox(i,o);else{if(e&&Array.isArray(i))for(var a=0;a<i.length;++a)if(I.isDynamic(i[a]))return void(r[o]=I.unbox(i,o));n[o]=i}})),{dynamic:r,static:n}}w(!!t,"invalid args to regl({...})"),w.type(t,"object","invalid args to regl({...})");var r=n(t.context||{},!0),o=n(t.uniforms||{},!0),i=n(t.attributes||{},!1),a=n(function(t){var n=e({},t);function r(t){if(t in n){var e=n[t];delete n[t],Object.keys(e).forEach((function(r){n[t+"."+r]=e[r]}))}}return delete n.uniforms,delete n.attributes,delete n.context,delete n.vao,"stencil"in n&&n.stencil.op&&(n.stencil.opBack=n.stencil.opFront=n.stencil.op,delete n.stencil.op),r("blend"),r("depth"),r("cull"),r("stencil"),r("polygonOffset"),r("scissor"),r("sample"),"vao"in t&&(n.vao=t.vao),n}(t),!1),s={gpuTime:0,cpuTime:0,count:0},c=R.compile(a,i,o,r,s),f=c.draw,l=c.batch,h=c.scope,d=[];return e((function(t,e){var n;if(u&&w.raise("context lost"),"function"==typeof t)return h.call(this,null,t,0);if("function"==typeof e)if("number"==typeof t)for(n=0;n<t;++n)h.call(this,null,e,n);else{if(!Array.isArray(t))return h.call(this,t,e,0);for(n=0;n<t.length;++n)h.call(this,t[n],e,n)}else if("number"==typeof t){if(t>0)return l.call(this,function(t){for(;d.length<t;)d.push(null);return d}(0|t),0|t)}else{if(!Array.isArray(t))return f.call(this,t);if(t.length)return l.call(this,t,t.length)}}),{stats:s,destroy:function(){c.destroy()}})}P&&(P.addEventListener("webglcontextlost",nt,!1),P.addEventListener("webglcontextrestored",rt,!1));var it=D.setFBO=ot({framebuffer:I.define.call(null,1,"framebuffer")});function at(t,e){var n=0;R.procs.poll();var r=e.color;r&&(o.clearColor(+r[0]||0,+r[1]||0,+r[2]||0,+r[3]||0),n|=16384),"depth"in e&&(o.clearDepth(+e.depth),n|=256),"stencil"in e&&(o.clearStencil(0|e.stencil),n|=1024),w(!!n,"called regl.clear with no buffer specified"),o.clear(n)}function ut(t){return w.type(t,"function","regl.frame() callback must be a function"),U.push(t),tt(),{cancel:function(){var e=he(U,t);w(e>=0,"cannot cancel a frame twice"),U[e]=function t(){var e=he(U,t);U[e]=U[U.length-1],U.length-=1,U.length<=0&&et()}}}}function st(){var t=N.viewport,e=N.scissor_box;t[0]=t[1]=e[0]=e[1]=0,g.viewportWidth=g.framebufferWidth=g.drawingBufferWidth=t[2]=e[2]=o.drawingBufferWidth,g.viewportHeight=g.framebufferHeight=g.drawingBufferHeight=t[3]=e[3]=o.drawingBufferHeight}function ct(){g.tick+=1,g.time=lt(),st(),R.procs.poll()}function ft(){T.refresh(),st(),R.procs.refresh(),p&&p.update()}function lt(){return(O()-v)/1e3}ft();var ht=e(ot,{clear:function(t){if(w("object"===a(t)&&t,"regl.clear() takes an object as input"),"framebuffer"in t)if(t.framebuffer&&"framebufferCube"===t.framebuffer_reglType)for(var n=0;n<6;++n)it(e({framebuffer:t.framebuffer.faces[n]},t),at);else it(t,at);else at(0,t)},prop:I.define.bind(null,1),context:I.define.bind(null,2),this:I.define.bind(null,3),draw:ot({}),buffer:function(t){return _.create(t,34962,!1,!1)},elements:function(t){return E.create(t,!1)},texture:T.create2D,cube:T.createCube,renderbuffer:A.create,framebuffer:D.create,framebufferCube:D.createCube,vao:x.createVAO,attributes:i,frame:ut,on:function(t,e){var n;switch(w.type(e,"function","listener callback must be a function"),t){case"frame":return ut(e);case"lost":n=B;break;case"restore":n=F;break;case"destroy":n=Q;break;default:w.raise("invalid event, must be one of frame,lost,restore,destroy")}return n.push(e),{cancel:function(){for(var t=0;t<n.length;++t)if(n[t]===e)return n[t]=n[n.length-1],void n.pop()}}},limits:b,hasExtension:function(t){return b.extensions.indexOf(t.toLowerCase())>=0},read:C,destroy:function(){U.length=0,et(),P&&(P.removeEventListener("webglcontextlost",nt),P.removeEventListener("webglcontextrestored",rt)),S.clear(),D.clear(),A.clear(),T.clear(),E.clear(),_.clear(),x.clear(),p&&p.clear(),Q.forEach((function(t){t()}))},_gl:o,_refresh:ft,poll:function(){ct(),p&&p.update()},now:lt,stats:h});return r.onDone(null,ht),ht}},"object"===a(e)&&void 0!==t?t.exports=i():void 0===(o="function"==typeof(r=i)?r.call(e,n,e,t):r)||(t.exports=o)},,,,,,,,function(t,e,n){var r=n(198);t.exports={Graph:r.Graph,json:n(299),alg:n(300),version:r.version}},function(t,e,n){t.exports={Graph:n(74),version:n(298)}},function(t,e,n){var r=n(104);t.exports=function(t){return r(t,4)}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(56),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():o.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(56);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(56);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(56);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var r=n(55);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(55),o=n(75),i=n(76);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(46),o=n(213),i=n(21),a=n(107),u=/^\\[object .+?Constructor\\]$/,s=Function.prototype,c=Object.prototype,f=s.toString,l=c.hasOwnProperty,h=RegExp("^"+f.call(l).replace(/[\\\\^$.*+?()[\\]{}|]/g,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?h:u).test(a(t))}},function(t,e,n){var r=n(42),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[u]=n:delete t[u]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r,o=n(214),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(24)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(217),o=n(55),i=n(75);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){var r=n(218),o=n(219),i=n(220),a=n(221),u=n(222);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e,n){var r=n(57);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(57),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(57),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var r=n(57);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(58);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){var e=n(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(58);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(58);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(58);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e,n){var r=n(47),o=n(32);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(31),o=n(25);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(31),o=n(78),i=n(25),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(110)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(47),o=n(38);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){var r=n(21),o=n(64),i=n(236),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var u in t)("constructor"!=u||!e&&a.call(t,u))&&n.push(u);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(47),o=n(81);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(47),o=n(115);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(117),o=n(115),i=n(38);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(37)(n(24),"DataView");t.exports=r},function(t,e,n){var r=n(37)(n(24),"Promise");t.exports=r},function(t,e,n){var r=n(37)(n(24),"WeakMap");t.exports=r},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(83),o=n(245),i=n(246),a=n(247),u=n(120);t.exports=function(t,e,n){var s=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return o(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(t,n);case"[object Map]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return i(t);case"[object Set]":return new s;case"[object Symbol]":return a(t)}}},function(t,e,n){var r=n(83);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(42),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,e,n){var r=n(249),o=n(63),i=n(79),a=i&&i.isMap,u=a?o(a):r;t.exports=u},function(t,e,n){var r=n(44),o=n(25);t.exports=function(t){return o(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(251),o=n(63),i=n(79),a=i&&i.isSet,u=a?o(a):r;t.exports=u},function(t,e,n){var r=n(44),o=n(25);t.exports=function(t){return o(t)&&"[object Set]"==r(t)}},function(t,e){t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),u=a.length;u--;){var s=a[t?u:++o];if(!1===n(i[s],s,i))break}return e}}},function(t,e,n){var r=n(28);t.exports=function(t,e){return function(n,o){if(null==n)return n;if(!r(n))return t(n,o);for(var i=n.length,a=e?i:-1,u=Object(n);(e?a--:++a<i)&&!1!==o(u[a],a,u););return n}}},function(t,e,n){var r=n(66);t.exports=function(t,e){var n=[];return r(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}},function(t,e,n){var r=n(256),o=n(264),i=n(132);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(54),o=n(127);t.exports=function(t,e,n,i){var a=n.length,u=a,s=!i;if(null==t)return!u;for(t=Object(t);a--;){var c=n[a];if(s&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<u;){var f=(c=n[a])[0],l=t[f],h=c[1];if(s&&c[2]){if(void 0===l&&!(f in t))return!1}else{var d=new r;if(i)var p=i(l,h,f,t,e,d);if(!(void 0===p?o(h,l,3,i,d):p))return!1}}return!0}},function(t,e,n){var r=n(54),o=n(128),i=n(261),a=n(263),u=n(44),s=n(13),c=n(43),f=n(22),l="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,d,p,v){var m=s(t),y=s(e),g=m?"[object Array]":u(t),b=y?"[object Array]":u(e),_=(g="[object Arguments]"==g?l:g)==l,x=(b="[object Arguments]"==b?l:b)==l,w=g==b;if(w&&c(t)){if(!c(e))return!1;m=!0,_=!1}if(w&&!_)return v||(v=new r),m||f(t)?o(t,e,n,d,p,v):i(t,e,g,n,d,p,v);if(!(1&n)){var E=_&&h.call(t,"__wrapped__"),S=x&&h.call(e,"__wrapped__");if(E||S){var T=E?t.value():t,A=S?e.value():e;return v||(v=new r),p(T,A,n,d,v)}}return!!w&&(v||(v=new r),a(t,e,n,d,p,v))}},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(42),o=n(119),i=n(41),a=n(128),u=n(262),s=n(87),c=r?r.prototype:void 0,f=c?c.valueOf:void 0;t.exports=function(t,e,n,r,c,l,h){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!l(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var d=u;case"[object Set]":var p=1&r;if(d||(d=s),t.size!=e.size&&!p)return!1;var v=h.get(t);if(v)return v==e;r|=2,h.set(t,e);var m=a(d(t),d(e),r,c,l,h);return h.delete(t),m;case"[object Symbol]":if(f)return f.call(t)==f.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e,n){var r=n(116),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,i,a,u){var s=1&n,c=r(t),f=c.length;if(f!=r(e).length&&!s)return!1;for(var l=f;l--;){var h=c[l];if(!(s?h in e:o.call(e,h)))return!1}var d=u.get(t),p=u.get(e);if(d&&p)return d==e&&p==t;var v=!0;u.set(t,e),u.set(e,t);for(var m=s;++l<f;){var y=t[h=c[l]],g=e[h];if(i)var b=s?i(g,y,h,e,t,u):i(y,g,h,t,e,u);if(!(void 0===b?y===g||a(y,g,n,i,u):b)){v=!1;break}m||(m="constructor"==h)}if(v&&!m){var _=t.constructor,x=e.constructor;_==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof x&&x instanceof x||(v=!1)}return u.delete(t),u.delete(e),v}},function(t,e,n){var r=n(131),o=n(32);t.exports=function(t){for(var e=o(t),n=e.length;n--;){var i=e[n],a=t[i];e[n]=[i,a,r(a)]}return e}},function(t,e,n){var r=n(127),o=n(266),i=n(134),a=n(88),u=n(131),s=n(132),c=n(49);t.exports=function(t,e){return a(t)&&u(e)?s(c(t),e):function(n){var a=o(n,t);return void 0===a&&a===e?i(n,t):r(e,a,3)}}},function(t,e,n){var r=n(67);t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},function(t,e,n){var r=n(268),o=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,i=/\\\\(\\\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)})),e}));t.exports=a},function(t,e,n){var r=n(269);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(76);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(42),o=n(69),i=n(13),a=n(45),u=r?r.prototype:void 0,s=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return s?s.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(136),o=n(273),i=n(88),a=n(49);t.exports=function(t){return i(t)?r(a(t)):o(t)}},function(t,e,n){var r=n(67);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},function(t,e,n){var r=n(80),o=n(44),i=n(48),a=n(13),u=n(28),s=n(43),c=n(64),f=n(22),l=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(u(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||s(t)||f(t)||i(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!r(t).length;for(var n in t)if(l.call(t,n))return!1;return!0}},function(t,e){t.exports=function(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}},function(t,e){t.exports=function(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n}},function(t,e,n){var r=n(80),o=n(44),i=n(28),a=n(279),u=n(280);t.exports=function(t){if(null==t)return 0;if(i(t))return a(t)?u(t):t.length;var e=o(t);return"[object Map]"==e||"[object Set]"==e?t.size:r(t).length}},function(t,e,n){var r=n(31),o=n(13),i=n(25);t.exports=function(t){return"string"==typeof t||!o(t)&&i(t)&&"[object String]"==r(t)}},function(t,e,n){var r=n(281),o=n(282),i=n(283);t.exports=function(t){return o(t)?i(t):r(t)}},function(t,e,n){var r=n(136)("length");t.exports=r},function(t,e){var n=RegExp("[\\\\u200d\\\\ud800-\\\\udfff\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\\\\ufe0e\\\\ufe0f]");t.exports=function(t){return n.test(t)}},function(t,e){var n="[\\\\ud800-\\\\udfff]",r="[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]",o="\\\\ud83c[\\\\udffb-\\\\udfff]",i="[^\\\\ud800-\\\\udfff]",a="(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}",u="[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]",s="(?:"+r+"|"+o+")"+"?",c="[\\\\ufe0e\\\\ufe0f]?"+s+("(?:\\\\u200d(?:"+[i,a,u].join("|")+")[\\\\ufe0e\\\\ufe0f]?"+s+")*"),f="(?:"+[i+r+"?",r,a,u,n].join("|")+")",l=RegExp(o+"(?="+o+")|"+f+c,"g");t.exports=function(t){for(var e=l.lastIndex=0;l.test(t);)++e;return e}},function(t,e,n){var r=n(77),o=n(122),i=n(85),a=n(29),u=n(65),s=n(13),c=n(43),f=n(46),l=n(21),h=n(22);t.exports=function(t,e,n){var d=s(t),p=d||c(t)||h(t);if(e=a(e,4),null==n){var v=t&&t.constructor;n=p?d?new v:[]:l(t)&&f(v)?o(u(t)):{}}return(p?r:i)(t,(function(t,r,o){return e(n,t,r,o)})),n}},function(t,e,n){var r=n(89),o=n(70),i=n(144),a=n(146),u=o((function(t){return i(r(t,1,a,!0))}));t.exports=u},function(t,e,n){var r=n(42),o=n(48),i=n(13),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(84),o=n(108),i=n(39),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var o=n(),i=16-(o-r);if(r=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(291);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},function(t,e,n){var r=n(145),o=n(292),i=n(293);t.exports=function(t,e,n){return e==e?i(t,e,n):r(t,o,n)}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}},function(t,e){t.exports=function(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}},function(t,e,n){var r=n(118),o=n(296),i=n(87),a=r&&1/i(new r([,-0]))[1]==1/0?function(t){return new r(t)}:o;t.exports=a},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(69);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},function(t,e){t.exports="2.1.8"},function(t,e,n){var r=n(20),o=n(74);function i(t){return r.map(t.nodes(),(function(e){var n=t.node(e),o=t.parent(e),i={v:e};return r.isUndefined(n)||(i.value=n),r.isUndefined(o)||(i.parent=o),i}))}function a(t){return r.map(t.edges(),(function(e){var n=t.edge(e),o={v:e.v,w:e.w};return r.isUndefined(e.name)||(o.name=e.name),r.isUndefined(n)||(o.value=n),o}))}t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:i(t),edges:a(t)};r.isUndefined(t.graph())||(e.value=r.clone(t.graph()));return e},read:function(t){var e=new o(t.options).setGraph(t.value);return r.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),r.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}}},function(t,e,n){t.exports={components:n(301),dijkstra:n(148),dijkstraAll:n(302),findCycles:n(303),floydWarshall:n(304),isAcyclic:n(305),postorder:n(306),preorder:n(307),prim:n(308),tarjan:n(150),topsort:n(151)}},function(t,e,n){var r=n(20);t.exports=function(t){var e,n={},o=[];function i(o){r.has(n,o)||(n[o]=!0,e.push(o),r.each(t.successors(o),i),r.each(t.predecessors(o),i))}return r.each(t.nodes(),(function(t){e=[],i(t),e.length&&o.push(e)})),o}},function(t,e,n){var r=n(148),o=n(20);t.exports=function(t,e,n){return o.transform(t.nodes(),(function(o,i){o[i]=r(t,i,e,n)}),{})}},function(t,e,n){var r=n(20),o=n(150);t.exports=function(t){return r.filter(o(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))}},function(t,e,n){var r=n(20);t.exports=function(t,e,n){return function(t,e,n){var r={},o=t.nodes();return o.forEach((function(t){r[t]={},r[t][t]={distance:0},o.forEach((function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})})),n(t).forEach((function(n){var o=n.v===t?n.w:n.v,i=e(n);r[t][o]={distance:i,predecessor:t}}))})),o.forEach((function(t){var e=r[t];o.forEach((function(n){var i=r[n];o.forEach((function(n){var r=i[t],o=e[n],a=i[n],u=r.distance+o.distance;u<a.distance&&(a.distance=u,a.predecessor=o.predecessor)}))}))})),r}(t,e||o,n||function(e){return t.outEdges(e)})};var o=r.constant(1)},function(t,e,n){var r=n(151);t.exports=function(t){try{r(t)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},function(t,e,n){var r=n(152);t.exports=function(t,e){return r(t,e,"post")}},function(t,e,n){var r=n(152);t.exports=function(t,e){return r(t,e,"pre")}},function(t,e,n){var r=n(20),o=n(74),i=n(149);t.exports=function(t,e){var n,a=new o,u={},s=new i;function c(t){var r=t.v===n?t.w:t.v,o=s.priority(r);if(void 0!==o){var i=e(t);i<o&&(u[r]=n,s.decrease(r,i))}}if(0===t.nodeCount())return a;r.each(t.nodes(),(function(t){s.add(t,Number.POSITIVE_INFINITY),a.setNode(t)})),s.decrease(t.nodes()[0],0);var f=!1;for(;s.size()>0;){if(n=s.removeMin(),r.has(u,n))a.setEdge(n,u[n]);else{if(f)throw new Error("Input graph is not connected: "+t);f=!0}t.nodeEdges(n).forEach(c)}return a}},function(t,e,n){"use strict";var r=n(11),o=n(346),i=n(349),a=n(350),u=n(18).normalizeRanks,s=n(352),c=n(18).removeEmptyRanks,f=n(353),l=n(354),h=n(355),d=n(356),p=n(365),v=n(18),m=n(23).Graph;t.exports=function(t,e){var n=e&&e.debugTiming?v.time:v.notime;n("layout",(function(){var e=n("  buildLayoutGraph",(function(){return function(t){var e=new m({multigraph:!0,compound:!0}),n=A(t.graph());return e.setGraph(r.merge({},g,T(n,y),r.pick(n,b))),r.forEach(t.nodes(),(function(n){var o=A(t.node(n));e.setNode(n,r.defaults(T(o,_),x)),e.setParent(n,t.parent(n))})),r.forEach(t.edges(),(function(n){var o=A(t.edge(n));e.setEdge(n,r.merge({},E,T(o,w),r.pick(o,S)))})),e}(t)}));n("  runLayout",(function(){!function(t,e){e("    makeSpaceForEdgeLabels",(function(){!function(t){var e=t.graph();e.ranksep/=2,r.forEach(t.edges(),(function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(t)})),e("    removeSelfEdges",(function(){!function(t){r.forEach(t.edges(),(function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}}))}(t)})),e("    acyclic",(function(){o.run(t)})),e("    nestingGraph.run",(function(){f.run(t)})),e("    rank",(function(){a(v.asNonCompoundGraph(t))})),e("    injectEdgeLabelProxies",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),o={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e:e};v.addDummyNode(t,"edge-proxy",o,"_ep")}}))}(t)})),e("    removeEmptyRanks",(function(){c(t)})),e("    nestingGraph.cleanup",(function(){f.cleanup(t)})),e("    normalizeRanks",(function(){u(t)})),e("    assignRankMinMax",(function(){!function(t){var e=0;r.forEach(t.nodes(),(function(n){var o=t.node(n);o.borderTop&&(o.minRank=t.node(o.borderTop).rank,o.maxRank=t.node(o.borderBottom).rank,e=r.max(e,o.maxRank))})),t.graph().maxRank=e}(t)})),e("    removeEdgeLabelProxies",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))}))}(t)})),e("    normalize.run",(function(){i.run(t)})),e("    parentDummyChains",(function(){s(t)})),e("    addBorderSegments",(function(){l(t)})),e("    order",(function(){d(t)})),e("    insertSelfEdges",(function(){!function(t){var e=v.buildLayerMatrix(t);r.forEach(e,(function(e){var n=0;r.forEach(e,(function(e,o){var i=t.node(e);i.order=o+n,r.forEach(i.selfEdges,(function(e){v.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:o+ ++n,e:e.e,label:e.label},"_se")})),delete i.selfEdges}))}))}(t)})),e("    adjustCoordinateSystem",(function(){h.adjust(t)})),e("    position",(function(){p(t)})),e("    positionSelfEdges",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,u=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:o+2*a/3,y:i-u},{x:o+5*a/6,y:i-u},{x:o+a,y:i},{x:o+5*a/6,y:i+u},{x:o+2*a/3,y:i+u}],n.label.x=n.x,n.label.y=n.y}}))}(t)})),e("    removeBorderNodes",(function(){!function(t){r.forEach(t.nodes(),(function(e){if(t.children(e).length){var n=t.node(e),o=t.node(n.borderTop),i=t.node(n.borderBottom),a=t.node(r.last(n.borderLeft)),u=t.node(r.last(n.borderRight));n.width=Math.abs(u.x-a.x),n.height=Math.abs(i.y-o.y),n.x=a.x+n.width/2,n.y=o.y+n.height/2}})),r.forEach(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))}(t)})),e("    normalize.undo",(function(){i.undo(t)})),e("    fixupEdgeLabelCoords",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(t)})),e("    undoCoordinateSystem",(function(){h.undo(t)})),e("    translateGraph",(function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,o=Number.POSITIVE_INFINITY,i=0,a=t.graph(),u=a.marginx||0,s=a.marginy||0;function c(t){var r=t.x,a=t.y,u=t.width,s=t.height;e=Math.min(e,r-u/2),n=Math.max(n,r+u/2),o=Math.min(o,a-s/2),i=Math.max(i,a+s/2)}r.forEach(t.nodes(),(function(e){c(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.has(n,"x")&&c(n)})),e-=u,o-=s,r.forEach(t.nodes(),(function(n){var r=t.node(n);r.x-=e,r.y-=o})),r.forEach(t.edges(),(function(n){var i=t.edge(n);r.forEach(i.points,(function(t){t.x-=e,t.y-=o})),r.has(i,"x")&&(i.x-=e),r.has(i,"y")&&(i.y-=o)})),a.width=n-e+u,a.height=i-o+s}(t)})),e("    assignNodeIntersects",(function(){!function(t){r.forEach(t.edges(),(function(e){var n,r,o=t.edge(e),i=t.node(e.v),a=t.node(e.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=a,r=i),o.points.unshift(v.intersectRect(i,n)),o.points.push(v.intersectRect(a,r))}))}(t)})),e("    reversePoints",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);n.reversed&&n.points.reverse()}))}(t)})),e("    acyclic.undo",(function(){o.undo(t)}))}(e,n)})),n("  updateInputGraph",(function(){!function(t,e){r.forEach(t.nodes(),(function(n){var r=t.node(n),o=e.node(n);r&&(r.x=o.x,r.y=o.y,e.children(n).length&&(r.width=o.width,r.height=o.height))})),r.forEach(t.edges(),(function(n){var o=t.edge(n),i=e.edge(n);o.points=i.points,r.has(i,"x")&&(o.x=i.x,o.y=i.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)}))}))};var y=["nodesep","edgesep","ranksep","marginx","marginy"],g={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],_=["width","height"],x={width:0,height:0},w=["minlen","weight","width","height","labeloffset"],E={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},S=["labelpos"];function T(t,e){return r.mapValues(r.pick(t,e),Number)}function A(t){var e={};return r.forEach(t,(function(t,n){e[n.toLowerCase()]=t})),e}},function(t,e,n){var r=n(104);t.exports=function(t){return r(t,5)}},function(t,e,n){var r=n(70),o=n(41),i=n(71),a=n(38),u=Object.prototype,s=u.hasOwnProperty,c=r((function(t,e){t=Object(t);var n=-1,r=e.length,c=r>2?e[2]:void 0;for(c&&i(e[0],e[1],c)&&(r=1);++n<r;)for(var f=e[n],l=a(f),h=-1,d=l.length;++h<d;){var p=l[h],v=t[p];(void 0===v||o(v,u[p])&&!s.call(t,p))&&(t[p]=f[p])}return t}));t.exports=c},function(t,e,n){var r=n(313)(n(314));t.exports=r},function(t,e,n){var r=n(29),o=n(28),i=n(32);t.exports=function(t){return function(e,n,a){var u=Object(e);if(!o(e)){var s=r(n,3);e=i(e),n=function(t){return s(u[t],t,u)}}var c=t(e,n,a);return c>-1?u[s?e[c]:c]:void 0}}},function(t,e,n){var r=n(145),o=n(29),i=n(315),a=Math.max;t.exports=function(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var s=null==n?0:i(n);return s<0&&(s=a(u+s,0)),r(t,o(e,3),s)}},function(t,e,n){var r=n(153);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},function(t,e,n){var r=n(21),o=n(45),i=/^\\s+|\\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var n=u.test(t);return n||s.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}},function(t,e,n){var r=n(86),o=n(125),i=n(38);t.exports=function(t,e){return null==t?t:r(t,o(e),i)}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(60),o=n(85),i=n(29);t.exports=function(t,e){var n={};return e=i(e,3),o(t,(function(t,o,i){r(n,o,e(t,o,i))})),n}},function(t,e,n){var r=n(90),o=n(321),i=n(39);t.exports=function(t){return t&&t.length?r(t,i,o):void 0}},function(t,e){t.exports=function(t,e){return t>e}},function(t,e,n){var r=n(323),o=n(326)((function(t,e,n){r(t,e,n)}));t.exports=o},function(t,e,n){var r=n(54),o=n(155),i=n(86),a=n(324),u=n(21),s=n(38),c=n(156);t.exports=function t(e,n,f,l,h){e!==n&&i(n,(function(i,s){if(h||(h=new r),u(i))a(e,n,s,f,t,l,h);else{var d=l?l(c(e,s),i,s+"",e,n,h):void 0;void 0===d&&(d=i),o(e,s,d)}}),s)}},function(t,e,n){var r=n(155),o=n(111),i=n(120),a=n(112),u=n(121),s=n(48),c=n(13),f=n(146),l=n(43),h=n(46),d=n(21),p=n(101),v=n(22),m=n(156),y=n(325);t.exports=function(t,e,n,g,b,_,x){var w=m(t,n),E=m(e,n),S=x.get(E);if(S)r(t,n,S);else{var T=_?_(w,E,n+"",t,e,x):void 0,A=void 0===T;if(A){var I=c(E),k=!I&&l(E),O=!I&&!k&&v(E);T=E,I||k||O?c(w)?T=w:f(w)?T=a(w):k?(A=!1,T=o(E,!0)):O?(A=!1,T=i(E,!0)):T=[]:p(E)||s(E)?(T=w,s(w)?T=y(w):d(w)&&!h(w)||(T=u(E))):A=!1}A&&(x.set(E,T),b(T,E,g,_,x),x.delete(E)),r(t,n,T)}}},function(t,e,n){var r=n(47),o=n(38);t.exports=function(t){return r(t,o(t))}},function(t,e,n){var r=n(70),o=n(71);t.exports=function(t){return r((function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,u&&o(n[0],n[1],u)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,a)}return e}))}},function(t,e,n){var r=n(90),o=n(157),i=n(39);t.exports=function(t){return t&&t.length?r(t,i,o):void 0}},function(t,e,n){var r=n(90),o=n(29),i=n(157);t.exports=function(t,e){return t&&t.length?r(t,o(e,2),i):void 0}},function(t,e,n){var r=n(24);t.exports=function(){return r.Date.now()}},function(t,e,n){var r=n(331),o=n(334)((function(t,e){return null==t?{}:r(t,e)}));t.exports=o},function(t,e,n){var r=n(332),o=n(134);t.exports=function(t,e){return r(t,e,(function(e,n){return o(t,n)}))}},function(t,e,n){var r=n(67),o=n(333),i=n(68);t.exports=function(t,e,n){for(var a=-1,u=e.length,s={};++a<u;){var c=e[a],f=r(t,c);n(f,c)&&o(s,i(c,t),f)}return s}},function(t,e,n){var r=n(59),o=n(68),i=n(62),a=n(21),u=n(49);t.exports=function(t,e,n,s){if(!a(t))return t;for(var c=-1,f=(e=o(e,t)).length,l=f-1,h=t;null!=h&&++c<f;){var d=u(e[c]),p=n;if("__proto__"===d||"constructor"===d||"prototype"===d)return t;if(c!=l){var v=h[d];void 0===(p=s?s(v,d,h):void 0)&&(p=a(v)?v:i(e[c+1])?[]:{})}r(h,d,p),h=h[d]}return t}},function(t,e,n){var r=n(154),o=n(142),i=n(143);t.exports=function(t){return i(o(t,void 0,r),t+"")}},function(t,e,n){var r=n(336)();t.exports=r},function(t,e,n){var r=n(337),o=n(71),i=n(153);t.exports=function(t){return function(e,n,a){return a&&"number"!=typeof a&&o(e,n,a)&&(n=a=void 0),e=i(e),void 0===n?(n=e,e=0):n=i(n),a=void 0===a?e<n?1:-1:i(a),r(e,n,a,t)}}},function(t,e){var n=Math.ceil,r=Math.max;t.exports=function(t,e,o,i){for(var a=-1,u=r(n((e-t)/(o||1)),0),s=Array(u);u--;)s[i?u:++a]=t,t+=o;return s}},function(t,e,n){var r=n(89),o=n(339),i=n(70),a=n(71),u=i((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),o(t,r(e,1),[])}));t.exports=u},function(t,e,n){var r=n(69),o=n(67),i=n(29),a=n(140),u=n(340),s=n(63),c=n(341),f=n(39),l=n(13);t.exports=function(t,e,n){e=e.length?r(e,(function(t){return l(t)?function(e){return o(e,1===t.length?t[0]:t)}:t})):[f];var h=-1;e=r(e,s(i));var d=a(t,(function(t,n,o){return{criteria:r(e,(function(e){return e(t)})),index:++h,value:t}}));return u(d,(function(t,e){return c(t,e,n)}))}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var r=n(342);t.exports=function(t,e,n){for(var o=-1,i=t.criteria,a=e.criteria,u=i.length,s=n.length;++o<u;){var c=r(i[o],a[o]);if(c)return o>=s?c:c*("desc"==n[o]?-1:1)}return t.index-e.index}},function(t,e,n){var r=n(45);t.exports=function(t,e){if(t!==e){var n=void 0!==t,o=null===t,i=t==t,a=r(t),u=void 0!==e,s=null===e,c=e==e,f=r(e);if(!s&&!f&&!a&&t>e||a&&u&&c&&!s&&!f||o&&u&&c||!n&&c||!i)return 1;if(!o&&!a&&!f&&t<e||f&&n&&i&&!o&&!a||s&&n&&i||!u&&i||!c)return-1}return 0}},function(t,e,n){var r=n(133),o=0;t.exports=function(t){var e=++o;return r(t)+e}},function(t,e,n){var r=n(59),o=n(345);t.exports=function(t,e){return o(t||[],e||[],r)}},function(t,e){t.exports=function(t,e,n){for(var r=-1,o=t.length,i=e.length,a={};++r<o;){var u=r<i?e[r]:void 0;n(a,t[r],u)}return a}},function(t,e,n){"use strict";var r=n(11),o=n(347);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?o(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},o={};function i(a){r.has(o,a)||(o[a]=!0,n[a]=!0,r.forEach(t.outEdges(a),(function(t){r.has(n,t.w)?e.push(t):i(t.w)})),delete n[a])}return r.forEach(t.nodes(),i),e}(t);r.forEach(e,(function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,r.uniqueId("rev"))}))},undo:function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}}))}}},function(t,e,n){var r=n(11),o=n(23).Graph,i=n(348);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new o,a=0,u=0;r.forEach(t.nodes(),(function(t){n.setNode(t,{v:t,in:0,out:0})})),r.forEach(t.edges(),(function(t){var r=n.edge(t.v,t.w)||0,o=e(t),i=r+o;n.setEdge(t.v,t.w,i),u=Math.max(u,n.node(t.v).out+=o),a=Math.max(a,n.node(t.w).in+=o)}));var c=r.range(u+a+3).map((function(){return new i})),f=a+1;return r.forEach(n.nodes(),(function(t){s(c,f,n.node(t))})),{graph:n,buckets:c,zeroIdx:f}}(t,e||a),c=function(t,e,n){var r,o=[],i=e[e.length-1],a=e[0];for(;t.nodeCount();){for(;r=a.dequeue();)u(t,e,n,r);for(;r=i.dequeue();)u(t,e,n,r);if(t.nodeCount())for(var s=e.length-2;s>0;--s)if(r=e[s].dequeue()){o=o.concat(u(t,e,n,r,!0));break}}return o}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(c,(function(e){return t.outEdges(e.v,e.w)})),!0)};var a=r.constant(1);function u(t,e,n,o,i){var a=i?[]:void 0;return r.forEach(t.inEdges(o.v),(function(r){var o=t.edge(r),u=t.node(r.v);i&&a.push({v:r.v,w:r.w}),u.out-=o,s(e,n,u)})),r.forEach(t.outEdges(o.v),(function(r){var o=t.edge(r),i=r.w,a=t.node(i);a.in-=o,s(e,n,a)})),t.removeNode(o.v),a}function s(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}},function(t,e){function n(){var t={};t._next=t._prev=t,this._sentinel=t}function r(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function o(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=n,n.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return r(e),e},n.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&r(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},n.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,o)),n=n._prev;return"["+t.join(", ")+"]"}},function(t,e,n){"use strict";var r=n(11),o=n(18);t.exports={run:function(t){t.graph().dummyChains=[],r.forEach(t.edges(),(function(e){!function(t,e){var n,r,i,a=e.v,u=t.node(a).rank,s=e.w,c=t.node(s).rank,f=e.name,l=t.edge(e),h=l.labelRank;if(c===u+1)return;for(t.removeEdge(e),i=0,++u;u<c;++i,++u)l.points=[],r={width:0,height:0,edgeLabel:l,edgeObj:e,rank:u},n=o.addDummyNode(t,"edge",r,"_d"),u===h&&(r.width=l.width,r.height=l.height,r.dummy="edge-label",r.labelpos=l.labelpos),t.setEdge(a,n,{weight:l.weight},f),0===i&&t.graph().dummyChains.push(n),a=n;t.setEdge(a,s,{weight:l.weight},f)}(t,e)}))},undo:function(t){r.forEach(t.graph().dummyChains,(function(e){var n,r=t.node(e),o=r.edgeLabel;for(t.setEdge(r.edgeObj,o);r.dummy;)n=t.successors(e)[0],t.removeNode(e),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),e=n,r=t.node(e)}))}}},function(t,e,n){"use strict";var r=n(72).longestPath,o=n(158),i=n(351);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":u(t);break;case"tight-tree":!function(t){r(t),o(t)}(t);break;case"longest-path":a(t);break;default:u(t)}};var a=r;function u(t){i(t)}},function(t,e,n){"use strict";var r=n(11),o=n(158),i=n(72).slack,a=n(72).longestPath,u=n(23).alg.preorder,s=n(23).alg.postorder,c=n(18).simplify;function f(t){t=c(t),a(t);var e,n=o(t);for(d(n),l(n,t);e=v(n);)y(n,t,e,m(n,t,e))}function l(t,e){var n=s(t,t.nodes());n=n.slice(0,n.length-1),r.forEach(n,(function(n){!function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=h(t,e,n)}(t,e,n)}))}function h(t,e,n){var o=t.node(n).parent,i=!0,a=e.edge(n,o),u=0;return a||(i=!1,a=e.edge(o,n)),u=a.weight,r.forEach(e.nodeEdges(n),(function(r){var a,s,c=r.v===n,f=c?r.w:r.v;if(f!==o){var l=c===i,h=e.edge(r).weight;if(u+=l?h:-h,a=n,s=f,t.hasEdge(a,s)){var d=t.edge(n,f).cutvalue;u+=l?-d:d}}})),u}function d(t,e){arguments.length<2&&(e=t.nodes()[0]),p(t,{},1,e)}function p(t,e,n,o,i){var a=n,u=t.node(o);return e[o]=!0,r.forEach(t.neighbors(o),(function(i){r.has(e,i)||(n=p(t,e,n,i,o))})),u.low=a,u.lim=n++,i?u.parent=i:delete u.parent,n}function v(t){return r.find(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function m(t,e,n){var o=n.v,a=n.w;e.hasEdge(o,a)||(o=n.w,a=n.v);var u=t.node(o),s=t.node(a),c=u,f=!1;u.lim>s.lim&&(c=s,f=!0);var l=r.filter(e.edges(),(function(e){return f===g(t,t.node(e.v),c)&&f!==g(t,t.node(e.w),c)}));return r.minBy(l,(function(t){return i(e,t)}))}function y(t,e,n,o){var i=n.v,a=n.w;t.removeEdge(i,a),t.setEdge(o.v,o.w,{}),d(t),l(t,e),function(t,e){var n=r.find(t.nodes(),(function(t){return!e.node(t).parent})),o=u(t,n);o=o.slice(1),r.forEach(o,(function(n){var r=t.node(n).parent,o=e.edge(n,r),i=!1;o||(o=e.edge(r,n),i=!0),e.node(n).rank=e.node(r).rank+(i?o.minlen:-o.minlen)}))}(t,e)}function g(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}t.exports=f,f.initLowLimValues=d,f.initCutValues=l,f.calcCutValue=h,f.leaveEdge=v,f.enterEdge=m,f.exchangeEdges=y},function(t,e,n){var r=n(11);t.exports=function(t){var e=function(t){var e={},n=0;function o(i){var a=n;r.forEach(t.children(i),o),e[i]={low:a,lim:n++}}return r.forEach(t.children(),o),e}(t);r.forEach(t.graph().dummyChains,(function(n){for(var r=t.node(n),o=r.edgeObj,i=function(t,e,n,r){var o,i,a=[],u=[],s=Math.min(e[n].low,e[r].low),c=Math.max(e[n].lim,e[r].lim);o=n;do{o=t.parent(o),a.push(o)}while(o&&(e[o].low>s||c>e[o].lim));i=o,o=r;for(;(o=t.parent(o))!==i;)u.push(o);return{path:a.concat(u.reverse()),lca:i}}(t,e,o.v,o.w),a=i.path,u=i.lca,s=0,c=a[s],f=!0;n!==o.w;){if(r=t.node(n),f){for(;(c=a[s])!==u&&t.node(c).maxRank<r.rank;)s++;c===u&&(f=!1)}if(!f){for(;s<a.length-1&&t.node(c=a[s+1]).minRank<=r.rank;)s++;c=a[s]}t.setParent(n,c),n=t.successors(n)[0]}}))}},function(t,e,n){var r=n(11),o=n(18);t.exports={run:function(t){var e=o.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};return r.forEach(t.children(),(function(n){!function n(o,i){var a=t.children(o);a&&a.length&&r.forEach(a,(function(t){n(t,i+1)}));e[o]=i}(n,1)})),e}(t),i=r.max(r.values(n))-1,a=2*i+1;t.graph().nestingRoot=e,r.forEach(t.edges(),(function(e){t.edge(e).minlen*=a}));var u=function(t){return r.reduce(t.edges(),(function(e,n){return e+t.edge(n).weight}),0)}(t)+1;r.forEach(t.children(),(function(s){!function t(e,n,i,a,u,s,c){var f=e.children(c);if(!f.length)return void(c!==n&&e.setEdge(n,c,{weight:0,minlen:i}));var l=o.addBorderNode(e,"_bt"),h=o.addBorderNode(e,"_bb"),d=e.node(c);e.setParent(l,c),d.borderTop=l,e.setParent(h,c),d.borderBottom=h,r.forEach(f,(function(r){t(e,n,i,a,u,s,r);var o=e.node(r),f=o.borderTop?o.borderTop:r,d=o.borderBottom?o.borderBottom:r,p=o.borderTop?a:2*a,v=f!==d?1:u-s[c]+1;e.setEdge(l,f,{weight:p,minlen:v,nestingEdge:!0}),e.setEdge(d,h,{weight:p,minlen:v,nestingEdge:!0})})),e.parent(c)||e.setEdge(n,l,{weight:0,minlen:u+s[c]})}(t,e,a,u,i,n,s)})),t.graph().nodeRankFactor=a},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,r.forEach(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))}}},function(t,e,n){var r=n(11),o=n(18);function i(t,e,n,r,i,a){var u={width:0,height:0,rank:a,borderType:e},s=i[e][a-1],c=o.addDummyNode(t,"border",u,n);i[e][a]=c,t.setParent(c,r),s&&t.setEdge(s,c,{weight:1})}t.exports=function(t){r.forEach(t.children(),(function e(n){var o=t.children(n),a=t.node(n);if(o.length&&r.forEach(o,e),r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var u=a.minRank,s=a.maxRank+1;u<s;++u)i(t,"borderLeft","_bl",n,a,u),i(t,"borderRight","_br",n,a,u)}}))}},function(t,e,n){"use strict";var r=n(11);function o(t){r.forEach(t.nodes(),(function(e){i(t.node(e))})),r.forEach(t.edges(),(function(e){i(t.edge(e))}))}function i(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function u(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||o(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){r.forEach(t.nodes(),(function(e){a(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,a),r.has(n,"y")&&a(n)}))}(t);"lr"!==e&&"rl"!==e||(!function(t){r.forEach(t.nodes(),(function(e){u(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,u),r.has(n,"x")&&u(n)}))}(t),o(t))}}},function(t,e,n){"use strict";var r=n(11),o=n(357),i=n(358),a=n(359),u=n(363),s=n(364),c=n(23).Graph,f=n(18);function l(t,e,n){return r.map(e,(function(e){return u(t,e,n)}))}function h(t,e){var n=new c;r.forEach(t,(function(t){var o=t.graph().root,i=a(t,o,n,e);r.forEach(i.vs,(function(e,n){t.node(e).order=n})),s(t,n,i.vs)}))}function d(t,e){r.forEach(e,(function(e){r.forEach(e,(function(e,n){t.node(e).order=n}))}))}t.exports=function(t){var e=f.maxRank(t),n=l(t,r.range(1,e+1),"inEdges"),a=l(t,r.range(e-1,-1,-1),"outEdges"),u=o(t);d(t,u);for(var s,c=Number.POSITIVE_INFINITY,p=0,v=0;v<4;++p,++v){h(p%2?n:a,p%4>=2),u=f.buildLayerMatrix(t);var m=i(t,u);m<c&&(v=0,s=r.cloneDeep(u),c=m)}d(t,s)}},function(t,e,n){"use strict";var r=n(11);t.exports=function(t){var e={},n=r.filter(t.nodes(),(function(e){return!t.children(e).length})),o=r.max(r.map(n,(function(e){return t.node(e).rank}))),i=r.map(r.range(o+1),(function(){return[]}));var a=r.sortBy(n,(function(e){return t.node(e).rank}));return r.forEach(a,(function n(o){if(r.has(e,o))return;e[o]=!0;var a=t.node(o);i[a.rank].push(o),r.forEach(t.successors(o),n)})),i}},function(t,e,n){"use strict";var r=n(11);function o(t,e,n){for(var o=r.zipObject(n,r.map(n,(function(t,e){return e}))),i=r.flatten(r.map(e,(function(e){return r.sortBy(r.map(t.outEdges(e),(function(e){return{pos:o[e.w],weight:t.edge(e).weight}})),"pos")})),!0),a=1;a<n.length;)a<<=1;var u=2*a-1;a-=1;var s=r.map(new Array(u),(function(){return 0})),c=0;return r.forEach(i.forEach((function(t){var e=t.pos+a;s[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=s[e+1]),s[e=e-1>>1]+=t.weight;c+=t.weight*n}))),c}t.exports=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=o(t,e[r-1],e[r]);return n}},function(t,e,n){var r=n(11),o=n(360),i=n(361),a=n(362);t.exports=function t(e,n,u,s){var c=e.children(n),f=e.node(n),l=f?f.borderLeft:void 0,h=f?f.borderRight:void 0,d={};l&&(c=r.filter(c,(function(t){return t!==l&&t!==h})));var p=o(e,c);r.forEach(p,(function(n){if(e.children(n.v).length){var o=t(e,n.v,u,s);d[n.v]=o,r.has(o,"barycenter")&&(i=n,a=o,r.isUndefined(i.barycenter)?(i.barycenter=a.barycenter,i.weight=a.weight):(i.barycenter=(i.barycenter*i.weight+a.barycenter*a.weight)/(i.weight+a.weight),i.weight+=a.weight))}var i,a}));var v=i(p,u);!function(t,e){r.forEach(t,(function(t){t.vs=r.flatten(t.vs.map((function(t){return e[t]?e[t].vs:t})),!0)}))}(v,d);var m=a(v,s);if(l&&(m.vs=r.flatten([l,m.vs,h],!0),e.predecessors(l).length)){var y=e.node(e.predecessors(l)[0]),g=e.node(e.predecessors(h)[0]);r.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+y.order+g.order)/(m.weight+2),m.weight+=2}return m}},function(t,e,n){var r=n(11);t.exports=function(t,e){return r.map(e,(function(e){var n=t.inEdges(e);if(n.length){var o=r.reduce(n,(function(e,n){var r=t.edge(n),o=t.node(n.v);return{sum:e.sum+r.weight*o.order,weight:e.weight+r.weight}}),{sum:0,weight:0});return{v:e,barycenter:o.sum/o.weight,weight:o.weight}}return{v:e}}))}},function(t,e,n){"use strict";var r=n(11);t.exports=function(t,e){var n={};return r.forEach(t,(function(t,e){var o=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};r.isUndefined(t.barycenter)||(o.barycenter=t.barycenter,o.weight=t.weight)})),r.forEach(e.edges(),(function(t){var e=n[t.v],o=n[t.w];r.isUndefined(e)||r.isUndefined(o)||(o.indegree++,e.out.push(n[t.w]))})),function(t){var e=[];function n(t){return function(e){e.merged||(r.isUndefined(e.barycenter)||r.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function o(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}for(;t.length;){var i=t.pop();e.push(i),r.forEach(i.in.reverse(),n(i)),r.forEach(i.out,o(i))}return r.map(r.filter(e,(function(t){return!t.merged})),(function(t){return r.pick(t,["vs","i","barycenter","weight"])}))}(r.filter(n,(function(t){return!t.indegree})))}},function(t,e,n){var r=n(11),o=n(18);function i(t,e,n){for(var o;e.length&&(o=r.last(e)).i<=n;)e.pop(),t.push(o.vs),n++;return n}t.exports=function(t,e){var n=o.partition(t,(function(t){return r.has(t,"barycenter")})),a=n.lhs,u=r.sortBy(n.rhs,(function(t){return-t.i})),s=[],c=0,f=0,l=0;a.sort((h=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:h?e.i-t.i:t.i-e.i})),l=i(s,u,l),r.forEach(a,(function(t){l+=t.vs.length,s.push(t.vs),c+=t.barycenter*t.weight,f+=t.weight,l=i(s,u,l)}));var h;var d={vs:r.flatten(s,!0)};f&&(d.barycenter=c/f,d.weight=f);return d}},function(t,e,n){var r=n(11),o=n(23).Graph;t.exports=function(t,e,n){var i=function(t){var e;for(;t.hasNode(e=r.uniqueId("_root")););return e}(t),a=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(e){return t.node(e)}));return r.forEach(t.nodes(),(function(o){var u=t.node(o),s=t.parent(o);(u.rank===e||u.minRank<=e&&e<=u.maxRank)&&(a.setNode(o),a.setParent(o,s||i),r.forEach(t[n](o),(function(e){var n=e.v===o?e.w:e.v,i=a.edge(n,o),u=r.isUndefined(i)?0:i.weight;a.setEdge(n,o,{weight:t.edge(e).weight+u})})),r.has(u,"minRank")&&a.setNode(o,{borderLeft:u.borderLeft[e],borderRight:u.borderRight[e]}))})),a}},function(t,e,n){var r=n(11);t.exports=function(t,e,n){var o,i={};r.forEach(n,(function(n){for(var r,a,u=t.parent(n);u;){if((r=t.parent(u))?(a=i[r],i[r]=u):(a=o,o=u),a&&a!==u)return void e.setEdge(a,u);u=r}}))}},function(t,e,n){"use strict";var r=n(11),o=n(18),i=n(366).positionX;t.exports=function(t){(function(t){var e=o.buildLayerMatrix(t),n=t.graph().ranksep,i=0;r.forEach(e,(function(e){var o=r.max(r.map(e,(function(e){return t.node(e).height})));r.forEach(e,(function(e){t.node(e).y=i+o/2})),i+=o+n}))})(t=o.asNonCompoundGraph(t)),r.forEach(i(t),(function(e,n){t.node(n).x=e}))}},function(t,e,n){"use strict";var r=n(11),o=n(23).Graph,i=n(18);function a(t,e){var n={};return r.reduce(e,(function(e,o){var i=0,a=0,u=e.length,c=r.last(o);return r.forEach(o,(function(e,f){var l=function(t,e){if(t.node(e).dummy)return r.find(t.predecessors(e),(function(e){return t.node(e).dummy}))}(t,e),h=l?t.node(l).order:u;(l||e===c)&&(r.forEach(o.slice(a,f+1),(function(e){r.forEach(t.predecessors(e),(function(r){var o=t.node(r),a=o.order;!(a<i||h<a)||o.dummy&&t.node(e).dummy||s(n,r,e)}))})),a=f+1,i=h)})),o})),n}function u(t,e){var n={};function o(e,o,i,a,u){var c;r.forEach(r.range(o,i),(function(o){c=e[o],t.node(c).dummy&&r.forEach(t.predecessors(c),(function(e){var r=t.node(e);r.dummy&&(r.order<a||r.order>u)&&s(n,e,c)}))}))}return r.reduce(e,(function(e,n){var i,a=-1,u=0;return r.forEach(n,(function(r,s){if("border"===t.node(r).dummy){var c=t.predecessors(r);c.length&&(i=t.node(c[0]).order,o(n,u,s,a,i),u=s,a=i)}o(n,u,n.length,i,e.length)})),n})),n}function s(t,e,n){if(e>n){var r=e;e=n,n=r}var o=t[e];o||(t[e]=o={}),o[n]=!0}function c(t,e,n){if(e>n){var o=e;e=n,n=o}return r.has(t[e],n)}function f(t,e,n,o){var i={},a={},u={};return r.forEach(e,(function(t){r.forEach(t,(function(t,e){i[t]=t,a[t]=t,u[t]=e}))})),r.forEach(e,(function(t){var e=-1;r.forEach(t,(function(t){var s=o(t);if(s.length)for(var f=((s=r.sortBy(s,(function(t){return u[t]}))).length-1)/2,l=Math.floor(f),h=Math.ceil(f);l<=h;++l){var d=s[l];a[t]===t&&e<u[d]&&!c(n,t,d)&&(a[d]=t,a[t]=i[t]=i[d],e=u[d])}}))})),{root:i,align:a}}function l(t,e,n,i,a){var u={},s=function(t,e,n,i){var a=new o,u=t.graph(),s=function(t,e,n){return function(o,i,a){var u,s=o.node(i),c=o.node(a),f=0;if(f+=s.width/2,r.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2}if(u&&(f+=n?u:-u),u=0,f+=(s.dummy?e:t)/2,f+=(c.dummy?e:t)/2,f+=c.width/2,r.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":u=c.width/2;break;case"r":u=-c.width/2}return u&&(f+=n?u:-u),u=0,f}}(u.nodesep,u.edgesep,i);return r.forEach(e,(function(e){var o;r.forEach(e,(function(e){var r=n[e];if(a.setNode(r),o){var i=n[o],u=a.edge(i,r);a.setEdge(i,r,Math.max(s(t,e,o),u||0))}o=e}))})),a}(t,e,n,a),c=a?"borderLeft":"borderRight";function f(t,e){for(var n=s.nodes(),r=n.pop(),o={};r;)o[r]?t(r):(o[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return f((function(t){u[t]=s.inEdges(t).reduce((function(t,e){return Math.max(t,u[e.v]+s.edge(e))}),0)}),s.predecessors.bind(s)),f((function(e){var n=s.outEdges(e).reduce((function(t,e){return Math.min(t,u[e.w]-s.edge(e))}),Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==c&&(u[e]=Math.max(u[e],n))}),s.successors.bind(s)),r.forEach(i,(function(t){u[t]=u[n[t]]})),u}function h(t,e){return r.minBy(r.values(e),(function(e){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return r.forIn(e,(function(e,r){var i=function(t,e){return t.node(e).width}(t,r)/2;n=Math.max(e+i,n),o=Math.min(e-i,o)})),n-o}))}function d(t,e){var n=r.values(e),o=r.min(n),i=r.max(n);r.forEach(["u","d"],(function(n){r.forEach(["l","r"],(function(a){var u,s=n+a,c=t[s];if(c!==e){var f=r.values(c);(u="l"===a?o-r.min(f):i-r.max(f))&&(t[s]=r.mapValues(c,(function(t){return t+u})))}}))}))}function p(t,e){return r.mapValues(t.ul,(function(n,o){if(e)return t[e.toLowerCase()][o];var i=r.sortBy(r.map(t,o));return(i[1]+i[2])/2}))}t.exports={positionX:function(t){var e,n=i.buildLayerMatrix(t),o=r.merge(a(t,n),u(t,n)),s={};r.forEach(["u","d"],(function(i){e="u"===i?n:r.values(n).reverse(),r.forEach(["l","r"],(function(n){"r"===n&&(e=r.map(e,(function(t){return r.values(t).reverse()})));var a=("u"===i?t.predecessors:t.successors).bind(t),u=f(t,e,o,a),c=l(t,e,u.root,u.align,"r"===n);"r"===n&&(c=r.mapValues(c,(function(t){return-t}))),s[i+n]=c}))}));var c=h(t,s);return d(s,c),p(s,t.graph().align)},findType1Conflicts:a,findType2Conflicts:u,addConflict:s,hasConflict:c,verticalAlignment:f,horizontalCompaction:l,alignCoordinates:d,findSmallestWidthAlignment:h,balance:p}},function(t,e,n){var r=n(11),o=n(18),i=n(23).Graph;t.exports={debugOrdering:function(t){var e=o.buildLayerMatrix(t),n=new i({compound:!0,multigraph:!0}).setGraph({});return r.forEach(t.nodes(),(function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)})),r.forEach(t.edges(),(function(t){n.setEdge(t.v,t.w,{},t.name)})),r.forEach(e,(function(t,e){var o="layer"+e;n.setNode(o,{rank:"same"}),r.reduce(t,(function(t,e){return n.setEdge(t,e,{style:"invis"}),e}))})),n}}},function(t,e){t.exports="0.8.5"},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var s,c=[],f=!1,l=-1;function h(){f&&s&&(f=!1,s.length?c=s.concat(c):l=-1,c.length&&d())}function d(){if(!f){var t=u(h);f=!0;for(var e=c.length;e;){for(s=c,c=[];++l<e;)s&&s[l].run();l=-1,e=c.length}s=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||f||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=function(t){"use strict";var n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var u=x(a,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(t,e,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(t,n,a),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function h(){}function d(){}function p(){}var v={};v[i]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(T([])));y&&y!==n&&r.call(y,i)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,n){var o;this._invoke=function(i,a){function u(){return new n((function(o,u){!function o(i,a,u,s){var c=f(t[i],t,a);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"===e(h)&&r.call(h,"__await")?n.resolve(h.__await).then((function(t){o("next",t,u,s)}),(function(t){o("throw",t,u,s)})):n.resolve(h).then((function(t){l.value=t,u(l)}),(function(t){return o("throw",t,u,s)}))}s(c.arg)}(i,a,o,u)}))}return o=o?o.then(u,u):u()}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=f(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function T(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=g.constructor=p,p.constructor=d,d.displayName=s(p,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,u,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(_.prototype),_.prototype[a]=function(){return this},t.AsyncIterator=_,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new _(c(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),s(g,u,"Generator"),g[i]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=T,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}("object"===e(t)?t.exports:{});try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(61)(t))},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},i=this&&this.__generator||function(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.Container=void 0;var a=n(375),u=n(19),s=n(30),c=n(17),f=n(162),l=n(376),h=n(383),d=n(385),p=n(40),v=n(50),m=n(388),y=n(389),g=function(){function t(t){var e=t||{};if("object"!==r(e))throw new Error(""+u.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===e.defaultScope)e.defaultScope=s.BindingScopeEnum.Transient;else if(e.defaultScope!==s.BindingScopeEnum.Singleton&&e.defaultScope!==s.BindingScopeEnum.Transient&&e.defaultScope!==s.BindingScopeEnum.Request)throw new Error(""+u.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===e.autoBindInjectable)e.autoBindInjectable=!1;else if("boolean"!=typeof e.autoBindInjectable)throw new Error(""+u.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===e.skipBaseClassChecks)e.skipBaseClassChecks=!1;else if("boolean"!=typeof e.skipBaseClassChecks)throw new Error(""+u.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:e.autoBindInjectable,defaultScope:e.defaultScope,skipBaseClassChecks:e.skipBaseClassChecks},this.id=p.id(),this._bindingDictionary=new y.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new f.MetadataReader}return t.merge=function(e,n){var r=new t,o=l.getBindingDictionary(r),i=l.getBindingDictionary(e),a=l.getBindingDictionary(n);function u(t,e){t.traverse((function(t,n){n.forEach((function(t){e.add(t.serviceIdentifier,t.clone())}))}))}return u(i,o),u(a,o),r},t.prototype.load=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=this._getContainerModuleHelpersFactory(),r=0,o=t;r<o.length;r++){var i=o[r],a=n(i.id);i.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},t.prototype.loadAsync=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(this,void 0,void 0,(function(){var e,n,r,o,a;return i(this,(function(i){switch(i.label){case 0:e=this._getContainerModuleHelpersFactory(),n=0,r=t,i.label=1;case 1:return n<r.length?(o=r[n],a=e(o.id),[4,o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:i.sent(),i.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},t.prototype.unload=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(t){return function(e){return e.moduleId===t}};e.forEach((function(e){var n=r(e.id);t._bindingDictionary.removeByCondition(n)}))},t.prototype.bind=function(t){var e=this.options.defaultScope||s.BindingScopeEnum.Transient,n=new a.Binding(t,e);return this._bindingDictionary.add(t,n),new d.BindingToSyntax(n)},t.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},t.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch(e){throw new Error(u.CANNOT_UNBIND+" "+v.getServiceIdentifierAsString(t))}},t.prototype.unbindAll=function(){this._bindingDictionary=new y.Lookup},t.prototype.isBound=function(t){var e=this._bindingDictionary.hasKey(t);return!e&&this.parent&&(e=this.parent.isBound(t)),e},t.prototype.isBoundNamed=function(t,e){return this.isBoundTagged(t,c.NAMED_TAG,e)},t.prototype.isBoundTagged=function(t,e,n){var r=!1;if(this._bindingDictionary.hasKey(t)){var o=this._bindingDictionary.get(t),i=l.createMockRequest(this,t,e,n);r=o.some((function(t){return t.constraint(i)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(t,e,n)),r},t.prototype.snapshot=function(){this._snapshots.push(m.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},t.prototype.restore=function(){var t=this._snapshots.pop();if(void 0===t)throw new Error(u.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=t.bindings,this._middleware=t.middleware},t.prototype.createChild=function(e){var n=new t(e||this.options);return n.parent=this,n},t.prototype.applyMiddleware=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce((function(t,e){return e(t)}),n)},t.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},t.prototype.get=function(t){return this._get(!1,!1,s.TargetTypeEnum.Variable,t)},t.prototype.getTagged=function(t,e,n){return this._get(!1,!1,s.TargetTypeEnum.Variable,t,e,n)},t.prototype.getNamed=function(t,e){return this.getTagged(t,c.NAMED_TAG,e)},t.prototype.getAll=function(t){return this._get(!0,!0,s.TargetTypeEnum.Variable,t)},t.prototype.getAllTagged=function(t,e,n){return this._get(!1,!0,s.TargetTypeEnum.Variable,t,e,n)},t.prototype.getAllNamed=function(t,e){return this.getAllTagged(t,c.NAMED_TAG,e)},t.prototype.resolve=function(t){var e=this.createChild();return e.bind(t).toSelf(),e.get(t)},t.prototype._getContainerModuleHelpersFactory=function(){var t=this,e=function(t,e){t._binding.moduleId=e},n=function(n){return function(r){var o=t.rebind.bind(t)(r);return e(o,n),o}};return function(r){return{bindFunction:(o=r,function(n){var r=t.bind.bind(t)(n);return e(r,o),r}),isboundFunction:function(e){return t.isBound.bind(t)(e)},rebindFunction:n(r),unbindFunction:function(e){t.unbind.bind(t)(e)}};var o}},t.prototype._get=function(t,e,n,r,o,i){var a=null,s={avoidConstraints:t,contextInterceptor:function(t){return t},isMultiInject:e,key:o,serviceIdentifier:r,targetType:n,value:i};if(this._middleware){if(null==(a=this._middleware(s)))throw new Error(u.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(s);return a},t.prototype._planAndResolve=function(){var t=this;return function(e){var n=l.plan(t._metadataReader,t,e.isMultiInject,e.targetType,e.serviceIdentifier,e.key,e.value,e.avoidConstraints);return n=e.contextInterceptor(n),h.resolve(n)}},t}();e.Container=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Binding=void 0;var r=n(30),o=n(40),i=function(){function t(t,e){this.id=o.id(),this.activated=!1,this.serviceIdentifier=t,this.scope=e,this.type=r.BindingTypeEnum.Invalid,this.constraint=function(t){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.cache=this.cache,e},t}();e.Binding=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBindingDictionary=e.createMockRequest=e.plan=void 0;var r=n(377),o=n(19),i=n(30),a=n(17),u=n(163),s=n(50),c=n(378),f=n(26),l=n(379),h=n(380),d=n(382),p=n(165);function v(t){return t._bindingDictionary}function m(t,e,n,i,a){var u=y(n.container,a.serviceIdentifier),c=[];return u.length===r.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof a.serviceIdentifier&&t.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(a.serviceIdentifier).toSelf(),u=y(n.container,a.serviceIdentifier)),c=e?u:u.filter((function(t){var e=new d.Request(t.serviceIdentifier,n,i,t,a);return t.constraint(e)})),function(t,e,n,i){switch(e.length){case r.BindingCount.NoBindingsAvailable:if(n.isOptional())return e;var a=s.getServiceIdentifierAsString(t),u=o.NOT_REGISTERED;throw u+=s.listMetadataForTarget(a,n),u+=s.listRegisteredBindingsForServiceIdentifier(i,a,y),new Error(u);case r.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return e;case r.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return e;a=s.getServiceIdentifierAsString(t),u=o.AMBIGUOUS_MATCH+" "+a;throw u+=s.listRegisteredBindingsForServiceIdentifier(i,a,y),new Error(u)}}(a.serviceIdentifier,c,a,n.container),c}function y(t,e){var n=[],r=v(t);return r.hasKey(e)?n=r.get(e):null!==t.parent&&(n=y(t.parent,e)),n}e.getBindingDictionary=v,e.plan=function(t,e,n,r,v,y,g,b){void 0===b&&(b=!1);var _=new c.Context(e),x=function(t,e,n,r,o,i){var u=t?a.MULTI_INJECT_TAG:a.INJECT_TAG,s=new f.Metadata(u,n),c=new p.Target(e,r,n,s);if(void 0!==o){var l=new f.Metadata(o,i);c.metadata.push(l)}return c}(n,r,v,"",y,g);try{return function t(e,n,r,a,u,s){var c,f;if(null===u){c=m(e,n,a,null,s),f=new d.Request(r,a,null,c,s);var p=new l.Plan(a,f);a.addPlan(p)}else c=m(e,n,a,u,s),f=u.addChildRequest(s.serviceIdentifier,c,s);c.forEach((function(n){var r=null;if(s.isArray())r=f.addChildRequest(n.serviceIdentifier,n,s);else{if(n.cache)return;r=f}if(n.type===i.BindingTypeEnum.Instance&&null!==n.implementationType){var u=h.getDependencies(e,n.implementationType);if(!a.container.options.skipBaseClassChecks){var c=h.getBaseClassDependencyCount(e,n.implementationType);if(u.length<c){var l=o.ARGUMENTS_LENGTH_MISMATCH(h.getFunctionName(n.implementationType));throw new Error(l)}}u.forEach((function(n){t(e,!1,n.serviceIdentifier,a,r,n)}))}}))}(t,b,v,_,null,x),_}catch(t){throw u.isStackOverflowExeption(t)&&_.plan&&s.circularDependencyToException(_.plan.rootRequest),t}},e.createMockRequest=function(t,e,n,r){var o=new p.Target(i.TargetTypeEnum.Variable,"",e,new f.Metadata(n,r)),a=new c.Context(t);return new d.Request(e,a,null,[],o)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingCount=void 0;e.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Context=void 0;var r=n(40),o=function(){function t(t){this.id=r.id(),this.container=t}return t.prototype.addPlan=function(t){this.plan=t},t.prototype.setCurrentRequest=function(t){this.currentRequest=t},t}();e.Context=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Plan=void 0;var r=function(t,e){this.parentContext=t,this.rootRequest=e};e.Plan=r},function(t,e,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.getFunctionName=e.getBaseClassDependencyCount=e.getDependencies=void 0;var o=n(164),i=n(19),a=n(30),u=n(17),s=n(50);Object.defineProperty(e,"getFunctionName",{enumerable:!0,get:function(){return s.getFunctionName}});var c=n(165);function f(t,e,n,o){var u=t.getConstructorMetadata(n),s=u.compilerGeneratedMetadata;if(void 0===s){var f=i.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(f)}var d=u.userGeneratedMetadata,p=Object.keys(d),v=function(t,e,n,r,o){for(var i=[],a=0;a<o;a++){var u=l(a,t,e,n,r);null!==u&&i.push(u)}return i}(o,e,s,d,0===n.length&&p.length>0?p.length:n.length),m=function t(e,n){for(var o=e.getPropertiesMetadata(n),i=[],u=Object.keys(o),s=0,f=u;s<f.length;s++){var l=f[s],d=o[l],p=h(o[l]),v=p.targetName||l,m=p.inject||p.multiInject,y=new c.Target(a.TargetTypeEnum.ClassProperty,v,m);y.metadata=d,i.push(y)}var g=Object.getPrototypeOf(n.prototype).constructor;if(g!==Object){var b=t(e,g);i=r(i,b)}return i}(t,n);return r(v,m)}function l(t,e,n,r,u){var s=u[t.toString()]||[],f=h(s),l=!0!==f.unmanaged,d=r[t],p=f.inject||f.multiInject;if((d=p||d)instanceof o.LazyServiceIdentifer&&(d=d.unwrap()),l){if(!e&&(d===Object||d===Function||void 0===d)){var v=i.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+n+".";throw new Error(v)}var m=new c.Target(a.TargetTypeEnum.ConstructorArgument,f.targetName,d);return m.metadata=s,m}return null}function h(t){var e={};return t.forEach((function(t){e[t.key.toString()]=t.value})),{inject:e[u.INJECT_TAG],multiInject:e[u.MULTI_INJECT_TAG],targetName:e[u.NAME_TAG],unmanaged:e[u.UNMANAGED_TAG]}}e.getDependencies=function(t,e){return f(t,s.getFunctionName(e),e,!1)},e.getBaseClassDependencyCount=function t(e,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var o=f(e,s.getFunctionName(r),r,!0),i=o.map((function(t){return t.metadata.filter((function(t){return t.key===u.UNMANAGED_TAG}))})),a=[].concat.apply([],i).length,c=o.length-a;return c>0?c:t(e,r)}return 0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QueryableString=void 0;var r=function(){function t(t){this.str=t}return t.prototype.startsWith=function(t){return 0===this.str.indexOf(t)},t.prototype.endsWith=function(t){var e,n=t.split("").reverse().join("");return e=this.str.split("").reverse().join(""),this.startsWith.call({str:e},n)},t.prototype.contains=function(t){return-1!==this.str.indexOf(t)},t.prototype.equals=function(t){return this.str===t},t.prototype.value=function(){return this.str},t}();e.QueryableString=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Request=void 0;var r=n(40),o=function(){function t(t,e,n,o,i){this.id=r.id(),this.serviceIdentifier=t,this.parentContext=e,this.parentRequest=n,this.target=i,this.childRequests=[],this.bindings=Array.isArray(o)?o:[o],this.requestScope=null===n?new Map:null}return t.prototype.addChildRequest=function(e,n,r){var o=new t(e,this.parentContext,this,n,r);return this.childRequests.push(o),o},t}();e.Request=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolve=void 0;var r=n(19),o=n(30),i=n(163),a=n(50),u=n(384),s=function(t,e,n){try{return n()}catch(n){throw i.isStackOverflowExeption(n)?new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(t,e.toString())):n}};e.resolve=function(t){return function t(e){return function(n){n.parentContext.setCurrentRequest(n);var i=n.bindings,c=n.childRequests,f=n.target&&n.target.isArray(),l=!(n.parentRequest&&n.parentRequest.target&&n.target&&n.parentRequest.target.matchesArray(n.target.serviceIdentifier));if(f&&l)return c.map((function(n){return t(e)(n)}));var h=null;if(!n.target.isOptional()||0!==i.length){var d=i[0],p=d.scope===o.BindingScopeEnum.Singleton,v=d.scope===o.BindingScopeEnum.Request;if(p&&d.activated)return d.cache;if(v&&null!==e&&e.has(d.id))return e.get(d.id);if(d.type===o.BindingTypeEnum.ConstantValue)h=d.cache;else if(d.type===o.BindingTypeEnum.Function)h=d.cache;else if(d.type===o.BindingTypeEnum.Constructor)h=d.implementationType;else if(d.type===o.BindingTypeEnum.DynamicValue&&null!==d.dynamicValue)h=s("toDynamicValue",d.serviceIdentifier,(function(){return d.dynamicValue(n.parentContext)}));else if(d.type===o.BindingTypeEnum.Factory&&null!==d.factory)h=s("toFactory",d.serviceIdentifier,(function(){return d.factory(n.parentContext)}));else if(d.type===o.BindingTypeEnum.Provider&&null!==d.provider)h=s("toProvider",d.serviceIdentifier,(function(){return d.provider(n.parentContext)}));else{if(d.type!==o.BindingTypeEnum.Instance||null===d.implementationType){var m=a.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(r.INVALID_BINDING_TYPE+" "+m)}h=u.resolveInstance(d.implementationType,c,t(e))}return"function"==typeof d.onActivation&&(h=d.onActivation(n.parentContext,h)),p&&(d.cache=h,d.activated=!0),v&&null!==e&&!e.has(d.id)&&e.set(d.id,h),h}}}(t.plan.rootRequest.requestScope)(t.plan.rootRequest)}},function(t,e,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.resolveInstance=void 0;var o=n(19),i=n(30),a=n(17);e.resolveInstance=function(t,e,n){var u,s,c=null;if(e.length>0){var f=e.filter((function(t){return null!==t.target&&t.target.type===i.TargetTypeEnum.ConstructorArgument})).map(n);s=f,c=function(t,e,n){var r=e.filter((function(t){return null!==t.target&&t.target.type===i.TargetTypeEnum.ClassProperty})),o=r.map(n);return r.forEach((function(e,n){var r;r=e.target.name.value();var i=o[n];t[r]=i})),t}(c=new((u=t).bind.apply(u,r([void 0],s))),e,n)}else c=new t;return function(t,e){if(Reflect.hasMetadata(a.POST_CONSTRUCT,t)){var n=Reflect.getMetadata(a.POST_CONSTRUCT,t);try{e[n.value]()}catch(e){throw new Error(o.POST_CONSTRUCT_ERROR(t.name,e.message))}}}(t,c),c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingToSyntax=void 0;var r=n(19),o=n(30),i=n(386),a=n(166),u=function(){function t(t){this._binding=t}return t.prototype.to=function(t){return this._binding.type=o.BindingTypeEnum.Instance,this._binding.implementationType=t,new i.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+r.INVALID_TO_SELF_VALUE);var t=this._binding.serviceIdentifier;return this.to(t)},t.prototype.toConstantValue=function(t){return this._binding.type=o.BindingTypeEnum.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(t){return this._binding.type=o.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new i.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(t){return this._binding.type=o.BindingTypeEnum.Constructor,this._binding.implementationType=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(t){return this._binding.type=o.BindingTypeEnum.Factory,this._binding.factory=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(t){if("function"!=typeof t)throw new Error(r.INVALID_FUNCTION_BINDING);var e=this.toConstantValue(t);return this._binding.type=o.BindingTypeEnum.Function,e},t.prototype.toAutoFactory=function(t){return this._binding.type=o.BindingTypeEnum.Factory,this._binding.factory=function(e){return function(){return e.container.get(t)}},new a.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(t){return this._binding.type=o.BindingTypeEnum.Provider,this._binding.provider=t,new a.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(t){this.toDynamicValue((function(e){return e.container.get(t)}))},t}();e.BindingToSyntax=u},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingInWhenOnSyntax=void 0;var r=n(387),o=n(91),i=n(92),a=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new o.BindingOnSyntax(this._binding),this._bindingInSyntax=new r.BindingInSyntax(t)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,e){return this._bindingWhenSyntax.whenTargetTagged(t,e)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,e){return this._bindingWhenSyntax.whenParentTagged(t,e)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,e)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,e){return this._bindingWhenSyntax.whenNoAncestorTagged(t,e)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingInWhenOnSyntax=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BindingInSyntax=void 0;var r=n(30),o=n(166),i=function(){function t(t){this._binding=t}return t.prototype.inRequestScope=function(){return this._binding.scope=r.BindingScopeEnum.Request,new o.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=r.BindingScopeEnum.Singleton,new o.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=r.BindingScopeEnum.Transient,new o.BindingWhenOnSyntax(this._binding)},t}();e.BindingInSyntax=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContainerSnapshot=void 0;var r=function(){function t(){}return t.of=function(e,n){var r=new t;return r.bindings=e,r.middleware=n,r},t}();e.ContainerSnapshot=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lookup=void 0;var r=n(19),o=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(t,e){if(null==t)throw new Error(r.NULL_ARGUMENT);if(null==e)throw new Error(r.NULL_ARGUMENT);var n=this._map.get(t);void 0!==n?(n.push(e),this._map.set(t,n)):this._map.set(t,[e])},t.prototype.get=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);var e=this._map.get(t);if(void 0!==e)return e;throw new Error(r.KEY_NOT_FOUND)},t.prototype.remove=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);if(!this._map.delete(t))throw new Error(r.KEY_NOT_FOUND)},t.prototype.removeByCondition=function(t){var e=this;this._map.forEach((function(n,r){var o=n.filter((function(e){return!t(e)}));o.length>0?e._map.set(r,o):e._map.delete(r)}))},t.prototype.hasKey=function(t){if(null==t)throw new Error(r.NULL_ARGUMENT);return this._map.has(t)},t.prototype.clone=function(){var e=new t;return this._map.forEach((function(t,n){t.forEach((function(t){return e.add(n,t.clone())}))})),e},t.prototype.traverse=function(t){this._map.forEach((function(e,n){t(n,e)}))},t}();e.Lookup=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncContainerModule=e.ContainerModule=void 0;var r=n(40),o=function(t){this.id=r.id(),this.registry=t};e.ContainerModule=o;var i=function(t){this.id=r.id(),this.registry=t};e.AsyncContainerModule=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.injectable=void 0;var r=n(19),o=n(17);e.injectable=function(){return function(t){if(Reflect.hasOwnMetadata(o.PARAM_TYPES,t))throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(o.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(o.PARAM_TYPES,e,t),t}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tagged=void 0;var r=n(26),o=n(33);e.tagged=function(t,e){return function(n,i,a){var u=new r.Metadata(t,e);"number"==typeof a?o.tagParameter(n,i,a,u):o.tagProperty(n,i,u)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.named=void 0;var r=n(17),o=n(26),i=n(33);e.named=function(t){return function(e,n,a){var u=new o.Metadata(r.NAMED_TAG,t);"number"==typeof a?i.tagParameter(e,n,a,u):i.tagProperty(e,n,u)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optional=void 0;var r=n(17),o=n(26),i=n(33);e.optional=function(){return function(t,e,n){var a=new o.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof n?i.tagParameter(t,e,n,a):i.tagProperty(t,e,a)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unmanaged=void 0;var r=n(17),o=n(26),i=n(33);e.unmanaged=function(){return function(t,e,n){var a=new o.Metadata(r.UNMANAGED_TAG,!0);i.tagParameter(t,e,n,a)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiInject=void 0;var r=n(17),o=n(26),i=n(33);e.multiInject=function(t){return function(e,n,a){var u=new o.Metadata(r.MULTI_INJECT_TAG,t);"number"==typeof a?i.tagParameter(e,n,a,u):i.tagProperty(e,n,u)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.targetName=void 0;var r=n(17),o=n(26),i=n(33);e.targetName=function(t){return function(e,n,a){var u=new o.Metadata(r.NAME_TAG,t);i.tagParameter(e,n,a,u)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.postConstruct=void 0;var r=n(19),o=n(17),i=n(26);e.postConstruct=function(){return function(t,e,n){var a=new i.Metadata(o.POST_CONSTRUCT,e);if(Reflect.hasOwnMetadata(o.POST_CONSTRUCT,t.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(o.POST_CONSTRUCT,a,t.constructor)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiBindToService=void 0,e.multiBindToService=function(t){return function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return t.bind(n).toService(e)}))}}}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Symbol.for("INJECTION");function o(t,e,n,o){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return o&&!Reflect.hasMetadata(r,this,e)&&Reflect.defineMetadata(r,n(),this,e),Reflect.hasMetadata(r,this,e)?Reflect.getMetadata(r,this,e):n()},set:function(t){Reflect.defineMetadata(r,t,this,e)}})}e.makePropertyInjectDecorator=function(t,e){return function(n){return function(r,i){o(r,i,(function(){return t.get(n)}),e)}}},e.makePropertyInjectNamedDecorator=function(t,e){return function(n,r){return function(i,a){o(i,a,(function(){return t.getNamed(n,r)}),e)}}},e.makePropertyInjectTaggedDecorator=function(t,e){return function(n,r,i){return function(a,u){o(a,u,(function(){return t.getTagged(n,r,i)}),e)}}},e.makePropertyMultiInjectDecorator=function(t,e){return function(n){return function(r,i){o(r,i,(function(){return t.getAll(n)}),e)}}}},function(t,e,n){var r=n(161);t.exports=function(t){if(Array.isArray(t))return r(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e){t.exports=function(t){var e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e}},function(t,e){t.exports=function(t,e){var n=new Float32Array(2);return n[0]=t,n[1]=e,n}},function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t}},function(t,e,n){t.exports=function(t,e){var n=t[0],o=t[1],i=e[0],a=e[1];return Math.abs(n-i)<=r*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(o-a)<=r*Math.max(1,Math.abs(o),Math.abs(a))};var r=n(175)},function(t,e){t.exports=function(t,e){return t[0]===e[0]&&t[1]===e[1]}},function(t,e,n){t.exports=n(100)},function(t,e,n){t.exports=n(179)},function(t,e,n){t.exports=n(180)},function(t,e){t.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}},function(t,e){t.exports=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}},function(t,e){t.exports=function(t,e,n){var r=Math.cos(n),o=Math.sin(n),i=e[0],a=e[1];return t[0]=i*r-a*o,t[1]=i*o+a*r,t}},function(t,e){t.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}},function(t,e){t.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}},function(t,e){t.exports=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}},function(t,e){t.exports=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t}},function(t,e,n){t.exports=n(181)},function(t,e,n){t.exports=n(182)},function(t,e,n){t.exports=n(183)},function(t,e,n){t.exports=n(184)},function(t,e){t.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t}},function(t,e){t.exports=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t}},function(t,e){t.exports=function(t,e,n,r){var o=e[0],i=e[1];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t}},function(t,e){t.exports=function(t,e){e=e||1;var n=2*Math.random()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o,t[1]=n[1]*r+n[3]*o,t}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[2]*o+n[4],t[1]=n[1]*r+n[3]*o+n[5],t}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[3]*o+n[6],t[1]=n[1]*r+n[4]*o+n[7],t}},function(t,e){t.exports=function(t,e,n){var r=e[0],o=e[1];return t[0]=n[0]*r+n[4]*o+n[12],t[1]=n[1]*r+n[5]*o+n[13],t}},function(t,e,n){t.exports=function(t,e,n,o,i,a){var u,s;e||(e=2);n||(n=0);s=o?Math.min(o*e+n,t.length):t.length;for(u=n;u<s;u+=e)r[0]=t[u],r[1]=t[u+1],i(r,r,a),t[u]=r[0],t[u+1]=r[1];return t};var r=n(176)()},function(t,e){t.exports=function(t,e,n){var r=e[0]*e[0]+e[1]*e[1];if(r>n*n){var o=Math.sqrt(r);t[0]=e[0]/o*n,t[1]=e[1]/o*n}else t[0]=e[0],t[1]=e[1];return t}},function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"create",(function(){return go})),n.d(r,"fromMat4",(function(){return bo})),n.d(r,"clone",(function(){return _o})),n.d(r,"copy",(function(){return xo})),n.d(r,"fromValues",(function(){return wo})),n.d(r,"set",(function(){return Eo})),n.d(r,"identity",(function(){return So})),n.d(r,"transpose",(function(){return To})),n.d(r,"invert",(function(){return Ao})),n.d(r,"adjoint",(function(){return Io})),n.d(r,"determinant",(function(){return ko})),n.d(r,"multiply",(function(){return Oo})),n.d(r,"translate",(function(){return Do})),n.d(r,"rotate",(function(){return Ro})),n.d(r,"scale",(function(){return Mo})),n.d(r,"fromTranslation",(function(){return Co})),n.d(r,"fromRotation",(function(){return No})),n.d(r,"fromScaling",(function(){return Po})),n.d(r,"fromMat2d",(function(){return Go})),n.d(r,"fromQuat",(function(){return jo})),n.d(r,"normalFromMat4",(function(){return Lo})),n.d(r,"projection",(function(){return Uo})),n.d(r,"str",(function(){return Bo})),n.d(r,"frob",(function(){return Fo})),n.d(r,"add",(function(){return zo})),n.d(r,"subtract",(function(){return Vo})),n.d(r,"multiplyScalar",(function(){return Wo})),n.d(r,"multiplyScalarAndAdd",(function(){return Xo})),n.d(r,"exactEquals",(function(){return Ho})),n.d(r,"equals",(function(){return qo})),n.d(r,"mul",(function(){return Yo})),n.d(r,"sub",(function(){return Ko}));var o={};n.r(o),n.d(o,"create",(function(){return Zo})),n.d(o,"clone",(function(){return Qo})),n.d(o,"copy",(function(){return Jo})),n.d(o,"fromValues",(function(){return $o})),n.d(o,"set",(function(){return ti})),n.d(o,"identity",(function(){return ei})),n.d(o,"transpose",(function(){return ni})),n.d(o,"invert",(function(){return ri})),n.d(o,"adjoint",(function(){return oi})),n.d(o,"determinant",(function(){return ii})),n.d(o,"multiply",(function(){return ai})),n.d(o,"translate",(function(){return ui})),n.d(o,"scale",(function(){return si})),n.d(o,"rotate",(function(){return ci})),n.d(o,"rotateX",(function(){return fi})),n.d(o,"rotateY",(function(){return li})),n.d(o,"rotateZ",(function(){return hi})),n.d(o,"fromTranslation",(function(){return di})),n.d(o,"fromScaling",(function(){return pi})),n.d(o,"fromRotation",(function(){return vi})),n.d(o,"fromXRotation",(function(){return mi})),n.d(o,"fromYRotation",(function(){return yi})),n.d(o,"fromZRotation",(function(){return gi})),n.d(o,"fromRotationTranslation",(function(){return bi})),n.d(o,"fromQuat2",(function(){return _i})),n.d(o,"getTranslation",(function(){return xi})),n.d(o,"getScaling",(function(){return wi})),n.d(o,"getRotation",(function(){return Ei})),n.d(o,"fromRotationTranslationScale",(function(){return Si})),n.d(o,"fromRotationTranslationScaleOrigin",(function(){return Ti})),n.d(o,"fromQuat",(function(){return Ai})),n.d(o,"frustum",(function(){return Ii})),n.d(o,"perspective",(function(){return ki})),n.d(o,"perspectiveFromFieldOfView",(function(){return Oi})),n.d(o,"ortho",(function(){return Di})),n.d(o,"lookAt",(function(){return Ri})),n.d(o,"targetTo",(function(){return Mi})),n.d(o,"str",(function(){return Ci})),n.d(o,"frob",(function(){return Ni})),n.d(o,"add",(function(){return Pi})),n.d(o,"subtract",(function(){return Gi})),n.d(o,"multiplyScalar",(function(){return ji})),n.d(o,"multiplyScalarAndAdd",(function(){return Li})),n.d(o,"exactEquals",(function(){return Ui})),n.d(o,"equals",(function(){return Bi})),n.d(o,"mul",(function(){return Fi})),n.d(o,"sub",(function(){return zi}));var i={};n.r(i),n.d(i,"create",(function(){return Vi})),n.d(i,"clone",(function(){return Wi})),n.d(i,"length",(function(){return Xi})),n.d(i,"fromValues",(function(){return Hi})),n.d(i,"copy",(function(){return qi})),n.d(i,"set",(function(){return Yi})),n.d(i,"add",(function(){return Ki})),n.d(i,"subtract",(function(){return Zi})),n.d(i,"multiply",(function(){return Qi})),n.d(i,"divide",(function(){return Ji})),n.d(i,"ceil",(function(){return $i})),n.d(i,"floor",(function(){return ta})),n.d(i,"min",(function(){return ea})),n.d(i,"max",(function(){return na})),n.d(i,"round",(function(){return ra})),n.d(i,"scale",(function(){return oa})),n.d(i,"scaleAndAdd",(function(){return ia})),n.d(i,"distance",(function(){return aa})),n.d(i,"squaredDistance",(function(){return ua})),n.d(i,"squaredLength",(function(){return sa})),n.d(i,"negate",(function(){return ca})),n.d(i,"inverse",(function(){return fa})),n.d(i,"normalize",(function(){return la})),n.d(i,"dot",(function(){return ha})),n.d(i,"cross",(function(){return da})),n.d(i,"lerp",(function(){return pa})),n.d(i,"hermite",(function(){return va})),n.d(i,"bezier",(function(){return ma})),n.d(i,"random",(function(){return ya})),n.d(i,"transformMat4",(function(){return ga})),n.d(i,"transformMat3",(function(){return ba})),n.d(i,"transformQuat",(function(){return _a})),n.d(i,"rotateX",(function(){return xa})),n.d(i,"rotateY",(function(){return wa})),n.d(i,"rotateZ",(function(){return Ea})),n.d(i,"angle",(function(){return Sa})),n.d(i,"zero",(function(){return Ta})),n.d(i,"str",(function(){return Aa})),n.d(i,"exactEquals",(function(){return Ia})),n.d(i,"equals",(function(){return ka})),n.d(i,"sub",(function(){return Da})),n.d(i,"mul",(function(){return Ra})),n.d(i,"div",(function(){return Ma})),n.d(i,"dist",(function(){return Ca})),n.d(i,"sqrDist",(function(){return Na})),n.d(i,"len",(function(){return Pa})),n.d(i,"sqrLen",(function(){return Ga})),n.d(i,"forEach",(function(){return ja}));var a={};n.r(a),n.d(a,"create",(function(){return La})),n.d(a,"clone",(function(){return Ua})),n.d(a,"fromValues",(function(){return Ba})),n.d(a,"copy",(function(){return Fa})),n.d(a,"set",(function(){return za})),n.d(a,"add",(function(){return Va})),n.d(a,"subtract",(function(){return Wa})),n.d(a,"multiply",(function(){return Xa})),n.d(a,"divide",(function(){return Ha})),n.d(a,"ceil",(function(){return qa})),n.d(a,"floor",(function(){return Ya})),n.d(a,"min",(function(){return Ka})),n.d(a,"max",(function(){return Za})),n.d(a,"round",(function(){return Qa})),n.d(a,"scale",(function(){return Ja})),n.d(a,"scaleAndAdd",(function(){return $a})),n.d(a,"distance",(function(){return tu})),n.d(a,"squaredDistance",(function(){return eu})),n.d(a,"length",(function(){return nu})),n.d(a,"squaredLength",(function(){return ru})),n.d(a,"negate",(function(){return ou})),n.d(a,"inverse",(function(){return iu})),n.d(a,"normalize",(function(){return au})),n.d(a,"dot",(function(){return uu})),n.d(a,"cross",(function(){return su})),n.d(a,"lerp",(function(){return cu})),n.d(a,"random",(function(){return fu})),n.d(a,"transformMat4",(function(){return lu})),n.d(a,"transformQuat",(function(){return hu})),n.d(a,"zero",(function(){return du})),n.d(a,"str",(function(){return pu})),n.d(a,"exactEquals",(function(){return vu})),n.d(a,"equals",(function(){return mu})),n.d(a,"sub",(function(){return yu})),n.d(a,"mul",(function(){return gu})),n.d(a,"div",(function(){return bu})),n.d(a,"dist",(function(){return _u})),n.d(a,"sqrDist",(function(){return xu})),n.d(a,"len",(function(){return wu})),n.d(a,"sqrLen",(function(){return Eu})),n.d(a,"forEach",(function(){return Su}));var u={};n.r(u),n.d(u,"create",(function(){return Tu})),n.d(u,"identity",(function(){return Au})),n.d(u,"setAxisAngle",(function(){return Iu})),n.d(u,"getAxisAngle",(function(){return ku})),n.d(u,"getAngle",(function(){return Ou})),n.d(u,"multiply",(function(){return Du})),n.d(u,"rotateX",(function(){return Ru})),n.d(u,"rotateY",(function(){return Mu})),n.d(u,"rotateZ",(function(){return Cu})),n.d(u,"calculateW",(function(){return Nu})),n.d(u,"exp",(function(){return Pu})),n.d(u,"ln",(function(){return Gu})),n.d(u,"pow",(function(){return ju})),n.d(u,"slerp",(function(){return Lu})),n.d(u,"random",(function(){return Uu})),n.d(u,"invert",(function(){return Bu})),n.d(u,"conjugate",(function(){return Fu})),n.d(u,"fromMat3",(function(){return zu})),n.d(u,"fromEuler",(function(){return Vu})),n.d(u,"str",(function(){return Wu})),n.d(u,"clone",(function(){return as})),n.d(u,"fromValues",(function(){return us})),n.d(u,"copy",(function(){return ss})),n.d(u,"set",(function(){return cs})),n.d(u,"add",(function(){return fs})),n.d(u,"mul",(function(){return ls})),n.d(u,"scale",(function(){return hs})),n.d(u,"dot",(function(){return ds})),n.d(u,"lerp",(function(){return ps})),n.d(u,"length",(function(){return vs})),n.d(u,"len",(function(){return ms})),n.d(u,"squaredLength",(function(){return ys})),n.d(u,"sqrLen",(function(){return gs})),n.d(u,"normalize",(function(){return bs})),n.d(u,"exactEquals",(function(){return _s})),n.d(u,"equals",(function(){return xs})),n.d(u,"rotationTo",(function(){return ws})),n.d(u,"sqlerp",(function(){return Es})),n.d(u,"setAxes",(function(){return Ss}));var s,c,f="LAYOUT_RUN",l="LAYOUT_END",h="LAYOUT_ERROR",d="GPU_LAYOUT_RUN",p=function(t){return"string"==typeof t},v=/-(\\w)/g,m=(s=function(t){return t.replace(v,(function(t,e){return e?e.toUpperCase():""}))},c=Object.create(null),Array.isArray),y=function(t){return"number"==typeof t},g=function(t){return Number.isNaN(Number(t))},b=function(t,e,n){for(var r=[],o=0;o<t;o++)r[o]=0;return n?(n.forEach((function(t){t.source&&(r[e[t.source]]+=1),t.target&&(r[e[t.target]]+=1)})),r):r},_=function(t){for(var e=[],n=t.length,r=0;r<n;r+=1){e[r]=[];for(var o=0;o<n;o+=1)r===o?e[r][o]=0:0!==t[r][o]&&t[r][o]?e[r][o]=t[r][o]:e[r][o]=1/0}for(var i=0;i<n;i+=1)for(var a=0;a<n;a+=1)for(var u=0;u<n;u+=1)e[a][u]>e[a][i]+e[i][u]&&(e[a][u]=e[a][i]+e[i][u]);return e},x=function(t,e){var n=t.nodes,r=t.edges,o=[],i={};if(!n)throw new Error("invalid nodes data!");return n&&n.forEach((function(t,e){i[t.id]=e;o.push([])})),r&&r.forEach((function(t){var n=t.source,r=t.target,a=i[n],u=i[r];o[a][u]=1,e||(o[u][a]=1)})),o},w=function(t,e){"function"==typeof e&&function t(e,n){if(e&&e.children)for(var r=e.children.length-1;r>=0;r--)if(!t(e.children[r],n))return;return!!n(e)}(t,e)};function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var S=function t(e){if(null===e)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof Array){var n=[];return e.forEach((function(t){n.push(t)})),n.map((function(e){return t(e)}))}if("object"===E(e)&&e!=={}){var r=Object.assign({},e);return Object.keys(r).forEach((function(e){r[e]=t(r[e])})),r}return e},T=function(t){return"function"==typeof t};function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var I=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}var e,n,r;return e=t,(n=[{key:"layout",value:function(t){return this.init(t),this.execute(!0)}},{key:"init",value:function(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[]}},{key:"execute",value:function(t){}},{key:"executeWithWorker",value:function(){}},{key:"getDefaultCfg",value:function(){return{}}},{key:"updateCfg",value:function(t){t&&Object.assign(this,t)}},{key:"getType",value:function(){return"base"}},{key:"destroy",value:function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0}}])&&A(e.prototype,n),r&&A(e,r),t}();function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=C(t);if(e){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}function M(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(i,t);var e,n,r,o=R(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).begin=[0,0],e.preventOverlap=!0,e.preventOverlapPadding=10,e.condense=!1,e.sortBy="degree",e.nodeSize=30,e.nodes=[],e.edges=[],e.width=300,e.height=300,e.row=0,e.col=0,e.cellWidth=0,e.cellHeight=0,e.cellUsed={},e.id2manPos={},e.onLayoutEnd=function(){},e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}}},{key:"execute",value:function(){var t=this,e=t.nodes,n=e.length,r=t.begin;if(0!==n){if(1===n)return e[0].x=r[0],e[0].y=r[1],void(t.onLayoutEnd&&t.onLayoutEnd());var o=t.edges,i=[];e.forEach((function(t){i.push(t)}));var a={};if(i.forEach((function(t,e){a[t.id]=e})),("degree"===t.sortBy||!p(t.sortBy)||void 0===i[0][t.sortBy])&&(t.sortBy="degree",g(e[0].degree))){var u=b(i.length,a,o);i.forEach((function(t,e){t.degree=u[e]}))}i.sort((function(e,n){return n[t.sortBy]-e[t.sortBy]})),t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var s=t.rows,c=null!=t.cols?t.cols:t.columns;if(t.cells=n,null!=s&&null!=c?(t.rows=s,t.cols=c):null!=s&&null==c?(t.rows=s,t.cols=Math.ceil(t.cells/t.rows)):null==s&&null!=c?(t.cols=c,t.rows=Math.ceil(t.cells/t.cols)):(t.splits=Math.sqrt(t.cells*t.height/t.width),t.rows=Math.round(t.splits),t.cols=Math.round(t.width/t.height*t.splits)),t.cols*t.rows>t.cells){var f=t.small(),l=t.large();(f-1)*l>=t.cells?t.small(f-1):(l-1)*f>=t.cells&&t.large(l-1)}else for(;t.cols*t.rows<t.cells;){var h=t.small(),d=t.large();(d+1)*h>=t.cells?t.large(d+1):t.small(h+1)}t.cellWidth=t.width/t.cols,t.cellHeight=t.height/t.rows,t.condense&&(t.cellWidth=0,t.cellHeight=0),t.preventOverlap&&i.forEach((function(e){var n,r;e.x&&e.y||(e.x=0,e.y=0),m(e.size)?(n=e.size[0],r=e.size[1]):y(e.size)&&(n=e.size,r=e.size),void 0!==n&&void 0!==r||(m(t.nodeSize)?(n=t.nodeSize[0],r=t.nodeSize[1]):y(t.nodeSize)?(n=t.nodeSize,r=t.nodeSize):(n=30,r=30));var o=t.preventOverlapPadding,i=n+o,a=r+o;t.cellWidth=Math.max(t.cellWidth,i),t.cellHeight=Math.max(t.cellHeight,a)})),t.cellUsed={},t.row=0,t.col=0,t.id2manPos={};for(var v=0;v<i.length;v++){var _=i[v],x=void 0;if(t.position&&(x=t.position(_)),x&&(void 0!==x.row||void 0!==x.col)){var w={row:x.row,col:x.col};if(void 0===w.col)for(w.col=0;t.used(w.row,w.col);)w.col++;else if(void 0===w.row)for(w.row=0;t.used(w.row,w.col);)w.row++;t.id2manPos[_.id]=w,t.use(w.row,w.col)}t.getPos(_)}return t.onLayoutEnd&&t.onLayoutEnd(),{edges:o,nodes:i}}t.onLayoutEnd&&t.onLayoutEnd()}},{key:"small",value:function(t){var e,n=this.rows||5,r=this.cols||5;return null==t?e=Math.min(n,r):Math.min(n,r)===this.rows?this.rows=t:this.cols=t,e}},{key:"large",value:function(t){var e,n=this.rows||5,r=this.cols||5;return null==t?e=Math.max(n,r):Math.max(n,r)===this.rows?this.rows=t:this.cols=t,e}},{key:"used",value:function(t,e){return this.cellUsed["c-".concat(t,"-").concat(e)]||!1}},{key:"use",value:function(t,e){this.cellUsed["c-".concat(t,"-").concat(e)]=!0}},{key:"moveToNextCell",value:function(){var t=this.cols||5;this.col++,this.col>=t&&(this.col=0,this.row++)}},{key:"getPos",value:function(t){var e,n,r=this.begin,o=this.cellWidth,i=this.cellHeight,a=this.id2manPos[t.id];if(a)e=a.col*o+o/2+r[0],n=a.row*i+i/2+r[1];else{for(;this.used(this.row,this.col);)this.moveToNextCell();e=this.col*o+o/2+r[0],n=this.row*i+i/2+r[1],this.use(this.row,this.col),this.moveToNextCell()}t.x=e,t.y=n}},{key:"getType",value:function(){return"grid"}}])&&O(e.prototype,n),r&&O(e,r),i}(I);function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=B(t);if(e){var o=B(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}function U(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var F=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(i,t);var e,n,r,o=L(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).center=[0,0],e.width=300,e.height=300,e.nodes=[],e.edges=[],e.onLayoutEnd=function(){},e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{center:[0,0],width:300,height:300}}},{key:"execute",value:function(){var t=this,e=t.nodes,n=t.center;return t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),e&&e.forEach((function(e){e.x=.9*(Math.random()-.5)*t.width+n[0],e.y=.9*(Math.random()-.5)*t.height+n[1]})),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:this.edges}}},{key:"getType",value:function(){return"random"}}])&&G(e.prototype,n),r&&G(e,r),i}(I);function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=q(t);if(e){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H(this,n)}}function H(t,e){return!e||"object"!==z(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Y=function(t,e){return t?y(t)?function(e){return t}:t:function(t){return e||1}},K=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(i,t);var e,n,r,o=X(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).maxIteration=1e3,e.edgeStrength=200,e.nodeStrength=1e3,e.coulombDisScale=.005,e.damping=.9,e.maxSpeed=1e3,e.minMovement=.5,e.interval=.02,e.factor=1,e.linkDistance=1,e.gravity=10,e.preventOverlap=!0,e.tick=function(){},e.nodes=[],e.edges=[],e.width=300,e.height=300,e.nodeMap={},e.nodeIdxMap={},e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{maxIteration:500,gravity:10,enableTick:!0}}},{key:"execute",value:function(){var t=this,e=t.nodes;if(void 0!==t.timeInterval&&"undefined"!=typeof window&&window.clearInterval(t.timeInterval),e&&0!==e.length){t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);var n=t.center;if(1===e.length)return e[0].x=n[0],e[0].y=n[1],void(t.onLayoutEnd&&t.onLayoutEnd());var r={},o={};e.forEach((function(e,n){y(e.x)||(e.x=Math.random()*t.width),y(e.y)||(e.y=Math.random()*t.height),r[e.id]=e,o[e.id]=n})),t.nodeMap=r,t.nodeIdxMap=o,t.linkDistance=Y(t.linkDistance,1),t.nodeStrength=Y(t.nodeStrength,1),t.edgeStrength=Y(t.edgeStrength,1);var i,a=t.nodeSize;if(t.preventOverlap){var u,s=t.nodeSpacing;u=y(s)?function(){return s}:T(s)?s:function(){return 0},i=a?m(a)?function(t){return(a[0]>a[1]?a[0]:a[1])+u(t)}:function(t){return a+u(t)}:function(t){return t.size?m(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])+u(t):t.size+u(t):10+u(t)}}t.nodeSize=i;var c=t.edges;t.degrees=b(e.length,t.nodeIdxMap,c),t.getMass||(t.getMass=function(e){return t.degrees[t.nodeIdxMap[e.id]]}),t.run()}else t.onLayoutEnd&&t.onLayoutEnd()}},{key:"run",value:function(){var t=this,e=t.nodes,n=t.edges,r=t.maxIteration;if("undefined"!=typeof window){var o=0;this.timeInterval=window.setInterval((function(){var i=[],a=[];if(e){e.forEach((function(t,e){i[2*e]=0,i[2*e+1]=0,a[2*e]=0,a[2*e+1]=0})),t.calRepulsive(i,e),n&&t.calAttractive(i,n),t.calGravity(i,e);var u=Math.max(.02,t.interval-.002*o);t.updateVelocity(i,a,u,e);var s=[];e.forEach((function(t){s.push({x:t.x,y:t.y})})),t.updatePosition(a,u,e),t.tick&&t.tick();var c=0;e.forEach((function(t,e){var n=t.x-s[e].x,r=t.y-s[e].y;c+=Math.sqrt(n*n+r*r)})),(c/=e.length)<t.minMovement&&(window.clearInterval(t.timeInterval),t.onLayoutEnd&&t.onLayoutEnd()),++o>r&&(window.clearInterval(t.timeInterval),t.onLayoutEnd&&t.onLayoutEnd())}}),0)}}},{key:"calRepulsive",value:function(t,e){var n=this.getMass,r=this.nodeStrength,o=this.factor,i=this.coulombDisScale,a=this.preventOverlap,u=this.nodeSize;e.forEach((function(s,c){var f=n?n(s):1;e.forEach((function(e,l){if(!(c>=l)){var h=s.x-e.x,d=s.y-e.y,p=Math.sqrt(h*h+d*d)+.01,v=(p+.1)*i,m=h/p,y=d/p,g=(r(s)+r(e))/2*o/(v*v),b=n?n(e):1;if(t[2*c]+=m*g/f,t[2*c+1]+=y*g/f,t[2*l]-=m*g/b,t[2*l+1]-=y*g/b,a&&p<(u(s)+u(e))/2){var _=(r(s)+r(e))/2/(p*p);t[2*c]+=m*_/f,t[2*c+1]+=y*_/f,t[2*l]-=m*_/b,t[2*l+1]-=y*_/b}}}))}))}},{key:"calAttractive",value:function(t,e){var n=this.nodeMap,r=this.nodeIdxMap,o=this.linkDistance,i=this.edgeStrength,a=this.getMass;e.forEach((function(e,u){var s=n[e.source],c=n[e.target],f=c.x-s.x,l=c.y-s.y,h=Math.sqrt(f*f+l*l)+.01,d=f/h,p=l/h,v=((o(e)||1)-h)*i(e),m=r[e.source],y=r[e.target],g=a?a(s):1,b=a?a(c):1;t[2*m]-=d*v/g,t[2*m+1]-=p*v/g,t[2*y]+=d*v/b,t[2*y+1]+=p*v/b}))}},{key:"calGravity",value:function(t,e){for(var n=this.center,r=this.gravity,o=this.degrees,i=e.length,a=0;a<i;a++){var u=e[a],s=u.x-n[0],c=u.y-n[1],f=r;if(this.getCenter){var l=this.getCenter(u,o[a]);l&&y(l[0])&&y(l[1])&&y(l[2])&&(s=u.x-l[0],c=u.y-l[1],f=l[2])}f&&(t[2*a]-=f*s,t[2*a+1]-=f*c)}}},{key:"updateVelocity",value:function(t,e,n,r){var o=this,i=n*o.damping;r.forEach((function(n,r){var a=t[2*r]*i||.01,u=t[2*r+1]*i||.01,s=Math.sqrt(a*a+u*u);if(s>o.maxSpeed){var c=o.maxSpeed/s;a*=c,u*=c}e[2*r]=a,e[2*r+1]=u}))}},{key:"updatePosition",value:function(t,e,n){n.forEach((function(n,r){var o=t[2*r]*e,i=t[2*r+1]*e;n.x+=o,n.y+=i}))}},{key:"stop",value:function(){this.timeInterval&&"undefined"!=typeof window&&window.clearInterval(this.timeInterval)}},{key:"destroy",value:function(){this.stop(),this.tick=null,this.nodes=null,this.edges=null,this.destroyed=!0}},{key:"getType",value:function(){return"gForce"}}])&&V(e.prototype,n),r&&V(e,r),i}(I);function Z(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var o,i,a,u,s,c,f,l,h,d=t._root,p={data:r},v=t._x0,m=t._y0,y=t._x1,g=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(i=(v+y)/2))?v=i:y=i,(f=n>=(a=(m+g)/2))?m=a:g=a,o=d,!(d=d[l=f<<1|c]))return o[l]=p,t;if(u=+t._x.call(null,d.data),s=+t._y.call(null,d.data),e===u&&n===s)return p.next=d,o?o[l]=p:t._root=p,t;do{o=o?o[l]=new Array(4):t._root=new Array(4),(c=e>=(i=(v+y)/2))?v=i:y=i,(f=n>=(a=(m+g)/2))?m=a:g=a}while((l=f<<1|c)==(h=(s>=a)<<1|u>=i));return o[h]=d,o[l]=p,t}var Q=function(t,e,n,r,o){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=o};function J(t){return t[0]}function $(t){return t[1]}function tt(t,e,n){var r=new et(null==e?J:e,null==n?$:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function et(t,e,n,r,o,i){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function nt(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var rt=tt.prototype=et.prototype;rt.copy=function(){var t,e,n=new et(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=nt(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var o=0;o<4;++o)(e=r.source[o])&&(e.length?t.push({source:e,target:r.target[o]=new Array(4)}):r.target[o]=nt(e));return n},rt.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Z(this.cover(e,n),e,n,t)},rt.addAll=function(t){var e,n,r,o,i=t.length,a=new Array(i),u=new Array(i),s=1/0,c=1/0,f=-1/0,l=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(a[n]=r,u[n]=o,r<s&&(s=r),r>f&&(f=r),o<c&&(c=o),o>l&&(l=o));if(s>f||c>l)return this;for(this.cover(s,c).cover(f,l),n=0;n<i;++n)Z(this,a[n],u[n],t[n]);return this},rt.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(t))+1,i=(r=Math.floor(e))+1;else{for(var a,u,s=o-n||1,c=this._root;n>t||t>=o||r>e||e>=i;)switch(u=(e<r)<<1|t<n,(a=new Array(4))[u]=c,c=a,s*=2,u){case 0:o=n+s,i=r+s;break;case 1:n=o-s,i=r+s;break;case 2:o=n+s,r=i-s;break;case 3:n=o-s,r=i-s}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},rt.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},rt.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},rt.find=function(t,e,n){var r,o,i,a,u,s,c,f=this._x0,l=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new Q(v,f,l,h,d)),null==n?n=1/0:(f=t-n,l=e-n,h=t+n,d=e+n,n*=n);s=p.pop();)if(!(!(v=s.node)||(o=s.x0)>h||(i=s.y0)>d||(a=s.x1)<f||(u=s.y1)<l))if(v.length){var m=(o+a)/2,y=(i+u)/2;p.push(new Q(v[3],m,y,a,u),new Q(v[2],o,y,m,u),new Q(v[1],m,i,a,y),new Q(v[0],o,i,m,y)),(c=(e>=y)<<1|t>=m)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=s)}else{var g=t-+this._x.call(null,v.data),b=e-+this._y.call(null,v.data),_=g*g+b*b;if(_<n){var x=Math.sqrt(n=_);f=t-x,l=e-x,h=t+x,d=e+x,r=v.data}}return r},rt.remove=function(t){if(isNaN(i=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,o,i,a,u,s,c,f,l,h,d=this._root,p=this._x0,v=this._y0,m=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((c=i>=(u=(p+m)/2))?p=u:m=u,(f=a>=(s=(v+y)/2))?v=s:y=s,e=d,!(d=d[l=f<<1|c]))return this;if(!d.length)break;(e[l+1&3]||e[l+2&3]||e[l+3&3])&&(n=e,h=l)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(o=d.next)&&delete d.next,r?(o?r.next=o:delete r.next,this):e?(o?e[l]=o:delete e[l],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=o,this)},rt.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},rt.root=function(){return this._root},rt.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},rt.visit=function(t){var e,n,r,o,i,a,u=[],s=this._root;for(s&&u.push(new Q(s,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!t(s=e.node,r=e.x0,o=e.y0,i=e.x1,a=e.y1)&&s.length){var c=(r+i)/2,f=(o+a)/2;(n=s[3])&&u.push(new Q(n,c,f,i,a)),(n=s[2])&&u.push(new Q(n,r,f,c,a)),(n=s[1])&&u.push(new Q(n,c,o,i,f)),(n=s[0])&&u.push(new Q(n,r,o,c,f))}return this},rt.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Q(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var o=e.node;if(o.length){var i,a=e.x0,u=e.y0,s=e.x1,c=e.y1,f=(a+s)/2,l=(u+c)/2;(i=o[0])&&n.push(new Q(i,a,u,f,l)),(i=o[1])&&n.push(new Q(i,f,u,s,l)),(i=o[2])&&n.push(new Q(i,a,l,f,c)),(i=o[3])&&n.push(new Q(i,f,l,s,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},rt.x=function(t){return arguments.length?(this._x=t,this):this._x},rt.y=function(t){return arguments.length?(this._y=t,this):this._y};var ot=function(t){return function(){return t}},it=function(t){return 1e-6*(t()-.5)},at={value:function(){}};function ut(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new st(r)}function st(t){this._=t}function ct(t,e){return t.trim().split(/^|\\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function ft(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function lt(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=at,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}st.prototype=ut.prototype={constructor:st,on:function(t,e){var n,r=this._,o=ct(t+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<a;)if(n=(t=o[i]).type)r[n]=lt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=lt(r[n],t.name,null);return this}for(;++i<a;)if((n=(t=o[i]).type)&&(n=ft(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new st(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};var ht=ut;function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var pt,vt,mt=0,yt=0,gt=0,bt=0,_t=0,xt=0,wt="object"===("undefined"==typeof performance?"undefined":dt(performance))&&performance.now?performance:Date,Et="object"===("undefined"==typeof window?"undefined":dt(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function St(){return _t||(Et(Tt),_t=wt.now()+xt)}function Tt(){_t=0}function At(){this._call=this._time=this._next=null}function It(t,e,n){var r=new At;return r.restart(t,e,n),r}function kt(){_t=(bt=wt.now())+xt,mt=yt=0;try{!function(){St(),++mt;for(var t,e=pt;e;)(t=_t-e._time)>=0&&e._call.call(null,t),e=e._next;--mt}()}finally{mt=0,function(){var t,e,n=pt,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:pt=e);vt=t,Dt(r)}(),_t=0}}function Ot(){var t=wt.now(),e=t-bt;e>1e3&&(xt-=e,bt=t)}function Dt(t){mt||(yt&&(yt=clearTimeout(yt)),t-_t>24?(t<1/0&&(yt=setTimeout(kt,t-wt.now()-xt)),gt&&(gt=clearInterval(gt))):(gt||(bt=wt.now(),gt=setInterval(Ot,1e3)),mt=1,Et(kt)))}At.prototype=It.prototype={constructor:At,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?St():+n)+(null==e?0:+e),this._next||vt===this||(vt?vt._next=this:pt=this,vt=this),this._call=t,this._time=n,Dt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dt())}};function Rt(t){return t.x}function Mt(t){return t.y}var Ct=Math.PI*(3-Math.sqrt(5)),Nt=function(t){var e,n,r=1,o=.001,i=1-Math.pow(o,1/300),a=0,u=.6,s=new Map,c=It(h),f=ht("tick","end"),l=(n=1,function(){return(n=(1664525*n+1013904223)%4294967296)/4294967296});function h(){d(),f.call("tick",e),r<o&&(c.stop(),f.call("end",e))}function d(n){var o,c,f=t.length;void 0===n&&(n=1);for(var l=0;l<n;++l)for(r+=(a-r)*i,s.forEach((function(t){t(r)})),o=0;o<f;++o)null==(c=t[o]).fx?c.x+=c.vx*=u:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=u:(c.y=c.fy,c.vy=0);return e}function p(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var o=10*Math.sqrt(.5+n),i=n*Ct;e.x=o*Math.cos(i),e.y=o*Math.sin(i)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function v(e){return e.initialize&&e.initialize(t,l),e}return null==t&&(t=[]),p(),e={tick:d,restart:function(){return c.restart(h),e},stop:function(){return c.stop(),e},nodes:function(n){return arguments.length?(t=n,p(),s.forEach(v),e):t},alpha:function(t){return arguments.length?(r=+t,e):r},alphaMin:function(t){return arguments.length?(o=+t,e):o},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(a=+t,e):a},velocityDecay:function(t){return arguments.length?(u=1-t,e):1-u},randomSource:function(t){return arguments.length?(l=t,s.forEach(v),e):l},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,v(n)),e):s.get(t)},find:function(e,n,r){var o,i,a,u,s,c=0,f=t.length;for(null==r?r=1/0:r*=r,c=0;c<f;++c)(a=(o=e-(u=t[c]).x)*o+(i=n-u.y)*i)<r&&(s=u,r=a);return s},on:function(t,n){return arguments.length>1?(f.on(t,n),e):f.on(t)}}},Pt=function(){var t,e,n,r,o,i=ot(-30),a=1,u=1/0,s=.81;function c(n){var o,i=t.length,a=tt(t,Rt,Mt).visitAfter(l);for(r=n,o=0;o<i;++o)e=t[o],a.visit(h)}function f(){if(t){var e,n,r=t.length;for(o=new Array(r),e=0;e<r;++e)n=t[e],o[n.index]=+i(n,e,t)}}function l(t){var e,n,r,i,a,u=0,s=0;if(t.length){for(r=i=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(u+=e.value,s+=n,r+=n*e.x,i+=n*e.y);t.x=r/s,t.y=i/s}else{(e=t).x=e.data.x,e.y=e.data.y;do{u+=o[e.data.index]}while(e=e.next)}t.value=u}function h(t,i,c,f){if(!t.value)return!0;var l=t.x-e.x,h=t.y-e.y,d=f-i,p=l*l+h*h;if(d*d/s<p)return p<u&&(0===l&&(p+=(l=it(n))*l),0===h&&(p+=(h=it(n))*h),p<a&&(p=Math.sqrt(a*p)),e.vx+=l*t.value*r/p,e.vy+=h*t.value*r/p),!0;if(!(t.length||p>=u)){(t.data!==e||t.next)&&(0===l&&(p+=(l=it(n))*l),0===h&&(p+=(h=it(n))*h),p<a&&(p=Math.sqrt(a*p)));do{t.data!==e&&(d=o[t.data.index]*r/p,e.vx+=l*d,e.vy+=h*d)}while(t=t.next)}}return c.initialize=function(e,r){t=e,n=r,f()},c.strength=function(t){return arguments.length?(i="function"==typeof t?t:ot(+t),f(),c):i},c.distanceMin=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.distanceMax=function(t){return arguments.length?(u=t*t,c):Math.sqrt(u)},c.theta=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c};function Gt(t){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jt(t){return t.index}function Lt(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}var Ut=function(t){var e,n,r,o,i,a,u=jt,s=function(t){return 1/Math.min(o[t.source.index],o[t.target.index])},c=ot(30),f=1;function l(r){for(var o=0,u=t.length;o<f;++o)for(var s,c,l,h,d,p,v,m=0;m<u;++m)c=(s=t[m]).source,h=(l=s.target).x+l.vx-c.x-c.vx||it(a),d=l.y+l.vy-c.y-c.vy||it(a),h*=p=((p=Math.sqrt(h*h+d*d))-n[m])/p*r*e[m],d*=p,l.vx-=h*(v=i[m]),l.vy-=d*v,c.vx+=h*(v=1-v),c.vy+=d*v}function h(){if(r){var a,s,c=r.length,f=t.length,l=new Map(r.map((function(t,e){return[u(t,e,r),t]})));for(a=0,o=new Array(c);a<f;++a)(s=t[a]).index=a,"object"!==Gt(s.source)&&(s.source=Lt(l,s.source)),"object"!==Gt(s.target)&&(s.target=Lt(l,s.target)),o[s.source.index]=(o[s.source.index]||0)+1,o[s.target.index]=(o[s.target.index]||0)+1;for(a=0,i=new Array(f);a<f;++a)s=t[a],i[a]=o[s.source.index]/(o[s.source.index]+o[s.target.index]);e=new Array(f),d(),n=new Array(f),p()}}function d(){if(r)for(var n=0,o=t.length;n<o;++n)e[n]=+s(t[n],n,t)}function p(){if(r)for(var e=0,o=t.length;e<o;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),l.initialize=function(t,e){r=t,a=e,h()},l.links=function(e){return arguments.length?(t=e,h(),l):t},l.id=function(t){return arguments.length?(u=t,l):u},l.iterations=function(t){return arguments.length?(f=+t,l):f},l.strength=function(t){return arguments.length?(s="function"==typeof t?t:ot(+t),d(),l):s},l.distance=function(t){return arguments.length?(c="function"==typeof t?t:ot(+t),p(),l):c},l};function Bt(t){return t.x+t.vx}function Ft(t){return t.y+t.vy}var zt=function(t){var e,n,r,o=1,i=1;function a(){for(var t,a,s,c,f,l,h,d=e.length,p=0;p<i;++p)for(a=tt(e,Bt,Ft).visitAfter(u),t=0;t<d;++t)s=e[t],l=n[s.index],h=l*l,c=s.x+s.vx,f=s.y+s.vy,a.visit(v);function v(t,e,n,i,a){var u=t.data,d=t.r,p=l+d;if(!u)return e>c+p||i<c-p||n>f+p||a<f-p;if(u.index>s.index){var v=c-u.x-u.vx,m=f-u.y-u.vy,y=v*v+m*m;y<p*p&&(0===v&&(y+=(v=it(r))*v),0===m&&(y+=(m=it(r))*m),y=(p-(y=Math.sqrt(y)))/y*o,s.vx+=(v*=y)*(p=(d*=d)/(h+d)),s.vy+=(m*=y)*p,u.vx-=v*(p=1-p),u.vy-=m*p)}}}function u(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var r,o,i=e.length;for(n=new Array(i),r=0;r<i;++r)o=e[r],n[o.index]=+t(o,r,e)}}return"function"!=typeof t&&(t=ot(null==t?1:+t)),a.initialize=function(t,n){e=t,r=n,s()},a.iterations=function(t){return arguments.length?(i=+t,a):i},a.strength=function(t){return arguments.length?(o=+t,a):o},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:ot(+e),s(),a):t},a};function Vt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Wt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Xt(){function t(t){return function(){return t}}var e,n=function(t){return t.cluster},r=t(1),o=t(-1),i=t(100),a=t(.1),u=[0,0],s=[],c={},f=[],l=100,h=100,d={none:{x:0,y:0}},p=[],v="force",m=!0,y=.1;function g(t){if(!m)return g;e.tick(),_();for(var r,o=0,i=s.length,a=t*y;o<i;++o)(r=s[o]).vx+=(d[n(r)].x-r.x)*a,r.vy+=(d[n(r)].y-r.y)*a}function b(){s&&function(){if(!s||!s.length)return;if(void 0===n(s[0]))throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var t=(d=[],v=[],m={},y=[],u=function(t){var e={};return t.forEach((function(t){var r=n(t);e[r]||(e[r]={count:0,sumforceNodeSize:0})})),t.forEach((function(t){var o=n(t),i=r(t),a=e[o];a.count=a.count+1,a.sumforceNodeSize=a.sumforceNodeSize+Math.PI*(i*i)*1.3,e[o]=a})),e}(s),y=function(t){var e={},r=[];return t.forEach((function(t){var r=function(t){var e=n(c[t.source]),r=n(c[t.target]);return e<=r?"".concat(e,"~").concat(r):"".concat(r,"~").concat(e)}(t),o=0;void 0!==e[r]&&(o=e[r]),o+=1,e[r]=o})),Object.entries(e).forEach((function(t){var e=Vt(t,2),n=e[0],o=e[1],i=n.split("~")[0],a=n.split("~")[1];void 0!==i&&void 0!==a&&r.push({source:i,target:a,count:o})})),r}(f),Object.keys(u).forEach((function(t,e){var n=u[t];d.push({id:t,size:n.count,r:Math.sqrt(n.sumforceNodeSize/Math.PI)}),m[t]=e})),y.forEach((function(t){var e=m[t.source],n=m[t.target];void 0!==e&&void 0!==n&&v.push({source:e,target:n,count:t.count})})),{nodes:d,links:v});var u,d,v,m,y;e=Nt(t.nodes).force("x",function(t){var e,n,r,o=ot(.1);function i(t){for(var o,i=0,a=e.length;i<a;++i)(o=e[i]).vx+=(r[i]-o.x)*n[i]*t}function a(){if(e){var i,a=e.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!=typeof t&&(t=ot(null==t?0:+t)),i.initialize=function(t){e=t,a()},i.strength=function(t){return arguments.length?(o="function"==typeof t?t:ot(+t),a(),i):o},i.x=function(e){return arguments.length?(t="function"==typeof e?e:ot(+e),a(),i):t},i}(l).strength(.1)).force("y",function(t){var e,n,r,o=ot(.1);function i(t){for(var o,i=0,a=e.length;i<a;++i)(o=e[i]).vy+=(r[i]-o.y)*n[i]*t}function a(){if(e){var i,a=e.length;for(n=new Array(a),r=new Array(a),i=0;i<a;++i)n[i]=isNaN(r[i]=+t(e[i],i,e))?0:+o(e[i],i,e)}}return"function"!=typeof t&&(t=ot(null==t?0:+t)),i.initialize=function(t){e=t,a()},i.strength=function(t){return arguments.length?(o="function"==typeof t?t:ot(+t),a(),i):o},i.y=function(e){return arguments.length?(t="function"==typeof e?e:ot(+e),a(),i):t},i}(h).strength(.1)).force("collide",zt((function(t){return t.r})).iterations(4)).force("charge",Pt().strength(o)).force("links",Ut(t.nodes.length?t.links:[]).distance(i).strength(a)),p=e.nodes(),_()}()}function _(){return d={none:{x:0,y:0}},p.forEach((function(t){d[t.id]={x:t.x-u[0],y:t.y-u[1]}})),d}function x(t){c={},t.forEach((function(t){c[t.id]=t}))}return g.initialize=function(t){s=t,b()},g.template=function(t){return arguments.length?(v=t,b(),g):v},g.groupBy=function(t){return arguments.length?"string"==typeof t?(n=function(e){return e[t]},g):(n=t,g):n},g.enableGrouping=function(t){return arguments.length?(m=t,g):m},g.strength=function(t){return arguments.length?(y=t,g):y},g.centerX=function(t){return arguments.length?(l=t,g):l},g.centerY=function(t){return arguments.length?(h=t,g):h},g.nodes=function(t){return arguments.length?(x(t||[]),s=t||[],g):s},g.links=function(t){return arguments.length?(f=t||[],b(),g):f},g.forceNodeSize=function(e){return arguments.length?(r="function"==typeof e?e:t(+e),b(),g):r},g.nodeSize=g.forceNodeSize,g.forceCharge=function(e){return arguments.length?(o="function"==typeof e?e:t(+e),b(),g):o},g.forceLinkDistance=function(e){return arguments.length?(i="function"==typeof e?e:t(+e),b(),g):i},g.forceLinkStrength=function(e){return arguments.length?(a="function"==typeof e?e:t(+e),b(),g):a},g.offset=function(t){return arguments.length?(u=t,g):u},g.getFocis=_,g}var Ht="LAYOUT_RUN",qt="LAYOUT_END",Yt="LAYOUT_ERROR",Kt="LAYOUT_TICK",Zt="GPU_LAYOUT_RUN",Qt="GPU_LAYOUT_END";function Jt(t){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function te(t,e){return(te=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=re(t);if(e){var o=re(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ne(this,n)}}function ne(t,e){return!e||"object"!==Jt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function re(t){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var oe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&te(t,e)}(i,t);var e,n,r,o=ee(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).center=[0,0],e.nodeStrength=null,e.edgeStrength=null,e.preventOverlap=!1,e.clusterNodeStrength=null,e.clusterEdgeStrength=null,e.clusterEdgeDistance=null,e.clusterNodeSize=null,e.clusterFociStrength=null,e.linkDistance=50,e.alphaDecay=.028,e.alphaMin=.001,e.alpha=.3,e.collideStrength=1,e.workerEnabled=!1,e.tick=function(){},e.onLayoutEnd=function(){},e.ticking=void 0,t&&e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}}},{key:"init",value:function(t){this.nodes=t.nodes||[];var e=t.edges||[];this.edges=e.map((function(t){var e={},n=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(t).forEach((function(r){n.indexOf(r)>-1||(e[r]=t[r])})),e})),this.ticking=!1}},{key:"execute",value:function(t){var e=this,n=e.nodes,r=e.edges;if(!e.ticking){var o=e.forceSimulation,i=e.alphaMin,a=e.alphaDecay,u=e.alpha;if(o){if(t)if(e.clustering&&e.clusterForce&&(e.clusterForce.nodes(n),e.clusterForce.links(r)),o.nodes(n),r&&e.edgeForce)e.edgeForce.links(r);else if(r&&!e.edgeForce){var s=Ut().id((function(t){return t.id})).links(r);e.edgeStrength&&s.strength(e.edgeStrength),e.linkDistance&&s.distance(e.linkDistance),e.edgeForce=s,o.force("link",s)}e.preventOverlap&&e.overlapProcess(o),o.alpha(u).restart(),this.ticking=!0}else try{var c=Pt();if(e.nodeStrength&&c.strength(e.nodeStrength),o=Nt().nodes(n),e.clustering){var f=Xt();f.centerX(e.center[0]).centerY(e.center[1]).template("force").strength(e.clusterFociStrength),r&&f.links(r),n&&f.nodes(n),f.forceLinkDistance(e.clusterEdgeDistance).forceLinkStrength(e.clusterEdgeStrength).forceCharge(e.clusterNodeStrength).forceNodeSize(e.clusterNodeSize),e.clusterForce=f,o.force("group",f)}if(o.force("center",function(t,e){var n,r=1;function o(){var o,i,a=n.length,u=0,s=0;for(o=0;o<a;++o)u+=(i=n[o]).x,s+=i.y;for(u=(u/a-t)*r,s=(s/a-e)*r,o=0;o<a;++o)(i=n[o]).x-=u,i.y-=s}return null==t&&(t=0),null==e&&(e=0),o.initialize=function(t){n=t},o.x=function(e){return arguments.length?(t=+e,o):t},o.y=function(t){return arguments.length?(e=+t,o):e},o.strength=function(t){return arguments.length?(r=+t,o):r},o}(e.center[0],e.center[1])).force("charge",c).alpha(u).alphaDecay(a).alphaMin(i),e.preventOverlap&&e.overlapProcess(o),r){var l=Ut().id((function(t){return t.id})).links(r);e.edgeStrength&&l.strength(e.edgeStrength),e.linkDistance&&l.distance(e.linkDistance),e.edgeForce=l,o.force("link",l)}if(e.workerEnabled&&!ie()&&(e.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),e.workerEnabled){o.stop();for(var h=function(t){var e=t.alphaMin(),n=t.alphaTarget(),r=t.alpha(),o=Math.log((e-n)/(r-n))/Math.log(1-t.alphaDecay());return Math.ceil(o)}(o),d=1;d<=h;d++)o.tick(),postMessage({nodes:n,currentTick:d,totalTicks:h,type:Kt},void 0);e.ticking=!1}else o.on("tick",(function(){e.tick()})).on("end",(function(){e.ticking=!1,e.onLayoutEnd&&e.onLayoutEnd()})),e.ticking=!0;e.forceSimulation=o,e.ticking=!0}catch(t){e.ticking=!1,console.warn(t)}}}},{key:"overlapProcess",value:function(t){var e,n,r=this.nodeSize,o=this.nodeSpacing,i=this.collideStrength;if(n=y(o)?function(){return o}:T(o)?o:function(){return 0},r)if(T(r))e=function(t){return r(t)+n(t)};else if(m(r)){var a=(r[0]>r[1]?r[0]:r[1])/2;e=function(t){return a+n(t)}}else if(y(r)){var u=r/2;e=function(t){return u+n(t)}}else e=function(){return 10};else e=function(t){return t.size?m(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2+n(t):t.size/2+n(t):10+n(t)};t.force("collisionForce",zt(e).strength(i))}},{key:"updateCfg",value:function(t){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.forceSimulation=null,Object.assign(this,t)}},{key:"destroy",value:function(){this.ticking&&(this.forceSimulation.stop(),this.ticking=!1),this.nodes=null,this.edges=null,this.destroyed=!0}}])&&$t(e.prototype,n),r&&$t(e,r),i}(I);function ie(){return"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope}function ae(t){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function se(t,e){return(se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ce(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=le(t);if(e){var o=le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fe(this,n)}}function fe(t,e){return!e||"object"!==ae(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function le(t){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function he(t,e,n,r){t.forEach((function(e,n){t[n].children=[],t[n].parent=[]})),r?e.forEach((function(e){var r=0;e.source&&(r=n[e.source]);var o=0;e.target&&(o=n[e.target]);var i=t[r].children,a=t[o].parent;i.push(t[o].id),a.push(t[r].id)})):e.forEach((function(e){var r=0;e.source&&(r=n[e.source]);var o=0;e.target&&(o=n[e.target]);var i=t[r].children,a=t[o].children;i.push(t[o].id),a.push(t[r].id)}))}function de(t,e,n){for(var r=n.length,o=0;o<r;o++)if(t.id===n[o].source&&e.id===n[o].target||e.id===n[o].source&&t.id===n[o].target)return!0;return!1}function pe(t,e){var n=t.degree,r=e.degree;return n<r?-1:n>r?1:0}var ve=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&se(t,e)}(i,t);var e,n,r,o=ce(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).radius=null,e.startRadius=null,e.endRadius=null,e.startAngle=0,e.endAngle=2*Math.PI,e.clockwise=!0,e.divisions=1,e.ordering=null,e.angleRatio=1,e.nodes=[],e.edges=[],e.nodeMap={},e.degrees=[],e.width=300,e.height=300,e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}}},{key:"execute",value:function(){var t=this.nodes,e=this.edges,n=t.length;if(0!==n){this.width||"undefined"==typeof window||(this.width=window.innerWidth),this.height||"undefined"==typeof window||(this.height=window.innerHeight),this.center||(this.center=[this.width/2,this.height/2]);var r=this.center;if(1===n)return t[0].x=r[0],t[0].y=r[1],void(this.onLayoutEnd&&this.onLayoutEnd());var o=this.radius,i=this.startRadius,a=this.endRadius,u=this.divisions,s=this.startAngle,c=this.endAngle,f=(c-s)/n,l={};t.forEach((function(t,e){l[t.id]=e})),this.nodeMap=l;var h=b(t.length,l,e);this.degrees=h,o||i||a?!i&&a?i=a:i&&!a&&(a=i):o=this.height>this.width?this.width/2:this.height/2;var d=f*this.angleRatio,p=this.ordering,v=[];v="topology"===p?this.topologyOrdering():"topology-directed"===p?this.topologyOrdering(!0):"degree"===p?this.degreeOrdering():t;for(var m=this.clockwise,y=Math.ceil(n/u),g=0;g<n;++g){var _=o;_||null===i||null===a||(_=i+g*(a-i)/(n-1)),_||(_=10+100*g/(n-1));var x=s+g%y*d+2*Math.PI/u*Math.floor(g/y);m||(x=c-g%y*d-2*Math.PI/u*Math.floor(g/y)),v[g].x=r[0]+Math.cos(x)*_,v[g].y=r[1]+Math.sin(x)*_,v[g].weight=h[g]}return this.onLayoutEnd&&this.onLayoutEnd(),{nodes:v,edges:this.edges}}this.onLayoutEnd&&this.onLayoutEnd()}},{key:"topologyOrdering",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this,n=e.degrees,r=e.edges,o=e.nodes,i=S(o),a=e.nodeMap,u=[i[0]],s=[o[0]],c=[],f=o.length;c[0]=!0,he(i,r,a,t);var l=0;return i.forEach((function(t,e){if(0!==e)if(e!==f-1&&n[e]===n[e+1]&&!de(u[l],t,r)||c[e]){for(var h=u[l].children,d=!1,p=0;p<h.length;p++){var v=a[h[p]];if(n[v]===n[e]&&!c[v]){u.push(i[v]),s.push(o[a[i[v].id]]),c[v]=!0,d=!0;break}}for(var m=0;!d&&(c[m]||(u.push(i[m]),s.push(o[a[i[m].id]]),c[m]=!0,d=!0),++m!==f););}else u.push(t),s.push(o[a[t.id]]),c[e]=!0,l++})),s}},{key:"degreeOrdering",value:function(){var t=this.nodes,e=[],n=this.degrees;return t.forEach((function(t,r){t.degree=n[r],e.push(t)})),e.sort(pe),e}},{key:"getType",value:function(){return"circular"}}])&&ue(e.prototype,n),r&&ue(e,r),i}(I),me=n(102),ye=n.n(me);function ge(t){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function be(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _e(t,e){return(_e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ee(t);if(e){var o=Ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return we(this,n)}}function we(t,e){return!e||"object"!==ge(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ee(t){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Se=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_e(t,e)}(i,t);var e,n,r,o=xe(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).rankdir="TB",e.nodesep=50,e.ranksep=50,e.controlPoints=!1,e.sortByCombo=!1,e.nodes=[],e.edges=[],e.onLayoutEnd=function(){},e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}}},{key:"execute",value:function(){var t=this,e=t.nodes,n=t.nodeSize,r=t.rankdir;if(e){var o,i=t.edges||[],a=new ye.a.graphlib.Graph;o=n?m(n)?function(){return n}:function(){return[n,n]}:function(t){return t.size?m(t.size)?t.size:[t.size,t.size]:[40,40]};var u,s=Te(t.nodesepFunc,t.nodesep,50),c=Te(t.ranksepFunc,t.ranksep,50);return"LR"!==r&&"RL"!==r||(s=Te(t.ranksepFunc,t.ranksep,50),c=Te(t.nodesepFunc,t.nodesep,50)),a.setDefaultEdgeLabel((function(){return{}})),a.setGraph(t),e.forEach((function(t){var e=o(t),n=c(t),r=s(t),i=e[0]+2*r,u=e[1]+2*n;a.setNode(t.id,{width:i,height:u})})),i.forEach((function(t){a.setEdge(t.source,t.target,{weight:t.weight||1})})),ye.a.layout(a),a.nodes().forEach((function(t){u=a.node(t);var n=e.findIndex((function(e){return e.id===t}));e[n].x=u.x,e[n].y=u.y})),a.edges().forEach((function(e){u=a.edge(e);var n=i.findIndex((function(t){return t.source===e.v&&t.target===e.w}));t.controlPoints&&"loop"!==i[n].type&&(i[n].controlPoints=u.points.slice(1,u.points.length-1))})),t.sortByCombo&&t.sortLevel("comboId"),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:i}}}},{key:"sortLevel",value:function(t){var e=this,n=e.nodes,r={};n.forEach((function(t){r[t.y]||(r[t.y]={y:t.y,nodes:[]}),r[t.y].nodes.push(t)})),Object.keys(r).forEach((function(n){var o=r[n].nodes,i=o.length,a={};if(o.forEach((function(t){var e=t.comboId;a[e]||(a[e]={x:0,y:0,count:0}),a[e].x+=t.x,a[e].y+=t.y,a[e].count++})),Object.keys(a).forEach((function(t){a[t].x/=a[t].count,a[t].y/=a[t].count})),1!==i){var u=o.sort((function(t,e){return t.x-e.x})),s=u[0].x,c=(u[i-1].x-s)/(i-1);o.sort((function(e,n){var r=e[t]||"undefined",o=n[t]||"undefined";return r<o?-1:r>o?1:0})).forEach((function(t,e){t.x=s+e*c}))}else e.onLayoutEnd&&e.onLayoutEnd()}))}},{key:"getType",value:function(){return"dagre"}}])&&be(e.prototype,n),r&&be(e,r),i}(I);function Te(t,e,n){return t||(y(e)?function(){return e}:function(){return n})}var Ae=Object.prototype.toString;function Ie(t){return Ae.call(t).endsWith("Array]")}var ke=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Ie(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=e.fromIndex,r=void 0===n?0:n,o=e.toIndex,i=void 0===o?t.length:o;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=r||i>t.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[r],u=r+1;u<i;u++)t[u]>a&&(a=t[u]);return a};var Oe=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Ie(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");var n=e.fromIndex,r=void 0===n?0:n,o=e.toIndex,i=void 0===o?t.length:o;if(r<0||r>=t.length||!Number.isInteger(r))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=r||i>t.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=t[r],u=r+1;u<i;u++)t[u]<a&&(a=t[u]);return a};var De=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Ie(t))throw new TypeError("input must be an array");if(0===t.length)throw new TypeError("input must not be empty");if(void 0!==n.output){if(!Ie(n.output))throw new TypeError("output option must be an array if specified");e=n.output}else e=new Array(t.length);var r=Oe(t),o=ke(t);if(r===o)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var i=n.min,a=void 0===i?n.autoMinMax?r:0:i,u=n.max,s=void 0===u?n.autoMinMax?o:1:u;if(a>=s)throw new RangeError("min option must be smaller than max option");for(var c=(s-a)/(o-r),f=0;f<t.length;f++)e[f]=(t[f]-r)*c+a;return e},Re=" ".repeat(2),Me=" ".repeat(4);function Ce(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.maxRows,r=void 0===n?15:n,o=e.maxColumns,i=void 0===o?10:o,a=e.maxNumSize,u=void 0===a?8:a;return"".concat(t.constructor.name," {\\n").concat(Re,"[\\n").concat(Me).concat(Ne(t,r,i,u),"\\n").concat(Re,"]\\n").concat(Re,"rows: ").concat(t.rows,"\\n").concat(Re,"columns: ").concat(t.columns,"\\n}")}function Ne(t,e,n,r){for(var o=t.rows,i=t.columns,a=Math.min(o,e),u=Math.min(i,n),s=[],c=0;c<a;c++){for(var f=[],l=0;l<u;l++)f.push(Pe(t.get(c,l),r));s.push("".concat(f.join(" ")))}return u!==i&&(s[s.length-1]+=" ... ".concat(i-n," more columns")),a!==o&&s.push("... ".concat(o-e," more rows")),s.join("\\n".concat(Me))}function Pe(t,e){var n=String(t);if(n.length<=e)return n.padEnd(e," ");var r=t.toPrecision(e-2);if(r.length<=e)return r;var o=t.toExponential(e-2),i=o.indexOf("e"),a=o.slice(i);return o.slice(0,e-a.length)+a}function Ge(t){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function je(t,e,n){var r=n?t.rows:t.rows-1;if(e<0||e>r)throw new RangeError("Row index out of range")}function Le(t,e,n){var r=n?t.columns:t.columns-1;if(e<0||e>r)throw new RangeError("Column index out of range")}function Ue(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.columns)throw new RangeError("vector size must be the same as the number of columns");return e}function Be(t,e){if(e.to1DArray&&(e=e.to1DArray()),e.length!==t.rows)throw new RangeError("vector size must be the same as the number of rows");return e}function Fe(t,e){if("object"!==Ge(e))throw new TypeError("unexpected type for row indices");if(e.some((function(e){return e<0||e>=t.rows})))throw new RangeError("row indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function ze(t,e){if("object"!==Ge(e))throw new TypeError("unexpected type for column indices");if(e.some((function(e){return e<0||e>=t.columns})))throw new RangeError("column indices are out of range");return Array.isArray(e)||(e=Array.from(e)),e}function Ve(t,e,n,r,o){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(Xe("startRow",e),Xe("endRow",n),Xe("startColumn",r),Xe("endColumn",o),e>n||r>o||e<0||e>=t.rows||n<0||n>=t.rows||r<0||r>=t.columns||o<0||o>=t.columns)throw new RangeError("Submatrix indices are out of range")}function We(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],r=0;r<t;r++)n.push(e);return n}function Xe(t,e){if("number"!=typeof e)throw new TypeError("".concat(t," must be a number"))}function He(t){if(t.isEmpty())throw new Error("Empty matrix has no elements to index")}function qe(t,e,n){for(var r=t.rows,o=t.columns,i=[],a=0;a<r;a++){for(var u=0,s=0,c=0,f=0;f<o;f++)u+=c=t.get(a,f)-n[a],s+=c*c;e?i.push((s-u*u/o)/(o-1)):i.push((s-u*u/o)/o)}return i}function Ye(t,e,n){for(var r=t.rows,o=t.columns,i=[],a=0;a<o;a++){for(var u=0,s=0,c=0,f=0;f<r;f++)u+=c=t.get(f,a)-n[a],s+=c*c;e?i.push((s-u*u/r)/(r-1)):i.push((s-u*u/r)/r)}return i}function Ke(t,e,n){for(var r=t.rows,o=t.columns,i=r*o,a=0,u=0,s=0,c=0;c<r;c++)for(var f=0;f<o;f++)a+=s=t.get(c,f)-n,u+=s*s;return e?(u-a*a/i)/(i-1):(u-a*a/i)/i}function Ze(t,e){for(var n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[n])}function Qe(t,e){for(var n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e[r])}function Je(t,e){for(var n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)-e)}function $e(t){for(var e=[],n=0;n<t.rows;n++){for(var r=0,o=0;o<t.columns;o++)r+=Math.pow(t.get(n,o),2)/(t.columns-1);e.push(Math.sqrt(r))}return e}function tn(t,e){for(var n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[n])}function en(t){for(var e=[],n=0;n<t.columns;n++){for(var r=0,o=0;o<t.rows;o++)r+=Math.pow(t.get(o,n),2)/(t.rows-1);e.push(Math.sqrt(r))}return e}function nn(t,e){for(var n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e[r])}function rn(t){for(var e=t.size-1,n=0,r=0;r<t.columns;r++)for(var o=0;o<t.rows;o++)n+=Math.pow(t.get(o,r),2)/e;return Math.sqrt(n)}function on(t,e){for(var n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)t.set(n,r,t.get(n,r)/e)}function an(t,e){return(an=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function un(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=cn(t);if(e){var o=cn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return sn(this,n)}}function sn(t,e){return!e||"object"!==fn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cn(t){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fn(t){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ln(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dn(t,e,n){return e&&hn(t.prototype,e),n&&hn(t,n),t}var pn=function(){function t(){ln(this,t)}return dn(t,[{key:"apply",value:function(t){if("function"!=typeof t)throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.call(this,e,n);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.push(this.get(e,n));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var n=0;n<this.columns;n++)t[e].push(this.get(e,n))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return 1===this.rows}},{key:"isColumnVector",value:function(){return 1===this.columns}},{key:"isVector",value:function(){return 1===this.rows||1===this.columns}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return 0===this.rows||0===this.columns}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,n=-1,r=!0,o=!1;t<this.rows&&r;){for(e=0,o=!1;e<this.columns&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(o=!0,n=e):(r=!1,o=!0);t++}return r}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,n=-1,r=!0,o=!1;t<this.rows&&r;){for(e=0,o=!1;e<this.columns&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>n?(o=!0,n=e):(r=!1,o=!0);for(var i=e+1;i<this.rows;i++)0!==this.get(t,i)&&(r=!1);t++}return r}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,n=0;e<t.rows&&n<t.columns;){for(var r=e,o=e;o<t.rows;o++)t.get(o,n)>t.get(r,n)&&(r=o);if(0===t.get(r,n))n++;else{t.swapRows(e,r);for(var i=t.get(e,n),a=n;a<t.columns;a++)t.set(e,a,t.get(e,a)/i);for(var u=e+1;u<t.rows;u++){var s=t.get(u,n)/t.get(e,n);t.set(u,n,0);for(var c=n+1;c<t.columns;c++)t.set(u,c,t.get(u,c)-t.get(e,c)*s)}e++,n++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,n=t.rows,r=n-1;r>=0;)if(0===t.maxRow(r))r--;else{for(var o=0,i=!1;o<n&&!1===i;)1===t.get(r,o)?i=!0:o++;for(var a=0;a<r;a++)for(var u=t.get(a,o),s=o;s<e;s++){var c=t.get(a,s)-u*t.get(r,s);t.set(a,s,c)}r--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==fn(t))throw new TypeError("options must be an object");var e=t.rows,n=void 0===e?1:e,r=t.columns,o=void 0===r?1:r;if(!Number.isInteger(n)||n<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");for(var i=new gn(this.rows*n,this.columns*o),a=0;a<n;a++)for(var u=0;u<o;u++)i.setSubMatrix(this,this.rows*a,this.columns*u);return i}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){je(this,t);for(var e=[],n=0;n<this.columns;n++)e.push(this.get(t,n));return e}},{key:"getRowVector",value:function(t){return gn.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){je(this,t),e=Ue(this,e);for(var n=0;n<this.columns;n++)this.set(t,n,e[n]);return this}},{key:"swapRows",value:function(t,e){je(this,t),je(this,e);for(var n=0;n<this.columns;n++){var r=this.get(t,n);this.set(t,n,this.get(e,n)),this.set(e,n,r)}return this}},{key:"getColumn",value:function(t){Le(this,t);for(var e=[],n=0;n<this.rows;n++)e.push(this.get(n,t));return e}},{key:"getColumnVector",value:function(t){return gn.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){Le(this,t),e=Be(this,e);for(var n=0;n<this.rows;n++)this.set(n,t,e[n]);return this}},{key:"swapColumns",value:function(t,e){Le(this,t),Le(this,e);for(var n=0;n<this.rows;n++){var r=this.get(n,t);this.set(n,t,this.get(n,e)),this.set(n,e,r)}return this}},{key:"addRowVector",value:function(t){t=Ue(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[n]);return this}},{key:"subRowVector",value:function(t){t=Ue(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[n]);return this}},{key:"mulRowVector",value:function(t){t=Ue(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[n]);return this}},{key:"divRowVector",value:function(t){t=Ue(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[n]);return this}},{key:"addColumnVector",value:function(t){t=Be(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=Be(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=Be(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=Be(this,t);for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t[e]);return this}},{key:"mulRow",value:function(t,e){je(this,t);for(var n=0;n<this.columns;n++)this.set(t,n,this.get(t,n)*e);return this}},{key:"mulColumn",value:function(t,e){Le(this,t);for(var n=0;n<this.rows;n++)this.set(n,t,this.get(n,t)*e);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n));return t}},{key:"maxIndex",value:function(){He(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)>t&&(t=this.get(n,r),e[0]=n,e[1]=r);return e}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n));return t}},{key:"minIndex",value:function(){He(this);for(var t=this.get(0,0),e=[0,0],n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)this.get(n,r)<t&&(t=this.get(n,r),e[0]=n,e[1]=r);return e}},{key:"maxRow",value:function(t){if(je(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)>e&&(e=this.get(t,n));return e}},{key:"maxRowIndex",value:function(t){je(this,t),He(this);for(var e=this.get(t,0),n=[t,0],r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r),n[1]=r);return n}},{key:"minRow",value:function(t){if(je(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),n=1;n<this.columns;n++)this.get(t,n)<e&&(e=this.get(t,n));return e}},{key:"minRowIndex",value:function(t){je(this,t),He(this);for(var e=this.get(t,0),n=[t,0],r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r),n[1]=r);return n}},{key:"maxColumn",value:function(t){if(Le(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)>e&&(e=this.get(n,t));return e}},{key:"maxColumnIndex",value:function(t){Le(this,t),He(this);for(var e=this.get(0,t),n=[0,t],r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t),n[0]=r);return n}},{key:"minColumn",value:function(t){if(Le(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),n=1;n<this.rows;n++)this.get(n,t)<e&&(e=this.get(n,t));return e}},{key:"minColumnIndex",value:function(t){Le(this,t),He(this);for(var e=this.get(0,t),n=[0,t],r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t),n[0]=r);return n}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],n=0;n<t;n++)e.push(this.get(n,n));return e}},{key:"norm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frobenius",e=0;if("max"===t)return this.max();if("frobenius"===t){for(var n=0;n<this.rows;n++)for(var r=0;r<this.columns;r++)e+=this.get(n,r)*this.get(n,r);return Math.sqrt(e)}throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t+=this.get(e,n),this.set(e,n,t);return this}},{key:"dot",value:function(e){t.isMatrix(e)&&(e=e.to1DArray());var n=this.to1DArray();if(n.length!==e.length)throw new RangeError("vectors do not have the same size");for(var r=0,o=0;o<n.length;o++)r+=n[o]*e[o];return r}},{key:"mmul",value:function(t){t=gn.checkMatrix(t);for(var e=this.rows,n=this.columns,r=t.columns,o=new gn(e,r),i=new Float64Array(n),a=0;a<r;a++){for(var u=0;u<n;u++)i[u]=t.get(u,a);for(var s=0;s<e;s++){for(var c=0,f=0;f<n;f++)c+=this.get(s,f)*i[f];o.set(s,a,c)}}return o}},{key:"strassen2x2",value:function(t){t=gn.checkMatrix(t);var e=new gn(2,2),n=this.get(0,0),r=t.get(0,0),o=this.get(0,1),i=t.get(0,1),a=this.get(1,0),u=t.get(1,0),s=this.get(1,1),c=t.get(1,1),f=(n+s)*(r+c),l=(a+s)*r,h=n*(i-c),d=s*(u-r),p=(n+o)*c,v=f+d-p+(o-s)*(u+c),m=h+p,y=l+d,g=f-l+h+(a-n)*(r+i);return e.set(0,0,v),e.set(0,1,m),e.set(1,0,y),e.set(1,1,g),e}},{key:"strassen3x3",value:function(t){t=gn.checkMatrix(t);var e=new gn(3,3),n=this.get(0,0),r=this.get(0,1),o=this.get(0,2),i=this.get(1,0),a=this.get(1,1),u=this.get(1,2),s=this.get(2,0),c=this.get(2,1),f=this.get(2,2),l=t.get(0,0),h=t.get(0,1),d=t.get(0,2),p=t.get(1,0),v=t.get(1,1),m=t.get(1,2),y=t.get(2,0),g=t.get(2,1),b=t.get(2,2),_=(n-i)*(-h+v),x=(-n+i+a)*(l-h+v),w=(i+a)*(-l+h),E=n*l,S=(-n+s+c)*(l-d+m),T=(-n+s)*(d-m),A=(s+c)*(-l+d),I=(-o+c+f)*(v+y-g),k=(o-f)*(v-g),O=o*y,D=(c+f)*(-y+g),R=(-o+a+u)*(m+y-b),M=(o-u)*(m-b),C=(a+u)*(-y+b),N=E+O+r*p,P=(n+r+o-i-a-c-f)*v+x+w+E+I+O+D,G=E+S+A+(n+r+o-a-u-s-c)*m+O+R+C,j=_+a*(-l+h+p-v-m-y+b)+x+E+O+R+M,L=_+x+w+E+u*g,U=O+R+M+C+i*d,B=E+S+T+c*(-l+d+p-v-m-y+g)+I+k+O,F=I+k+O+D+s*h,z=E+S+T+A+f*b;return e.set(0,0,N),e.set(0,1,P),e.set(0,2,G),e.set(1,0,j),e.set(1,1,L),e.set(1,2,U),e.set(2,0,B),e.set(2,1,F),e.set(2,2,z),e}},{key:"mmulStrassen",value:function(e){e=gn.checkMatrix(e);var n=this.clone(),r=n.rows,o=n.columns,i=e.rows,a=e.columns;function u(e,n,r){var o=e.rows,i=e.columns;if(o===n&&i===r)return e;var a=t.zeros(n,r);return a=a.setSubMatrix(e,0,0)}o!==i&&console.warn("Multiplying ".concat(r," x ").concat(o," and ").concat(i," x ").concat(a," matrix: dimensions do not match."));var s=Math.max(r,i),c=Math.max(o,a);return function e(n,r,o,i){if(o<=512||i<=512)return n.mmul(r);o%2==1&&i%2==1?(n=u(n,o+1,i+1),r=u(r,o+1,i+1)):o%2==1?(n=u(n,o+1,i),r=u(r,o+1,i)):i%2==1&&(n=u(n,o,i+1),r=u(r,o,i+1));var a=parseInt(n.rows/2,10),s=parseInt(n.columns/2,10),c=n.subMatrix(0,a-1,0,s-1),f=r.subMatrix(0,a-1,0,s-1),l=n.subMatrix(0,a-1,s,n.columns-1),h=r.subMatrix(0,a-1,s,r.columns-1),d=n.subMatrix(a,n.rows-1,0,s-1),p=r.subMatrix(a,r.rows-1,0,s-1),v=n.subMatrix(a,n.rows-1,s,n.columns-1),m=r.subMatrix(a,r.rows-1,s,r.columns-1),y=e(t.add(c,v),t.add(f,m),a,s),g=e(t.add(d,v),f,a,s),b=e(c,t.sub(h,m),a,s),_=e(v,t.sub(p,f),a,s),x=e(t.add(c,l),m,a,s),w=e(t.sub(d,c),t.add(f,h),a,s),E=e(t.sub(l,v),t.add(p,m),a,s),S=t.add(y,_);S.sub(x),S.add(E);var T=t.add(b,x),A=t.add(g,_),I=t.sub(y,g);I.add(b),I.add(w);var k=t.zeros(2*S.rows,2*S.columns);return(k=(k=(k=(k=k.setSubMatrix(S,0,0)).setSubMatrix(T,S.rows,0)).setSubMatrix(A,0,S.columns)).setSubMatrix(I,S.rows,S.columns)).subMatrix(0,o-1,0,i-1)}(n=u(n,s,c),e=u(e,s,c),s,c)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==fn(t))throw new TypeError("options must be an object");var e=t.min,n=void 0===e?0:e,r=t.max,o=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var i=new gn(this.rows,this.columns),a=0;a<this.rows;a++){var u=this.getRow(a);u.length>0&&De(u,{min:n,max:o,output:u}),i.setRow(a,u)}return i}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!==fn(t))throw new TypeError("options must be an object");var e=t.min,n=void 0===e?0:e,r=t.max,o=void 0===r?1:r;if(!Number.isFinite(n))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(n>=o)throw new RangeError("min must be smaller than max");for(var i=new gn(this.rows,this.columns),a=0;a<this.columns;a++){var u=this.getColumn(a);u.length&&De(u,{min:n,max:o,output:u}),i.setColumn(a,u)}return i}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var n=0;n<t;n++){var r=this.get(e,n),o=this.get(e,this.columns-1-n);this.set(e,n,o),this.set(e,this.columns-1-n,r)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var n=0;n<t;n++){var r=this.get(n,e),o=this.get(this.rows-1-n,e);this.set(n,e,o),this.set(this.rows-1-n,e,r)}return this}},{key:"kroneckerProduct",value:function(t){t=gn.checkMatrix(t);for(var e=this.rows,n=this.columns,r=t.rows,o=t.columns,i=new gn(e*r,n*o),a=0;a<e;a++)for(var u=0;u<n;u++)for(var s=0;s<r;s++)for(var c=0;c<o;c++)i.set(r*a+s,o*u+c,this.get(a,u)*t.get(s,c));return i}},{key:"transpose",value:function(){for(var t=new gn(this.columns,this.rows),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(n,e,this.get(e,n));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,n,r){Ve(this,t,e,n,r);for(var o=new gn(e-t+1,r-n+1),i=t;i<=e;i++)for(var a=n;a<=r;a++)o.set(i-t,a-n,this.get(i,a));return o}},{key:"subMatrixRow",value:function(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.columns-1),e>n||e<0||e>=this.columns||n<0||n>=this.columns)throw new RangeError("Argument out of range");for(var r=new gn(t.length,n-e+1),o=0;o<t.length;o++)for(var i=e;i<=n;i++){if(t[o]<0||t[o]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[o]));r.set(o,i-e,this.get(t[o],i))}return r}},{key:"subMatrixColumn",value:function(t,e,n){if(void 0===e&&(e=0),void 0===n&&(n=this.rows-1),e>n||e<0||e>=this.rows||n<0||n>=this.rows)throw new RangeError("Argument out of range");for(var r=new gn(n-e+1,t.length),o=0;o<t.length;o++)for(var i=e;i<=n;i++){if(t[o]<0||t[o]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[o]));r.set(i-e,o,this.get(i,t[o]))}return r}},{key:"setSubMatrix",value:function(t,e,n){if((t=gn.checkMatrix(t)).isEmpty())return this;Ve(this,e,e+t.rows-1,n,n+t.columns-1);for(var r=0;r<t.rows;r++)for(var o=0;o<t.columns;o++)this.set(e+r,n+o,t.get(r,o));return this}},{key:"selection",value:function(t,e){for(var n=function(t,e,n){return{row:Fe(t,e),column:ze(t,n)}}(this,t,e),r=new gn(t.length,e.length),o=0;o<n.row.length;o++)for(var i=n.row[o],a=0;a<n.column.length;a++){var u=n.column[a];r.set(o,a,this.get(i,u))}return r}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,n=0;n<t;n++)e+=this.get(n,n);return e}},{key:"clone",value:function(){for(var t=new gn(this.rows,this.columns),e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)t.set(e,n,this.get(e,n));return t}},{key:"sum",value:function(t){switch(t){case"row":return function(t){for(var e=We(t.rows),n=0;n<t.rows;++n)for(var r=0;r<t.columns;++r)e[n]+=t.get(n,r);return e}(this);case"column":return function(t){for(var e=We(t.columns),n=0;n<t.rows;++n)for(var r=0;r<t.columns;++r)e[r]+=t.get(n,r);return e}(this);case void 0:return function(t){for(var e=0,n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)e+=t.get(n,r);return e}(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return function(t){for(var e=We(t.rows,1),n=0;n<t.rows;++n)for(var r=0;r<t.columns;++r)e[n]*=t.get(n,r);return e}(this);case"column":return function(t){for(var e=We(t.columns,1),n=0;n<t.rows;++n)for(var r=0;r<t.columns;++r)e[r]*=t.get(n,r);return e}(this);case void 0:return function(t){for(var e=1,n=0;n<t.rows;n++)for(var r=0;r<t.columns;r++)e*=t.get(n,r);return e}(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":for(var n=0;n<this.rows;n++)e[n]/=this.columns;return e;case"column":for(var r=0;r<this.columns;r++)e[r]/=this.rows;return e;case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===fn(t)&&(e=t,t=void 0),"object"!==fn(e))throw new TypeError("options must be an object");var n=e,r=n.unbiased,o=void 0===r||r,i=n.mean,a=void 0===i?this.mean(t):i;if("boolean"!=typeof o)throw new TypeError("unbiased must be a boolean");switch(t){case"row":if(!Array.isArray(a))throw new TypeError("mean must be an array");return qe(this,o,a);case"column":if(!Array.isArray(a))throw new TypeError("mean must be an array");return Ye(this,o,a);case void 0:if("number"!=typeof a)throw new TypeError("mean must be a number");return Ke(this,o,a);default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){"object"===fn(t)&&(e=t,t=void 0);var n=this.variance(t,e);if(void 0===t)return Math.sqrt(n);for(var r=0;r<n.length;r++)n[r]=Math.sqrt(n[r]);return n}},{key:"center",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===fn(t)&&(e=t,t=void 0),"object"!==fn(e))throw new TypeError("options must be an object");var n=e,r=n.center,o=void 0===r?this.mean(t):r;switch(t){case"row":if(!Array.isArray(o))throw new TypeError("center must be an array");return Ze(this,o),this;case"column":if(!Array.isArray(o))throw new TypeError("center must be an array");return Qe(this,o),this;case void 0:if("number"!=typeof o)throw new TypeError("center must be a number");return Je(this,o),this;default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"===fn(t)&&(e=t,t=void 0),"object"!==fn(e))throw new TypeError("options must be an object");var n=e.scale;switch(t){case"row":if(void 0===n)n=$e(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return tn(this,n),this;case"column":if(void 0===n)n=en(this);else if(!Array.isArray(n))throw new TypeError("scale must be an array");return nn(this,n),this;case void 0:if(void 0===n)n=rn(this);else if("number"!=typeof n)throw new TypeError("scale must be a number");return on(this,n),this;default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return Ce(this,t)}},{key:"size",get:function(){return this.rows*this.columns}}],[{key:"from1DArray",value:function(t,e,n){if(t*e!==n.length)throw new RangeError("data length does not match given dimensions");for(var r=new gn(t,e),o=0;o<t;o++)for(var i=0;i<e;i++)r.set(o,i,n[o*e+i]);return r}},{key:"rowVector",value:function(t){for(var e=new gn(1,t.length),n=0;n<t.length;n++)e.set(0,n,t[n]);return e}},{key:"columnVector",value:function(t){for(var e=new gn(t.length,1),n=0;n<t.length;n++)e.set(n,0,t[n]);return e}},{key:"zeros",value:function(t,e){return new gn(t,e)}},{key:"ones",value:function(t,e){return new gn(t,e).fill(1)}},{key:"rand",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==fn(n))throw new TypeError("options must be an object");for(var r=n.random,o=void 0===r?Math.random:r,i=new gn(t,e),a=0;a<t;a++)for(var u=0;u<e;u++)i.set(a,u,o());return i}},{key:"randInt",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!==fn(n))throw new TypeError("options must be an object");var r=n.min,o=void 0===r?0:r,i=n.max,a=void 0===i?1e3:i,u=n.random,s=void 0===u?Math.random:u;if(!Number.isInteger(o))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(o>=a)throw new RangeError("min must be smaller than max");for(var c=a-o,f=new gn(t,e),l=0;l<t;l++)for(var h=0;h<e;h++){var d=o+Math.round(s()*c);f.set(l,h,d)}return f}},{key:"eye",value:function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=1);for(var r=Math.min(t,e),o=this.zeros(t,e),i=0;i<r;i++)o.set(i,i,n);return o}},{key:"diag",value:function(t,e,n){var r=t.length;void 0===e&&(e=r),void 0===n&&(n=e);for(var o=Math.min(r,e,n),i=this.zeros(e,n),a=0;a<o;a++)i.set(a,a,t[a]);return i}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,r=t.columns,o=new gn(n,r),i=0;i<n;i++)for(var a=0;a<r;a++)o.set(i,a,Math.min(t.get(i,a),e.get(i,a)));return o}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var n=t.rows,r=t.columns,o=new this(n,r),i=0;i<n;i++)for(var a=0;a<r;a++)o.set(i,a,Math.max(t.get(i,a),e.get(i,a)));return o}},{key:"checkMatrix",value:function(e){return t.isMatrix(e)?e:new gn(e)}},{key:"isMatrix",value:function(t){return null!=t&&"Matrix"===t.klass}}]),t}();function vn(t,e){return t-e}pn.prototype.klass="Matrix","undefined"!=typeof Symbol&&(pn.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return Ce(this)}),pn.random=pn.rand,pn.randomInt=pn.randInt,pn.diagonal=pn.diag,pn.prototype.diagonal=pn.prototype.diag,pn.identity=pn.eye,pn.prototype.negate=pn.prototype.neg,pn.prototype.tensorProduct=pn.prototype.kroneckerProduct;var mn,yn,gn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&an(t,e)}(n,t);var e=un(n);function n(t,r){var o;if(ln(this,n),o=e.call(this),n.isMatrix(t))return sn(o,t.clone());if(Number.isInteger(t)&&t>=0){if(o.data=[],!(Number.isInteger(r)&&r>=0))throw new TypeError("nColumns must be a positive integer");for(var i=0;i<t;i++)o.data.push(new Float64Array(r))}else{if(!Array.isArray(t))throw new TypeError("First argument must be a positive number or an array");var a=t;if("number"!=typeof(r=(t=a.length)?a[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");o.data=[];for(var u=0;u<t;u++){if(a[u].length!==r)throw new RangeError("Inconsistent array dimensions");o.data.push(Float64Array.from(a[u]))}}return o.rows=t,o.columns=r,o}return dn(n,[{key:"set",value:function(t,e,n){return this.data[t][e]=n,this}},{key:"get",value:function(t,e){return this.data[t][e]}},{key:"removeRow",value:function(t){return je(this,t),this.data.splice(t,1),this.rows-=1,this}},{key:"addRow",value:function(t,e){return void 0===e&&(e=t,t=this.rows),je(this,t,!0),e=Float64Array.from(Ue(this,e)),this.data.splice(t,0,e),this.rows+=1,this}},{key:"removeColumn",value:function(t){Le(this,t);for(var e=0;e<this.rows;e++){for(var n=new Float64Array(this.columns-1),r=0;r<t;r++)n[r]=this.data[e][r];for(var o=t+1;o<this.columns;o++)n[o-1]=this.data[e][o];this.data[e]=n}return this.columns-=1,this}},{key:"addColumn",value:function(t,e){void 0===e&&(e=t,t=this.columns),Le(this,t,!0),e=Be(this,e);for(var n=0;n<this.rows;n++){for(var r=new Float64Array(this.columns+1),o=0;o<t;o++)r[o]=this.data[n][o];for(r[o++]=e[n];o<this.columns+1;o++)r[o]=this.data[n][o-1];this.data[n]=r}return this.columns+=1,this}}]),n}(pn);function bn(t){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xn(t,e){return(xn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Sn(t);if(e){var o=Sn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return En(this,n)}}function En(t,e){return!e||"object"!==bn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sn(t){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}yn=gn,(mn=pn).prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},mn.prototype.addS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t);return this},mn.prototype.addM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)+t.get(e,n));return this},mn.add=function(t,e){return new yn(t).add(e)},mn.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},mn.prototype.subS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t);return this},mn.prototype.subM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)-t.get(e,n));return this},mn.sub=function(t,e){return new yn(t).sub(e)},mn.prototype.subtract=mn.prototype.sub,mn.prototype.subtractS=mn.prototype.subS,mn.prototype.subtractM=mn.prototype.subM,mn.subtract=mn.sub,mn.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},mn.prototype.mulS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t);return this},mn.prototype.mulM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)*t.get(e,n));return this},mn.mul=function(t,e){return new yn(t).mul(e)},mn.prototype.multiply=mn.prototype.mul,mn.prototype.multiplyS=mn.prototype.mulS,mn.prototype.multiplyM=mn.prototype.mulM,mn.multiply=mn.mul,mn.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},mn.prototype.divS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t);return this},mn.prototype.divM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)/t.get(e,n));return this},mn.div=function(t,e){return new yn(t).div(e)},mn.prototype.divide=mn.prototype.div,mn.prototype.divideS=mn.prototype.divS,mn.prototype.divideM=mn.prototype.divM,mn.divide=mn.div,mn.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},mn.prototype.modS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t);return this},mn.prototype.modM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)%t.get(e,n));return this},mn.mod=function(t,e){return new yn(t).mod(e)},mn.prototype.modulus=mn.prototype.mod,mn.prototype.modulusS=mn.prototype.modS,mn.prototype.modulusM=mn.prototype.modM,mn.modulus=mn.mod,mn.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},mn.prototype.andS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t);return this},mn.prototype.andM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)&t.get(e,n));return this},mn.and=function(t,e){return new yn(t).and(e)},mn.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},mn.prototype.orS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t);return this},mn.prototype.orM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)|t.get(e,n));return this},mn.or=function(t,e){return new yn(t).or(e)},mn.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},mn.prototype.xorS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t);return this},mn.prototype.xorM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)^t.get(e,n));return this},mn.xor=function(t,e){return new yn(t).xor(e)},mn.prototype.leftShift=function(t){return"number"==typeof t?this.leftShiftS(t):this.leftShiftM(t)},mn.prototype.leftShiftS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t);return this},mn.prototype.leftShiftM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)<<t.get(e,n));return this},mn.leftShift=function(t,e){return new yn(t).leftShift(e)},mn.prototype.signPropagatingRightShift=function(t){return"number"==typeof t?this.signPropagatingRightShiftS(t):this.signPropagatingRightShiftM(t)},mn.prototype.signPropagatingRightShiftS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t);return this},mn.prototype.signPropagatingRightShiftM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>t.get(e,n));return this},mn.signPropagatingRightShift=function(t,e){return new yn(t).signPropagatingRightShift(e)},mn.prototype.rightShift=function(t){return"number"==typeof t?this.rightShiftS(t):this.rightShiftM(t)},mn.prototype.rightShiftS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t);return this},mn.prototype.rightShiftM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,this.get(e,n)>>>t.get(e,n));return this},mn.rightShift=function(t,e){return new yn(t).rightShift(e)},mn.prototype.zeroFillRightShift=mn.prototype.rightShift,mn.prototype.zeroFillRightShiftS=mn.prototype.rightShiftS,mn.prototype.zeroFillRightShiftM=mn.prototype.rightShiftM,mn.zeroFillRightShift=mn.rightShift,mn.prototype.not=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,~this.get(t,e));return this},mn.not=function(t){return new yn(t).not()},mn.prototype.abs=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},mn.abs=function(t){return new yn(t).abs()},mn.prototype.acos=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},mn.acos=function(t){return new yn(t).acos()},mn.prototype.acosh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.acosh(this.get(t,e)));return this},mn.acosh=function(t){return new yn(t).acosh()},mn.prototype.asin=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},mn.asin=function(t){return new yn(t).asin()},mn.prototype.asinh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.asinh(this.get(t,e)));return this},mn.asinh=function(t){return new yn(t).asinh()},mn.prototype.atan=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},mn.atan=function(t){return new yn(t).atan()},mn.prototype.atanh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},mn.atanh=function(t){return new yn(t).atanh()},mn.prototype.cbrt=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},mn.cbrt=function(t){return new yn(t).cbrt()},mn.prototype.ceil=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},mn.ceil=function(t){return new yn(t).ceil()},mn.prototype.clz32=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},mn.clz32=function(t){return new yn(t).clz32()},mn.prototype.cos=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},mn.cos=function(t){return new yn(t).cos()},mn.prototype.cosh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},mn.cosh=function(t){return new yn(t).cosh()},mn.prototype.exp=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},mn.exp=function(t){return new yn(t).exp()},mn.prototype.expm1=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},mn.expm1=function(t){return new yn(t).expm1()},mn.prototype.floor=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},mn.floor=function(t){return new yn(t).floor()},mn.prototype.fround=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},mn.fround=function(t){return new yn(t).fround()},mn.prototype.log=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log(this.get(t,e)));return this},mn.log=function(t){return new yn(t).log()},mn.prototype.log1p=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},mn.log1p=function(t){return new yn(t).log1p()},mn.prototype.log10=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},mn.log10=function(t){return new yn(t).log10()},mn.prototype.log2=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},mn.log2=function(t){return new yn(t).log2()},mn.prototype.round=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.round(this.get(t,e)));return this},mn.round=function(t){return new yn(t).round()},mn.prototype.sign=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},mn.sign=function(t){return new yn(t).sign()},mn.prototype.sin=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},mn.sin=function(t){return new yn(t).sin()},mn.prototype.sinh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},mn.sinh=function(t){return new yn(t).sinh()},mn.prototype.sqrt=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},mn.sqrt=function(t){return new yn(t).sqrt()},mn.prototype.tan=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},mn.tan=function(t){return new yn(t).tan()},mn.prototype.tanh=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},mn.tanh=function(t){return new yn(t).tanh()},mn.prototype.trunc=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.columns;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},mn.trunc=function(t){return new yn(t).trunc()},mn.pow=function(t,e){return new yn(t).pow(e)},mn.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},mn.prototype.powS=function(t){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t));return this},mn.prototype.powM=function(t){if(t=yn.checkMatrix(t),this.rows!==t.rows||this.columns!==t.columns)throw new RangeError("Matrices dimensions must be equal");for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.set(e,n,Math.pow(this.get(e,n),t.get(e,n)));return this};var Tn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xn(t,e)}(i,t);var e,n,r,o=wn(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).data=t,e.rows=t.length,e.columns=t[0].length,e}return e=i,(n=[{key:"set",value:function(t,e,n){return this.data[t][e]=n,this}},{key:"get",value:function(t,e){return this.data[t][e]}}])&&_n(e.prototype,n),r&&_n(e,r),i}(pn);function An(t,e){var n=0;return Math.abs(t)>Math.abs(e)?(n=e/t,Math.abs(t)*Math.sqrt(1+n*n)):0!==e?(n=t/e,Math.abs(e)*Math.sqrt(1+n*n)):0}function In(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var On=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(In(this,t),(e=Tn.checkMatrix(e)).isEmpty())throw new Error("Matrix must be non-empty");var r,o=e.rows,i=e.columns,a=n.computeLeftSingularVectors,u=void 0===a||a,s=n.computeRightSingularVectors,c=void 0===s||s,f=n.autoTranspose,l=void 0!==f&&f,h=Boolean(u),d=Boolean(c),p=!1;if(o<i)if(l){o=(r=e.transpose()).rows,i=r.columns,p=!0;var v=h;h=d,d=v}else r=e.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else r=e.clone();for(var m=Math.min(o,i),y=Math.min(o+1,i),g=new Float64Array(y),b=new gn(o,m),_=new gn(i,i),x=new Float64Array(i),w=new Float64Array(o),E=new Float64Array(y),S=0;S<y;S++)E[S]=S;for(var T=Math.min(o-1,i),A=Math.max(0,Math.min(i-2,o)),I=Math.max(T,A),k=0;k<I;k++){if(k<T){g[k]=0;for(var O=k;O<o;O++)g[k]=An(g[k],r.get(O,k));if(0!==g[k]){r.get(k,k)<0&&(g[k]=-g[k]);for(var D=k;D<o;D++)r.set(D,k,r.get(D,k)/g[k]);r.set(k,k,r.get(k,k)+1)}g[k]=-g[k]}for(var R=k+1;R<i;R++){if(k<T&&0!==g[k]){for(var M=0,C=k;C<o;C++)M+=r.get(C,k)*r.get(C,R);M=-M/r.get(k,k);for(var N=k;N<o;N++)r.set(N,R,r.get(N,R)+M*r.get(N,k))}x[R]=r.get(k,R)}if(h&&k<T)for(var P=k;P<o;P++)b.set(P,k,r.get(P,k));if(k<A){x[k]=0;for(var G=k+1;G<i;G++)x[k]=An(x[k],x[G]);if(0!==x[k]){x[k+1]<0&&(x[k]=0-x[k]);for(var j=k+1;j<i;j++)x[j]/=x[k];x[k+1]+=1}if(x[k]=-x[k],k+1<o&&0!==x[k]){for(var L=k+1;L<o;L++)w[L]=0;for(var U=k+1;U<o;U++)for(var B=k+1;B<i;B++)w[U]+=x[B]*r.get(U,B);for(var F=k+1;F<i;F++)for(var z=-x[F]/x[k+1],V=k+1;V<o;V++)r.set(V,F,r.get(V,F)+z*w[V])}if(d)for(var W=k+1;W<i;W++)_.set(W,k,x[W])}}var X=Math.min(i,o+1);if(T<i&&(g[T]=r.get(T,T)),o<X&&(g[X-1]=0),A+1<X&&(x[A]=r.get(A,X-1)),x[X-1]=0,h){for(var H=T;H<m;H++){for(var q=0;q<o;q++)b.set(q,H,0);b.set(H,H,1)}for(var Y=T-1;Y>=0;Y--)if(0!==g[Y]){for(var K=Y+1;K<m;K++){for(var Z=0,Q=Y;Q<o;Q++)Z+=b.get(Q,Y)*b.get(Q,K);Z=-Z/b.get(Y,Y);for(var J=Y;J<o;J++)b.set(J,K,b.get(J,K)+Z*b.get(J,Y))}for(var $=Y;$<o;$++)b.set($,Y,-b.get($,Y));b.set(Y,Y,1+b.get(Y,Y));for(var tt=0;tt<Y-1;tt++)b.set(tt,Y,0)}else{for(var et=0;et<o;et++)b.set(et,Y,0);b.set(Y,Y,1)}}if(d)for(var nt=i-1;nt>=0;nt--){if(nt<A&&0!==x[nt])for(var rt=nt+1;rt<i;rt++){for(var ot=0,it=nt+1;it<i;it++)ot+=_.get(it,nt)*_.get(it,rt);ot=-ot/_.get(nt+1,nt);for(var at=nt+1;at<i;at++)_.set(at,rt,_.get(at,rt)+ot*_.get(at,nt))}for(var ut=0;ut<i;ut++)_.set(ut,nt,0);_.set(nt,nt,1)}for(var st=X-1,ct=Number.EPSILON;X>0;){var ft=void 0,lt=void 0;for(ft=X-2;ft>=-1&&-1!==ft;ft--){var ht=Number.MIN_VALUE+ct*Math.abs(g[ft]+Math.abs(g[ft+1]));if(Math.abs(x[ft])<=ht||Number.isNaN(x[ft])){x[ft]=0;break}}if(ft===X-2)lt=4;else{var dt=void 0;for(dt=X-1;dt>=ft&&dt!==ft;dt--){var pt=(dt!==X?Math.abs(x[dt]):0)+(dt!==ft+1?Math.abs(x[dt-1]):0);if(Math.abs(g[dt])<=ct*pt){g[dt]=0;break}}dt===ft?lt=3:dt===X-1?lt=1:(lt=2,ft=dt)}switch(ft++,lt){case 1:var vt=x[X-2];x[X-2]=0;for(var mt=X-2;mt>=ft;mt--){var yt=An(g[mt],vt),gt=g[mt]/yt,bt=vt/yt;if(g[mt]=yt,mt!==ft&&(vt=-bt*x[mt-1],x[mt-1]=gt*x[mt-1]),d)for(var _t=0;_t<i;_t++)yt=gt*_.get(_t,mt)+bt*_.get(_t,X-1),_.set(_t,X-1,-bt*_.get(_t,mt)+gt*_.get(_t,X-1)),_.set(_t,mt,yt)}break;case 2:var xt=x[ft-1];x[ft-1]=0;for(var wt=ft;wt<X;wt++){var Et=An(g[wt],xt),St=g[wt]/Et,Tt=xt/Et;if(g[wt]=Et,xt=-Tt*x[wt],x[wt]=St*x[wt],h)for(var At=0;At<o;At++)Et=St*b.get(At,wt)+Tt*b.get(At,ft-1),b.set(At,ft-1,-Tt*b.get(At,wt)+St*b.get(At,ft-1)),b.set(At,wt,Et)}break;case 3:var It=Math.max(Math.abs(g[X-1]),Math.abs(g[X-2]),Math.abs(x[X-2]),Math.abs(g[ft]),Math.abs(x[ft])),kt=g[X-1]/It,Ot=g[X-2]/It,Dt=x[X-2]/It,Rt=g[ft]/It,Mt=x[ft]/It,Ct=((Ot+kt)*(Ot-kt)+Dt*Dt)/2,Nt=kt*Dt*(kt*Dt),Pt=0;0===Ct&&0===Nt||(Pt=Nt/(Ct+(Pt=Ct<0?0-Math.sqrt(Ct*Ct+Nt):Math.sqrt(Ct*Ct+Nt))));for(var Gt=(Rt+kt)*(Rt-kt)+Pt,jt=Rt*Mt,Lt=ft;Lt<X-1;Lt++){var Ut=An(Gt,jt);0===Ut&&(Ut=Number.MIN_VALUE);var Bt=Gt/Ut,Ft=jt/Ut;if(Lt!==ft&&(x[Lt-1]=Ut),Gt=Bt*g[Lt]+Ft*x[Lt],x[Lt]=Bt*x[Lt]-Ft*g[Lt],jt=Ft*g[Lt+1],g[Lt+1]=Bt*g[Lt+1],d)for(var zt=0;zt<i;zt++)Ut=Bt*_.get(zt,Lt)+Ft*_.get(zt,Lt+1),_.set(zt,Lt+1,-Ft*_.get(zt,Lt)+Bt*_.get(zt,Lt+1)),_.set(zt,Lt,Ut);if(0===(Ut=An(Gt,jt))&&(Ut=Number.MIN_VALUE),Bt=Gt/Ut,Ft=jt/Ut,g[Lt]=Ut,Gt=Bt*x[Lt]+Ft*g[Lt+1],g[Lt+1]=-Ft*x[Lt]+Bt*g[Lt+1],jt=Ft*x[Lt+1],x[Lt+1]=Bt*x[Lt+1],h&&Lt<o-1)for(var Vt=0;Vt<o;Vt++)Ut=Bt*b.get(Vt,Lt)+Ft*b.get(Vt,Lt+1),b.set(Vt,Lt+1,-Ft*b.get(Vt,Lt)+Bt*b.get(Vt,Lt+1)),b.set(Vt,Lt,Ut)}x[X-2]=Gt,1;break;case 4:if(g[ft]<=0&&(g[ft]=g[ft]<0?-g[ft]:0,d))for(var Wt=0;Wt<=st;Wt++)_.set(Wt,ft,-_.get(Wt,ft));for(;ft<st&&!(g[ft]>=g[ft+1]);){var Xt=g[ft];if(g[ft]=g[ft+1],g[ft+1]=Xt,d&&ft<i-1)for(var Ht=0;Ht<i;Ht++)Xt=_.get(Ht,ft+1),_.set(Ht,ft+1,_.get(Ht,ft)),_.set(Ht,ft,Xt);if(h&&ft<o-1)for(var qt=0;qt<o;qt++)Xt=b.get(qt,ft+1),b.set(qt,ft+1,b.get(qt,ft)),b.set(qt,ft,Xt);ft++}0,X--}}if(p){var Yt=_;_=b,b=Yt}this.m=o,this.n=i,this.s=g,this.U=b,this.V=_}var e,n,r;return e=t,(n=[{key:"solve",value:function(t){for(var e=t,n=this.threshold,r=this.s.length,o=gn.zeros(r,r),i=0;i<r;i++)Math.abs(this.s[i])<=n?o.set(i,i,0):o.set(i,i,1/this.s[i]);for(var a=this.U,u=this.rightSingularVectors,s=u.mmul(o),c=u.rows,f=a.rows,l=gn.zeros(c,f),h=0;h<c;h++)for(var d=0;d<f;d++){for(var p=0,v=0;v<r;v++)p+=s.get(h,v)*a.get(d,v);l.set(h,d,p)}return l.mmul(e)}},{key:"solveForDiagonal",value:function(t){return this.solve(gn.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,e=this.threshold,n=t.rows,r=t.columns,o=new gn(n,this.s.length),i=0;i<n;i++)for(var a=0;a<r;a++)Math.abs(this.s[a])>e&&o.set(i,a,t.get(i,a)/this.s[a]);for(var u=this.U,s=u.rows,c=u.columns,f=new gn(n,s),l=0;l<n;l++)for(var h=0;h<s;h++){for(var d=0,p=0;p<c;p++)d+=o.get(l,p)*u.get(h,p);f.set(l,h,d)}return f}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,n=this.s,r=0,o=n.length;r<o;r++)n[r]>t&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return gn.diag(this.s)}}])&&kn(e.prototype,n),r&&kn(e,r),t}();function Dn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Rn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.distances=e.distances,this.dimension=e.dimension||2,this.linkDistance=e.linkDistance}var e,n,r;return e=t,(n=[{key:"layout",value:function(){var t=this.dimension,e=this.distances,n=this.linkDistance;try{var r=gn.mul(gn.pow(e,2),-.5),o=r.mean("row"),i=r.mean("column"),a=r.mean();r.add(a).subRowVector(o).subColumnVector(i);var u=new On(r),s=gn.sqrt(u.diagonalMatrix).diagonal();return u.leftSingularVectors.toJSON().map((function(e){return gn.mul([e],[s]).toJSON()[0].splice(0,t)}))}catch(t){for(var c=[],f=0;f<e.length;f++){var l=Math.random()*n,h=Math.random()*n;c.push([l,h])}return c}}}])&&Dn(e.prototype,n),r&&Dn(e,r),t}();function Mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Cn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.disp=[],this.positions=e.positions,this.adjMatrix=e.adjMatrix,this.focusID=e.focusID,this.radii=e.radii,this.iterations=e.iterations||10,this.height=e.height||10,this.width=e.width||10,this.speed=e.speed||100,this.gravity=e.gravity||10,this.nodeSizeFunc=e.nodeSizeFunc,this.k=e.k||5,this.strictRadial=e.strictRadial,this.nodes=e.nodes}var e,n,r;return e=t,(n=[{key:"layout",value:function(){var t=this.positions,e=[],n=this.iterations,r=this.width/10;this.maxDisplace=r,this.disp=e;for(var o=0;o<n;o++)t.forEach((function(t,n){e[n]={x:0,y:0}})),this.getRepulsion(),this.updatePositions();return t}},{key:"getRepulsion",value:function(){var t=this,e=t.positions,n=t.nodes,r=t.disp,o=t.k,i=t.radii||[];e.forEach((function(a,u){r[u]={x:0,y:0},e.forEach((function(e,s){if(u!==s&&i[u]===i[s]){var c=a[0]-e[0],f=a[1]-e[1],l=Math.sqrt(c*c+f*f);if(0===l){l=1;var h=u>s?1:-1;c=.01*h,f=.01*h}if(l<t.nodeSizeFunc(n[u])/2+t.nodeSizeFunc(n[s])/2){var d=o*o/l;r[u].x+=c/l*d,r[u].y+=f/l*d}}}))}))}},{key:"updatePositions",value:function(){var t=this.positions,e=this.disp,n=this.speed,r=this.strictRadial,o=this.focusID,i=this.maxDisplace||this.width/10;r&&e.forEach((function(e,n){var r=t[n][0]-t[o][0],i=t[n][1]-t[o][1],a=Math.sqrt(r*r+i*i),u=i/a,s=-r/a,c=Math.sqrt(e.x*e.x+e.y*e.y),f=Math.acos((u*e.x+s*e.y)/c);f>Math.PI/2&&(f-=Math.PI/2,u*=-1,s*=-1);var l=Math.cos(f)*c;e.x=u*l,e.y=s*l}));var a=this.radii;t.forEach((function(u,s){if(s!==o){var c=Math.sqrt(e[s].x*e[s].x+e[s].y*e[s].y);if(c>0&&s!==o){var f=Math.min(i*(n/800),c);if(u[0]+=e[s].x/c*f,u[1]+=e[s].y/c*f,r){var l=u[0]-t[o][0],h=u[1]-t[o][1],d=Math.sqrt(l*l+h*h);l=l/d*a[s],h=h/d*a[s],u[0]=t[o][0]+l,u[1]=t[o][1]+h}}}}))}}])&&Mn(e.prototype,n),r&&Mn(e,r),t}();function Nn(t){return(Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pn(t){return function(t){if(Array.isArray(t))return Gn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return Gn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gn(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ln(t,e){return(Ln=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Un(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fn(t);if(e){var o=Fn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bn(this,n)}}function Bn(t,e){return!e||"object"!==Nn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Fn(t){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function zn(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var Vn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ln(t,e)}(i,t);var e,n,r,o=Un(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).maxIteration=1e3,e.focusNode=null,e.unitRadius=null,e.linkDistance=50,e.preventOverlap=!1,e.strictRadial=!0,e.maxPreventOverlapIteration=200,e.sortStrength=10,e.nodes=[],e.edges=[],e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}}},{key:"execute",value:function(){var t=this,e=t.nodes,n=t.edges||[];if(e&&0!==e.length){t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);var r=t.center;if(1===e.length)return e[0].x=r[0],e[0].y=r[1],void(t.onLayoutEnd&&t.onLayoutEnd());var o=t.linkDistance,i=null;if(p(t.focusNode)){for(var a=!1,u=0;u<e.length;u++)e[u].id===t.focusNode&&(i=e[u],t.focusNode=i,a=!0,u=e.length);a||(i=null)}else i=t.focusNode;i||(i=e[0],t.focusNode=i);var s,c,f,l=(s=e,c=i.id,f=-1,s.forEach((function(t,e){t.id===c&&(f=e)})),f);t.focusIndex=l;var h=x({nodes:e,edges:n},!1),d=_(h),v=t.maxToFocus(d,l);t.handleInfinity(d,l,v+1),t.distances=d;var b=d[l],w=t.width||500,E=t.height||500,S=w-r[0]>r[0]?r[0]:w-r[0],A=E-r[1]>r[1]?r[1]:E-r[1];0===S&&(S=w/2),0===A&&(A=E/2);var I=A>S?S:A,k=Math.max.apply(Math,Pn(b)),O=[];b.forEach((function(e,n){t.unitRadius||(t.unitRadius=I/k),O[n]=e*t.unitRadius})),t.radii=O;var D=t.eIdealDisMatrix();t.eIdealDistances=D;var R=function(t){for(var e=t.length,n=t[0].length,r=[],o=0;o<e;o++){for(var i=[],a=0;a<n;a++)0!==t[o][a]?i.push(1/(t[o][a]*t[o][a])):i.push(0);r.push(i)}return r}(D);t.weights=R;var M=new Rn({linkDistance:o,distances:D}).layout();M.forEach((function(t){g(t[0])&&(t[0]=Math.random()*o),g(t[1])&&(t[1]=Math.random()*o)})),t.positions=M,M.forEach((function(t,n){e[n].x=t[0]+r[0],e[n].y=t[1]+r[1]})),M.forEach((function(t){t[0]-=M[l][0],t[1]-=M[l][1]})),t.run();var C,N=t.preventOverlap,P=t.nodeSize,G=t.strictRadial;if(N){var j,L=t.nodeSpacing;j=y(L)?function(){return L}:T(L)?L:function(){return 0},C=P?m(P)?function(t){return(P[0]>P[1]?P[0]:P[1])+j(t)}:function(t){return P+j(t)}:function(t){return t.size?m(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])+j(t):t.size+j(t):10+j(t)};var U={nodes:e,nodeSizeFunc:C,adjMatrix:h,positions:M,radii:O,height:E,width:w,strictRadial:G,focusID:l,iterations:t.maxPreventOverlapIteration||200,k:M.length/4.5},B=new Cn(U);M=B.layout()}return M.forEach((function(t,n){e[n].x=t[0]+r[0],e[n].y=t[1]+r[1]})),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n}}t.onLayoutEnd&&t.onLayoutEnd()}},{key:"run",value:function(){for(var t=this.maxIteration,e=this.positions||[],n=this.weights||[],r=this.eIdealDistances||[],o=this.radii||[],i=0;i<=t;i++){var a=i/t;this.oneIteration(a,e,o,r,n)}}},{key:"oneIteration",value:function(t,e,n,r,o){var i=1-t,a=this.focusIndex;e.forEach((function(u,s){var c=zn(u,[0,0]),f=0===c?0:1/c;if(s!==a){var l=0,h=0,d=0;e.forEach((function(t,e){if(s!==e){var n=zn(u,t),i=0===n?0:1/n,a=r[e][s];d+=o[s][e],l+=o[s][e]*(t[0]+a*(u[0]-t[0])*i),h+=o[s][e]*(t[1]+a*(u[1]-t[1])*i)}}));var p=0===n[s]?0:1/n[s];d*=i,d+=t*p*p,l*=i,l+=t*p*u[0]*f,u[0]=l/d,h*=i,h+=t*p*u[1]*f,u[1]=h/d}}))}},{key:"eIdealDisMatrix",value:function(){var t=this,e=t.nodes;if(!e)return[];var n=t.distances,r=t.linkDistance,o=t.radii||[],i=t.unitRadius||50,a=[];return n&&n.forEach((function(n,u){var s=[];n.forEach((function(n,a){if(u===a)s.push(0);else if(o[u]===o[a])if("data"===t.sortBy)s.push(n*(Math.abs(u-a)*t.sortStrength)/(o[u]/i));else if(t.sortBy){var c=e[u][t.sortBy]||0,f=e[a][t.sortBy]||0;p(c)&&(c=c.charCodeAt(0)),p(f)&&(f=f.charCodeAt(0)),s.push(n*(Math.abs(c-f)*t.sortStrength)/(o[u]/i))}else s.push(n*r/(o[u]/i));else{var l=(r+i)/2;s.push(n*l)}})),a.push(s)})),a}},{key:"handleInfinity",value:function(t,e,n){for(var r=t.length,o=0;o<r;o++)if(t[e][o]===1/0){t[e][o]=n,t[o][e]=n;for(var i=0;i<r;i++)t[o][i]!==1/0&&t[e][i]===1/0&&(t[e][i]=n+t[o][i],t[i][e]=n+t[o][i])}for(var a=0;a<r;a++)if(a!==e)for(var u=0;u<r;u++)if(t[a][u]===1/0){var s=Math.abs(t[e][a]-t[e][u]);s=0===s?1:s,t[a][u]=s}}},{key:"maxToFocus",value:function(t,e){for(var n=0,r=0;r<t[e].length;r++)t[e][r]!==1/0&&(n=t[e][r]>n?t[e][r]:n);return n}},{key:"getType",value:function(){return"radial"}}])&&jn(e.prototype,n),r&&jn(e,r),i}(I);function Wn(t){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xn(t,e){return(Xn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Hn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Kn(t);if(e){var o=Kn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qn(this,n)}}function qn(t,e){return!e||"object"!==Wn(e)&&"function"!=typeof e?Yn(t):e}function Yn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kn(t){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Zn=new Map,Qn=function(t,e){if(Zn.get(t)&&console.warn("The layout with the name ".concat(t," exists already, it will be overridden")),null!==(r=e)&&"object"===E(r)){var n=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xn(t,e)}(r,t);var n=Hn(r);function r(t){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var i=Yn(o=n.call(this)),a={},u=i.getDefaultCfg();return Object.assign(a,u,e,t),Object.keys(a).forEach((function(t){var e=a[t];i[t]=e})),o}return r}(I);Zn.set(t,n)}else Zn.set(t,e);var r},Jn=function(t){return Zn.has(t)?Zn.get(t):null};function $n(t){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function er(t,e){return(er=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=or(t);if(e){var o=or(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rr(this,n)}}function rr(t,e){return!e||"object"!==$n(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function or(t){return(or=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ir=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&er(t,e)}(i,t);var e,n,r,o=nr(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).nodeSize=30,e.minNodeSpacing=10,e.preventOverlap=!1,e.equidistant=!1,e.startAngle=1.5*Math.PI,e.clockwise=!0,e.sortBy="degree",e.nodes=[],e.edges=[],e.width=300,e.height=300,e.onLayoutEnd=function(){},e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:1.5*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}}},{key:"execute",value:function(){var t=this,e=t.nodes,n=t.edges,r=e.length;if(0!==r){t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight),t.center||(t.center=[t.width/2,t.height/2]);var o=t.center;if(1===r)return e[0].x=o[0],e[0].y=o[1],void(t.onLayoutEnd&&t.onLayoutEnd());var i,a=[];i=m(t.nodeSize)?Math.max(t.nodeSize[0],t.nodeSize[1]):t.nodeSize,e.forEach((function(t){a.push(t);var e=i;m(t.size)?e=Math.max(t.size[0],t.size[1]):y(t.size)&&(e=t.size),i=Math.max(i,e)})),t.clockwise=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise;var u={},s={};if(a.forEach((function(t,e){u[t.id]=t,s[t.id]=e})),!("degree"!==t.sortBy&&p(t.sortBy)&&void 0!==a[0][t.sortBy]||(t.sortBy="degree",y(e[0].degree)))){var c=b(e.length,s,n);a.forEach((function(t,e){t.degree=c[e]}))}a.sort((function(e,n){return n[t.sortBy]-e[t.sortBy]})),t.maxValueNode=a[0],t.maxLevelDiff=t.maxLevelDiff||t.maxValueNode[t.sortBy]/4;var f=[[]],l=f[0];a.forEach((function(e){if(l.length>0){var n=Math.abs(l[0][t.sortBy]-e[t.sortBy]);t.maxLevelDiff&&n>=t.maxLevelDiff&&(l=[],f.push(l))}l.push(e)}));var h=i+t.minNodeSpacing;if(!t.preventOverlap){var d=f.length>0&&f[0].length>1,v=(Math.min(t.width,t.height)/2-h)/(f.length+(d?1:0));h=Math.min(h,v)}var g=0;if(f.forEach((function(e){var n=t.sweep;void 0===n&&(n=2*Math.PI-2*Math.PI/e.length);var r=e.dTheta=n/Math.max(1,e.length-1);if(e.length>1&&t.preventOverlap){var o=Math.cos(r)-Math.cos(0),i=Math.sin(r)-Math.sin(0),a=Math.sqrt(h*h/(o*o+i*i));g=Math.max(a,g)}e.r=g,g+=h})),t.equidistant){for(var _=0,x=0,w=0;w<f.length;w++){var E=f[w].r-x;_=Math.max(_,E)}x=0,f.forEach((function(t,e){0===e&&(x=t.r),t.r=x,x+=_}))}return f.forEach((function(e){var n=e.dTheta,r=e.r;e.forEach((function(e,i){var a=t.startAngle+(t.clockwise?1:-1)*n*i;e.x=o[0]+r*Math.cos(a),e.y=o[1]+r*Math.sin(a)}))})),t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n}}t.onLayoutEnd&&t.onLayoutEnd()}},{key:"getType",value:function(){return"concentric"}}])&&tr(e.prototype,n),r&&tr(e,r),i}(I);function ar(t){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ur(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function sr(t,e){return(sr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=lr(t);if(e){var o=lr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return fr(this,n)}}function fr(t,e){return!e||"object"!==ar(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function lr(t){return(lr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var hr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sr(t,e)}(i,t);var e,n,r,o=cr(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).center=[0,0],e.linkDistance=50,e.nodes=[],e.edges=[],e.onLayoutEnd=function(){},e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{center:[0,0],linkDistance:50}}},{key:"execute",value:function(){var t=this.nodes,e=this.edges,n=void 0===e?[]:e,r=this.center;if(t&&0!==t.length){if(1===t.length)return t[0].x=r[0],t[0].y=r[1],void(this.onLayoutEnd&&this.onLayoutEnd());var o=this.linkDistance,i=x({nodes:t,edges:n},!1),a=_(i);this.handleInfinity(a);var u,s,c=(u=o,s=[],a.forEach((function(t){var e=[];t.forEach((function(t){e.push(t*u)})),s.push(e)})),s);this.scaledDistances=c;var f=this.runMDS();return this.positions=f,f.forEach((function(e,n){t[n].x=e[0]+r[0],t[n].y=e[1]+r[1]})),this.onLayoutEnd&&this.onLayoutEnd(),{nodes:t,edges:n}}this.onLayoutEnd&&this.onLayoutEnd()}},{key:"runMDS",value:function(){var t=this.scaledDistances,e=gn.mul(gn.pow(t,2),-.5),n=e.mean("row"),r=e.mean("column"),o=e.mean();e.add(o).subRowVector(n).subColumnVector(r);var i=new On(e),a=gn.sqrt(i.diagonalMatrix).diagonal();return i.leftSingularVectors.toJSON().map((function(t){return gn.mul([t],[a]).toJSON()[0].splice(0,2)}))}},{key:"handleInfinity",value:function(t){var e=-999999;t.forEach((function(t){t.forEach((function(t){t!==1/0&&e<t&&(e=t)}))})),t.forEach((function(n,r){n.forEach((function(n,o){n===1/0&&(t[r][o]=e)}))}))}},{key:"getType",value:function(){return"mds"}}])&&ur(e.prototype,n),r&&ur(e,r),i}(I);function dr(t){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vr(t,e){return(vr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=gr(t);if(e){var o=gr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yr(this,n)}}function yr(t,e){return!e||"object"!==dr(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function gr(t){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var br=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vr(t,e)}(i,t);var e,n,r,o=mr(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).maxIteration=1e3,e.gravity=10,e.speed=1,e.clustering=!1,e.clusterGravity=10,e.nodes=[],e.edges=[],e.width=300,e.height=300,e.nodeMap={},e.nodeIdxMap={},e.onLayoutEnd=function(){},e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){var t=this,e=this.nodes;if(e&&0!==e.length){this.width||"undefined"==typeof window||(this.width=window.innerWidth),this.height||"undefined"==typeof window||(this.height=window.innerHeight),this.center||(this.center=[this.width/2,this.height/2]);var n=this.center;if(1===e.length)return e[0].x=n[0],e[0].y=n[1],void(this.onLayoutEnd&&this.onLayoutEnd());var r={},o={};return e.forEach((function(e,n){y(e.x)||(e.x=Math.random()*t.width),y(e.y)||(e.y=Math.random()*t.height),r[e.id]=e,o[e.id]=n})),this.nodeMap=r,this.nodeIdxMap=o,this.run()}this.onLayoutEnd&&this.onLayoutEnd()}},{key:"run",value:function(){var t=this,e=t.nodes,n=t.edges,r=t.maxIteration,o=t.center,i=t.height*t.width,a=Math.sqrt(i)/10,u=i/(e.length+1),s=Math.sqrt(u),c=t.gravity,f=t.speed,l=t.clustering,h={};if(l)for(var d in e.forEach((function(t){if(void 0===h[t.cluster]){var e={name:t.cluster,cx:0,cy:0,count:0};h[t.cluster]=e}var n=h[t.cluster];y(t.x)&&(n.cx+=t.x),y(t.y)&&(n.cy+=t.y),n.count++})),h)h[d].cx/=h[d].count,h[d].cy/=h[d].count;for(var p=function(r){var i=[];if(e.forEach((function(t,e){i[e]={x:0,y:0}})),t.applyCalculate(e,n,i,s,u),l){var d=t.clusterGravity||c;for(var p in e.forEach((function(t,e){if(y(t.x)&&y(t.y)){var n=h[t.cluster],r=Math.sqrt((t.x-n.cx)*(t.x-n.cx)+(t.y-n.cy)*(t.y-n.cy)),o=s*d;i[e].x-=o*(t.x-n.cx)/r,i[e].y-=o*(t.y-n.cy)/r}})),h)h[p].cx=0,h[p].cy=0,h[p].count=0;for(var v in e.forEach((function(t){var e=h[t.cluster];y(t.x)&&(e.cx+=t.x),y(t.y)&&(e.cy+=t.y),e.count++})),h)h[v].cx/=h[v].count,h[v].cy/=h[v].count}e.forEach((function(t,e){if(y(t.x)&&y(t.y)){var n=.01*s*c;i[e].x-=n*(t.x-o[0]),i[e].y-=n*(t.y-o[1])}})),e.forEach((function(t,e){if(y(t.x)&&y(t.y)){var n=Math.sqrt(i[e].x*i[e].x+i[e].y*i[e].y);if(n>0){var r=Math.min(a*(f/800),n);t.x+=i[e].x/n*r,t.y+=i[e].y/n*r}}}))},v=0;v<r;v++)p();return t.onLayoutEnd&&t.onLayoutEnd(),{nodes:e,edges:n}}},{key:"applyCalculate",value:function(t,e,n,r,o){this.calRepulsive(t,n,o),this.calAttractive(e,n,r)}},{key:"calRepulsive",value:function(t,e,n){t.forEach((function(r,o){e[o]={x:0,y:0},t.forEach((function(t,i){if(o!==i&&y(r.x)&&y(t.x)&&y(r.y)&&y(t.y)){var a=r.x-t.x,u=r.y-t.y,s=a*a+u*u;if(0===s){s=1;var c=o>i?1:-1;a=.01*c,u=.01*c}var f=n/s;e[o].x+=a*f,e[o].y+=u*f}}))}))}},{key:"calAttractive",value:function(t,e,n){var r=this;t.forEach((function(t){if(t.source&&t.target){var o=r.nodeIdxMap[t.source],i=r.nodeIdxMap[t.target];if(o!==i){var a=r.nodeMap[t.source],u=r.nodeMap[t.target];if(y(u.x)&&y(a.x)&&y(u.y)&&y(a.y)){var s=u.x-a.x,c=u.y-a.y,f=Math.sqrt(s*s+c*c),l=f*f/n;e[i].x-=s/f*l,e[i].y-=c/f*l,e[o].x+=s/f*l,e[o].y+=c/f*l}}}}))}},{key:"getType",value:function(){return"fruchterman"}}])&&pr(e.prototype,n),r&&pr(e,r),i}(I),_r=n(6),xr=n.n(_r),wr=n(2),Er=n.n(wr),Sr=n(4),Tr=n.n(Sr),Ar=n(7),Ir=n.n(Ar),kr=(n(16),n(159),n(5)),Or=n.n(kr),Dr=n(8),Rr=n.n(Dr),Mr=1;function Cr(){return Mr++}var Nr=function t(e){Er()(this,t)},Pr=function(){function t(e){Er()(this,t),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=e}var e;return Tr()(t,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(t){return this.lookup[t]>-1}},{key:"create",value:function(t,e){this.lookup[t]=this.components.length;var n=new this.clazz(e||{});return this.components.push(n),this.entities.push(t),n}},{key:"remove",value:function(t){var e=this.lookup[t];e>-1&&e<this.components.length-1&&(this.components[e]=this.components[this.components.length-1],this.entities[e]=this.entities[this.entities.length-1],this.lookup[this.entities[e]]=e),this.components.pop(),this.entities.pop(),delete this.lookup[t]}},{key:"removeKeepSorted",value:function(t){var e=this.lookup[t];if(e>-1){var n=this.entities[e];if(e<this.components.length-1){for(var r=e+1;r<this.components.length;++r)this.components[r-1]=this.components[r];for(var o=e+1;o<this.entities.length;++o)this.entities[o-1]=this.entities[o],this.lookup[this.entities[o-1]]=o-1}this.components.pop(),this.entities.pop(),delete this.lookup[n]}}},{key:"moveItem",value:function(t,e){if(t!==e){for(var n=this.components[t],r=this.entities[t],o=t<e?1:-1,i=t;i!==e;i+=o){var a=i+o;this.components[i]=this.components[a],this.entities[i]=this.entities[a],this.lookup[this.entities[i]]=i}this.components[e]=n,this.entities[e]=r,this.lookup[r]=e}}},{key:"getEntity",value:function(t){return this.entities[t]}},{key:"getComponent",value:function(t){return this.components[t]}},{key:"getComponentByEntity",value:function(t){var e=this.lookup[t];return e>-1?this.components[e]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(t){for(var e=0,n=Object.keys(this.lookup);e<n.length;e++){var r=n[e],o=Number(r);if(this.lookup[o]===t)return o}return-1}},{key:"find",value:function(t){for(var e=0;e<this.getCount();e++){var n=this.getComponent(e);if(t(n,e))return n}return null}},{key:"findIndex",value:function(t){for(var e=0;e<this.getCount();e++){if(t(this.getComponent(e),e))return e}return-1}},{key:"forEach",value:function(t){for(var e=0,n=Object.keys(this.lookup);e<n.length;e++){var r=n[e],o=Number(r),i=this.lookup[o];t(o,this.getComponent(i))}}},{key:"forEachAsync",value:(e=Rr()(Or.a.mark((function t(e){var n,r,o,i,a;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0,r=Object.keys(this.lookup);case 1:if(!(n<r.length)){t.next=10;break}return o=r[n],i=Number(o),a=this.lookup[i],t.next=7,e(i,this.getComponent(a));case 7:n++,t.next=1;break;case 10:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"map",value:function(t){for(var e=[],n=0,r=Object.keys(this.lookup);n<r.length;n++){var o=r[n],i=Number(o),a=this.lookup[i];e.push(t(i,this.getComponent(a)))}return e}}]),t}(),Gr=n(34),jr=n.n(Gr),Lr=n(1),Ur={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")},Br=function t(){Er()(this,t),this.index=void 0},Fr=function t(){Er()(this,t),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},zr=function(){function t(){Er()(this,t),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return Tr()(t,[{key:"read",value:function(t){return this.reads.find((function(e){return e.index===t.index}))||this.reads.push(t),t}},{key:"sample",value:function(t){return this.read(t),t}},{key:"write",value:function(t,e){if(this.writes.find((function(t){return t.index===e.index})))return e;var n=t.getResourceNode(e);n.resource.version++,n.resource.imported&&(this.hasSideEffect=!0);var r=t.createResourceNode(n.resource);return t.getResourceNode(r).writer=this,this.writes.push(r),r}}]),t}(),Vr=n(14),Wr=n.n(Vr),Xr=n(15),Hr=n.n(Xr),qr=n(9),Yr=n.n(qr);function Kr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}var Zr,Qr,Jr,$r,to,eo=function(t){Wr()(n,t);var e=Kr(n);function n(){var t;Er()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).version=0,t.refs=0,t.name=void 0,t.imported=void 0,t.priority=void 0,t.discardStart=!0,t.discardEnd=!1,t.descriptor=void 0,t.resource=void 0,t}return Tr()(n,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){this.imported}}]),n}((function t(){Er()(this,t),this.first=void 0,this.last=void 0})),no=function t(){Er()(this,t),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0};function ro(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return oo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function oo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var io=(Zr=Object(Lr.injectable)(),Qr=Object(Lr.inject)(Ur.RenderEngine),Zr(($r=function(){function t(){Er()(this,t),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],xr()(this,"engine",to,this)}var e,n;return Tr()(t,[{key:"execute",value:(n=Rr()(Or.a.mark((function t(e){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.compile(),t.next=3,this.executePassNodes(e);case 3:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"tearDown",value:function(){this.frameGraphPasses.forEach((function(t){t.tearDown&&t.tearDown()})),this.reset()}},{key:"addPass",value:function(t,e,n,r){var o=new Fr;o.execute=n,r&&(o.tearDown=r),o.name=t;var i=new zr;return i.name=t,this.passNodes.push(i),this.frameGraphPasses.push(o),e(this,i,o),o}},{key:"getPass",value:function(t){return this.frameGraphPasses.find((function(e){return e.name===t}))}},{key:"compile",value:function(){var t,e=this,n=ro(this.passNodes);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.refCount=r.writes.length+(r.hasSideEffect?1:0),r.reads.forEach((function(t){e.resourceNodes[t.index].readerCount++}))}}catch(t){n.e(t)}finally{n.f()}var o,i=[],a=ro(this.resourceNodes);try{for(a.s();!(o=a.n()).done;){var u=o.value;0===u.readerCount&&i.push(u)}}catch(t){a.e(t)}finally{a.f()}for(;i.length;){var s=i.pop(),c=s&&s.writer;if(c&&0==--c.refCount){var f,l=ro(c.reads);try{for(l.s();!(f=l.n()).done;){var h=f.value,d=this.resourceNodes[h.index];0==--d.readerCount&&i.push(d)}}catch(t){l.e(t)}finally{l.f()}}}this.resourceNodes.forEach((function(t){t.resource.refs+=t.readerCount}));var p,v=ro(this.passNodes);try{for(v.s();!(p=v.n()).done;){var m=p.value;if(m.refCount){var y,g=ro(m.reads);try{for(g.s();!(y=g.n()).done;){var b=y.value,_=this.resourceNodes[b.index].resource;_.first=_.first?_.first:m,_.last=m}}catch(t){g.e(t)}finally{g.f()}var x,w=ro(m.writes);try{for(w.s();!(x=w.n()).done;){var E=x.value,S=this.resourceNodes[E.index].resource;S.first=S.first?S.first:m,S.last=m}}catch(t){w.e(t)}finally{w.f()}}}}catch(t){v.e(t)}finally{v.f()}for(var T=0;T<2;T++){var A,I=ro(this.resourceNodes);try{for(I.s();!(A=I.n()).done;){var k=A.value.resource;if(k.priority===T&&k.refs){var O=k.first,D=k.last;O&&D&&(O.devirtualize.push(k),D.destroy.push(k))}}}catch(t){I.e(t)}finally{I.f()}}}},{key:"executePassNodes",value:(e=Rr()(Or.a.mark((function t(e){var n,r,o,i,a,u,s,c,f,l,h,d,p;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=ro(this.passNodes.entries()),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=18;break}if(o=jr()(r.value,2),i=o[0],!(a=o[1]).refCount){t.next=16;break}u=ro(a.devirtualize);try{for(u.s();!(s=u.n()).done;)s.value.preExecuteDevirtualize(this.engine)}catch(t){u.e(t)}finally{u.f()}c=ro(a.destroy);try{for(c.s();!(f=c.n()).done;)f.value.preExecuteDestroy(this.engine)}catch(t){c.e(t)}finally{c.f()}return t.next=12,this.frameGraphPasses[i].execute(this,this.frameGraphPasses[i],e);case 12:l=ro(a.devirtualize);try{for(l.s();!(h=l.n()).done;)h.value.postExecuteDevirtualize(this.engine)}catch(t){l.e(t)}finally{l.f()}d=ro(a.destroy);try{for(d.s();!(p=d.n()).done;)p.value.postExecuteDestroy(this.engine)}catch(t){d.e(t)}finally{d.f()}case 16:t.next=3;break;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),n.e(t.t0);case 23:return t.prev=23,n.f(),t.finish(23);case 26:this.reset();case 27:case"end":return t.stop()}}),t,this,[[1,20,23,26]])}))),function(t){return e.apply(this,arguments)})},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(t){return this.resourceNodes[t.index]}},{key:"createResourceNode",value:function(t){var e=new no;e.resource=t,e.version=t.version,this.resourceNodes.push(e);var n=new Br;return n.index=this.resourceNodes.length-1,n}},{key:"createTexture",value:function(t,e,n){var r=new eo;return r.name=e,r.descriptor=n,this.createResourceNode(r)}},{key:"createRenderTarget",value:function(t,e,n){var r=new eo;return r.name=e,r.descriptor=n,this.createResourceNode(r)}},{key:"present",value:function(t){this.addPass("Present",(function(e,n){n.read(t),n.hasSideEffect=!0}),Rr()(Or.a.mark((function t(){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))))}}]),t}(),to=Ir()($r.prototype,"engine",[Qr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jr=$r))||Jr),ao=n(0),uo=n.n(ao),so=n(12),co=n.n(so);function fo(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fo(Object(n),!0).forEach((function(e){uo()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ho(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}var po=function(t){Wr()(n,t);var e=ho(n);function n(t){var r;return Er()(this,n),(r=e.call(this,t)).dirty=!0,r.attributes=[],r.indices=void 0,r.indicesBuffer=void 0,r.vertexCount=void 0,r.maxInstancedCount=void 0,r.aabb=void 0,Object.assign(co()(r),t),r}return Tr()(n,[{key:"setAttribute",value:function(t,e,n,r){var o=this.attributes.find((function(e){return e.name===t}));return o?(o.data=e,o.dirty=!0):this.attributes.push(lo(lo({dirty:!0,name:t,data:e},n),{},{bufferGetter:r})),this.dirty=!0,this}},{key:"setIndex",value:function(t){return this.indices=new Uint32Array(t.buffer?t.buffer:t),this.dirty=!0,this}}]),n}(Nr),vo=(n(168),1e-6),mo="undefined"!=typeof Float32Array?Float32Array:Array,yo=Math.random;Math.PI;function go(){var t=new mo(9);return mo!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function bo(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function _o(t){var e=new mo(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function xo(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function wo(t,e,n,r,o,i,a,u,s){var c=new mo(9);return c[0]=t,c[1]=e,c[2]=n,c[3]=r,c[4]=o,c[5]=i,c[6]=a,c[7]=u,c[8]=s,c}function Eo(t,e,n,r,o,i,a,u,s,c){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=u,t[7]=s,t[8]=c,t}function So(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function To(t,e){if(t===e){var n=e[1],r=e[2],o=e[5];t[1]=e[3],t[2]=e[6],t[3]=n,t[5]=e[7],t[6]=r,t[7]=o}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function Ao(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=f*a-u*c,h=-f*i+u*s,d=c*i-a*s,p=n*l+r*h+o*d;return p?(p=1/p,t[0]=l*p,t[1]=(-f*r+o*c)*p,t[2]=(u*r-o*a)*p,t[3]=h*p,t[4]=(f*n-o*s)*p,t[5]=(-u*n+o*i)*p,t[6]=d*p,t[7]=(-c*n+r*s)*p,t[8]=(a*n-r*i)*p,t):null}function Io(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8];return t[0]=a*f-u*c,t[1]=o*c-r*f,t[2]=r*u-o*a,t[3]=u*s-i*f,t[4]=n*f-o*s,t[5]=o*i-n*u,t[6]=i*c-a*s,t[7]=r*s-n*c,t[8]=n*a-r*i,t}function ko(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],u=t[6],s=t[7],c=t[8];return e*(c*i-a*s)+n*(-c*o+a*u)+r*(s*o-i*u)}function Oo(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=n[0],d=n[1],p=n[2],v=n[3],m=n[4],y=n[5],g=n[6],b=n[7],_=n[8];return t[0]=h*r+d*a+p*c,t[1]=h*o+d*u+p*f,t[2]=h*i+d*s+p*l,t[3]=v*r+m*a+y*c,t[4]=v*o+m*u+y*f,t[5]=v*i+m*s+y*l,t[6]=g*r+b*a+_*c,t[7]=g*o+b*u+_*f,t[8]=g*i+b*s+_*l,t}function Do(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=n[0],d=n[1];return t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=u,t[5]=s,t[6]=h*r+d*a+c,t[7]=h*o+d*u+f,t[8]=h*i+d*s+l,t}function Ro(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=Math.sin(n),d=Math.cos(n);return t[0]=d*r+h*a,t[1]=d*o+h*u,t[2]=d*i+h*s,t[3]=d*a-h*r,t[4]=d*u-h*o,t[5]=d*s-h*i,t[6]=c,t[7]=f,t[8]=l,t}function Mo(t,e,n){var r=n[0],o=n[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=o*e[3],t[4]=o*e[4],t[5]=o*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Co(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function No(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=-n,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Po(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Go(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function jo(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,u=r+r,s=o+o,c=n*a,f=r*a,l=r*u,h=o*a,d=o*u,p=o*s,v=i*a,m=i*u,y=i*s;return t[0]=1-l-p,t[3]=f-y,t[6]=h+m,t[1]=f+y,t[4]=1-c-p,t[7]=d-v,t[2]=h-m,t[5]=d+v,t[8]=1-c-l,t}function Lo(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],p=e[12],v=e[13],m=e[14],y=e[15],g=n*u-r*a,b=n*s-o*a,_=n*c-i*a,x=r*s-o*u,w=r*c-i*u,E=o*c-i*s,S=f*v-l*p,T=f*m-h*p,A=f*y-d*p,I=l*m-h*v,k=l*y-d*v,O=h*y-d*m,D=g*O-b*k+_*I+x*A-w*T+E*S;return D?(D=1/D,t[0]=(u*O-s*k+c*I)*D,t[1]=(s*A-a*O-c*T)*D,t[2]=(a*k-u*A+c*S)*D,t[3]=(o*k-r*O-i*I)*D,t[4]=(n*O-o*A+i*T)*D,t[5]=(r*A-n*k-i*S)*D,t[6]=(v*E-m*w+y*x)*D,t[7]=(m*_-p*E-y*b)*D,t[8]=(p*w-v*_+y*g)*D,t):null}function Uo(t,e,n){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function Bo(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function Fo(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function zo(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t}function Vo(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t}function Wo(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t}function Xo(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t}function Ho(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function qo(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],u=t[5],s=t[6],c=t[7],f=t[8],l=e[0],h=e[1],d=e[2],p=e[3],v=e[4],m=e[5],y=e[6],g=e[7],b=e[8];return Math.abs(n-l)<=vo*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(r-h)<=vo*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(o-d)<=vo*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(i-p)<=vo*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-v)<=vo*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(u-m)<=vo*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(s-y)<=vo*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(c-g)<=vo*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(f-b)<=vo*Math.max(1,Math.abs(f),Math.abs(b))}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var Yo=Oo,Ko=Vo;function Zo(){var t=new mo(16);return mo!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function Qo(t){var e=new mo(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Jo(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function $o(t,e,n,r,o,i,a,u,s,c,f,l,h,d,p,v){var m=new mo(16);return m[0]=t,m[1]=e,m[2]=n,m[3]=r,m[4]=o,m[5]=i,m[6]=a,m[7]=u,m[8]=s,m[9]=c,m[10]=f,m[11]=l,m[12]=h,m[13]=d,m[14]=p,m[15]=v,m}function ti(t,e,n,r,o,i,a,u,s,c,f,l,h,d,p,v,m){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t[6]=u,t[7]=s,t[8]=c,t[9]=f,t[10]=l,t[11]=h,t[12]=d,t[13]=p,t[14]=v,t[15]=m,t}function ei(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ni(t,e){if(t===e){var n=e[1],r=e[2],o=e[3],i=e[6],a=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=i,t[11]=e[14],t[12]=o,t[13]=a,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function ri(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],p=e[12],v=e[13],m=e[14],y=e[15],g=n*u-r*a,b=n*s-o*a,_=n*c-i*a,x=r*s-o*u,w=r*c-i*u,E=o*c-i*s,S=f*v-l*p,T=f*m-h*p,A=f*y-d*p,I=l*m-h*v,k=l*y-d*v,O=h*y-d*m,D=g*O-b*k+_*I+x*A-w*T+E*S;return D?(D=1/D,t[0]=(u*O-s*k+c*I)*D,t[1]=(o*k-r*O-i*I)*D,t[2]=(v*E-m*w+y*x)*D,t[3]=(h*w-l*E-d*x)*D,t[4]=(s*A-a*O-c*T)*D,t[5]=(n*O-o*A+i*T)*D,t[6]=(m*_-p*E-y*b)*D,t[7]=(f*E-h*_+d*b)*D,t[8]=(a*k-u*A+c*S)*D,t[9]=(r*A-n*k-i*S)*D,t[10]=(p*w-v*_+y*g)*D,t[11]=(l*_-f*w-d*g)*D,t[12]=(u*T-a*I-s*S)*D,t[13]=(n*I-r*T+o*S)*D,t[14]=(v*b-p*x-m*g)*D,t[15]=(f*x-l*b+h*g)*D,t):null}function oi(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=e[4],u=e[5],s=e[6],c=e[7],f=e[8],l=e[9],h=e[10],d=e[11],p=e[12],v=e[13],m=e[14],y=e[15];return t[0]=u*(h*y-d*m)-l*(s*y-c*m)+v*(s*d-c*h),t[1]=-(r*(h*y-d*m)-l*(o*y-i*m)+v*(o*d-i*h)),t[2]=r*(s*y-c*m)-u*(o*y-i*m)+v*(o*c-i*s),t[3]=-(r*(s*d-c*h)-u*(o*d-i*h)+l*(o*c-i*s)),t[4]=-(a*(h*y-d*m)-f*(s*y-c*m)+p*(s*d-c*h)),t[5]=n*(h*y-d*m)-f*(o*y-i*m)+p*(o*d-i*h),t[6]=-(n*(s*y-c*m)-a*(o*y-i*m)+p*(o*c-i*s)),t[7]=n*(s*d-c*h)-a*(o*d-i*h)+f*(o*c-i*s),t[8]=a*(l*y-d*v)-f*(u*y-c*v)+p*(u*d-c*l),t[9]=-(n*(l*y-d*v)-f*(r*y-i*v)+p*(r*d-i*l)),t[10]=n*(u*y-c*v)-a*(r*y-i*v)+p*(r*c-i*u),t[11]=-(n*(u*d-c*l)-a*(r*d-i*l)+f*(r*c-i*u)),t[12]=-(a*(l*m-h*v)-f*(u*m-s*v)+p*(u*h-s*l)),t[13]=n*(l*m-h*v)-f*(r*m-o*v)+p*(r*h-o*l),t[14]=-(n*(u*m-s*v)-a*(r*m-o*v)+p*(r*s-o*u)),t[15]=n*(u*h-s*l)-a*(r*h-o*l)+f*(r*s-o*u),t}function ii(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=t[4],a=t[5],u=t[6],s=t[7],c=t[8],f=t[9],l=t[10],h=t[11],d=t[12],p=t[13],v=t[14],m=t[15];return(e*a-n*i)*(l*m-h*v)-(e*u-r*i)*(f*m-h*p)+(e*s-o*i)*(f*v-l*p)+(n*u-r*a)*(c*m-h*d)-(n*s-o*a)*(c*v-l*d)+(r*s-o*u)*(c*p-f*d)}function ai(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],d=e[10],p=e[11],v=e[12],m=e[13],y=e[14],g=e[15],b=n[0],_=n[1],x=n[2],w=n[3];return t[0]=b*r+_*u+x*l+w*v,t[1]=b*o+_*s+x*h+w*m,t[2]=b*i+_*c+x*d+w*y,t[3]=b*a+_*f+x*p+w*g,b=n[4],_=n[5],x=n[6],w=n[7],t[4]=b*r+_*u+x*l+w*v,t[5]=b*o+_*s+x*h+w*m,t[6]=b*i+_*c+x*d+w*y,t[7]=b*a+_*f+x*p+w*g,b=n[8],_=n[9],x=n[10],w=n[11],t[8]=b*r+_*u+x*l+w*v,t[9]=b*o+_*s+x*h+w*m,t[10]=b*i+_*c+x*d+w*y,t[11]=b*a+_*f+x*p+w*g,b=n[12],_=n[13],x=n[14],w=n[15],t[12]=b*r+_*u+x*l+w*v,t[13]=b*o+_*s+x*h+w*m,t[14]=b*i+_*c+x*d+w*y,t[15]=b*a+_*f+x*p+w*g,t}function ui(t,e,n){var r,o,i,a,u,s,c,f,l,h,d,p,v=n[0],m=n[1],y=n[2];return e===t?(t[12]=e[0]*v+e[4]*m+e[8]*y+e[12],t[13]=e[1]*v+e[5]*m+e[9]*y+e[13],t[14]=e[2]*v+e[6]*m+e[10]*y+e[14],t[15]=e[3]*v+e[7]*m+e[11]*y+e[15]):(r=e[0],o=e[1],i=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],d=e[10],p=e[11],t[0]=r,t[1]=o,t[2]=i,t[3]=a,t[4]=u,t[5]=s,t[6]=c,t[7]=f,t[8]=l,t[9]=h,t[10]=d,t[11]=p,t[12]=r*v+u*m+l*y+e[12],t[13]=o*v+s*m+h*y+e[13],t[14]=i*v+c*m+d*y+e[14],t[15]=a*v+f*m+p*y+e[15]),t}function si(t,e,n){var r=n[0],o=n[1],i=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ci(t,e,n,r){var o,i,a,u,s,c,f,l,h,d,p,v,m,y,g,b,_,x,w,E,S,T,A,I,k=r[0],O=r[1],D=r[2],R=Math.hypot(k,O,D);return R<vo?null:(k*=R=1/R,O*=R,D*=R,o=Math.sin(n),a=1-(i=Math.cos(n)),u=e[0],s=e[1],c=e[2],f=e[3],l=e[4],h=e[5],d=e[6],p=e[7],v=e[8],m=e[9],y=e[10],g=e[11],b=k*k*a+i,_=O*k*a+D*o,x=D*k*a-O*o,w=k*O*a-D*o,E=O*O*a+i,S=D*O*a+k*o,T=k*D*a+O*o,A=O*D*a-k*o,I=D*D*a+i,t[0]=u*b+l*_+v*x,t[1]=s*b+h*_+m*x,t[2]=c*b+d*_+y*x,t[3]=f*b+p*_+g*x,t[4]=u*w+l*E+v*S,t[5]=s*w+h*E+m*S,t[6]=c*w+d*E+y*S,t[7]=f*w+p*E+g*S,t[8]=u*T+l*A+v*I,t[9]=s*T+h*A+m*I,t[10]=c*T+d*A+y*I,t[11]=f*T+p*A+g*I,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function fi(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[4],a=e[5],u=e[6],s=e[7],c=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=i*o+c*r,t[5]=a*o+f*r,t[6]=u*o+l*r,t[7]=s*o+h*r,t[8]=c*o-i*r,t[9]=f*o-a*r,t[10]=l*o-u*r,t[11]=h*o-s*r,t}function li(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],u=e[2],s=e[3],c=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o-c*r,t[1]=a*o-f*r,t[2]=u*o-l*r,t[3]=s*o-h*r,t[8]=i*r+c*o,t[9]=a*r+f*o,t[10]=u*r+l*o,t[11]=s*r+h*o,t}function hi(t,e,n){var r=Math.sin(n),o=Math.cos(n),i=e[0],a=e[1],u=e[2],s=e[3],c=e[4],f=e[5],l=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=i*o+c*r,t[1]=a*o+f*r,t[2]=u*o+l*r,t[3]=s*o+h*r,t[4]=c*o-i*r,t[5]=f*o-a*r,t[6]=l*o-u*r,t[7]=h*o-s*r,t}function di(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function pi(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function vi(t,e,n){var r,o,i,a=n[0],u=n[1],s=n[2],c=Math.hypot(a,u,s);return c<vo?null:(a*=c=1/c,u*=c,s*=c,r=Math.sin(e),i=1-(o=Math.cos(e)),t[0]=a*a*i+o,t[1]=u*a*i+s*r,t[2]=s*a*i-u*r,t[3]=0,t[4]=a*u*i-s*r,t[5]=u*u*i+o,t[6]=s*u*i+a*r,t[7]=0,t[8]=a*s*i+u*r,t[9]=u*s*i-a*r,t[10]=s*s*i+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function mi(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function yi(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function gi(t,e){var n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function bi(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],u=r+r,s=o+o,c=i+i,f=r*u,l=r*s,h=r*c,d=o*s,p=o*c,v=i*c,m=a*u,y=a*s,g=a*c;return t[0]=1-(d+v),t[1]=l+g,t[2]=h-y,t[3]=0,t[4]=l-g,t[5]=1-(f+v),t[6]=p+m,t[7]=0,t[8]=h+y,t[9]=p-m,t[10]=1-(f+d),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function _i(t,e){var n=new mo(3),r=-e[0],o=-e[1],i=-e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=r*r+o*o+i*i+a*a;return l>0?(n[0]=2*(u*a+f*r+s*i-c*o)/l,n[1]=2*(s*a+f*o+c*r-u*i)/l,n[2]=2*(c*a+f*i+u*o-s*r)/l):(n[0]=2*(u*a+f*r+s*i-c*o),n[1]=2*(s*a+f*o+c*r-u*i),n[2]=2*(c*a+f*i+u*o-s*r)),bi(t,e,n),t}function xi(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function wi(t,e){var n=e[0],r=e[1],o=e[2],i=e[4],a=e[5],u=e[6],s=e[8],c=e[9],f=e[10];return t[0]=Math.hypot(n,r,o),t[1]=Math.hypot(i,a,u),t[2]=Math.hypot(s,c,f),t}function Ei(t,e){var n=new mo(3);wi(n,e);var r=1/n[0],o=1/n[1],i=1/n[2],a=e[0]*r,u=e[1]*o,s=e[2]*i,c=e[4]*r,f=e[5]*o,l=e[6]*i,h=e[8]*r,d=e[9]*o,p=e[10]*i,v=a+f+p,m=0;return v>0?(m=2*Math.sqrt(v+1),t[3]=.25*m,t[0]=(l-d)/m,t[1]=(h-s)/m,t[2]=(u-c)/m):a>f&&a>p?(m=2*Math.sqrt(1+a-f-p),t[3]=(l-d)/m,t[0]=.25*m,t[1]=(u+c)/m,t[2]=(h+s)/m):f>p?(m=2*Math.sqrt(1+f-a-p),t[3]=(h-s)/m,t[0]=(u+c)/m,t[1]=.25*m,t[2]=(l+d)/m):(m=2*Math.sqrt(1+p-a-f),t[3]=(u-c)/m,t[0]=(h+s)/m,t[1]=(l+d)/m,t[2]=.25*m),t}function Si(t,e,n,r){var o=e[0],i=e[1],a=e[2],u=e[3],s=o+o,c=i+i,f=a+a,l=o*s,h=o*c,d=o*f,p=i*c,v=i*f,m=a*f,y=u*s,g=u*c,b=u*f,_=r[0],x=r[1],w=r[2];return t[0]=(1-(p+m))*_,t[1]=(h+b)*_,t[2]=(d-g)*_,t[3]=0,t[4]=(h-b)*x,t[5]=(1-(l+m))*x,t[6]=(v+y)*x,t[7]=0,t[8]=(d+g)*w,t[9]=(v-y)*w,t[10]=(1-(l+p))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function Ti(t,e,n,r,o){var i=e[0],a=e[1],u=e[2],s=e[3],c=i+i,f=a+a,l=u+u,h=i*c,d=i*f,p=i*l,v=a*f,m=a*l,y=u*l,g=s*c,b=s*f,_=s*l,x=r[0],w=r[1],E=r[2],S=o[0],T=o[1],A=o[2],I=(1-(v+y))*x,k=(d+_)*x,O=(p-b)*x,D=(d-_)*w,R=(1-(h+y))*w,M=(m+g)*w,C=(p+b)*E,N=(m-g)*E,P=(1-(h+v))*E;return t[0]=I,t[1]=k,t[2]=O,t[3]=0,t[4]=D,t[5]=R,t[6]=M,t[7]=0,t[8]=C,t[9]=N,t[10]=P,t[11]=0,t[12]=n[0]+S-(I*S+D*T+C*A),t[13]=n[1]+T-(k*S+R*T+N*A),t[14]=n[2]+A-(O*S+M*T+P*A),t[15]=1,t}function Ai(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n+n,u=r+r,s=o+o,c=n*a,f=r*a,l=r*u,h=o*a,d=o*u,p=o*s,v=i*a,m=i*u,y=i*s;return t[0]=1-l-p,t[1]=f+y,t[2]=h-m,t[3]=0,t[4]=f-y,t[5]=1-c-p,t[6]=d+v,t[7]=0,t[8]=h+m,t[9]=d-v,t[10]=1-c-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function Ii(t,e,n,r,o,i,a){var u=1/(n-e),s=1/(o-r),c=1/(i-a);return t[0]=2*i*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*i*s,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(o+r)*s,t[10]=(a+i)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*i*2*c,t[15]=0,t}function ki(t,e,n,r,o){var i,a=1/Math.tan(e/2);return t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=o&&o!==1/0?(i=1/(r-o),t[10]=(o+r)*i,t[14]=2*o*r*i):(t[10]=-1,t[14]=-2*r),t}function Oi(t,e,n,r){var o=Math.tan(e.upDegrees*Math.PI/180),i=Math.tan(e.downDegrees*Math.PI/180),a=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),s=2/(a+u),c=2/(o+i);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(a-u)*s*.5,t[9]=(o-i)*c*.5,t[10]=r/(n-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*n/(n-r),t[15]=0,t}function Di(t,e,n,r,o,i,a){var u=1/(e-n),s=1/(r-o),c=1/(i-a);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+n)*u,t[13]=(o+r)*s,t[14]=(a+i)*c,t[15]=1,t}function Ri(t,e,n,r){var o,i,a,u,s,c,f,l,h,d,p=e[0],v=e[1],m=e[2],y=r[0],g=r[1],b=r[2],_=n[0],x=n[1],w=n[2];return Math.abs(p-_)<vo&&Math.abs(v-x)<vo&&Math.abs(m-w)<vo?ei(t):(f=p-_,l=v-x,h=m-w,o=g*(h*=d=1/Math.hypot(f,l,h))-b*(l*=d),i=b*(f*=d)-y*h,a=y*l-g*f,(d=Math.hypot(o,i,a))?(o*=d=1/d,i*=d,a*=d):(o=0,i=0,a=0),u=l*a-h*i,s=h*o-f*a,c=f*i-l*o,(d=Math.hypot(u,s,c))?(u*=d=1/d,s*=d,c*=d):(u=0,s=0,c=0),t[0]=o,t[1]=u,t[2]=f,t[3]=0,t[4]=i,t[5]=s,t[6]=l,t[7]=0,t[8]=a,t[9]=c,t[10]=h,t[11]=0,t[12]=-(o*p+i*v+a*m),t[13]=-(u*p+s*v+c*m),t[14]=-(f*p+l*v+h*m),t[15]=1,t)}function Mi(t,e,n,r){var o=e[0],i=e[1],a=e[2],u=r[0],s=r[1],c=r[2],f=o-n[0],l=i-n[1],h=a-n[2],d=f*f+l*l+h*h;d>0&&(f*=d=1/Math.sqrt(d),l*=d,h*=d);var p=s*h-c*l,v=c*f-u*h,m=u*l-s*f;return(d=p*p+v*v+m*m)>0&&(p*=d=1/Math.sqrt(d),v*=d,m*=d),t[0]=p,t[1]=v,t[2]=m,t[3]=0,t[4]=l*m-h*v,t[5]=h*p-f*m,t[6]=f*v-l*p,t[7]=0,t[8]=f,t[9]=l,t[10]=h,t[11]=0,t[12]=o,t[13]=i,t[14]=a,t[15]=1,t}function Ci(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function Ni(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function Pi(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t[4]=e[4]+n[4],t[5]=e[5]+n[5],t[6]=e[6]+n[6],t[7]=e[7]+n[7],t[8]=e[8]+n[8],t[9]=e[9]+n[9],t[10]=e[10]+n[10],t[11]=e[11]+n[11],t[12]=e[12]+n[12],t[13]=e[13]+n[13],t[14]=e[14]+n[14],t[15]=e[15]+n[15],t}function Gi(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t[4]=e[4]-n[4],t[5]=e[5]-n[5],t[6]=e[6]-n[6],t[7]=e[7]-n[7],t[8]=e[8]-n[8],t[9]=e[9]-n[9],t[10]=e[10]-n[10],t[11]=e[11]-n[11],t[12]=e[12]-n[12],t[13]=e[13]-n[13],t[14]=e[14]-n[14],t[15]=e[15]-n[15],t}function ji(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*n,t[9]=e[9]*n,t[10]=e[10]*n,t[11]=e[11]*n,t[12]=e[12]*n,t[13]=e[13]*n,t[14]=e[14]*n,t[15]=e[15]*n,t}function Li(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t[4]=e[4]+n[4]*r,t[5]=e[5]+n[5]*r,t[6]=e[6]+n[6]*r,t[7]=e[7]+n[7]*r,t[8]=e[8]+n[8]*r,t[9]=e[9]+n[9]*r,t[10]=e[10]+n[10]*r,t[11]=e[11]+n[11]*r,t[12]=e[12]+n[12]*r,t[13]=e[13]+n[13]*r,t[14]=e[14]+n[14]*r,t[15]=e[15]+n[15]*r,t}function Ui(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function Bi(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],u=t[5],s=t[6],c=t[7],f=t[8],l=t[9],h=t[10],d=t[11],p=t[12],v=t[13],m=t[14],y=t[15],g=e[0],b=e[1],_=e[2],x=e[3],w=e[4],E=e[5],S=e[6],T=e[7],A=e[8],I=e[9],k=e[10],O=e[11],D=e[12],R=e[13],M=e[14],C=e[15];return Math.abs(n-g)<=vo*Math.max(1,Math.abs(n),Math.abs(g))&&Math.abs(r-b)<=vo*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(o-_)<=vo*Math.max(1,Math.abs(o),Math.abs(_))&&Math.abs(i-x)<=vo*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(a-w)<=vo*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(u-E)<=vo*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(s-S)<=vo*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(c-T)<=vo*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(f-A)<=vo*Math.max(1,Math.abs(f),Math.abs(A))&&Math.abs(l-I)<=vo*Math.max(1,Math.abs(l),Math.abs(I))&&Math.abs(h-k)<=vo*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(d-O)<=vo*Math.max(1,Math.abs(d),Math.abs(O))&&Math.abs(p-D)<=vo*Math.max(1,Math.abs(p),Math.abs(D))&&Math.abs(v-R)<=vo*Math.max(1,Math.abs(v),Math.abs(R))&&Math.abs(m-M)<=vo*Math.max(1,Math.abs(m),Math.abs(M))&&Math.abs(y-C)<=vo*Math.max(1,Math.abs(y),Math.abs(C))}var Fi=ai,zi=Gi;function Vi(){var t=new mo(3);return mo!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function Wi(t){var e=new mo(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Xi(t){var e=t[0],n=t[1],r=t[2];return Math.hypot(e,n,r)}function Hi(t,e,n){var r=new mo(3);return r[0]=t,r[1]=e,r[2]=n,r}function qi(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Yi(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}function Ki(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}function Zi(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}function Qi(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t}function Ji(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t}function $i(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function ta(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function ea(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t}function na(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t}function ra(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function oa(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function ia(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}function aa(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return Math.hypot(n,r,o)}function ua(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2];return n*n+r*r+o*o}function sa(t){var e=t[0],n=t[1],r=t[2];return e*e+n*n+r*r}function ca(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function fa(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function la(t,e){var n=e[0],r=e[1],o=e[2],i=n*n+r*r+o*o;return i>0&&(i=1/Math.sqrt(i)),t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function ha(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function da(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],u=n[1],s=n[2];return t[0]=o*s-i*u,t[1]=i*a-r*s,t[2]=r*u-o*a,t}function pa(t,e,n,r){var o=e[0],i=e[1],a=e[2];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=a+r*(n[2]-a),t}function va(t,e,n,r,o,i){var a=i*i,u=a*(2*i-3)+1,s=a*(i-2)+i,c=a*(i-1),f=a*(3-2*i);return t[0]=e[0]*u+n[0]*s+r[0]*c+o[0]*f,t[1]=e[1]*u+n[1]*s+r[1]*c+o[1]*f,t[2]=e[2]*u+n[2]*s+r[2]*c+o[2]*f,t}function ma(t,e,n,r,o,i){var a=1-i,u=a*a,s=i*i,c=u*a,f=3*i*u,l=3*s*a,h=s*i;return t[0]=e[0]*c+n[0]*f+r[0]*l+o[0]*h,t[1]=e[1]*c+n[1]*f+r[1]*l+o[1]*h,t[2]=e[2]*c+n[2]*f+r[2]*l+o[2]*h,t}function ya(t,e){e=e||1;var n=2*yo()*Math.PI,r=2*yo()-1,o=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=r*e,t}function ga(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[3]*r+n[7]*o+n[11]*i+n[15];return a=a||1,t[0]=(n[0]*r+n[4]*o+n[8]*i+n[12])/a,t[1]=(n[1]*r+n[5]*o+n[9]*i+n[13])/a,t[2]=(n[2]*r+n[6]*o+n[10]*i+n[14])/a,t}function ba(t,e,n){var r=e[0],o=e[1],i=e[2];return t[0]=r*n[0]+o*n[3]+i*n[6],t[1]=r*n[1]+o*n[4]+i*n[7],t[2]=r*n[2]+o*n[5]+i*n[8],t}function _a(t,e,n){var r=n[0],o=n[1],i=n[2],a=n[3],u=e[0],s=e[1],c=e[2],f=o*c-i*s,l=i*u-r*c,h=r*s-o*u,d=o*h-i*l,p=i*f-r*h,v=r*l-o*f,m=2*a;return f*=m,l*=m,h*=m,d*=2,p*=2,v*=2,t[0]=u+f+d,t[1]=s+l+p,t[2]=c+h+v,t}function xa(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[0],i[1]=o[1]*Math.cos(r)-o[2]*Math.sin(r),i[2]=o[1]*Math.sin(r)+o[2]*Math.cos(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function wa(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[2]*Math.sin(r)+o[0]*Math.cos(r),i[1]=o[1],i[2]=o[2]*Math.cos(r)-o[0]*Math.sin(r),t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function Ea(t,e,n,r){var o=[],i=[];return o[0]=e[0]-n[0],o[1]=e[1]-n[1],o[2]=e[2]-n[2],i[0]=o[0]*Math.cos(r)-o[1]*Math.sin(r),i[1]=o[0]*Math.sin(r)+o[1]*Math.cos(r),i[2]=o[2],t[0]=i[0]+n[0],t[1]=i[1]+n[1],t[2]=i[2]+n[2],t}function Sa(t,e){var n=t[0],r=t[1],o=t[2],i=e[0],a=e[1],u=e[2],s=Math.sqrt(n*n+r*r+o*o)*Math.sqrt(i*i+a*a+u*u),c=s&&ha(t,e)/s;return Math.acos(Math.min(Math.max(c,-1),1))}function Ta(t){return t[0]=0,t[1]=0,t[2]=0,t}function Aa(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function Ia(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function ka(t,e){var n=t[0],r=t[1],o=t[2],i=e[0],a=e[1],u=e[2];return Math.abs(n-i)<=vo*Math.max(1,Math.abs(n),Math.abs(i))&&Math.abs(r-a)<=vo*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(o-u)<=vo*Math.max(1,Math.abs(o),Math.abs(u))}var Oa,Da=Zi,Ra=Qi,Ma=Ji,Ca=aa,Na=ua,Pa=Xi,Ga=sa,ja=(Oa=Vi(),function(t,e,n,r,o,i){var a,u;for(e||(e=3),n||(n=0),u=r?Math.min(r*e+n,t.length):t.length,a=n;a<u;a+=e)Oa[0]=t[a],Oa[1]=t[a+1],Oa[2]=t[a+2],o(Oa,Oa,i),t[a]=Oa[0],t[a+1]=Oa[1],t[a+2]=Oa[2];return t});function La(){var t=new mo(4);return mo!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Ua(t){var e=new mo(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function Ba(t,e,n,r){var o=new mo(4);return o[0]=t,o[1]=e,o[2]=n,o[3]=r,o}function Fa(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function za(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t}function Va(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t}function Wa(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function Xa(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function Ha(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function qa(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function Ya(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function Ka(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t}function Za(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t}function Qa(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function Ja(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function $a(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t}function tu(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],i=e[3]-t[3];return Math.hypot(n,r,o,i)}function eu(t,e){var n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],i=e[3]-t[3];return n*n+r*r+o*o+i*i}function nu(t){var e=t[0],n=t[1],r=t[2],o=t[3];return Math.hypot(e,n,r,o)}function ru(t){var e=t[0],n=t[1],r=t[2],o=t[3];return e*e+n*n+r*r+o*o}function ou(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function iu(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function au(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n*n+r*r+o*o+i*i;return a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=o*a,t[3]=i*a,t}function uu(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function su(t,e,n,r){var o=n[0]*r[1]-n[1]*r[0],i=n[0]*r[2]-n[2]*r[0],a=n[0]*r[3]-n[3]*r[0],u=n[1]*r[2]-n[2]*r[1],s=n[1]*r[3]-n[3]*r[1],c=n[2]*r[3]-n[3]*r[2],f=e[0],l=e[1],h=e[2],d=e[3];return t[0]=l*c-h*s+d*u,t[1]=-f*c+h*a-d*i,t[2]=f*s-l*a+d*o,t[3]=-f*u+l*i-h*o,t}function cu(t,e,n,r){var o=e[0],i=e[1],a=e[2],u=e[3];return t[0]=o+r*(n[0]-o),t[1]=i+r*(n[1]-i),t[2]=a+r*(n[2]-a),t[3]=u+r*(n[3]-u),t}function fu(t,e){var n,r,o,i,a,u;e=e||1;do{a=(n=2*yo()-1)*n+(r=2*yo()-1)*r}while(a>=1);do{u=(o=2*yo()-1)*o+(i=2*yo()-1)*i}while(u>=1);var s=Math.sqrt((1-a)/u);return t[0]=e*n,t[1]=e*r,t[2]=e*o*s,t[3]=e*i*s,t}function lu(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3];return t[0]=n[0]*r+n[4]*o+n[8]*i+n[12]*a,t[1]=n[1]*r+n[5]*o+n[9]*i+n[13]*a,t[2]=n[2]*r+n[6]*o+n[10]*i+n[14]*a,t[3]=n[3]*r+n[7]*o+n[11]*i+n[15]*a,t}function hu(t,e,n){var r=e[0],o=e[1],i=e[2],a=n[0],u=n[1],s=n[2],c=n[3],f=c*r+u*i-s*o,l=c*o+s*r-a*i,h=c*i+a*o-u*r,d=-a*r-u*o-s*i;return t[0]=f*c+d*-a+l*-s-h*-u,t[1]=l*c+d*-u+h*-a-f*-s,t[2]=h*c+d*-s+f*-u-l*-a,t[3]=e[3],t}function du(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function pu(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function vu(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function mu(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=e[0],u=e[1],s=e[2],c=e[3];return Math.abs(n-a)<=vo*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(r-u)<=vo*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(o-s)<=vo*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-c)<=vo*Math.max(1,Math.abs(i),Math.abs(c))}var yu=Wa,gu=Xa,bu=Ha,_u=tu,xu=eu,wu=nu,Eu=ru,Su=function(){var t=La();return function(e,n,r,o,i,a){var u,s;for(n||(n=4),r||(r=0),s=o?Math.min(o*n+r,e.length):e.length,u=r;u<s;u+=n)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],t[3]=e[u+3],i(t,t,a),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2],e[u+3]=t[3];return e}}();function Tu(){var t=new mo(4);return mo!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Au(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function Iu(t,e,n){n*=.5;var r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function ku(t,e){var n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>vo?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function Ou(t,e){var n=ds(t,e);return Math.acos(2*n*n-1)}function Du(t,e,n){var r=e[0],o=e[1],i=e[2],a=e[3],u=n[0],s=n[1],c=n[2],f=n[3];return t[0]=r*f+a*u+o*c-i*s,t[1]=o*f+a*s+i*u-r*c,t[2]=i*f+a*c+r*s-o*u,t[3]=a*f-r*u-o*s-i*c,t}function Ru(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+a*u,t[1]=o*s+i*u,t[2]=i*s-o*u,t[3]=a*s-r*u,t}function Mu(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s-i*u,t[1]=o*s+a*u,t[2]=i*s+r*u,t[3]=a*s-o*u,t}function Cu(t,e,n){n*=.5;var r=e[0],o=e[1],i=e[2],a=e[3],u=Math.sin(n),s=Math.cos(n);return t[0]=r*s+o*u,t[1]=o*s-r*u,t[2]=i*s+a*u,t[3]=a*s-i*u,t}function Nu(t,e){var n=e[0],r=e[1],o=e[2];return t[0]=n,t[1]=r,t[2]=o,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-o*o)),t}function Pu(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=Math.sqrt(n*n+r*r+o*o),u=Math.exp(i),s=a>0?u*Math.sin(a)/a:0;return t[0]=n*s,t[1]=r*s,t[2]=o*s,t[3]=u*Math.cos(a),t}function Gu(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=Math.sqrt(n*n+r*r+o*o),u=a>0?Math.atan2(a,i)/a:0;return t[0]=n*u,t[1]=r*u,t[2]=o*u,t[3]=.5*Math.log(n*n+r*r+o*o+i*i),t}function ju(t,e,n){return Gu(t,e),hs(t,t,n),Pu(t,t),t}function Lu(t,e,n,r){var o,i,a,u,s,c=e[0],f=e[1],l=e[2],h=e[3],d=n[0],p=n[1],v=n[2],m=n[3];return(i=c*d+f*p+l*v+h*m)<0&&(i=-i,d=-d,p=-p,v=-v,m=-m),1-i>vo?(o=Math.acos(i),a=Math.sin(o),u=Math.sin((1-r)*o)/a,s=Math.sin(r*o)/a):(u=1-r,s=r),t[0]=u*c+s*d,t[1]=u*f+s*p,t[2]=u*l+s*v,t[3]=u*h+s*m,t}function Uu(t){var e=yo(),n=yo(),r=yo(),o=Math.sqrt(1-e),i=Math.sqrt(e);return t[0]=o*Math.sin(2*Math.PI*n),t[1]=o*Math.cos(2*Math.PI*n),t[2]=i*Math.sin(2*Math.PI*r),t[3]=i*Math.cos(2*Math.PI*r),t}function Bu(t,e){var n=e[0],r=e[1],o=e[2],i=e[3],a=n*n+r*r+o*o+i*i,u=a?1/a:0;return t[0]=-n*u,t[1]=-r*u,t[2]=-o*u,t[3]=i*u,t}function Fu(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function zu(t,e){var n,r=e[0]+e[4]+e[8];if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var o=0;e[4]>e[0]&&(o=1),e[8]>e[3*o+o]&&(o=2);var i=(o+1)%3,a=(o+2)%3;n=Math.sqrt(e[3*o+o]-e[3*i+i]-e[3*a+a]+1),t[o]=.5*n,n=.5/n,t[3]=(e[3*i+a]-e[3*a+i])*n,t[i]=(e[3*i+o]+e[3*o+i])*n,t[a]=(e[3*a+o]+e[3*o+a])*n}return t}function Vu(t,e,n,r){var o=.5*Math.PI/180;e*=o,n*=o,r*=o;var i=Math.sin(e),a=Math.cos(e),u=Math.sin(n),s=Math.cos(n),c=Math.sin(r),f=Math.cos(r);return t[0]=i*s*f-a*u*c,t[1]=a*u*f+i*s*c,t[2]=a*s*c-i*u*f,t[3]=a*s*f+i*u*c,t}function Wu(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}var Xu,Hu,qu,Yu,Ku,Zu,Qu,Ju,$u,ts,es,ns,rs,os,is,as=Ua,us=Ba,ss=Fa,cs=za,fs=Va,ls=Du,hs=Ja,ds=uu,ps=cu,vs=nu,ms=vs,ys=ru,gs=ys,bs=au,_s=vu,xs=mu,ws=(Xu=Vi(),Hu=Hi(1,0,0),qu=Hi(0,1,0),function(t,e,n){var r=ha(e,n);return r<-.999999?(da(Xu,Hu,e),Pa(Xu)<1e-6&&da(Xu,qu,e),la(Xu,Xu),Iu(t,Xu,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(da(Xu,e,n),t[0]=Xu[0],t[1]=Xu[1],t[2]=Xu[2],t[3]=1+r,bs(t,t))}),Es=(Yu=Tu(),Ku=Tu(),function(t,e,n,r,o,i){return Lu(Yu,e,o,i),Lu(Ku,n,r,i),Lu(t,Yu,Ku,2*i*(1-i)),t}),Ss=(Zu=go(),function(t,e,n,r){return Zu[0]=n[0],Zu[3]=n[1],Zu[6]=n[2],Zu[1]=r[0],Zu[4]=r[1],Zu[7]=r[2],Zu[2]=-e[0],Zu[5]=-e[1],Zu[8]=-e[2],bs(t,zu(t,Zu))}),Ts=function(){function t(e,n){Er()(this,t),this.center=void 0,this.halfExtents=void 0,this.min=i.create(),this.max=i.create(),this.update(e,n)}return Tr()(t,[{key:"update",value:function(t,e){this.center=t||i.create(),this.halfExtents=e||i.fromValues(.5,.5,.5),this.min=i.sub(this.min,this.center,this.halfExtents),this.max=i.add(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(t,e){i.add(this.center,e,t),i.scale(this.center,this.center,.5),i.sub(this.halfExtents,e,t),i.scale(this.halfExtents,this.halfExtents,.5),i.copy(this.min,t),i.copy(this.max,e)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(t){var e=this.center,n=e[0],r=e[1],o=e[2],i=this.halfExtents,a=i[0],u=i[1],s=i[2],c=n-a,f=n+a,l=r-u,h=r+u,d=o-s,p=o+s,v=t.center,m=v[0],y=v[1],g=v[2],b=t.halfExtents,_=b[0],x=b[1],w=b[2],E=m-_,S=m+_,T=y-x,A=y+x,I=g-w,k=g+w;E<c&&(c=E),S>f&&(f=S),T<l&&(l=T),A>h&&(h=A),I<d&&(d=I),k>p&&(p=k),e[0]=.5*(c+f),e[1]=.5*(l+h),e[2]=.5*(d+p),i[0]=.5*(f-c),i[1]=.5*(h-l),i[2]=.5*(p-d),this.min[0]=c,this.min[1]=l,this.min[2]=d,this.max[0]=f,this.max[1]=h,this.max[2]=p}},{key:"intersects",value:function(t){var e=this.getMax(),n=this.getMin(),r=t.getMax(),o=t.getMin();return n[0]<=r[0]&&e[0]>=o[0]&&n[1]<=r[1]&&e[1]>=o[1]&&n[2]<=r[2]&&e[2]>=o[2]}},{key:"containsPoint",value:function(t){var e=this.getMin(),n=this.getMax();return!(t[0]<e[0]||t[0]>n[0]||t[1]<e[1]||t[1]>n[1]||t[2]<e[2]||t[2]>n[2])}},{key:"getNegativeFarPoint",value:function(t){return 273===t.pnVertexFlag?i.copy(i.create(),this.min):272===t.pnVertexFlag?i.fromValues(this.min[0],this.min[1],this.max[2]):257===t.pnVertexFlag?i.fromValues(this.min[0],this.max[1],this.min[2]):256===t.pnVertexFlag?i.fromValues(this.min[0],this.max[1],this.max[2]):17===t.pnVertexFlag?i.fromValues(this.max[0],this.min[1],this.min[2]):16===t.pnVertexFlag?i.fromValues(this.max[0],this.min[1],this.max[2]):1===t.pnVertexFlag?i.fromValues(this.max[0],this.max[1],this.min[2]):i.fromValues(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(t){return 273===t.pnVertexFlag?i.copy(i.create(),this.max):272===t.pnVertexFlag?i.fromValues(this.max[0],this.max[1],this.min[2]):257===t.pnVertexFlag?i.fromValues(this.max[0],this.min[1],this.max[2]):256===t.pnVertexFlag?i.fromValues(this.max[0],this.min[1],this.min[2]):17===t.pnVertexFlag?i.fromValues(this.min[0],this.max[1],this.max[2]):16===t.pnVertexFlag?i.fromValues(this.min[0],this.max[1],this.min[2]):1===t.pnVertexFlag?i.fromValues(this.min[0],this.min[1],this.max[2]):i.fromValues(this.min[0],this.min[1],this.min[2])}}]),t}();function As(t){for(var e=new Ts,n=i.fromValues(t[0],t[1],t[2]),r=i.fromValues(t[0],t[1],t[2]),o=3;o<t.length;){var a=t[o++],u=t[o++],s=t[o++];a<n[0]&&(n[0]=a),u<n[1]&&(n[1]=u),s<n[2]&&(n[2]=s),a>r[0]&&(r[0]=a),u>r[1]&&(r[1]=u),s>r[2]&&(r[2]=s)}return e.setMinMax(n,r),e}(Ju=Qu||(Qu={}))[Ju.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",Ju[Ju.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",Ju[Ju.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",Ju[Ju.POINTS=0]="POINTS",Ju[Ju.LINES=1]="LINES",Ju[Ju.LINE_LOOP=2]="LINE_LOOP",Ju[Ju.LINE_STRIP=3]="LINE_STRIP",Ju[Ju.TRIANGLES=4]="TRIANGLES",Ju[Ju.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",Ju[Ju.TRIANGLE_FAN=6]="TRIANGLE_FAN",Ju[Ju.ZERO=0]="ZERO",Ju[Ju.ONE=1]="ONE",Ju[Ju.SRC_COLOR=768]="SRC_COLOR",Ju[Ju.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",Ju[Ju.SRC_ALPHA=770]="SRC_ALPHA",Ju[Ju.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",Ju[Ju.DST_ALPHA=772]="DST_ALPHA",Ju[Ju.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",Ju[Ju.DST_COLOR=774]="DST_COLOR",Ju[Ju.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",Ju[Ju.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",Ju[Ju.FUNC_ADD=32774]="FUNC_ADD",Ju[Ju.BLEND_EQUATION=32777]="BLEND_EQUATION",Ju[Ju.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",Ju[Ju.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",Ju[Ju.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",Ju[Ju.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",Ju[Ju.MAX_EXT=32776]="MAX_EXT",Ju[Ju.MIN_EXT=32775]="MIN_EXT",Ju[Ju.BLEND_DST_RGB=32968]="BLEND_DST_RGB",Ju[Ju.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",Ju[Ju.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",Ju[Ju.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",Ju[Ju.CONSTANT_COLOR=32769]="CONSTANT_COLOR",Ju[Ju.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",Ju[Ju.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",Ju[Ju.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",Ju[Ju.BLEND_COLOR=32773]="BLEND_COLOR",Ju[Ju.ARRAY_BUFFER=34962]="ARRAY_BUFFER",Ju[Ju.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",Ju[Ju.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",Ju[Ju.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",Ju[Ju.STREAM_DRAW=35040]="STREAM_DRAW",Ju[Ju.STATIC_DRAW=35044]="STATIC_DRAW",Ju[Ju.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",Ju[Ju.BUFFER_SIZE=34660]="BUFFER_SIZE",Ju[Ju.BUFFER_USAGE=34661]="BUFFER_USAGE",Ju[Ju.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",Ju[Ju.FRONT=1028]="FRONT",Ju[Ju.BACK=1029]="BACK",Ju[Ju.FRONT_AND_BACK=1032]="FRONT_AND_BACK",Ju[Ju.CULL_FACE=2884]="CULL_FACE",Ju[Ju.BLEND=3042]="BLEND",Ju[Ju.DITHER=3024]="DITHER",Ju[Ju.STENCIL_TEST=2960]="STENCIL_TEST",Ju[Ju.DEPTH_TEST=2929]="DEPTH_TEST",Ju[Ju.SCISSOR_TEST=3089]="SCISSOR_TEST",Ju[Ju.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",Ju[Ju.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",Ju[Ju.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",Ju[Ju.NO_ERROR=0]="NO_ERROR",Ju[Ju.INVALID_ENUM=1280]="INVALID_ENUM",Ju[Ju.INVALID_VALUE=1281]="INVALID_VALUE",Ju[Ju.INVALID_OPERATION=1282]="INVALID_OPERATION",Ju[Ju.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",Ju[Ju.CW=2304]="CW",Ju[Ju.CCW=2305]="CCW",Ju[Ju.LINE_WIDTH=2849]="LINE_WIDTH",Ju[Ju.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",Ju[Ju.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",Ju[Ju.CULL_FACE_MODE=2885]="CULL_FACE_MODE",Ju[Ju.FRONT_FACE=2886]="FRONT_FACE",Ju[Ju.DEPTH_RANGE=2928]="DEPTH_RANGE",Ju[Ju.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",Ju[Ju.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",Ju[Ju.DEPTH_FUNC=2932]="DEPTH_FUNC",Ju[Ju.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",Ju[Ju.STENCIL_FUNC=2962]="STENCIL_FUNC",Ju[Ju.STENCIL_FAIL=2964]="STENCIL_FAIL",Ju[Ju.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",Ju[Ju.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",Ju[Ju.STENCIL_REF=2967]="STENCIL_REF",Ju[Ju.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",Ju[Ju.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",Ju[Ju.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",Ju[Ju.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",Ju[Ju.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",Ju[Ju.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",Ju[Ju.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",Ju[Ju.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",Ju[Ju.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",Ju[Ju.VIEWPORT=2978]="VIEWPORT",Ju[Ju.SCISSOR_BOX=3088]="SCISSOR_BOX",Ju[Ju.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",Ju[Ju.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",Ju[Ju.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",Ju[Ju.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",Ju[Ju.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",Ju[Ju.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",Ju[Ju.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",Ju[Ju.RED_BITS=3410]="RED_BITS",Ju[Ju.GREEN_BITS=3411]="GREEN_BITS",Ju[Ju.BLUE_BITS=3412]="BLUE_BITS",Ju[Ju.ALPHA_BITS=3413]="ALPHA_BITS",Ju[Ju.DEPTH_BITS=3414]="DEPTH_BITS",Ju[Ju.STENCIL_BITS=3415]="STENCIL_BITS",Ju[Ju.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",Ju[Ju.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",Ju[Ju.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",Ju[Ju.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",Ju[Ju.SAMPLES=32937]="SAMPLES",Ju[Ju.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",Ju[Ju.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",Ju[Ju.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",Ju[Ju.DONT_CARE=4352]="DONT_CARE",Ju[Ju.FASTEST=4353]="FASTEST",Ju[Ju.NICEST=4354]="NICEST",Ju[Ju.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",Ju[Ju.BYTE=5120]="BYTE",Ju[Ju.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",Ju[Ju.SHORT=5122]="SHORT",Ju[Ju.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",Ju[Ju.INT=5124]="INT",Ju[Ju.UNSIGNED_INT=5125]="UNSIGNED_INT",Ju[Ju.FLOAT=5126]="FLOAT",Ju[Ju.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",Ju[Ju.ALPHA=6406]="ALPHA",Ju[Ju.RGB=6407]="RGB",Ju[Ju.RGBA=6408]="RGBA",Ju[Ju.LUMINANCE=6409]="LUMINANCE",Ju[Ju.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",Ju[Ju.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",Ju[Ju.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",Ju[Ju.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",Ju[Ju.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",Ju[Ju.VERTEX_SHADER=35633]="VERTEX_SHADER",Ju[Ju.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",Ju[Ju.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",Ju[Ju.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",Ju[Ju.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",Ju[Ju.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",Ju[Ju.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",Ju[Ju.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",Ju[Ju.SHADER_TYPE=35663]="SHADER_TYPE",Ju[Ju.DELETE_STATUS=35712]="DELETE_STATUS",Ju[Ju.LINK_STATUS=35714]="LINK_STATUS",Ju[Ju.VALIDATE_STATUS=35715]="VALIDATE_STATUS",Ju[Ju.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",Ju[Ju.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",Ju[Ju.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",Ju[Ju.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",Ju[Ju.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",Ju[Ju.NEVER=512]="NEVER",Ju[Ju.LESS=513]="LESS",Ju[Ju.EQUAL=514]="EQUAL",Ju[Ju.LEQUAL=515]="LEQUAL",Ju[Ju.GREATER=516]="GREATER",Ju[Ju.NOTEQUAL=517]="NOTEQUAL",Ju[Ju.GEQUAL=518]="GEQUAL",Ju[Ju.ALWAYS=519]="ALWAYS",Ju[Ju.KEEP=7680]="KEEP",Ju[Ju.REPLACE=7681]="REPLACE",Ju[Ju.INCR=7682]="INCR",Ju[Ju.DECR=7683]="DECR",Ju[Ju.INVERT=5386]="INVERT",Ju[Ju.INCR_WRAP=34055]="INCR_WRAP",Ju[Ju.DECR_WRAP=34056]="DECR_WRAP",Ju[Ju.VENDOR=7936]="VENDOR",Ju[Ju.RENDERER=7937]="RENDERER",Ju[Ju.VERSION=7938]="VERSION",Ju[Ju.NEAREST=9728]="NEAREST",Ju[Ju.LINEAR=9729]="LINEAR",Ju[Ju.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",Ju[Ju.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",Ju[Ju.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",Ju[Ju.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",Ju[Ju.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",Ju[Ju.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",Ju[Ju.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",Ju[Ju.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",Ju[Ju.TEXTURE_2D=3553]="TEXTURE_2D",Ju[Ju.TEXTURE=5890]="TEXTURE",Ju[Ju.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",Ju[Ju.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",Ju[Ju.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",Ju[Ju.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",Ju[Ju.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",Ju[Ju.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",Ju[Ju.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",Ju[Ju.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",Ju[Ju.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",Ju[Ju.TEXTURE0=33984]="TEXTURE0",Ju[Ju.TEXTURE1=33985]="TEXTURE1",Ju[Ju.TEXTURE2=33986]="TEXTURE2",Ju[Ju.TEXTURE3=33987]="TEXTURE3",Ju[Ju.TEXTURE4=33988]="TEXTURE4",Ju[Ju.TEXTURE5=33989]="TEXTURE5",Ju[Ju.TEXTURE6=33990]="TEXTURE6",Ju[Ju.TEXTURE7=33991]="TEXTURE7",Ju[Ju.TEXTURE8=33992]="TEXTURE8",Ju[Ju.TEXTURE9=33993]="TEXTURE9",Ju[Ju.TEXTURE10=33994]="TEXTURE10",Ju[Ju.TEXTURE11=33995]="TEXTURE11",Ju[Ju.TEXTURE12=33996]="TEXTURE12",Ju[Ju.TEXTURE13=33997]="TEXTURE13",Ju[Ju.TEXTURE14=33998]="TEXTURE14",Ju[Ju.TEXTURE15=33999]="TEXTURE15",Ju[Ju.TEXTURE16=34e3]="TEXTURE16",Ju[Ju.TEXTURE17=34001]="TEXTURE17",Ju[Ju.TEXTURE18=34002]="TEXTURE18",Ju[Ju.TEXTURE19=34003]="TEXTURE19",Ju[Ju.TEXTURE20=34004]="TEXTURE20",Ju[Ju.TEXTURE21=34005]="TEXTURE21",Ju[Ju.TEXTURE22=34006]="TEXTURE22",Ju[Ju.TEXTURE23=34007]="TEXTURE23",Ju[Ju.TEXTURE24=34008]="TEXTURE24",Ju[Ju.TEXTURE25=34009]="TEXTURE25",Ju[Ju.TEXTURE26=34010]="TEXTURE26",Ju[Ju.TEXTURE27=34011]="TEXTURE27",Ju[Ju.TEXTURE28=34012]="TEXTURE28",Ju[Ju.TEXTURE29=34013]="TEXTURE29",Ju[Ju.TEXTURE30=34014]="TEXTURE30",Ju[Ju.TEXTURE31=34015]="TEXTURE31",Ju[Ju.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",Ju[Ju.REPEAT=10497]="REPEAT",Ju[Ju.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",Ju[Ju.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",Ju[Ju.FLOAT_VEC2=35664]="FLOAT_VEC2",Ju[Ju.FLOAT_VEC3=35665]="FLOAT_VEC3",Ju[Ju.FLOAT_VEC4=35666]="FLOAT_VEC4",Ju[Ju.INT_VEC2=35667]="INT_VEC2",Ju[Ju.INT_VEC3=35668]="INT_VEC3",Ju[Ju.INT_VEC4=35669]="INT_VEC4",Ju[Ju.BOOL=35670]="BOOL",Ju[Ju.BOOL_VEC2=35671]="BOOL_VEC2",Ju[Ju.BOOL_VEC3=35672]="BOOL_VEC3",Ju[Ju.BOOL_VEC4=35673]="BOOL_VEC4",Ju[Ju.FLOAT_MAT2=35674]="FLOAT_MAT2",Ju[Ju.FLOAT_MAT3=35675]="FLOAT_MAT3",Ju[Ju.FLOAT_MAT4=35676]="FLOAT_MAT4",Ju[Ju.SAMPLER_2D=35678]="SAMPLER_2D",Ju[Ju.SAMPLER_CUBE=35680]="SAMPLER_CUBE",Ju[Ju.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",Ju[Ju.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",Ju[Ju.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",Ju[Ju.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",Ju[Ju.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",Ju[Ju.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",Ju[Ju.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",Ju[Ju.COMPILE_STATUS=35713]="COMPILE_STATUS",Ju[Ju.LOW_FLOAT=36336]="LOW_FLOAT",Ju[Ju.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",Ju[Ju.HIGH_FLOAT=36338]="HIGH_FLOAT",Ju[Ju.LOW_INT=36339]="LOW_INT",Ju[Ju.MEDIUM_INT=36340]="MEDIUM_INT",Ju[Ju.HIGH_INT=36341]="HIGH_INT",Ju[Ju.FRAMEBUFFER=36160]="FRAMEBUFFER",Ju[Ju.RENDERBUFFER=36161]="RENDERBUFFER",Ju[Ju.RGBA4=32854]="RGBA4",Ju[Ju.RGB5_A1=32855]="RGB5_A1",Ju[Ju.RGB565=36194]="RGB565",Ju[Ju.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",Ju[Ju.STENCIL_INDEX=6401]="STENCIL_INDEX",Ju[Ju.STENCIL_INDEX8=36168]="STENCIL_INDEX8",Ju[Ju.DEPTH_STENCIL=34041]="DEPTH_STENCIL",Ju[Ju.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",Ju[Ju.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",Ju[Ju.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",Ju[Ju.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",Ju[Ju.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",Ju[Ju.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",Ju[Ju.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",Ju[Ju.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",Ju[Ju.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",Ju[Ju.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",Ju[Ju.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",Ju[Ju.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",Ju[Ju.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",Ju[Ju.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",Ju[Ju.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",Ju[Ju.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",Ju[Ju.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",Ju[Ju.NONE=0]="NONE",Ju[Ju.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",Ju[Ju.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",Ju[Ju.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",Ju[Ju.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",Ju[Ju.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",Ju[Ju.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",Ju[Ju.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",Ju[Ju.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",Ju[Ju.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",Ju[Ju.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",Ju[Ju.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",Ju[Ju.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",Ju[Ju.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",Ju[Ju.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",Ju[Ju.COPY_SRC=1]="COPY_SRC",Ju[Ju.COPY_DST=2]="COPY_DST",Ju[Ju.SAMPLED=4]="SAMPLED",Ju[Ju.STORAGE=8]="STORAGE",Ju[Ju.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT";var Is=($u=Object(Lr.injectable)(),ts=Object(Lr.inject)(Ur.GeometryComponentManager),es=Object(Lr.inject)(Ur.RenderEngine),$u((rs=function(){function t(){Er()(this,t),xr()(this,"geometry",os,this),xr()(this,"engine",is,this)}var e;return Tr()(t,[{key:"execute",value:(e=Rr()(Or.a.mark((function t(){var e=this;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.geometry.forEach((function(t,n){n.dirty&&(n.attributes.forEach((function(t){var n;t.dirty&&t.data&&(t.buffer?null===(n=t.buffer)||void 0===n||n.subData({data:t.data,offset:0}):t.buffer=e.engine.createBuffer({data:t.data,type:Qu.FLOAT}),t.dirty=!1)})),n.indices&&(n.indicesBuffer?n.indicesBuffer.subData({data:n.indices,offset:0}):n.indicesBuffer=e.engine.createElements({data:n.indices,count:n.indices.length,type:Qu.UNSIGNED_INT,usage:Qu.STATIC_DRAW})),n.dirty=!1)}));case 1:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"tearDown",value:function(){this.geometry.forEach((function(t,e){e.indicesBuffer&&e.indicesBuffer.destroy(),e.attributes.forEach((function(t){t.buffer&&t.buffer.destroy()}))})),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{vertexCount:3},e=t.vertexCount,n=Cr();return this.geometry.create(n,{vertexCount:e})}},{key:"createInstancedBufferGeometry",value:function(t){var e=t.maxInstancedCount,n=t.vertexCount,r=Cr();return this.geometry.create(r,{maxInstancedCount:e,vertexCount:n})}},{key:"createBox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.widthSegments||1,n=t.heightSegments||1,r=t.depthSegments||1,o=t.halfExtents||i.fromValues(.5,.5,.5),a=jr()(o,3),u=a[0],s=a[1],c=a[2],f=[i.fromValues(-u,-s,c),i.fromValues(u,-s,c),i.fromValues(u,s,c),i.fromValues(-u,s,c),i.fromValues(u,-s,-c),i.fromValues(-u,-s,-c),i.fromValues(-u,s,-c),i.fromValues(u,s,-c)],l=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],h=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],d={FRONT:0,BACK:1,TOP:2,BOTTOM:3,RIGHT:4,LEFT:5},p=[],v=[],m=[],y=[],g=[],b=0,_=function(t,e,n){var r,o,a,u;for(a=0;a<=e;a++)for(u=0;u<=n;u++){var s=i.create(),c=i.create(),d=i.create(),_=i.create();i.lerp(s,f[l[t][0]],f[l[t][1]],a/e),i.lerp(c,f[l[t][0]],f[l[t][2]],u/n),i.sub(d,c,f[l[t][0]]),i.add(_,s,d),r=a/e,o=u/n,p.push(_[0],_[1],_[2]),v.push(h[t][0],h[t][1],h[t][2]),m.push(r,o),r=.875*(r/=3)+4/64,o=.875*(o/=3)+4/64,r+=t%3/3,o+=Math.floor(t/3)/3,y.push(r,o),a<e&&u<n&&(g.push(b+n+1,b+1,b),g.push(b+n+1,b+n+2,b+1)),b++}};_(d.FRONT,e,n),_(d.BACK,e,n),_(d.TOP,e,r),_(d.BOTTOM,e,r),_(d.RIGHT,r,n),_(d.LEFT,r,n);var x=As(p),w=Cr();return this.geometry.create(w,{indices:Uint32Array.from(g),aabb:x,attributes:[{dirty:!0,name:"position",data:Float32Array.from(p),arrayStride:12,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]}]})}}]),t}(),os=Ir()(rs.prototype,"geometry",[ts],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),is=Ir()(rs.prototype,"engine",[es],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ns=rs))||ns);n(169);function ks(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}var Os,Ds,Rs,Ms,Cs,Ns,Ps,Gs,js,Ls=function(t){Wr()(n,t);var e=ks(n);function n(t){var r;return Er()(this,n),(r=e.call(this,t)).vertexShaderGLSL=void 0,r.fragmentShaderGLSL=void 0,r.dirty=!0,r.uniforms=[],r.cull={enable:!0,face:Qu.BACK},r.depth={enable:!0},r.blend=void 0,Object.assign(co()(r),t),r}return Tr()(n,[{key:"setCull",value:function(t){return this.cull=t,this}},{key:"setDepth",value:function(t){return this.depth=t,this}},{key:"setBlend",value:function(t){return this.blend=t,this}},{key:"setUniform",value:function(t,e){var n=this;if("string"!=typeof t)return Object.keys(t).forEach((function(e){return n.setUniform(e,t[e])})),this;var r=this.uniforms.find((function(e){return e.name===t}));return r?(r.dirty=!0,r.data=e):this.uniforms.push({name:t,dirty:!0,data:e}),this.dirty=!0,this}}]),n}(Nr);function Us(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Us(Object(n),!0).forEach((function(e){uo()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Us(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Fs,zs=(Os=Object(Lr.injectable)(),Ds=Object(Lr.inject)(Ur.MaterialComponentManager),Rs=Object(Lr.inject)(Ur.RenderEngine),Ms=Object(Lr.inject)(Ur.ShaderModuleService),Os((Ns=function(){function t(){Er()(this,t),xr()(this,"material",Ps,this),xr()(this,"engine",Gs,this),xr()(this,"shaderModule",js,this)}var e;return Tr()(t,[{key:"execute",value:(e=Rr()(Or.a.mark((function t(){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(this.material.map(function(){var t=Rr()(Or.a.mark((function t(e,n){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 2:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"tearDown",value:function(){this.material.clear()}},{key:"createBasicMaterial",value:function(){var t=Cr();return this.material.create(t,{vertexShaderGLSL:this.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform Uniforms {\\n  vec4 color;\\n  mat4 projectionMatrix;\\n  mat4 modelViewMatrix;\\n} uniforms;\\n\\nlayout(location = 0) in vec3 position;\\n// layout(location = 1) in vec3 barycentric;\\n\\nlayout(location = 0) out vec4 fragColor;\\n// layout(location = 1) out vec3 v_Barycentric;\\n\\nvoid main() {\\n  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);\\n  fragColor = uniforms.color;\\n  // v_Barycentric = barycentric;\\n}":"attribute vec3 position;\\n\\nuniform mat4 projectionMatrix;\\nuniform mat4 modelViewMatrix;\\nuniform vec4 color;\\n\\nvarying vec4 fragColor;\\n\\nvoid main() {\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n  fragColor = color;\\n}",fragmentShaderGLSL:this.engine.supportWebGPU?"// layout(set = 0, binding = 1) uniform WireframeUniforms {\\n//   float lineWidth;\\n//   vec4 lineColor;\\n// } wireframe;\\n\\nlayout(location = 0) in vec4 fragColor;\\n// layout(location = 1) in vec3 v_Barycentric;\\n\\nlayout(location = 0) out vec4 outColor;\\n\\n// wireframe\\n// float edgeFactor() {\\n//   vec3 d = fwidth(v_Barycentric);\\n//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);\\n//   return min(min(a3.x, a3.y), a3.z);\\n// }\\n\\nvoid main() {\\n  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));\\n  outColor = fragColor;\\n}":"varying vec4 fragColor;\\n\\nvoid main() {\\n  gl_FragColor = fragColor;\\n}"})}},{key:"createShaderMaterial",value:function(t){var e=Cr(),n=t.vertexShader,r=t.fragmentShader,o=[];if(!this.engine.supportWebGPU){var i="material-".concat(e);this.shaderModule.registerModule(i,{vs:t.vertexShader,fs:t.fragmentShader});var a=this.shaderModule.getModule(i);n=a.vs,r=a.fs,a.uniforms&&(o=Object.keys(a.uniforms).map((function(t){return{dirty:!0,name:t,data:a.uniforms[t]}})))}return this.material.create(e,Bs(Bs({vertexShaderGLSL:n,fragmentShaderGLSL:r},t),{},{uniforms:o}))}}]),t}(),Ps=Ir()(Ns.prototype,"material",[Ds],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gs=Ir()(Ns.prototype,"engine",[Rs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),js=Ir()(Ns.prototype,"shaderModule",[Ms],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cs=Ns))||Cs);function Vs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}!function(t){t[t.Standard=0]="Standard"}(Fs||(Fs={}));var Ws=function(t){Wr()(n,t);var e=Vs(n);function n(t){var r;return Er()(this,n),(r=e.call(this,t)).strategy=Fs.Standard,r.visibilityPlaneMask=0,r.visible=!1,Object.assign(co()(r),t),r}return n}(Nr);n(170);function Xs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}var Hs,qs=function(t){Wr()(n,t);var e=Xs(n);function n(t){var r;return Er()(this,n),(r=e.call(this,t)).material=void 0,r.geometry=void 0,r.aabb=new Ts,r.aabbDirty=!0,r.model=void 0,r.visible=!0,Object.assign(co()(r),t),r}return n}(Nr),Ys=function(){function t(e,n){Er()(this,t),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=e||0,this.normal=n||i.fromValues(0,1,0),this.updatePNVertexFlag()}return Tr()(t,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(t){return i.dot(t,this.normal)-this.distance}},{key:"normalize",value:function(){var t=1/i.len(this.normal);i.scale(this.normal,this.normal,t),this.distance*=t}},{key:"intersectsLine",value:function(t,e,n){var r=this.distanceToPoint(t),o=r/(r-this.distanceToPoint(e)),a=o>=0&&o<=1;return a&&n&&i.lerp(n,t,e,o),a}}]),t}();!function(t){t[t.OUTSIDE=4294967295]="OUTSIDE",t[t.INSIDE=0]="INSIDE",t[t.INDETERMINATE=2147483647]="INDETERMINATE"}(Hs||(Hs={}));var Ks,Zs,Qs,Js,$s,tc,ec,nc,rc,oc,ic,ac,uc,sc=function(){function t(e){if(Er()(this,t),this.planes=[],e)this.planes=e;else for(var n=0;n<6;n++)this.planes.push(new Ys)}return Tr()(t,[{key:"extractFromVPMatrix",value:function(t){var e=jr()(t,16),n=e[0],r=e[1],o=e[2],a=e[3],u=e[4],s=e[5],c=e[6],f=e[7],l=e[8],h=e[9],d=e[10],p=e[11],v=e[12],m=e[13],y=e[14],g=e[15];i.set(this.planes[0].normal,a-n,f-u,p-l),this.planes[0].distance=-(g-v),i.set(this.planes[1].normal,a+n,f+u,p+l),this.planes[1].distance=-(g+v),i.set(this.planes[2].normal,a+r,f+s,p+h),this.planes[2].distance=-(g+m),i.set(this.planes[3].normal,a-r,f-s,p-h),this.planes[3].distance=-(g-m),i.set(this.planes[4].normal,a-o,f-c,p-d),this.planes[4].distance=-(g-y),i.set(this.planes[5].normal,a+o,f+c,p+d),this.planes[5].distance=-(g+y),this.planes.forEach((function(t){t.normalize(),t.updatePNVertexFlag()}))}}]),t}(),cc=n(35),fc=n.n(cc);function lc(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return hc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function hc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var dc,pc,vc,mc,yc,gc,bc,_c,xc,wc,Ec,Sc,Tc,Ac,Ic,kc,Oc,Dc,Rc,Mc,Cc,Nc,Pc,Gc,jc=(Ks=Object(Lr.injectable)(),Zs=Object(Lr.inject)(Ur.MeshComponentManager),Qs=Object(Lr.inject)(Ur.CullableComponentManager),Js=Object(Lr.inject)(Ur.GeometryComponentManager),$s=Object(Lr.inject)(Ur.HierarchyComponentManager),tc=Object(Lr.inject)(Ur.TransformComponentManager),Ks((nc=function(){function t(){Er()(this,t),xr()(this,"mesh",rc,this),xr()(this,"cullable",oc,this),xr()(this,"geometry",ic,this),xr()(this,"hierarchy",ac,this),xr()(this,"transform",uc,this),this.planes=void 0}var e;return Tr()(t,[{key:"setFrustumPlanes",value:function(t){this.planes=t}},{key:"execute",value:(e=Rr()(Or.a.mark((function t(e){var n,o,a,u=this;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=lc(e);try{for(a=function(){var t=o.value,e=(t.getScene(),t.getCamera());u.mesh.forEach((function(t,n){var o,a,s=u.hierarchy.getComponentByEntity(t),c=u.cullable.getComponentByEntity(t),f=n.geometry,l=u.transform.getComponentByEntity(t);if(f&&f.aabb&&l&&n.aabbDirty){var h=l.worldTransform,d=f.aabb,p=d.center,v=d.halfExtents,m=i.transformMat4(i.create(),p,h),y=(o=h,(a=r.create())[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[4],a[4]=o[5],a[5]=o[6],a[6]=o[8],a[7]=o[9],a[8]=o[10],a),g=i.transformMat3(i.create(),v,y);n.aabb.update(m,g),n.aabbDirty=!1}if(c&&f){var b=u.cullable.getComponentByEntity((null==s?void 0:s.parentID)||-1);c.visibilityPlaneMask=u.computeVisibilityWithPlaneMask(n.aabb,(null==b?void 0:b.visibilityPlaneMask)||Hs.INDETERMINATE,u.planes||e.getFrustum().planes),c.visible=c.visibilityPlaneMask!==Hs.OUTSIDE}}))},n.s();!(o=n.n()).done;)a()}catch(t){n.e(t)}finally{n.f()}case 2:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)})},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(t,e,n){if(e===Hs.OUTSIDE||e===Hs.INSIDE)return e;for(var r=Hs.INSIDE,o=0,a=n.length;o<a;++o){var u=o<31?1<<o:0;if(!(o<31&&0==(e&u))){var s=n[o],c=s.normal,f=s.distance;if(i.dot(c,t.getNegativeFarPoint(n[o]))+f>0)return Hs.OUTSIDE;i.dot(c,t.getPositiveFarPoint(n[o]))+f>0&&(r|=u)}}return r}}]),t}(),rc=Ir()(nc.prototype,"mesh",[Zs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oc=Ir()(nc.prototype,"cullable",[Qs],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ic=Ir()(nc.prototype,"geometry",[Js],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ac=Ir()(nc.prototype,"hierarchy",[$s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uc=Ir()(nc.prototype,"transform",[tc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ec=nc))||ec);function Lc(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Uc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Uc(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Uc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Bc,Fc,zc,Vc,Wc,Xc,Hc,qc,Yc,Kc,Zc,Qc,Jc,$c,tf,ef,nf,rf,of,af,uf,sf,cf=(dc=Object(Lr.injectable)(),pc=Object(Lr.inject)(Ur.MeshComponentManager),vc=Object(Lr.inject)(Ur.GeometryComponentManager),mc=Object(Lr.inject)(Ur.MaterialComponentManager),yc=Object(Lr.inject)(Ur.CullableComponentManager),gc=Object(Lr.inject)(Ur.TransformComponentManager),bc=Object(Lr.inject)(Ur.HierarchyComponentManager),_c=Object(Lr.inject)(Ur.Systems),xc=Object(Lr.named)(Ur.FrameGraphSystem),wc=Object(Lr.inject)(Ur.RenderEngine),Ec=Object(Lr.inject)(Ur.ResourcePool),dc((Gc=Pc=function(){function t(){var e=this;Er()(this,t),xr()(this,"mesh",Ac,this),xr()(this,"geometry",Ic,this),xr()(this,"material",kc,this),xr()(this,"cullable",Oc,this),xr()(this,"transform",Dc,this),xr()(this,"hierarchy",Rc,this),xr()(this,"frameGraphSystem",Mc,this),xr()(this,"engine",Cc,this),xr()(this,"resourcePool",Nc,this),this.setup=function(t,e,n){var r=t.createRenderTarget(e,"color buffer",{width:1,height:1,usage:Qu.RENDER_ATTACHMENT|Qu.SAMPLED|Qu.COPY_SRC});n.data={output:e.write(t,r)}},this.execute=function(){var t=Rr()(Or.a.mark((function t(n,r,o){var i,a,u,s,c,f;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.getResourceNode(r.data.output),a=e.resourcePool.getOrCreateResource(i.resource),u=Lc(o),t.prev=3,u.s();case 5:if((s=u.n()).done){t.next=11;break}return c=s.value,t.next=9,e.initView(c);case 9:t.next=5;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),u.e(t.t0);case 16:return t.prev=16,u.f(),t.finish(16);case 19:f=e.engine.getCanvas(),a.resize({width:f.width,height:f.height}),e.engine.setScissor({enable:!1}),e.engine.clear({framebuffer:a,color:o[0].getClearColor(),depth:1}),e.engine.useFramebuffer(a,(function(){var t,n=Lc(o);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.renderView(r)}}catch(t){n.e(t)}finally{n.f()}}));case 24:case"end":return t.stop()}}),t,null,[[3,13,16,19]])})));return function(e,n,r){return t.apply(this,arguments)}}()}var e,n;return Tr()(t,[{key:"renderView",value:function(t){var e=t.getScene(),n=t.getCamera(),r=n.getViewTransform(),i=o.multiply(o.create(),n.getPerspective(),r);n.getFrustum().extractFromVPMatrix(i);var a=t.getViewport(),u=a.x,s=a.y,c=a.width,f=a.height;this.engine.viewport({x:u,y:s,width:c,height:f});var l,h=Lc(e.getEntities());try{for(h.s();!(l=h.n()).done;){var d=l.value;this.renderMesh(d,{camera:n,view:t,viewMatrix:r})}}catch(t){h.e(t)}finally{h.f()}}},{key:"renderMesh",value:function(t,e){var n=this,r=e.camera,i=e.view,a=e.viewMatrix,u=this.mesh.getComponentByEntity(t);if(u.visible){this.hierarchy.forEach((function(e,o){o.parentID===t&&n.renderMesh(e,{camera:r,view:i,viewMatrix:a})}));var s=u.material,c=u.geometry;if(c&&!c.dirty&&s){var f=this.transform.getComponentByEntity(t),l=o.multiply(o.create(),a,f.worldTransform),h=i.getViewport(),d=h.width,p=h.height;s.setUniform({projectionMatrix:r.getPerspective(),modelViewMatrix:l,modelMatrix:f.worldTransform,viewMatrix:a,cameraPosition:r.getPosition(),u_viewport:[d,p]}),u.model&&(u.model.draw({uniforms:s.uniforms.reduce((function(t,e){return t[e.name]=e.data,t}),{})}),s.uniforms.forEach((function(t){t.dirty=!1})),s.dirty=!1)}}}},{key:"initMesh",value:(n=Rr()(Or.a.mark((function t(e,n){var r,o,i,a,u,s,c,f=this;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.mesh.getComponentByEntity(e)){t.next=3;break}return t.abrupt("return");case 3:return o=r.material,i=r.geometry,t.next=7,this.hierarchy.forEachAsync(function(){var t=Rr()(Or.a.mark((function t(r,o){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.parentID!==e){t.next=4;break}return t.next=4,f.initMesh(r,n);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());case 7:if(i&&!i.dirty&&o){t.next=9;break}return t.abrupt("return");case 9:if(r.model){t.next=21;break}return o.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),a=this.engine,u=a.createModel,s=a.createAttribute,c={vs:o.vertexShaderGLSL,fs:o.fragmentShaderGLSL,attributes:i.attributes.reduce((function(t,e){return e.data&&e.buffer&&(t[e.name]=s({buffer:e.buffer,attributes:e.attributes,arrayStride:e.arrayStride,stepMode:e.stepMode,divisor:"vertex"===e.stepMode?0:1})),t}),{}),uniforms:o.uniforms.reduce((function(t,e){return t[e.name]=e.data,t}),{}),scissor:{enable:!0,box:function(){return n.getViewport()}}},o.cull&&(c.cull=o.cull),o.depth&&(c.depth=o.depth),o.blend&&(c.blend=o.blend),i.indicesBuffer&&(c.elements=i.indicesBuffer),i.maxInstancedCount&&(c.instances=i.maxInstancedCount,c.count=i.vertexCount||3),t.next=20,u(c);case 20:r.model=t.sent;case 21:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"initView",value:(e=Rr()(Or.a.mark((function t(e){var n,r,o,i;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.getScene(),r=Lc(n.getEntities()),t.prev=2,r.s();case 4:if((o=r.n()).done){t.next=10;break}return i=o.value,t.next=8,this.initMesh(i,e);case 8:t.next=4;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),r.e(t.t0);case 15:return t.prev=15,r.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[2,12,15,18]])}))),function(t){return e.apply(this,arguments)})}]),t}(),Pc.IDENTIFIER="Render Pass",Tc=Gc,Ac=Ir()(Tc.prototype,"mesh",[pc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ic=Ir()(Tc.prototype,"geometry",[vc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kc=Ir()(Tc.prototype,"material",[mc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oc=Ir()(Tc.prototype,"cullable",[yc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dc=Ir()(Tc.prototype,"transform",[gc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rc=Ir()(Tc.prototype,"hierarchy",[bc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Mc=Ir()(Tc.prototype,"frameGraphSystem",[_c,xc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cc=Ir()(Tc.prototype,"engine",[wc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nc=Ir()(Tc.prototype,"resourcePool",[Ec],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sc=Tc))||Sc),ff=(Bc=Object(Lr.injectable)(),Fc=Object(Lr.inject)(Ur.RenderEngine),zc=Object(Lr.inject)(Ur.ResourcePool),Bc((Yc=qc=function t(){var e=this;Er()(this,t),xr()(this,"engine",Xc,this),xr()(this,"resourcePool",Hc,this),this.model=void 0,this.setup=function(t,e,n){var r=t.getPass(cf.IDENTIFIER);if(r){var o=t.createRenderTarget(e,"render to screen",{width:1,height:1});n.data={input:e.read(r.data.output),output:e.write(t,o)}}},this.execute=function(){var t=Rr()(Or.a.mark((function t(n,r){var o,i,a,u,s,c,f;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.engine,i=o.createModel,a=o.createAttribute,u=o.createBuffer,e.model){t.next=6;break}return t.next=4,i({vs:e.engine.supportWebGPU?"layout(location = 0) in vec2 a_Position;\\nlayout(location = 0) out vec2 v_UV;\\n\\nvoid main() {\\n  v_UV = 0.5 * (a_Position + 1.0);\\n  gl_Position = vec4(a_Position, 0., 1.);\\n}":"attribute vec2 a_Position;\\n\\nvarying vec2 v_UV;\\n\\nvoid main() {\\n  v_UV = 0.5 * (a_Position + 1.0);\\n  gl_Position = vec4(a_Position, 0., 1.);\\n}",fs:e.engine.supportWebGPU?"layout(set = 0, binding = 0) uniform sampler u_TextureSampler;\\nlayout(set = 0, binding = 1) uniform texture2D u_Texture;\\n\\nlayout(location = 0) in vec2 v_UV;\\nlayout(location = 0) out vec4 outColor;\\n\\nvoid main() {\\n  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);\\n}":"varying vec2 v_UV;\\n\\nuniform sampler2D u_Texture;\\n\\nvoid main() {\\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\\n}",attributes:{a_Position:a({buffer:u({data:[-4,-4,4,-4,0,4],type:Qu.FLOAT}),size:2,arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:s=t.sent,e.model=s;case 6:c=n.getResourceNode(r.data.input),f=e.resourcePool.getOrCreateResource(c.resource),e.engine.useFramebuffer(null,(function(){e.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),e.model.draw({uniforms:{u_Texture:f}})}));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),this.tearDown=function(){e.model=void 0}},qc.IDENTIFIER="Copy Pass",Wc=Yc,Xc=Ir()(Wc.prototype,"engine",[Fc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hc=Ir()(Wc.prototype,"resourcePool",[zc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vc=Wc))||Vc);function lf(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return hf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hf(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function hf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var df,pf,vf,mf,yf,gf,bf,_f,xf,wf,Ef,Sf,Tf=1,Af=2,If=(Kc=Object(Lr.injectable)(),Zc=Object(Lr.inject)(Ur.RenderEngine),Qc=Object(Lr.inject)(Ur.ResourcePool),Jc=Object(Lr.inject)(Ur.RenderPassFactory),$c=Object(Lr.inject)(Ur.MeshComponentManager),Kc((sf=uf=function(){function t(){var e=this;Er()(this,t),xr()(this,"engine",nf,this),xr()(this,"resourcePool",rf,this),xr()(this,"renderPassFactory",of,this),xr()(this,"mesh",af,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(t,e,n){var r=t.createRenderTarget(e,"picking fbo",{width:1,height:1});n.data={output:e.write(t,r)},e.hasSideEffect=!0},this.execute=function(){var t=Rr()(Or.a.mark((function t(n,r,o){var i,a,u;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.views=o,!e.alreadyInRendering){t.next=3;break}return t.abrupt("return");case 3:i=lf(o);try{for(u=function(){var t=a.value,o=t.getViewport(),i=o.width,u=o.height;e.alreadyInRendering=!0;var s=n.getResourceNode(r.data.output);e.pickingFBO=e.resourcePool.getOrCreateResource(s.resource),e.pickingFBO.resize({width:i,height:u}),e.engine.useFramebuffer(e.pickingFBO,(function(){e.engine.clear({framebuffer:e.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var n,r=e.renderPassFactory(cf.IDENTIFIER),o=[],i=lf(t.getScene().getEntities());try{for(i.s();!(n=i.n()).done;){var a=n.value,u=e.mesh.getComponentByEntity(a);u.material.setUniform("u_PickingStage",Tf),o.push(u)}}catch(t){i.e(t)}finally{i.f()}r.renderView(t),o.forEach((function(t){t.material.setUniform("u_PickingStage",Af)})),e.alreadyInRendering=!1}))},i.s();!(a=i.n()).done;)u()}catch(t){i.e(t)}finally{i.f()}case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),this.pick=function(t,n){var r,o,i=t.x,a=t.y,u=e.engine,s=u.readPixels,c=u.useFramebuffer,f=n.getViewport(),l=f.width,h=f.height,d=i*window.devicePixelRatio,p=a*window.devicePixelRatio;if(!(d>l||d<0||p>h||p<0))return c(e.pickingFBO,(function(){var t,i;0===(r=s({x:Math.round(d),y:Math.round(h-(a+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(4),framebuffer:e.pickingFBO}))[0]&&0===r[1]&&0===r[2]||(t=r,i=jr()(t,3),o=i[0]+256*i[1]+65536*i[2]-1,e.highlightEnabled&&e.highlightPickedFeature(r,n))})),o}}return Tr()(t,[{key:"enableHighlight",value:function(t){this.highlightEnabled=t}},{key:"setHighlightColor",value:function(t){this.highlightColor=t}},{key:"highlightPickedFeature",value:function(t,e){if(t){var n,r=lf(e.getScene().getEntities());try{for(r.s();!(n=r.n()).done;){var o=n.value,i=this.mesh.getComponentByEntity(o).material;i.setUniform("u_PickingStage",Af),i.setUniform("u_PickingColor",[t[0],t[1],t[2]]),i.setUniform("u_HighlightColor",this.highlightColor)}}catch(t){r.e(t)}finally{r.f()}}}}]),t}(),uf.IDENTIFIER="PixelPicking Pass",ef=sf,nf=Ir()(ef.prototype,"engine",[Zc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rf=Ir()(ef.prototype,"resourcePool",[Qc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),of=Ir()(ef.prototype,"renderPassFactory",[Jc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),af=Ir()(ef.prototype,"mesh",[$c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tf=ef))||tf),kf=(df=Object(Lr.injectable)(),pf=Object(Lr.inject)(Ur.Systems),vf=Object(Lr.named)(Ur.FrameGraphSystem),mf=Object(Lr.inject)(Ur.RenderPassFactory),yf=Object(Lr.inject)(Ur.ConfigService),gf=Object(Lr.inject)(Ur.ResourcePool),df((_f=function(){function t(){Er()(this,t),xr()(this,"frameGraphSystem",xf,this),xr()(this,"renderPassFactory",wf,this),xr()(this,"configService",Ef,this),xr()(this,"resourcePool",Sf,this)}var e;return Tr()(t,[{key:"execute",value:(e=Rr()(Or.a.mark((function t(e){var n,r,o,i,a,u,s,c;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=this.renderPassFactory(cf.IDENTIFIER),r=n.setup,o=n.execute,this.frameGraphSystem.addPass(cf.IDENTIFIER,r,o),i=this.renderPassFactory(ff.IDENTIFIER),a=i.setup,u=i.execute,s=i.tearDown,c=this.frameGraphSystem.addPass(ff.IDENTIFIER,a,u,s),this.frameGraphSystem.present(c.data.output);case 5:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(t,e){return this.renderPassFactory(If.IDENTIFIER).pick(t,e)}}]),t}(),xf=Ir()(_f.prototype,"frameGraphSystem",[pf,vf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wf=Ir()(_f.prototype,"renderPassFactory",[mf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ef=Ir()(_f.prototype,"configService",[yf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Sf=Ir()(_f.prototype,"resourcePool",[gf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bf=_f))||bf);function Of(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}var Df,Rf,Mf,Cf,Nf,Pf,Gf,jf,Lf,Uf=function(t){Wr()(n,t);var e=Of(n);function n(t){var r;return Er()(this,n),(r=e.call(this,t)).parentID=void 0,Object.assign(co()(r),t),r}return n}(Nr),Bf=(Df=Object(Lr.injectable)(),Rf=Object(Lr.inject)(Ur.HierarchyComponentManager),Mf=Object(Lr.inject)(Ur.TransformComponentManager),Cf=Object(Lr.inject)(Ur.MeshComponentManager),Df((Pf=function(){function t(){Er()(this,t),xr()(this,"hierarchy",Gf,this),xr()(this,"transform",jf,this),xr()(this,"mesh",Lf,this)}var e;return Tr()(t,[{key:"execute",value:(e=Rr()(Or.a.mark((function t(){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var t=this;this.transform.forEach((function(e,n){n.isDirty()&&(t.setMeshAABBDirty(e),n.updateTransform())}))}},{key:"runHierarchyUpdateSystem",value:function(){var t=this;this.hierarchy.forEach((function(e,n){var r=t.transform.getComponentByEntity(e),o=t.transform.getComponentByEntity(n.parentID);null!==r&&null!==o&&r.updateTransformWithParent(o)}))}},{key:"attach",value:function(t,e,n){if(this.hierarchy.contains(t)&&this.detach(t),this.hierarchy.create(t,{parentID:e}),this.setMeshAABBDirty(e),this.hierarchy.getCount()>1)for(var r=this.hierarchy.getCount()-1;r>0;--r)for(var i=this.hierarchy.getEntity(r),a=0;a<r;++a){if(this.hierarchy.getComponent(a).parentID===i){this.hierarchy.moveItem(r,a),++r;break}}this.hierarchy.getComponentByEntity(t);var u=this.transform.getComponentByEntity(e);null===u&&(u=this.transform.create(e));var s=this.transform.getComponentByEntity(t);null===s&&(s=this.transform.create(t),u=this.transform.getComponentByEntity(e)),!n&&u&&(s.matrixTransform(o.invert(o.create(),u.worldTransform)),s.updateTransform()),u&&s.updateTransformWithParent(u)}},{key:"detach",value:function(t){if(null!==this.hierarchy.getComponentByEntity(t)){var e=this.transform.getComponentByEntity(t);null!==e&&e.applyTransform(),this.hierarchy.removeKeepSorted(t),this.setMeshAABBDirty(t)}}},{key:"detachChildren",value:function(t){for(var e=0;e<this.hierarchy.getCount();){var n;if((null===(n=this.hierarchy.getComponent(e))||void 0===n?void 0:n.parentID)===t){var r=this.hierarchy.getEntity(e);this.detach(r)}else++e}}},{key:"setMeshAABBDirty",value:function(t){var e=this.mesh.getComponentByEntity(t);e&&(e.aabbDirty=!0)}}]),t}(),Gf=Ir()(Pf.prototype,"hierarchy",[Rf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jf=Ir()(Pf.prototype,"transform",[Mf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Lf=Ir()(Pf.prototype,"mesh",[Cf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nf=Pf))||Nf);function Ff(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}var zf=function(t){Wr()(n,t);var e=Ff(n);function n(t){var r,a,s,c,f,l,h,d,p,v,m,y,g,b,_;return Er()(this,n),(r=e.call(this,t)).dirtyFlag=void 0,r.localTranslation=i.fromValues(0,0,0),r.localRotation=u.fromValues(0,0,0,1),r.localScale=i.fromValues(1,1,1),r.localTransform=o.create(),r.worldTransform=o.create(),r.getRotation=(a=u.create(),function(){return o.getRotation(a,r.worldTransform),a}),r.getScale=(s=i.create(),function(){return o.getScaling(s,r.worldTransform),s}),r.getPosition=(c=i.create(),function(){return o.getTranslation(c,r.worldTransform),c}),r.getLocalMatrix=(f=o.create(),function(){return o.fromRotationTranslationScale(f,r.localRotation,r.localTranslation,r.localScale),f}),r.matrixTransform=(l=o.create(),function(t){o.multiply(l,r.getLocalMatrix(),t),o.getScaling(r.localScale,l),o.getTranslation(r.localTranslation,l),o.getRotation(r.localRotation,l)}),r.rotateRollPitchYaw=(h=u.create(),d=u.create(),p=u.create(),function(t,e,n){r.setDirty(),u.fromEuler(h,t,0,0),u.fromEuler(d,0,e,0),u.fromEuler(p,0,0,n),u.multiply(r.localRotation,h,r.localRotation),u.multiply(r.localRotation,r.localRotation,d),u.multiply(r.localRotation,p,r.localRotation),u.normalize(r.localRotation,r.localRotation)}),r.lerp=(v=i.create(),m=u.create(),y=i.create(),g=i.create(),b=u.create(),_=i.create(),function(t,e,n){r.setDirty(),o.getScaling(v,t.worldTransform),o.getTranslation(y,t.worldTransform),o.getRotation(m,t.worldTransform),o.getScaling(g,e.worldTransform),o.getTranslation(_,e.worldTransform),o.getRotation(b,e.worldTransform),i.lerp(r.localScale,v,g,n),u.slerp(r.localRotation,m,b,n),i.lerp(r.localTranslation,y,_,n)}),r}return Tr()(n,[{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?this.dirtyFlag|=n.DIRTY:this.dirtyFlag&=~n.DIRTY}},{key:"updateTransform",value:function(){this.isDirty()&&(this.setDirty(!1),o.copy(this.worldTransform,this.getLocalMatrix()))}},{key:"updateTransformWithParent",value:function(t){o.multiply(this.worldTransform,this.getLocalMatrix(),t.worldTransform)}},{key:"applyTransform",value:function(){this.setDirty(),o.getScaling(this.localScale,this.worldTransform),o.getTranslation(this.localTranslation,this.worldTransform),o.getRotation(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localTranslation=i.fromValues(0,0,0),this.localRotation=u.fromValues(0,0,0,1),this.localScale=i.fromValues(1,1,1)}},{key:"translate",value:function(t){return this.setDirty(),i.add(this.localTranslation,this.localTranslation,t),this}},{key:"scale",value:function(t){return this.setDirty(),i.multiply(this.localScale,this.localScale,t),this}},{key:"rotate",value:function(t){return this.setDirty(),u.multiply(this.localRotation,this.localRotation,t),u.normalize(this.localRotation,this.localRotation),this}}]),n}(Nr);zf.DIRTY=1;n(93),n(94),n(171),n(95),n(96),n(73),n(97),n(27),n(98),n(172);var Vf,Wf,Xf,Hf,qf,Yf=n(103),Kf=n(187),Zf=n.n(Kf),Qf=(Vf=Object(Lr.injectable)(),Wf=Object(Lr.inject)(Ur.RenderEngine),Vf((Hf=function(){function t(){Er()(this,t),xr()(this,"engine",qf,this),this.resourcePool={}}return Tr()(t,[{key:"getOrCreateResource",value:function(t){if(!this.resourcePool[t.name]){var e=t.descriptor,n=e.width,r=e.height,o=e.usage;this.resourcePool[t.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:n,height:r,wrapS:Qu.CLAMP_TO_EDGE,wrapT:Qu.CLAMP_TO_EDGE,usage:o})})}return this.resourcePool[t.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),t}(),qf=Ir()(Hf.prototype,"engine",[Wf],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xf=Hf))||Xf);function Jf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}var $f,tl,el=function(t){Wr()(n,t);var e=Jf(n);function n(t){var r;return Er()(this,n),(r=e.call(this,t)).name=void 0,r.name=t.name||"",r}return n}(Nr),nl=Object(Lr.injectable)()($f=function(){function t(){Er()(this,t),this.config=void 0}return Tr()(t,[{key:"get",value:function(){return this.config}},{key:"set",value:function(t){this.config=t}}]),t}())||$f,rl=Object(Lr.injectable)()(tl=function(){function t(){Er()(this,t)}return Tr()(t,[{key:"listen",value:function(t){}},{key:"on",value:function(t,e){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),t}())||tl,ol=n(188),il=n.n(ol);var al,ul=/uniform\\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\\s+([\\s\\S]*?);/g;function sl(t){var e={};return{content:t=t.replace(ul,(function(t,n,r){var o=r.split(":"),i=o[0].trim(),a="";switch(o.length>1&&(a=o[1].trim()),n){case"bool":a="true"===a;break;case"float":case"int":a=Number(a);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":a=a?a.replace("[","").replace("]","").split(",").reduce((function(t,e){return t.push(Number(e.trim())),t}),[]):new Array(function(t){var e=0;switch(t){case"vec2":case"ivec2":e=2;break;case"vec3":case"ivec3":e=3;break;case"vec4":case"ivec4":case"mat2":e=4;break;case"mat3":e=9;break;case"mat4":e=16}return e}(n)).fill(0)}return e[i]=a,"uniform ".concat(n," ").concat(i,";\\n")})),uniforms:e}}function cl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cl(Object(n),!0).forEach((function(e){uo()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ll=/precision\\s+(high|low|medium)p\\s+float/,hl=/#pragma include (["^+"]?["\\ "[a-zA-Z_0-9](.*)"]*?)/g,dl=Object(Lr.injectable)()(al=function(){function t(){Er()(this,t),this.moduleCache={},this.rawContentCache={}}return Tr()(t,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:"attribute vec3 a_PickingColor;\\nvarying vec4 v_PickingResult;\\n\\nuniform vec3 u_PickingColor : [0, 0, 0];\\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\\nuniform float u_PickingStage : 0.0;\\nuniform float u_PickingThreshold : 1.0;\\nuniform float u_PickingBuffer: 0.0;\\n\\n#define PICKING_ENCODE 1.0\\n#define PICKING_HIGHLIGHT 2.0\\n#define COLOR_SCALE 1. / 255.\\n\\nbool isVertexPicked(vec3 vertexColor) {\\n  return\\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\\n}\\n\\nvoid setPickingColor(vec3 pickingColor) {\\n  // compares only in highlight stage\\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\\n\\n  // Stores the picking color so that the fragment shader can render it during picking\\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\\n}\\n\\nfloat setPickingSize(float x) {\\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\\n}",fs:"varying vec4 v_PickingResult;\\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\\nuniform float u_PickingStage : 0.0;\\n\\n#define PICKING_ENCODE 1.0\\n#define PICKING_HIGHLIGHT 2.0\\n#define COLOR_SCALE 1. / 255.\\n\\n/*\\n * Returns highlight color if this item is selected.\\n */\\nvec4 filterHighlightColor(vec4 color) {\\n  bool selected = bool(v_PickingResult.a);\\n\\n  if (selected) {\\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\\n\\n    float highLightAlpha = highLightColor.a;\\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\\n\\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\\n    return vec4(resultRGB, color.a);\\n  } else {\\n    return color;\\n  }\\n}\\n\\n/*\\n * Returns picking color if picking enabled else unmodified argument.\\n */\\nvec4 filterPickingColor(vec4 color) {\\n  vec3 pickingColor = v_PickingResult.rgb;\\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\\n    discard;\\n  }\\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\\n}\\n\\n/*\\n * Returns picking color if picking is enabled if not\\n * highlight color if this item is selected, otherwise unmodified argument.\\n */\\nvec4 filterColor(vec4 color) {\\n  return filterPickingColor(filterHighlightColor(color));\\n}\\n"}),this.registerModule("sdf2d",{vs:"",fs:"/**\\n * 2D signed distance field functions\\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\\n */\\n\\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\\n\\nfloat sdCircle(vec2 p, float r) {\\n  return length(p) - r;\\n}\\n\\nfloat sdEquilateralTriangle(vec2 p) {\\n  float k = sqrt(3.0);\\n  p.x = abs(p.x) - 1.0;\\n  p.y = p.y + 1.0/k;\\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\\n  p.x -= clamp( p.x, -2.0, 0.0 );\\n  return -length(p)*sign(p.y);\\n}\\n\\nfloat sdBox(vec2 p, vec2 b) {\\n  vec2 d = abs(p)-b;\\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\\n}\\n\\nfloat sdPentagon(vec2 p, float r) {\\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\\n  p.x = abs(p.x);\\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\\n  return length(p)*sign(p.y);\\n}\\n\\nfloat sdHexagon(vec2 p, float r) {\\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\\n  p = abs(p);\\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\\n  return length(p)*sign(p.y);\\n}\\n\\nfloat sdOctogon(vec2 p, float r) {\\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\\n  p = abs(p);\\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\\n  return length(p)*sign(p.y);\\n}\\n\\nfloat sdHexagram(vec2 p, float r) {\\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\\n  p = abs(p);\\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\\n  return length(p)*sign(p.y);\\n}\\n\\nfloat sdRhombus(vec2 p, vec2 b) {\\n  vec2 q = abs(p);\\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\\n}\\n\\nfloat sdVesica(vec2 p, float r, float d) {\\n  p = abs(p);\\n  float b = sqrt(r*r-d*d); // can delay this sqrt\\n  return ((p.y-b)*d>p.x*b)\\n          ? length(p-vec2(0.0,b))\\n          : length(p-vec2(-d,0.0))-r;\\n}"})}},{key:"registerModule",value:function(t,e){if(!this.rawContentCache[t]){var n=e.vs,r=e.fs,o=e.uniforms,i=sl(n),a=i.content,u=i.uniforms,s=sl(r),c=s.content,f=s.uniforms;this.rawContentCache[t]={fs:c,uniforms:fl(fl(fl({},u),f),o),vs:a}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(t){var e=this;if(this.moduleCache[t])return this.moduleCache[t];var n=this.rawContentCache[t].vs,r=this.rawContentCache[t].fs,o=this.processModule(n,[],"vs"),i=o.content,a=o.includeList,u=this.processModule(r,[],"fs"),s=u.content,c=u.includeList,f=s,l=il()(a.concat(c).concat(t)).reduce((function(t,n){return fl(fl({},t),e.rawContentCache[n].uniforms)}),{});return ll.test(s)||(f="#ifdef GL_FRAGMENT_PRECISION_HIGH\\n precision highp float;\\n #else\\n precision mediump float;\\n#endif\\n"+s),this.moduleCache[t]={fs:f.trim(),uniforms:l,vs:i.trim()},this.moduleCache[t]}},{key:"processModule",value:function(t,e,n){var r=this;return{content:t.replace(hl,(function(t,o){var i=o.split(" ")[0].replace(/"/g,"");if(e.indexOf(i)>-1)return"";var a=r.rawContentCache[i][n];return e.push(i),r.processModule(a,e,n).content})),includeList:e}}}]),t}())||al,pl=new Lr.Container;Object(Lr.decorate)(Object(Lr.injectable)(),Yf.EventEmitter),pl.bind(Ur.IEventEmitter).to(Yf.EventEmitter);Zf()(pl,!1);function vl(){var t=new Lr.Container;return t.parent=pl,t.bind(Ur.Systems).to(Bf).inSingletonScope().whenTargetNamed(Ur.SceneGraphSystem),t.bind(Ur.Systems).to(io).inSingletonScope().whenTargetNamed(Ur.FrameGraphSystem),t.bind(Ur.Systems).to(jc).inSingletonScope().whenTargetNamed(Ur.MeshSystem),t.bind(Ur.Systems).to(Is).inSingletonScope().whenTargetNamed(Ur.GeometrySystem),t.bind(Ur.Systems).to(zs).inSingletonScope().whenTargetNamed(Ur.MaterialSystem),t.bind(Ur.Systems).to(kf).inSingletonScope().whenTargetNamed(Ur.RendererSystem),t.bind(Ur.ResourcePool).to(Qf).inSingletonScope(),t.bind(Ur.ConfigService).to(nl).inSingletonScope(),t.bind(Ur.InteractorService).to(rl).inSingletonScope(),t.bind(Ur.RenderPass).to(cf).inSingletonScope().whenTargetNamed(cf.IDENTIFIER),t.bind(Ur.RenderPass).to(ff).inSingletonScope().whenTargetNamed(ff.IDENTIFIER),t.bind(Ur.RenderPass).to(If).inSingletonScope().whenTargetNamed(If.IDENTIFIER),t.bind(Ur.RenderPassFactory).toFactory((function(t){return function(e){return t.container.getNamed(Ur.RenderPass,e)}})),t}pl.bind(Ur.ShaderModuleService).to(dl).inSingletonScope(),pl.bind(Ur.NameComponentManager).toConstantValue(new Pr(el)),pl.bind(Ur.HierarchyComponentManager).toConstantValue(new Pr(Uf)),pl.bind(Ur.TransformComponentManager).toConstantValue(new Pr(zf)),pl.bind(Ur.MeshComponentManager).toConstantValue(new Pr(qs)),pl.bind(Ur.CullableComponentManager).toConstantValue(new Pr(Ws)),pl.bind(Ur.GeometryComponentManager).toConstantValue(new Pr(po)),pl.bind(Ur.MaterialComponentManager).toConstantValue(new Pr(Ls));var ml;n(173),n(99);!function(t){t.PANSTART="PANSTART",t.PANEND="PANEND",t.PANMOVE="PANMOVE",t.PINCH="PINCH",t.KEYDOWN="KEYDOWN",t.KEYUP="KEYUP",t.HOVER="HOVER"}(ml||(ml={}));n(174);var yl,gl,bl,_l,xl="undefined"!=typeof navigator&&/Version\\/[\\d\\.]+.*Safari/.test(navigator.userAgent);!function(t){t.Void="Void",t.Boolean="Boolean",t.Float="Float",t.Uint32="Uint32",t.Int32="Int32",t.Vector="Vector",t.Vector2Float="vec2<f32>",t.Vector3Float="vec3<f32>",t.Vector4Float="vec4<f32>",t.Vector2Boolean="vec2<bool>",t.Vector3Boolean="vec3<bool>",t.Vector4Boolean="vec4<bool>",t.Vector2Uint="vec2<u32>",t.Vector3Uint="vec3<u32>",t.Vector4Uint="vec4<u32>",t.Vector2Int="vec2<i32>",t.Vector3Int="vec3<i32>",t.Vector4Int="vec4<i32>",t.Matrix="Matrix",t.Matrix3x3Float="mat3x3<f32>",t.Matrix4x4Float="mat4x4<i32>",t.Struct="Struct",t.FloatArray="Float[]",t.Vector4FloatArray="vec4<f32>[]"}(yl||(yl={})),function(t){t.Program="Program",t.Identifier="Identifier",t.VariableDeclaration="VariableDeclaration",t.BlockStatement="BlockStatement",t.ReturnStatement="ReturnStatement",t.FunctionDeclaration="FunctionDeclaration",t.VariableDeclarator="VariableDeclarator",t.AssignmentExpression="AssignmentExpression",t.LogicalExpression="LogicalExpression",t.BinaryExpression="BinaryExpression",t.ArrayExpression="ArrayExpression",t.UnaryExpression="UnaryExpression",t.UpdateExpression="UpdateExpression",t.FunctionExpression="FunctionExpression",t.MemberExpression="MemberExpression",t.ConditionalExpression="ConditionalExpression",t.ExpressionStatement="ExpressionStatement",t.CallExpression="CallExpression",t.NumThreadStatement="NumThreadStatement",t.StorageStatement="StorageStatement",t.DoWhileStatement="DoWhileStatement",t.WhileStatement="WhileStatement",t.ForStatement="ForStatement",t.BreakStatement="BreakStatement",t.ContinueStatement="ContinueStatement",t.IfStatement="IfStatement",t.ImportedFunctionStatement="ImportedFunctionStatement"}(gl||(gl={})),function(t){t.Input="Input",t.Output="Output",t.Uniform="Uniform",t.Workgroup="Workgroup",t.UniformConstant="UniformConstant",t.Image="Image",t.StorageBuffer="StorageBuffer",t.Private="Private",t.Function="Function"}(bl||(bl={})),function(t){t.GLSL100="GLSL100",t.GLSL450="GLSL450",t.WGSL="WGSL"}(_l||(_l={}));function wl(t){return void 0===t?0:t>360||t<-360?t%360:t}function El(t,e,n){return fc()(t)?i.fromValues(t,e,n):3===t.length?i.clone(t):i.fromValues(t[0],t[1],t[2])}var Sl,Tl,Al,Il,kl,Ol,Dl,Rl,Ml=function(){function t(e,n){Er()(this,t),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=e,this.matrix=o.clone(n.matrix),this.right=i.clone(n.right),this.up=i.clone(n.up),this.forward=i.clone(n.forward),this.position=i.clone(n.position),this.focalPoint=i.clone(n.focalPoint),this.distanceVector=i.clone(n.distanceVector),this.azimuth=n.azimuth,this.elevation=n.elevation,this.roll=n.roll,this.relAzimuth=n.relAzimuth,this.relElevation=n.relElevation,this.relRoll=n.relRoll,this.dollyingStep=n.dollyingStep,this.distance=n.distance}return Tr()(t,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(t){t.matrix=o.copy(t.matrix,this.matrix),t.right=i.copy(t.right,this.right),t.up=i.copy(t.up,this.up),t.forward=i.copy(t.forward,this.forward),t.position=i.copy(t.position,this.position),t.focalPoint=i.copy(t.focalPoint,this.focalPoint),t.distanceVector=i.copy(t.distanceVector,this.distanceVector),t.azimuth=this.azimuth,t.elevation=this.elevation,t.roll=this.roll,t.relAzimuth=this.relAzimuth,t.relElevation=this.relElevation,t.relRoll=this.relRoll,t.dollyingStep=this.dollyingStep,t.distance=this.distance}}]),t}();!function(t){t.ORBITING="ORBITING",t.EXPLORING="EXPLORING",t.TRACKING="TRACKING"}(Ol||(Ol={})),function(t){t.DEFAULT="DEFAULT",t.ROTATIONAL="ROTATIONAL",t.TRANSLATIONAL="TRANSLATIONAL",t.CINEMATIC="CINEMATIC"}(Dl||(Dl={})),function(t){t.ORTHOGRAPHIC="ORTHOGRAPHIC",t.PERSPECTIVE="PERSPECTIVE"}(Rl||(Rl={}));var Cl,Nl,Pl,Gl,jl,Ll,Ul,Bl=Math.PI/180,Fl=180/Math.PI,zl=(Sl=Object(Lr.injectable)(),Tl=Object(Lr.inject)(Ur.InteractorService),Sl((Il=function(){function t(){Er()(this,t),this.matrix=o.create(),this.right=i.fromValues(1,0,0),this.up=i.fromValues(0,1,0),this.forward=i.fromValues(0,0,1),this.position=i.fromValues(0,0,1),this.focalPoint=i.fromValues(0,0,0),this.distanceVector=i.fromValues(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.rotateWorld=!1,xr()(this,"interactor",kl,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=o.create(),this.view=void 0,this.following=void 0,this.type=Ol.EXPLORING,this.trackingMode=Dl.DEFAULT,this.projectionMode=Rl.PERSPECTIVE,this.frustum=new sc,this.landmarks=[],this.landmarkAnimationID=void 0}return Tr()(t,[{key:"clone",value:function(){var e=new t;return e.setType(this.type,void 0),e.interactor=this.interactor,e}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(t,e){return this.type=t,this.type===Ol.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===Ol.TRACKING&&void 0!==e&&this.setTrackingMode(e),this}},{key:"setProjectionMode",value:function(t){return this.projectionMode=t,this}},{key:"setTrackingMode",value:function(t){if(this.type!==Ol.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=t,this}},{key:"setWorldRotation",value:function(t){this.rotateWorld=t,this._getAngles()}},{key:"getViewTransform",value:function(){return o.invert(o.create(),this.matrix)}},{key:"setMatrix",value:function(t){return this.matrix=t,this._update(),this}},{key:"setAspect",value:function(t){return this.setPerspective(this.near,this.far,this.fov,t),this}},{key:"setViewOffset",value:function(t,e,n,r,o,i){return this.aspect=t/e,void 0===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=o,this.view.height=i,this.projectionMode===Rl.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return void 0!==this.view&&(this.view.enabled=!1),this.projectionMode===Rl.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(t,e,n,r){return this.projectionMode=Rl.PERSPECTIVE,this.fov=n,this.near=t,this.far=e,this.aspect=r,o.perspective(this.perspective,this.fov*Bl,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(t,e,n,r,i,a){this.projectionMode=Rl.ORTHOGRAPHIC,this.rright=e,this.left=t,this.top=n,this.bottom=r,this.near=i,this.far=a;var u=(this.rright-this.left)/(2*this.zoom),s=(this.top-this.bottom)/(2*this.zoom),c=(this.rright+this.left)/2,f=(this.top+this.bottom)/2,l=c-u,h=c+u,d=f+s,p=f-s;if(void 0!==this.view&&this.view.enabled){var v=(this.rright-this.left)/this.view.fullWidth/this.zoom,m=(this.top-this.bottom)/this.view.fullHeight/this.zoom;h=(l+=v*this.view.offsetX)+v*this.view.width,p=(d-=m*this.view.offsetY)-m*this.view.height}return o.ortho(this.perspective,l,h,d,p,i,a),this}},{key:"setPosition",value:function(t,e,n){return this._setPosition(t,e,n),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(t,e,n){var r=i.fromValues(0,1,0);if(this.focalPoint=El(t,e,n),this.trackingMode===Dl.CINEMATIC){var a=i.subtract(i.create(),this.focalPoint,this.position);t=a[0],e=a[1],n=a[2];var u=i.length(a),s=Math.asin(e/u)*Fl,c=90+Math.atan2(n,t)*Fl,f=o.create();o.rotateY(f,f,c*Bl),o.rotateX(f,f,s*Bl),r=i.transformMat4(i.create(),[0,1,0],f)}return o.invert(this.matrix,o.lookAt(o.create(),this.position,this.focalPoint,r)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(t){if(!(this.distance===t||t<0)){this.distance=t,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var e=i.create();t=this.distance;var n=this.forward,r=this.focalPoint;return e[0]=t*n[0]+r[0],e[1]=t*n[1]+r[1],e[2]=t*n[2]+r[2],this._setPosition(e),this}}},{key:"changeAzimuth",value:function(t){return this.setAzimuth(this.azimuth+t),this}},{key:"changeElevation",value:function(t){return this.setElevation(this.elevation+t),this}},{key:"changeRoll",value:function(t){return this.setRoll(this.roll+t),this}},{key:"setAzimuth",value:function(t){return this.azimuth=wl(t),this.computeMatrix(),this._getAxes(),this.type===Ol.ORBITING||this.type===Ol.EXPLORING?this._getPosition():this.type===Ol.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(t){return this.elevation=wl(t),this.computeMatrix(),this._getAxes(),this.type===Ol.ORBITING||this.type===Ol.EXPLORING?this._getPosition():this.type===Ol.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(t){return this.roll=wl(t),this.computeMatrix(),this._getAxes(),this.type===Ol.ORBITING||this.type===Ol.EXPLORING?this._getPosition():this.type===Ol.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(t,e,n){if(this.type===Ol.EXPLORING){t=wl(t),e=wl(e),n=wl(n);var r=u.setAxisAngle(u.create(),[1,0,0],(this.rotateWorld?1:-1)*e*Bl),i=u.setAxisAngle(u.create(),[0,1,0],(this.rotateWorld?1:-1)*t*Bl),a=u.setAxisAngle(u.create(),[0,0,1],n*Bl),s=u.multiply(u.create(),i,r);s=u.multiply(u.create(),s,a);var c=o.fromQuat(o.create(),s);o.translate(this.matrix,this.matrix,[0,0,-this.distance]),o.multiply(this.matrix,this.matrix,c),o.translate(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+e)>90)return;this.relElevation=wl(e),this.relAzimuth=wl(t),this.relRoll=wl(n),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===Ol.ORBITING||this.type===Ol.EXPLORING?this._getPosition():this.type===Ol.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(t,e){var n=El(t,e,0),r=i.clone(this.position);return i.add(r,r,i.scale(i.create(),this.right,n[0])),i.add(r,r,i.scale(i.create(),this.up,n[1])),this._setPosition(r),this}},{key:"dolly",value:function(t){var e=this.forward,n=i.clone(this.position),r=t*this.dollyingStep;return n[0]+=r*e[0],n[1]+=r*e[1],n[2]+=r*e[2],this._setPosition(n),this.type===Ol.ORBITING||this.type===Ol.EXPLORING?this._getDistance():this.type===Ol.TRACKING&&i.add(this.focalPoint,n,this.distanceVector),this}},{key:"createLandmark",value:function(t,e){var n=this.clone();n.setPosition(e.position),n.setFocalPoint(e.focalPoint),void 0!==e.roll&&n.setRoll(e.roll);var r=new Ml(t,n);return this.landmarks.push(r),r}},{key:"setLandmark",value:function(t){var e=new Ml(t,this);return this.landmarks.push(e),this}},{key:"gotoLandmark",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=this.landmarks.find((function(e){return e.name===t}));if(r){if(0===n)return void r.retrieve(this);void 0!==this.landmarkAnimationID&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var o,a=r.getPosition(),u=r.getFocalPoint(),s=r.getRoll(),c=function t(r){void 0===o&&(o=r);var c,f=r-o,l=(1-Math.cos(f/n*Math.PI))/2,h=i.create(),d=i.create();if(i.lerp(h,e.focalPoint,u,l),i.lerp(d,e.position,a,l),c=e.roll*(1-l)+s*l,e.setFocalPoint(h),e.setPosition(d),e.setRoll(c),e.computeMatrix(),!(i.dist(h,u)+i.dist(d,a)>.01))return e.setFocalPoint(h),e.setPosition(d),e.setRoll(c),e.computeMatrix(),void e.interactor.connect();f<n&&(e.landmarkAnimationID=window.requestAnimationFrame(t))};window.requestAnimationFrame(c)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var t,e,n=u.setAxisAngle(u.create(),[0,0,1],this.roll*Bl);o.identity(this.matrix),t=u.setAxisAngle(u.create(),[1,0,0],(this.rotateWorld&&this.type!==Ol.TRACKING||this.type===Ol.TRACKING?1:-1)*this.elevation*Bl),e=u.setAxisAngle(u.create(),[0,1,0],(this.rotateWorld&&this.type!==Ol.TRACKING||this.type===Ol.TRACKING?1:-1)*this.azimuth*Bl);var r=u.multiply(u.create(),e,t);r=u.multiply(u.create(),r,n);var i=o.fromQuat(o.create(),r);this.type===Ol.ORBITING||this.type===Ol.EXPLORING?(o.translate(this.matrix,this.matrix,this.focalPoint),o.multiply(this.matrix,this.matrix,i),o.translate(this.matrix,this.matrix,[0,0,this.distance])):this.type===Ol.TRACKING&&(o.translate(this.matrix,this.matrix,this.position),o.multiply(this.matrix,this.matrix,i))}},{key:"_setPosition",value:function(t,e,n){this.position=El(t,e,n);var r=this.matrix;r[12]=this.position[0],r[13]=this.position[1],r[14]=this.position[2],r[15]=1}},{key:"_getAxes",value:function(){i.copy(this.right,El(a.transformMat4(a.create(),[1,0,0,0],this.matrix))),i.copy(this.up,El(a.transformMat4(a.create(),[0,1,0,0],this.matrix))),i.copy(this.forward,El(a.transformMat4(a.create(),[0,0,1,0],this.matrix))),i.normalize(this.right,this.right),i.normalize(this.up,this.up),i.normalize(this.forward,this.forward)}},{key:"_getAngles",value:function(){var t=this.distanceVector[0],e=this.distanceVector[1],n=this.distanceVector[2],r=i.length(this.distanceVector);if(0===r)return this.elevation=0,void(this.azimuth=0);this.type===Ol.TRACKING||this.rotateWorld?(this.elevation=Math.asin(e/r)*Fl,this.azimuth=Math.atan2(-t,-n)*Fl):(this.elevation=-Math.asin(e/r)*Fl,this.azimuth=-Math.atan2(-t,-n)*Fl)}},{key:"_getPosition",value:function(){i.copy(this.position,El(a.transformMat4(a.create(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){i.transformMat3(this.distanceVector,[0,0,-this.distance],r.fromMat4(r.create(),this.matrix)),i.add(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=i.subtract(i.create(),this.focalPoint,this.position),this.distance=i.length(this.distanceVector),this.dollyingStep=this.distance/100}}]),t}(),kl=Ir()(Il.prototype,"interactor",[Tl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Al=Il))||Al),Vl=n(22),Wl=n.n(Vl),Xl=n(13),Hl=n.n(Xl),ql=n(3);function Yl(){if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function Kl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Kl(Object(n),!0).forEach((function(e){uo()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ql,Jl,$l,th,eh,nh,rh,oh,ih,ah,uh,sh,ch,fh,lh,hh,dh,ph,vh,mh,yh,gh,bh,_h,xh,wh,Eh,Sh,Th=(Cl=Object(Lr.injectable)(),Nl=Object(Lr.inject)(Ur.RenderEngine),Pl=Object(Lr.inject)(Ur.ConfigService),Cl((jl=function(){function t(){Er()(this,t),xr()(this,"engine",Ll,this),xr()(this,"configService",Ul,this),this.entity=Cr(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}var e,n,r;return Tr()(t,[{key:"init",value:function(){var t=this.configService.get(),e=t.canvas,n=t.engineOptions;this.initPromise=this.engine.init(Zl({canvas:e||Yl(),swapChainFormat:ql.TextureFormat.BGRA8Unorm,antialiasing:!1},n))}},{key:"setBundle",value:function(t){this.compiledBundle=JSON.parse(JSON.stringify(t))}},{key:"setDispatch",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=t),this}},{key:"setMaxIteration",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=t),this}},{key:"setBinding",value:function(t,e){var n=this;if("string"==typeof t){var r=fc()(e)||Wl()(e)||Hl()(e);if(this.compiledBundle&&this.compiledBundle.context){var o=this.compiledBundle.context.defines.find((function(e){return e.name===t}));if(o)return o.value=e,this;var i=this.compiledBundle.context.uniforms.find((function(e){return e.name===t}));i&&(r?(i.data=e,i.isReferer=!1,i.storageClass===bl.Uniform?this.model&&this.model.updateUniform(t,e):this.model&&this.model.updateBuffer(t,e)):(i.isReferer=!0,i.data=e))}}else Object.keys(t).forEach((function(e){n.setBinding(e,t[e])}));return this}},{key:"execute",value:(r=Rr()(Or.a.mark((function t(){var e,n,r=this,o=arguments;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:1,!this.dirty){t.next=6;break}return this.compiledBundle.context&&(e>1?this.compiledBundle.context.maxIteration=e:this.compiledBundle.context.maxIteration++),t.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter((function(t){return t.isReferer})).forEach((function(t){var e=t.data,n=t.name;r.model.confirmInput(e.model,n)})),n=0;n<e;n++)this.model.run();return this.engine.endFrame(),t.abrupt("return",this);case 12:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"getOutput",value:(n=Rr()(Or.a.mark((function t(){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.model.readData());case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"compile",value:(e=Rr()(Or.a.mark((function t(){var e,n,r;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.initPromise;case 2:return e=Zl({},this.compiledBundle.context),n=this.engine.supportWebGPU?this.engine.useWGSL?_l.WGSL:_l.GLSL450:_l.GLSL100,r=this.compiledBundle.shaders[n],e.defines.filter((function(t){return t.runtime})).forEach((function(t){var e="".concat("__DefineValuePlaceholder__").concat(t.name);r=r.replace(e,"".concat(t.value))})),e.shader=r,e.uniforms.forEach((function(t){if(!t.data&&t.storageClass===bl.StorageBuffer){var n=1;t.type===yl.FloatArray?n=1:t.type===yl.Vector4FloatArray&&(n=4),t.data=new Float32Array(e.output.length*n).fill(0)}})),this.compiledBundle.context=e,t.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=t.sent;case 12:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),t}(),Ll=Ir()(jl.prototype,"engine",[Nl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ul=Ir()(jl.prototype,"configService",[Pl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gl=jl))||Gl),Ah=(Ql=Object(Lr.injectable)(),Jl=Object(Lr.inject)(Ur.MeshComponentManager),$l=Object(Lr.inject)(Ur.CullableComponentManager),th=Object(Lr.inject)(Ur.TransformComponentManager),eh=Object(Lr.inject)(Ur.Systems),nh=Object(Lr.named)(Ur.SceneGraphSystem),Ql((fh=ch=function(){function t(){Er()(this,t),this.attributes={},this.config=void 0,xr()(this,"mesh",ih,this),xr()(this,"cullable",ah,this),xr()(this,"transform",uh,this),xr()(this,"sceneGraphSystem",sh,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return Tr()(t,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t){this.entity=t,this.cullable.create(t),this.meshComponent=this.mesh.create(t),this.transformComponent=this.transform.create(t),this.onEntityCreated()}},{key:"setMaterial",value:function(t){return this.meshComponent.material=t,this}},{key:"setGeometry",value:function(t){return this.meshComponent.geometry=t,this}},{key:"setAttributes",value:function(t){var e=this;Object.keys(t).forEach((function(n){void 0!==t[n]&&t[n]!==e.attributes[n]&&(e.onAttributeChanged({name:n,data:t[n]}),e.attributes[n]=t[n])}))}},{key:"setVisible",value:function(t){return this.meshComponent.visible=t,this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(t){return this.sceneGraphSystem.attach(this.entity,t.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(t){var e=t.name,n=t.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(e),n)}},{key:"convertAttributeName2UniformName",value:function(t){return t}}]),t}(),ch.POINT="point",ch.LINE="line",ch.GRID="grid",oh=fh,ih=Ir()(oh.prototype,"mesh",[Jl],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ah=Ir()(oh.prototype,"cullable",[$l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uh=Ir()(oh.prototype,"transform",[th],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sh=Ir()(oh.prototype,"sceneGraphSystem",[eh,nh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rh=oh))||rh),Ih=n(189),kh=n.n(Ih),Oh=function(){function t(e,n){Er()(this,t),this.attribute=void 0,this.buffer=void 0;var r=n.buffer,o=n.offset,i=n.stride,a=n.normalized,u=n.size,s=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:o||0,stride:i||0,normalized:a||!1,divisor:s||0},u&&(this.attribute.size=u)}return Tr()(t,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),t}(),Dh=(lh={},uo()(lh,Qu.POINTS,"points"),uo()(lh,Qu.LINES,"lines"),uo()(lh,Qu.LINE_LOOP,"line loop"),uo()(lh,Qu.LINE_STRIP,"line strip"),uo()(lh,Qu.TRIANGLES,"triangles"),uo()(lh,Qu.TRIANGLE_FAN,"triangle fan"),uo()(lh,Qu.TRIANGLE_STRIP,"triangle strip"),lh),Rh=(hh={},uo()(hh,Qu.STATIC_DRAW,"static"),uo()(hh,Qu.DYNAMIC_DRAW,"dynamic"),uo()(hh,Qu.STREAM_DRAW,"stream"),hh),Mh=(dh={},uo()(dh,Qu.BYTE,"int8"),uo()(dh,Qu.UNSIGNED_INT,"int16"),uo()(dh,Qu.INT,"int32"),uo()(dh,Qu.UNSIGNED_BYTE,"uint8"),uo()(dh,Qu.UNSIGNED_SHORT,"uint16"),uo()(dh,Qu.UNSIGNED_INT,"uint32"),uo()(dh,Qu.FLOAT,"float"),dh),Ch=(ph={},uo()(ph,Qu.ALPHA,"alpha"),uo()(ph,Qu.LUMINANCE,"luminance"),uo()(ph,Qu.LUMINANCE_ALPHA,"luminance alpha"),uo()(ph,Qu.RGB,"rgb"),uo()(ph,Qu.RGBA,"rgba"),uo()(ph,Qu.RGBA4,"rgba4"),uo()(ph,Qu.RGB5_A1,"rgb5 a1"),uo()(ph,Qu.RGB565,"rgb565"),uo()(ph,Qu.DEPTH_COMPONENT,"depth"),uo()(ph,Qu.DEPTH_STENCIL,"depth stencil"),ph),Nh=(vh={},uo()(vh,Qu.DONT_CARE,"dont care"),uo()(vh,Qu.NICEST,"nice"),uo()(vh,Qu.FASTEST,"fast"),vh),Ph=(mh={},uo()(mh,Qu.NEAREST,"nearest"),uo()(mh,Qu.LINEAR,"linear"),uo()(mh,Qu.LINEAR_MIPMAP_LINEAR,"mipmap"),uo()(mh,Qu.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),uo()(mh,Qu.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),uo()(mh,Qu.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),mh),Gh=(yh={},uo()(yh,Qu.REPEAT,"repeat"),uo()(yh,Qu.CLAMP_TO_EDGE,"clamp"),uo()(yh,Qu.MIRRORED_REPEAT,"mirror"),yh),jh=(gh={},uo()(gh,Qu.NONE,"none"),uo()(gh,Qu.BROWSER_DEFAULT_WEBGL,"browser"),gh),Lh=(bh={},uo()(bh,Qu.NEVER,"never"),uo()(bh,Qu.ALWAYS,"always"),uo()(bh,Qu.LESS,"less"),uo()(bh,Qu.LEQUAL,"lequal"),uo()(bh,Qu.GREATER,"greater"),uo()(bh,Qu.GEQUAL,"gequal"),uo()(bh,Qu.EQUAL,"equal"),uo()(bh,Qu.NOTEQUAL,"notequal"),bh),Uh=(_h={},uo()(_h,Qu.FUNC_ADD,"add"),uo()(_h,Qu.MIN_EXT,"min"),uo()(_h,Qu.MAX_EXT,"max"),uo()(_h,Qu.FUNC_SUBTRACT,"subtract"),uo()(_h,Qu.FUNC_REVERSE_SUBTRACT,"reverse subtract"),_h),Bh=(xh={},uo()(xh,Qu.ZERO,"zero"),uo()(xh,Qu.ONE,"one"),uo()(xh,Qu.SRC_COLOR,"src color"),uo()(xh,Qu.ONE_MINUS_SRC_COLOR,"one minus src color"),uo()(xh,Qu.SRC_ALPHA,"src alpha"),uo()(xh,Qu.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),uo()(xh,Qu.DST_COLOR,"dst color"),uo()(xh,Qu.ONE_MINUS_DST_COLOR,"one minus dst color"),uo()(xh,Qu.DST_ALPHA,"dst alpha"),uo()(xh,Qu.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),uo()(xh,Qu.CONSTANT_COLOR,"constant color"),uo()(xh,Qu.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),uo()(xh,Qu.CONSTANT_ALPHA,"constant alpha"),uo()(xh,Qu.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),uo()(xh,Qu.SRC_ALPHA_SATURATE,"src alpha saturate"),xh),Fh=(wh={},uo()(wh,Qu.NEVER,"never"),uo()(wh,Qu.ALWAYS,"always"),uo()(wh,Qu.LESS,"less"),uo()(wh,Qu.LEQUAL,"lequal"),uo()(wh,Qu.GREATER,"greater"),uo()(wh,Qu.GEQUAL,"gequal"),uo()(wh,Qu.EQUAL,"equal"),uo()(wh,Qu.NOTEQUAL,"notequal"),wh),zh=(Eh={},uo()(Eh,Qu.ZERO,"zero"),uo()(Eh,Qu.KEEP,"keep"),uo()(Eh,Qu.REPLACE,"replace"),uo()(Eh,Qu.INVERT,"invert"),uo()(Eh,Qu.INCR,"increment"),uo()(Eh,Qu.DECR,"decrement"),uo()(Eh,Qu.INCR_WRAP,"increment wrap"),uo()(Eh,Qu.DECR_WRAP,"decrement wrap"),Eh),Vh=(Sh={},uo()(Sh,Qu.FRONT,"front"),uo()(Sh,Qu.BACK,"back"),Sh),Wh=function(){function t(e,n){Er()(this,t),this.buffer=void 0;var r=n.data,o=n.usage,i=n.type;this.buffer=e.buffer({data:r,usage:Rh[o||Qu.STATIC_DRAW],type:Mh[i||Qu.UNSIGNED_BYTE]})}return Tr()(t,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(t){var e=t.data,n=t.offset;this.buffer.subdata(e,n)}}]),t}(),Xh=n(10),Hh=n.n(Xh);function qh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qh(Object(n),!0).forEach((function(e){uo()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Kh=0,Zh=function(){function t(e,n){var r=this;Er()(this,t),this.reGl=e,this.context=n,this.entity=Cr(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var o={};this.context.uniforms.forEach((function(t){var e=t.name,n=t.type,i=t.data,a=t.isReferer,u=t.storageClass;if(u===bl.StorageBuffer){if(a)r.textureCache[e]={data:void 0},o["".concat(e,"Size")]=function(){return i.compiledBundle.context.output.textureSize};else{r.textureCache[e]=r.calcDataTexture(e,n,i);var s=r.textureCache[e],c=s.textureWidth,f=s.isOutput;o["".concat(e,"Size")]=[c,c],f&&(r.outputTextureName=e,r.context.needPingpong&&(r.outputTextureName="".concat(e,"Output"),r.textureCache[r.outputTextureName]=r.calcDataTexture(e,n,i)))}o[e]=function(){return r.textureCache[e].texture}}else if(u===bl.Uniform){if(i&&(Array.isArray(i)||Wl()(i))&&i.length>16)throw new Error("invalid data type ".concat(n));o[e]=function(){return t.data}}}));var i=this.getOuputDataTexture(),a=i.textureWidth,u=i.texelCount;o.u_OutputTextureSize=[a,a],o.u_OutputTexelCount=u,this.context.output.textureSize=[a,a];var s={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\\n  precision highp float;\\n#else\\n  precision mediump float;\\n#endif\\n".concat(this.context.shader),uniforms:o,vert:"attribute vec3 a_Position;\\nattribute vec2 a_TexCoord;\\n\\nvarying vec2 v_TexCoord;\\n\\nvoid main() {\\n  gl_Position = vec4(a_Position, 1.0);\\n  v_TexCoord = a_TexCoord;\\n}",primitive:"triangle strip",count:4};this.computeCommand=this.reGl(s)}var e;return Tr()(t,[{key:"run",value:function(){var t=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use((function(){t.computeCommand()}))}},{key:"readData",value:(e=Rr()(Or.a.mark((function t(){var e,n,r,o,i,a,u,s,c=this;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.reGl({framebuffer:this.texFBO})((function(){e=c.reGl.read()})),!e){t.next=6;break}if(n=this.getOuputDataTexture(),r=n.originalDataLength,o=n.elementsPerTexel,i=n.typedArrayConstructor,a=void 0===i?Float32Array:i,u=[],4!==o)for(s=0;s<e.length;s+=4)1===o?u.push(e[s]):2===o?u.push(e[s],e[s+1]):u.push(e[s],e[s+1],e[s+2]);else u=e;return t.abrupt("return",new a(u.slice(0,r)));case 6:return t.abrupt("return",new Float32Array);case 7:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"confirmInput",value:function(t,e){var n;this.entity===t.entity?(this.dynamicPingpong=!0,n=this):n=t,this.textureCache[e].id=n.getOuputDataTexture().id,this.textureCache[e].texture=n.getOuputDataTexture().texture}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(t,e){var n=this.context.uniforms.find((function(e){return e.name===t}));if(n){var r=this.calcDataTexture(t,n.type,e),o=r.texture,i=r.data;this.textureCache[t].data=i,this.textureCache[t].texture=o}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var t=this.context.output.name;this.textureCache[t].id=this.getOuputDataTexture().id,this.textureCache[t].texture=this.getOuputDataTexture().texture}var e=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=e}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var t=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=t}},{key:"cloneDataTexture",value:function(t){var e=t.data,n=t.textureWidth;return Yh(Yh({},t),{},{id:Kh++,texture:this.reGl.texture({width:n,height:n,data:e,type:"float"})})}},{key:"calcDataTexture",value:function(t,e,n){var r=1;e===yl.Vector4FloatArray&&(r=4);for(var o=[],i=0;i<n.length;i+=r)1===r?o.push(n[i],0,0,0):2===r?o.push(n[i],n[i+1],0,0):3===r?o.push(n[i],n[i+1],n[i+2],0):4===r&&o.push(n[i],n[i+1],n[i+2],n[i+3]);var a=n.length,u=Math.ceil(a/r),s=Math.ceil(Math.sqrt(u)),c=s*s;u<c&&o.push.apply(o,Hh()(new Array(4*(c-u)).fill(0)));var f=this.reGl.texture({width:s,height:s,data:o,type:"float"});return{id:Kh++,data:o,originalDataLength:a,typedArrayConstructor:Wl()(n)?n.constructor:void 0,textureWidth:s,texture:f,texelCount:u,elementsPerTexel:r,isOutput:t===this.context.output.name}}}]),t}(),Qh=function(){function t(e,n){Er()(this,t),this.elements=void 0;var r=n.data,o=n.usage,i=n.type,a=n.count;this.elements=e.elements({data:r,usage:Rh[o||Qu.STATIC_DRAW],type:Mh[i||Qu.UNSIGNED_BYTE],count:a})}return Tr()(t,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(t){var e=t.data;this.elements.subdata(e)}},{key:"destroy",value:function(){this.elements.destroy()}}]),t}(),Jh=function(){function t(e,n){Er()(this,t),this.framebuffer=void 0;var r=n.width,o=n.height,i=n.color,a=n.colors,u=(n.depth,n.stencil,{width:r,height:o});Array.isArray(a)&&(u.colors=a.map((function(t){return t.get()}))),i&&"boolean"!=typeof i&&(u.color=i.get()),this.framebuffer=e.framebuffer(u)}return Tr()(t,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(t){var e=t.width,n=t.height;this.framebuffer.resize(e,n)}}]),t}(),$h=n(51),td=n.n($h),ed=n(101),nd=n.n(ed);function rd(t){var e={};return Object.keys(t).forEach((function(n){!function t(e,n,r,o){if(null===n||"number"==typeof n||"boolean"==typeof n||Array.isArray(n)&&"number"==typeof n[0]||Wl()(n)||""===n||"resize"in n)return void(r["".concat(o&&o+".").concat(e)]=n);nd()(n)&&Object.keys(n).forEach((function(i){t(i,n[i],r,"".concat(o&&o+".").concat(e))}));Array.isArray(n)&&n.forEach((function(n,i){Object.keys(n).forEach((function(a){t(a,n[a],r,"".concat(o&&o+".").concat(e,"[").concat(i,"]"))}))}))}(n,t[n],e,"")})),e}function od(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function id(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?od(Object(n),!0).forEach((function(e){uo()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):od(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ad,ud,sd=function(){function t(e,n){Er()(this,t),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=e;var r=n.vs,o=n.fs,i=n.attributes,a=n.uniforms,u=n.primitive,s=n.count,c=n.elements,f=n.depth,l=n.blend,h=n.stencil,d=n.cull,p=n.instances,v=n.scissor,m=n.viewport,y={};a&&(this.uniforms=rd(a),Object.keys(a).forEach((function(t){y[t]=e.prop(t)})));var g={};Object.keys(i).forEach((function(t){g[t]=i[t].get()}));var b={attributes:g,frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\\n  precision highp float;\\n#else\\n  precision mediump float;\\n#endif\\n".concat(o),uniforms:y,vert:r,primitive:Dh[void 0===u?Qu.TRIANGLES:u]};p&&(b.instances=p),s&&(b.count=s),c&&(b.elements=c.get()),v&&(b.scissor=v),m&&(b.viewport=m),this.initDepthDrawParams({depth:f},b),this.initBlendDrawParams({blend:l},b),this.initStencilDrawParams({stencil:h},b),this.initCullDrawParams({cull:d},b),this.drawCommand=e(b)}return Tr()(t,[{key:"addUniforms",value:function(t){this.uniforms=id(id({},this.uniforms),rd(t))}},{key:"draw",value:function(t){var e=id(id({},this.uniforms),rd(t.uniforms||{})),n={};Object.keys(e).forEach((function(t){var r=td()(e[t]);"boolean"===r||"number"===r||Array.isArray(e[t])||e[t].BYTES_PER_ELEMENT?n[t]=e[t]:n[t]=e[t].get()})),this.drawCommand(n)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(t,e){var n=t.depth;n&&(e.depth={enable:void 0===n.enable||!!n.enable,mask:void 0===n.mask||!!n.mask,func:Lh[n.func||Qu.LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(t,e){var n=t.blend;if(n){var r=n.enable,o=n.func,i=n.equation,a=n.color,u=void 0===a?[0,0,0,0]:a;e.blend={enable:!!r,func:{srcRGB:Bh[o&&o.srcRGB||Qu.SRC_ALPHA],srcAlpha:Bh[o&&o.srcAlpha||Qu.SRC_ALPHA],dstRGB:Bh[o&&o.dstRGB||Qu.ONE_MINUS_SRC_ALPHA],dstAlpha:Bh[o&&o.dstAlpha||Qu.ONE_MINUS_SRC_ALPHA]},equation:{rgb:Uh[i&&i.rgb||Qu.FUNC_ADD],alpha:Uh[i&&i.alpha||Qu.FUNC_ADD]},color:u}}}},{key:"initStencilDrawParams",value:function(t,e){var n=t.stencil;if(n){var r=n.enable,o=n.mask,i=void 0===o?-1:o,a=n.func,u=void 0===a?{cmp:Qu.ALWAYS,ref:0,mask:-1}:a,s=n.opFront,c=void 0===s?{fail:Qu.KEEP,zfail:Qu.KEEP,zpass:Qu.KEEP}:s,f=n.opBack,l=void 0===f?{fail:Qu.KEEP,zfail:Qu.KEEP,zpass:Qu.KEEP}:f;e.stencil={enable:!!r,mask:i,func:id(id({},u),{},{cmp:Fh[u.cmp]}),opFront:{fail:zh[c.fail],zfail:zh[c.zfail],zpass:zh[c.zpass]},opBack:{fail:zh[l.fail],zfail:zh[l.zfail],zpass:zh[l.zpass]}}}}},{key:"initCullDrawParams",value:function(t,e){var n=t.cull;if(n){var r=n.enable,o=n.face,i=void 0===o?Qu.BACK:o;e.cull={enable:!!r,face:Vh[i]}}}}]),t}(),cd=function(){function t(e,n){Er()(this,t),this.texture=void 0,this.width=void 0,this.height=void 0;var r=n.data,o=n.type,i=void 0===o?Qu.UNSIGNED_BYTE:o,a=n.width,u=n.height,s=n.flipY,c=void 0!==s&&s,f=n.format,l=void 0===f?Qu.RGBA:f,h=n.mipmap,d=void 0!==h&&h,p=n.wrapS,v=void 0===p?Qu.CLAMP_TO_EDGE:p,m=n.wrapT,y=void 0===m?Qu.CLAMP_TO_EDGE:m,g=n.aniso,b=void 0===g?0:g,_=n.alignment,x=void 0===_?1:_,w=n.premultiplyAlpha,E=void 0!==w&&w,S=n.mag,T=void 0===S?Qu.NEAREST:S,A=n.min,I=void 0===A?Qu.NEAREST:A,k=n.colorSpace,O=void 0===k?Qu.BROWSER_DEFAULT_WEBGL:k;this.width=a,this.height=u;var D={width:a,height:u,type:Mh[i],format:Ch[l],wrapS:Gh[v],wrapT:Gh[y],mag:Ph[T],min:Ph[I],alignment:x,flipY:c,colorSpace:jh[O],premultiplyAlpha:E,aniso:b};r&&(D.data=r),"number"==typeof d?D.mipmap=Nh[d]:"boolean"==typeof d&&(D.mipmap=d),this.texture=e.texture(D)}return Tr()(t,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(t){var e=t.width,n=t.height;this.texture.resize(e,n),this.width=e,this.height=n}},{key:"destroy",value:function(){this.texture.destroy()}}]),t}(),fd=Object(Lr.injectable)()(ad=function(){function t(){var e=this;Er()(this,t),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var t=Rr()(Or.a.mark((function t(n){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new sd(e.gl,n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new Oh(e.gl,t)},this.createBuffer=function(t){return new Wh(e.gl,t)},this.createElements=function(t){return new Qh(e.gl,t)},this.createTexture2D=function(t){return new cd(e.gl,t)},this.createFramebuffer=function(t){return new Jh(e.gl,t)},this.useFramebuffer=function(t,n){e.gl({framebuffer:t?t.get():null})(n)},this.createComputeModel=function(){var t=Rr()(Or.a.mark((function t(n){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Zh(e.gl,n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.clear=function(t){var n=t.color,r=t.depth,o=t.stencil,i=t.framebuffer,a=void 0===i?null:i,u={color:n,depth:r,stencil:o};u.framebuffer=null===a?a:a.get(),e.gl.clear(u)},this.setScissor=function(t){e.gl&&e.gl._gl&&(t.enable&&t.box?(e.gl._gl.enable(Qu.SCISSOR_TEST),e.gl._gl.scissor(t.box.x,t.box.y,t.box.width,t.box.height)):e.gl._gl.disable(Qu.SCISSOR_TEST),e.gl._refresh())},this.viewport=function(t){var n=t.x,r=t.y,o=t.width,i=t.height;e.gl&&e.gl._gl&&(e.gl._gl.viewport(n,r,o,i),e.gl._refresh())},this.readPixels=function(t){var n=t.framebuffer,r={x:t.x,y:t.y,width:t.width,height:t.height};return n&&(r.framebuffer=n.get()),e.gl.read(r)},this.getCanvas=function(){return e.$canvas},this.getGLContext=function(){return e.gl._gl},this.destroy=function(){e.gl&&(e.gl.destroy(),e.inited=!1)}}var e;return Tr()(t,[{key:"init",value:(e=Rr()(Or.a.mark((function t(e){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.inited){t.next=2;break}return t.abrupt("return");case 2:return this.$canvas=e.canvas,t.next=5,new Promise((function(t,n){kh()({canvas:e.canvas,attributes:{alpha:!0,antialias:e.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(e,r){!e&&r||n(e),t(r)}})}));case 5:this.gl=t.sent,this.inited=!0;case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),t}())||ad;function ld(t,e,n,r){if("undefined"!=typeof window){var o=document.getElementsByTagName("head")[0],i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",t),r&&(i.id=r),i.onload=function(){e&&e()},i.onerror=function(e){n&&n("Unable to load script '".concat(t,"'"),e)},o.appendChild(i)}}function hd(t,e){return new Promise((function(e,n){ld(t,(function(){e()}),(function(t,e){n(e)}))}))}var dd=function(){return pd.apply(this,arguments)};function pd(){return(pd=Rr()(Or.a.mark((function t(){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!ud){t.next=2;break}return t.abrupt("return",ud);case 2:return t.next=4,hd("https://preview.babylonjs.com/glslang/glslang.js");case 4:return ud=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),t.abrupt("return",ud);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var vd,md,yd,gd,bd,_d,xd,wd=function(){function t(e,n){Er()(this,t),this.engine=e,this.options=n,this.attribute=void 0,this.buffer=void 0;var r=n,o=r.buffer,i=r.offset,a=r.stride,u=r.normalized,s=r.size,c=r.divisor,f=r.arrayStride,l=r.attributes,h=r.stepMode;this.buffer=o,this.attribute={buffer:o.get(),offset:i||0,stride:a||0,normalized:u||!1,divisor:c||0,arrayStride:f||0,attributes:l,stepMode:h||"vertex"},s&&(this.attribute.size=s)}return Tr()(t,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),t}(),Ed=function(){function t(e,n){Er()(this,t),this.engine=e,this.options=n,this.buffer=void 0;var r=n,o=r.data,i=r.usage;r.type;this.buffer=this.createBuffer(o instanceof Array?new Float32Array(o):o,i||ql.BufferUsage.Vertex|ql.BufferUsage.CopyDst)}return Tr()(t,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(t){var e=t.data,n=t.offset;this.setSubData(this.buffer,n,e instanceof Array?new Float32Array(e):e)}},{key:"createBuffer",value:function(t,e){var n=t.byteLength%4,r={size:t.byteLength+n,usage:e},o=this.engine.device.createBuffer(r);return this.setSubData(o,0,t),o}},{key:"setSubData",value:function(t,e,n){(xl?this.engine.device.getQueue():this.engine.device.defaultQueue).writeBuffer(t,e,n)}}]),t}(),Sd=n(52),Td=n.n(Sd),Ad=function(){function t(e,n){Er()(this,t),this.engine=e,this.context=n,this.entity=Cr(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}var e,n,r;return Tr()(t,[{key:"init",value:(r=Rr()(Or.a.mark((function t(){var e,n,r,o,i,a,u,s=this;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:e=t.sent,n=e.computeStage,r=this.context.uniforms.filter((function(t){return t.storageClass===bl.StorageBuffer})),o=this.context.uniforms.filter((function(t){return t.storageClass===bl.Uniform})),i=o.length?1:0,this.bindGroupEntries=[],i&&(a=0,u=[],o.forEach((function(t){if(fc()(t.data))s.uniformGPUBufferLayout.push({name:t.name,offset:a}),a+=4,u.push(t.data);else{var e,n=(null===(e=t.data)||void 0===e?void 0:e.length)||1;3===n&&(n=4,t.data.push(0));var r=a/4%4;if(r>0){var o=4-r;if(n>1&&n<=o)2===n&&(3===o&&(a+=4,u.push(0)),u.push.apply(u,Hh()(t.data)),s.uniformGPUBufferLayout.push({name:t.name,offset:a}));else{for(var i=0;i<o;i++)a+=4,u.push(0);u.push.apply(u,Hh()(t.data)),s.uniformGPUBufferLayout.push({name:t.name,offset:a})}}a+=4*n}})),this.uniformBuffer=new Ed(this.engine,{data:u instanceof Array?new Float32Array(u):u,usage:ql.BufferUsage.Uniform|ql.BufferUsage.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),r.forEach((function(t){var e;Td()(t.data)||t.type!==yl.Vector4FloatArray&&t.type!==yl.FloatArray||(t.name===s.context.output.name?(e=new Ed(s.engine,{data:isFinite(Number(t.data))?[t.data]:t.data,usage:ql.BufferUsage.Storage|ql.BufferUsage.CopyDst|ql.BufferUsage.CopySrc}),s.outputBuffer=e,s.context.output={name:t.name,length:isFinite(Number(t.data))?1:t.data.length,typedArrayConstructor:Float32Array,gpuBuffer:e.get()}):t.isReferer?t.data.model&&t.data.model.outputBuffer&&(e=t.data.model.outputBuffer):e=new Ed(s.engine,{data:isFinite(Number(t.data))?[t.data]:t.data,usage:ql.BufferUsage.Storage|ql.BufferUsage.CopyDst|ql.BufferUsage.CopySrc}),s.vertexBuffers[t.name]=e,s.bindGroupEntries.push({binding:i,resource:{name:t.name,refer:e?void 0:t.data,buffer:e?e.get():void 0}}),i++)})),this.computePipeline=this.engine.device.createComputePipeline({computeStage:n}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"destroy",value:function(){var t=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach((function(e){return t.vertexBuffers[e].destroy()}))}},{key:"readData",value:(n=Rr()(Or.a.mark((function t(){var e,n,r,o,i,a,u,s,c;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this.context.output)){t.next=16;break}if(n=e.length,r=e.typedArrayConstructor,!(o=e.gpuBuffer)){t.next=16;break}return i=n*r.BYTES_PER_ELEMENT,a=this.engine.device.createBuffer({size:i,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),(u=this.engine.device.createCommandEncoder()).copyBufferToBuffer(o,0,a,0,i),(xl?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([u.finish()]),t.next=12,a.mapAsync(ql.MapMode.Read);case 12:return s=a.getMappedRange(),c=new r(s.slice(0)),a.unmap(),t.abrupt("return",c);case 16:return t.abrupt("return",new Float32Array);case 17:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"run",value:function(){var t;this.engine.currentComputePass&&(this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(t=this.engine.currentComputePass).dispatch.apply(t,Hh()(this.context.dispatch)))}},{key:"updateBuffer",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=this.vertexBuffers[t];r&&r.subData({data:e,offset:n})}},{key:"updateUniform",value:function(t,e){var n=this.uniformGPUBufferLayout.find((function(e){return e.name===t}));n&&this.uniformBuffer.subData({data:Number.isFinite(e)?new Float32Array([e]):new Float32Array(e),offset:n.offset})}},{key:"confirmInput",value:function(t,e){var n=this.vertexBuffers[e],r=t.outputBuffer;if(n&&r&&n!==r){var o=this.engine.device.createCommandEncoder(),i=t.context.output,a=i.length*i.typedArrayConstructor.BYTES_PER_ELEMENT;o.copyBufferToBuffer(r.get(),0,n.get(),0,a),(xl?this.engine.device.getQueue():this.engine.device.defaultQueue).submit([o.finish()])}}},{key:"compileShaderToSpirV",value:function(t,e,n){return this.compileRawShaderToSpirV(n+t,e)}},{key:"compileRawShaderToSpirV",value:function(t,e){return this.engine.glslang.compileGLSL(t,e)}},{key:"compileComputePipelineStageDescriptor",value:(e=Rr()(Or.a.mark((function t(e){var n;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e,this.engine.options.useWGSL){t.next=6;break}return t.next=5,this.compileShaderToSpirV(e,"compute","#version 450\\n");case 5:n=t.sent;case 6:return t.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:n,isWHLSL:xl}),entryPoint:"main"}});case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]),t}(),Id=function(){function t(e,n){Er()(this,t),this.engine=e,this.options=n,this.indexCount=void 0,this.buffer=void 0;var r=n,o=r.data,i=(r.usage,r.type,r.count);this.indexCount=i||0,this.buffer=new Ed(e,{data:o instanceof Array?new Uint16Array(o):o,usage:ql.BufferUsage.Index|ql.BufferUsage.CopyDst})}return Tr()(t,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),t}(),kd=function(){function t(e,n){Er()(this,t),this.engine=e,this.options=n,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var r=n,o=(r.width,r.height,r.color),i=(r.colors,r.depth);r.stencil;o&&(this.colorTexture=o),i&&(this.depthTexture=i)}return Tr()(t,[{key:"get",value:function(){var t,e;return{color:null===(t=this.colorTexture)||void 0===t?void 0:t.get(),depth:null===(e=this.depthTexture)||void 0===e?void 0:e.get()}}},{key:"destroy",value:function(){var t,e;null===(t=this.colorTexture)||void 0===t||t.destroy(),null===(e=this.depthTexture)||void 0===e||e.destroy()}},{key:"resize",value:function(t){var e,n,r=t.width,o=t.height;r===this.width&&o===this.height||(null===(e=this.colorTexture)||void 0===e||e.resize({width:r,height:o}),null===(n=this.depthTexture)||void 0===n||n.resize({width:r,height:o}));this.width=r,this.height=o}}]),t}(),Od=(vd={},uo()(vd,Qu.POINTS,ql.PrimitiveTopology.PointList),uo()(vd,Qu.LINES,ql.PrimitiveTopology.LineList),uo()(vd,Qu.LINE_LOOP,ql.PrimitiveTopology.LineList),uo()(vd,Qu.LINE_STRIP,ql.PrimitiveTopology.LineStrip),uo()(vd,Qu.TRIANGLES,ql.PrimitiveTopology.TriangleList),uo()(vd,Qu.TRIANGLE_FAN,ql.PrimitiveTopology.TriangleList),uo()(vd,Qu.TRIANGLE_STRIP,ql.PrimitiveTopology.TriangleStrip),vd),Dd=(md={},uo()(md,Qu.NEVER,ql.CompareFunction.Never),uo()(md,Qu.ALWAYS,ql.CompareFunction.Always),uo()(md,Qu.LESS,ql.CompareFunction.Less),uo()(md,Qu.LEQUAL,ql.CompareFunction.LessEqual),uo()(md,Qu.GREATER,ql.CompareFunction.Greater),uo()(md,Qu.GEQUAL,ql.CompareFunction.GreaterEqual),uo()(md,Qu.EQUAL,ql.CompareFunction.Equal),uo()(md,Qu.NOTEQUAL,ql.CompareFunction.NotEqual),md),Rd=(yd={},uo()(yd,Qu.FUNC_ADD,ql.BlendOperation.Add),uo()(yd,Qu.MIN_EXT,ql.BlendOperation.Min),uo()(yd,Qu.MAX_EXT,ql.BlendOperation.Max),uo()(yd,Qu.FUNC_SUBTRACT,ql.BlendOperation.Subtract),uo()(yd,Qu.FUNC_REVERSE_SUBTRACT,ql.BlendOperation.ReverseSubtract),yd),Md=(gd={},uo()(gd,Qu.ZERO,ql.BlendFactor.Zero),uo()(gd,Qu.ONE,ql.BlendFactor.One),uo()(gd,Qu.SRC_COLOR,ql.BlendFactor.SrcColor),uo()(gd,Qu.ONE_MINUS_SRC_COLOR,ql.BlendFactor.OneMinusSrcColor),uo()(gd,Qu.SRC_ALPHA,ql.BlendFactor.SrcAlpha),uo()(gd,Qu.ONE_MINUS_SRC_ALPHA,ql.BlendFactor.OneMinusSrcAlpha),uo()(gd,Qu.DST_COLOR,ql.BlendFactor.DstColor),uo()(gd,Qu.ONE_MINUS_DST_COLOR,ql.BlendFactor.OneMinusDstColor),uo()(gd,Qu.DST_ALPHA,ql.BlendFactor.DstAlpha),uo()(gd,Qu.ONE_MINUS_DST_ALPHA,ql.BlendFactor.OneMinusDstAlpha),uo()(gd,Qu.CONSTANT_COLOR,ql.BlendFactor.BlendColor),uo()(gd,Qu.ONE_MINUS_CONSTANT_COLOR,ql.BlendFactor.OneMinusBlendColor),uo()(gd,Qu.SRC_ALPHA_SATURATE,ql.BlendFactor.SrcAlphaSaturated),gd),Cd=(bd={},uo()(bd,Qu.ALPHA,"r8unorm"),uo()(bd,Qu.RGBA,"rgba8unorm"),uo()(bd,Qu.DEPTH_COMPONENT,"depth32float"),uo()(bd,Qu.DEPTH_STENCIL,"depth24plus-stencil8"),bd),Nd=(_d={},uo()(_d,Qu.NEAREST,"nearest"),uo()(_d,Qu.LINEAR,"linear"),_d),Pd=(xd={},uo()(xd,Qu.REPEAT,"repeat"),uo()(xd,Qu.CLAMP_TO_EDGE,"clamp-to-edge"),uo()(xd,Qu.MIRRORED_REPEAT,"mirror-repeat"),xd);function Gd(t){var e=t.cull;return e&&e.enable?e.face?e.face===Qu.FRONT?ql.CullMode.Front:ql.CullMode.Back:void 0:ql.CullMode.None}function jd(t){var e=t.depth,n=(t.stencil,{compare:ql.CompareFunction.Always,depthFailOp:ql.StencilOperation.Keep,failOp:ql.StencilOperation.Keep,passOp:ql.StencilOperation.Keep});return{depthWriteEnabled:e&&e.enable,depthCompare:Dd[(null==e?void 0:e.func)||Qu.ALWAYS],format:ql.TextureFormat.Depth24PlusStencil8,stencilFront:n,stencilBack:n,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function Ld(t,e){var n=t.blend;return[{format:e,alphaBlend:{srcFactor:Md[n&&n.func&&n.func.srcAlpha||Qu.ONE],dstFactor:Md[n&&n.func&&n.func.dstAlpha||Qu.ZERO],operation:Rd[n&&n.equation&&n.equation.alpha||Qu.FUNC_ADD]},colorBlend:{srcFactor:Md[n&&n.func&&n.func.srcRGB||Qu.ONE],dstFactor:Md[n&&n.func&&n.func.dstRGB||Qu.ZERO],operation:Rd[n&&n.equation&&n.equation.rgb||Qu.FUNC_ADD]},writeMask:ql.ColorWrite.All}]}function Ud(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ud(Object(n),!0).forEach((function(e){uo()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ud(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fd(t){for(var e=0,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var i=0,a=r;i<a.length;i++){var u=a[i];e+=u.length}for(var s=new t(e),c=0,f=0,l=r;f<l.length;f++){var h=l[f];s.set(h,c),c+=h.length}return s}var zd,Vd,Wd,Xd,Hd,qd,Yd,Kd,Zd,Qd,Jd,$d,tp=function(){function t(e,n){Er()(this,t),this.engine=e,this.options=n,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}var e,n;return Tr()(t,[{key:"init",value:(n=Rr()(Or.a.mark((function t(){var e,n,r,o,i,a,u,s,c,f,l,h,d,p,v,m,y=this;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.options,n=e.vs,r=e.fs,o=e.attributes,i=e.uniforms,a=e.primitive,e.count,u=e.elements,s=e.depth,c=e.blend,f=e.stencil,l=e.cull,e.instances,t.next=3,this.compilePipelineStageDescriptor(n,r,null);case 3:h=t.sent,d=h.vertexStage,p=h.fragmentStage,i&&this.buildUniformBindGroup(i),u&&(this.indexBuffer=u.get(),this.indexCount=u.indexCount),v={vertexBuffers:Object.keys(o).map((function(t,e){var n=o[t],r=n.get(),i=r.arrayStride,a=r.stepMode,u=r.attributes;return y.attributeCache[t]=n,{arrayStride:i,stepMode:a,attributes:u}}))},m={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:Od[a||Qu.TRIANGLES],rasterizationState:Bd(Bd({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:Gd({cull:l})}),depthStencilState:jd({depth:s,stencil:f}),colorStates:Ld({blend:c},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:d,fragmentStage:p,vertexState:v},this.renderPipeline=this.engine.device.createRenderPipeline(m);case 11:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"addUniforms",value:function(t){this.uniforms=Bd(Bd({},this.uniforms),rd(t))}},{key:"draw",value:function(t){var e=this,n=this.engine.getCurrentRenderPass(),r=Bd(Bd({},this.uniforms),rd(t.uniforms||{})),o=[];Object.keys(r).forEach((function(t){var n=td()(r[t]);if("boolean"===n||"number"===n||Array.isArray(r[t])||r[t].BYTES_PER_ELEMENT){var i,a=null===(i=e.uniformGPUBufferLayout.find((function(e){return e.name===t})))||void 0===i?void 0:i.offset;Td()(a)||e.uniformBuffer.subData({data:r[t],offset:a})}else{var u,s=null===(u=e.uniformGPUBufferLayout.find((function(e){return e.name===t})))||void 0===u?void 0:u.offset;if(!Td()(s)){var c=r[t].get(),f=c.color||c,l=f.texture,h=f.sampler;h&&(o.push({binding:s,resource:h}),s++),o.push({binding:s,resource:l.createView()})}}})),this.uniformBuffer&&(o[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:o}),this.renderPipeline&&n.setPipeline(this.renderPipeline),n.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&n.setIndexBuffer(this.indexBuffer.get(),ql.IndexFormat.Uint32,0),Object.keys(this.attributeCache).forEach((function(t,r){n.setVertexBuffer(0+r,e.attributeCache[t].get().buffer,0)})),this.indexBuffer?n.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):n.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:(e=Rr()(Or.a.mark((function t(e,n,r){var o,i,a;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o="#version 450\\n",i=e,a=n,this.engine.options.useWGSL){t.next=10;break}return t.next=6,this.compileShaderToSpirV(e,"vertex",o);case 6:return i=t.sent,t.next=9,this.compileShaderToSpirV(n,"fragment",o);case 9:a=t.sent;case 10:return t.abrupt("return",this.createPipelineStageDescriptor(i,a));case 11:case"end":return t.stop()}}),t,this)}))),function(t,n,r){return e.apply(this,arguments)})},{key:"compileShaderToSpirV",value:function(t,e,n){return this.compileRawShaderToSpirV(n+t,e)}},{key:"compileRawShaderToSpirV",value:function(t,e){return this.engine.glslang.compileGLSL(t,e)}},{key:"createPipelineStageDescriptor",value:function(t,e){return{vertexStage:{module:this.engine.device.createShaderModule({code:t,isWHLSL:xl}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:e,isWHLSL:xl}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:ql.FrontFace.CCW,cullMode:ql.CullMode.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(t){var e=this,n=0,r=Fd.apply(void 0,[Float32Array].concat(Hh()(Object.keys(t).map((function(r){return t[r]?(e.uniformGPUBufferLayout.push({name:r,offset:n}),n+=4*(t[r].length||1),t[r]):[]}))))),o=[],i=!1;r.length&&(i=!0,o.push({binding:0,visibility:ql.ShaderStage.Fragment|ql.ShaderStage.Vertex,type:ql.BindingType.UniformBuffer})),Object.keys(t).filter((function(e){return null===t[e]})).forEach((function(t,n){e.uniformGPUBufferLayout.push({name:t,offset:2*n+(i?1:0)}),o.push({binding:2*n+(i?1:0),visibility:ql.ShaderStage.Fragment,type:ql.BindingType.Sampler},{binding:2*n+(i?1:0)+1,visibility:ql.ShaderStage.Fragment,type:ql.BindingType.SampledTexture})})),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:o}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),i&&(this.uniformBuffer=new Ed(this.engine,{data:r instanceof Array?new Float32Array(r):r,usage:ql.BufferUsage.Uniform|ql.BufferUsage.CopyDst}))}}]),t}(),ep=function(){function t(e,n){Er()(this,t),this.engine=e,this.options=n,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return Tr()(t,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(t){var e=t.width,n=t.height;e===this.width&&n===this.height||(this.destroy(),this.createTexture()),this.width=e,this.height=n}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var t=this.options,e=(t.data,t.type),n=(void 0===e&&Qu.UNSIGNED_BYTE,t.width),r=t.height,o=(t.flipY,t.format),i=void 0===o?Qu.RGBA:o,a=(t.mipmap,t.wrapS),u=void 0===a?Qu.CLAMP_TO_EDGE:a,s=t.wrapT,c=void 0===s?Qu.CLAMP_TO_EDGE:s,f=t.aniso,l=void 0===f?0:f,h=(t.alignment,t.premultiplyAlpha,t.mag),d=void 0===h?Qu.NEAREST:h,p=t.min,v=void 0===p?Qu.NEAREST:p,m=t.colorSpace,y=(void 0===m&&Qu.BROWSER_DEFAULT_WEBGL,t.usage);this.width=n,this.height=r,this.texture=this.engine.device.createTexture({size:[n,r,1],mipLevelCount:1,sampleCount:1,dimension:ql.TextureDimension.E2d,format:Cd[i],usage:y||ql.TextureUsage.Sampled|ql.TextureUsage.CopyDst}),(!y||y&ql.TextureUsage.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:Pd[u],addressModeV:Pd[c],addressModeW:Pd[u],magFilter:Nd[d],minFilter:Nd[v],maxAnisotropy:l}))}}]),t}(),np=Object(Lr.injectable)()(zd=function(){function t(){var e=this;Er()(this,t),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:1/0,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(t){t.framebuffer;var n=t.color,r=t.depth,o=t.stencil;e.options.supportCompute&&e.startComputePass(),e.currentRenderTarget?(e.currentRenderPass&&e.endRenderTargetRenderPass(),e.startRenderTargetRenderPass(e.currentRenderTarget,n||null,!!r,!!o)):(e.mainColorAttachments[0].loadValue=n||ql.LoadOp.Load,e.mainDepthAttachment.depthLoadValue=r||ql.LoadOp.Load,e.mainDepthAttachment.stencilLoadValue=o?e.clearStencilValue:ql.LoadOp.Load,e.mainRenderPass&&e.endMainRenderPass(),e.startMainRenderPass())},this.createModel=function(){var t=Rr()(Or.a.mark((function t(n){var r;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new tp(e,n),t.next=3,r.init();case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new wd(e,t)},this.createBuffer=function(t){return new Ed(e,t)},this.createElements=function(t){return new Id(e,t)},this.createTexture2D=function(t){return new ep(e,t)},this.createFramebuffer=function(t){return new kd(e,t)},this.useFramebuffer=function(t,n){e.currentRenderTarget&&e.unbindFramebuffer(e.currentRenderTarget),e.currentRenderTarget=t,e.currentRenderTargetViewDescriptor={dimension:ql.TextureViewDimension.E2d,arrayLayerCount:1,aspect:ql.TextureAspect.All},e.currentRenderPass=null,n()},this.createComputeModel=function(){var t=Rr()(Or.a.mark((function t(n){var r;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new Ad(e,n),t.next=3,r.init();case 3:return t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.getCanvas=function(){return e.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(t){var n=t.x,r=t.y,o=t.width,i=t.height;if(e.currentRenderPass){if(e.transientViewport.x!==1/0){e.getCurrentRenderPass().setViewport(e.transientViewport.x,e.transientViewport.y,e.transientViewport.width,e.transientViewport.height,0,1)}else if(n!==e.cachedViewport.x||r!==e.cachedViewport.y||o!==e.cachedViewport.width||i!==e.cachedViewport.height){e.cachedViewport={x:n,y:r,width:o,height:i},e.getCurrentRenderPass().setViewport(n,r,o,i,0,1)}}else e.transientViewport={x:n,y:r,width:o,height:i}},this.readPixels=function(t){throw new Error("Method not implemented.")}}var e,n;return Tr()(t,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:(n=Rr()(Or.a.mark((function t(e){return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.canvas=e.canvas,this.options=e,this.useWGSL=!!e.useWGSL,this.mainPassSampleCount=e.antialiasing?this.defaultSampleCount:1,t.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach((function(t){return t.destroy()})),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),xl?this.device.getQueue().submit(this.commandBuffers.filter((function(t){return t}))):this.device.defaultQueue.submit(this.commandBuffers.filter((function(t){return t})))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:(e=Rr()(Or.a.mark((function t(){var e,n;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dd();case 2:return this.glslang=t.sent,t.next=5,null===(e=navigator)||void 0===e||null===(n=e.gpu)||void 0===n?void 0:n.requestAdapter();case 5:return this.adapter=t.sent,t.next=8,this.adapter.requestDevice();case 8:this.device=t.sent;case 9:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(xl?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:ql.TextureUsage.OutputAttachment|ql.TextureUsage.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var t={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:ql.TextureDimension.E2d,format:ql.TextureFormat.BGRA8Unorm,usage:ql.TextureUsage.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(t),this.mainColorAttachments=[{attachment:xl?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:ql.StoreOp.Store}]}else this.mainColorAttachments=[{attachment:xl?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:ql.StoreOp.Store}];var e={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:ql.TextureDimension.E2d,format:xl?"depth32float-stencil8":ql.TextureFormat.Depth24PlusStencil8,usage:ql.TextureUsage.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(e),this.mainDepthAttachment={attachment:xl?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:ql.StoreOp.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:ql.StoreOp.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=xl?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=xl?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(t,e,n){var r,o,i,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=null===(r=t.get().color)||void 0===r?void 0:r.texture;u&&(i=u.createView(this.currentRenderTargetViewDescriptor));var s,c=null===(o=t.get().depth)||void 0===o?void 0:o.texture;c&&(s=c.createView());var f=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:i,loadValue:null!==e?e:ql.LoadOp.Load,storeOp:ql.StoreOp.Store}],depthStencilAttachment:c&&s?{attachment:s,depthLoadValue:n?this.clearDepthValue:ql.LoadOp.Load,depthStoreOp:ql.StoreOp.Store,stencilLoadValue:a?this.clearStencilValue:ql.LoadOp.Load,stencilStoreOp:ql.StoreOp.Store}:void 0});this.currentRenderPass=f,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&null!==this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(t){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=1/0,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),t}())||zd;function rp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}var op=(Vd=Object(Lr.injectable)(),Wd=Object(Lr.inject)(Ur.Systems),Xd=Object(Lr.named)(Ur.MaterialSystem),Hd=Object(Lr.inject)(Ur.Systems),qd=Object(Lr.named)(Ur.GeometrySystem),Yd=Object(Lr.inject)(Ur.ShaderModuleService),Vd((Zd=function(t){Wr()(n,t);var e=rp(n);function n(){var t;Er()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),xr()(t,"materialSystem",Qd,co()(t)),xr()(t,"geometrySystem",Jd,co()(t)),xr()(t,"shaderModuleService",$d,co()(t)),t}return Tr()(n,[{key:"onAttributeChanged",value:function(t){var e=t.name,n=t.data,r=this.getMeshComponent();r&&r.material&&("gridColor"===e?(r.material.setUniform("u_GridColor",n),r.material.setUniform("u_GridColor2",n)):"gridSize"===e&&(r.material.setUniform("u_GridSize",n),r.material.setUniform("u_GridSize2",n)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:"attribute vec3 a_Position;\\n\\nvarying vec3 v_Position;\\n\\nuniform mat4 projectionMatrix;\\nuniform mat4 modelViewMatrix;\\n\\nvoid main() {\\n  v_Position = a_Position;\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);\\n}",fs:"// generate grid, borrow from clay.gl viewer\\n// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl\\n#extension GL_OES_standard_derivatives : enable\\n\\nvarying vec3 v_Position;\\n// varying vec3 v_Normal;\\n\\nuniform float u_GridSize : 5;\\nuniform float u_GridSize2 : .5;\\nuniform vec4 u_GridColor : [0, 0, 0, 1];\\nuniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];\\nuniform bool u_GridEnabled : true;\\n\\n// uniform vec3 u_LightDirection;\\n// uniform vec3 u_LightColor;\\n// uniform vec3 u_Camera;\\n\\nvoid main() {\\n  // vec3 n = v_Normal;\\n  // vec3 l = normalize(u_LightDirection);\\n  // float NdotL = clamp(dot(n, l), 0.001, 1.0);\\n\\n  gl_FragColor = vec4(1.);\\n\\n  if (u_GridEnabled) {\\n    float wx = v_Position.x;\\n    float wz = v_Position.z;\\n    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;\\n    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;\\n\\n    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;\\n    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;\\n\\n    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);\\n    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);\\n    // if (v0 > 0.1) {\\n        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);\\n    // }\\n    // else {\\n        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);\\n    // }\\n  }\\n\\n  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);\\n  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;\\n\\n  // gl_FragColor.rgb *= diffuseColor;\\n}"});var t=this.shaderModuleService.getModule("grid"),e=t.vs,n=t.fs,r=t.uniforms,o=this.materialSystem.createShaderMaterial({vertexShader:e,fragmentShader:n});this.setMaterial(o);var i=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(i),o.setCull({enable:!1,face:Qu.BACK}).setDepth({enable:!0,func:Qu.LESS}),o.setUniform(r),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),i.setIndex([0,3,2,2,1,0]),i.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),n}(Ah),Qd=Ir()(Zd.prototype,"materialSystem",[Wd,Xd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jd=Ir()(Zd.prototype,"geometrySystem",[Hd,qd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$d=Ir()(Zd.prototype,"shaderModuleService",[Yd],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kd=Zd))||Kd),ip=n(53),ap=n(36);function up(t,e,n,r,o){sp(e,r,-o),sp(e,r,o),t.push(n),t.push(n)}function sp(t,e,n){t.push([[e[0],e[1]],n])}var cp,fp,lp,hp,dp,pp,vp,mp,yp,gp,bp;function _p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}var xp,wp,Ep,Sp,Tp,Ap,Ip,kp,Op,Dp,Rp,Mp=(cp=Object(Lr.injectable)(),fp=Object(Lr.inject)(Ur.Systems),lp=Object(Lr.named)(Ur.MaterialSystem),hp=Object(Lr.inject)(Ur.Systems),dp=Object(Lr.named)(Ur.GeometrySystem),pp=Object(Lr.inject)(Ur.ShaderModuleService),cp((mp=function(t){Wr()(n,t);var e=_p(n);function n(){var t;Er()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),xr()(t,"materialSystem",yp,co()(t)),xr()(t,"geometrySystem",gp,co()(t)),xr()(t,"shaderModuleService",bp,co()(t)),t.vertexCount=void 0,t}return Tr()(n,[{key:"onAttributeChanged",value:function(t){var e=t.name,n=t.data,r=this.getMeshComponent();if(r&&r.material)switch(e){case"dashArray":r.material.setUniform("u_dash_array",n);break;case"dashOffset":r.material.setUniform("u_dash_offset",n);break;case"dashRatio":r.material.setUniform("u_dash_ratio",n);break;case"thickness":r.material.setUniform("u_thickness",n);break;case"color":var o=new Array(this.vertexCount).fill(void 0).map((function(){return n})).reduce((function(t,e){return[].concat(Hh()(t),Hh()(e))}),[]);r.geometry.setAttribute("a_color",Float32Array.from(o),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]})}}},{key:"onEntityCreated",value:function(){var t=this;this.shaderModuleService.registerModule("line",{vs:"attribute vec2 a_pos;\\nattribute vec4 a_color;\\nattribute float a_line_miter;\\nattribute vec2 a_line_normal;\\nattribute float a_counters;\\n\\nuniform mat4 projectionMatrix;\\nuniform mat4 modelViewMatrix;\\nuniform float u_thickness : 0.02;\\nuniform vec2 u_viewport;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_counters;\\n\\nvoid main() {\\n  v_color = a_color;\\n  v_counters = a_counters;\\n\\n  vec3 normal = normalize(vec3(a_line_normal, 0.0));\\n\\n  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);\\n\\n  v_normal = vec2(normal * sign(a_line_miter));\\n\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;\\n}\\n",fs:"uniform float u_dash_array : 0.02;\\nuniform float u_dash_offset : 0;\\nuniform float u_dash_ratio : 0;\\nuniform float u_thickness : 0.02;\\n\\nvarying vec4 v_color;\\nvarying vec2 v_normal;\\nvarying float v_counters;\\n\\nvoid main() {\\n    float blur = 1. - smoothstep(0.98, 1., length(v_normal));\\n\\n    gl_FragColor = v_color;\\n    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));\\n}"});var e=this.shaderModuleService.getModule("line"),n=e.vs,r=e.fs,o=e.uniforms,i=this.materialSystem.createShaderMaterial({vertexShader:n,fragmentShader:r}),a=function(t,e,n){var r=[0,0],o=[0,0],i=[0,0],a=[0,0],u=-1,s=!1,c=null,f=Object(ip.create)(),l=n||0,h=[],d=[],p=[],v=[0,0];e&&(t=t.slice()).push(t[0]);for(var m=t.length,y=1;y<m;y++){var g=l,b=t[y-1],_=t[y],x=y<t.length-1?t[y+1]:null;if(v.push(y/m,y/m),Object(ap.direction)(r,_,b),c||(c=[0,0],Object(ap.normal)(c,r)),s||(s=!0,up(d,h,b,c,1)),p.push([g+0,g+1,g+2]),x){Object(ap.direction)(o,x,_);var w=Object(ap.computeMiter)(i,a,r,o,1),E=Object(ip.dot)(i,c)<0?-1:1,S=w>3;if(!isFinite(w)){Object(ap.normal)(c,r),up(d,h,_,c,1),p.push(1===u?[g,g+2,g+3]:[g+2,g+1,g+3]),l+=2,u=E;continue}S?(w=3,v.push(y/m),sp(h,c,-E),d.push(_),sp(h,a,w*E),d.push(_),p.push(u!==-E?[g,g+2,g+3]:[g+2,g+1,g+3]),p.push([g+2,g+3,g+4]),Object(ap.normal)(f,o),Object(ip.copy)(c,f),sp(h,c,-E),d.push(_),l+=3):(up(d,h,_,a,w),p.push(1===u?[g,g+2,g+3]:[g+2,g+1,g+3]),E=-1,Object(ip.copy)(c,a),l+=2),u=E}else Object(ap.normal)(c,r),up(d,h,_,c,1),p.push(1===u?[g,g+2,g+3]:[g+2,g+1,g+3]),l+=2}return{normals:h,attrIndex:p,attrPos:d,attrCounters:v}}(this.config.points,!1),u=a.normals,s=a.attrIndex,c=a.attrPos,f=a.attrCounters,l=c.length;this.vertexCount=l;var h=this.geometrySystem.createBufferGeometry({vertexCount:l});this.setMaterial(i),this.setGeometry(h),i.setCull({enable:!1,face:Qu.BACK}).setUniform(o),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var d=[],p=[];u.forEach((function(t){var e=t[0],n=t[1];d.push([e[0],e[1]]),p.push(n)})),h.setIndex(s.reduce((function(t,e){return[].concat(Hh()(t),Hh()(e))}),[])),h.setAttribute("a_pos",Float32Array.from(c.reduce((function(t,e){return[].concat(Hh()(t),Hh()(e))}),[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var v=new Array(l).fill(void 0).map((function(){return Hh()(t.config.color)})).reduce((function(t,e){return[].concat(Hh()(t),Hh()(e))}),[]);h.setAttribute("a_color",Float32Array.from(v),{arrayStride:16,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),h.setAttribute("a_line_miter",Float32Array.from(p),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),h.setAttribute("a_line_normal",Float32Array.from(d.reduce((function(t,e){return[].concat(Hh()(t),Hh()(e))}),[])),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),h.setAttribute("a_counters",Float32Array.from(f),{arrayStride:4,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),n}(Ah),yp=Ir()(mp.prototype,"materialSystem",[fp,lp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gp=Ir()(mp.prototype,"geometrySystem",[hp,dp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bp=Ir()(mp.prototype,"shaderModuleService",[pp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vp=mp))||vp);function Cp(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Np(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Yr()(t);if(e){var o=Yr()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hr()(this,n)}}var Pp=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"];console.log();var Gp,jp,Lp,Up,Bp,Fp,zp,Vp,Wp,Xp=(xp=Object(Lr.injectable)(),wp=Object(Lr.inject)(Ur.Systems),Ep=Object(Lr.named)(Ur.MaterialSystem),Sp=Object(Lr.inject)(Ur.Systems),Tp=Object(Lr.named)(Ur.GeometrySystem),Ap=Object(Lr.inject)(Ur.ShaderModuleService),xp((kp=function(t){Wr()(n,t);var e=Np(n);function n(){var t;Er()(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),xr()(t,"materialSystem",Op,co()(t)),xr()(t,"geometrySystem",Dp,co()(t)),xr()(t,"shaderModuleService",Rp,co()(t)),t}return Tr()(n,[{key:"onAttributeChanged",value:function(t){var e=t.name,n=t.data,r=this.getMeshComponent();r&&r.material&&("strokeWidth"===e?r.material.setUniform("u_stroke_width",n):"strokeColor"===e?r.material.setUniform("u_stroke_color",n):"strokeOpacity"===e?r.material.setUniform("u_stroke_opacity",n):"opacity"===e?r.material.setUniform("u_opacity",n):"blur"===e&&r.material.setUniform("u_blur",n))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:'attribute vec2 position;\\nattribute vec4 color;\\nattribute float shape;\\nattribute vec2 offset;\\nattribute float size;\\n\\nuniform mat4 projectionMatrix;\\nuniform mat4 modelViewMatrix;\\n\\nuniform float u_stroke_width : 0.01;\\nuniform float u_device_pixel_ratio;\\nuniform vec2 u_viewport;\\n\\nvarying vec4 v_color;\\nvarying vec4 v_data;\\nvarying float v_radius;\\n\\n#pragma include "picking"\\n\\nvoid main() {\\n  v_color = color;\\n  v_radius = size;\\n\\n  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);\\n\\n  // construct point coords\\n  v_data = vec4(position, antialiasblur, shape);\\n\\n  gl_Position = projectionMatrix * modelViewMatrix\\n    * vec4(position * size + offset, 0.0, 1.0);\\n\\n  setPickingColor(a_PickingColor);\\n}',fs:"uniform float u_blur : 0.05;\\nuniform float u_opacity : 0.7;\\nuniform float u_stroke_width : 0.01;\\nuniform vec4 u_stroke_color : [0, 0, 0, 0];\\nuniform float u_stroke_opacity : 1;\\n\\nvarying vec4 v_color;\\nvarying vec4 v_data;\\nvarying float v_radius;\\n\\n#pragma include \\"sdf2d\\"\\n#pragma include \\"picking\\"\\n\\nvoid main() {\\n  int shape = int(floor(v_data.w + 0.5));\\n\\n  float antialiasblur = v_data.z;\\n  float antialiased_blur = -max(u_blur, antialiasblur);\\n  float r = v_radius / (v_radius + u_stroke_width);\\n\\n  float outer_df;\\n  float inner_df;\\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\\n  // if (shape == 0) {\\n    outer_df = sdCircle(v_data.xy, 1.0);\\n    inner_df = sdCircle(v_data.xy, r);\\n  // } else if (shape == 1) {\\n  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\\n  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\\n  // } else if (shape == 2) {\\n  //   outer_df = sdBox(v_data.xy, vec2(1.));\\n  //   inner_df = sdBox(v_data.xy, vec2(r));\\n  // } else if (shape == 3) {\\n  //   outer_df = sdPentagon(v_data.xy, 0.8);\\n  //   inner_df = sdPentagon(v_data.xy, r * 0.8);\\n  // } else if (shape == 4) {\\n  //   outer_df = sdHexagon(v_data.xy, 0.8);\\n  //   inner_df = sdHexagon(v_data.xy, r * 0.8);\\n  // } else if (shape == 5) {\\n  //   outer_df = sdOctogon(v_data.xy, 1.0);\\n  //   inner_df = sdOctogon(v_data.xy, r);\\n  // } else if (shape == 6) {\\n  //   outer_df = sdHexagram(v_data.xy, 0.52);\\n  //   inner_df = sdHexagram(v_data.xy, r * 0.52);\\n  // } else if (shape == 7) {\\n  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));\\n  //   inner_df = sdRhombus(v_data.xy, vec2(r));\\n  // } else if (shape == 8) {\\n  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);\\n  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\\n  // }\\n\\n  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);\\n\\n  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\\n    antialiased_blur,\\n    0.0,\\n    inner_df\\n  );\\n  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;\\n\\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);\\n  gl_FragColor.a = gl_FragColor.a * opacity_t;\\n\\n  gl_FragColor = filterColor(gl_FragColor);\\n}"});var t=this.shaderModuleService.getModule("grid"),e=t.vs,n=t.fs,r=t.uniforms,o=this.materialSystem.createShaderMaterial({vertexShader:e,fragmentShader:n,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:Qu.SRC_ALPHA,dstRGB:Qu.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});o.setUniform(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cp(Object(n),!0).forEach((function(e){uo()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cp(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({u_device_pixel_ratio:window.devicePixelRatio},r));var i=this.buildAttributes(),a=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:i.instancedOffsets.length/2,vertexCount:6});a.setIndex([0,2,1,0,3,2]),a.setAttribute("position",Float32Array.from(i.positions),{arrayStride:8,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),a.setAttribute("offset",Float32Array.from(i.instancedOffsets),{arrayStride:8,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),a.setAttribute("color",Float32Array.from(i.instancedColors),{arrayStride:16,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),a.setAttribute("size",Float32Array.from(i.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),a.setAttribute("shape",Float32Array.from(i.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),a.setAttribute("a_PickingColor",Float32Array.from(i.instancedPickingColors),{arrayStride:12,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(o),this.setGeometry(a)}},{key:"buildAttribute",value:function(t,e,n){var r,o,i,a,u;(r=e.instancedPickingColors).push.apply(r,Hh()([(u=t.id||n)+1&255,u+1>>8&255,u+1>>8>>8&255])),e.instancedShapes.push(Pp.indexOf(t.shape||"circle")),(o=e.instancedColors).push.apply(o,Hh()(t.color||[1,0,0,1])),(i=e.instancedOffsets).push.apply(i,Hh()(t.position||[0,0])),(a=e.instancedSizes).push.apply(a,Hh()(t.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var t=this,e={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach((function(n,r){t.buildAttribute(n,e,r)})):this.buildAttribute(this.config,e,0),e}}]),n}(Ah),Op=Ir()(kp.prototype,"materialSystem",[wp,Ep],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dp=Ir()(kp.prototype,"geometrySystem",[Sp,Tp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Rp=Ir()(kp.prototype,"shaderModuleService",[Ap],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ip=kp))||Ip);function Hp(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return qp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qp(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function qp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yp,Kp,Zp,Qp,Jp,$p,tv,ev,nv,rv,ov,iv,av=(Gp=Object(Lr.injectable)(),jp=Object(Lr.inject)(Ur.RenderEngine),Lp=Object(Lr.inject)(Ur.ShaderModuleService),Up=Object(Lr.inject)(Ur.ConfigService),Gp((Fp=function(){function t(){Er()(this,t),xr()(this,"engine",zp,this),xr()(this,"shaderModule",Vp,this),xr()(this,"configService",Wp,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0,this.container=void 0}var e,n;return Tr()(t,[{key:"init",value:(n=Rr()(Or.a.mark((function t(){var e,n,r,o,i;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.shaderModule.registerBuiltinModules(),e=this.container.getAll(Ur.Systems),!(n=this.configService.get()).canvas){t.next=25;break}return t.next=6,this.engine.init({canvas:n.canvas,swapChainFormat:ql.TextureFormat.BGRA8Unorm,antialiasing:!1});case 6:r=Hp(e),t.prev=7,r.s();case 9:if((o=r.n()).done){t.next=16;break}if(!(i=o.value).initialize){t.next=14;break}return t.next=14,i.initialize();case 14:t.next=9;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(7),r.e(t.t0);case 21:return t.prev=21,r.f(),t.finish(21);case 24:this.inited=!0;case 25:case"end":return t.stop()}}),t,this,[[7,18,21,24]])}))),function(){return n.apply(this,arguments)})},{key:"render",value:(e=Rr()(Or.a.mark((function t(){var e,n,r,o,i,a,u,s=arguments;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.inited&&!this.rendering){t.next=2;break}return t.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach((function(t){t()})),this.rendering=!0,this.engine.beginFrame(),e=this.container.getAll(Ur.Systems),n=s.length,r=new Array(n),o=0;o<n;o++)r[o]=s[o];i=Hp(e),t.prev=8,i.s();case 10:if((a=i.n()).done){t.next=17;break}if(!(u=a.value).execute){t.next=15;break}return t.next=15,u.execute(r);case 15:t.next=10;break;case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(8),i.e(t.t0);case 22:return t.prev=22,i.f(),t.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return t.stop()}}),t,this,[[8,19,22,25]])}))),function(){return e.apply(this,arguments)})},{key:"clear",value:function(t){var e=this;return this.inited?this.engine.clear(t):this.pendings.unshift((function(){e.engine.clear(t),e.pendings.shift()})),this}},{key:"setSize",value:function(t){var e=t.width,n=t.height,r=this.engine.getCanvas();return this.size={width:e,height:n},r.width=e,r.height=n,this}},{key:"getSize",value:function(){return this.size}}]),t}(),zp=Ir()(Fp.prototype,"engine",[jp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vp=Ir()(Fp.prototype,"shaderModule",[Lp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wp=Ir()(Fp.prototype,"configService",[Up],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bp=Fp))||Bp),uv=Object(Lr.injectable)()(Yp=function(){function t(){Er()(this,t),this.entities=[]}return Tr()(t,[{key:"getEntities",value:function(){return this.entities}},{key:"addEntity",value:function(t){return-1===this.entities.indexOf(t)&&this.entities.push(t),this}},{key:"removeEntity",value:function(t){var e=this.entities.indexOf(t);return this.entities.splice(e,1),this}}]),t}())||Yp,sv=(Kp=Object(Lr.injectable)(),Zp=Object(Lr.inject)(Ur.Systems),Qp=Object(Lr.named)(Ur.RendererSystem),Kp(($p=function(){function t(){Er()(this,t),xr()(this,"rendererSystem",tv,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return Tr()(t,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(t){return this.camera=t,this}},{key:"setScene",value:function(t){return this.scene=t,this}},{key:"setViewport",value:function(t){return this.viewport=t,this}},{key:"setClearColor",value:function(t){return this.clearColor=t,this}},{key:"pick",value:function(t){return this.rendererSystem.pick(t,this)}}]),t}(),tv=Ir()($p.prototype,"rendererSystem",[Zp,Qp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jp=$p))||Jp);function cv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fv(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?cv(Object(n),!0).forEach((function(e){uo()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var lv=(ev=Object(Lr.injectable)(),nv=Object(Lr.inject)(Ur.ConfigService),ev((ov=function(){function t(){Er()(this,t),xr()(this,"configService",iv,this),this.container=void 0}var e;return Tr()(t,[{key:"getEngine",value:(e=Rr()(Or.a.mark((function t(){var e,n,r,o;return Or.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.container.get(Ur.RenderEngine),n=this.configService.get(),r=n.canvas,o=n.engineOptions,t.next=4,e.init(fv({canvas:r||Yl(),swapChainFormat:ql.TextureFormat.BGRA8Unorm,antialiasing:!1},o));case 4:return t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"getTransformComponent",value:function(t){return this.container.get(Ur.TransformComponentManager).getComponentByEntity(t)}},{key:"getMeshComponent",value:function(t){return this.container.get(Ur.MeshComponentManager).getComponentByEntity(t)}},{key:"setConfig",value:function(t){this.configService.set(t)}},{key:"setContainer",value:function(t){this.container=t}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return Cr()}},{key:"createScene",value:function(){return this.container.get(uv)}},{key:"createCamera",value:function(){return this.container.get(zl)}},{key:"createView",value:function(){return this.container.get(sv)}},{key:"createRenderable",value:function(t,e,n){var r=e?this.container.getNamed(Ur.Renderable,e):this.container.get(Ah);return r.setConfig(n||{}),r.setEntity(t),r}},{key:"createBoxGeometry",value:function(t){return this.container.getNamed(Ur.Systems,Ur.GeometrySystem).createBox(t)}},{key:"createBufferGeometry",value:function(t){return this.container.getNamed(Ur.Systems,Ur.GeometrySystem).createBufferGeometry(t)}},{key:"createInstancedBufferGeometry",value:function(t){return this.container.getNamed(Ur.Systems,Ur.GeometrySystem).createInstancedBufferGeometry(t)}},{key:"createBasicMaterial",value:function(){return this.container.getNamed(Ur.Systems,Ur.MaterialSystem).createBasicMaterial()}},{key:"createShaderMaterial",value:function(t){return this.container.getNamed(Ur.Systems,Ur.MaterialSystem).createShaderMaterial(t)}},{key:"createKernel",value:function(t){var e=this.container.get(Th);return"string"==typeof t?e.setBundle(JSON.parse(t)):e.setBundle(t),e.init(),e}},{key:"createRenderer",value:function(){var t=this.container.get(av);return t.container=this.container,t.init(),t}},{key:"destroy",value:function(){this.container.getAll(Ur.Systems).forEach((function(t){t.tearDown&&t.tearDown()})),this.container.get(Ur.RenderEngine).destroy(),this.container.get(Ur.InteractorService).destroy()}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=vl(),r=navigator.gpu?np:fd;n.isBound(Ur.RenderEngine)||n.bind(Ur.RenderEngine).to(r).inSingletonScope(),n.bind(av).toSelf(),n.bind(Th).toSelf(),n.bind(Ah).toSelf(),n.bind(sv).toSelf(),n.bind(zl).toSelf(),n.bind(uv).toSelf(),n.bind(t).toSelf(),n.bind(Ur.Renderable).to(Xp).whenTargetNamed(Ah.POINT),n.bind(Ur.Renderable).to(Mp).whenTargetNamed(Ah.LINE),n.bind(Ur.Renderable).to(op).whenTargetNamed(Ah.GRID);var o=n.get(t);return o.setContainer(n),o.setConfig(e),o}}]),t}(),iv=Ir()(ov.prototype,"configService",[nv],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rv=ov))||rv),hv=function(t,e){return t?y(t)?function(){return t}:t:function(){return e||1}},dv=function(t,e){var n=[],r=[],o={},i=0;for(i=0;i<t.length;i++){var a=t[i];o[a.id]=i,n.push(a.x),n.push(a.y),n.push(0),n.push(0),r.push([])}for(i=0;i<e.length;i++){var u=e[i];r[o[u.source]].push(o[u.target]),r[o[u.target]].push(o[u.source])}var s=0;for(i=0;i<t.length;i++){var c=n.length,f=r[i],l=f.length;n[4*i+2]=c,n[4*i+3]=f.length,s=Math.max(s,f.length);for(var h=0;h<l;++h){var d=f[h];n.push(+d)}}for(;n.length%4!=0;)n.push(0);return{maxEdgePerVetex:s,array:new Float32Array(n)}},pv=function(t,e,n,r){var o=[],i=[],a={},u=0;for(u=0;u<t.length;u++){var s=t[u];a[s.id]=u,o.push(s.x),o.push(s.y),o.push(0),o.push(0),i.push([])}for(u=0;u<e.length;u++){var c=e[u];i[a[c.source]].push(a[c.target]),i[a[c.source]].push(n(c)),i[a[c.source]].push(r(c)),i[a[c.source]].push(0),i[a[c.target]].push(a[c.source]),i[a[c.target]].push(n(c)),i[a[c.target]].push(r(c)),i[a[c.target]].push(0)}var f=0;for(u=0;u<t.length;u++){var l=o.length,h=i[u],d=h.length;o[4*u+2]=l+1048576*d/4,o[4*u+3]=0,f=Math.max(f,d/4);for(var p=0;p<d;++p){var v=h[p];o.push(+v)}}for(;o.length%4!=0;)o.push(0);return{maxEdgePerVetex:f,array:new Float32Array(o)}},vv=function(t,e){var n=[],r=t.length,o={};return e.forEach((function(e){t.forEach((function(t,i){if(void 0===o[e[t]]&&(o[e[t]]=Object.keys(o).length),n.push(o[e[t]]),i===r-1)for(;n.length%4!=0;)n.push(0)}))})),{array:new Float32Array(n),count:Object.keys(o).length}},mv=function(t){for(var e=[],n=t.length,r=t[0].length,o=function(r){t.forEach((function(t,o){if(e.push(t[r]),o===n-1)for(;e.length%4!=0;)e.push(0)}))},i=0;i<r;i++)o(i);return new Float32Array(e)};function yv(t){return(yv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bv(t,e){return(bv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wv(t);if(e){var o=wv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xv(this,n)}}function xv(t,e){return!e||"object"!==yv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wv(t){return(wv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ev=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},Sv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bv(t,e)}(i,t);var e,n,r,o=_v(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).maxIteration=1e3,e.gravity=10,e.speed=1,e.clustering=!1,e.clusterField="cluster",e.clusterGravity=10,e.workerEnabled=!1,e.nodes=[],e.edges=[],e.width=300,e.height=300,e.nodeMap={},e.nodeIdxMap={},e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){return Ev(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,r,o,i,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=(e=this).nodes)&&0!==n.length){t.next=5;break}return e.onLayoutEnd&&e.onLayoutEnd(),t.abrupt("return");case 5:if(e.width||"undefined"==typeof window||(e.width=window.innerWidth),e.height||"undefined"==typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]),r=e.center,1!==n.length){t.next=14;break}return n[0].x=r[0],n[0].y=r[1],e.onLayoutEnd&&e.onLayoutEnd(),t.abrupt("return");case 14:return o={},i={},n.forEach((function(t,e){y(t.x)||(t.x=Math.random()*a.width),y(t.y)||(t.y=Math.random()*a.height),o[t.id]=t,i[t.id]=e})),e.nodeMap=o,e.nodeIdxMap=i,t.next=21,e.run();case 21:case"end":return t.stop()}}),t,this)})))}},{key:"executeWithWorker",value:function(t,e){return Ev(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a,u,s=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=(r=this).nodes,i=r.center,o&&0!==o.length){n.next=5;break}return n.abrupt("return");case 5:if(1!==o.length){n.next=9;break}return o[0].x=i[0],o[0].y=i[1],n.abrupt("return");case 9:return a={},u={},o.forEach((function(t,e){y(t.x)||(t.x=Math.random()*s.width),y(t.y)||(t.y=Math.random()*s.height),a[t.id]=t,u[t.id]=e})),r.nodeMap=a,r.nodeIdxMap=u,n.next=16,r.run(t,e);case 16:case"end":return n.stop()}}),n,this)})))}},{key:"run",value:function(t,e){return Ev(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a,u,s,c,f,l,h,d,p,v,m,y,g,b,_,x,w,E,S,T,A,I,k,O=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(o=(r=this).nodes,i=r.edges,a=r.maxIteration,u=r.center,s=r.height*r.width,c=Math.sqrt(s)/10,f=s/(o.length+1),l=Math.sqrt(f),h=r.speed,d=r.clustering,p=vv([r.clusterField],o),v=p.array,m=p.count,y=o.length,g=dv(o,i),b=g.maxEdgePerVetex,_=g.array,x=r.workerEnabled,w=x?lv.create({canvas:t,engineOptions:{supportCompute:!0}}):lv.create({engineOptions:{supportCompute:!0}}),E=r.onLayoutEnd,S=[],T=0;T<m;T++)S.push(0,0,0,0);return A=w.createKernel('{"shaders":{"WGSL":"import \\\\"GLSL.std.450\\\\" as std;\\\\n\\\\n\\\\n# var gWebGPUDebug : bool = false;\\\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\\\n\\\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\\\n\\\\ntype GWebGPUParams = [[block]] struct {\\\\n  [[offset 0]] u_K : f32;\\\\n  [[offset 4]] u_K2 : f32;\\\\n  [[offset 8]] u_Center : vec2<f32>;\\\\n  [[offset 16]] u_Gravity : f32;\\\\n  [[offset 20]] u_ClusterGravity : f32;\\\\n  [[offset 24]] u_Speed : f32;\\\\n  [[offset 28]] u_MaxDisplace : f32;\\\\n  [[offset 32]] u_Clustering : f32;\\\\n};\\\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\\\ntype GWebGPUBuffer0 = [[block]] struct {\\\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\\\ntype GWebGPUBuffer1 = [[block]] struct {\\\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\\\ntype GWebGPUBuffer2 = [[block]] struct {\\\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\\\nvar dy : f32 = 0.0;\\\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\\\nvar xDist : f32 = currentNode.x - nextNode.x;\\\\nvar yDist : f32 = currentNode.y - nextNode.y;\\\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\\\nif (dist > 0.0) {dx = dx + param * xDist;\\\\ndy = dy + param * yDist;\\\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\\\ndx = dx + param * std::sign;\\\\ndy = dy + param * std::sign;}}}}\\\\nreturn vec2<f32>(dx, dy);}\\\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\\\nvar dy : f32 = 0.0;\\\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\\\ndx = gf * vx;\\\\ndy = gf * vy;\\\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\\\nvar cvx : f32 = currentNode.x - center.x;\\\\nvar cvy : f32 = currentNode.y - center.y;\\\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\\\ndx = dx + parma * cvx;\\\\ndy = dy + parma * cvy;}\\\\nreturn vec2<f32>(dx, dy);}\\\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\\\nvar dy : f32 = 0.0;\\\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\\\nvar node_buffer : vec4<f32>;\\\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\\\nvar arr_idx : i32 = arr_offset + i32(p);\\\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\\\nvar xDist : f32 = currentNode.x - nextNode.x;\\\\nvar yDist : f32 = currentNode.y - nextNode.y;\\\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\\\ndy = dy - yDist * attractiveF;\\\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\\\ndx = dx - std::sign * attractiveF;\\\\ndy = dy - std::sign * attractiveF;}}}\\\\nreturn vec2<f32>(dx, dy);}\\\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\\\nvar dx : f32 = 0.0;\\\\nvar dy : f32 = 0.0;\\\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\\\nreturn ;}\\\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\\\ndx = dx + repulsive.x;\\\\ndy = dy + repulsive.y;\\\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\\\ndx = dx + attractive.x;\\\\ndy = dy + attractive.y;\\\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\\\ndx = dx - gravity.x;\\\\ndy = dy - gravity.y;\\\\ndx = dx * gWebGPUUniformParams.u_Speed;\\\\ndy = dy * gWebGPUUniformParams.u_Speed;\\\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\\\nreturn;}\\\\n\\\\nentry_point compute as \\\\"main\\\\" = main;\\\\n","GLSL450":"\\\\n\\\\n\\\\nbool gWebGPUDebug = false;\\\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\\\n\\\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\\\nivec3 workGroupSize = ivec3(1,1,1);\\\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\\\n\\\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\\\n  float u_K;\\\\n  float u_K2;\\\\n  vec2 u_Center;\\\\n  float u_Gravity;\\\\n  float u_ClusterGravity;\\\\n  float u_Speed;\\\\n  float u_MaxDisplace;\\\\n  float u_Clustering;\\\\n} gWebGPUUniformParams;\\\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\\\n  vec4 u_Data[];\\\\n} gWebGPUBuffer0;\\\\n\\\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\\\n  vec4 u_AttributeArray[];\\\\n} gWebGPUBuffer1;\\\\n\\\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\\\n  vec4 u_ClusterCenters[];\\\\n} gWebGPUBuffer2;\\\\n\\\\n\\\\n\\\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\\\nlayout (\\\\n  local_size_x = 1,\\\\n  local_size_y = 1,\\\\n  local_size_z = 1\\\\n) in;\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\\\nfloat dy = 0.0;\\\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\\\nfloat xDist = currentNode.x - nextNode.x;\\\\nfloat yDist = currentNode.y - nextNode.y;\\\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\\\nif (dist > 0.0) {dx += param * xDist;\\\\ndy += param * yDist;\\\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\\\ndx += param * sign;\\\\ndy += param * sign;}}}}\\\\nreturn vec2(dx, dy);}\\\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\\\nfloat dy = 0.0;\\\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\\\ndx = gf * vx;\\\\ndy = gf * vy;\\\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\\\nfloat cvx = currentNode.x - center.x;\\\\nfloat cvy = currentNode.y - center.y;\\\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\\\ndx += parma * cvx;\\\\ndy += parma * cvy;}\\\\nreturn vec2(dx, dy);}\\\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\\\nfloat dy = 0.0;\\\\nint arr_offset = int(floor(currentNode.z + 0.5));\\\\nint length = int(floor(currentNode.w + 0.5));\\\\nvec4 node_buffer;\\\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\\\nint arr_idx = arr_offset + int(p);\\\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\\\nfloat xDist = currentNode.x - nextNode.x;\\\\nfloat yDist = currentNode.y - nextNode.y;\\\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\\\ndy -= yDist * attractiveF;\\\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\\\ndx -= sign * attractiveF;\\\\ndy -= sign * attractiveF;}}}\\\\nreturn vec2(dx, dy);}\\\\nvoid main() {int i = globalInvocationID.x;\\\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\\\nfloat dx = 0.0;\\\\nfloat dy = 0.0;\\\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\\\nreturn ;}\\\\nvec2 repulsive = calcRepulsive(i, currentNode);\\\\ndx += repulsive.x;\\\\ndy += repulsive.y;\\\\nvec2 attractive = calcAttractive(i, currentNode);\\\\ndx += attractive.x;\\\\ndy += attractive.y;\\\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\\\ndx -= gravity.x;\\\\ndy -= gravity.y;\\\\ndx *= gWebGPUUniformParams.u_Speed;\\\\ndy *= gWebGPUUniformParams.u_Speed;\\\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\\\n","GLSL100":"\\\\n\\\\nfloat epsilon = 0.00001;\\\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\\\n  vec2 normAddr2D = float(address1D) * conv_const;\\\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\\\n}\\\\n\\\\nvoid barrier() {}\\\\n  \\\\n\\\\nuniform vec2 u_OutputTextureSize;\\\\nuniform int u_OutputTexelCount;\\\\nvarying vec2 v_TexCoord;\\\\n\\\\nbool gWebGPUDebug = false;\\\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\\\n\\\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\\\n\\\\nuniform sampler2D u_Data;\\\\nuniform vec2 u_DataSize;\\\\nvec4 getDatau_Data(vec2 address2D) {\\\\n  return vec4(texture2D(u_Data, address2D).rgba);\\\\n}\\\\nvec4 getDatau_Data(float address1D) {\\\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\\\n}\\\\nvec4 getDatau_Data(int address1D) {\\\\n  return getDatau_Data(float(address1D));\\\\n}\\\\nuniform float u_K;\\\\nuniform float u_K2;\\\\nuniform vec2 u_Center;\\\\nuniform float u_Gravity;\\\\nuniform float u_ClusterGravity;\\\\nuniform float u_Speed;\\\\nuniform float u_MaxDisplace;\\\\nuniform float u_Clustering;\\\\nuniform sampler2D u_AttributeArray;\\\\nuniform vec2 u_AttributeArraySize;\\\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\\\n}\\\\nvec4 getDatau_AttributeArray(float address1D) {\\\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\\\n}\\\\nvec4 getDatau_AttributeArray(int address1D) {\\\\n  return getDatau_AttributeArray(float(address1D));\\\\n}\\\\nuniform sampler2D u_ClusterCenters;\\\\nuniform vec2 u_ClusterCentersSize;\\\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\\\n}\\\\nvec4 getDatau_ClusterCenters(float address1D) {\\\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\\\n}\\\\nvec4 getDatau_ClusterCenters(int address1D) {\\\\n  return getDatau_ClusterCenters(float(address1D));\\\\n}\\\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nfloat dx = 0.0;\\\\nfloat dy = 0.0;\\\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\\\nfloat xDist = currentNode.x - nextNode.x;\\\\nfloat yDist = currentNode.y - nextNode.y;\\\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\\\nfloat param = u_K2 / dist;\\\\nif (dist > 0.0) {dx += param * xDist;\\\\ndy += param * yDist;\\\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\\\ndx += param * sign;\\\\ndy += param * sign;}}}}\\\\nreturn vec2(dx, dy);}\\\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nfloat dx = 0.0;\\\\nfloat dy = 0.0;\\\\nfloat vx = currentNode.x - u_Center.x;\\\\nfloat vy = currentNode.y - u_Center.y;\\\\nfloat gf = (0.01 * u_K) * u_Gravity;\\\\ndx = gf * vx;\\\\ndy = gf * vy;\\\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\\\nfloat cvx = currentNode.x - center.x;\\\\nfloat cvy = currentNode.y - center.y;\\\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\\\ndx += parma * cvx;\\\\ndy += parma * cvy;}\\\\nreturn vec2(dx, dy);}\\\\nvec2 calcAttractive(int i, vec4 currentNode) {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nfloat dx = 0.0;\\\\nfloat dy = 0.0;\\\\nint arr_offset = int(floor(currentNode.z + 0.5));\\\\nint length = int(floor(currentNode.w + 0.5));\\\\nvec4 node_buffer;\\\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\\\nint arr_idx = arr_offset + int(p);\\\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\\\nvec4 nextNode = getDatau_Data(int(float_j));\\\\nfloat xDist = currentNode.x - nextNode.x;\\\\nfloat yDist = currentNode.y - nextNode.y;\\\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\\\nfloat attractiveF = dist / u_K;\\\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\\\ndy -= yDist * attractiveF;\\\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\\\ndx -= sign * attractiveF;\\\\ndy -= sign * attractiveF;}}}\\\\nreturn vec2(dx, dy);}\\\\nvoid main() {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nint i = globalInvocationID.x;\\\\nvec4 currentNode = getDatau_Data(i);\\\\nfloat dx = 0.0;\\\\nfloat dy = 0.0;\\\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\\\nreturn ;}\\\\nvec2 repulsive = calcRepulsive(i, currentNode);\\\\ndx += repulsive.x;\\\\ndy += repulsive.y;\\\\nvec2 attractive = calcAttractive(i, currentNode);\\\\ndx += attractive.x;\\\\ndy += attractive.y;\\\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\\\ndx -= gravity.x;\\\\ndy -= gravity.y;\\\\ndx *= u_Speed;\\\\ndy *= u_Speed;\\\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\\\n  gl_FragColor = gWebGPUDebugOutput;\\\\n}}\\\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}').setDispatch([y,1,1]).setBinding({u_Data:_,u_K:l,u_K2:f,u_Gravity:r.gravity,u_ClusterGravity:r.clusterGravity||r.gravity||1,u_Speed:h,u_MaxDisplace:c,u_Clustering:d?1:0,u_Center:u,u_AttributeArray:v,u_ClusterCenters:S,MAX_EDGE_PER_VERTEX:b,VERTEX_COUNT:y}),d&&(I=w.createKernel('{"shaders":{"WGSL":"import \\\\"GLSL.std.450\\\\" as std;\\\\n\\\\n\\\\n# var gWebGPUDebug : bool = false;\\\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\\\n\\\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\\\n\\\\n\\\\ntype GWebGPUBuffer0 = [[block]] struct {\\\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\\\ntype GWebGPUBuffer1 = [[block]] struct {\\\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\\\ntype GWebGPUBuffer2 = [[block]] struct {\\\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\\\nvar sumx : f32 = 0.0;\\\\nvar sumy : f32 = 0.0;\\\\nvar count : f32 = 0.0;\\\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\\\nvar clusterIdx : i32 = i32(attributes.x);\\\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\\\nsumy = sumy + vertex.y;\\\\ncount = count + 1.0;}}\\\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\\\nreturn;}\\\\n\\\\nentry_point compute as \\\\"main\\\\" = main;\\\\n","GLSL450":"\\\\n\\\\n\\\\nbool gWebGPUDebug = false;\\\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\\\n\\\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\\\nivec3 workGroupSize = ivec3(1,1,1);\\\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\\\n\\\\n\\\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\\\n  vec4 u_Data[];\\\\n} gWebGPUBuffer0;\\\\n\\\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\\\n  vec4 u_NodeAttributes[];\\\\n} gWebGPUBuffer1;\\\\n\\\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\\\n  vec4 u_ClusterCenters[];\\\\n} gWebGPUBuffer2;\\\\n\\\\n\\\\n\\\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\\\nlayout (\\\\n  local_size_x = 1,\\\\n  local_size_y = 1,\\\\n  local_size_z = 1\\\\n) in;\\\\n\\\\n\\\\n\\\\nvoid main() {int i = globalInvocationID.x;\\\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\\\nfloat sumx = 0.0;\\\\nfloat sumy = 0.0;\\\\nfloat count = 0.0;\\\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\\\nint clusterIdx = int(attributes.x);\\\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\\\nif (clusterIdx == i) {sumx += vertex.x;\\\\nsumy += vertex.y;\\\\ncount += 1.0;}}\\\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\\\n","GLSL100":"\\\\n\\\\nfloat epsilon = 0.00001;\\\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\\\n  vec2 normAddr2D = float(address1D) * conv_const;\\\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\\\n}\\\\n\\\\nvoid barrier() {}\\\\n  \\\\n\\\\nuniform vec2 u_OutputTextureSize;\\\\nuniform int u_OutputTexelCount;\\\\nvarying vec2 v_TexCoord;\\\\n\\\\nbool gWebGPUDebug = false;\\\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\\\n\\\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\\\n\\\\nuniform sampler2D u_Data;\\\\nuniform vec2 u_DataSize;\\\\nvec4 getDatau_Data(vec2 address2D) {\\\\n  return vec4(texture2D(u_Data, address2D).rgba);\\\\n}\\\\nvec4 getDatau_Data(float address1D) {\\\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\\\n}\\\\nvec4 getDatau_Data(int address1D) {\\\\n  return getDatau_Data(float(address1D));\\\\n}\\\\nuniform sampler2D u_NodeAttributes;\\\\nuniform vec2 u_NodeAttributesSize;\\\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\\\n}\\\\nvec4 getDatau_NodeAttributes(float address1D) {\\\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\\\n}\\\\nvec4 getDatau_NodeAttributes(int address1D) {\\\\n  return getDatau_NodeAttributes(float(address1D));\\\\n}\\\\nuniform sampler2D u_ClusterCenters;\\\\nuniform vec2 u_ClusterCentersSize;\\\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\\\n}\\\\nvec4 getDatau_ClusterCenters(float address1D) {\\\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\\\n}\\\\nvec4 getDatau_ClusterCenters(int address1D) {\\\\n  return getDatau_ClusterCenters(float(address1D));\\\\n}\\\\nvoid main() {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nint i = globalInvocationID.x;\\\\nvec4 center = getDatau_ClusterCenters(i);\\\\nfloat sumx = 0.0;\\\\nfloat sumy = 0.0;\\\\nfloat count = 0.0;\\\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\\\nint clusterIdx = int(attributes.x);\\\\nvec4 vertex = getDatau_Data(j);\\\\nif (clusterIdx == i) {sumx += vertex.x;\\\\nsumy += vertex.y;\\\\ncount += 1.0;}}\\\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\\\n  gl_FragColor = gWebGPUDebugOutput;\\\\n}}\\\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}').setDispatch([m,1,1]).setBinding({u_Data:_,u_NodeAttributes:v,u_ClusterCenters:S,VERTEX_COUNT:y,CLUSTER_COUNT:m})),k=function(){return Ev(O,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=0;case 1:if(!(r<a)){n.next=13;break}return n.next=4,A.execute();case 4:if(!d){n.next=9;break}return I.setBinding({u_Data:A}),n.next=8,I.execute();case 8:A.setBinding({u_ClusterCenters:I});case 9:A.setBinding({u_MaxDisplace:c*=.99});case 10:r++,n.next=1;break;case 13:return n.next=15,A.getOutput();case 15:i=n.sent,t?e.postMessage({type:Qt,vertexEdgeData:i}):o.forEach((function(t,e){var n=i[4*e],r=i[4*e+1];t.x=n,t.y=r})),E&&E();case 18:case"end":return n.stop()}}),n)})))},n.next=24,k();case 24:case"end":return n.stop()}}),n,this)})))}},{key:"getType",value:function(){return"fruchterman-gpu"}}])&&gv(e.prototype,n),r&&gv(e,r),i}(I);function Tv(t){return(Tv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Av(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Iv(t,e){return(Iv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Dv(t);if(e){var o=Dv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ov(this,n)}}function Ov(t,e){return!e||"object"!==Tv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Dv(t){return(Dv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Rv=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function u(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}s((r=r.apply(t,e||[])).next())}))},Mv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Iv(t,e)}(i,t);var e,n,r,o=kv(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).maxIteration=1e3,e.edgeStrength=200,e.nodeStrength=1e3,e.coulombDisScale=.005,e.damping=.9,e.maxSpeed=1e3,e.minMovement=1,e.interval=.02,e.factor=1,e.linkDistance=1,e.gravity=10,e.workerEnabled=!1,e.nodes=[],e.edges=[],e.width=300,e.height=300,e.nodeMap={},e.nodeIdxMap={},e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){return Rv(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,r,o,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=(e=this).nodes)&&0!==n.length){t.next=5;break}return e.onLayoutEnd&&e.onLayoutEnd(),t.abrupt("return");case 5:if(e.width||"undefined"==typeof window||(e.width=window.innerWidth),e.height||"undefined"==typeof window||(e.height=window.innerHeight),e.center||(e.center=[e.width/2,e.height/2]),r=e.center,1!==n.length){t.next=14;break}return n[0].x=r[0],n[0].y=r[1],e.onLayoutEnd&&e.onLayoutEnd(),t.abrupt("return");case 14:return o={},i={},n.forEach((function(t,n){y(t.x)||(t.x=Math.random()*e.width),y(t.y)||(t.y=Math.random()*e.height),o[t.id]=t,i[t.id]=n})),e.nodeMap=o,e.nodeIdxMap=i,e.nodeStrength=hv(e.nodeStrength,1),e.edgeStrength=hv(e.edgeStrength,1),t.next=23,e.run();case 23:case"end":return t.stop()}}),t,this)})))}},{key:"executeWithWorker",value:function(t,e){var n=this,r=n.nodes,o=n.center;if(r&&0!==r.length){if(1===r.length)return r[0].x=o[0],void(r[0].y=o[1]);var i={},a={};r.forEach((function(t,e){y(t.x)||(t.x=Math.random()*n.width),y(t.y)||(t.y=Math.random()*n.height),i[t.id]=t,a[t.id]=e})),n.nodeMap=i,n.nodeIdxMap=a,n.nodeStrength=hv(n.nodeStrength,1),n.edgeStrength=hv(n.edgeStrength,1),n.run(t,e)}}},{key:"run",value:function(t,e){return Rv(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,i,a,u,s,c,f,l,h,d,p,v,m,g,_,x,w,E,S,T,A,I,k,O,D=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(o=(r=this).nodes,i=r.edges,a=r.maxIteration,r.width||"undefined"==typeof window||(r.width=window.innerWidth),r.height||"undefined"==typeof window||(r.height=window.innerHeight),u=o.length,r.linkDistance=hv(r.linkDistance),r.edgeStrength=hv(r.edgeStrength),s=pv(o,i,r.linkDistance,r.edgeStrength),c=s.maxEdgePerVetex,f=s.array,r.degrees=b(o.length,r.nodeIdxMap,i),l=[],h=[],d=[],p=[],v=[],r.getMass||(r.getMass=function(t){return r.degrees[r.nodeIdxMap[t.id]]||1}),m=r.gravity,g=r.center,o.forEach((function(t,e){l.push(r.getMass(t)),h.push(r.nodeStrength(t)),r.degrees[e]||(r.degrees[e]=0);var n=[g[0],g[1],m];if(r.getCenter){var o=r.getCenter(t,r.degrees[e]);o&&y(o[0])&&y(o[1])&&y(o[2])&&(n=o)}d.push(n[0]),p.push(n[1]),v.push(n[2])})),_=mv([l,r.degrees,h]),x=mv([d,p,v]),w=r.workerEnabled,E=w?lv.create({canvas:t,engineOptions:{supportCompute:!0}}):lv.create({engineOptions:{supportCompute:!0}}),S=r.onLayoutEnd,T=[],f.forEach((function(t){T.push(t)})),A=0;A<4;A++)T.push(0);return I=E.createKernel('{"shaders":{"WGSL":"import \\\\"GLSL.std.450\\\\" as std;\\\\n\\\\n\\\\n# var gWebGPUDebug : bool = false;\\\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\\\n\\\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\\\n\\\\ntype GWebGPUParams = [[block]] struct {\\\\n  [[offset 0]] u_damping : f32;\\\\n  [[offset 4]] u_maxSpeed : f32;\\\\n  [[offset 8]] u_minMovement : f32;\\\\n  \\\\n  [[offset 12]] u_coulombDisScale : f32;\\\\n  [[offset 16]] u_factor : f32;\\\\n  \\\\n  \\\\n  [[offset 20]] u_interval : f32;\\\\n};\\\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\\\ntype GWebGPUBuffer0 = [[block]] struct {\\\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\\\ntype GWebGPUBuffer1 = [[block]] struct {\\\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\\\ntype GWebGPUBuffer2 = [[block]] struct {\\\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\\\ntype GWebGPUBuffer3 = [[block]] struct {\\\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\\\nvar v0 : i32 = packedIntValue / 1048576;\\\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\\\nvar ay : f32 = 0.0;\\\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\\\nvar vx : f32 = currentNode.x - nextNode.x;\\\\nvar vy : f32 = currentNode.y - nextNode.y;\\\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\\\nvar n_dist : f32 = dist * gWebGPUUniformParams.u_coulombDisScale;\\\\nvar direx : f32 = vx / dist;\\\\nvar direy : f32 = vy / dist;\\\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\\\nvar massi : f32 = attributesi.x;\\\\nvar nodeStrengthi : f32 = attributesi.z;\\\\nvar nodeStrengthj : f32 = attributesj.z;\\\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\\\nvar param : f32 = (1000.0 * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\\\nax = ax + direx * param;\\\\nay = ay + direy * param;}}\\\\nreturn vec2<f32>(ax, ay);}\\\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\\\nvar vy : f32 = currentNode.y - attributes2.y;\\\\nvar ax : f32 = vx * attributes2.w;\\\\nvar ay : f32 = vy * attributes2.w;\\\\nreturn vec2<f32>(ax, ay);}\\\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\\\nvar ax : f32 = 0.0;\\\\nvar ay : f32 = 0.0;\\\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\\\nvar length : i32 = compressed.x;\\\\nvar arr_offset : i32 = compressed.y;\\\\nvar node_buffer : vec4<f32>;\\\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\\\nvar arr_idx : i32 = arr_offset + (4 * p);\\\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\\\nvar float_j : f32 = node_buffer.x;\\\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\\\nvar vx : f32 = nextNode.x - currentNode.x;\\\\nvar vy : f32 = nextNode.y - currentNode.y;\\\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\\\nvar direx : f32 = vx / dist;\\\\nvar direy : f32 = vy / dist;\\\\nvar edgeLength : f32 = node_buffer.y;\\\\nvar edgeStrength : f32 = node_buffer.z;\\\\nvar diff : f32 = edgeLength - dist;\\\\nvar param : f32 = (diff * edgeStrength) / mass;\\\\nax = ax - direx * param;\\\\nay = ay - direy * param;}\\\\nreturn vec2<f32>(ax, ay);}\\\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\\\nvar ax : f32 = 0.0;\\\\nvar ay : f32 = 0.0;\\\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\\\nreturn ;}\\\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\\\nax = ax + repulsive.x;\\\\nay = ay + repulsive.y;\\\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\\\nax = ax + attractive.x;\\\\nay = ay + attractive.y;\\\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\\\nax = ax - gravity.x;\\\\nay = ay - gravity.y;\\\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\\\nvar vx : f32 = ax * param;\\\\nvar vy : f32 = ay * param;\\\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\\\nvx = param2 * vx;\\\\nvy = param2 * vy;}\\\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);\\\\nreturn;}\\\\n\\\\nentry_point compute as \\\\"main\\\\" = main;\\\\n","GLSL450":"\\\\n\\\\n\\\\nbool gWebGPUDebug = false;\\\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\\\n\\\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\\\nivec3 workGroupSize = ivec3(1,1,1);\\\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\\\n\\\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\\\n  float u_damping;\\\\n  float u_maxSpeed;\\\\n  float u_minMovement;\\\\n  \\\\n  float u_coulombDisScale;\\\\n  float u_factor;\\\\n  \\\\n  \\\\n  float u_interval;\\\\n} gWebGPUUniformParams;\\\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\\\n  vec4 u_Data[];\\\\n} gWebGPUBuffer0;\\\\n\\\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\\\n  vec4 u_AveMovement[];\\\\n} gWebGPUBuffer1;\\\\n\\\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\\\n  vec4 u_NodeAttributeArray1[];\\\\n} gWebGPUBuffer2;\\\\n\\\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\\\n  vec4 u_NodeAttributeArray2[];\\\\n} gWebGPUBuffer3;\\\\n\\\\n\\\\n\\\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\\\n#define SHIFT_20 1048576.0\\\\nlayout (\\\\n  local_size_x = 1,\\\\n  local_size_y = 1,\\\\n  local_size_z = 1\\\\n) in;\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\\\nint v0 = packedIntValue / int(SHIFT_20);\\\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\\\nfloat ay = 0.0;\\\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\\\nfloat vx = currentNode.x - nextNode.x;\\\\nfloat vy = currentNode.y - nextNode.y;\\\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\\\nfloat n_dist = dist * gWebGPUUniformParams.u_coulombDisScale;\\\\nfloat direx = vx / dist;\\\\nfloat direy = vy / dist;\\\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\\\nfloat massi = attributesi.x;\\\\nfloat nodeStrengthi = attributesi.z;\\\\nfloat nodeStrengthj = attributesj.z;\\\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\\\nfloat param = (1000.0 * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\\\nax += direx * param;\\\\nay += direy * param;}}\\\\nreturn vec2(ax, ay);}\\\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\\\nfloat vy = currentNode.y - attributes2.y;\\\\nfloat ax = vx * attributes2.w;\\\\nfloat ay = vy * attributes2.w;\\\\nreturn vec2(ax, ay);}\\\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\\\nfloat ax = 0.0;\\\\nfloat ay = 0.0;\\\\nivec2 compressed = unpack_float(currentNode.z);\\\\nint length = compressed.x;\\\\nint arr_offset = compressed.y;\\\\nvec4 node_buffer;\\\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\\\nint arr_idx = arr_offset + (4 * p);\\\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\\\nfloat float_j = node_buffer.x;\\\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\\\nfloat vx = nextNode.x - currentNode.x;\\\\nfloat vy = nextNode.y - currentNode.y;\\\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\\\nfloat direx = vx / dist;\\\\nfloat direy = vy / dist;\\\\nfloat edgeLength = node_buffer.y;\\\\nfloat edgeStrength = node_buffer.z;\\\\nfloat diff = edgeLength - dist;\\\\nfloat param = (diff * edgeStrength) / mass;\\\\nax -= direx * param;\\\\nay -= direy * param;}\\\\nreturn vec2(ax, ay);}\\\\nvoid main() {int i = globalInvocationID.x;\\\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\\\nfloat ax = 0.0;\\\\nfloat ay = 0.0;\\\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\\\nreturn ;}\\\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\\\nvec2 repulsive = calcRepulsive(i, currentNode);\\\\nax += repulsive.x;\\\\nay += repulsive.y;\\\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\\\nax += attractive.x;\\\\nay += attractive.y;\\\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\\\nax -= gravity.x;\\\\nay -= gravity.y;\\\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\\\nfloat vx = ax * param;\\\\nfloat vy = ay * param;\\\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\\\nvx = param2 * vx;\\\\nvy = param2 * vy;}\\\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\\\n","GLSL100":"\\\\n\\\\nfloat epsilon = 0.00001;\\\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\\\n  vec2 normAddr2D = float(address1D) * conv_const;\\\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\\\n}\\\\n\\\\nvoid barrier() {}\\\\n  \\\\n\\\\nuniform vec2 u_OutputTextureSize;\\\\nuniform int u_OutputTexelCount;\\\\nvarying vec2 v_TexCoord;\\\\n\\\\nbool gWebGPUDebug = false;\\\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\\\n\\\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\\\n#define SHIFT_20 1048576.0\\\\n\\\\nuniform sampler2D u_Data;\\\\nuniform vec2 u_DataSize;\\\\nvec4 getDatau_Data(vec2 address2D) {\\\\n  return vec4(texture2D(u_Data, address2D).rgba);\\\\n}\\\\nvec4 getDatau_Data(float address1D) {\\\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\\\n}\\\\nvec4 getDatau_Data(int address1D) {\\\\n  return getDatau_Data(float(address1D));\\\\n}\\\\nuniform float u_damping;\\\\nuniform float u_maxSpeed;\\\\nuniform float u_minMovement;\\\\nuniform sampler2D u_AveMovement;\\\\nuniform vec2 u_AveMovementSize;\\\\nvec4 getDatau_AveMovement(vec2 address2D) {\\\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\\\n}\\\\nvec4 getDatau_AveMovement(float address1D) {\\\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\\\n}\\\\nvec4 getDatau_AveMovement(int address1D) {\\\\n  return getDatau_AveMovement(float(address1D));\\\\n}\\\\nuniform float u_coulombDisScale;\\\\nuniform float u_factor;\\\\nuniform sampler2D u_NodeAttributeArray1;\\\\nuniform vec2 u_NodeAttributeArray1Size;\\\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\\\n}\\\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\\\n}\\\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\\\n  return getDatau_NodeAttributeArray1(float(address1D));\\\\n}\\\\nuniform sampler2D u_NodeAttributeArray2;\\\\nuniform vec2 u_NodeAttributeArray2Size;\\\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\\\n}\\\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\\\n}\\\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\\\n  return getDatau_NodeAttributeArray2(float(address1D));\\\\n}\\\\nuniform float u_interval;\\\\nivec2 unpack_float(float packedValue) {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nint packedIntValue = int(packedValue);\\\\nint v0 = packedIntValue / int(SHIFT_20);\\\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nfloat ax = 0.0;\\\\nfloat ay = 0.0;\\\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\\\nfloat vx = currentNode.x - nextNode.x;\\\\nfloat vy = currentNode.y - nextNode.y;\\\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\\\nfloat n_dist = dist * u_coulombDisScale;\\\\nfloat direx = vx / dist;\\\\nfloat direy = vy / dist;\\\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\\\nfloat massi = attributesi.x;\\\\nfloat nodeStrengthi = attributesi.z;\\\\nfloat nodeStrengthj = attributesj.z;\\\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\\\nfloat param = (1000.0 * u_factor) / (n_dist * n_dist);\\\\nax += direx * param;\\\\nay += direy * param;}}\\\\nreturn vec2(ax, ay);}\\\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nfloat vx = currentNode.x - attributes2.x;\\\\nfloat vy = currentNode.y - attributes2.y;\\\\nfloat ax = vx * attributes2.w;\\\\nfloat ay = vy * attributes2.w;\\\\nreturn vec2(ax, ay);}\\\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nfloat mass = attributes1.x;\\\\nfloat ax = 0.0;\\\\nfloat ay = 0.0;\\\\nivec2 compressed = unpack_float(currentNode.z);\\\\nint length = compressed.x;\\\\nint arr_offset = compressed.y;\\\\nvec4 node_buffer;\\\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\\\nint arr_idx = arr_offset + (4 * p);\\\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\\\nfloat float_j = node_buffer.x;\\\\nvec4 nextNode = getDatau_Data(int(float_j));\\\\nfloat vx = nextNode.x - currentNode.x;\\\\nfloat vy = nextNode.y - currentNode.y;\\\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\\\nfloat direx = vx / dist;\\\\nfloat direy = vy / dist;\\\\nfloat edgeLength = node_buffer.y;\\\\nfloat edgeStrength = node_buffer.z;\\\\nfloat diff = edgeLength - dist;\\\\nfloat param = (diff * edgeStrength) / mass;\\\\nax -= direx * param;\\\\nay -= direy * param;}\\\\nreturn vec2(ax, ay);}\\\\nvoid main() {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nint i = globalInvocationID.x;\\\\nvec4 currentNode = getDatau_Data(i);\\\\nvec4 movement = getDatau_AveMovement(0.0);\\\\nfloat ax = 0.0;\\\\nfloat ay = 0.0;\\\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\\\nreturn ;}\\\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\\\nvec2 repulsive = calcRepulsive(i, currentNode);\\\\nax += repulsive.x;\\\\nay += repulsive.y;\\\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\\\nax += attractive.x;\\\\nay += attractive.y;\\\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\\\nax -= gravity.x;\\\\nay -= gravity.y;\\\\nfloat param = u_interval * u_damping;\\\\nfloat vx = ax * param;\\\\nfloat vy = ay * param;\\\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\\\nvx = param2 * vx;\\\\nvy = param2 * vy;}\\\\nfloat distx = vx * u_interval;\\\\nfloat disty = vy * u_interval;\\\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\\\ngl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));if (gWebGPUDebug) {\\\\n  gl_FragColor = gWebGPUDebugOutput;\\\\n}}\\\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}').setDispatch([u,1,1]).setBinding({u_Data:f,u_damping:r.damping,u_maxSpeed:r.maxSpeed,u_minMovement:r.minMovement,u_coulombDisScale:r.coulombDisScale,u_factor:r.factor,u_NodeAttributeArray1:_,u_NodeAttributeArray2:x,MAX_EDGE_PER_VERTEX:c,VERTEX_COUNT:u,u_AveMovement:T,u_interval:r.interval}),k=E.createKernel('{"shaders":{"WGSL":"import \\\\"GLSL.std.450\\\\" as std;\\\\n\\\\n\\\\n# var gWebGPUDebug : bool = false;\\\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\\\n\\\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\\\n\\\\ntype GWebGPUParams = [[block]] struct {\\\\n  [[offset 0]] u_iter : f32;\\\\n};\\\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\\\ntype GWebGPUBuffer0 = [[block]] struct {\\\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\\\ntype GWebGPUBuffer1 = [[block]] struct {\\\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\\\n};\\\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\n\\\\nfn main() -> void {var movement : f32 = 0.0;\\\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\\\nmovement = movement + vertex.w;}\\\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\\\nreturn;}\\\\n\\\\nentry_point compute as \\\\"main\\\\" = main;\\\\n","GLSL450":"\\\\n\\\\n\\\\nbool gWebGPUDebug = false;\\\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\\\n\\\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\\\nivec3 workGroupSize = ivec3(1,1,1);\\\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\\\n\\\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\\\n  float u_iter;\\\\n} gWebGPUUniformParams;\\\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\\\n  vec4 u_Data[];\\\\n} gWebGPUBuffer0;\\\\n\\\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\\\n  vec4 u_AveMovement[];\\\\n} gWebGPUBuffer1;\\\\n\\\\n\\\\n\\\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\\\nlayout (\\\\n  local_size_x = 1,\\\\n  local_size_y = 1,\\\\n  local_size_z = 1\\\\n) in;\\\\n\\\\n\\\\n\\\\nvoid main() {float movement = 0.0;\\\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\\\nmovement += vertex.w;}\\\\nmovement = movement / float(VERTEX_COUNT);\\\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\\\n","GLSL100":"\\\\n\\\\nfloat epsilon = 0.00001;\\\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\\\n  vec2 normAddr2D = float(address1D) * conv_const;\\\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\\\n}\\\\n\\\\nvoid barrier() {}\\\\n  \\\\n\\\\nuniform vec2 u_OutputTextureSize;\\\\nuniform int u_OutputTexelCount;\\\\nvarying vec2 v_TexCoord;\\\\n\\\\nbool gWebGPUDebug = false;\\\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\\\n\\\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\\\n\\\\nuniform sampler2D u_Data;\\\\nuniform vec2 u_DataSize;\\\\nvec4 getDatau_Data(vec2 address2D) {\\\\n  return vec4(texture2D(u_Data, address2D).rgba);\\\\n}\\\\nvec4 getDatau_Data(float address1D) {\\\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\\\n}\\\\nvec4 getDatau_Data(int address1D) {\\\\n  return getDatau_Data(float(address1D));\\\\n}\\\\nuniform float u_iter;\\\\nuniform sampler2D u_AveMovement;\\\\nuniform vec2 u_AveMovementSize;\\\\nvec4 getDatau_AveMovement(vec2 address2D) {\\\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\\\n}\\\\nvec4 getDatau_AveMovement(float address1D) {\\\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\\\n}\\\\nvec4 getDatau_AveMovement(int address1D) {\\\\n  return getDatau_AveMovement(float(address1D));\\\\n}\\\\nvoid main() {\\\\nivec3 workGroupSize = ivec3(1, 1, 1);\\\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\\\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\\\nfloat movement = 0.0;\\\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\\\nmovement += vertex.w;}\\\\nmovement = movement / float(VERTEX_COUNT);\\\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\\\n  gl_FragColor = gWebGPUDebugOutput;\\\\n}}\\\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}').setDispatch([1,1,1]).setBinding({u_Data:f,VERTEX_COUNT:u,u_AveMovement:[0,0,0,0]}),O=function(){return Rv(D,void 0,void 0,regeneratorRuntime.mark((function n(){var i,u,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=0;case 1:if(!(i<a)){n.next=12;break}return n.next=4,I.execute();case 4:return k.setBinding({u_Data:I}),n.next=7,k.execute();case 7:u=Math.max(.02,r.interval-.002*i),I.setBinding({u_interval:u,u_AveMovement:k});case 9:i++,n.next=1;break;case 12:return n.next=14,I.getOutput();case 14:s=n.sent,t?e.postMessage({type:Qt,vertexEdgeData:s}):o.forEach((function(t,e){var n=s[4*e],r=s[4*e+1];t.x=n,t.y=r})),S&&S();case 17:case"end":return n.stop()}}),n)})))},n.next=33,O();case 33:case"end":return n.stop()}}),n,this)})))}},{key:"getType",value:function(){return"gForce-gpu"}}])&&Av(e.prototype,n),r&&Av(e,r),i}(I);function Cv(t){return(Cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pv(t,e){return(Pv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Lv(t);if(e){var o=Lv(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jv(this,n)}}function jv(t,e){return!e||"object"!==Cv(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Lv(t){return(Lv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Uv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pv(t,e)}(i,t);var e,n,r,o=Gv(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).center=[0,0],e.maxIteration=100,e.gravity=10,e.comboGravity=10,e.linkDistance=10,e.alpha=1,e.alphaMin=.001,e.alphaDecay=1-Math.pow(e.alphaMin,1/300),e.alphaTarget=0,e.velocityDecay=.6,e.edgeStrength=.6,e.nodeStrength=30,e.preventOverlap=!1,e.preventNodeOverlap=!1,e.preventComboOverlap=!1,e.collideStrength=void 0,e.nodeCollideStrength=.5,e.comboCollideStrength=.5,e.comboSpacing=20,e.comboPadding=10,e.optimizeRangeFactor=1,e.onTick=function(){},e.onLayoutEnd=function(){},e.depthAttractiveForceScale=1,e.depthRepulsiveForceScale=2,e.nodes=[],e.edges=[],e.combos=[],e.comboTrees=[],e.width=300,e.height=300,e.bias=[],e.nodeMap={},e.oriComboMap={},e.indexMap={},e.comboMap={},e.previousLayouted=!1,e.updateCfg(t),e}return e=i,(n=[{key:"getDefaultCfg",value:function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}}},{key:"execute",value:function(){var t=this.nodes,e=this.center;if(this.comboTree={id:"comboTreeRoot",depth:-1,children:this.comboTrees},t&&0!==t.length){if(1===t.length)return t[0].x=e[0],t[0].y=e[1],void(this.onLayoutEnd&&this.onLayoutEnd());this.initVals(),this.run(),this.onLayoutEnd&&this.onLayoutEnd()}else this.onLayoutEnd&&this.onLayoutEnd()}},{key:"run",value:function(){var t=this,e=t.nodes,n=t.previousLayouted?t.maxIteration/5:t.maxIteration;t.width||"undefined"==typeof window||(t.width=window.innerWidth),t.height||"undefined"==typeof window||(t.height=window.innerHeight);var r=t.center,o=t.velocityDecay,i=t.comboMap;t.previousLayouted||t.initPos(i);for(var a=function(n){var r=[];e.forEach((function(t,e){r[e]={x:0,y:0}})),t.applyCalculate(r),t.applyComboCenterForce(r),e.forEach((function(t,e){y(t.x)&&y(t.y)&&(t.x+=r[e].x*o,t.y+=r[e].y*o)})),t.alpha+=(t.alphaTarget-t.alpha)*t.alphaDecay,t.onTick()},u=0;u<n;u++)a();var s=[0,0];e.forEach((function(t){y(t.x)&&y(t.y)&&(s[0]+=t.x,s[1]+=t.y)})),s[0]/=e.length,s[1]/=e.length;var c=[r[0]-s[0],r[1]-s[1]];e.forEach((function(t,e){y(t.x)&&y(t.y)&&(t.x+=c[0],t.y+=c[1])})),t.combos.forEach((function(t){var e=i[t.id];e&&e.empty&&(t.x=e.cx||t.x,t.y=e.cy||t.y)})),t.previousLayouted=!0}},{key:"initVals",value:function(){var t=this.edges,e=this.nodes,n=this.combos,r={},o={},i={};e.forEach((function(t,e){o[t.id]=t,i[t.id]=e})),this.nodeMap=o,this.indexMap=i;var a={};n.forEach((function(t){a[t.id]=t})),this.oriComboMap=a,this.comboMap=this.getComboMap();var u=this.preventOverlap;this.preventComboOverlap=this.preventComboOverlap||u,this.preventNodeOverlap=this.preventNodeOverlap||u;var s=this.collideStrength;s&&(this.comboCollideStrength=s,this.nodeCollideStrength=s),this.comboCollideStrength=this.comboCollideStrength?this.comboCollideStrength:0,this.nodeCollideStrength=this.nodeCollideStrength?this.nodeCollideStrength:0;for(var c=0;c<t.length;++c)r[t[c].source]?r[t[c].source]++:r[t[c].source]=1,r[t[c].target]?r[t[c].target]++:r[t[c].target]=1;for(var f=[],l=0;l<t.length;++l)f[l]=r[t[l].source]/(r[t[l].source]+r[t[l].target]);this.bias=f;var h,d,p=this.nodeSize,v=this.nodeSpacing;if(d=y(v)?function(){return v}:T(v)?v:function(){return 0},this.nodeSpacing=d,p)if(T(p))h=function(t){return p(t)};else if(m(p)){var g=(p[0]>p[1]?p[0]:p[1])/2;h=function(t){return g}}else{var b=p/2;h=function(t){return b}}else h=function(t){return t.size?m(t.size)?(t.size[0]>t.size[1]?t.size[0]:t.size[1])/2:t.size/2:10};this.nodeSize=h;var _,x=this.comboSpacing;_=y(x)?function(){return x}:T(x)?x:function(){return 0},this.comboSpacing=_;var w,E=this.comboPadding;w=y(E)?function(){return E}:m(E)?function(){return Math.max.apply(null,E)}:T(E)?E:function(){return 0},this.comboPadding=w;var S,A=this.linkDistance;A||(A=10),S=y(A)?function(t){return A}:A,this.linkDistance=S;var I,k=this.edgeStrength;k||(k=1),I=y(k)?function(t){return k}:k,this.edgeStrength=I;var O,D=this.nodeStrength;D||(D=30),O=y(D)?function(t){return D}:D,this.nodeStrength=O}},{key:"initPos",value:function(t){this.nodes.forEach((function(e,n){var r=e.comboId,o=t[r];r&&o?(e.x=o.cx+100/(n+1),e.y=o.cy+100/(n+1)):(e.x=100/(n+1),e.y=100/(n+1))}))}},{key:"getComboMap",value:function(){var t=this,e=t.nodeMap,n=t.indexMap,r=t.comboTrees,o=t.oriComboMap,i={};return(r||[]).forEach((function(r){var a=[];w(r,(function(r){if("node"===r.itemType)return!0;if(!o[r.id])return!0;if(void 0===i[r.id]){var u={id:r.id,name:r.id,cx:0,cy:0,count:0,depth:t.oriComboMap[r.id].depth,children:[]};i[r.id]=u}var s=r.children;s&&s.forEach((function(t){if(!i[t.id]&&!e[t.id])return!0;a.push(t)}));var c=i[r.id];if(c.cx=0,c.cy=0,0===a.length){c.empty=!0;var f=o[r.id],l=Object.keys(e).length,h="".concat(r.id,"-visual-child-").concat(l),d={id:h,x:f.x,y:f.y,depth:c.depth+1,itemType:"node"};t.nodes.push(d),e[h]=d,n[h]=l,c.cx=f.x,c.cy=f.y,a.push(d)}return a.forEach((function(t){if(c.count++,"node"!==t.itemType){var n=i[t.id];return y(n.cx)&&(c.cx+=n.cx),void(y(n.cy)&&(c.cy+=n.cy))}var r=e[t.id];r&&(y(r.x)&&(c.cx+=r.x),y(r.y)&&(c.cy+=r.y))})),c.cx/=c.count,c.cy/=c.count,c.children=a,!0}))})),i}},{key:"applyComboCenterForce",value:function(t){var e=this.gravity,n=this.comboGravity||e,r=this.alpha,o=this.comboTrees,i=this.indexMap,a=this.nodeMap,u=this.comboMap;(o||[]).forEach((function(e){w(e,(function(e){if("node"===e.itemType)return!0;if(!u[e.id])return!0;var o=u[e.id],s=(o.depth+1)/10*.5,c=o.cx,f=o.cy;return o.cx=0,o.cy=0,o.children.forEach((function(e){if("node"!==e.itemType){var l=u[e.id];return l&&y(l.cx)&&(o.cx+=l.cx),void(l&&y(l.cy)&&(o.cy+=l.cy))}var h=a[e.id],d=h.x-c||.005,p=h.y-f||.005,v=Math.sqrt(d*d+p*p),m=i[h.id],g=n*r/v*s;t[m].x-=d*g,t[m].y-=p*g,y(h.x)&&(o.cx+=h.x),y(h.y)&&(o.cy+=h.y)})),o.cx/=o.count,o.cy/=o.count,!0}))}))}},{key:"applyCalculate",value:function(t){var e=this.comboMap,n=this.nodes,r={};n.forEach((function(t,e){n.forEach((function(n,o){if(!(e<o)){var i=t.x-n.x||.005,a=t.y-n.y||.005,u=i*i+a*a,s=Math.sqrt(u);u<1&&(u=s),r["".concat(t.id,"-").concat(n.id)]={vx:i,vy:a,vl2:u,vl:s},r["".concat(n.id,"-").concat(t.id)]={vl2:u,vl:s,vx:-i,vy:-a}}}))})),this.updateComboSizes(e),this.calRepulsive(t,r),this.calAttractive(t,r),this.preventComboOverlap&&this.comboNonOverlapping(t,e)}},{key:"updateComboSizes",value:function(t){var e=this,n=e.comboTrees,r=e.nodeMap,o=e.nodeSize,i=e.comboSpacing,a=e.comboPadding;(n||[]).forEach((function(n){var u=[];w(n,(function(n){if("node"===n.itemType)return!0;var s=t[n.id];if(!s)return!1;var c=n.children;c&&c.forEach((function(e){(t[e.id]||r[e.id])&&u.push(e)})),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0,u.forEach((function(t){if("node"!==t.itemType)return!0;var e=r[t.id];if(!e)return!0;var n=o(e),i=e.x-n,a=e.y-n,u=e.x+n,c=e.y+n;s.minX>i&&(s.minX=i),s.minY>a&&(s.minY=a),s.maxX<u&&(s.maxX=u),s.maxY<c&&(s.maxY=c)}));var f=e.oriComboMap[n.id].size||10;m(f)&&(f=f[0]);var l=Math.max(s.maxX-s.minX,s.maxY-s.minY,f);return s.r=l/2+i(s)/2+a(s),!0}))}))}},{key:"comboNonOverlapping",value:function(t,e){var n=this.comboTree,r=this.comboCollideStrength,o=this.indexMap,i=this.nodeMap;w(n,(function(n){if(!e[n.id]&&!i[n.id]&&"comboTreeRoot"!==n.id)return!1;var a=n.children;return a&&a.length>1&&a.forEach((function(n,u){if("node"===n.itemType)return!1;var s=e[n.id];s&&a.forEach((function(a,c){if(u<=c)return!1;if("node"===a.itemType)return!1;var f=e[a.id];if(!f)return!1;var l=s.cx-f.cx||.005,h=s.cy-f.cy||.005,d=l*l+h*h,p=s.r,v=f.r,m=p+v,y=v*v,g=p*p;if(d<m*m){var b=n.children;if(!b||0===b.length)return!1;var _=a.children;if(!_||0===_.length)return!1;var x=Math.sqrt(d),w=(m-x)/x*r,E=l*w,S=h*w,T=y/(g+y),A=1-T;b.forEach((function(e){if("node"!==e.itemType)return!1;if(i[e.id]){var n=o[e.id];_.forEach((function(e){if("node"!==e.itemType)return!1;if(!i[e.id])return!1;var r=o[e.id];t[n].x+=E*T,t[n].y+=S*T,t[r].x-=E*A,t[r].y-=S*A}))}}))}}))})),!0}))}},{key:"calRepulsive",value:function(t,e){var n=this,r=n.nodes,o=n.width*n.optimizeRangeFactor,i=n.nodeStrength,a=n.alpha,u=n.nodeCollideStrength,s=n.preventNodeOverlap,c=n.nodeSize,f=n.nodeSpacing,l=n.depthRepulsiveForceScale,h=n.center;r.forEach((function(d,p){if(d.x&&d.y){if(h){var v=n.gravity,m=d.x-h[0]||.005,y=d.y-h[1]||.005,g=Math.sqrt(m*m+y*y);t[p].x-=m*v*a/g,t[p].y-=y*v*a/g}r.forEach((function(n,r){if(p!==r&&n.x&&n.y){var h=e["".concat(d.id,"-").concat(n.id)],v=h.vl2,m=h.vl;if(!(m>o)){var y=e["".concat(d.id,"-").concat(n.id)],g=y.vx,b=y.vy,_=Math.log(Math.abs(n.depth-d.depth)/10)+1||1;_=_<1?1:_,n.comboId!==d.comboId&&(_+=1);var x=_?Math.pow(l,_):1,w=i(n)*a/v*x;if(t[p].x+=g*w,t[p].y+=b*w,p<r&&s){var E=c(d)+f(d),S=c(n)+f(n),T=E+S;if(v<T*T){var A=(T-m)/m*u,I=S*S,k=I/(E*E+I),O=g*A,D=b*A;t[p].x+=O*k,t[p].y+=D*k,k=1-k,t[r].x-=O*k,t[r].y-=D*k}}}}}))}}))}},{key:"calAttractive",value:function(t,e){var n=this,r=n.edges,o=n.linkDistance,i=n.alpha,a=n.edgeStrength,u=n.bias,s=n.depthAttractiveForceScale;r.forEach((function(r,c){if(r.source&&r.target&&r.source!==r.target){var f=n.indexMap[r.source],l=n.indexMap[r.target],h=n.nodeMap[r.source],d=n.nodeMap[r.target];if(h&&d){var p=Math.log(Math.abs(h.depth-d.depth)/10);h.comboId===d.comboId&&(p/=2);var v=p?Math.pow(s,p):1;if(h.comboId!==d.comboId&&1===v?v=s/2:h.comboId===d.comboId&&(v=2),y(d.x)&&y(h.x)&&y(d.y)&&y(h.y)){var m=e["".concat(r.target,"-").concat(r.source)],g=m.vl,b=m.vx,_=m.vy,x=(g-o(r))/g*i*a(r)*v,w=b*x,E=_*x,S=u[c];t[l].x-=w*S,t[l].y-=E*S,t[f].x+=w*(1-S),t[f].y+=E*(1-S)}}}}))}},{key:"getType",value:function(){return"comboForce"}}])&&Nv(e.prototype,n),r&&Nv(e,r),i}(I);var Bv;new Proxy({},{get:function(t,e){return Jn(e)},set:function(t,e,n){return Qn(e,n),!0}});Bv||(Bv={}),Qn("grid",N),Qn("random",F),Qn("force",oe),Qn("circular",ve),Qn("dagre",Se),Qn("radial",Vn),Qn("concentric",ir),Qn("mds",hr),Qn("fruchterman",br),Qn("fruchterman-gpu",Sv),Qn("gForce",K),Qn("gForce-gpu",Mv),Qn("comboForce",Uv);var Fv=self;Fv.onmessage=function(t){(function(t){var e=t.data.type;return e===Ht||e===Zt})(t)&&function(t){switch(t.data.type){case Ht:var e=t.data,n=e.nodes,r=e.edges,o=e.layoutCfg,i=void 0===o?{}:o,a=i.type,u=Jn(a);if(!u){Fv.postMessage({type:Yt,message:"layout ".concat(a," not found")});break}var s=new u(i);s.init({nodes:n,edges:r}),s.execute(),Fv.postMessage({nodes:n,type:qt}),s.destroy();break;case Zt:var c=t.data,f=c.nodes,l=c.edges,h=c.layoutCfg,d=void 0===h?{}:h,p=c.canvas,v=d.type,m=Jn(v);if(!m){Fv.postMessage({type:Yt,message:"layout ".concat(v," not found")});break}if("gpu"!==v.split("-")[1]){Fv.postMessage({type:Yt,message:"layout ".concat(v," does not support GPU")});break}var y=new m(d);y.init({nodes:f,edges:l}),y.executeWithWorker(p,Fv)}}(t)};var zv=self;zv.onmessage=function(t){(function(t){var e=t.data.type;return e===f||e===d})(t)&&function(t){switch(t.data.type){case f:var e=t.data,n=e.nodes,r=e.edges,o=e.layoutCfg,i=(p=void 0===o?{}:o).type;if(!(a=Jn(i))){zv.postMessage({type:h,message:"layout "+i+" not found"});break}(u=new a(p)).init({nodes:n,edges:r}),u.execute(),zv.postMessage({type:l,nodes:n}),u.destroy();break;case d:var a,u,s=t.data,c=(n=s.nodes,r=s.edges,s.layoutCfg),p=void 0===c?{}:c,v=s.canvas;i=p.type;if(!(a=Jn(i))){zv.postMessage({type:h,message:"layout "+i+" not found"});break}if("gpu"!==i.split("-")[1]){zv.postMessage({type:h,message:"layout "+i+" does not support GPU"});break}(u=new a(p)).init({nodes:n,edges:r}),u.executeWithWorker(v,zv)}}(t)};e.default=null}]);
//# sourceMappingURL=g6Layout.worker.js.map`,"Worker",void 0,t.p+"g6Layout.worker.js")}var O="LAYOUT_RUN",j="LAYOUT_END",D="LAYOUT_ERROR",V="LAYOUT_TICK",H="GPU_LAYOUT_RUN",$="GPU_LAYOUT_END",dt=t(121),Z=function(mt){return setTimeout(mt,16)},ct=function(mt){return clearTimeout(mt)},pt=function(mt){return(typeof window!="undefined"&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||Z)(mt)},gt=function(mt){return(typeof window!="undefined"&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||ct)(mt)},at=["fruchterman","gForce"],Bt=function(ft){function mt(yt){var wt=ft.call(this,yt)||this;return wt.graph=yt,wt.layoutCfg=yt.get("layout")||{},wt.layoutType=wt.layoutCfg.type,wt.worker=null,wt.workerData={},wt.initLayout(),wt}return Object(n.b)(mt,ft),mt.prototype.initLayout=function(){},mt.prototype.getWorker=function(){return this.worker||(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=new f),this.worker},mt.prototype.stopWorker=function(){var yt=this.workerData;this.worker&&(this.worker.terminate(),this.worker=null,yt.requestId&&(gt(yt.requestId),yt.requestId=null),yt.requestId2&&(gt(yt.requestId2),yt.requestId2=null))},mt.prototype.layout=function(yt){var wt=this,J=this.graph;this.data=this.setDataFromGraph();var lt=this.data.nodes;if(!lt)return!1;var it=J.get("width"),_=J.get("height"),P={};Object.assign(P,{width:it,height:_,center:[it/2,_/2]},this.layoutCfg),this.layoutCfg=P;var Q=!!this.layoutType,k=this.layoutMethod;k&&k.destroy(),J.emit("beforelayout"),this.initPositions(P.center,lt);var p=this.layoutType,y=!1;if(p&&p.split("-")[1]==="gpu"&&(p=p.split("-")[0],P.gpuEnabled=!0),p&&P.gpuEnabled){var B=!0;Object(dt.gpuDetector)().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),B=!1),this.hasGPUVersion(p)||(console.warn("The '"+p+"' layout does not support GPU calculation for now, it will run in CPU."),B=!1),B&&(p+="-gpu",y=!0)}if(this.isGPU=y,this.stopWorker(),P.workerEnabled&&this.layoutWithWorker(this.data,yt))return!0;var W=P.onLayoutEnd;if(P.layoutEndFormatted||(P.layoutEndFormatted=!0,P.onLayoutEnd=function(){W&&W(),J.emit("afterlayout"),wt.refreshLayout(),yt&&yt()}),p==="force"||p==="g6force"||p==="gForce"){var rt=P.onTick,st=function(){rt&&rt(),J.refreshPositions()};P.tick=st}else this.layoutType==="comboForce"&&(P.comboTrees=J.get("comboTrees"));if(p!==void 0){try{k=new C.a[p](P)}catch(Mt){return console.warn("The layout method: '"+p+"' does not exist! Please specify it first."),!1}if(k.enableTick){var ut=P.onTick;st=function(){ut&&ut(),J.refreshPositions()},k.tick=st}k.init(this.data),Q&&(J.emit("beginlayout"),k.execute(),k.isCustomLayout&&P.onLayoutEnd&&P.onLayoutEnd()),this.layoutMethod=k}else P.onLayoutEnd&&P.onLayoutEnd();return!1},mt.prototype.layoutWithWorker=function(yt,wt){var J=this,lt=yt.nodes,it=yt.edges,_=this.layoutCfg,P=this.graph,Q=this.isGPU,k=this.getWorker(),p=this.workerData;if(!k)return!1;p.requestId=null,p.requestId2=null,p.currentTick=null,p.currentTickData=null,P.emit("beforelayout");var y=document.createElement("canvas"),B=Q&&typeof window!="undefined"&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in y,W=function(st,ut){var Mt={};return st&&typeof st=="object"?(Object.keys(st).forEach(function(bt){st.hasOwnProperty(bt)&&ut(st[bt])&&(Mt[bt]=st[bt])}),Mt):st}(_,function(st){return typeof st!="function"});if(B){var rt=y.transferControlToOffscreen();W.type=W.type+"-gpu",k.postMessage({type:H,nodes:lt,edges:it,layoutCfg:W,canvas:rt},[rt])}else k.postMessage({type:O,nodes:lt,edges:it,layoutCfg:W});return k.onmessage=function(st){J.handleWorkerMessage(st,yt,wt)},!0},mt.prototype.handleWorkerMessage=function(yt,wt,J){var lt=this.graph,it=this.workerData,_=this.layoutCfg,P=yt.data,Q=P.type,k=function(){_.onTick&&_.onTick()},p=function(){_.onLayoutEnd&&_.onLayoutEnd(),lt.emit("afterlayout")};switch(Q){case V:it.currentTick=P.currentTick,it.currentTickData=P,it.requestId||(it.requestId=pt(function(){Lt(wt,P),lt.refreshPositions(),k(),P.currentTick===1&&J&&J(),P.currentTick===P.totalTicks?p():it.currentTick===P.totalTicks&&(it.requestId2=pt(function(){Lt(wt,it.currentTickData),lt.refreshPositions(),it.requestId2=null,k(),p()})),it.requestId=null}));break;case j:it.currentTick==null&&(Lt(wt,P),this.refreshLayout(),J&&J(),lt.emit("afterlayout"));break;case $:it.currentTick==null&&(function(y,B){for(var W=y.nodes,rt=B.vertexEdgeData,st=W.length,ut=0;ut<st;ut++){var Mt=W[ut],bt=rt[4*ut],xt=rt[4*ut+1];Mt.x=bt,Mt.y=xt}}(wt,P),this.refreshLayout(),J&&J(),lt.emit("afterlayout"));break;case D:console.warn("Web-Worker layout error!",P.message)}},mt.prototype.updateLayoutCfg=function(yt){var wt=this.graph,J=this.layoutMethod,lt=(this.layoutType,this.layoutCfg);if(this.layoutType=yt.type,!J||J.destroyed)return this.layoutCfg=Object(c.A)({},lt,yt),void this.layout();this.data=this.setDataFromGraph(),this.stopWorker(),yt.workerEnabled&&this.layoutWithWorker(this.data,null)||(J.init(this.data),J.updateCfg(yt),wt.emit("beforelayout"),J.execute(),J.isCustomLayout&&lt.onLayoutEnd&&lt.onLayoutEnd())},mt.prototype.hasGPUVersion=function(yt){for(var wt=at.length,J=0;J<wt;J++)if(at[J]===yt)return!0;return!1},mt.prototype.destroy=function(){var yt=this.layoutMethod;yt&&(yt.destroy(),yt.destroyed=!0);var wt=this.worker;wt&&(wt.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethod=void 0,this.graph=null},mt}(w.c);function Lt(ft,mt){for(var yt=ft.nodes,wt=mt.nodes,J=yt.length,lt=0;lt<J;lt++){var it=yt[lt];it.x=wt[lt].x,it.y=wt[lt].y}}var Et=x.a.transform,K=function(ft){function mt(yt){var wt=ft.call(this,yt)||this,J=wt.get("defaultNode");return J||wt.set("defaultNode",{type:"circle"}),J.type||(J.type="circle",wt.set("defaultNode",J)),wt.destroyed=!1,wt}return Object(n.b)(mt,ft),mt.prototype.initLayoutController=function(){var yt=new Bt(this);this.set({layoutController:yt})},mt.prototype.initEventController=function(){var yt=new d(this);this.set({eventController:yt})},mt.prototype.initCanvas=function(){var yt=this.get("container");if(typeof yt=="string"&&(yt=document.getElementById(yt),this.set("container",yt)),!yt)throw new Error("invalid container");var wt,J=this.get("width"),lt=this.get("height");if(this.get("renderer")==="svg")wt=new g.Canvas({container:yt,width:J,height:lt});else{var it={container:yt,width:J,height:lt},_=this.get("pixelRatio");_&&(it.pixelRatio=_),wt=new u.Canvas(it)}this.set("canvas",wt)},mt.prototype.initPlugins=function(){var yt=this;Object(c.f)(yt.get("plugins"),function(wt){!wt.destroyed&&wt.initPlugin&&wt.initPlugin(yt)})},mt.prototype.toDataURL=function(yt,wt){var J=this.get("canvas"),lt=J.getRenderer(),it=J.get("el");yt||(yt="image/png");var _="";if(lt==="svg"){var P=it.cloneNode(!0),Q=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),k=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Q);k.replaceChild(P,k.documentElement);var p=new XMLSerializer().serializeToString(k);_="data:image/svg+xml;charset=utf8,"+encodeURIComponent(p)}else{var y=void 0,B=it.getContext("2d"),W=this.get("width"),rt=this.get("height"),st=void 0;if(wt){var ut=typeof window!="undefined"?window.devicePixelRatio:1;y=B.getImageData(0,0,W*ut,rt*ut),st=B.globalCompositeOperation,B.globalCompositeOperation="destination-over",B.fillStyle=wt,B.fillRect(0,0,W,rt)}_=it.toDataURL(yt),wt&&(B.clearRect(0,0,W,rt),B.putImageData(y,0,0),B.globalCompositeOperation=st)}return _},mt.prototype.toFullDataURL=function(yt,wt,J){var lt=this.get("group").getCanvasBBox(),it=lt.height,_=lt.width,P=this.get("renderer"),Q=Object(m.b)('<id="virtual-image"></div>'),k=J?J.backgroundColor:void 0,p=J?J.padding:void 0;p?Object(c.t)(p)&&(p=[p,p,p,p]):p=[0,0,0,0];var y=it+p[0]+p[2],B=_+p[1]+p[3],W={container:Q,height:y,width:B,quickHit:!0},rt=P==="svg"?new g.Canvas(W):new u.Canvas(W),st=this.get("group").clone(),ut=Object(c.c)(st.getMatrix());ut||(ut=[1,0,0,0,1,0,0,0,1]);var Mt=(lt.maxX+lt.minX)/2,bt=(lt.maxY+lt.minY)/2;ut=Et(ut,[["t",-Mt,-bt],["t",_/2+p[3],it/2+p[0]]]),st.resetMatrix(),st.setMatrix(ut),rt.add(st);var xt=rt.get("el"),Ot="";wt||(wt="image/png"),setTimeout(function(){if(P==="svg"){var jt=xt.cloneNode(!0),Dt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),zt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",Dt);zt.replaceChild(jt,zt.documentElement);var Tt=new XMLSerializer().serializeToString(zt);Ot="data:image/svg+xml;charset=utf8,"+encodeURIComponent(Tt)}else{var Vt=void 0,Ht=xt.getContext("2d"),re=void 0;if(k){var pe=typeof window!="undefined"?window.devicePixelRatio:1;Vt=Ht.getImageData(0,0,B*pe,y*pe),re=Ht.globalCompositeOperation,Ht.globalCompositeOperation="destination-over",Ht.fillStyle=k,Ht.fillRect(0,0,B,y)}Ot=xt.toDataURL(wt),k&&(Ht.clearRect(0,0,B,y),Ht.putImageData(Vt,0,0),Ht.globalCompositeOperation=re)}yt&&yt(Ot)},16)},mt.prototype.downloadFullImage=function(yt,wt,J){var lt=this,it=this.get("group").getCanvasBBox(),_=it.height,P=it.width,Q=this.get("renderer"),k=Object(m.b)('<id="virtual-image"></div>'),p=J?J.backgroundColor:void 0,y=J?J.padding:void 0;y?Object(c.t)(y)&&(y=[y,y,y,y]):y=[0,0,0,0];var B=_+y[0]+y[2],W=P+y[1]+y[3],rt={container:k,height:B,width:W},st=Q==="svg"?new g.Canvas(rt):new u.Canvas(rt),ut=this.get("group").clone(),Mt=Object(c.c)(ut.getMatrix());Mt||(Mt=[1,0,0,0,1,0,0,0,1]);var bt=(it.maxX+it.minX)/2,xt=(it.maxY+it.minY)/2;Mt=Et(Mt,[["t",-bt,-xt],["t",P/2+y[3],_/2+y[0]]]),ut.resetMatrix(),ut.setMatrix(Mt),st.add(ut);var Ot=st.get("el");wt||(wt="image/png"),setTimeout(function(){var jt="";if(Q==="svg"){var Dt=Ot.cloneNode(!0),zt=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),Tt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",zt);Tt.replaceChild(Dt,Tt.documentElement);var Vt=new XMLSerializer().serializeToString(Tt);jt="data:image/svg+xml;charset=utf8,"+encodeURIComponent(Vt)}else{var Ht=void 0,re=Ot.getContext("2d"),pe=void 0;if(p){var me=typeof window!="undefined"?window.devicePixelRatio:1;Ht=re.getImageData(0,0,W*me,B*me),pe=re.globalCompositeOperation,re.globalCompositeOperation="destination-over",re.fillStyle=p,re.fillRect(0,0,W,B)}jt=Ot.toDataURL(wt),p&&(re.clearRect(0,0,W,B),re.putImageData(Ht,0,0),re.globalCompositeOperation=pe)}var Ee=document.createElement("a"),Le=(yt||"graph")+(Q==="svg"?".svg":"."+wt.split("/")[1]);lt.dataURLToImage(jt,Q,Ee,Le);var Je=document.createEvent("MouseEvents");Je.initEvent("click",!1,!1),Ee.dispatchEvent(Je)},16)},mt.prototype.downloadImage=function(yt,wt,J){var lt=this,it=this;it.isAnimating()&&it.stopAnimate();var _=it.get("canvas").getRenderer();wt||(wt="image/png");var P=(yt||"graph")+(_==="svg"?".svg":wt.split("/")[1]),Q=document.createElement("a");setTimeout(function(){var k=it.toDataURL(wt,J);lt.dataURLToImage(k,_,Q,P);var p=document.createEvent("MouseEvents");p.initEvent("click",!1,!1),Q.dispatchEvent(p)},16)},mt.prototype.dataURLToImage=function(yt,wt,J,lt){if(typeof window!="undefined")if(window.Blob&&window.URL&&wt!=="svg"){var it=yt.split(","),_="";if(it&&it.length>0){var P=it[0].match(/:(.*?);/);P&&P.length>=2&&(_=P[1])}for(var Q=atob(it[1]),k=Q.length,p=new Uint8Array(k);k--;)p[k]=Q.charCodeAt(k);var y=new Blob([p],{type:_});window.navigator.msSaveBlob?window.navigator.msSaveBlob(y,lt):J.addEventListener("click",function(){J.download=lt,J.href=window.URL.createObjectURL(y)})}else J.addEventListener("click",function(){J.download=lt,J.href=yt})},mt.prototype.addPlugin=function(yt){yt.destroyed||(this.get("plugins").push(yt),yt.initPlugin(this))},mt.prototype.removePlugin=function(yt){var wt=this.get("plugins"),J=wt.indexOf(yt);J>=0&&(yt.destroyPlugin(),wt.splice(J,1))},mt.prototype.setImageWaterMarker=function(yt,wt){yt===void 0&&(yt=I.a.waterMarkerImage);var J=this.get("container");Object(c.x)(J)&&(J=document.getElementById(J)),J.style.position||(J.style.position="relative");var lt=this.get("graphWaterMarker"),it=Object(c.e)({},I.a.imageWaterMarkerConfig,wt),_=it.width,P=it.height,Q=it.compatible,k=it.image;if(!lt){var p={container:J,width:_,height:P,capture:!1},y=this.get("pixelRatio");y&&(p.pixelRatio=y),lt=new u.Canvas(p),this.set("graphWaterMarker",lt)}lt.get("el").style.display="none";var B=lt.get("context"),W=k.rotate,rt=k.x,st=k.y;B.rotate(-W*Math.PI/180);var ut=new Image;ut.crossOrigin="anonymous",ut.src=yt,ut.onload=function(){if(B.drawImage(ut,rt,st,k.width,k.height),B.rotate(W*Math.PI/180),Q)J.style.cssText="background-image: url("+lt.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var Mt=document.querySelector(".g6-graph-watermarker");Mt||((Mt=document.createElement("div")).className="g6-graph-watermarker"),Mt.className="g6-graph-watermarker",lt.destroyed||(Mt.style.cssText="background-image: url("+lt.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",J.appendChild(Mt))}}},mt.prototype.setTextWaterMarker=function(yt,wt){var J=this.get("container");Object(c.x)(J)&&(J=document.getElementById(J)),J.style.position||(J.style.position="relative");var lt=this.get("graphWaterMarker"),it=Object(c.e)({},I.a.textWaterMarkerConfig,wt),_=it.width,P=it.height,Q=it.compatible,k=it.text;if(!lt){var p={container:J,width:_,height:P,capture:!1},y=this.get("pixelRatio");y&&(p.pixelRatio=y),lt=new u.Canvas(p),this.set("graphWaterMarker",lt)}lt.get("el").style.display="none";var B=lt.get("context"),W=k.rotate,rt=k.fill,st=k.fontFamily,ut=k.fontSize,Mt=k.baseline,bt=k.x,xt=k.y,Ot=k.lineHeight;B.rotate(-W*Math.PI/180),B.font=ut+"px "+st,B.fillStyle=rt,B.textBaseline=Mt;for(var jt=yt.length-1;jt>=0;jt--)B.fillText(yt[jt],bt,xt+jt*Ot);if(B.rotate(W*Math.PI/180),Q)J.style.cssText="background-image: url("+lt.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var Dt=document.querySelector(".g6-graph-watermarker");Dt||((Dt=document.createElement("div")).className="g6-graph-watermarker"),Dt.style.cssText="background-image: url("+lt.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",J.appendChild(Dt)}},mt.prototype.destroy=function(){Object(c.f)(this.get("plugins"),function(it){it.destroyPlugin()});var yt=this.get("tooltips");if(yt)for(var wt=0;wt<yt.length;wt++){var J=yt[wt];if(J){var lt=J.parentElement;lt&&lt.removeChild(J)}}this.get("eventController").destroy(),this.get("layoutController").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),ft.prototype.destroy.call(this)},mt}(w.b);b.a=K},function(i,b){i.exports=function(t){return t==null}},function(i,b,t){var n;function u(g){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(g)}(function(g){var x=/^\s+/,c=/\s+$/,w=0,I=g.round,m=g.min,r=g.max,s=g.random;function d(y,B){if(B=B||{},(y=y||"")instanceof d)return y;if(!(this instanceof d))return new d(y,B);var W=function(rt){var st={r:0,g:0,b:0},ut=1,Mt=null,bt=null,xt=null,Ot=!1,jt=!1;typeof rt=="string"&&(rt=function(Vt){Vt=Vt.replace(x,"").replace(c,"").toLowerCase();var Ht,re=!1;if(Lt[Vt])Vt=Lt[Vt],re=!0;else if(Vt=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(Ht=k.rgb.exec(Vt))?{r:Ht[1],g:Ht[2],b:Ht[3]}:(Ht=k.rgba.exec(Vt))?{r:Ht[1],g:Ht[2],b:Ht[3],a:Ht[4]}:(Ht=k.hsl.exec(Vt))?{h:Ht[1],s:Ht[2],l:Ht[3]}:(Ht=k.hsla.exec(Vt))?{h:Ht[1],s:Ht[2],l:Ht[3],a:Ht[4]}:(Ht=k.hsv.exec(Vt))?{h:Ht[1],s:Ht[2],v:Ht[3]}:(Ht=k.hsva.exec(Vt))?{h:Ht[1],s:Ht[2],v:Ht[3],a:Ht[4]}:(Ht=k.hex8.exec(Vt))?{r:yt(Ht[1]),g:yt(Ht[2]),b:yt(Ht[3]),a:it(Ht[4]),format:re?"name":"hex8"}:(Ht=k.hex6.exec(Vt))?{r:yt(Ht[1]),g:yt(Ht[2]),b:yt(Ht[3]),format:re?"name":"hex"}:(Ht=k.hex4.exec(Vt))?{r:yt(Ht[1]+""+Ht[1]),g:yt(Ht[2]+""+Ht[2]),b:yt(Ht[3]+""+Ht[3]),a:it(Ht[4]+""+Ht[4]),format:re?"name":"hex8"}:(Ht=k.hex3.exec(Vt))?{r:yt(Ht[1]+""+Ht[1]),g:yt(Ht[2]+""+Ht[2]),b:yt(Ht[3]+""+Ht[3]),format:re?"name":"hex"}:!1}(rt)),u(rt)=="object"&&(p(rt.r)&&p(rt.g)&&p(rt.b)?(Dt=rt.r,zt=rt.g,Tt=rt.b,st={r:255*ft(Dt,255),g:255*ft(zt,255),b:255*ft(Tt,255)},Ot=!0,jt=String(rt.r).substr(-1)==="%"?"prgb":"rgb"):p(rt.h)&&p(rt.s)&&p(rt.v)?(Mt=J(rt.s),bt=J(rt.v),st=function(Vt,Ht,re){Vt=6*ft(Vt,360),Ht=ft(Ht,100),re=ft(re,100);var pe=g.floor(Vt),me=Vt-pe,Ee=re*(1-Ht),Le=re*(1-me*Ht),Je=re*(1-(1-me)*Ht),On=pe%6;return{r:255*[re,Le,Ee,Ee,Je,re][On],g:255*[Je,re,re,Le,Ee,Ee][On],b:255*[Ee,Ee,Je,re,re,Le][On]}}(rt.h,Mt,bt),Ot=!0,jt="hsv"):p(rt.h)&&p(rt.s)&&p(rt.l)&&(Mt=J(rt.s),xt=J(rt.l),st=function(Vt,Ht,re){var pe,me,Ee;function Le(gn,Vn,kn){return kn<0&&(kn+=1),kn>1&&(kn-=1),kn<1/6?gn+6*(Vn-gn)*kn:kn<.5?Vn:kn<2/3?gn+(Vn-gn)*(2/3-kn)*6:gn}if(Vt=ft(Vt,360),Ht=ft(Ht,100),re=ft(re,100),Ht===0)pe=me=Ee=re;else{var Je=re<.5?re*(1+Ht):re+Ht-re*Ht,On=2*re-Je;pe=Le(On,Je,Vt+1/3),me=Le(On,Je,Vt),Ee=Le(On,Je,Vt-1/3)}return{r:255*pe,g:255*me,b:255*Ee}}(rt.h,Mt,xt),Ot=!0,jt="hsl"),rt.hasOwnProperty("a")&&(ut=rt.a));var Dt,zt,Tt;return ut=K(ut),{ok:Ot,format:rt.format||jt,r:m(255,r(st.r,0)),g:m(255,r(st.g,0)),b:m(255,r(st.b,0)),a:ut}}(y);this._originalInput=y,this._r=W.r,this._g=W.g,this._b=W.b,this._a=W.a,this._roundA=I(100*this._a)/100,this._format=B.format||W.format,this._gradientType=B.gradientType,this._r<1&&(this._r=I(this._r)),this._g<1&&(this._g=I(this._g)),this._b<1&&(this._b=I(this._b)),this._ok=W.ok,this._tc_id=w++}function C(y,B,W){y=ft(y,255),B=ft(B,255),W=ft(W,255);var rt,st,ut=r(y,B,W),Mt=m(y,B,W),bt=(ut+Mt)/2;if(ut==Mt)rt=st=0;else{var xt=ut-Mt;switch(st=bt>.5?xt/(2-ut-Mt):xt/(ut+Mt),ut){case y:rt=(B-W)/xt+(B<W?6:0);break;case B:rt=(W-y)/xt+2;break;case W:rt=(y-B)/xt+4}rt/=6}return{h:rt,s:st,l:bt}}function S(y,B,W){y=ft(y,255),B=ft(B,255),W=ft(W,255);var rt,st,ut=r(y,B,W),Mt=m(y,B,W),bt=ut,xt=ut-Mt;if(st=ut===0?0:xt/ut,ut==Mt)rt=0;else{switch(ut){case y:rt=(B-W)/xt+(B<W?6:0);break;case B:rt=(W-y)/xt+2;break;case W:rt=(y-B)/xt+4}rt/=6}return{h:rt,s:st,v:bt}}function A(y,B,W,rt){var st=[wt(I(y).toString(16)),wt(I(B).toString(16)),wt(I(W).toString(16))];return rt&&st[0].charAt(0)==st[0].charAt(1)&&st[1].charAt(0)==st[1].charAt(1)&&st[2].charAt(0)==st[2].charAt(1)?st[0].charAt(0)+st[1].charAt(0)+st[2].charAt(0):st.join("")}function f(y,B,W,rt){return[wt(lt(rt)),wt(I(y).toString(16)),wt(I(B).toString(16)),wt(I(W).toString(16))].join("")}function O(y,B){B=B===0?0:B||10;var W=d(y).toHsl();return W.s-=B/100,W.s=mt(W.s),d(W)}function j(y,B){B=B===0?0:B||10;var W=d(y).toHsl();return W.s+=B/100,W.s=mt(W.s),d(W)}function D(y){return d(y).desaturate(100)}function V(y,B){B=B===0?0:B||10;var W=d(y).toHsl();return W.l+=B/100,W.l=mt(W.l),d(W)}function H(y,B){B=B===0?0:B||10;var W=d(y).toRgb();return W.r=r(0,m(255,W.r-I(-B/100*255))),W.g=r(0,m(255,W.g-I(-B/100*255))),W.b=r(0,m(255,W.b-I(-B/100*255))),d(W)}function $(y,B){B=B===0?0:B||10;var W=d(y).toHsl();return W.l-=B/100,W.l=mt(W.l),d(W)}function dt(y,B){var W=d(y).toHsl(),rt=(W.h+B)%360;return W.h=rt<0?360+rt:rt,d(W)}function Z(y){var B=d(y).toHsl();return B.h=(B.h+180)%360,d(B)}function ct(y){var B=d(y).toHsl(),W=B.h;return[d(y),d({h:(W+120)%360,s:B.s,l:B.l}),d({h:(W+240)%360,s:B.s,l:B.l})]}function pt(y){var B=d(y).toHsl(),W=B.h;return[d(y),d({h:(W+90)%360,s:B.s,l:B.l}),d({h:(W+180)%360,s:B.s,l:B.l}),d({h:(W+270)%360,s:B.s,l:B.l})]}function gt(y){var B=d(y).toHsl(),W=B.h;return[d(y),d({h:(W+72)%360,s:B.s,l:B.l}),d({h:(W+216)%360,s:B.s,l:B.l})]}function at(y,B,W){B=B||6,W=W||30;var rt=d(y).toHsl(),st=360/W,ut=[d(y)];for(rt.h=(rt.h-(st*B>>1)+720)%360;--B;)rt.h=(rt.h+st)%360,ut.push(d(rt));return ut}function Bt(y,B){B=B||6;for(var W=d(y).toHsv(),rt=W.h,st=W.s,ut=W.v,Mt=[],bt=1/B;B--;)Mt.push(d({h:rt,s:st,v:ut})),ut=(ut+bt)%1;return Mt}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var B=this.toRgb();return(299*B.r+587*B.g+114*B.b)/1e3},getLuminance:function(){var B,W,rt,st=this.toRgb();return B=st.r/255,W=st.g/255,rt=st.b/255,.2126*(B<=.03928?B/12.92:g.pow((B+.055)/1.055,2.4))+.7152*(W<=.03928?W/12.92:g.pow((W+.055)/1.055,2.4))+.0722*(rt<=.03928?rt/12.92:g.pow((rt+.055)/1.055,2.4))},setAlpha:function(B){return this._a=K(B),this._roundA=I(100*this._a)/100,this},toHsv:function(){var B=S(this._r,this._g,this._b);return{h:360*B.h,s:B.s,v:B.v,a:this._a}},toHsvString:function(){var B=S(this._r,this._g,this._b),W=I(360*B.h),rt=I(100*B.s),st=I(100*B.v);return this._a==1?"hsv("+W+", "+rt+"%, "+st+"%)":"hsva("+W+", "+rt+"%, "+st+"%, "+this._roundA+")"},toHsl:function(){var B=C(this._r,this._g,this._b);return{h:360*B.h,s:B.s,l:B.l,a:this._a}},toHslString:function(){var B=C(this._r,this._g,this._b),W=I(360*B.h),rt=I(100*B.s),st=I(100*B.l);return this._a==1?"hsl("+W+", "+rt+"%, "+st+"%)":"hsla("+W+", "+rt+"%, "+st+"%, "+this._roundA+")"},toHex:function(B){return A(this._r,this._g,this._b,B)},toHexString:function(B){return"#"+this.toHex(B)},toHex8:function(B){return function(W,rt,st,ut,Mt){var bt=[wt(I(W).toString(16)),wt(I(rt).toString(16)),wt(I(st).toString(16)),wt(lt(ut))];return Mt&&bt[0].charAt(0)==bt[0].charAt(1)&&bt[1].charAt(0)==bt[1].charAt(1)&&bt[2].charAt(0)==bt[2].charAt(1)&&bt[3].charAt(0)==bt[3].charAt(1)?bt[0].charAt(0)+bt[1].charAt(0)+bt[2].charAt(0)+bt[3].charAt(0):bt.join("")}(this._r,this._g,this._b,this._a,B)},toHex8String:function(B){return"#"+this.toHex8(B)},toRgb:function(){return{r:I(this._r),g:I(this._g),b:I(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+I(this._r)+", "+I(this._g)+", "+I(this._b)+")":"rgba("+I(this._r)+", "+I(this._g)+", "+I(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:I(100*ft(this._r,255))+"%",g:I(100*ft(this._g,255))+"%",b:I(100*ft(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+I(100*ft(this._r,255))+"%, "+I(100*ft(this._g,255))+"%, "+I(100*ft(this._b,255))+"%)":"rgba("+I(100*ft(this._r,255))+"%, "+I(100*ft(this._g,255))+"%, "+I(100*ft(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(Et[A(this._r,this._g,this._b,!0)]||!1)},toFilter:function(B){var W="#"+f(this._r,this._g,this._b,this._a),rt=W,st=this._gradientType?"GradientType = 1, ":"";if(B){var ut=d(B);rt="#"+f(ut._r,ut._g,ut._b,ut._a)}return"progid:DXImageTransform.Microsoft.gradient("+st+"startColorstr="+W+",endColorstr="+rt+")"},toString:function(B){var W=!!B;B=B||this._format;var rt=!1,st=this._a<1&&this._a>=0;return W||!st||B!=="hex"&&B!=="hex6"&&B!=="hex3"&&B!=="hex4"&&B!=="hex8"&&B!=="name"?(B==="rgb"&&(rt=this.toRgbString()),B==="prgb"&&(rt=this.toPercentageRgbString()),B!=="hex"&&B!=="hex6"||(rt=this.toHexString()),B==="hex3"&&(rt=this.toHexString(!0)),B==="hex4"&&(rt=this.toHex8String(!0)),B==="hex8"&&(rt=this.toHex8String()),B==="name"&&(rt=this.toName()),B==="hsl"&&(rt=this.toHslString()),B==="hsv"&&(rt=this.toHsvString()),rt||this.toHexString()):B==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(B,W){var rt=B.apply(null,[this].concat([].slice.call(W)));return this._r=rt._r,this._g=rt._g,this._b=rt._b,this.setAlpha(rt._a),this},lighten:function(){return this._applyModification(V,arguments)},brighten:function(){return this._applyModification(H,arguments)},darken:function(){return this._applyModification($,arguments)},desaturate:function(){return this._applyModification(O,arguments)},saturate:function(){return this._applyModification(j,arguments)},greyscale:function(){return this._applyModification(D,arguments)},spin:function(){return this._applyModification(dt,arguments)},_applyCombination:function(B,W){return B.apply(null,[this].concat([].slice.call(W)))},analogous:function(){return this._applyCombination(at,arguments)},complement:function(){return this._applyCombination(Z,arguments)},monochromatic:function(){return this._applyCombination(Bt,arguments)},splitcomplement:function(){return this._applyCombination(gt,arguments)},triad:function(){return this._applyCombination(ct,arguments)},tetrad:function(){return this._applyCombination(pt,arguments)}},d.fromRatio=function(y,B){if(u(y)=="object"){var W={};for(var rt in y)y.hasOwnProperty(rt)&&(W[rt]=rt==="a"?y[rt]:J(y[rt]));y=W}return d(y,B)},d.equals=function(y,B){return!(!y||!B)&&d(y).toRgbString()==d(B).toRgbString()},d.random=function(){return d.fromRatio({r:s(),g:s(),b:s()})},d.mix=function(y,B,W){W=W===0?0:W||50;var rt=d(y).toRgb(),st=d(B).toRgb(),ut=W/100;return d({r:(st.r-rt.r)*ut+rt.r,g:(st.g-rt.g)*ut+rt.g,b:(st.b-rt.b)*ut+rt.b,a:(st.a-rt.a)*ut+rt.a})},d.readability=function(y,B){var W=d(y),rt=d(B);return(g.max(W.getLuminance(),rt.getLuminance())+.05)/(g.min(W.getLuminance(),rt.getLuminance())+.05)},d.isReadable=function(y,B,W){var rt,st,ut=d.readability(y,B);switch(st=!1,(rt=function(Mt){var bt,xt;return bt=((Mt=Mt||{level:"AA",size:"small"}).level||"AA").toUpperCase(),xt=(Mt.size||"small").toLowerCase(),bt!=="AA"&&bt!=="AAA"&&(bt="AA"),xt!=="small"&&xt!=="large"&&(xt="small"),{level:bt,size:xt}}(W)).level+rt.size){case"AAsmall":case"AAAlarge":st=ut>=4.5;break;case"AAlarge":st=ut>=3;break;case"AAAsmall":st=ut>=7}return st},d.mostReadable=function(y,B,W){var rt,st,ut,Mt,bt=null,xt=0;st=(W=W||{}).includeFallbackColors,ut=W.level,Mt=W.size;for(var Ot=0;Ot<B.length;Ot++)(rt=d.readability(y,B[Ot]))>xt&&(xt=rt,bt=d(B[Ot]));return d.isReadable(y,bt,{level:ut,size:Mt})||!st?bt:(W.includeFallbackColors=!1,d.mostReadable(y,["#fff","#000"],W))};var Lt=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Et=d.hexNames=function(y){var B={};for(var W in y)y.hasOwnProperty(W)&&(B[y[W]]=W);return B}(Lt);function K(y){return y=parseFloat(y),(isNaN(y)||y<0||y>1)&&(y=1),y}function ft(y,B){(function(rt){return typeof rt=="string"&&rt.indexOf(".")!=-1&&parseFloat(rt)===1})(y)&&(y="100%");var W=function(rt){return typeof rt=="string"&&rt.indexOf("%")!=-1}(y);return y=m(B,r(0,parseFloat(y))),W&&(y=parseInt(y*B,10)/100),g.abs(y-B)<1e-6?1:y%B/parseFloat(B)}function mt(y){return m(1,r(0,y))}function yt(y){return parseInt(y,16)}function wt(y){return y.length==1?"0"+y:""+y}function J(y){return y<=1&&(y=100*y+"%"),y}function lt(y){return g.round(255*parseFloat(y)).toString(16)}function it(y){return yt(y)/255}var _,P,Q,k=(P="[\\s|\\(]+("+(_="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+_+")[,|\\s]+("+_+")\\s*\\)?",Q="[\\s|\\(]+("+_+")[,|\\s]+("+_+")[,|\\s]+("+_+")[,|\\s]+("+_+")\\s*\\)?",{CSS_UNIT:new RegExp(_),rgb:new RegExp("rgb"+P),rgba:new RegExp("rgba"+Q),hsl:new RegExp("hsl"+P),hsla:new RegExp("hsla"+Q),hsv:new RegExp("hsv"+P),hsva:new RegExp("hsva"+Q),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function p(y){return!!k.CSS_UNIT.exec(y)}i.exports?i.exports=d:(n=function(){return d}.call(b,t,b,i))===void 0||(i.exports=n)})(Math)},function(i,b,t){i.exports={EPSILON:t(233),create:t(234),clone:t(477),fromValues:t(478),copy:t(479),set:t(235),equals:t(480),exactEquals:t(481),add:t(236),subtract:t(150),sub:t(482),multiply:t(237),mul:t(483),divide:t(238),div:t(484),inverse:t(485),min:t(486),max:t(487),rotate:t(488),floor:t(489),ceil:t(490),round:t(491),scale:t(492),scaleAndAdd:t(493),distance:t(239),dist:t(494),squaredDistance:t(240),sqrDist:t(495),length:t(241),len:t(496),squaredLength:t(242),sqrLen:t(497),negate:t(498),normalize:t(243),dot:t(244),cross:t(499),lerp:t(500),random:t(501),transformMat2:t(502),transformMat2d:t(503),transformMat3:t(504),transformMat4:t(505),forEach:t(506),limit:t(507)}},function(i,b,t){var n=t(96),u=t(278),g=t(279),x=t(280),c=t(281),w=t(282);function I(m){var r=this.__data__=new n(m);this.size=r.size}I.prototype.clear=u,I.prototype.delete=g,I.prototype.get=x,I.prototype.has=c,I.prototype.set=w,i.exports=I},function(i,b,t){var n=t(273),u=t(274),g=t(275),x=t(276),c=t(277);function w(I){var m=-1,r=I==null?0:I.length;for(this.clear();++m<r;){var s=I[m];this.set(s[0],s[1])}}w.prototype.clear=n,w.prototype.delete=u,w.prototype.get=g,w.prototype.has=x,w.prototype.set=c,i.exports=w},function(i,b,t){var n=t(71);i.exports=function(u,g){for(var x=u.length;x--;)if(n(u[x][0],g))return x;return-1}},function(i,b,t){var n=t(64)(Object,"create");i.exports=n},function(i,b,t){var n=t(297);i.exports=function(u,g){var x=u.__data__;return n(g)?x[typeof g=="string"?"string":"hash"]:x.map}},function(i,b,t){var n=t(101),u=t(71),g=Object.prototype.hasOwnProperty;i.exports=function(x,c,w){var I=x[c];g.call(x,c)&&u(I,w)&&(w!==void 0||c in x)||n(x,c,w)}},function(i,b,t){var n=t(166);i.exports=function(u,g,x){g=="__proto__"&&n?n(u,g,{configurable:!0,enumerable:!0,value:x,writable:!0}):u[g]=x}},function(i,b){function t(u){return(t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(u)}var n=/^(?:0|[1-9]\d*)$/;i.exports=function(u,g){var x=t(u);return!!(g=g==null?9007199254740991:g)&&(x=="number"||x!="symbol"&&n.test(u))&&u>-1&&u%1==0&&u<g}},function(i,b){i.exports=function(t){return function(n){return t(n)}}},function(i,b){var t=Object.prototype;i.exports=function(n){var u=n&&n.constructor;return n===(typeof u=="function"&&u.prototype||t)}},function(i,b,t){var n=t(168)(Object.getPrototypeOf,Object);i.exports=n},function(i,b,t){var n=t(135),u=t(326)(n);i.exports=u},function(i,b,t){var n=t(108),u=t(87);i.exports=function(g,x){for(var c=0,w=(x=n(x,g)).length;g!=null&&c<w;)g=g[u(x[c++])];return c&&c==w?g:void 0}},function(i,b,t){var n=t(26),u=t(138),g=t(340),x=t(191);i.exports=function(c,w){return n(c)?c:u(c,w)?[c]:g(x(c))}},function(i,b){i.exports=function(t,n){for(var u=-1,g=t==null?0:t.length,x=Array(g);++u<g;)x[u]=n(t[u],u,t);return x}},function(i,b,t){var n=t(66),u=t(200),g=t(201);i.exports=function(x,c){return g(u(x,c,n),x+"")}},function(i,b,t){function n(w){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(w)}var u=t(71),g=t(53),x=t(102),c=t(43);i.exports=function(w,I,m){if(!c(m))return!1;var r=n(I);return!!(r=="number"?g(m)&&x(I,m.length):r=="string"&&I in m)&&u(m[I],w)}},function(i,b,t){"use strict";var n=t(24);i.exports={longestPath:function(g){var x={};n.forEach(g.sources(),function c(w){var I=g.node(w);if(n.has(x,w))return I.rank;x[w]=!0;var m=n.min(n.map(g.outEdges(w),function(r){return c(r.w)-g.edge(r).minlen}));return m!==Number.POSITIVE_INFINITY&&m!=null||(m=0),I.rank=m})},slack:function(g,x){return g.node(x.w).rank-g.node(x.v).rank-g.edge(x).minlen}}},function(i,b){},function(i,b,t){"use strict";var n=function(){function u(g,x){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=g,this.name=g,this.originalEvent=x,this.timeStamp=x.timeStamp}return u.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},u.prototype.stopPropagation=function(){this.propagationStopped=!0},u.prototype.toString=function(){return"[Event (type="+this.type+")]"},u.prototype.save=function(){},u.prototype.restore=function(){},u}();b.a=n},function(i,b,t){"use strict";var n=t(1),u=t(79),g=t(19),x=function(c){function w(I){var m=c.call(this)||this;m.destroyed=!1;var r=m.getDefaultCfg();return m.cfg=Object(g.i)(r,I),m}return Object(n.b)(w,c),w.prototype.getDefaultCfg=function(){return{}},w.prototype.get=function(I){return this.cfg[I]},w.prototype.set=function(I,m){this.cfg[I]=m},w.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},w}(u.a);b.a=x},function(i,b,t){"use strict";t.d(b,"a",function(){return u});var n=null;function u(){if(!n){var g=document.createElement("canvas");g.width=1,g.height=1,n=g.getContext("2d")}return n}},function(i,b,t){"use strict";var n=t(1),u=t(118),g=t(19),x={},c=function(w){function I(){return w!==null&&w.apply(this,arguments)||this}return Object(n.b)(I,w),I.prototype.isCanvas=function(){return!1},I.prototype.getBBox=function(){var m=1/0,r=-1/0,s=1/0,d=-1/0,C=[],S=[],A=this.getChildren().filter(function(f){return f.get("visible")&&(!f.isGroup()||f.isGroup()&&f.getChildren().length>0)});return A.length>0?(Object(g.a)(A,function(f){var O=f.getBBox();C.push(O.minX,O.maxX),S.push(O.minY,O.maxY)}),m=Math.min.apply(null,C),r=Math.max.apply(null,C),s=Math.min.apply(null,S),d=Math.max.apply(null,S)):(m=0,r=0,s=0,d=0),{x:m,y:s,minX:m,minY:s,maxX:r,maxY:d,width:r-m,height:d-s}},I.prototype.getCanvasBBox=function(){var m=1/0,r=-1/0,s=1/0,d=-1/0,C=[],S=[],A=this.getChildren().filter(function(f){return f.get("visible")&&(!f.isGroup()||f.isGroup()&&f.getChildren().length>0)});return A.length>0?(Object(g.a)(A,function(f){var O=f.getCanvasBBox();C.push(O.minX,O.maxX),S.push(O.minY,O.maxY)}),m=Math.min.apply(null,C),r=Math.max.apply(null,C),s=Math.min.apply(null,S),d=Math.max.apply(null,S)):(m=0,r=0,s=0,d=0),{x:m,y:s,minX:m,minY:s,maxX:r,maxY:d,width:r-m,height:d-s}},I.prototype.getDefaultCfg=function(){var m=w.prototype.getDefaultCfg.call(this);return m.children=[],m},I.prototype.onAttrChange=function(m,r,s){if(w.prototype.onAttrChange.call(this,m,r,s),m==="matrix"){var d=this.getTotalMatrix();this._applyChildrenMarix(d)}},I.prototype.applyMatrix=function(m){var r=this.getTotalMatrix();w.prototype.applyMatrix.call(this,m);var s=this.getTotalMatrix();s!==r&&this._applyChildrenMarix(s)},I.prototype._applyChildrenMarix=function(m){var r=this.getChildren();Object(g.a)(r,function(s){s.applyMatrix(m)})},I.prototype.addShape=function(){for(var m=[],r=0;r<arguments.length;r++)m[r]=arguments[r];var s=m[0],d=m[1];Object(g.f)(s)?d=s:d.type=s;var C=x[d.type];C||(C=Object(g.k)(d.type),x[d.type]=C);var S=this.getShapeBase(),A=new S[C](d);return this.add(A),A},I.prototype.addGroup=function(){for(var m=[],r=0;r<arguments.length;r++)m[r]=arguments[r];var s,d=m[0],C=m[1];if(Object(g.d)(d))s=new d(C||{parent:this});else{var S=d||{},A=this.getGroupBase();s=new A(S)}return this.add(s),s},I.prototype.getCanvas=function(){return this.isCanvas()?this:this.get("canvas")},I.prototype.getShape=function(m,r,s){if(!Object(g.b)(this))return null;var d,C=this.getChildren();if(this.isCanvas())d=this._findShape(C,m,r,s);else{var S=[m,r,1];S=this.invertFromMatrix(S),this.isClipped(S[0],S[1])||(d=this._findShape(C,S[0],S[1],s))}return d},I.prototype._findShape=function(m,r,s,d){for(var C=null,S=m.length-1;S>=0;S--){var A=m[S];if(Object(g.b)(A)&&(A.isGroup()?C=A.getShape(r,s,d):A.isHit(r,s)&&(C=A)),C)break}return C},I.prototype.add=function(m){var r=this.getCanvas(),s=this.getChildren(),d=this.get("timeline"),C=m.getParent();C&&function(S,A,f){f===void 0&&(f=!0),f?A.destroy():(A.set("parent",null),A.set("canvas",null)),Object(g.j)(S.getChildren(),A)}(C,m,!1),m.set("parent",this),r&&function S(A,f){if(A.set("canvas",f),A.isGroup()){var O=A.get("children");O.length&&O.forEach(function(j){S(j,f)})}}(m,r),d&&function S(A,f){if(A.set("timeline",f),A.isGroup()){var O=A.get("children");O.length&&O.forEach(function(j){S(j,f)})}}(m,d),s.push(m),m.onCanvasChange("add"),this._applyElementMatrix(m)},I.prototype._applyElementMatrix=function(m){var r=this.getTotalMatrix();r&&m.applyMatrix(r)},I.prototype.getChildren=function(){return this.get("children")},I.prototype.sort=function(){var m,r=this.getChildren();Object(g.a)(r,function(s,d){return s._INDEX=d,s}),r.sort((m=function(d,C){return d.get("zIndex")-C.get("zIndex")},function(s,d){var C=m(s,d);return C===0?s._INDEX-d._INDEX:C})),this.onCanvasChange("sort")},I.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var m=this.getChildren(),r=m.length-1;r>=0;r--)m[r].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},I.prototype.destroy=function(){this.get("destroyed")||(this.clear(),w.prototype.destroy.call(this))},I.prototype.getFirst=function(){return this.getChildByIndex(0)},I.prototype.getLast=function(){var m=this.getChildren();return this.getChildByIndex(m.length-1)},I.prototype.getChildByIndex=function(m){return this.getChildren()[m]},I.prototype.getCount=function(){return this.getChildren().length},I.prototype.contain=function(m){return this.getChildren().indexOf(m)>-1},I.prototype.removeChild=function(m,r){r===void 0&&(r=!0),this.contain(m)&&m.remove(r)},I.prototype.findAll=function(m){var r=[],s=this.getChildren();return Object(g.a)(s,function(d){m(d)&&r.push(d),d.isGroup()&&(r=r.concat(d.findAll(m)))}),r},I.prototype.find=function(m){var r=null,s=this.getChildren();return Object(g.a)(s,function(d){if(m(d)?r=d:d.isGroup()&&(r=d.find(m)),r)return!1}),r},I.prototype.findById=function(m){return this.find(function(r){return r.get("id")===m})},I.prototype.findByClassName=function(m){return this.find(function(r){return r.get("className")===m})},I.prototype.findAllByName=function(m){return this.findAll(function(r){return r.get("name")===m})},I}(u.a);b.a=c},function(i,b,t){"use strict";var n=t(1),u=t(0),g=t(10),x=t(19),c=t(39),w=t(115),I=g.a.transform,m=["zIndex","capture","visible","type"],r=["repeat"];function s(A,f){var O={},j=f.attrs;for(var D in A)O[D]=j[D];return O}function d(A,f){var O={},j=f.attr();return Object(u.f)(A,function(D,V){r.indexOf(V)!==-1||Object(u.q)(j[V],D)||(O[V]=D)}),O}function C(A,f){if(f.onFrame)return A;var O=f.startTime,j=f.delay,D=f.duration,V=Object.prototype.hasOwnProperty;return Object(u.f)(A,function(H){O+j<H.startTime+H.delay+H.duration&&D>H.delay&&Object(u.f)(f.toAttrs,function($,dt){V.call(H.toAttrs,dt)&&(delete H.toAttrs[dt],delete H.fromAttrs[dt])})}),A}var S=function(A){function f(O){var j=A.call(this,O)||this;j.attrs={};var D=j.getDefaultAttrs();return Object(u.A)(D,O.attrs),j.attrs=D,j.initAttrs(D),j.initAnimate(),j}return Object(n.b)(f,A),f.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},f.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},f.prototype.onCanvasChange=function(O){},f.prototype.initAttrs=function(O){},f.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},f.prototype.isGroup=function(){return!1},f.prototype.getParent=function(){return this.get("parent")},f.prototype.getCanvas=function(){return this.get("canvas")},f.prototype.attr=function(){for(var O,j=[],D=0;D<arguments.length;D++)j[D]=arguments[D];var V=j[0],H=j[1];if(!V)return this.attrs;if(Object(u.v)(V)){for(var $ in V)this.setAttr($,V[$]);return this.afterAttrsChange(V),this}return j.length===2?(this.setAttr(V,H),this.afterAttrsChange(((O={})[V]=H,O)),this):this.attrs[V]},f.prototype.isClipped=function(O,j){var D=this.getClip();return D&&!D.isHit(O,j)},f.prototype.setAttr=function(O,j){var D=this.attrs[O];D!==j&&(this.attrs[O]=j,this.onAttrChange(O,j,D))},f.prototype.onAttrChange=function(O,j,D){O==="matrix"&&this.set("totalMatrix",null)},f.prototype.afterAttrsChange=function(O){if(this.cfg.isClipShape){var j=this.cfg.applyTo;j&&j.onCanvasChange("clip")}else this.onCanvasChange("attr")},f.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},f.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},f.prototype.setZIndex=function(O){this.set("zIndex",O);var j=this.getParent();return j&&j.sort(),this},f.prototype.toFront=function(){var O=this.getParent();if(O){var j=O.getChildren(),D=(this.get("el"),j.indexOf(this));j.splice(D,1),j.push(this),this.onCanvasChange("zIndex")}},f.prototype.toBack=function(){var O=this.getParent();if(O){var j=O.getChildren(),D=(this.get("el"),j.indexOf(this));j.splice(D,1),j.unshift(this),this.onCanvasChange("zIndex")}},f.prototype.remove=function(O){O===void 0&&(O=!0);var j=this.getParent();j?(Object(x.j)(j.getChildren(),this),j.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),O&&this.destroy()},f.prototype.resetMatrix=function(){this.attr("matrix",this.getDefaultMatrix()),this.onCanvasChange("matrix")},f.prototype.getMatrix=function(){return this.attr("matrix")},f.prototype.setMatrix=function(O){this.attr("matrix",O),this.onCanvasChange("matrix")},f.prototype.getTotalMatrix=function(){var O=this.cfg.totalMatrix;if(!O){var j=this.attr("matrix"),D=this.cfg.parentMatrix;O=D&&j?Object(c.b)(D,j):j||D,this.set("totalMatrix",O)}return O},f.prototype.applyMatrix=function(O){var j=this.attr("matrix"),D=null;D=O&&j?Object(c.b)(O,j):j||O,this.set("totalMatrix",D),this.set("parentMatrix",O)},f.prototype.getDefaultMatrix=function(){return null},f.prototype.applyToMatrix=function(O){var j=this.attr("matrix");return j?Object(c.c)(j,O):O},f.prototype.invertFromMatrix=function(O){var j=this.attr("matrix");if(j){var D=Object(c.a)(j);if(D)return Object(c.c)(D,O)}return O},f.prototype.setClip=function(O){var j=this.getCanvas(),D=null;if(O){var V=this.getShapeBase()[Object(u.I)(O.type)];V&&(D=new V({type:O.type,isClipShape:!0,applyTo:this,attrs:O.attrs,canvas:j}))}return this.set("clipShape",D),this.onCanvasChange("clip"),D},f.prototype.getClip=function(){var O=this.cfg.clipShape;return O||null},f.prototype.clone=function(){var O=this,j=this.attrs,D={};Object(u.f)(j,function(H,$){Object(u.m)(j[$])?D[$]=function(dt){for(var Z=[],ct=0;ct<dt.length;ct++)Object(u.m)(dt[ct])?Z.push([].concat(dt[ct])):Z.push(dt[ct]);return Z}(j[$]):D[$]=j[$]});var V=new this.constructor({attrs:D});return Object(u.f)(m,function(H){V.set(H,O.get(H))}),V},f.prototype.destroy=function(){this.destroyed||(this.attrs={},A.prototype.destroy.call(this))},f.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},f.prototype.animate=function(){for(var O=[],j=0;j<arguments.length;j++)O[j]=arguments[j];var D=this.isCanvas&&this.isCanvas();if(D||this.get("canvas")){this.set("animating",!0);var V=this.get("timeline");V||(V=this.get("canvas").get("timeline"),this.set("timeline",V));var H=this.get("animations")||[];V.timer||V.initTimer();var $,dt,Z,ct,pt,gt=O[0],at=O[1],Bt=O[2],Lt=Bt===void 0?"easeLinear":Bt,Et=O[3],K=Et===void 0?u.C:Et,ft=O[4],mt=ft===void 0?0:ft;Object(u.r)(gt)?($=gt,gt={}):Object(u.v)(gt)&&gt.onFrame&&($=gt.onFrame,dt=gt.repeat),Object(u.v)(at)?(at=(pt=at).duration,Lt=pt.easing||"easeLinear",mt=pt.delay||0,dt=pt.repeat||dt||!1,K=pt.callback||u.C,Z=pt.pauseCallback||u.C,ct=pt.resumeCallback||u.C):(Object(u.t)(K)&&(mt=K,K=null),Object(u.r)(Lt)?(K=Lt,Lt="easeLinear"):Lt=Lt||"easeLinear");var yt=d(gt,this),wt={fromAttrs:s(yt,this),toAttrs:yt,duration:at,easing:Lt,repeat:dt,callback:K,pauseCallback:Z,resumeCallback:ct,delay:mt,startTime:V.getTime(),id:Object(u.H)(),onFrame:$,pathFormatted:!1};H.length>0?H=C(H,wt):V.addAnimator(this),H.push(wt),this.set("animations",H),this.set("_pause",{isPaused:!1})}},f.prototype.stopAnimate=function(O){var j=this;O===void 0&&(O=!0);var D=this.get("animations");Object(u.f)(D,function(V){O&&(V.onFrame?j.attr(V.onFrame(1)):j.attr(V.toAttrs)),V.callback&&V.callback()}),this.set("animating",!1),this.set("animations",[])},f.prototype.pauseAnimate=function(){var O=this.get("timeline"),j=this.get("animations"),D=O.getTime();return Object(u.f)(j,function(V){V._paused=!0,V._pauseTime=D,V.pauseCallback&&V.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:D}),this},f.prototype.resumeAnimate=function(){var O=this.get("timeline").getTime(),j=this.get("animations"),D=this.get("_pause").pauseTime;return Object(u.f)(j,function(V){V.startTime=V.startTime+(O-D),V._paused=!1,V._pauseTime=null,V.resumeCallback&&V.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",j),this},f.prototype.emitDelegation=function(O,j){var D,V=this,H=j.propagationPath;this.getEvents(),O==="mouseenter"?D=j.fromShape:O==="mouseleave"&&(D=j.toShape);for(var $=function(pt){var gt=H[pt],at=gt.get("name");if(at){if((gt.isGroup()||gt.isCanvas&&gt.isCanvas())&&D&&Object(x.g)(gt,D))return"break";Object(u.m)(at)?Object(u.f)(at,function(Bt){V.emitDelegateEvent(gt,Bt,j)}):dt.emitDelegateEvent(gt,at,j)}},dt=this,Z=0;Z<H.length&&$(Z)!=="break";Z++);},f.prototype.emitDelegateEvent=function(O,j,D){var V=this.getEvents(),H=j+":"+D.type;(V[H]||V["*"])&&(D.name=H,D.currentTarget=O,D.delegateTarget=this,D.delegateObject=O.get("delegateObject"),this.emit(H,D))},f.prototype.translate=function(O,j){O===void 0&&(O=0),j===void 0&&(j=0);var D=this.getMatrix(),V=I(D,[["t",O,j]]);return this.setMatrix(V),this},f.prototype.move=function(O,j){var D=this.attr("x")||0,V=this.attr("y")||0;return this.translate(O-D,j-V),this},f.prototype.moveTo=function(O,j){return this.move(O,j)},f.prototype.scale=function(O,j){var D=this.getMatrix(),V=I(D,[["s",O,j||O]]);return this.setMatrix(V),this},f.prototype.rotate=function(O){var j=this.getMatrix(),D=I(j,[["r",O]]);return this.setMatrix(D),this},f.prototype.rotateAtStart=function(O){var j=this.attr(),D=j.x,V=j.y,H=this.getMatrix(),$=I(H,[["t",-D,-V],["r",O],["t",D,V]]);return this.setMatrix($),this},f.prototype.rotateAtPoint=function(O,j,D){var V=this.getMatrix(),H=I(V,[["t",-O,-j],["r",D],["t",O,j]]);return this.setMatrix(H),this},f}(w.a);b.a=S},function(i,b,t){"use strict";(function(n){t.d(b,"a",function(){return d});var u=function(){for(var f=0,O=0,j=arguments.length;O<j;O++)f+=arguments[O].length;var D=Array(f),V=0;for(O=0;O<j;O++)for(var H=arguments[O],$=0,dt=H.length;$<dt;$++,V++)D[V]=H[$];return D},g=function(f,O,j){this.name=f,this.version=O,this.os=j,this.type="browser"},x=function(f){this.version=f,this.type="node",this.name="node",this.os=n.platform},c=function(f,O,j,D){this.name=f,this.version=O,this.os=j,this.bot=D,this.type="bot-device"},w=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},I=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},m=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,r=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],s=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function d(A){return A?S(A):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new I:typeof navigator!="undefined"?S(navigator.userAgent):n!==void 0&&n.version?new x(n.version.slice(1)):null}function C(A){return A!==""&&r.reduce(function(f,O){var j=O[0],D=O[1];if(f)return f;var V=D.exec(A);return!!V&&[j,V]},!1)}function S(A){var f=C(A);if(!f)return null;var O=f[0],j=f[1];if(O==="searchbot")return new w;var D=j[1]&&j[1].split(/[._]/).slice(0,3);D?D.length<3&&(D=u(D,function(dt){for(var Z=[],ct=0;ct<dt;ct++)Z.push("0");return Z}(3-D.length))):D=[];var V=D.join("."),H=function(dt){for(var Z=0,ct=s.length;Z<ct;Z++){var pt=s[Z],gt=pt[0];if(pt[1].exec(dt))return gt}return null}(A),$=m.exec(A);return $&&$[1]?new c(O,V,H,$[1]):new g(O,V,H)}}).call(this,t(158))},function(i,b,t){"use strict";t.d(b,"b",function(){return I}),t.d(b,"a",function(){return m});var n=t(17),u=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,g=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,x=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,c=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function w(r,s){var d=r.match(c);Object(n.c)(d,function(C){var S=C.split(":");s.addColorStop(S[0],S[1])})}function I(r,s,d){if(Object(n.k)(d)){if(d[1]==="("||d[2]==="("){if(d[0]==="l")return function(C,S,A){var f,O,j=u.exec(A),D=parseFloat(j[1])%360*(Math.PI/180),V=j[2],H=S.getBBox();D>=0&&D<.5*Math.PI?(f={x:H.minX,y:H.minY},O={x:H.maxX,y:H.maxY}):.5*Math.PI<=D&&D<Math.PI?(f={x:H.maxX,y:H.minY},O={x:H.minX,y:H.maxY}):Math.PI<=D&&D<1.5*Math.PI?(f={x:H.maxX,y:H.maxY},O={x:H.minX,y:H.minY}):(f={x:H.minX,y:H.maxY},O={x:H.maxX,y:H.minY});var $=Math.tan(D),dt=$*$,Z=(O.x-f.x+$*(O.y-f.y))/(dt+1)+f.x,ct=$*(O.x-f.x+$*(O.y-f.y))/(dt+1)+f.y,pt=C.createLinearGradient(f.x,f.y,Z,ct);return w(V,pt),pt}(r,s,d);if(d[0]==="r")return function(C,S,A){var f=g.exec(A),O=parseFloat(f[1]),j=parseFloat(f[2]),D=parseFloat(f[3]),V=f[4];if(D===0){var H=V.match(c);return H[H.length-1].split(":")[1]}var $=S.getBBox(),dt=$.maxX-$.minX,Z=$.maxY-$.minY,ct=Math.sqrt(dt*dt+Z*Z)/2,pt=C.createRadialGradient($.minX+dt*O,$.minY+Z*j,0,$.minX+dt/2,$.minY+Z/2,D*ct);return w(V,pt),pt}(r,s,d);if(d[0]==="p")return function(C,S,A){if(S.get("patternSource")&&S.get("patternSource")===A)return S.get("pattern");var f,O,j=x.exec(A),D=j[1],V=j[2];function H(){f=C.createPattern(O,D),S.set("pattern",f),S.set("patternSource",A)}switch(D){case"a":D="repeat";break;case"x":D="repeat-x";break;case"y":D="repeat-y";break;case"n":D="no-repeat";break;default:D="no-repeat"}return O=new Image,V.match(/^data:/i)||(O.crossOrigin="Anonymous"),O.src=V,O.complete?H():(O.onload=H,O.src=O.src),f}(r,s,d)}return d}}function m(r){var s=0,d=0,C=0,S=0;return Object(n.g)(r)?r.length===1?s=d=C=S=r[0]:r.length===2?(s=C=r[0],d=S=r[1]):r.length===3?(s=r[0],d=S=r[1],C=r[2]):(s=r[0],d=r[1],C=r[2],S=r[3]):s=d=C=S=r,[s,d,C,S]}},function(i,b,t){"use strict";t.r(b),t.d(b,"gpuDetector",function(){return n});var n=function u(){return typeof window=="undefined"||typeof document=="undefined"?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var g=document.createElement("canvas");return!(!window.WebGLRenderingContext||!g.getContext("webgl")&&!g.getContext("experimental-webgl"))}catch(x){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var x=document.createElement("div");return x.id="webgl-error-message",x.style.fontFamily="monospace",x.style.fontSize="13px",x.style.fontWeight="normal",x.style.textAlign="center",x.style.background="#fff",x.style.color="#000",x.style.padding="1.5em",x.style.width="400px",x.style.margin="5em auto 0",this.webgl||(x.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`)),x},addGetWebGLMessage:function(x){var c=(x=x||{}).parent!==void 0?x.parent:document.body,w=x.id!==void 0?x.id:"oldie",I=u().getWebGLErrorMessage();I.id=w,c.appendChild(I)}}}},function(i,b,t){"use strict";t.d(b,"a",function(){return n});var n={};t.r(n),t.d(n,"leftTranslate",function(){return g}),t.d(n,"leftRotate",function(){return x}),t.d(n,"leftScale",function(){return c}),t.d(n,"transform",function(){return w}),t.d(n,"direction",function(){return I}),t.d(n,"angleTo",function(){return m}),t.d(n,"vertical",function(){return r});var u=t(2);function g(s,d,C){var S=[0,0,0,0,0,0,0,0,0];return u.a.fromTranslation(S,C),u.a.multiply(s,S,d)}function x(s,d,C){var S=[0,0,0,0,0,0,0,0,0];return u.a.fromRotation(S,C),u.a.multiply(s,S,d)}function c(s,d,C){var S=[0,0,0,0,0,0,0,0,0];return u.a.fromScaling(S,C),u.a.multiply(s,S,d)}function w(s,d){for(var C,S,A,f=s?[].concat(s):[1,0,0,0,1,0,0,0,1],O=0,j=d.length;O<j;O++){var D=d[O];switch(D[0]){case"t":g(f,f,[D[1],D[2]]);break;case"s":c(f,f,[D[1],D[2]]);break;case"r":x(f,f,D[1]);break;case"m":C=f,S=f,A=D[1],u.a.multiply(C,A,S)}}return f}function I(s,d){return s[0]*d[1]-d[0]*s[1]}function m(s,d,C){var S=u.d.angle(s,d),A=I(s,d)>=0;return C?A?2*Math.PI-S:S:A?S:2*Math.PI-S}function r(s,d,C){return C?(s[0]=d[1],s[1]=-1*d[0]):(s[0]=-1*d[1],s[1]=d[0]),s}},function(i,b,t){"use strict";t.r(b),t.d(b,"mixColor",function(){return S}),t.d(b,"getColorsWithSubjectColor",function(){return A}),t.d(b,"getColorSetsBySubjectColors",function(){return f});var n=t(82),u=t.n(n),g=t(93),x=t.n(g),c=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function w(O,j,D){var V;return(V=Math.round(O.h)>=60&&Math.round(O.h)<=240?D?Math.round(O.h)-2*j:Math.round(O.h)+2*j:D?Math.round(O.h)+2*j:Math.round(O.h)-2*j)<0?V+=360:V>=360&&(V-=360),V}function I(O,j,D){return O.h===0&&O.s===0?O.s:((V=D?O.s-.16*j:j===4?O.s+.16:O.s+.05*j)>1&&(V=1),D&&j===5&&V>.1&&(V=.1),V<.06&&(V=.06),Number(V.toFixed(2)));var V}function m(O,j,D){var V;return(V=D?O.v+.05*j:O.v-.15*j)>1&&(V=1),Number(V.toFixed(2))}function r(O){for(var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},D=[],V=x()(O),H=5;H>0;H-=1){var $=V.toHsv(),dt=x()({h:w($,H,!0),s:I($,H,!0),v:m($,H,!0)}).toHexString();D.push(dt)}D.push(V.toHexString());for(var Z=1;Z<=4;Z+=1){var ct=V.toHsv(),pt=x()({h:w(ct,Z),s:I(ct,Z),v:m(ct,Z)}).toHexString();D.push(pt)}return j.theme==="dark"?c.map(function(gt){var at=gt.index,Bt=gt.opacity;return x.a.mix(j.backgroundColor||"#141414",D[at],100*Bt).toHexString()}):D}var s={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},d={},C={};Object.keys(s).forEach(function(O){d[O]=r(s[O]),d[O].primary=d[O][5],C[O]=r(s[O],{theme:"dark",backgroundColor:"#141414"}),C[O].primary=C[O][5]}),d.red,d.volcano,d.gold,d.orange,d.yellow,d.lime,d.green,d.cyan,d.blue,d.geekblue,d.purple,d.magenta,d.grey;var S=function(j,D,V){var H=u()(j),$=u()(D);return u()([(1-V)*H.red()+V*$.red(),(1-V)*H.green()+V*$.green(),(1-V)*H.blue()+V*$.blue()]).rgb()},A=function(j,D,V,H){return D===void 0&&(D="#fff"),V===void 0&&(V="default"),H===void 0&&(H="rgb(150, 150, 150)"),V==="default"?function($,dt,Z){dt===void 0&&(dt="#fff"),Z===void 0&&(Z="rgb(150, 150, 150)");var ct=S(dt,$,.05).rgb().toString(),pt=S(dt,$,.1).rgb().toString(),gt=S(dt,$,.2).rgb().toString(),at=S(dt,$,.4).rgb().toString(),Bt=S(dt,Z,.02).rgb().toString(),Lt=S(dt,Z,.05).rgb().toString(),Et=S(dt,Z,.1).rgb().toString(),K=S(dt,Z,.2).rgb().toString(),ft=S(dt,Z,.3).rgb().toString(),mt=r($,{theme:"default",backgroundColor:dt}),yt=u()($).hex().toLowerCase(),wt=mt.indexOf(yt),J=$;return wt!==-1&&(J=mt[wt+1]),{mainStroke:$,mainFill:pt,activeStroke:$,activeFill:ct,inactiveStroke:at,inactiveFill:ct,selectedStroke:$,selectedFill:dt,highlightStroke:J,highlightFill:gt,disableStroke:ft,disableFill:Lt,edgeMainStroke:ft,edgeActiveStroke:$,edgeInactiveStroke:K,edgeSelectedStroke:$,edgeHighlightStroke:$,edgeDisableStroke:Et,comboMainStroke:ft,comboMainFill:Bt,comboActiveStroke:$,comboActiveFill:ct,comboInactiveStroke:ft,comboInactiveFill:Bt,comboSelectedStroke:$,comboSelectedFill:Bt,comboHighlightStroke:J,comboHighlightFill:Bt,comboDisableStroke:K,comboDisableFill:Lt}}(j,D,"rgb(150, 150, 150)"):function($,dt,Z){dt===void 0&&(dt="#fff"),Z===void 0&&(Z="#777");var ct=S(dt,$,.2).rgb().toString(),pt=S(dt,$,.3).rgb().toString(),gt=S(dt,$,.6).rgb().toString(),at=S(dt,$,.8).rgb().toString(),Bt=S(dt,Z,.2).rgb().toString(),Lt=S(dt,Z,.25).rgb().toString(),Et=S(dt,Z,.3).rgb().toString(),K=S(dt,Z,.4).rgb().toString(),ft=S(dt,Z,.5).rgb().toString(),mt=r($,{theme:"dark",backgroundColor:dt}),yt=u()($).hex().toLowerCase(),wt=mt.indexOf(yt),J=$;return wt!==-1&&(J=mt[wt+1]),{mainStroke:at,mainFill:ct,activeStroke:$,activeFill:pt,inactiveStroke:at,inactiveFill:ct,selectedStroke:$,selectedFill:ct,highlightStroke:$,highlightFill:gt,disableStroke:ft,disableFill:Lt,edgeMainStroke:Z,edgeActiveStroke:$,edgeInactiveStroke:Z,edgeSelectedStroke:$,edgeHighlightStroke:$,edgeDisableStroke:Et,comboMainStroke:K,comboMainFill:Lt,comboActiveStroke:$,comboActiveFill:Bt,comboInactiveStroke:K,comboInactiveFill:Lt,comboSelectedStroke:$,comboSelectedFill:Bt,comboHighlightStroke:J,comboHighlightFill:Lt,comboDisableStroke:K,comboDisableFill:Bt}}(j,D,"#777")},f=function(j,D,V,H){D===void 0&&(D="#fff"),V===void 0&&(V="default"),H===void 0&&(H="rgb(150, 150, 150)");var $=[];return j.forEach(function(dt){$.push(A(dt,D,V,H))}),$}},function(i,b,t){"use strict";function n(r){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(r)}var u=t(42);i.exports=g;function g(r){this._isDirected=!u.has(r,"directed")||r.directed,this._isMultigraph=!!u.has(r,"multigraph")&&r.multigraph,this._isCompound=!!u.has(r,"compound")&&r.compound,this._label=void 0,this._defaultNodeLabelFn=u.constant(void 0),this._defaultEdgeLabelFn=u.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function x(r,s){r[s]?r[s]++:r[s]=1}function c(r,s){--r[s]||delete r[s]}function w(r,s,d,C){var S=""+s,A=""+d;if(!r&&S>A){var f=S;S=A,A=f}return S+""+A+""+(u.isUndefined(C)?"\0":C)}function I(r,s,d,C){var S=""+s,A=""+d;if(!r&&S>A){var f=S;S=A,A=f}var O={v:S,w:A};return C&&(O.name=C),O}function m(r,s){return w(r,s.v,s.w,s.name)}g.prototype._nodeCount=0,g.prototype._edgeCount=0,g.prototype.isDirected=function(){return this._isDirected},g.prototype.isMultigraph=function(){return this._isMultigraph},g.prototype.isCompound=function(){return this._isCompound},g.prototype.setGraph=function(r){return this._label=r,this},g.prototype.graph=function(){return this._label},g.prototype.setDefaultNodeLabel=function(r){return u.isFunction(r)||(r=u.constant(r)),this._defaultNodeLabelFn=r,this},g.prototype.nodeCount=function(){return this._nodeCount},g.prototype.nodes=function(){return u.keys(this._nodes)},g.prototype.sources=function(){var r=this;return u.filter(this.nodes(),function(s){return u.isEmpty(r._in[s])})},g.prototype.sinks=function(){var r=this;return u.filter(this.nodes(),function(s){return u.isEmpty(r._out[s])})},g.prototype.setNodes=function(r,s){var d=arguments,C=this;return u.each(r,function(S){d.length>1?C.setNode(S,s):C.setNode(S)}),this},g.prototype.setNode=function(r,s){return u.has(this._nodes,r)?(arguments.length>1&&(this._nodes[r]=s),this):(this._nodes[r]=arguments.length>1?s:this._defaultNodeLabelFn(r),this._isCompound&&(this._parent[r]="\0",this._children[r]={},this._children["\0"][r]=!0),this._in[r]={},this._preds[r]={},this._out[r]={},this._sucs[r]={},++this._nodeCount,this)},g.prototype.node=function(r){return this._nodes[r]},g.prototype.hasNode=function(r){return u.has(this._nodes,r)},g.prototype.removeNode=function(r){var s=this;if(u.has(this._nodes,r)){var d=function(S){s.removeEdge(s._edgeObjs[S])};delete this._nodes[r],this._isCompound&&(this._removeFromParentsChildList(r),delete this._parent[r],u.each(this.children(r),function(C){s.setParent(C)}),delete this._children[r]),u.each(u.keys(this._in[r]),d),delete this._in[r],delete this._preds[r],u.each(u.keys(this._out[r]),d),delete this._out[r],delete this._sucs[r],--this._nodeCount}return this},g.prototype.setParent=function(r,s){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(u.isUndefined(s))s="\0";else{for(var d=s+="";!u.isUndefined(d);d=this.parent(d))if(d===r)throw new Error("Setting "+s+" as parent of "+r+" would create a cycle");this.setNode(s)}return this.setNode(r),this._removeFromParentsChildList(r),this._parent[r]=s,this._children[s][r]=!0,this},g.prototype._removeFromParentsChildList=function(r){delete this._children[this._parent[r]][r]},g.prototype.parent=function(r){if(this._isCompound){var s=this._parent[r];if(s!=="\0")return s}},g.prototype.children=function(r){if(u.isUndefined(r)&&(r="\0"),this._isCompound){var s=this._children[r];if(s)return u.keys(s)}else{if(r==="\0")return this.nodes();if(this.hasNode(r))return[]}},g.prototype.predecessors=function(r){var s=this._preds[r];if(s)return u.keys(s)},g.prototype.successors=function(r){var s=this._sucs[r];if(s)return u.keys(s)},g.prototype.neighbors=function(r){var s=this.predecessors(r);if(s)return u.union(s,this.successors(r))},g.prototype.isLeaf=function(r){return(this.isDirected()?this.successors(r):this.neighbors(r)).length===0},g.prototype.filterNodes=function(r){var s=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});s.setGraph(this.graph());var d=this;u.each(this._nodes,function(S,A){r(A)&&s.setNode(A,S)}),u.each(this._edgeObjs,function(S){s.hasNode(S.v)&&s.hasNode(S.w)&&s.setEdge(S,d.edge(S))});var C={};return this._isCompound&&u.each(s.nodes(),function(S){s.setParent(S,function A(f){var O=d.parent(f);return O===void 0||s.hasNode(O)?(C[f]=O,O):O in C?C[O]:A(O)}(S))}),s},g.prototype.setDefaultEdgeLabel=function(r){return u.isFunction(r)||(r=u.constant(r)),this._defaultEdgeLabelFn=r,this},g.prototype.edgeCount=function(){return this._edgeCount},g.prototype.edges=function(){return u.values(this._edgeObjs)},g.prototype.setPath=function(r,s){var d=this,C=arguments;return u.reduce(r,function(S,A){return C.length>1?d.setEdge(S,A,s):d.setEdge(S,A),A}),this},g.prototype.setEdge=function(){var r,s,d,C,S=!1,A=arguments[0];n(A)==="object"&&A!==null&&"v"in A?(r=A.v,s=A.w,d=A.name,arguments.length===2&&(C=arguments[1],S=!0)):(r=A,s=arguments[1],d=arguments[3],arguments.length>2&&(C=arguments[2],S=!0)),r=""+r,s=""+s,u.isUndefined(d)||(d=""+d);var f=w(this._isDirected,r,s,d);if(u.has(this._edgeLabels,f))return S&&(this._edgeLabels[f]=C),this;if(!u.isUndefined(d)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(r),this.setNode(s),this._edgeLabels[f]=S?C:this._defaultEdgeLabelFn(r,s,d);var O=I(this._isDirected,r,s,d);return r=O.v,s=O.w,Object.freeze(O),this._edgeObjs[f]=O,x(this._preds[s],r),x(this._sucs[r],s),this._in[s][f]=O,this._out[r][f]=O,this._edgeCount++,this},g.prototype.edge=function(r,s,d){var C=arguments.length===1?m(this._isDirected,arguments[0]):w(this._isDirected,r,s,d);return this._edgeLabels[C]},g.prototype.hasEdge=function(r,s,d){var C=arguments.length===1?m(this._isDirected,arguments[0]):w(this._isDirected,r,s,d);return u.has(this._edgeLabels,C)},g.prototype.removeEdge=function(r,s,d){var C=arguments.length===1?m(this._isDirected,arguments[0]):w(this._isDirected,r,s,d),S=this._edgeObjs[C];return S&&(r=S.v,s=S.w,delete this._edgeLabels[C],delete this._edgeObjs[C],c(this._preds[s],r),c(this._sucs[r],s),delete this._in[s][C],delete this._out[r][C],this._edgeCount--),this},g.prototype.inEdges=function(r,s){var d=this._in[r];if(d){var C=u.values(d);return s?u.filter(C,function(S){return S.v===s}):C}},g.prototype.outEdges=function(r,s){var d=this._out[r];if(d){var C=u.values(d);return s?u.filter(C,function(S){return S.w===s}):C}},g.prototype.nodeEdges=function(r,s){var d=this.inEdges(r,s);if(d)return d.concat(this.outEdges(r,s))}},function(i,b,t){var n=t(64)(t(47),"Map");i.exports=n},function(i,b,t){var n=t(289),u=t(296),g=t(298),x=t(299),c=t(300);function w(I){var m=-1,r=I==null?0:I.length;for(this.clear();++m<r;){var s=I[m];this.set(s[0],s[1])}}w.prototype.clear=n,w.prototype.delete=u,w.prototype.get=g,w.prototype.has=x,w.prototype.set=c,i.exports=w},function(i,b){i.exports=function(t,n){for(var u=-1,g=t==null?0:t.length;++u<g&&n(t[u],u,t)!==!1;);return t}},function(i,b){i.exports=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991}},function(i,b,t){(function(n){function u(m){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(m)}var g=t(163),x=u(b)=="object"&&b&&!b.nodeType&&b,c=x&&u(n)=="object"&&n&&!n.nodeType&&n,w=c&&c.exports===x&&g.process,I=function(){try{var m=c&&c.require&&c.require("util").types;return m||w&&w.binding&&w.binding("util")}catch(r){}}();n.exports=I}).call(this,t(86)(i))},function(i,b,t){var n=t(104),u=t(306),g=Object.prototype.hasOwnProperty;i.exports=function(x){if(!n(x))return u(x);var c=[];for(var w in Object(x))g.call(x,w)&&w!="constructor"&&c.push(w);return c}},function(i,b,t){var n=t(171),u=t(172),g=Object.prototype.propertyIsEnumerable,x=Object.getOwnPropertySymbols,c=x?function(w){return w==null?[]:(w=Object(w),n(x(w),function(I){return g.call(w,I)}))}:u;i.exports=c},function(i,b){i.exports=function(t,n){for(var u=-1,g=n.length,x=t.length;++u<g;)t[x+u]=n[u];return t}},function(i,b,t){var n=t(177);i.exports=function(u){var g=new u.constructor(u.byteLength);return new n(g).set(new n(u)),g}},function(i,b){i.exports=function(t){return function(){return t}}},function(i,b,t){var n=t(136),u=t(58);i.exports=function(g,x){return g&&n(g,x,u)}},function(i,b,t){var n=t(325)();i.exports=n},function(i,b){i.exports=function(t){var n=-1,u=Array(t.size);return t.forEach(function(g){u[++n]=g}),u}},function(i,b,t){function n(w){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(w)}var u=t(26),g=t(75),x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/;i.exports=function(w,I){if(u(w))return!1;var m=n(w);return!(m!="number"&&m!="symbol"&&m!="boolean"&&w!=null&&!g(w))||c.test(w)||!x.test(w)||I!=null&&w in Object(I)}},function(i,b,t){var n=t(132),u=t(359);i.exports=function g(x,c,w,I,m){var r=-1,s=x.length;for(w||(w=u),m||(m=[]);++r<s;){var d=x[r];c>0&&w(d)?c>1?g(d,c-1,w,I,m):n(m,d):I||(m[m.length]=d)}return m}},function(i,b,t){var n=t(75);i.exports=function(u,g,x){for(var c=-1,w=u.length;++c<w;){var I=u[c],m=g(I);if(m!=null&&(r===void 0?m==m&&!n(m):x(m,r)))var r=m,s=I}return s}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BindingOnSyntax=void 0;var n=t(142),u=function(){function g(x){this._binding=x}return g.prototype.onActivation=function(x){return this._binding.onActivation=x,new n.BindingWhenSyntax(this._binding)},g}();b.BindingOnSyntax=u},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BindingWhenSyntax=void 0;var n=t(141),u=t(225),g=function(){function x(c){this._binding=c}return x.prototype.when=function(c){return this._binding.constraint=c,new n.BindingOnSyntax(this._binding)},x.prototype.whenTargetNamed=function(c){return this._binding.constraint=u.namedConstraint(c),new n.BindingOnSyntax(this._binding)},x.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(c){return c.target!==null&&!c.target.isNamed()&&!c.target.isTagged()},new n.BindingOnSyntax(this._binding)},x.prototype.whenTargetTagged=function(c,w){return this._binding.constraint=u.taggedConstraint(c)(w),new n.BindingOnSyntax(this._binding)},x.prototype.whenInjectedInto=function(c){return this._binding.constraint=function(w){return u.typeConstraint(c)(w.parentRequest)},new n.BindingOnSyntax(this._binding)},x.prototype.whenParentNamed=function(c){return this._binding.constraint=function(w){return u.namedConstraint(c)(w.parentRequest)},new n.BindingOnSyntax(this._binding)},x.prototype.whenParentTagged=function(c,w){return this._binding.constraint=function(I){return u.taggedConstraint(c)(w)(I.parentRequest)},new n.BindingOnSyntax(this._binding)},x.prototype.whenAnyAncestorIs=function(c){return this._binding.constraint=function(w){return u.traverseAncerstors(w,u.typeConstraint(c))},new n.BindingOnSyntax(this._binding)},x.prototype.whenNoAncestorIs=function(c){return this._binding.constraint=function(w){return!u.traverseAncerstors(w,u.typeConstraint(c))},new n.BindingOnSyntax(this._binding)},x.prototype.whenAnyAncestorNamed=function(c){return this._binding.constraint=function(w){return u.traverseAncerstors(w,u.namedConstraint(c))},new n.BindingOnSyntax(this._binding)},x.prototype.whenNoAncestorNamed=function(c){return this._binding.constraint=function(w){return!u.traverseAncerstors(w,u.namedConstraint(c))},new n.BindingOnSyntax(this._binding)},x.prototype.whenAnyAncestorTagged=function(c,w){return this._binding.constraint=function(I){return u.traverseAncerstors(I,u.taggedConstraint(c)(w))},new n.BindingOnSyntax(this._binding)},x.prototype.whenNoAncestorTagged=function(c,w){return this._binding.constraint=function(I){return!u.traverseAncerstors(I,u.taggedConstraint(c)(w))},new n.BindingOnSyntax(this._binding)},x.prototype.whenAnyAncestorMatches=function(c){return this._binding.constraint=function(w){return u.traverseAncerstors(w,c)},new n.BindingOnSyntax(this._binding)},x.prototype.whenNoAncestorMatches=function(c){return this._binding.constraint=function(w){return!u.traverseAncerstors(w,c)},new n.BindingOnSyntax(this._binding)},x}();b.BindingWhenSyntax=g},function(i,b){},function(i,b){},function(i,b){},function(i,b){},function(i,b){},function(i,b){},function(i,b){},function(i,b){i.exports=function(t,n,u){return t[0]=n[0]-u[0],t[1]=n[1]-u[1],t}},function(i,b,t){var n=t(57),u=t(105),g=t(48),x=Function.prototype,c=Object.prototype,w=x.toString,I=c.hasOwnProperty,m=w.call(Object);i.exports=function(r){if(!g(r)||n(r)!="[object Object]")return!1;var s=u(r);if(s===null)return!0;var d=I.call(s,"constructor")&&s.constructor;return typeof d=="function"&&d instanceof d&&w.call(d)==m}},function(i,b,t){"use strict";var n=t(1),u=t(155),g=t.n(u),x=t(0),c=t(38),w=t(91),I=c.a.radialLayout,m=c.a.traverseTree,r=function(s){function d(C){var S=s.call(this,C)||this;return S.layoutAnimating=!1,S.set("removeList",[]),S.set("layoutMethod",S.getLayout()),S}return Object(n.b)(d,s),d.prototype.getLayout=function(){var C=this.get("layout");return C?typeof C=="function"?C:(C.type||(C.type="dendrogram"),C.direction||(C.direction="TB"),C.radial?function(S){var A=g.a[C.type](S,C);return I(A),A}:function(S){return g.a[C.type](S,C)}):null},d.indexOfChild=function(C,S){var A=-1;return Object(x.f)(C,function(f,O){if(S===f.id)return A=O,!1}),A},d.prototype.getDefaultCfg=function(){var C=s.prototype.getDefaultCfg.call(this);return C.animate=!0,C},d.prototype.innerAddChild=function(C,S,A){var f=this,O=C.data;O&&(O.x=C.x,O.y=C.y,O.depth=C.depth);var j=f.addItem("node",O,!1);if(S){if(j.set("parent",S),A){var D=S.get("originAttrs");if(D)j.set("originAttrs",D);else{var V=S.getModel();j.set("originAttrs",{x:V.x,y:V.y})}}var H=S.get("children");H?H.push(j):S.set("children",[j]),f.addItem("edge",{source:S,target:j,id:S.get("id")+":"+j.get("id")},!1)}return Object(x.f)(C.children||[],function($){f.innerAddChild($,j,A)}),f.emit("afteraddchild",{item:j,parent:S}),j},d.prototype.innerUpdateChild=function(C,S,A){var f=this,O=f.findById(C.id);if(O){Object(x.f)(C.children||[],function(Z){f.innerUpdateChild(Z,O,A)});var j,D,V=O.get("children");if(V&&V.length>0)for(var H=V.length-1;H>=0;H--){var $=V[H].getModel();d.indexOfChild(C.children||[],$.id)===-1&&(f.innerRemoveChild($.id,{x:C.x,y:C.y},A),V.splice(H,1))}O.get("originAttrs")&&(j=O.get("originAttrs").x,D=O.get("originAttrs").y);var dt=O.getModel();A&&O.set("originAttrs",{x:dt.x,y:dt.y}),O.set("model",C.data),j===C.x&&D===C.y||O.updatePosition({x:C.x,y:C.y})}else f.innerAddChild(C,S,A)},d.prototype.innerRemoveChild=function(C,S,A){var f=this,O=f.findById(C);if(O)if(Object(x.f)(O.get("children"),function(D){f.innerRemoveChild(D.getModel().id,S,A)}),A){var j=O.getModel();O.set("to",S),O.set("originAttrs",{x:j.x,y:j.y}),f.get("removeList").push(O)}else f.removeItem(O)},d.prototype.changeData=function(C){var S=this;this.getNodes().map(function(A){return S.clearItemStates(A)}),this.getEdges().map(function(A){return S.clearItemStates(A)}),C?(S.data(C),S.render()):S.layout(this.get("fitView"))},d.prototype.changeLayout=function(C){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon"),this.updateLayout(C)},d.prototype.updateLayout=function(C){C?(this.set("layout",C),this.set("layoutMethod",this.getLayout()),this.layout()):console.warn("layout cannot be null")},d.prototype.refreshLayout=function(C){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon"),this.layout(C)},d.prototype.layout=function(C){var S=this.get("data"),A=this.get("layoutMethod")(S,this.get("layout")),f=this.get("animate");this.emit("beforerefreshlayout",{data:S,layoutData:A}),this.emit("beforelayout"),this.innerUpdateChild(A,void 0,f),C&&this.get("viewController").fitView(),f?this.layoutAnimate(A):(this.refresh(),this.paint()),this.emit("afterrefreshlayout",{data:S,layoutData:A}),this.emit("afterlayout")},d.prototype.addChild=function(C,S){this.emit("beforeaddchild",{model:C,parent:S}),Object(x.x)(S)||(S=S.get("id"));var A=this.findDataById(S);A&&(A.children||(A.children=[]),A.children.push(C),this.changeData())},d.prototype.updateChildren=function(C,S){S&&this.findById(S)?(this.findDataById(S).children=C,this.changeData()):console.warn("Update children failed! There is no node with id '"+S+"'")},d.prototype.updateChild=function(C,S){if(S&&this.findById(S)){var A=this.findDataById(S),f=this.findById(C.id);if(A.children||(A.children=[]),f){var O=d.indexOfChild(A.children,C.id);A.children[O]=C}else A.children.push(C);this.changeData()}else this.changeData(C)},d.prototype.removeChild=function(C){var S=this.findById(C);if(S){var A=S.get("parent");if(A&&!A.destroyed){var f=this.findDataById(A.get("id")),O=f&&f.children||[],j=S.getModel(),D=d.indexOfChild(O,j.id);O.splice(D,1)}this.changeData()}},d.prototype.findDataById=function(C,S){var A=this;if(S||(S=A.get("data")),C===S.id)return S;var f=null;return Object(x.f)(S.children||[],function(O){return O.id===C?(f=O,!1):!(f=A.findDataById(C,O))&&void 0}),f},d.prototype.layoutAnimate=function(C,S){var A=this,f=this.get("animateCfg");A.emit("beforeanimate",{data:C}),A.getEdges().forEach(function(O){var j=O.get("model");j.sourceAnchor||(j.sourceAnchor=O.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(O){m(C,function(j){var D=A.findById(j.id);if(D){var V=D.get("originAttrs"),H=D.get("model");if(V||(V={x:H.x,y:H.y},D.set("originAttrs",V)),S){var $=S(D,O,V,C);D.set("model",Object.assign(H,$))}else H.x=V.x+(j.x-V.x)*O,H.y=V.y+(j.y-V.y)*O}return!0}),Object(x.f)(A.get("removeList"),function(j){var D=j.getModel(),V=j.get("originAttrs"),H=j.get("to");D.x=V.x+(H.x-V.x)*O,D.y=V.y+(H.y-V.y)*O}),A.refreshPositions()},{duration:f.duration,easing:f.ease,callback:function(){Object(x.f)(A.getNodes(),function(j){j.set("originAttrs",null)}),Object(x.f)(A.get("removeList"),function(j){A.removeItem(j)}),A.set("removeList",[]),f.callback&&f.callback(),A.emit("afteranimate",{data:C})},delay:f.delay})},d.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},d.prototype.isLayoutAnimating=function(){return this.layoutAnimating},d.prototype.render=function(){if(!this.get("data"))throw new Error("data must be defined first");this.clear(),this.emit("beforerender"),this.layout(this.get("fitView")),this.emit("afterrender")},d.prototype.save=function(){return this.get("data")},d}(w.a);b.a=r},function(i,b,t){i.exports={graphlib:t(46),layout:t(382),debug:t(440),util:{time:t(37).time,notime:t(37).notime},version:t(441)}},function(i,b,t){"use strict";var n=Object.prototype.hasOwnProperty,u="~";function g(){}function x(m,r,s){this.fn=m,this.context=r,this.once=s||!1}function c(m,r,s,d,C){if(typeof s!="function")throw new TypeError("The listener must be a function");var S=new x(s,d||m,C),A=u?u+r:r;return m._events[A]?m._events[A].fn?m._events[A]=[m._events[A],S]:m._events[A].push(S):(m._events[A]=S,m._eventsCount++),m}function w(m,r){--m._eventsCount==0?m._events=new g:delete m._events[r]}function I(){this._events=new g,this._eventsCount=0}Object.create&&(g.prototype=Object.create(null),new g().__proto__||(u=!1)),I.prototype.eventNames=function(){var m,r,s=[];if(this._eventsCount===0)return s;for(r in m=this._events)n.call(m,r)&&s.push(u?r.slice(1):r);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(m)):s},I.prototype.listeners=function(m){var r=u?u+m:m,s=this._events[r];if(!s)return[];if(s.fn)return[s.fn];for(var d=0,C=s.length,S=new Array(C);d<C;d++)S[d]=s[d].fn;return S},I.prototype.listenerCount=function(m){var r=u?u+m:m,s=this._events[r];return s?s.fn?1:s.length:0},I.prototype.emit=function(m,r,s,d,C,S){var A=u?u+m:m;if(!this._events[A])return!1;var f,O,j=this._events[A],D=arguments.length;if(j.fn){switch(j.once&&this.removeListener(m,j.fn,void 0,!0),D){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,r),!0;case 3:return j.fn.call(j.context,r,s),!0;case 4:return j.fn.call(j.context,r,s,d),!0;case 5:return j.fn.call(j.context,r,s,d,C),!0;case 6:return j.fn.call(j.context,r,s,d,C,S),!0}for(O=1,f=new Array(D-1);O<D;O++)f[O-1]=arguments[O];j.fn.apply(j.context,f)}else{var V,H=j.length;for(O=0;O<H;O++)switch(j[O].once&&this.removeListener(m,j[O].fn,void 0,!0),D){case 1:j[O].fn.call(j[O].context);break;case 2:j[O].fn.call(j[O].context,r);break;case 3:j[O].fn.call(j[O].context,r,s);break;case 4:j[O].fn.call(j[O].context,r,s,d);break;default:if(!f)for(V=1,f=new Array(D-1);V<D;V++)f[V-1]=arguments[V];j[O].fn.apply(j[O].context,f)}}return!0},I.prototype.on=function(m,r,s){return c(this,m,r,s,!1)},I.prototype.once=function(m,r,s){return c(this,m,r,s,!0)},I.prototype.removeListener=function(m,r,s,d){var C=u?u+m:m;if(!this._events[C])return this;if(!r)return w(this,C),this;var S=this._events[C];if(S.fn)S.fn!==r||d&&!S.once||s&&S.context!==s||w(this,C);else{for(var A=0,f=[],O=S.length;A<O;A++)(S[A].fn!==r||d&&!S[A].once||s&&S[A].context!==s)&&f.push(S[A]);f.length?this._events[C]=f.length===1?f[0]:f:w(this,C)}return this},I.prototype.removeAllListeners=function(m){var r;return m?(r=u?u+m:m,this._events[r]&&w(this,r)):(this._events=new g,this._eventsCount=0),this},I.prototype.off=I.prototype.removeListener,I.prototype.addListener=I.prototype.on,I.prefixed=u,I.EventEmitter=I,i.exports=I},function(i,b,t){(function(n){var u,g,x,c;function w(I){return(w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(I)}typeof self!="undefined"&&self,c=function(){return function(m){var r={};function s(d){if(r[d])return r[d].exports;var C=r[d]={i:d,l:!1,exports:{}};return m[d].call(C.exports,C,C.exports,s),C.l=!0,C.exports}return s.m=m,s.c=r,s.d=function(d,C,S){s.o(d,C)||Object.defineProperty(d,C,{configurable:!1,enumerable:!0,get:S})},s.n=function(d){var C=d&&d.__esModule?function(){return d.default}:function(){return d};return s.d(C,"a",C),C},s.o=function(d,C){return Object.prototype.hasOwnProperty.call(d,C)},s.p="",s(s.s=31)}([function(m,r,s){"use strict";var d=s(4);r.a=function(C){return Array.isArray?Array.isArray(C):Object(d.a)(C,"Array")}},function(m,r,s){"use strict";r.a=function(d){return d!==null&&typeof d!="function"&&isFinite(d.length)}},function(m,r,s){"use strict";var d=s(0),C=s(13);r.a=function(S,A){if(S){if(Object(d.a)(S))for(var f=0,O=S.length;f<O&&A(S[f],f)!==!1;f++);else if(Object(C.a)(S)){for(var j in S)if(S.hasOwnProperty(j)&&A(S[j],j)===!1)break}}}},function(m,r,s){"use strict";var d=s(4);r.a=function(C){return Object(d.a)(C,"Function")}},function(m,r,s){"use strict";var d={}.toString;r.a=function(C,S){return d.call(C)==="[object "+S+"]"}},function(m,r,s){"use strict";var d=s(4);r.a=function(C){return Object(d.a)(C,"Number")}},function(m,r,s){"use strict";r.a=function(d){return d==null}},function(m,r,s){var d=s(33).mix;m.exports={assign:d}},function(m,r,s){"use strict";var d=s(4);r.a=function(C){return Object(d.a)(C,"String")}},function(m,r,s){"use strict";var d=s(15),C=s(4);r.a=function(S){if(!Object(d.a)(S)||!Object(C.a)(S,"Object"))return!1;if(Object.getPrototypeOf(S)===null)return!0;for(var A=S;Object.getPrototypeOf(A)!==null;)A=Object.getPrototypeOf(A);return Object.getPrototypeOf(S)===A}},function(m,r,s){"use strict";var d=s(6);r.a=function(C){return Object(d.a)(C)?"":C.toString()}},function(m,r,s){var d=s(18),C=function(){function S(A,f){f===void 0&&(f={}),this.options=f,this.rootNode=d(A,f)}return S.prototype.execute=function(){throw new Error("please override this method")},S}();m.exports=C},function(m,r,s){"use strict";var d=s(1);r.a=function(C,S){return!!Object(d.a)(C)&&C.indexOf(S)>-1}},function(m,r,s){"use strict";r.a=function(d){var C=w(d);return d!==null&&C==="object"||C==="function"}},function(m,r,s){"use strict";var d=s(2),C=s(1);r.a=function(S,A){if(!Object(C.a)(S))return S;var f=[];return Object(d.a)(S,function(O,j){A(O,j)&&f.push(O)}),f}},function(m,r,s){"use strict";r.a=function(d){return w(d)==="object"&&d!==null}},function(m,r,s){"use strict";function d(C,S){for(var A in S)S.hasOwnProperty(A)&&A!=="constructor"&&S[A]!==void 0&&(C[A]=S[A])}r.a=function(C,S,A,f){return S&&d(C,S),A&&d(C,A),f&&d(C,f),C}},function(m,r,s){var d=s(30),C=["LR","RL","TB","BT","H","V"],S=["LR","RL","H"],A=C[0];m.exports=function(f,O,j){var D=O.direction||A;if(O.isHorizontal=function(ct){return S.indexOf(ct)>-1}(D),D&&C.indexOf(D)===-1)throw new TypeError("Invalid direction: "+D);if(D===C[0])j(f,O);else if(D===C[1])j(f,O),f.right2left();else if(D===C[2])j(f,O);else if(D===C[3])j(f,O),f.bottom2top();else if(D===C[4]||D===C[5]){var V=d(f,O),H=V.left,$=V.right;j(H,O),j($,O),O.isHorizontal?H.right2left():H.bottom2top(),$.translate(H.x-$.x,H.y-$.y),f.x=H.x,f.y=$.y;var dt=f.getBoundingBox();O.isHorizontal?dt.top<0&&f.translate(0,-dt.top):dt.left<0&&f.translate(-dt.left,0)}var Z=O.fixedRoot;return Z===void 0&&(Z=!0),Z&&f.translate(-(f.x+f.width/2+f.hgap),-(f.y+f.height/2+f.vgap)),f}},function(m,r,s){var d=s(7),C={getId:function(f){return f.id||f.name},getHGap:function(f){return f.hgap||18},getVGap:function(f){return f.vgap||18},getChildren:function(f){return f.children},getHeight:function(f){return f.height||36},getWidth:function(f){var O=f.label||" ";return f.width||18*O.split("").length}};function S(A,f){var O=this;if(O.vgap=O.hgap=0,A instanceof S)return A;O.data=A;var j=f.getHGap(A),D=f.getVGap(A);return O.width=f.getWidth(A),O.height=f.getHeight(A),O.id=f.getId(A),O.x=O.y=0,O.depth=0,O.children||(O.children=[]),O.addGap(j,D),O}d.assign(S.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(f,O){this.hgap+=f,this.vgap+=O,this.width+=2*f,this.height+=2*O},eachNode:function(f){for(var O,j=[this];O=j.shift();)f(O),j=O.children.concat(j)},DFTraverse:function(f){this.eachNode(f)},BFTraverse:function(f){for(var O,j=[this];O=j.shift();)f(O),j=j.concat(O.children)},getBoundingBox:function(){var f={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(O){f.left=Math.min(f.left,O.x),f.top=Math.min(f.top,O.y),f.width=Math.max(f.width,O.x+O.width),f.height=Math.max(f.height,O.y+O.height)}),f},translate:function(f,O){f===void 0&&(f=0),O===void 0&&(O=0),this.eachNode(function(j){j.x+=f,j.y+=O})},right2left:function(){var f=this.getBoundingBox();this.eachNode(function(O){O.x=O.x-2*(O.x-f.left)-O.width}),this.translate(f.width,0)},bottom2top:function(){var f=this.getBoundingBox();this.eachNode(function(O){O.y=O.y-2*(O.y-f.top)-O.height}),this.translate(0,f.height)}}),m.exports=function(A,f,O){f===void 0&&(f={});var j,D=new S(A,f=d.assign({},C,f)),V=[D];if(!O&&!A.collapsed){for(;j=V.shift();)if(!j.data.collapsed){var H=f.getChildren(j.data),$=H?H.length:0;if(j.children=new Array($),H&&$)for(var dt=0;dt<$;dt++){var Z=new S(H[dt],f);j.children[dt]=Z,V.push(Z),Z.parent=j,Z.depth=j.depth+1}}}return D}},function(m,r,s){"use strict";var d=s(6),C=s(20);r.a=function(S,A){var f=Object(C.a)(A),O=f.length;if(Object(d.a)(S))return!O;for(var j=0;j<O;j+=1){var D=f[j];if(A[D]!==S[D]||!(D in S))return!1}return!0}},function(m,r,s){"use strict";var d=s(2),C=s(3),S=Object.keys?function(A){return Object.keys(A)}:function(A){var f=[];return Object(d.a)(A,function(O,j){Object(C.a)(A)&&j==="prototype"||f.push(j)}),f};r.a=S},function(m,r,s){"use strict";var d=s(1),C=Array.prototype.splice;r.a=function(S,A){if(!Object(d.a)(S))return[];for(var f=S?A.length:0,O=f-1;f--;){var j=void 0,D=A[f];f!==O&&D===j||(j=D,C.call(S,D,1))}return S}},function(m,r,s){"use strict";var d=s(12),C=s(2);r.a=function(S){var A=[];return Object(C.a)(S,function(f){Object(d.a)(A,f)||A.push(f)}),A}},function(m,r,s){"use strict";var d=s(0),C=s(3),S=s(24);r.a=function(A,f){if(!f)return{0:A};if(!Object(C.a)(f)){var O=Object(d.a)(f)?f:f.replace(/\s+/g,"").split("*");f=function(D){for(var V="_",H=0,$=O.length;H<$;H++)V+=D[O[H]]&&D[O[H]].toString();return V}}return Object(S.a)(A,f)}},function(m,r,s){"use strict";var d=s(2),C=s(0),S=s(3),A=Object.prototype.hasOwnProperty;r.a=function(f,O){if(!O||!Object(C.a)(f))return{};var j,D={},V=Object(S.a)(O)?O:function(H){return H[O]};return Object(d.a)(f,function(H){j=V(H),A.call(D,j)?D[j].push(H):D[j]=[H]}),D}},function(m,r,s){"use strict";r.a=function(d,C){return d.hasOwnProperty(C)}},function(m,r,s){"use strict";var d=s(2),C=s(3),S=Object.values?function(A){return Object.values(A)}:function(A){var f=[];return Object(d.a)(A,function(O,j){Object(C.a)(A)&&j==="prototype"||f.push(O)}),f};r.a=S},function(m,r,s){"use strict";var d={}.toString;r.a=function(C){return d.call(C).replace(/^\[object /,"").replace(/]$/,"")}},function(m,r,s){"use strict";var d=Object.prototype;r.a=function(C){var S=C&&C.constructor;return C===(typeof S=="function"&&S.prototype||d)}},function(m,r,s){"use strict";var d=s(15),C=s(1),S=s(8);r.a=function A(f,O){if(f===O)return!0;if(!f||!O||Object(S.a)(f)||Object(S.a)(O))return!1;if(Object(C.a)(f)||Object(C.a)(O)){if(f.length!==O.length)return!1;for(var j=!0,D=0;D<f.length&&(j=A(f[D],O[D]));D++);return j}if(Object(d.a)(f)||Object(d.a)(O)){var V=Object.keys(f),H=Object.keys(O);if(V.length!==H.length)return!1;for(j=!0,D=0;D<V.length&&(j=A(f[V[D]],O[V[D]]));D++);return j}return!1}},function(m,r,s){var d=s(18);m.exports=function(C,S){for(var A=d(C.data,S,!0),f=d(C.data,S,!0),O=C.children.length,j=Math.round(O/2),D=S.getSide||function($,dt){return dt<j?"right":"left"},V=0;V<O;V++){var H=C.children[V];D(H,V)==="right"?f.children.push(H):A.children.push(H)}return A.eachNode(function($){$.isRoot()||($.side="left")}),f.eachNode(function($){$.isRoot()||($.side="right")}),{left:A,right:f}}},function(m,r,s){var d={compactBox:s(32),dendrogram:s(114),indented:s(116),mindmap:s(118)};m.exports=d},function(m,r,s){var d=s(11),C=s(113),S=s(17),A=s(7),f=function(j){var D,V;function H(){return j.apply(this,arguments)||this}return V=j,(D=H).prototype=Object.create(V.prototype),D.prototype.constructor=D,D.__proto__=V,H.prototype.execute=function(){return S(this.rootNode,this.options,C)},H}(d),O={};m.exports=function(j,D){return D=A.assign({},O,D),new f(j,D).execute()}},function(m,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var d=s(12);s.d(r,"contains",function(){return d.a}),s.d(r,"includes",function(){return d.a});var C=s(34);s.d(r,"difference",function(){return C.a});var S=s(35);s.d(r,"find",function(){return S.a});var A=s(36);s.d(r,"findIndex",function(){return A.a});var f=s(37);s.d(r,"firstValue",function(){return f.a});var O=s(38);s.d(r,"flatten",function(){return O.a});var j=s(39);s.d(r,"flattenDeep",function(){return j.a});var D=s(40);s.d(r,"getRange",function(){return D.a});var V=s(41);s.d(r,"pull",function(){return V.a});var H=s(21);s.d(r,"pullAt",function(){return H.a});var $=s(42);s.d(r,"reduce",function(){return $.a});var dt=s(43);s.d(r,"remove",function(){return dt.a});var Z=s(44);s.d(r,"sortBy",function(){return Z.a});var ct=s(45);s.d(r,"union",function(){return ct.a});var pt=s(22);s.d(r,"uniq",function(){return pt.a});var gt=s(46);s.d(r,"valuesOfKey",function(){return gt.a});var at=s(47);s.d(r,"head",function(){return at.a});var Bt=s(48);s.d(r,"last",function(){return Bt.a});var Lt=s(49);s.d(r,"startsWith",function(){return Lt.a});var Et=s(50);s.d(r,"endsWith",function(){return Et.a});var K=s(14);s.d(r,"filter",function(){return K.a});var ft=s(51);s.d(r,"every",function(){return ft.a});var mt=s(52);s.d(r,"some",function(){return mt.a});var yt=s(53);s.d(r,"group",function(){return yt.a});var wt=s(24);s.d(r,"groupBy",function(){return wt.a});var J=s(23);s.d(r,"groupToMap",function(){return J.a});var lt=s(54);s.d(r,"getWrapBehavior",function(){return lt.a});var it=s(55);s.d(r,"wrapBehavior",function(){return it.a});var _=s(56);s.d(r,"number2color",function(){return _.a});var P=s(57);s.d(r,"parseRadius",function(){return P.a});var Q=s(58);s.d(r,"clamp",function(){return Q.a});var k=s(59);s.d(r,"fixedBase",function(){return k.a});var p=s(60);s.d(r,"isDecimal",function(){return p.a});var y=s(61);s.d(r,"isEven",function(){return y.a});var B=s(62);s.d(r,"isInteger",function(){return B.a});var W=s(63);s.d(r,"isNegative",function(){return W.a});var rt=s(64);s.d(r,"isNumberEqual",function(){return rt.a});var st=s(65);s.d(r,"isOdd",function(){return st.a});var ut=s(66);s.d(r,"isPositive",function(){return ut.a});var Mt=s(67);s.d(r,"maxBy",function(){return Mt.a});var bt=s(68);s.d(r,"minBy",function(){return bt.a});var xt=s(69);s.d(r,"mod",function(){return xt.a});var Ot=s(70);s.d(r,"toDegree",function(){return Ot.a});var jt=s(71);s.d(r,"toInteger",function(){return jt.a});var Dt=s(72);s.d(r,"toRadian",function(){return Dt.a});var zt=s(73);s.d(r,"forIn",function(){return zt.a});var Tt=s(25);s.d(r,"has",function(){return Tt.a});var Vt=s(74);s.d(r,"hasKey",function(){return Vt.a});var Ht=s(75);s.d(r,"hasValue",function(){return Ht.a});var re=s(20);s.d(r,"keys",function(){return re.a});var pe=s(19);s.d(r,"isMatch",function(){return pe.a});var me=s(26);s.d(r,"values",function(){return me.a});var Ee=s(76);s.d(r,"lowerCase",function(){return Ee.a});var Le=s(77);s.d(r,"lowerFirst",function(){return Le.a});var Je=s(78);s.d(r,"substitute",function(){return Je.a});var On=s(79);s.d(r,"upperCase",function(){return On.a});var gn=s(80);s.d(r,"upperFirst",function(){return gn.a});var Vn=s(27);s.d(r,"getType",function(){return Vn.a});var kn=s(81);s.d(r,"isArguments",function(){return kn.a});var Wn=s(0);s.d(r,"isArray",function(){return Wn.a});var Dn=s(1);s.d(r,"isArrayLike",function(){return Dn.a});var Nn=s(82);s.d(r,"isBoolean",function(){return Nn.a});var Qn=s(83);s.d(r,"isDate",function(){return Qn.a});var ir=s(84);s.d(r,"isError",function(){return ir.a});var hr=s(3);s.d(r,"isFunction",function(){return hr.a});var Er=s(85);s.d(r,"isFinite",function(){return Er.a});var mr=s(6);s.d(r,"isNil",function(){return mr.a});var dr=s(86);s.d(r,"isNull",function(){return dr.a});var Br=s(5);s.d(r,"isNumber",function(){return Br.a});var ii=s(13);s.d(r,"isObject",function(){return ii.a});var mi=s(15);s.d(r,"isObjectLike",function(){return mi.a});var Pi=s(9);s.d(r,"isPlainObject",function(){return Pi.a});var sa=s(28);s.d(r,"isPrototype",function(){return sa.a});var Pa=s(87);s.d(r,"isRegExp",function(){return Pa.a});var Mi=s(8);s.d(r,"isString",function(){return Mi.a});var Ki=s(4);s.d(r,"isType",function(){return Ki.a});var fa=s(88);s.d(r,"isUndefined",function(){return fa.a});var oa=s(89);s.d(r,"isElement",function(){return oa.a});var pa=s(90);s.d(r,"requestAnimationFrame",function(){return pa.a});var La=s(91);s.d(r,"clearAnimationFrame",function(){return La.a});var Yr=s(92);s.d(r,"augment",function(){return Yr.a});var Ea=s(93);s.d(r,"clone",function(){return Ea.a});var Pr=s(94);s.d(r,"debounce",function(){return Pr.a});var si=s(95);s.d(r,"memoize",function(){return si.a});var ti=s(96);s.d(r,"deepMix",function(){return ti.a});var $r=s(2);s.d(r,"each",function(){return $r.a});var ui=s(97);s.d(r,"extend",function(){return ui.a});var li=s(98);s.d(r,"indexOf",function(){return li.a});var xi=s(99);s.d(r,"isEmpty",function(){return xi.a});var Ci=s(29);s.d(r,"isEqual",function(){return Ci.a});var di=s(100);s.d(r,"isEqualWith",function(){return di.a});var Ti=s(101);s.d(r,"map",function(){return Ti.a});var pi=s(102);s.d(r,"mapValues",function(){return pi.a});var Ni=s(16);s.d(r,"mix",function(){return Ni.a}),s.d(r,"assign",function(){return Ni.a});var Bi=s(103);s.d(r,"get",function(){return Bi.a});var Fi=s(104);s.d(r,"set",function(){return Fi.a});var ma=s(105);s.d(r,"pick",function(){return ma.a});var ua=s(106);s.d(r,"throttle",function(){return ua.a});var Ra=s(107);s.d(r,"toArray",function(){return Ra.a});var xa=s(10);s.d(r,"toString",function(){return xa.a});var Ma=s(108);s.d(r,"uniqueId",function(){return Ma.a});var Qi=s(109);s.d(r,"noop",function(){return Qi.a});var ka=s(110);s.d(r,"identity",function(){return ka.a});var vo=s(111);s.d(r,"size",function(){return vo.a});var za=s(112);s.d(r,"Cache",function(){return za.a})},function(m,r,s){"use strict";var d=s(14),C=s(12);r.a=function(S,A){return A===void 0&&(A=[]),Object(d.a)(S,function(f){return!Object(C.a)(A,f)})}},function(m,r,s){"use strict";var d=s(3),C=s(19),S=s(0),A=s(9);r.a=function(f,O){if(!Object(S.a)(f))return null;var j;if(Object(d.a)(O)&&(j=O),Object(A.a)(O)&&(j=function(H){return Object(C.a)(H,O)}),j){for(var D=0;D<f.length;D+=1)if(j(f[D]))return f[D]}return null}},function(m,r,s){"use strict";r.a=function(d,C,S){S===void 0&&(S=0);for(var A=S;A<d.length;A++)if(C(d[A],A))return A;return-1}},function(m,r,s){"use strict";var d=s(6),C=s(0);r.a=function(S,A){for(var f=null,O=0;O<S.length;O++){var j=S[O][A];if(!Object(d.a)(j)){f=Object(C.a)(j)?j[0]:j;break}}return f}},function(m,r,s){"use strict";var d=s(0);r.a=function(C){if(!Object(d.a)(C))return[];for(var S=[],A=0;A<C.length;A++)S=S.concat(C[A]);return S}},function(m,r,s){"use strict";var d=s(0);r.a=function C(S,A){if(A===void 0&&(A=[]),Object(d.a)(S))for(var f=0;f<S.length;f+=1)C(S[f],A);else A.push(S);return A}},function(m,r,s){"use strict";var d=s(0),C=s(14);r.a=function(S){if(!(S=Object(C.a)(S,function(j){return!isNaN(j)})).length)return{min:0,max:0};if(Object(d.a)(S[0])){for(var A=[],f=0;f<S.length;f++)A=A.concat(S[f]);S=A}var O=Math.max.apply(null,S);return{min:Math.min.apply(null,S),max:O}}},function(m,r,s){"use strict";var d=Array.prototype,C=d.splice,S=d.indexOf;r.a=function(A){for(var f=[],O=1;O<arguments.length;O++)f[O-1]=arguments[O];for(var j=0;j<f.length;j++)for(var D=f[j],V=-1;(V=S.call(A,D))>-1;)C.call(A,V,1);return A}},function(m,r,s){"use strict";var d=s(2),C=s(0),S=s(9);r.a=function(A,f,O){if(!Object(C.a)(A)&&!Object(S.a)(A))return A;var j=O;return Object(d.a)(A,function(D,V){j=f(j,D,V)}),j}},function(m,r,s){"use strict";var d=s(1),C=s(21);r.a=function(S,A){var f=[];if(!Object(d.a)(S))return f;for(var O=-1,j=[],D=S.length;++O<D;){var V=S[O];A(V,O,S)&&(f.push(V),j.push(O))}return Object(C.a)(S,j),f}},function(m,r,s){"use strict";var d=s(0),C=s(8),S=s(3);r.a=function(A,f){var O;if(Object(S.a)(f))O=function(V,H){return f(V)-f(H)};else{var j=[];Object(C.a)(f)?j.push(f):Object(d.a)(f)&&(j=f),O=function(V,H){for(var $=0;$<j.length;$+=1){var dt=j[$];if(V[dt]>H[dt])return 1;if(V[dt]<H[dt])return-1}return 0}}return A.sort(O),A}},function(m,r,s){"use strict";var d=s(22);r.a=function(){for(var C=[],S=0;S<arguments.length;S++)C[S]=arguments[S];return Object(d.a)([].concat.apply([],C))}},function(m,r,s){"use strict";var d=s(2),C=s(0),S=s(6);r.a=function(A,f){var O=[],j={};return A.forEach(function(D){var V=D[f];Object(S.a)(V)||(Object(C.a)(V)||(V=[V]),Object(d.a)(V,function(H){j[H]||(O.push(H),j[H]=!0)}))}),O}},function(m,r,s){"use strict";r.a=function(C){if(Object(d.a)(C))return C[0]};var d=s(1)},function(m,r,s){"use strict";r.a=function(C){if(Object(d.a)(C))return C[C.length-1]};var d=s(1)},function(m,r,s){"use strict";var d=s(0),C=s(8);r.a=function(S,A){return!(!Object(d.a)(S)&&!Object(C.a)(S))&&S[0]===A}},function(m,r,s){"use strict";var d=s(0),C=s(8);r.a=function(S,A){return!(!Object(d.a)(S)&&!Object(C.a)(S))&&S[S.length-1]===A}},function(m,r,s){"use strict";r.a=function(d,C){for(var S=0;S<d.length;S++)if(!C(d[S],S))return!1;return!0}},function(m,r,s){"use strict";r.a=function(d,C){for(var S=0;S<d.length;S++)if(C(d[S],S))return!0;return!1}},function(m,r,s){"use strict";var d=s(23);r.a=function(C,S){if(!S)return[C];var A=Object(d.a)(C,S),f=[];for(var O in A)f.push(A[O]);return f}},function(m,r,s){"use strict";r.a=function(d,C){return d["_wrap_"+C]}},function(m,r,s){"use strict";r.a=function(d,C){if(d["_wrap_"+C])return d["_wrap_"+C];var S=function(f){d[C](f)};return d["_wrap_"+C]=S,S}},function(m,r,s){"use strict";var d={};r.a=function(C){var S=d[C];if(!S){for(var A=C.toString(16),f=A.length;f<6;f++)A="0"+A;S="#"+A,d[C]=S}return S}},function(m,r,s){"use strict";var d=s(0);r.a=function(C){var S=0,A=0,f=0,O=0;return Object(d.a)(C)?C.length===1?S=A=f=O=C[0]:C.length===2?(S=f=C[0],A=O=C[1]):C.length===3?(S=C[0],A=O=C[1],f=C[2]):(S=C[0],A=C[1],f=C[2],O=C[3]):S=A=f=O=C,{r1:S,r2:A,r3:f,r4:O}}},function(m,r,s){"use strict";r.a=function(d,C,S){return d<C?C:d>S?S:d}},function(m,r,s){"use strict";r.a=function(d,C){var S=C.toString(),A=S.indexOf(".");if(A===-1)return Math.round(d);var f=S.substr(A+1).length;return f>20&&(f=20),parseFloat(d.toFixed(f))}},function(m,r,s){"use strict";var d=s(5);r.a=function(C){return Object(d.a)(C)&&C%1!=0}},function(m,r,s){"use strict";var d=s(5);r.a=function(C){return Object(d.a)(C)&&C%2==0}},function(m,r,s){"use strict";var d=s(5),C=Number.isInteger?Number.isInteger:function(S){return Object(d.a)(S)&&S%1==0};r.a=C},function(m,r,s){"use strict";var d=s(5);r.a=function(C){return Object(d.a)(C)&&C<0}},function(m,r,s){"use strict";r.a=function(d,C,S){return S===void 0&&(S=1e-5),Math.abs(d-C)<S}},function(m,r,s){"use strict";var d=s(5);r.a=function(C){return Object(d.a)(C)&&C%2!=0}},function(m,r,s){"use strict";var d=s(5);r.a=function(C){return Object(d.a)(C)&&C>0}},function(m,r,s){"use strict";var d=s(2),C=s(0),S=s(3);r.a=function(A,f){if(Object(C.a)(A)){var O,j,D=A[0];return O=Object(S.a)(f)?f(A[0]):A[0][f],Object(d.a)(A,function(V){(j=Object(S.a)(f)?f(V):V[f])>O&&(D=V,O=j)}),D}}},function(m,r,s){"use strict";var d=s(2),C=s(0),S=s(3);r.a=function(A,f){if(Object(C.a)(A)){var O,j,D=A[0];return O=Object(S.a)(f)?f(A[0]):A[0][f],Object(d.a)(A,function(V){(j=Object(S.a)(f)?f(V):V[f])<O&&(D=V,O=j)}),D}}},function(m,r,s){"use strict";r.a=function(d,C){return(d%C+C)%C}},function(m,r,s){"use strict";var d=180/Math.PI;r.a=function(C){return d*C}},function(m,r,s){"use strict";r.a=parseInt},function(m,r,s){"use strict";var d=Math.PI/180;r.a=function(C){return d*C}},function(m,r,s){"use strict";var d=s(2);r.a=d.a},function(m,r,s){"use strict";var d=s(25);r.a=d.a},function(m,r,s){"use strict";var d=s(12),C=s(26);r.a=function(S,A){return Object(d.a)(Object(C.a)(S),A)}},function(m,r,s){"use strict";var d=s(10);r.a=function(C){return Object(d.a)(C).toLowerCase()}},function(m,r,s){"use strict";var d=s(10);r.a=function(C){var S=Object(d.a)(C);return S.charAt(0).toLowerCase()+S.substring(1)}},function(m,r,s){"use strict";r.a=function(d,C){return d&&C?d.replace(/\\?\{([^{}]+)\}/g,function(S,A){return S.charAt(0)==="\\"?S.slice(1):C[A]===void 0?"":C[A]}):d}},function(m,r,s){"use strict";var d=s(10);r.a=function(C){return Object(d.a)(C).toUpperCase()}},function(m,r,s){"use strict";var d=s(10);r.a=function(C){var S=Object(d.a)(C);return S.charAt(0).toUpperCase()+S.substring(1)}},function(m,r,s){"use strict";var d=s(4);r.a=function(C){return Object(d.a)(C,"Arguments")}},function(m,r,s){"use strict";var d=s(4);r.a=function(C){return Object(d.a)(C,"Boolean")}},function(m,r,s){"use strict";var d=s(4);r.a=function(C){return Object(d.a)(C,"Date")}},function(m,r,s){"use strict";var d=s(4);r.a=function(C){return Object(d.a)(C,"Error")}},function(m,r,s){"use strict";var d=s(5);r.a=function(C){return Object(d.a)(C)&&isFinite(C)}},function(m,r,s){"use strict";r.a=function(d){return d===null}},function(m,r,s){"use strict";var d=s(4);r.a=function(C){return Object(d.a)(C,"RegExp")}},function(m,r,s){"use strict";r.a=function(d){return d===void 0}},function(m,r,s){"use strict";r.a=function(d){return d instanceof Element||d instanceof HTMLDocument}},function(m,r,s){"use strict";r.a=function(d){return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(C){return setTimeout(C,16)})(d)}},function(m,r,s){"use strict";r.a=function(d){(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout)(d)}},function(m,r,s){"use strict";var d=s(16),C=s(3);r.a=function(){for(var S=[],A=0;A<arguments.length;A++)S[A]=arguments[A];for(var f=S[0],O=1;O<S.length;O++){var j=S[O];Object(C.a)(j)&&(j=j.prototype),Object(d.a)(f.prototype,j)}}},function(m,r,s){"use strict";var d=s(0);r.a=function C(S){if(w(S)!=="object"||S===null)return S;var A;if(Object(d.a)(S)){A=[];for(var f=0,O=S.length;f<O;f++)w(S[f])==="object"&&S[f]!=null?A[f]=C(S[f]):A[f]=S[f]}else for(var j in A={},S)w(S[j])==="object"&&S[j]!=null?A[j]=C(S[j]):A[j]=S[j];return A}},function(m,r,s){"use strict";r.a=function(d,C,S){var A;return function(){var f=this,O=arguments,j=function(){A=null,S||d.apply(f,O)},D=S&&!A;clearTimeout(A),A=setTimeout(j,C),D&&d.apply(f,O)}}},function(m,r,s){"use strict";var d=s(3);r.a=function(C,S){if(!Object(d.a)(C))throw new TypeError("Expected a function");var A=function f(){for(var O=[],j=0;j<arguments.length;j++)O[j]=arguments[j];var D=S?S.apply(this,O):O[0],V=f.cache;if(V.has(D))return V.get(D);var H=C.apply(this,O);return V.set(D,H),H};return A.cache=new Map,A}},function(m,r,s){"use strict";var d=s(0),C=s(9);function S(A,f,O,j){for(var D in O=O||0,j=j||5,f)if(f.hasOwnProperty(D)){var V=f[D];V!==null&&Object(C.a)(V)?(Object(C.a)(A[D])||(A[D]={}),O<j?S(A[D],V,O+1,j):A[D]=f[D]):Object(d.a)(V)?(A[D]=[],A[D]=A[D].concat(V)):V!==void 0&&(A[D]=V)}}r.a=function(A){for(var f=[],O=1;O<arguments.length;O++)f[O-1]=arguments[O];for(var j=0;j<f.length;j+=1)S(A,f[j]);return A}},function(m,r,s){"use strict";var d=s(16),C=s(3);r.a=function(S,A,f,O){Object(C.a)(A)||(f=A,A=S,S=function(){});var j=Object.create?function(V,H){return Object.create(V,{constructor:{value:H}})}:function(V,H){function $(){}$.prototype=V;var dt=new $;return dt.constructor=H,dt},D=j(A.prototype,S);return S.prototype=Object(d.a)(D,S.prototype),S.superclass=j(A.prototype,A),Object(d.a)(D,f),Object(d.a)(S,O),S}},function(m,r,s){"use strict";var d=s(1);r.a=function(C,S){if(!Object(d.a)(C))return-1;var A=Array.prototype.indexOf;if(A)return A.call(C,S);for(var f=-1,O=0;O<C.length;O++)if(C[O]===S){f=O;break}return f}},function(m,r,s){"use strict";var d=s(6),C=s(1),S=s(27),A=s(28),f=Object.prototype.hasOwnProperty;r.a=function(O){if(Object(d.a)(O))return!0;if(Object(C.a)(O))return!O.length;var j=Object(S.a)(O);if(j==="Map"||j==="Set")return!O.size;if(Object(A.a)(O))return!Object.keys(O).length;for(var D in O)if(f.call(O,D))return!1;return!0}},function(m,r,s){"use strict";var d=s(3),C=s(29);r.a=function(S,A,f){return Object(d.a)(f)?!!f(S,A):Object(C.a)(S,A)}},function(m,r,s){"use strict";var d=s(2),C=s(1);r.a=function(S,A){if(!Object(C.a)(S))return S;var f=[];return Object(d.a)(S,function(O,j){f.push(A(O,j))}),f}},function(m,r,s){"use strict";var d=s(6),C=s(13),S=function(f){return f};r.a=function(A,f){f===void 0&&(f=S);var O={};return Object(C.a)(A)&&!Object(d.a)(A)&&Object.keys(A).forEach(function(j){O[j]=f(A[j],j)}),O}},function(m,r,s){"use strict";var d=s(8);r.a=function(C,S,A){for(var f=0,O=Object(d.a)(S)?S.split("."):S;C&&f<O.length;)C=C[O[f++]];return C===void 0||f<O.length?A:C}},function(m,r,s){"use strict";var d=s(13),C=s(8),S=s(5);r.a=function(A,f,O){var j=A,D=Object(C.a)(f)?f.split("."):f;return D.forEach(function(V,H){H<D.length-1?(Object(d.a)(j[V])||(j[V]=Object(S.a)(D[H+1])?[]:{}),j=j[V]):j[V]=O}),A}},function(m,r,s){"use strict";var d=s(2),C=s(9),S=Object.prototype.hasOwnProperty;r.a=function(A,f){if(A===null||!Object(C.a)(A))return{};var O={};return Object(d.a)(f,function(j){S.call(A,j)&&(O[j]=A[j])}),O}},function(m,r,s){"use strict";r.a=function(d,C,S){var A,f,O,j,D=0;S||(S={});var V=function(){D=S.leading===!1?0:Date.now(),A=null,j=d.apply(f,O),A||(f=O=null)},H=function(){var dt=Date.now();D||S.leading!==!1||(D=dt);var Z=C-(dt-D);return f=this,O=arguments,Z<=0||Z>C?(A&&(clearTimeout(A),A=null),D=dt,j=d.apply(f,O),A||(f=O=null)):A||S.trailing===!1||(A=setTimeout(V,Z)),j};return H.cancel=function(){clearTimeout(A),D=0,A=f=O=null},H}},function(m,r,s){"use strict";var d=s(1);r.a=function(C){return Object(d.a)(C)?Array.prototype.slice.call(C):[]}},function(m,r,s){"use strict";var d={};r.a=function(C){return d[C=C||"g"]?d[C]+=1:d[C]=1,C+d[C]}},function(m,r,s){"use strict";r.a=function(){}},function(m,r,s){"use strict";r.a=function(d){return d}},function(m,r,s){"use strict";r.a=function(S){return Object(d.a)(S)?0:Object(C.a)(S)?S.length:Object.keys(S).length};var d=s(6),C=s(1)},function(m,r,s){"use strict";var d=function(){function C(){this.map={}}return C.prototype.has=function(S){return this.map[S]!==void 0},C.prototype.get=function(S,A){var f=this.map[S];return f===void 0?A:f},C.prototype.set=function(S,A){this.map[S]=A},C.prototype.clear=function(){this.map={}},C.prototype.delete=function(S){delete this.map[S]},C.prototype.size=function(){return Object.keys(this.map).length},C}();r.a=d},function(m,r){function s(C,S,A,f){f===void 0&&(f=[]);var O=this;O.w=C||0,O.h=S||0,O.y=A||0,O.x=0,O.c=f||[],O.cs=f.length,O.prelim=0,O.mod=0,O.shift=0,O.change=0,O.tl=null,O.tr=null,O.el=null,O.er=null,O.msel=0,O.mser=0}function d(C,S){var A=function f(O,j){var D=j?O.y:O.x;return O.children.forEach(function(V){D=Math.min(f(V,j),D)}),D}(C,S);(function f(O,j,D){D?O.y+=j:O.x+=j,O.children.forEach(function(V){f(V,j,D)})})(C,-A,S)}s.fromNode=function(C,S){if(!C)return null;var A=[];return C.children.forEach(function(f){A.push(s.fromNode(f,S))}),S?new s(C.height,C.width,C.x,A):new s(C.width,C.height,C.y,A)},m.exports=function(C,S){S===void 0&&(S={});var A=S.isHorizontal;function f(Z){Z.cs===0?(Z.el=Z,Z.er=Z,Z.msel=Z.mser=0):(Z.el=Z.c[0].el,Z.msel=Z.c[0].msel,Z.er=Z.c[Z.cs-1].er,Z.mser=Z.c[Z.cs-1].mser)}function O(Z,ct,pt){for(var gt=Z.c[ct-1],at=gt.mod,Bt=Z.c[ct],Lt=Bt.mod;gt!==null&&Bt!==null;){H(gt)>pt.low&&(pt=pt.nxt);var Et=at+gt.prelim+gt.w-(Lt+Bt.prelim);Et>0&&(Lt+=Et,j(Z,ct,pt.index,Et));var K=H(gt),ft=H(Bt);K<=ft&&(gt=V(gt))!==null&&(at+=gt.mod),K>=ft&&(Bt=D(Bt))!==null&&(Lt+=Bt.mod)}!gt&&Bt?function(mt,yt,wt,J){var lt=mt.c[0].el;lt.tl=wt;var it=J-wt.mod-mt.c[0].msel;lt.mod+=it,lt.prelim-=it,mt.c[0].el=mt.c[yt].el,mt.c[0].msel=mt.c[yt].msel}(Z,ct,Bt,Lt):gt&&!Bt&&function(mt,yt,wt,J){var lt=mt.c[yt].er;lt.tr=wt;var it=J-wt.mod-mt.c[yt].mser;lt.mod+=it,lt.prelim-=it,mt.c[yt].er=mt.c[yt-1].er,mt.c[yt].mser=mt.c[yt-1].mser}(Z,ct,gt,at)}function j(Z,ct,pt,gt){Z.c[ct].mod+=gt,Z.c[ct].msel+=gt,Z.c[ct].mser+=gt,function(at,Bt,Lt,Et){if(Lt!==Bt-1){var K=Bt-Lt;at.c[Lt+1].shift+=Et/K,at.c[Bt].shift-=Et/K,at.c[Bt].change-=Et-Et/K}}(Z,ct,pt,gt)}function D(Z){return Z.cs===0?Z.tl:Z.c[0]}function V(Z){return Z.cs===0?Z.tr:Z.c[Z.cs-1]}function H(Z){return Z.y+Z.h}function $(Z,ct,pt){for(;pt!==null&&Z>=pt.low;)pt=pt.nxt;return{low:Z,index:ct,nxt:pt}}(function Z(ct,pt,gt){gt===void 0&&(gt=0),pt?(ct.x=gt,gt+=ct.width):(ct.y=gt,gt+=ct.height),ct.children.forEach(function(at){Z(at,pt,gt)})})(C,A);var dt=s.fromNode(C,A);return function Z(ct){if(ct.cs!==0){Z(ct.c[0]);for(var pt=$(H(ct.c[0].el),0,null),gt=1;gt<ct.cs;++gt){Z(ct.c[gt]);var at=H(ct.c[gt].er);O(ct,gt,pt),pt=$(at,gt,pt)}(function(Bt){Bt.prelim=(Bt.c[0].prelim+Bt.c[0].mod+Bt.c[Bt.cs-1].mod+Bt.c[Bt.cs-1].prelim+Bt.c[Bt.cs-1].w)/2-Bt.w/2})(ct),f(ct)}else f(ct)}(dt),function Z(ct,pt){pt+=ct.mod,ct.x=ct.prelim+pt,function(at){for(var Bt=0,Lt=0,Et=0;Et<at.cs;Et++)Bt+=at.c[Et].shift,Lt+=Bt+at.c[Et].change,at.c[Et].mod+=Lt}(ct);for(var gt=0;gt<ct.cs;gt++)Z(ct.c[gt],pt)}(dt,0),function Z(ct,pt,gt){gt?pt.y=ct.x:pt.x=ct.x,ct.c.forEach(function(at,Bt){Z(at,pt.children[Bt],gt)})}(dt,C,A),d(C,A),C}},function(m,r,s){var d=s(11),C=s(115),S=s(17),A=s(7),f=function(j){var D,V;function H(){return j.apply(this,arguments)||this}return V=j,(D=H).prototype=Object.create(V.prototype),D.prototype.constructor=D,D.__proto__=V,H.prototype.execute=function(){return this.rootNode.width=0,S(this.rootNode,this.options,C)},H}(d),O={};m.exports=function(j,D){return D=A.assign({},O,D),new f(j,D).execute()}},function(m,r,s){var d=s(7);function C(A,f){A===void 0&&(A=0),f===void 0&&(f=[]);var O=this;O.x=O.y=0,O.leftChild=O.rightChild=null,O.height=0,O.children=f}var S={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};m.exports=function(A,f){f===void 0&&(f={}),f=d.assign({},S,f);var O,j=0,D=function V(H){if(!H)return null;H.width=0,H.depth&&H.depth>j&&(j=H.depth);var $=H.children,dt=$.length,Z=new C(H.height,[]);return $.forEach(function(ct,pt){var gt=V(ct);Z.children.push(gt),pt===0&&(Z.leftChild=gt),pt===dt-1&&(Z.rightChild=gt)}),Z.originNode=H,Z.isLeaf=H.isLeaf(),Z}(A);return function V(H){if(H.isLeaf||H.children.length===0)H.drawingDepth=j;else{var $=H.children.map(function(Z){return V(Z)}),dt=Math.min.apply(null,$);H.drawingDepth=dt-1}return H.drawingDepth}(D),function V(H){H.x=H.drawingDepth*f.rankSep,H.isLeaf?(H.y=0,O&&(H.y=O.y+O.height+f.nodeSep,H.originNode.parent!==O.originNode.parent&&(H.y+=f.subTreeSep)),O=H):(H.children.forEach(function($){V($)}),H.y=(H.leftChild.y+H.rightChild.y)/2)}(D),function V(H,$,dt){dt?($.x=H.x,$.y=H.y):($.x=H.y,$.y=H.x),H.children.forEach(function(Z,ct){V(Z,$.children[ct],dt)})}(D,A,f.isHorizontal),A}},function(m,r,s){var d=s(11),C=s(117),S=s(30),A=s(7),f=["LR","RL","H"],O=f[0],j=function(V){var H,$;function dt(){return V.apply(this,arguments)||this}return $=V,(H=dt).prototype=Object.create($.prototype),H.prototype.constructor=H,H.__proto__=$,dt.prototype.execute=function(){var Z=this.options,ct=this.rootNode;Z.isHorizontal=!0;var pt=Z.indent,gt=pt===void 0?20:pt,at=Z.dropCap,Bt=at===void 0||at,Lt=Z.direction||O;if(Lt&&f.indexOf(Lt)===-1)throw new TypeError("Invalid direction: "+Lt);if(Lt===f[0])C(ct,gt,Bt);else if(Lt===f[1])C(ct,gt,Bt),ct.right2left();else if(Lt===f[2]){var Et=S(ct,Z),K=Et.left,ft=Et.right;C(K,gt,Bt),K.right2left(),C(ft,gt,Bt);var mt=K.getBoundingBox();ft.translate(mt.width,0),ct.x=ft.x-ct.width/2}return ct},dt}(d),D={};m.exports=function(V,H){return H=A.assign({},D,H),new j(V,H).execute()}},function(m,r){m.exports=function(s,d,C){var S=null;s.eachNode(function(A){(function(f,O,j,D){if(!D)try{if(f.id===f.parent.children[0].id)return f.x+=j*f.depth,void(f.y=O?O.y:0)}catch(V){}f.x+=j*f.depth,f.y=O?O.y+O.height:0})(A,S,d,C),S=A})}},function(m,r,s){var d=s(11),C=s(119),S=s(17),A=s(7),f=function(j){var D,V;function H(){return j.apply(this,arguments)||this}return V=j,(D=H).prototype=Object.create(V.prototype),D.prototype.constructor=D,D.__proto__=V,H.prototype.execute=function(){return S(this.rootNode,this.options,C)},H}(d),O={};m.exports=function(j,D){return D=A.assign({},O,D),new f(j,D).execute()}},function(m,r,s){var d=s(7),C={getSubTreeSep:function(){return 0}};m.exports=function(S,A){A===void 0&&(A={}),A=d.assign({},C,A),S.parent={x:0,width:0,height:0,y:0},S.BFTraverse(function(f){f.x=f.parent.x+f.parent.width}),S.parent=null,function f(O,j){var D=0;return O.children.length?O.children.forEach(function(V){D+=f(V,j)}):D=O.height,O._subTreeSep=j.getSubTreeSep(O.data),O.totalHeight=Math.max(O.height,D)+2*O._subTreeSep,O.totalHeight}(S,A),S.startY=0,S.y=S.totalHeight/2-S.height/2,S.eachNode(function(f){var O=f.children,j=O.length;if(j){var D=O[0];if(D.startY=f.startY+f._subTreeSep,j===1)D.y=f.y+f.height/2-D.height/2;else{D.y=D.startY+D.totalHeight/2-D.height/2;for(var V=1;V<j;V++){var H=O[V];H.startY=O[V-1].startY+O[V-1].totalHeight,H.y=H.startY+H.totalHeight/2-H.height/2}}}}),function f(O){var j=O.children,D=j.length;if(D){j.forEach(function(ct){f(ct)});var V=j[0],H=j[D-1],$=H.y-V.y+H.height,dt=0;if(j.forEach(function(ct){dt+=ct.totalHeight}),$>O.height)O.y=V.y+$/2-O.height/2;else if(j.length!==1||O.height>dt){var Z=O.y+(O.height-$)/2-V.y;j.forEach(function(ct){ct.translate(0,Z)})}else O.y=(V.y+V.height/2+H.y+H.height/2)/2-O.height/2}}(S)}}])},w(b)==="object"&&w(n)==="object"?n.exports=c():(g=[],(x=typeof(u=c)=="function"?u.apply(b,g):u)===void 0||(n.exports=x))}).call(this,t(86)(i))},function(i,b){},function(i,b){},function(i,b){var t,n,u=i.exports={};function g(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}function c(A){if(t===setTimeout)return setTimeout(A,0);if((t===g||!t)&&setTimeout)return t=setTimeout,setTimeout(A,0);try{return t(A,0)}catch(f){try{return t.call(null,A,0)}catch(O){return t.call(this,A,0)}}}(function(){try{t=typeof setTimeout=="function"?setTimeout:g}catch(A){t=g}try{n=typeof clearTimeout=="function"?clearTimeout:x}catch(A){n=x}})();var w,I=[],m=!1,r=-1;function s(){m&&w&&(m=!1,w.length?I=w.concat(I):r=-1,I.length&&d())}function d(){if(!m){var A=c(s);m=!0;for(var f=I.length;f;){for(w=I,I=[];++r<f;)w&&w[r].run();r=-1,f=I.length}w=null,m=!1,function(O){if(n===clearTimeout)return clearTimeout(O);if((n===x||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(O);try{n(O)}catch(j){try{return n.call(null,O)}catch(D){return n.call(this,O)}}}(A)}}function C(A,f){this.fun=A,this.array=f}function S(){}u.nextTick=function(A){var f=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)f[O-1]=arguments[O];I.push(new C(A,f)),I.length!==1||m||c(d)},C.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=S,u.addListener=S,u.once=S,u.off=S,u.removeListener=S,u.removeAllListeners=S,u.emit=S,u.prependListener=S,u.prependOnceListener=S,u.listeners=function(A){return[]},u.binding=function(A){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(A){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(i,b,t){"use strict";var n=t(1),u=function(g){function x(){return g!==null&&g.apply(this,arguments)||this}return Object(n.b)(x,g),x.prototype.isGroup=function(){return!0},x.prototype.isEntityGroup=function(){return!1},x.prototype.clone=function(){for(var c=g.prototype.clone.call(this),w=this.getChildren(),I=0;I<w.length;I++){var m=w[I];c.add(m.clone())}return c},x}(t(117).a);b.a=u},function(i,b,t){"use strict";var n=t(1),u=t(118),g=t(39),x=function(c){function w(I){return c.call(this,I)||this}return Object(n.b)(w,c),w.prototype._isInBBox=function(I,m){var r=this.getBBox();return r.minX<=I&&r.maxX>=I&&r.minY<=m&&r.maxY>=m},w.prototype.afterAttrsChange=function(I){c.prototype.afterAttrsChange.call(this,I),this.clearCacheBBox()},w.prototype.getBBox=function(){var I=this.cfg.bbox;return I||(I=this.calculateBBox(),this.set("bbox",I)),I},w.prototype.getCanvasBBox=function(){var I=this.cfg.canvasBBox;return I||(I=this.calculateCanvasBBox(),this.set("canvasBBox",I)),I},w.prototype.applyMatrix=function(I){c.prototype.applyMatrix.call(this,I),this.set("canvasBBox",null)},w.prototype.calculateCanvasBBox=function(){var I=this.getBBox(),m=this.getTotalMatrix(),r=I.minX,s=I.minY,d=I.maxX,C=I.maxY;if(m){var S=Object(g.c)(m,[I.minX,I.minY]),A=Object(g.c)(m,[I.maxX,I.minY]),f=Object(g.c)(m,[I.minX,I.maxY]),O=Object(g.c)(m,[I.maxX,I.maxY]);r=Math.min(S[0],A[0],f[0],O[0]),d=Math.max(S[0],A[0],f[0],O[0]),s=Math.min(S[1],A[1],f[1],O[1]),C=Math.max(S[1],A[1],f[1],O[1])}var j=this.attrs;if(j.shadowColor){var D=j.shadowBlur,V=D===void 0?0:D,H=j.shadowOffsetX,$=H===void 0?0:H,dt=j.shadowOffsetY,Z=dt===void 0?0:dt,ct=r-V+$,pt=d+V+$,gt=s-V+Z,at=C+V+Z;r=Math.min(r,ct),d=Math.max(d,pt),s=Math.min(s,gt),C=Math.max(C,at)}return{x:r,y:s,minX:r,minY:s,maxX:d,maxY:C,width:d-r,height:C-s}},w.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},w.prototype.isClipShape=function(){return this.get("isClipShape")},w.prototype.isInShape=function(I,m){return!1},w.prototype.isOnlyHitBox=function(){return!1},w.prototype.isHit=function(I,m){var r=this.get("startArrowShape"),s=this.get("endArrowShape"),d=[I,m,1],C=(d=this.invertFromMatrix(d))[0],S=d[1],A=this._isInBBox(C,S);return this.isOnlyHitBox()?A:!!(A&&!this.isClipped(C,S)&&(this.isInShape(C,S)||r&&r.isHit(C,S)||s&&s.isHit(C,S)))},w}(u.a);b.a=x},function(i,b,t){var n=t(268),u={};for(var g in n)n.hasOwnProperty(g)&&(u[n[g]]=g);var x=i.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var c in x)if(x.hasOwnProperty(c)){if(!("channels"in x[c]))throw new Error("missing channels property: "+c);if(!("labels"in x[c]))throw new Error("missing channel labels property: "+c);if(x[c].labels.length!==x[c].channels)throw new Error("channel and label counts mismatch: "+c);var w=x[c].channels,I=x[c].labels;delete x[c].channels,delete x[c].labels,Object.defineProperty(x[c],"channels",{value:w}),Object.defineProperty(x[c],"labels",{value:I})}x.rgb.hsl=function(m){var r,s,d=m[0]/255,C=m[1]/255,S=m[2]/255,A=Math.min(d,C,S),f=Math.max(d,C,S),O=f-A;return f===A?r=0:d===f?r=(C-S)/O:C===f?r=2+(S-d)/O:S===f&&(r=4+(d-C)/O),(r=Math.min(60*r,360))<0&&(r+=360),s=(A+f)/2,[r,100*(f===A?0:s<=.5?O/(f+A):O/(2-f-A)),100*s]},x.rgb.hsv=function(m){var r,s,d,C,S,A=m[0]/255,f=m[1]/255,O=m[2]/255,j=Math.max(A,f,O),D=j-Math.min(A,f,O),V=function($){return(j-$)/6/D+.5};return D===0?C=S=0:(S=D/j,r=V(A),s=V(f),d=V(O),A===j?C=d-s:f===j?C=1/3+r-d:O===j&&(C=2/3+s-r),C<0?C+=1:C>1&&(C-=1)),[360*C,100*S,100*j]},x.rgb.hwb=function(m){var r=m[0],s=m[1],d=m[2];return[x.rgb.hsl(m)[0],100*(1/255*Math.min(r,Math.min(s,d))),100*(d=1-1/255*Math.max(r,Math.max(s,d)))]},x.rgb.cmyk=function(m){var r,s=m[0]/255,d=m[1]/255,C=m[2]/255;return[100*((1-s-(r=Math.min(1-s,1-d,1-C)))/(1-r)||0),100*((1-d-r)/(1-r)||0),100*((1-C-r)/(1-r)||0),100*r]},x.rgb.keyword=function(m){var r=u[m];if(r)return r;var s,d,C,S=1/0;for(var A in n)if(n.hasOwnProperty(A)){var f=n[A],O=(d=m,C=f,Math.pow(d[0]-C[0],2)+Math.pow(d[1]-C[1],2)+Math.pow(d[2]-C[2],2));O<S&&(S=O,s=A)}return s},x.keyword.rgb=function(m){return n[m]},x.rgb.xyz=function(m){var r=m[0]/255,s=m[1]/255,d=m[2]/255;return[100*(.4124*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.3576*(s=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92)+.1805*(d=d>.04045?Math.pow((d+.055)/1.055,2.4):d/12.92)),100*(.2126*r+.7152*s+.0722*d),100*(.0193*r+.1192*s+.9505*d)]},x.rgb.lab=function(m){var r=x.rgb.xyz(m),s=r[0],d=r[1],C=r[2];return d/=100,C/=108.883,s=(s/=95.047)>.008856?Math.pow(s,1/3):7.787*s+16/116,[116*(d=d>.008856?Math.pow(d,1/3):7.787*d+16/116)-16,500*(s-d),200*(d-(C=C>.008856?Math.pow(C,1/3):7.787*C+16/116))]},x.hsl.rgb=function(m){var r,s,d,C,S,A=m[0]/360,f=m[1]/100,O=m[2]/100;if(f===0)return[S=255*O,S,S];r=2*O-(s=O<.5?O*(1+f):O+f-O*f),C=[0,0,0];for(var j=0;j<3;j++)(d=A+1/3*-(j-1))<0&&d++,d>1&&d--,S=6*d<1?r+6*(s-r)*d:2*d<1?s:3*d<2?r+(s-r)*(2/3-d)*6:r,C[j]=255*S;return C},x.hsl.hsv=function(m){var r=m[0],s=m[1]/100,d=m[2]/100,C=s,S=Math.max(d,.01);return s*=(d*=2)<=1?d:2-d,C*=S<=1?S:2-S,[r,100*(d===0?2*C/(S+C):2*s/(d+s)),100*((d+s)/2)]},x.hsv.rgb=function(m){var r=m[0]/60,s=m[1]/100,d=m[2]/100,C=Math.floor(r)%6,S=r-Math.floor(r),A=255*d*(1-s),f=255*d*(1-s*S),O=255*d*(1-s*(1-S));switch(d*=255,C){case 0:return[d,O,A];case 1:return[f,d,A];case 2:return[A,d,O];case 3:return[A,f,d];case 4:return[O,A,d];case 5:return[d,A,f]}},x.hsv.hsl=function(m){var r,s,d,C=m[0],S=m[1]/100,A=m[2]/100,f=Math.max(A,.01);return d=(2-S)*A,s=S*f,[C,100*(s=(s/=(r=(2-S)*f)<=1?r:2-r)||0),100*(d/=2)]},x.hwb.rgb=function(m){var r,s,d,C,S,A,f,O=m[0]/360,j=m[1]/100,D=m[2]/100,V=j+D;switch(V>1&&(j/=V,D/=V),d=6*O-(r=Math.floor(6*O)),(1&r)!=0&&(d=1-d),C=j+d*((s=1-D)-j),r){default:case 6:case 0:S=s,A=C,f=j;break;case 1:S=C,A=s,f=j;break;case 2:S=j,A=s,f=C;break;case 3:S=j,A=C,f=s;break;case 4:S=C,A=j,f=s;break;case 5:S=s,A=j,f=C}return[255*S,255*A,255*f]},x.cmyk.rgb=function(m){var r=m[0]/100,s=m[1]/100,d=m[2]/100,C=m[3]/100;return[255*(1-Math.min(1,r*(1-C)+C)),255*(1-Math.min(1,s*(1-C)+C)),255*(1-Math.min(1,d*(1-C)+C))]},x.xyz.rgb=function(m){var r,s,d,C=m[0]/100,S=m[1]/100,A=m[2]/100;return s=-.9689*C+1.8758*S+.0415*A,d=.0557*C+-.204*S+1.057*A,r=(r=3.2406*C+-1.5372*S+-.4986*A)>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:12.92*s,d=d>.0031308?1.055*Math.pow(d,1/2.4)-.055:12.92*d,[255*(r=Math.min(Math.max(0,r),1)),255*(s=Math.min(Math.max(0,s),1)),255*(d=Math.min(Math.max(0,d),1))]},x.xyz.lab=function(m){var r=m[0],s=m[1],d=m[2];return s/=100,d/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(s=s>.008856?Math.pow(s,1/3):7.787*s+16/116)-16,500*(r-s),200*(s-(d=d>.008856?Math.pow(d,1/3):7.787*d+16/116))]},x.lab.xyz=function(m){var r,s,d,C=m[0];r=m[1]/500+(s=(C+16)/116),d=s-m[2]/200;var S=Math.pow(s,3),A=Math.pow(r,3),f=Math.pow(d,3);return s=S>.008856?S:(s-16/116)/7.787,r=A>.008856?A:(r-16/116)/7.787,d=f>.008856?f:(d-16/116)/7.787,[r*=95.047,s*=100,d*=108.883]},x.lab.lch=function(m){var r,s=m[0],d=m[1],C=m[2];return(r=360*Math.atan2(C,d)/2/Math.PI)<0&&(r+=360),[s,Math.sqrt(d*d+C*C),r]},x.lch.lab=function(m){var r,s=m[0],d=m[1];return r=m[2]/360*2*Math.PI,[s,d*Math.cos(r),d*Math.sin(r)]},x.rgb.ansi16=function(m){var r=m[0],s=m[1],d=m[2],C=1 in arguments?arguments[1]:x.rgb.hsv(m)[2];if((C=Math.round(C/50))===0)return 30;var S=30+(Math.round(d/255)<<2|Math.round(s/255)<<1|Math.round(r/255));return C===2&&(S+=60),S},x.hsv.ansi16=function(m){return x.rgb.ansi16(x.hsv.rgb(m),m[2])},x.rgb.ansi256=function(m){var r=m[0],s=m[1],d=m[2];return r===s&&s===d?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(s/255*5)+Math.round(d/255*5)},x.ansi16.rgb=function(m){var r=m%10;if(r===0||r===7)return m>50&&(r+=3.5),[r=r/10.5*255,r,r];var s=.5*(1+~~(m>50));return[(1&r)*s*255,(r>>1&1)*s*255,(r>>2&1)*s*255]},x.ansi256.rgb=function(m){if(m>=232){var r=10*(m-232)+8;return[r,r,r]}var s;return m-=16,[Math.floor(m/36)/5*255,Math.floor((s=m%36)/6)/5*255,s%6/5*255]},x.rgb.hex=function(m){var r=(((255&Math.round(m[0]))<<16)+((255&Math.round(m[1]))<<8)+(255&Math.round(m[2]))).toString(16).toUpperCase();return"000000".substring(r.length)+r},x.hex.rgb=function(m){var r=m.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!r)return[0,0,0];var s=r[0];r[0].length===3&&(s=s.split("").map(function(C){return C+C}).join(""));var d=parseInt(s,16);return[d>>16&255,d>>8&255,255&d]},x.rgb.hcg=function(m){var r,s=m[0]/255,d=m[1]/255,C=m[2]/255,S=Math.max(Math.max(s,d),C),A=Math.min(Math.min(s,d),C),f=S-A;return r=f<=0?0:S===s?(d-C)/f%6:S===d?2+(C-s)/f:4+(s-d)/f+4,r/=6,[360*(r%=1),100*f,100*(f<1?A/(1-f):0)]},x.hsl.hcg=function(m){var r=m[1]/100,s=m[2]/100,d=1,C=0;return(d=s<.5?2*r*s:2*r*(1-s))<1&&(C=(s-.5*d)/(1-d)),[m[0],100*d,100*C]},x.hsv.hcg=function(m){var r=m[1]/100,s=m[2]/100,d=r*s,C=0;return d<1&&(C=(s-d)/(1-d)),[m[0],100*d,100*C]},x.hcg.rgb=function(m){var r=m[0]/360,s=m[1]/100,d=m[2]/100;if(s===0)return[255*d,255*d,255*d];var C,S=[0,0,0],A=r%1*6,f=A%1,O=1-f;switch(Math.floor(A)){case 0:S[0]=1,S[1]=f,S[2]=0;break;case 1:S[0]=O,S[1]=1,S[2]=0;break;case 2:S[0]=0,S[1]=1,S[2]=f;break;case 3:S[0]=0,S[1]=O,S[2]=1;break;case 4:S[0]=f,S[1]=0,S[2]=1;break;default:S[0]=1,S[1]=0,S[2]=O}return C=(1-s)*d,[255*(s*S[0]+C),255*(s*S[1]+C),255*(s*S[2]+C)]},x.hcg.hsv=function(m){var r=m[1]/100,s=r+m[2]/100*(1-r),d=0;return s>0&&(d=r/s),[m[0],100*d,100*s]},x.hcg.hsl=function(m){var r=m[1]/100,s=m[2]/100*(1-r)+.5*r,d=0;return s>0&&s<.5?d=r/(2*s):s>=.5&&s<1&&(d=r/(2*(1-s))),[m[0],100*d,100*s]},x.hcg.hwb=function(m){var r=m[1]/100,s=r+m[2]/100*(1-r);return[m[0],100*(s-r),100*(1-s)]},x.hwb.hcg=function(m){var r=m[1]/100,s=1-m[2]/100,d=s-r,C=0;return d<1&&(C=(s-d)/(1-d)),[m[0],100*d,100*C]},x.apple.rgb=function(m){return[m[0]/65535*255,m[1]/65535*255,m[2]/65535*255]},x.rgb.apple=function(m){return[m[0]/255*65535,m[1]/255*65535,m[2]/255*65535]},x.gray.rgb=function(m){return[m[0]/100*255,m[0]/100*255,m[0]/100*255]},x.gray.hsl=x.gray.hsv=function(m){return[0,0,m[0]]},x.gray.hwb=function(m){return[0,100,m[0]]},x.gray.cmyk=function(m){return[0,0,0,m[0]]},x.gray.lab=function(m){return[m[0],0,0]},x.gray.hex=function(m){var r=255&Math.round(m[0]/100*255),s=((r<<16)+(r<<8)+r).toString(16).toUpperCase();return"000000".substring(s.length)+s},x.rgb.gray=function(m){return[(m[0]+m[1]+m[2])/3/255*100]}},function(i,b,t){var n=t(95),u=t(127),g=t(100),x=t(301),c=t(307),w=t(169),I=t(170),m=t(310),r=t(311),s=t(174),d=t(312),C=t(74),S=t(316),A=t(317),f=t(179),O=t(26),j=t(73),D=t(321),V=t(43),H=t(323),$=t(58),dt=t(65),Z={};Z["[object Arguments]"]=Z["[object Array]"]=Z["[object ArrayBuffer]"]=Z["[object DataView]"]=Z["[object Boolean]"]=Z["[object Date]"]=Z["[object Float32Array]"]=Z["[object Float64Array]"]=Z["[object Int8Array]"]=Z["[object Int16Array]"]=Z["[object Int32Array]"]=Z["[object Map]"]=Z["[object Number]"]=Z["[object Object]"]=Z["[object RegExp]"]=Z["[object Set]"]=Z["[object String]"]=Z["[object Symbol]"]=Z["[object Uint8Array]"]=Z["[object Uint8ClampedArray]"]=Z["[object Uint16Array]"]=Z["[object Uint32Array]"]=!0,Z["[object Error]"]=Z["[object Function]"]=Z["[object WeakMap]"]=!1,i.exports=function ct(pt,gt,at,Bt,Lt,Et){var K,ft=1&gt,mt=2&gt,yt=4&gt;if(at&&(K=Lt?at(pt,Bt,Lt,Et):at(pt)),K!==void 0)return K;if(!V(pt))return pt;var wt=O(pt);if(wt){if(K=S(pt),!ft)return I(pt,K)}else{var J=C(pt),lt=J=="[object Function]"||J=="[object GeneratorFunction]";if(j(pt))return w(pt,ft);if(J=="[object Object]"||J=="[object Arguments]"||lt&&!Lt){if(K=mt||lt?{}:f(pt),!ft)return mt?r(pt,c(K,pt)):m(pt,x(K,pt))}else{if(!Z[J])return Lt?pt:{};K=A(pt,J,ft)}}Et||(Et=new n);var it=Et.get(pt);if(it)return it;Et.set(pt,K),H(pt)?pt.forEach(function(P){K.add(ct(P,gt,at,P,pt,Et))}):D(pt)&&pt.forEach(function(P,Q){K.set(Q,ct(P,gt,at,Q,pt,Et))});var _=wt?void 0:(yt?mt?d:s:mt?dt:$)(pt);return u(_||pt,function(P,Q){_&&(P=pt[Q=P]),g(K,Q,ct(P,gt,at,Q,pt,Et))}),K}},function(i,b,t){(function(n){function u(x){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(x)}var g=(n===void 0?"undefined":u(n))=="object"&&n&&n.Object===Object&&n;i.exports=g}).call(this,t(164))},function(i,b){function t(u){return(t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(u)}var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(u){(typeof window=="undefined"?"undefined":t(window))==="object"&&(n=window)}i.exports=n},function(i,b){var t=Function.prototype.toString;i.exports=function(n){if(n!=null){try{return t.call(n)}catch(u){}try{return n+""}catch(u){}}return""}},function(i,b,t){var n=t(64),u=function(){try{var g=n(Object,"defineProperty");return g({},"",{}),g}catch(x){}}();i.exports=u},function(i,b,t){var n=t(302),u=t(85),g=t(26),x=t(73),c=t(102),w=t(44),I=Object.prototype.hasOwnProperty;i.exports=function(m,r){var s=g(m),d=!s&&u(m),C=!s&&!d&&x(m),S=!s&&!d&&!C&&w(m),A=s||d||C||S,f=A?n(m.length,String):[],O=f.length;for(var j in m)!r&&!I.call(m,j)||A&&(j=="length"||C&&(j=="offset"||j=="parent")||S&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||c(j,O))||f.push(j);return f}},function(i,b){i.exports=function(t,n){return function(u){return t(n(u))}}},function(i,b,t){(function(n){function u(m){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(m)}var g=t(47),x=u(b)=="object"&&b&&!b.nodeType&&b,c=x&&u(n)=="object"&&n&&!n.nodeType&&n,w=c&&c.exports===x?g.Buffer:void 0,I=w?w.allocUnsafe:void 0;n.exports=function(m,r){if(r)return m.slice();var s=m.length,d=I?I(s):new m.constructor(s);return m.copy(d),d}}).call(this,t(86)(i))},function(i,b){i.exports=function(t,n){var u=-1,g=t.length;for(n||(n=Array(g));++u<g;)n[u]=t[u];return n}},function(i,b){i.exports=function(t,n){for(var u=-1,g=t==null?0:t.length,x=0,c=[];++u<g;){var w=t[u];n(w,u,t)&&(c[x++]=w)}return c}},function(i,b){i.exports=function(){return[]}},function(i,b,t){var n=t(132),u=t(105),g=t(131),x=t(172),c=Object.getOwnPropertySymbols?function(w){for(var I=[];w;)n(I,g(w)),w=u(w);return I}:x;i.exports=c},function(i,b,t){var n=t(175),u=t(131),g=t(58);i.exports=function(x){return n(x,g,u)}},function(i,b,t){var n=t(132),u=t(26);i.exports=function(g,x,c){var w=x(g);return u(g)?w:n(w,c(g))}},function(i,b,t){var n=t(64)(t(47),"Set");i.exports=n},function(i,b,t){var n=t(47).Uint8Array;i.exports=n},function(i,b,t){var n=t(133);i.exports=function(u,g){var x=g?n(u.buffer):u.buffer;return new u.constructor(x,u.byteOffset,u.length)}},function(i,b,t){var n=t(180),u=t(105),g=t(104);i.exports=function(x){return typeof x.constructor!="function"||g(x)?{}:n(u(x))}},function(i,b,t){var n=t(43),u=Object.create,g=function(){function x(){}return function(c){if(!n(c))return{};if(u)return u(c);x.prototype=c;var w=new x;return x.prototype=void 0,w}}();i.exports=g},function(i,b,t){i.exports=t(182)},function(i,b,t){var n=t(127),u=t(106),g=t(183),x=t(26);i.exports=function(c,w){return(x(c)?n:u)(c,g(w))}},function(i,b,t){var n=t(66);i.exports=function(u){return typeof u=="function"?u:n}},function(i,b,t){var n=t(171),u=t(327),g=t(54),x=t(26);i.exports=function(c,w){return(x(c)?n:u)(c,g(w,3))}},function(i,b,t){var n=t(330),u=t(48);i.exports=function g(x,c,w,I,m){return x===c||(x==null||c==null||!u(x)&&!u(c)?x!=x&&c!=c:n(x,c,w,I,g,m))}},function(i,b,t){var n=t(187),u=t(333),g=t(188);i.exports=function(x,c,w,I,m,r){var s=1&w,d=x.length,C=c.length;if(d!=C&&!(s&&C>d))return!1;var S=r.get(x),A=r.get(c);if(S&&A)return S==c&&A==x;var f=-1,O=!0,j=2&w?new n:void 0;for(r.set(x,c),r.set(c,x);++f<d;){var D=x[f],V=c[f];if(I)var H=s?I(V,D,f,c,x,r):I(D,V,f,x,c,r);if(H!==void 0){if(H)continue;O=!1;break}if(j){if(!u(c,function($,dt){if(!g(j,dt)&&(D===$||m(D,$,w,I,r)))return j.push(dt)})){O=!1;break}}else if(D!==V&&!m(D,V,w,I,r)){O=!1;break}}return r.delete(x),r.delete(c),O}},function(i,b,t){var n=t(126),u=t(331),g=t(332);function x(c){var w=-1,I=c==null?0:c.length;for(this.__data__=new n;++w<I;)this.add(c[w])}x.prototype.add=x.prototype.push=u,x.prototype.has=g,i.exports=x},function(i,b){i.exports=function(t,n){return t.has(n)}},function(i,b,t){var n=t(43);i.exports=function(u){return u==u&&!n(u)}},function(i,b){i.exports=function(t,n){return function(u){return u!=null&&u[t]===n&&(n!==void 0||t in Object(u))}}},function(i,b,t){var n=t(343);i.exports=function(u){return u==null?"":n(u)}},function(i,b,t){var n=t(344),u=t(193);i.exports=function(g,x){return g!=null&&u(g,x,n)}},function(i,b,t){var n=t(108),u=t(85),g=t(26),x=t(102),c=t(128),w=t(87);i.exports=function(I,m,r){for(var s=-1,d=(m=n(m,I)).length,C=!1;++s<d;){var S=w(m[s]);if(!(C=I!=null&&r(I,S)))break;I=I[S]}return C||++s!=d?C:!!(d=I==null?0:I.length)&&c(d)&&x(S,d)&&(g(I)||u(I))}},function(i,b){i.exports=function(t){return function(n){return n==null?void 0:n[t]}}},function(i,b,t){var n=t(347),u=t(193);i.exports=function(g,x){return g!=null&&u(g,x,n)}},function(i,b){i.exports=function(t){return t===void 0}},function(i,b,t){var n=t(109),u=t(54),g=t(198),x=t(26);i.exports=function(c,w){return(x(c)?n:g)(c,u(w,3))}},function(i,b,t){var n=t(106),u=t(53);i.exports=function(g,x){var c=-1,w=u(g)?Array(g.length):[];return n(g,function(I,m,r){w[++c]=x(I,m,r)}),w}},function(i,b,t){var n=t(349),u=t(106),g=t(54),x=t(350),c=t(26);i.exports=function(w,I,m){var r=c(w)?n:x,s=arguments.length<3;return r(w,g(I,4),m,s,u)}},function(i,b,t){var n=t(360),u=Math.max;i.exports=function(g,x,c){return x=u(x===void 0?g.length-1:x,0),function(){for(var w=arguments,I=-1,m=u(w.length-x,0),r=Array(m);++I<m;)r[I]=w[x+I];I=-1;for(var s=Array(x+1);++I<x;)s[I]=w[I];return s[x]=c(r),n(g,this,s)}}},function(i,b,t){var n=t(361),u=t(362)(n);i.exports=u},function(i,b,t){var n=t(187),u=t(363),g=t(367),x=t(188),c=t(368),w=t(137);i.exports=function(I,m,r){var s=-1,d=u,C=I.length,S=!0,A=[],f=A;if(r)S=!1,d=g;else if(C>=200){var O=m?null:c(I);if(O)return w(O);S=!1,d=x,f=new n}else f=m?[]:A;t:for(;++s<C;){var j=I[s],D=m?m(j):j;if(j=r||j!==0?j:0,S&&D==D){for(var V=f.length;V--;)if(f[V]===D)continue t;m&&f.push(D),A.push(j)}else d(f,D,r)||(f!==A&&f.push(D),A.push(j))}return A}},function(i,b){i.exports=function(t,n,u,g){for(var x=t.length,c=u+(g?1:-1);g?c--:++c<x;)if(n(t[c],c,t))return c;return-1}},function(i,b,t){var n=t(53),u=t(48);i.exports=function(g){return u(g)&&n(g)}},function(i,b,t){var n=t(370),u=t(58);i.exports=function(g){return g==null?[]:n(g,u(g))}},function(i,b,t){var n=t(42),u=t(207);i.exports=function(x,c,w,I){return function(m,r,s,d){var C,S,A={},f=new u,O=function(D){var V=D.v!==C?D.v:D.w,H=A[V],$=s(D),dt=S.distance+$;if($<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+D+" Weight: "+$);dt<H.distance&&(H.distance=dt,H.predecessor=C,f.decrease(V,dt))};for(m.nodes().forEach(function(j){var D=j===r?0:Number.POSITIVE_INFINITY;A[j]={distance:D},f.add(j,D)});f.size()>0&&(C=f.removeMin(),(S=A[C]).distance!==Number.POSITIVE_INFINITY);)d(C).forEach(O);return A}(x,String(c),w||g,I||function(m){return x.outEdges(m)})};var g=n.constant(1)},function(i,b,t){var n=t(42);function u(){this._arr=[],this._keyIndices={}}i.exports=u,u.prototype.size=function(){return this._arr.length},u.prototype.keys=function(){return this._arr.map(function(g){return g.key})},u.prototype.has=function(g){return n.has(this._keyIndices,g)},u.prototype.priority=function(g){var x=this._keyIndices[g];if(x!==void 0)return this._arr[x].priority},u.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},u.prototype.add=function(g,x){var c=this._keyIndices;if(g=String(g),!n.has(c,g)){var w=this._arr,I=w.length;return c[g]=I,w.push({key:g,priority:x}),this._decrease(I),!0}return!1},u.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var g=this._arr.pop();return delete this._keyIndices[g.key],this._heapify(0),g.key},u.prototype.decrease=function(g,x){var c=this._keyIndices[g];if(x>this._arr[c].priority)throw new Error("New priority is greater than current priority. Key: "+g+" Old: "+this._arr[c].priority+" New: "+x);this._arr[c].priority=x,this._decrease(c)},u.prototype._heapify=function(g){var x=this._arr,c=2*g,w=c+1,I=g;c<x.length&&(I=x[c].priority<x[I].priority?c:I,w<x.length&&(I=x[w].priority<x[I].priority?w:I),I!==g&&(this._swap(g,I),this._heapify(I)))},u.prototype._decrease=function(g){for(var x,c=this._arr,w=c[g].priority;g!==0&&!(c[x=g>>1].priority<w);)this._swap(g,x),g=x},u.prototype._swap=function(g,x){var c=this._arr,w=this._keyIndices,I=c[g],m=c[x];c[g]=m,c[x]=I,w[m.key]=g,w[I.key]=x}},function(i,b,t){var n=t(42);i.exports=function(u){var g=0,x=[],c={},w=[];return u.nodes().forEach(function(I){n.has(c,I)||function m(r){var s=c[r]={onStack:!0,lowlink:g,index:g++};if(x.push(r),u.successors(r).forEach(function(S){n.has(c,S)?c[S].onStack&&(s.lowlink=Math.min(s.lowlink,c[S].index)):(m(S),s.lowlink=Math.min(s.lowlink,c[S].lowlink))}),s.lowlink===s.index){var d,C=[];do d=x.pop(),c[d].onStack=!1,C.push(d);while(r!==d);w.push(C)}}(I)}),w}},function(i,b,t){var n=t(42);function u(x){var c={},w={},I=[];if(n.each(x.sinks(),function m(r){if(n.has(w,r))throw new g;n.has(c,r)||(w[r]=!0,c[r]=!0,n.each(x.predecessors(r),m),delete w[r],I.push(r))}),n.size(c)!==x.nodeCount())throw new g;return I}function g(){}i.exports=u,u.CycleException=g,g.prototype=new Error},function(i,b,t){var n=t(42);i.exports=function(u,g,x){n.isArray(g)||(g=[g]);var c=(u.isDirected()?u.successors:u.neighbors).bind(u),w=[],I={};return n.each(g,function(m){if(!u.hasNode(m))throw new Error("Graph does not have node: "+m);(function r(s,d,C,S,A,f){n.has(S,d)||(S[d]=!0,C||f.push(d),n.each(A(d),function(O){r(s,O,C,S,A,f)}),C&&f.push(d))})(u,m,x==="post",I,c,w)}),w}},function(i,b,t){var n=t(389);i.exports=function(u){return u?(u=n(u))===1/0||u===-1/0?17976931348623157e292*(u<0?-1:1):u==u?u:0:u===0?u:0}},function(i,b,t){var n=t(139);i.exports=function(u){return(u==null?0:u.length)?n(u,1):[]}},function(i,b,t){var n=t(101),u=t(71);i.exports=function(g,x,c){(c!==void 0&&!u(g[x],c)||c===void 0&&!(x in g))&&n(g,x,c)}},function(i,b){i.exports=function(t,n){if((n!=="constructor"||typeof t[n]!="function")&&n!="__proto__")return t[n]}},function(i,b){i.exports=function(t,n){return t<n}},function(i,b,t){"use strict";var n=t(24),u=t(46).Graph,g=t(112).slack;function x(I,m){return n.forEach(I.nodes(),function r(s){n.forEach(m.nodeEdges(s),function(d){var C=d.v,S=s===C?d.w:C;I.hasNode(S)||g(m,d)||(I.setNode(S,{}),I.setEdge(s,S,{}),r(S))})}),I.nodeCount()}function c(I,m){return n.minBy(m.edges(),function(r){if(I.hasNode(r.v)!==I.hasNode(r.w))return g(m,r)})}function w(I,m,r){n.forEach(I.nodes(),function(s){m.node(s).rank+=r})}i.exports=function(I){var m,r,s=new u({directed:!1}),d=I.nodes()[0],C=I.nodeCount();for(s.setNode(d,{});x(s,I)<C;)m=c(s,I),r=s.hasNode(m.v)?g(I,m):-g(I,m),w(s,I,r);return s}},function(i,b,t){(function(n,u){function g(c){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(c)}/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var x;(function(c){(function(w){var I=(u===void 0?"undefined":g(u))==="object"?u:(typeof self=="undefined"?"undefined":g(self))==="object"?self:g(this)==="object"?this:Function("return this;")(),m=r(c);function r(s,d){return function(C,S){typeof s[C]!="function"&&Object.defineProperty(s,C,{configurable:!0,writable:!0,value:S}),d&&d(C,S)}}I.Reflect===void 0?I.Reflect=c:m=r(I.Reflect,m),function(s){var d=Object.prototype.hasOwnProperty,C=typeof Symbol=="function",S=C&&Symbol.toPrimitive!==void 0?Symbol.toPrimitive:"@@toPrimitive",A=C&&Symbol.iterator!==void 0?Symbol.iterator:"@@iterator",f=typeof Object.create=="function",O={__proto__:[]}instanceof Array,j=!f&&!O,D={create:f?function(){return k(Object.create(null))}:O?function(){return k({__proto__:null})}:function(){return k({})},has:j?function(p,y){return d.call(p,y)}:function(p,y){return y in p},get:j?function(p,y){return d.call(p,y)?p[y]:void 0}:function(p,y){return p[y]}},V=Object.getPrototypeOf(Function),H=(n===void 0?"undefined":g(n))==="object"&&n.env&&n.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",$=H||typeof Map!="function"||typeof Map.prototype.entries!="function"?function(){var p={},y=[],B=function(){function ut(Mt,bt,xt){this._index=0,this._keys=Mt,this._values=bt,this._selector=xt}return ut.prototype["@@iterator"]=function(){return this},ut.prototype[A]=function(){return this},ut.prototype.next=function(){var Mt=this._index;if(Mt>=0&&Mt<this._keys.length){var bt=this._selector(this._keys[Mt],this._values[Mt]);return Mt+1>=this._keys.length?(this._index=-1,this._keys=y,this._values=y):this._index++,{value:bt,done:!1}}return{value:void 0,done:!0}},ut.prototype.throw=function(Mt){throw this._index>=0&&(this._index=-1,this._keys=y,this._values=y),Mt},ut.prototype.return=function(Mt){return this._index>=0&&(this._index=-1,this._keys=y,this._values=y),{value:Mt,done:!0}},ut}();return function(){function ut(){this._keys=[],this._values=[],this._cacheKey=p,this._cacheIndex=-2}return Object.defineProperty(ut.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),ut.prototype.has=function(Mt){return this._find(Mt,!1)>=0},ut.prototype.get=function(Mt){var bt=this._find(Mt,!1);return bt>=0?this._values[bt]:void 0},ut.prototype.set=function(Mt,bt){var xt=this._find(Mt,!0);return this._values[xt]=bt,this},ut.prototype.delete=function(Mt){var bt=this._find(Mt,!1);if(bt>=0){for(var xt=this._keys.length,Ot=bt+1;Ot<xt;Ot++)this._keys[Ot-1]=this._keys[Ot],this._values[Ot-1]=this._values[Ot];return this._keys.length--,this._values.length--,Mt===this._cacheKey&&(this._cacheKey=p,this._cacheIndex=-2),!0}return!1},ut.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=p,this._cacheIndex=-2},ut.prototype.keys=function(){return new B(this._keys,this._values,W)},ut.prototype.values=function(){return new B(this._keys,this._values,rt)},ut.prototype.entries=function(){return new B(this._keys,this._values,st)},ut.prototype["@@iterator"]=function(){return this.entries()},ut.prototype[A]=function(){return this.entries()},ut.prototype._find=function(Mt,bt){return this._cacheKey!==Mt&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Mt)),this._cacheIndex<0&&bt&&(this._cacheIndex=this._keys.length,this._keys.push(Mt),this._values.push(void 0)),this._cacheIndex},ut}();function W(ut,Mt){return ut}function rt(ut,Mt){return Mt}function st(ut,Mt){return[ut,Mt]}}():Map,dt=H||typeof Set!="function"||typeof Set.prototype.entries!="function"?function(){function p(){this._map=new $}return Object.defineProperty(p.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),p.prototype.has=function(y){return this._map.has(y)},p.prototype.add=function(y){return this._map.set(y,y),this},p.prototype.delete=function(y){return this._map.delete(y)},p.prototype.clear=function(){this._map.clear()},p.prototype.keys=function(){return this._map.keys()},p.prototype.values=function(){return this._map.values()},p.prototype.entries=function(){return this._map.entries()},p.prototype["@@iterator"]=function(){return this.keys()},p.prototype[A]=function(){return this.keys()},p}():Set,Z=new(H||typeof WeakMap!="function"?function(){var p=D.create(),y=B();return function(){function ut(){this._key=B()}return ut.prototype.has=function(Mt){var bt=W(Mt,!1);return bt!==void 0&&D.has(bt,this._key)},ut.prototype.get=function(Mt){var bt=W(Mt,!1);return bt!==void 0?D.get(bt,this._key):void 0},ut.prototype.set=function(Mt,bt){return W(Mt,!0)[this._key]=bt,this},ut.prototype.delete=function(Mt){var bt=W(Mt,!1);return bt!==void 0&&delete bt[this._key]},ut.prototype.clear=function(){this._key=B()},ut}();function B(){var ut;do ut="@@WeakMap@@"+st();while(D.has(p,ut));return p[ut]=!0,ut}function W(ut,Mt){if(!d.call(ut,y)){if(!Mt)return;Object.defineProperty(ut,y,{value:D.create()})}return ut[y]}function rt(ut,Mt){for(var bt=0;bt<Mt;++bt)ut[bt]=255*Math.random()|0;return ut}function st(){var ut,Mt=(ut=16,typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(ut)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(ut)):rt(new Uint8Array(ut),ut):rt(new Array(ut),ut));Mt[6]=79&Mt[6]|64,Mt[8]=191&Mt[8]|128;for(var bt="",xt=0;xt<16;++xt){var Ot=Mt[xt];xt!==4&&xt!==6&&xt!==8||(bt+="-"),Ot<16&&(bt+="0"),bt+=Ot.toString(16).toLowerCase()}return bt}}():WeakMap);function ct(p,y,B){var W=Z.get(p);if(Et(W)){if(!B)return;W=new $,Z.set(p,W)}var rt=W.get(y);if(Et(rt)){if(!B)return;rt=new $,W.set(y,rt)}return rt}function pt(p,y,B){var W=ct(y,B,!1);return!Et(W)&&!!W.has(p)}function gt(p,y,B){var W=ct(y,B,!1);if(!Et(W))return W.get(p)}function at(p,y,B,W){ct(B,W,!0).set(p,y)}function Bt(p,y){var B=[],W=ct(p,y,!1);if(Et(W))return B;for(var rt=function(bt){var xt=it(bt,A);if(!J(xt))throw new TypeError;var Ot=xt.call(bt);if(!ft(Ot))throw new TypeError;return Ot}(W.keys()),st=0;;){var ut=_(rt);if(!ut)return B.length=st,B;var Mt=ut.value;try{B[st]=Mt}catch(bt){try{P(rt)}finally{throw bt}}st++}}function Lt(p){if(p===null)return 1;switch(g(p)){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return p===null?1:6;default:return 6}}function Et(p){return p===void 0}function K(p){return p===null}function ft(p){return g(p)==="object"?p!==null:typeof p=="function"}function mt(p,y){switch(Lt(p)){case 0:case 1:case 2:case 3:case 4:case 5:return p}var B=y===3?"string":y===5?"number":"default",W=it(p,S);if(W!==void 0){var rt=W.call(p,B);if(ft(rt))throw new TypeError;return rt}return function(st,ut){if(ut==="string"){var Mt=st.toString;if(J(Mt)&&!ft(xt=Mt.call(st))||J(bt=st.valueOf)&&!ft(xt=bt.call(st)))return xt}else{var bt;if(J(bt=st.valueOf)&&!ft(xt=bt.call(st)))return xt;var xt,Ot=st.toString;if(J(Ot)&&!ft(xt=Ot.call(st)))return xt}throw new TypeError}(p,B==="default"?"number":B)}function yt(p){var y=mt(p,3);return g(y)==="symbol"?y:function(B){return""+B}(y)}function wt(p){return Array.isArray?Array.isArray(p):p instanceof Object?p instanceof Array:Object.prototype.toString.call(p)==="[object Array]"}function J(p){return typeof p=="function"}function lt(p){return typeof p=="function"}function it(p,y){var B=p[y];if(B!=null){if(!J(B))throw new TypeError;return B}}function _(p){var y=p.next();return!y.done&&y}function P(p){var y=p.return;y&&y.call(p)}function Q(p){var y=Object.getPrototypeOf(p);if(typeof p!="function"||p===V||y!==V)return y;var B=p.prototype,W=B&&Object.getPrototypeOf(B);if(W==null||W===Object.prototype)return y;var rt=W.constructor;return typeof rt!="function"||rt===p?y:rt}function k(p){return p.__=void 0,delete p.__,p}s("decorate",function(p,y,B,W){if(Et(B)){if(!wt(p))throw new TypeError;if(!lt(y))throw new TypeError;return function(rt,st){for(var ut=rt.length-1;ut>=0;--ut){var Mt=(0,rt[ut])(st);if(!Et(Mt)&&!K(Mt)){if(!lt(Mt))throw new TypeError;st=Mt}}return st}(p,y)}if(!wt(p))throw new TypeError;if(!ft(y))throw new TypeError;if(!ft(W)&&!Et(W)&&!K(W))throw new TypeError;return K(W)&&(W=void 0),function(rt,st,ut,Mt){for(var bt=rt.length-1;bt>=0;--bt){var xt=(0,rt[bt])(st,ut,Mt);if(!Et(xt)&&!K(xt)){if(!ft(xt))throw new TypeError;Mt=xt}}return Mt}(p,y,B=yt(B),W)}),s("metadata",function(p,y){return function(B,W){if(!ft(B))throw new TypeError;if(!Et(W)&&!function(rt){switch(Lt(rt)){case 3:case 4:return!0;default:return!1}}(W))throw new TypeError;at(p,y,B,W)}}),s("defineMetadata",function(p,y,B,W){if(!ft(B))throw new TypeError;return Et(W)||(W=yt(W)),at(p,y,B,W)}),s("hasMetadata",function(p,y,B){if(!ft(y))throw new TypeError;return Et(B)||(B=yt(B)),function W(rt,st,ut){if(pt(rt,st,ut))return!0;var Mt=Q(st);return!K(Mt)&&W(rt,Mt,ut)}(p,y,B)}),s("hasOwnMetadata",function(p,y,B){if(!ft(y))throw new TypeError;return Et(B)||(B=yt(B)),pt(p,y,B)}),s("getMetadata",function(p,y,B){if(!ft(y))throw new TypeError;return Et(B)||(B=yt(B)),function W(rt,st,ut){if(pt(rt,st,ut))return gt(rt,st,ut);var Mt=Q(st);return K(Mt)?void 0:W(rt,Mt,ut)}(p,y,B)}),s("getOwnMetadata",function(p,y,B){if(!ft(y))throw new TypeError;return Et(B)||(B=yt(B)),gt(p,y,B)}),s("getMetadataKeys",function(p,y){if(!ft(p))throw new TypeError;return Et(y)||(y=yt(y)),function B(W,rt){var st=Bt(W,rt),ut=Q(W);if(ut===null)return st;var Mt=B(ut,rt);if(Mt.length<=0)return st;if(st.length<=0)return Mt;for(var bt=new dt,xt=[],Ot=0,jt=st;Ot<jt.length;Ot++){var Dt=jt[Ot];bt.has(Dt)||(bt.add(Dt),xt.push(Dt))}for(var zt=0,Tt=Mt;zt<Tt.length;zt++)Dt=Tt[zt],bt.has(Dt)||(bt.add(Dt),xt.push(Dt));return xt}(p,y)}),s("getOwnMetadataKeys",function(p,y){if(!ft(p))throw new TypeError;return Et(y)||(y=yt(y)),Bt(p,y)}),s("deleteMetadata",function(p,y,B){if(!ft(y))throw new TypeError;Et(B)||(B=yt(B));var W=ct(y,B,!1);if(Et(W)||!W.delete(p))return!1;if(W.size>0)return!0;var rt=Z.get(y);return rt.delete(B),rt.size>0||Z.delete(y),!0})}(m)})()})(x||(x={}))}).call(this,t(158),t(164))},function(i,b,t){var n=t(219);i.exports=function(u,g){if(u){if(typeof u=="string")return n(u,g);var x=Object.prototype.toString.call(u).slice(8,-1);return x==="Object"&&u.constructor&&(x=u.constructor.name),x==="Map"||x==="Set"?Array.from(u):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?n(u,g):void 0}}},function(i,b){i.exports=function(t,n){(n==null||n>t.length)&&(n=t.length);for(var u=0,g=new Array(n);u<n;u++)g[u]=t[u];return g}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.MetadataReader=void 0;var n=t(32),u=function(){function g(){}return g.prototype.getConstructorMetadata=function(x){return{compilerGeneratedMetadata:Reflect.getMetadata(n.PARAM_TYPES,x),userGeneratedMetadata:Reflect.getMetadata(n.TAGGED,x)||{}}},g.prototype.getPropertiesMetadata=function(x){return Reflect.getMetadata(n.TAGGED_PROP,x)||[]},g}();b.MetadataReader=u},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.isStackOverflowExeption=void 0;var n=t(41);b.isStackOverflowExeption=function(u){return u instanceof RangeError||u.message===n.STACK_OVERFLOW}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.inject=b.LazyServiceIdentifer=void 0;var n=t(41),u=t(32),g=t(49),x=t(59),c=function(){function w(I){this._cb=I}return w.prototype.unwrap=function(){return this._cb()},w}();b.LazyServiceIdentifer=c,b.inject=function(w){return function(I,m,r){if(w===void 0)throw new Error(n.UNDEFINED_INJECT_ANNOTATION(I.name));var s=new g.Metadata(u.INJECT_TAG,w);typeof r=="number"?x.tagParameter(I,m,r,s):x.tagProperty(I,m,s)}}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Target=void 0;var n=t(32),u=t(67),g=t(49),x=t(453),c=function(){function w(I,m,r,s){this.id=u.id(),this.type=I,this.serviceIdentifier=r,this.name=new x.QueryableString(m||""),this.metadata=new Array;var d=null;typeof s=="string"?d=new g.Metadata(n.NAMED_TAG,s):s instanceof g.Metadata&&(d=s),d!==null&&this.metadata.push(d)}return w.prototype.hasTag=function(I){for(var m=0,r=this.metadata;m<r.length;m++)if(r[m].key===I)return!0;return!1},w.prototype.isArray=function(){return this.hasTag(n.MULTI_INJECT_TAG)},w.prototype.matchesArray=function(I){return this.matchesTag(n.MULTI_INJECT_TAG)(I)},w.prototype.isNamed=function(){return this.hasTag(n.NAMED_TAG)},w.prototype.isTagged=function(){return this.metadata.some(function(I){return I.key!==n.INJECT_TAG&&I.key!==n.MULTI_INJECT_TAG&&I.key!==n.NAME_TAG&&I.key!==n.UNMANAGED_TAG&&I.key!==n.NAMED_TAG})},w.prototype.isOptional=function(){return this.matchesTag(n.OPTIONAL_TAG)(!0)},w.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(I){return I.key===n.NAMED_TAG})[0]:null},w.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(I){return I.key!==n.INJECT_TAG&&I.key!==n.MULTI_INJECT_TAG&&I.key!==n.NAME_TAG&&I.key!==n.UNMANAGED_TAG&&I.key!==n.NAMED_TAG}):null},w.prototype.matchesNamedTag=function(I){return this.matchesTag(n.NAMED_TAG)(I)},w.prototype.matchesTag=function(I){var m=this;return function(r){for(var s=0,d=m.metadata;s<d.length;s++){var C=d[s];if(C.key===I&&C.value===r)return!0}return!1}},w}();b.Target=c},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BindingWhenOnSyntax=void 0;var n=t(141),u=t(142),g=function(){function x(c){this._binding=c,this._bindingWhenSyntax=new u.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new n.BindingOnSyntax(this._binding)}return x.prototype.when=function(c){return this._bindingWhenSyntax.when(c)},x.prototype.whenTargetNamed=function(c){return this._bindingWhenSyntax.whenTargetNamed(c)},x.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},x.prototype.whenTargetTagged=function(c,w){return this._bindingWhenSyntax.whenTargetTagged(c,w)},x.prototype.whenInjectedInto=function(c){return this._bindingWhenSyntax.whenInjectedInto(c)},x.prototype.whenParentNamed=function(c){return this._bindingWhenSyntax.whenParentNamed(c)},x.prototype.whenParentTagged=function(c,w){return this._bindingWhenSyntax.whenParentTagged(c,w)},x.prototype.whenAnyAncestorIs=function(c){return this._bindingWhenSyntax.whenAnyAncestorIs(c)},x.prototype.whenNoAncestorIs=function(c){return this._bindingWhenSyntax.whenNoAncestorIs(c)},x.prototype.whenAnyAncestorNamed=function(c){return this._bindingWhenSyntax.whenAnyAncestorNamed(c)},x.prototype.whenAnyAncestorTagged=function(c,w){return this._bindingWhenSyntax.whenAnyAncestorTagged(c,w)},x.prototype.whenNoAncestorNamed=function(c){return this._bindingWhenSyntax.whenNoAncestorNamed(c)},x.prototype.whenNoAncestorTagged=function(c,w){return this._bindingWhenSyntax.whenNoAncestorTagged(c,w)},x.prototype.whenAnyAncestorMatches=function(c){return this._bindingWhenSyntax.whenAnyAncestorMatches(c)},x.prototype.whenNoAncestorMatches=function(c){return this._bindingWhenSyntax.whenNoAncestorMatches(c)},x.prototype.onActivation=function(c){return this._bindingOnSyntax.onActivation(c)},x}();b.BindingWhenOnSyntax=g},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.typeConstraint=b.namedConstraint=b.taggedConstraint=b.traverseAncerstors=void 0;var n=t(32),u=t(49);b.traverseAncerstors=function c(w,I){var m=w.parentRequest;return m!==null&&(!!I(m)||c(m,I))};var g=function(w){return function(I){var m=function(s){return s!==null&&s.target!==null&&s.target.matchesTag(w)(I)};return m.metaData=new u.Metadata(w,I),m}};b.taggedConstraint=g;var x=g(n.NAMED_TAG);b.namedConstraint=x,b.typeConstraint=function(c){return function(w){var I=null;if(w!==null){if(I=w.bindings[0],typeof c=="string")return I.serviceIdentifier===c;var m=w.bindings[0].implementationType;return c===m}return!1}}},function(i,b){},function(i,b){},function(i,b){},function(i,b){},function(i,b){},function(i,b){},function(i,b){},function(i,b){i.exports=1e-6},function(i,b){i.exports=function(){var t=new Float32Array(2);return t[0]=0,t[1]=0,t}},function(i,b){i.exports=function(t,n,u){return t[0]=n,t[1]=u,t}},function(i,b){i.exports=function(t,n,u){return t[0]=n[0]+u[0],t[1]=n[1]+u[1],t}},function(i,b){i.exports=function(t,n,u){return t[0]=n[0]*u[0],t[1]=n[1]*u[1],t}},function(i,b){i.exports=function(t,n,u){return t[0]=n[0]/u[0],t[1]=n[1]/u[1],t}},function(i,b){i.exports=function(t,n){var u=n[0]-t[0],g=n[1]-t[1];return Math.sqrt(u*u+g*g)}},function(i,b){i.exports=function(t,n){var u=n[0]-t[0],g=n[1]-t[1];return u*u+g*g}},function(i,b){i.exports=function(t){var n=t[0],u=t[1];return Math.sqrt(n*n+u*u)}},function(i,b){i.exports=function(t){var n=t[0],u=t[1];return n*n+u*u}},function(i,b){i.exports=function(t,n){var u=n[0],g=n[1],x=u*u+g*g;return x>0&&(x=1/Math.sqrt(x),t[0]=n[0]*x,t[1]=n[1]*x),t}},function(i,b){i.exports=function(t,n){return t[0]*n[0]+t[1]*n[1]}},function(i,b){},function(i,b){},function(i,b,t){"use strict";var n={};t.r(n),t.d(n,"easeLinear",function(){return pt}),t.d(n,"easeQuad",function(){return Bt}),t.d(n,"easeQuadIn",function(){return gt}),t.d(n,"easeQuadOut",function(){return at}),t.d(n,"easeQuadInOut",function(){return Bt}),t.d(n,"easeCubic",function(){return K}),t.d(n,"easeCubicIn",function(){return Lt}),t.d(n,"easeCubicOut",function(){return Et}),t.d(n,"easeCubicInOut",function(){return K}),t.d(n,"easePoly",function(){return yt}),t.d(n,"easePolyIn",function(){return ft}),t.d(n,"easePolyOut",function(){return mt}),t.d(n,"easePolyInOut",function(){return yt}),t.d(n,"easeSin",function(){return _}),t.d(n,"easeSinIn",function(){return lt}),t.d(n,"easeSinOut",function(){return it}),t.d(n,"easeSinInOut",function(){return _}),t.d(n,"easeExp",function(){return p}),t.d(n,"easeExpIn",function(){return Q}),t.d(n,"easeExpOut",function(){return k}),t.d(n,"easeExpInOut",function(){return p}),t.d(n,"easeCircle",function(){return W}),t.d(n,"easeCircleIn",function(){return y}),t.d(n,"easeCircleOut",function(){return B}),t.d(n,"easeCircleInOut",function(){return W}),t.d(n,"easeBounce",function(){return ut}),t.d(n,"easeBounceIn",function(){return st}),t.d(n,"easeBounceOut",function(){return ut}),t.d(n,"easeBounceInOut",function(){return Mt}),t.d(n,"easeBack",function(){return Ot}),t.d(n,"easeBackIn",function(){return bt}),t.d(n,"easeBackOut",function(){return xt}),t.d(n,"easeBackInOut",function(){return Ot}),t.d(n,"easeElastic",function(){return zt}),t.d(n,"easeElasticIn",function(){return Dt}),t.d(n,"easeElasticOut",function(){return zt}),t.d(n,"easeElasticInOut",function(){return Tt});var u=t(1),g=t(119),x=t(117),c=t(19),w=t(0);function I(ae){return(I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kt){return typeof Kt}:function(Kt){return Kt&&typeof Symbol=="function"&&Kt.constructor===Symbol&&Kt!==Symbol.prototype?"symbol":typeof Kt})(ae)}var m,r,s=0,d=0,C=0,S=0,A=0,f=0,O=(typeof performance=="undefined"?"undefined":I(performance))==="object"&&performance.now?performance:Date,j=(typeof window=="undefined"?"undefined":I(window))==="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(ae){setTimeout(ae,17)};function D(){return A||(j(V),A=O.now()+f)}function V(){A=0}function H(){this._call=this._time=this._next=null}function $(ae,Kt,te){var Oe=new H;return Oe.restart(ae,Kt,te),Oe}function dt(){A=(S=O.now())+f,s=d=0;try{(function(){D(),++s;for(var ae,Kt=m;Kt;)(ae=A-Kt._time)>=0&&Kt._call.call(null,ae),Kt=Kt._next;--s})()}finally{s=0,function(){for(var ae,Kt,te=m,Oe=1/0;te;)te._call?(Oe>te._time&&(Oe=te._time),ae=te,te=te._next):(Kt=te._next,te._next=null,te=ae?ae._next=Kt:m=Kt);r=ae,ct(Oe)}(),A=0}}function Z(){var ae=O.now(),Kt=ae-S;Kt>1e3&&(f-=Kt,S=ae)}function ct(ae){s||(d&&(d=clearTimeout(d)),ae-A>24?(ae<1/0&&(d=setTimeout(dt,ae-O.now()-f)),C&&(C=clearInterval(C))):(C||(S=O.now(),C=setInterval(Z,1e3)),s=1,j(dt)))}function pt(ae){return+ae}function gt(ae){return ae*ae}function at(ae){return ae*(2-ae)}function Bt(ae){return((ae*=2)<=1?ae*ae:--ae*(2-ae)+1)/2}function Lt(ae){return ae*ae*ae}function Et(ae){return--ae*ae*ae+1}function K(ae){return((ae*=2)<=1?ae*ae*ae:(ae-=2)*ae*ae+2)/2}H.prototype=$.prototype={constructor:H,restart:function(Kt,te,Oe){if(typeof Kt!="function")throw new TypeError("callback is not a function");Oe=(Oe==null?D():+Oe)+(te==null?0:+te),this._next||r===this||(r?r._next=this:m=this,r=this),this._call=Kt,this._time=Oe,ct()},stop:function(){this._call&&(this._call=null,this._time=1/0,ct())}};var ft=function ae(Kt){function te(Oe){return Math.pow(Oe,Kt)}return Kt=+Kt,te.exponent=ae,te}(3),mt=function ae(Kt){function te(Oe){return 1-Math.pow(1-Oe,Kt)}return Kt=+Kt,te.exponent=ae,te}(3),yt=function ae(Kt){function te(Oe){return((Oe*=2)<=1?Math.pow(Oe,Kt):2-Math.pow(2-Oe,Kt))/2}return Kt=+Kt,te.exponent=ae,te}(3),wt=Math.PI,J=wt/2;function lt(ae){return+ae==1?1:1-Math.cos(ae*J)}function it(ae){return Math.sin(ae*J)}function _(ae){return(1-Math.cos(wt*ae))/2}function P(ae){return 1.0009775171065494*(Math.pow(2,-10*ae)-.0009765625)}function Q(ae){return P(1-+ae)}function k(ae){return 1-P(ae)}function p(ae){return((ae*=2)<=1?P(1-ae):2-P(ae-1))/2}function y(ae){return 1-Math.sqrt(1-ae*ae)}function B(ae){return Math.sqrt(1- --ae*ae)}function W(ae){return((ae*=2)<=1?1-Math.sqrt(1-ae*ae):Math.sqrt(1-(ae-=2)*ae)+1)/2}var rt=7.5625;function st(ae){return 1-ut(1-ae)}function ut(ae){return(ae=+ae)<4/11?rt*ae*ae:ae<8/11?rt*(ae-=6/11)*ae+3/4:ae<10/11?rt*(ae-=9/11)*ae+15/16:rt*(ae-=21/22)*ae+63/64}function Mt(ae){return((ae*=2)<=1?1-ut(1-ae):ut(ae-1)+1)/2}var bt=function ae(Kt){function te(Oe){return(Oe=+Oe)*Oe*(Kt*(Oe-1)+Oe)}return Kt=+Kt,te.overshoot=ae,te}(1.70158),xt=function ae(Kt){function te(Oe){return--Oe*Oe*((Oe+1)*Kt+Oe)+1}return Kt=+Kt,te.overshoot=ae,te}(1.70158),Ot=function ae(Kt){function te(Oe){return((Oe*=2)<1?Oe*Oe*((Kt+1)*Oe-Kt):(Oe-=2)*Oe*((Kt+1)*Oe+Kt)+2)/2}return Kt=+Kt,te.overshoot=ae,te}(1.70158),jt=2*Math.PI,Dt=function ae(Kt,te){var Oe=Math.asin(1/(Kt=Math.max(1,Kt)))*(te/=jt);function Ze(An){return Kt*P(- --An)*Math.sin((Oe-An)/te)}return Ze.amplitude=function(An){return ae(An,te*jt)},Ze.period=function(An){return ae(Kt,An)},Ze}(1,.3),zt=function ae(Kt,te){var Oe=Math.asin(1/(Kt=Math.max(1,Kt)))*(te/=jt);function Ze(An){return 1-Kt*P(An=+An)*Math.sin((An+Oe)/te)}return Ze.amplitude=function(An){return ae(An,te*jt)},Ze.period=function(An){return ae(Kt,An)},Ze}(1,.3),Tt=function ae(Kt,te){var Oe=Math.asin(1/(Kt=Math.max(1,Kt)))*(te/=jt);function Ze(An){return((An=2*An-1)<0?Kt*P(-An)*Math.sin((Oe-An)/te):2-Kt*P(An)*Math.sin((Oe+An)/te))/2}return Ze.amplitude=function(An){return ae(An,te*jt)},Ze.period=function(An){return ae(Kt,An)},Ze}(1,.3),Vt=function(Kt,te,Oe){Kt.prototype=te.prototype=Oe,Oe.constructor=Kt};function Ht(ae,Kt){var te=Object.create(ae.prototype);for(var Oe in Kt)te[Oe]=Kt[Oe];return te}function re(){}var pe="\\s*([+-]?\\d+)\\s*",me="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ee="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Le=/^#([0-9a-f]{3,8})$/,Je=new RegExp("^rgb\\("+[pe,pe,pe]+"\\)$"),On=new RegExp("^rgb\\("+[Ee,Ee,Ee]+"\\)$"),gn=new RegExp("^rgba\\("+[pe,pe,pe,me]+"\\)$"),Vn=new RegExp("^rgba\\("+[Ee,Ee,Ee,me]+"\\)$"),kn=new RegExp("^hsl\\("+[me,Ee,Ee]+"\\)$"),Wn=new RegExp("^hsla\\("+[me,Ee,Ee,me]+"\\)$"),Dn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Nn(){return this.rgb().formatHex()}function Qn(){return this.rgb().formatRgb()}function ir(ae){var Kt,te;return ae=(ae+"").trim().toLowerCase(),(Kt=Le.exec(ae))?(te=Kt[1].length,Kt=parseInt(Kt[1],16),te===6?hr(Kt):te===3?new Br(Kt>>8&15|Kt>>4&240,Kt>>4&15|240&Kt,(15&Kt)<<4|15&Kt,1):te===8?Er(Kt>>24&255,Kt>>16&255,Kt>>8&255,(255&Kt)/255):te===4?Er(Kt>>12&15|Kt>>8&240,Kt>>8&15|Kt>>4&240,Kt>>4&15|240&Kt,((15&Kt)<<4|15&Kt)/255):null):(Kt=Je.exec(ae))?new Br(Kt[1],Kt[2],Kt[3],1):(Kt=On.exec(ae))?new Br(255*Kt[1]/100,255*Kt[2]/100,255*Kt[3]/100,1):(Kt=gn.exec(ae))?Er(Kt[1],Kt[2],Kt[3],Kt[4]):(Kt=Vn.exec(ae))?Er(255*Kt[1]/100,255*Kt[2]/100,255*Kt[3]/100,Kt[4]):(Kt=kn.exec(ae))?sa(Kt[1],Kt[2]/100,Kt[3]/100,1):(Kt=Wn.exec(ae))?sa(Kt[1],Kt[2]/100,Kt[3]/100,Kt[4]):Dn.hasOwnProperty(ae)?hr(Dn[ae]):ae==="transparent"?new Br(NaN,NaN,NaN,0):null}function hr(ae){return new Br(ae>>16&255,ae>>8&255,255&ae,1)}function Er(ae,Kt,te,Oe){return Oe<=0&&(ae=Kt=te=NaN),new Br(ae,Kt,te,Oe)}function mr(ae){return ae instanceof re||(ae=ir(ae)),ae?new Br((ae=ae.rgb()).r,ae.g,ae.b,ae.opacity):new Br}function dr(ae,Kt,te,Oe){return arguments.length===1?mr(ae):new Br(ae,Kt,te,Oe==null?1:Oe)}function Br(ae,Kt,te,Oe){this.r=+ae,this.g=+Kt,this.b=+te,this.opacity=+Oe}function ii(){return"#"+Pi(this.r)+Pi(this.g)+Pi(this.b)}function mi(){var ae=this.opacity;return((ae=isNaN(ae)?1:Math.max(0,Math.min(1,ae)))===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(ae===1?")":", "+ae+")")}function Pi(ae){return((ae=Math.max(0,Math.min(255,Math.round(ae)||0)))<16?"0":"")+ae.toString(16)}function sa(ae,Kt,te,Oe){return Oe<=0?ae=Kt=te=NaN:te<=0||te>=1?ae=Kt=NaN:Kt<=0&&(ae=NaN),new Mi(ae,Kt,te,Oe)}function Pa(ae){if(ae instanceof Mi)return new Mi(ae.h,ae.s,ae.l,ae.opacity);if(ae instanceof re||(ae=ir(ae)),!ae)return new Mi;if(ae instanceof Mi)return ae;var Kt=(ae=ae.rgb()).r/255,te=ae.g/255,Oe=ae.b/255,Ze=Math.min(Kt,te,Oe),An=Math.max(Kt,te,Oe),qn=NaN,rr=An-Ze,tn=(An+Ze)/2;return rr?(qn=Kt===An?(te-Oe)/rr+6*(te<Oe):te===An?(Oe-Kt)/rr+2:(Kt-te)/rr+4,rr/=tn<.5?An+Ze:2-An-Ze,qn*=60):rr=tn>0&&tn<1?0:qn,new Mi(qn,rr,tn,ae.opacity)}function Mi(ae,Kt,te,Oe){this.h=+ae,this.s=+Kt,this.l=+te,this.opacity=+Oe}function Ki(ae,Kt,te){return 255*(ae<60?Kt+(te-Kt)*ae/60:ae<180?te:ae<240?Kt+(te-Kt)*(240-ae)/60:Kt)}function fa(ae,Kt,te,Oe,Ze){var An=ae*ae,qn=An*ae;return((1-3*ae+3*An-qn)*Kt+(4-6*An+3*qn)*te+(1+3*ae+3*An-3*qn)*Oe+qn*Ze)/6}Vt(re,ir,{copy:function(Kt){return Object.assign(new this.constructor,this,Kt)},displayable:function(){return this.rgb().displayable()},hex:Nn,formatHex:Nn,formatHsl:function(){return Pa(this).formatHsl()},formatRgb:Qn,toString:Qn}),Vt(Br,dr,Ht(re,{brighter:function(Kt){return Kt=Kt==null?1/.7:Math.pow(1/.7,Kt),new Br(this.r*Kt,this.g*Kt,this.b*Kt,this.opacity)},darker:function(Kt){return Kt=Kt==null?.7:Math.pow(.7,Kt),new Br(this.r*Kt,this.g*Kt,this.b*Kt,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ii,formatHex:ii,formatRgb:mi,toString:mi})),Vt(Mi,function(ae,Kt,te,Oe){return arguments.length===1?Pa(ae):new Mi(ae,Kt,te,Oe==null?1:Oe)},Ht(re,{brighter:function(Kt){return Kt=Kt==null?1/.7:Math.pow(1/.7,Kt),new Mi(this.h,this.s,this.l*Kt,this.opacity)},darker:function(Kt){return Kt=Kt==null?.7:Math.pow(.7,Kt),new Mi(this.h,this.s,this.l*Kt,this.opacity)},rgb:function(){var Kt=this.h%360+360*(this.h<0),te=isNaN(Kt)||isNaN(this.s)?0:this.s,Oe=this.l,Ze=Oe+(Oe<.5?Oe:1-Oe)*te,An=2*Oe-Ze;return new Br(Ki(Kt>=240?Kt-240:Kt+120,An,Ze),Ki(Kt,An,Ze),Ki(Kt<120?Kt+240:Kt-120,An,Ze),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Kt=this.opacity;return((Kt=isNaN(Kt)?1:Math.max(0,Math.min(1,Kt)))===1?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(Kt===1?")":", "+Kt+")")}}));var oa=function(Kt){return function(){return Kt}};function pa(ae,Kt){return function(te){return ae+te*Kt}}function La(ae){return(ae=+ae)==1?Yr:function(Kt,te){return te-Kt?function(Oe,Ze,An){return Oe=Math.pow(Oe,An),Ze=Math.pow(Ze,An)-Oe,An=1/An,function(qn){return Math.pow(Oe+qn*Ze,An)}}(Kt,te,ae):oa(isNaN(Kt)?te:Kt)}}function Yr(ae,Kt){var te=Kt-ae;return te?pa(ae,te):oa(isNaN(ae)?Kt:ae)}var Ea=function ae(Kt){var te=La(Kt);function Oe(Ze,An){var qn=te((Ze=dr(Ze)).r,(An=dr(An)).r),rr=te(Ze.g,An.g),tn=te(Ze.b,An.b),sn=Yr(Ze.opacity,An.opacity);return function(un){return Ze.r=qn(un),Ze.g=rr(un),Ze.b=tn(un),Ze.opacity=sn(un),Ze+""}}return Oe.gamma=ae,Oe}(1);function Pr(ae){return function(Kt){var te,Oe,Ze=Kt.length,An=new Array(Ze),qn=new Array(Ze),rr=new Array(Ze);for(te=0;te<Ze;++te)Oe=dr(Kt[te]),An[te]=Oe.r||0,qn[te]=Oe.g||0,rr[te]=Oe.b||0;return An=ae(An),qn=ae(qn),rr=ae(rr),Oe.opacity=1,function(tn){return Oe.r=An(tn),Oe.g=qn(tn),Oe.b=rr(tn),Oe+""}}}Pr(function(ae){var Kt=ae.length-1;return function(te){var Oe=te<=0?te=0:te>=1?(te=1,Kt-1):Math.floor(te*Kt),Ze=ae[Oe],An=ae[Oe+1],qn=Oe>0?ae[Oe-1]:2*Ze-An,rr=Oe<Kt-1?ae[Oe+2]:2*An-Ze;return fa((te-Oe/Kt)*Kt,qn,Ze,An,rr)}}),Pr(function(ae){var Kt=ae.length;return function(te){var Oe=Math.floor(((te%=1)<0?++te:te)*Kt),Ze=ae[(Oe+Kt-1)%Kt],An=ae[Oe%Kt],qn=ae[(Oe+1)%Kt],rr=ae[(Oe+2)%Kt];return fa((te-Oe/Kt)*Kt,Ze,An,qn,rr)}});var si=function(Kt,te){te||(te=[]);var Oe,Ze=Kt?Math.min(te.length,Kt.length):0,An=te.slice();return function(qn){for(Oe=0;Oe<Ze;++Oe)An[Oe]=Kt[Oe]*(1-qn)+te[Oe]*qn;return An}};function ti(ae){return ArrayBuffer.isView(ae)&&!(ae instanceof DataView)}function $r(ae,Kt){var te,Oe=Kt?Kt.length:0,Ze=ae?Math.min(Oe,ae.length):0,An=new Array(Ze),qn=new Array(Oe);for(te=0;te<Ze;++te)An[te]=Bi(ae[te],Kt[te]);for(;te<Oe;++te)qn[te]=Kt[te];return function(rr){for(te=0;te<Ze;++te)qn[te]=An[te](rr);return qn}}var ui=function(Kt,te){var Oe=new Date;return Kt=+Kt,te=+te,function(Ze){return Oe.setTime(Kt*(1-Ze)+te*Ze),Oe}},li=function(Kt,te){return Kt=+Kt,te=+te,function(Oe){return Kt*(1-Oe)+te*Oe}};function xi(ae){return(xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kt){return typeof Kt}:function(Kt){return Kt&&typeof Symbol=="function"&&Kt.constructor===Symbol&&Kt!==Symbol.prototype?"symbol":typeof Kt})(ae)}var Ci=function(Kt,te){var Oe,Ze={},An={};for(Oe in Kt!==null&&xi(Kt)==="object"||(Kt={}),te!==null&&xi(te)==="object"||(te={}),te)Oe in Kt?Ze[Oe]=Bi(Kt[Oe],te[Oe]):An[Oe]=te[Oe];return function(qn){for(Oe in Ze)An[Oe]=Ze[Oe](qn);return An}},di=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ti=new RegExp(di.source,"g"),pi=function(Kt,te){var Oe,Ze,An,qn=di.lastIndex=Ti.lastIndex=0,rr=-1,tn=[],sn=[];for(Kt+="",te+="";(Oe=di.exec(Kt))&&(Ze=Ti.exec(te));)(An=Ze.index)>qn&&(An=te.slice(qn,An),tn[rr]?tn[rr]+=An:tn[++rr]=An),(Oe=Oe[0])===(Ze=Ze[0])?tn[rr]?tn[rr]+=Ze:tn[++rr]=Ze:(tn[++rr]=null,sn.push({i:rr,x:li(Oe,Ze)})),qn=Ti.lastIndex;return qn<te.length&&(An=te.slice(qn),tn[rr]?tn[rr]+=An:tn[++rr]=An),tn.length<2?sn[0]?function(un){return function(ur){return un(ur)+""}}(sn[0].x):function(un){return function(){return un}}(te):(te=sn.length,function(un){for(var ur,jr=0;jr<te;++jr)tn[(ur=sn[jr]).i]=ur.x(un);return tn.join("")})};function Ni(ae){return(Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Kt){return typeof Kt}:function(Kt){return Kt&&typeof Symbol=="function"&&Kt.constructor===Symbol&&Kt!==Symbol.prototype?"symbol":typeof Kt})(ae)}var Bi=function(Kt,te){var Oe,Ze=Ni(te);return te==null||Ze==="boolean"?oa(te):(Ze==="number"?li:Ze==="string"?(Oe=ir(te))?(te=Oe,Ea):pi:te instanceof ir?Ea:te instanceof Date?ui:ti(te)?si:Array.isArray(te)?$r:typeof te.valueOf!="function"&&typeof te.toString!="function"||isNaN(te)?Ci:li)(Kt,te)},Fi=t(51),ma=[1,0,0,0,1,0,0,0,1];function ua(ae,Kt,te){var Oe,Ze=Kt.startTime;if(te<Ze+Kt.delay||Kt._paused)return!1;var An=Kt.duration,qn=Kt.easing;if(te=te-Ze-Kt.delay,Kt.repeat)Oe=te%An/An,Oe=n[qn](Oe);else{if(!((Oe=te/An)<1))return Kt.onFrame?ae.attr(Kt.onFrame(1)):ae.attr(Kt.toAttrs),!0;Oe=n[qn](Oe)}if(Kt.onFrame){var rr=Kt.onFrame(Oe);ae.attr(rr)}else(function(tn,sn,un){var ur={},jr=sn.fromAttrs,wr=sn.toAttrs;if(!tn.destroyed){var yr,ni,_r,Fr;for(var Lr in wr)if(!Object(w.q)(jr[Lr],wr[Lr]))if(Lr==="path"){var Gr=wr[Lr],Hr=jr[Lr];Gr.length>Hr.length?(Gr=Fi.parsePathString(wr[Lr]),Hr=Fi.parsePathString(jr[Lr]),Hr=Fi.fillPathByDiff(Hr,Gr),Hr=Fi.formatPath(Hr,Gr),sn.fromAttrs.path=Hr,sn.toAttrs.path=Gr):sn.pathFormatted||(Gr=Fi.parsePathString(wr[Lr]),Hr=Fi.parsePathString(jr[Lr]),Hr=Fi.formatPath(Hr,Gr),sn.fromAttrs.path=Hr,sn.toAttrs.path=Gr,sn.pathFormatted=!0),ur[Lr]=[];for(var ei=0;ei<Gr.length;ei++){for(var Kr=Gr[ei],Qr=Hr[ei],Oi=[],Ri=0;Ri<Kr.length;Ri++)Object(w.t)(Kr[Ri])&&Qr&&Object(w.t)(Qr[Ri])?(yr=Bi(Qr[Ri],Kr[Ri]),Oi.push(yr(un))):Oi.push(Kr[Ri]);ur[Lr].push(Oi)}}else if(Lr==="matrix"){var Ei=(_r=jr[Lr]||ma,(ti(Fr=wr[Lr]||ma)?si:$r)(_r,Fr))(un);ur[Lr]=Ei}else["fill","stroke","fillStyle","strokeStyle"].includes(Lr)&&(ni=wr[Lr],/^[r,R,L,l]{1}[\s]*\(/.test(ni))?ur[Lr]=wr[Lr]:Object(w.r)(wr[Lr])||(yr=Bi(jr[Lr],wr[Lr]),ur[Lr]=yr(un));tn.attr(ur)}})(ae,Kt,Oe);return!1}var Ra=function(){function ae(Kt){this.animators=[],this.current=0,this.timer=null,this.canvas=Kt}return ae.prototype.initTimer=function(){var Kt,te,Oe,Ze=this;this.timer=$(function(An){if(Ze.current=An,Ze.animators.length>0){for(var qn=Ze.animators.length-1;qn>=0;qn--)if((Kt=Ze.animators[qn]).destroyed)Ze.removeAnimator(qn);else{if(!Kt.isAnimatePaused())for(var rr=(te=Kt.get("animations")).length-1;rr>=0;rr--)Oe=te[rr],ua(Kt,Oe,An)&&(te.splice(rr,1),Oe.callback&&Oe.callback());te.length===0&&Ze.removeAnimator(qn)}Ze.canvas.get("autoDraw")||Ze.canvas.draw()}})},ae.prototype.addAnimator=function(Kt){this.animators.push(Kt)},ae.prototype.removeAnimator=function(Kt){this.animators.splice(Kt,1)},ae.prototype.isAnimating=function(){return!!this.animators.length},ae.prototype.stop=function(){this.timer&&this.timer.stop()},ae.prototype.stopAllAnimations=function(Kt){Kt===void 0&&(Kt=!0),this.animators.forEach(function(te){te.stopAnimate(Kt)}),this.animators=[],this.canvas.draw()},ae.prototype.getTime=function(){return this.current},ae}(),xa=t(114),Ma=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Qi(ae,Kt,te){te.name=Kt,te.target=ae,te.currentTarget=ae,te.delegateTarget=ae,ae.emit(Kt,te)}function ka(ae,Kt,te){if(te.bubbles){var Oe=void 0,Ze=!1;if(Kt==="mouseenter"?(Oe=te.fromShape,Ze=!0):Kt==="mouseleave"&&(Ze=!0,Oe=te.toShape),ae.isCanvas()&&Ze)return;if(Oe&&Object(c.g)(ae,Oe))return void(te.bubbles=!1);te.name=Kt,te.currentTarget=ae,te.delegateTarget=ae,ae.emit(Kt,te)}}var vo=function(){function ae(Kt){var te=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(Oe){var Ze=Oe.type;te._triggerEvent(Ze,Oe)},this._onDocumentMove=function(Oe){if(te.canvas.get("el")!==Oe.target&&(te.dragging||te.currentShape)){var Ze=te._getPointInfo(Oe);te.dragging&&te._emitEvent("drag",Oe,Ze,te.draggingShape)}},this._onDocumentMouseUp=function(Oe){if(te.canvas.get("el")!==Oe.target&&te.dragging){var Ze=te._getPointInfo(Oe);te.draggingShape&&te._emitEvent("drop",Oe,Ze,null),te._emitEvent("dragend",Oe,Ze,te.draggingShape),te._afterDrag(te.draggingShape,Ze,Oe)}},this.canvas=Kt.canvas}return ae.prototype.init=function(){this._bindEvents()},ae.prototype._bindEvents=function(){var Kt=this,te=this.canvas.get("el");Object(c.a)(Ma,function(Oe){te.addEventListener(Oe,Kt._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},ae.prototype._clearEvents=function(){var Kt=this,te=this.canvas.get("el");Object(c.a)(Ma,function(Oe){te.removeEventListener(Oe,Kt._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},ae.prototype._getEventObj=function(Kt,te,Oe,Ze,An,qn){var rr=new xa.a(Kt,te);return rr.fromShape=An,rr.toShape=qn,rr.x=Oe.x,rr.y=Oe.y,rr.clientX=Oe.clientX,rr.clientY=Oe.clientY,rr.propagationPath.push(Ze),rr},ae.prototype._getShape=function(Kt,te){return this.canvas.getShape(Kt.x,Kt.y,te)},ae.prototype._getPointInfo=function(Kt){var te=this.canvas,Oe=te.getClientByEvent(Kt),Ze=te.getPointByEvent(Kt);return{x:Ze.x,y:Ze.y,clientX:Oe.x,clientY:Oe.y}},ae.prototype._triggerEvent=function(Kt,te){var Oe=this._getPointInfo(te),Ze=this._getShape(Oe,te),An=this["_on"+Kt],qn=!1;if(An)An.call(this,Oe,Ze,te);else{var rr=this.currentShape;Kt==="mouseenter"||Kt==="dragenter"||Kt==="mouseover"?(this._emitEvent(Kt,te,Oe,null,null,Ze),Ze&&this._emitEvent(Kt,te,Oe,Ze,null,Ze),Kt==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",te,Oe,null)):Kt==="mouseleave"||Kt==="dragleave"||Kt==="mouseout"?(qn=!0,rr&&this._emitEvent(Kt,te,Oe,rr,rr,null),this._emitEvent(Kt,te,Oe,null,rr,null),Kt==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",te,Oe,null)):this._emitEvent(Kt,te,Oe,Ze,null,null)}if(qn||(this.currentShape=Ze),Ze&&!Ze.get("destroyed")){var tn=this.canvas;tn.get("el").style.cursor=Ze.attr("cursor")||tn.get("cursor")}},ae.prototype._onmousedown=function(Kt,te,Oe){Oe.button===0&&(this.mousedownShape=te,this.mousedownPoint=Kt,this.mousedownTimeStamp=Oe.timeStamp),this._emitEvent("mousedown",Oe,Kt,te,null,null)},ae.prototype._emitMouseoverEvents=function(Kt,te,Oe,Ze){var An=this.canvas.get("el");Oe!==Ze&&(Oe&&(this._emitEvent("mouseout",Kt,te,Oe,Oe,Ze),this._emitEvent("mouseleave",Kt,te,Oe,Oe,Ze),Ze&&!Ze.get("destroyed")||(An.style.cursor=this.canvas.get("cursor"))),Ze&&(this._emitEvent("mouseover",Kt,te,Ze,Oe,Ze),this._emitEvent("mouseenter",Kt,te,Ze,Oe,Ze)))},ae.prototype._emitDragoverEvents=function(Kt,te,Oe,Ze,An){Ze?(Ze!==Oe&&(Oe&&this._emitEvent("dragleave",Kt,te,Oe,Oe,Ze),this._emitEvent("dragenter",Kt,te,Ze,Oe,Ze)),An||this._emitEvent("dragover",Kt,te,Ze)):Oe&&this._emitEvent("dragleave",Kt,te,Oe,Oe,Ze),An&&this._emitEvent("dragover",Kt,te,Ze)},ae.prototype._afterDrag=function(Kt,te,Oe){Kt&&(Kt.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Ze=this._getShape(te,Oe);Ze!==Kt&&this._emitMouseoverEvents(Oe,te,Kt,Ze),this.currentShape=Ze},ae.prototype._onmouseup=function(Kt,te,Oe){if(Oe.button===0){var Ze=this.draggingShape;this.dragging?(Ze&&this._emitEvent("drop",Oe,Kt,te),this._emitEvent("dragend",Oe,Kt,Ze),this._afterDrag(Ze,Kt,Oe)):(this._emitEvent("mouseup",Oe,Kt,te),te===this.mousedownShape&&this._emitEvent("click",Oe,Kt,te),this.mousedownShape=null,this.mousedownPoint=null)}},ae.prototype._ondragover=function(Kt,te,Oe){Oe.preventDefault();var Ze=this.currentShape;this._emitDragoverEvents(Oe,Kt,Ze,te,!0)},ae.prototype._onmousemove=function(Kt,te,Oe){var Ze=this.canvas,An=this.currentShape,qn=this.draggingShape;if(this.dragging)qn&&this._emitDragoverEvents(Oe,Kt,An,te,!1),this._emitEvent("drag",Oe,Kt,qn);else{var rr=this.mousedownPoint;if(rr){var tn=this.mousedownShape,sn=Oe.timeStamp-this.mousedownTimeStamp,un=rr.clientX-Kt.clientX,ur=rr.clientY-Kt.clientY;sn>120||un*un+ur*ur>40?tn&&tn.get("draggable")?((qn=this.mousedownShape).set("capture",!1),this.draggingShape=qn,this.dragging=!0,this._emitEvent("dragstart",Oe,Kt,qn),this.mousedownShape=null,this.mousedownPoint=null):!tn&&Ze.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",Oe,Kt,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(Oe,Kt,An,te),this._emitEvent("mousemove",Oe,Kt,te)):(this._emitMouseoverEvents(Oe,Kt,An,te),this._emitEvent("mousemove",Oe,Kt,te))}else this._emitMouseoverEvents(Oe,Kt,An,te),this._emitEvent("mousemove",Oe,Kt,te)}},ae.prototype._emitEvent=function(Kt,te,Oe,Ze,An,qn){var rr=this._getEventObj(Kt,te,Oe,Ze,An,qn);if(Ze){rr.shape=Ze,Qi(Ze,Kt,rr);for(var tn=Ze.getParent();tn;)tn.emitDelegation(Kt,rr),rr.propagationStopped||ka(tn,Kt,rr),rr.propagationPath.push(tn),tn=tn.getParent()}else Qi(this.canvas,Kt,rr)},ae.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},ae}(),za=Object(g.a)(),Ga=za&&za.name==="firefox",eo=function(ae){function Kt(te){var Oe=ae.call(this,te)||this;return Oe.initContainer(),Oe.initDom(),Oe.initEvents(),Oe.initTimeline(),Oe}return Object(u.b)(Kt,ae),Kt.prototype.getDefaultCfg=function(){var te=ae.prototype.getDefaultCfg.call(this);return te.cursor="default",te.supportCSSTransform=!1,te},Kt.prototype.initContainer=function(){var te=this.get("container");Object(c.h)(te)&&(te=document.getElementById(te),this.set("container",te))},Kt.prototype.initDom=function(){var te=this.createDom();this.set("el",te),this.get("container").appendChild(te),this.setDOMSize(this.get("width"),this.get("height"))},Kt.prototype.initEvents=function(){var te=new vo({canvas:this});te.init(),this.set("eventController",te)},Kt.prototype.initTimeline=function(){var te=new Ra(this);this.set("timeline",te)},Kt.prototype.setDOMSize=function(te,Oe){var Ze=this.get("el");c.c&&(Ze.style.width=te+"px",Ze.style.height=Oe+"px")},Kt.prototype.changeSize=function(te,Oe){this.setDOMSize(te,Oe),this.set("width",te),this.set("height",Oe),this.onCanvasChange("changeSize")},Kt.prototype.getRenderer=function(){return this.get("renderer")},Kt.prototype.getCursor=function(){return this.get("cursor")},Kt.prototype.setCursor=function(te){this.set("cursor",te);var Oe=this.get("el");c.c&&Oe&&(Oe.style.cursor=te)},Kt.prototype.getPointByEvent=function(te){if(this.get("supportCSSTransform")){if(Ga&&!Object(c.e)(te.layerX)&&te.layerX!==te.offsetX)return{x:te.layerX,y:te.layerY};if(!Object(c.e)(te.offsetX))return{x:te.offsetX,y:te.offsetY}}var Oe=this.getClientByEvent(te),Ze=Oe.x,An=Oe.y;return this.getPointByClient(Ze,An)},Kt.prototype.getClientByEvent=function(te){var Oe=te;return te.touches&&(Oe=te.type==="touchend"?te.changedTouches[0]:te.touches[0]),{x:Oe.clientX,y:Oe.clientY}},Kt.prototype.getPointByClient=function(te,Oe){var Ze=this.get("el").getBoundingClientRect();return{x:te-Ze.left,y:Oe-Ze.top}},Kt.prototype.getClientByPoint=function(te,Oe){var Ze=this.get("el").getBoundingClientRect();return{x:te+Ze.left,y:Oe+Ze.top}},Kt.prototype.draw=function(){},Kt.prototype.removeDom=function(){var te=this.get("el");te.parentNode.removeChild(te)},Kt.prototype.clearEvents=function(){this.get("eventController").destroy()},Kt.prototype.isCanvas=function(){return!0},Kt.prototype.getParent=function(){return null},Kt.prototype.destroy=function(){var te=this.get("timeline");this.get("destroyed")||(this.clear(),te&&te.stop(),this.clearEvents(),this.removeDom(),ae.prototype.destroy.call(this))},Kt}(x.a);b.a=eo},function(i,b,t){"use strict";t.d(b,"a",function(){return g});var n=new Map;function u(S,A){n.set(S,A)}function g(S){return n.get(S)}var x=function(A){var f=A.attr();return{x:f.x,y:f.y,width:f.width,height:f.height}},c=function(A){var f=A.attr(),O=f.x,j=f.y,D=f.r;return{x:O-D,y:j-D,width:2*D,height:2*D}},w=t(20);function I(S,A){return S&&A?{minX:Math.min(S.minX,A.minX),minY:Math.min(S.minY,A.minY),maxX:Math.max(S.maxX,A.maxX),maxY:Math.max(S.maxY,A.maxY)}:S||A}function m(S,A){var f=S.get("startArrowShape"),O=S.get("endArrowShape");return f&&(A=I(A,f.getCanvasBBox())),O&&(A=I(A,O.getCanvasBBox())),A}var r=t(68),s=t(31),d=t(0);function C(S,A){var f=S.prePoint,O=S.currentPoint,j=S.nextPoint,D=Math.pow(O[0]-f[0],2)+Math.pow(O[1]-f[1],2),V=Math.pow(O[0]-j[0],2)+Math.pow(O[1]-j[1],2),H=Math.pow(f[0]-j[0],2)+Math.pow(f[1]-j[1],2),$=Math.acos((D+V-H)/(2*Math.sqrt(D)*Math.sqrt(V)));if(!$||Math.sin($)===0||Object(d.u)($,0))return{xExtra:0,yExtra:0};var dt=Math.abs(Math.atan2(j[1]-O[1],j[0]-O[0])),Z=Math.abs(Math.atan2(j[0]-O[0],j[1]-O[1]));return dt=dt>Math.PI/2?Math.PI-dt:dt,Z=Z>Math.PI/2?Math.PI-Z:Z,{xExtra:Math.cos($/2-dt)*(A/2*(1/Math.sin($/2)))-A/2||0,yExtra:Math.cos(Z-$/2)*(A/2*(1/Math.sin($/2)))-A/2||0}}u("rect",x),u("image",x),u("circle",c),u("marker",c),u("polyline",function(S){for(var A=S.attr().points,f=[],O=[],j=0;j<A.length;j++){var D=A[j];f.push(D[0]),O.push(D[1])}var V=w.f.getBBoxByArray(f,O),H=V.x,$=V.y,dt={minX:H,minY:$,maxX:H+V.width,maxY:$+V.height};return{x:(dt=m(S,dt)).minX,y:dt.minY,width:dt.maxX-dt.minX,height:dt.maxY-dt.minY}}),u("polygon",function(S){for(var A=S.attr().points,f=[],O=[],j=0;j<A.length;j++){var D=A[j];f.push(D[0]),O.push(D[1])}return w.f.getBBoxByArray(f,O)}),u("text",function(S){var A=S.attr(),f=A.x,O=A.y,j=A.text,D=A.fontSize,V=A.lineHeight,H=A.font;H||(H=Object(r.a)(A));var $,dt=Object(r.c)(j,H);if(dt){var Z=A.textAlign,ct=A.textBaseline,pt=Object(r.b)(j,D,V),gt={x:f,y:O-pt};Z&&(Z==="end"||Z==="right"?gt.x-=dt:Z==="center"&&(gt.x-=dt/2)),ct&&(ct==="top"?gt.y+=pt:ct==="middle"&&(gt.y+=pt/2)),$={x:gt.x,y:gt.y,width:dt,height:pt}}else $={x:f,y:O,width:0,height:0};return $}),u("path",function(S){var A=S.attr(),f=A.path,O=A.stroke?A.lineWidth:0,j=function($,dt){for(var Z=[],ct=[],pt=[],gt=0;gt<$.length;gt++){var at=(J=$[gt]).currentPoint,Bt=J.params,Lt=J.prePoint,Et=void 0;switch(J.command){case"Q":Et=w.e.box(Lt[0],Lt[1],Bt[1],Bt[2],Bt[3],Bt[4]);break;case"C":Et=w.b.box(Lt[0],Lt[1],Bt[1],Bt[2],Bt[3],Bt[4],Bt[5],Bt[6]);break;case"A":var K=J.arcParams;Et=w.a.box(K.cx,K.cy,K.rx,K.ry,K.xRotation,K.startAngle,K.endAngle);break;default:Z.push(at[0]),ct.push(at[1])}Et&&(J.box=Et,Z.push(Et.x,Et.x+Et.width),ct.push(Et.y,Et.y+Et.height)),dt&&(J.command==="L"||J.command==="M")&&J.prePoint&&J.nextPoint&&pt.push(J)}Z=Z.filter(function(lt){return!Number.isNaN(lt)}),ct=ct.filter(function(lt){return!Number.isNaN(lt)});var ft=Math.min.apply(null,Z),mt=Math.min.apply(null,ct),yt=Math.max.apply(null,Z),wt=Math.max.apply(null,ct);if(pt.length===0)return{x:ft,y:mt,width:yt-ft,height:wt-mt};for(gt=0;gt<pt.length;gt++){var J;(at=(J=pt[gt]).currentPoint)[0]===ft?ft-=C(J,dt).xExtra:at[0]===yt&&(yt+=C(J,dt).xExtra),at[1]===mt?mt-=C(J,dt).yExtra:at[1]===wt&&(wt+=C(J,dt).yExtra)}return{x:ft,y:mt,width:yt-ft,height:wt-mt}}(S.get("segments")||Object(s.d)(f),O),D=j.x,V=j.y,H={minX:D,minY:V,maxX:D+j.width,maxY:V+j.height};return{x:(H=m(S,H)).minX,y:H.minY,width:H.maxX-H.minX,height:H.maxY-H.minY}}),u("line",function(S){var A=S.attr(),f=A.x1,O=A.y1,j=A.x2,D=A.y2,V={minX:Math.min(f,j),maxX:Math.max(f,j),minY:Math.min(O,D),maxY:Math.max(O,D)};return{x:(V=m(S,V)).minX,y:V.minY,width:V.maxX-V.minX,height:V.maxY-V.minY}}),u("ellipse",function(S){var A=S.attr(),f=A.x,O=A.y,j=A.rx,D=A.ry;return{x:f-j,y:O-D,width:2*j,height:2*D}})},function(i,b,t){"use strict";var n=t(1),u=t(18),g=t(16),x=t(70),c=t(36),w=t(22),I=t(78),m=t(77),r=t(0),s=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,d=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,C=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function S(ct){var pt=ct.match(C);if(!pt)return"";var gt="";return pt.sort(function(at,Bt){return at=at.split(":"),Bt=Bt.split(":"),Number(at[0])-Number(Bt[0])}),Object(r.f)(pt,function(at){at=at.split(":"),gt+='<stop offset="'+at[0]+'" stop-color="'+at[1]+'"></stop>'}),gt}var A=function(){function ct(pt){this.cfg={};var gt=null,at=Object(r.H)("gradient_");return pt.toLowerCase()[0]==="l"?function(Bt,Lt){var Et,K,ft=s.exec(Bt),mt=Object(r.B)(Object(r.G)(parseFloat(ft[1])),2*Math.PI),yt=ft[2];mt>=0&&mt<.5*Math.PI?(Et={x:0,y:0},K={x:1,y:1}):.5*Math.PI<=mt&&mt<Math.PI?(Et={x:1,y:0},K={x:0,y:1}):Math.PI<=mt&&mt<1.5*Math.PI?(Et={x:1,y:1},K={x:0,y:0}):(Et={x:0,y:1},K={x:1,y:0});var wt=Math.tan(mt),J=wt*wt,lt=(K.x-Et.x+wt*(K.y-Et.y))/(J+1)+Et.x,it=wt*(K.x-Et.x+wt*(K.y-Et.y))/(J+1)+Et.y;Lt.setAttribute("x1",Et.x),Lt.setAttribute("y1",Et.y),Lt.setAttribute("x2",lt),Lt.setAttribute("y2",it),Lt.innerHTML=S(yt)}(pt,gt=Object(w.b)("linearGradient")):function(Bt,Lt){var Et=d.exec(Bt),K=parseFloat(Et[1]),ft=parseFloat(Et[2]),mt=parseFloat(Et[3]),yt=Et[4];Lt.setAttribute("cx",K),Lt.setAttribute("cy",ft),Lt.setAttribute("r",mt),Lt.innerHTML=S(yt)}(pt,gt=Object(w.b)("radialGradient")),gt.setAttribute("id",at),this.el=gt,this.id=at,this.cfg=pt,this}return ct.prototype.match=function(pt,gt){return this.cfg===gt},ct}(),f={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},O={x:"-40%",y:"-40%",width:"200%",height:"200%"},j=function(){function ct(pt){this.type="filter",this.cfg={},this.type="filter";var gt=Object(w.b)("filter");return Object(r.f)(O,function(at,Bt){gt.setAttribute(Bt,at)}),this.el=gt,this.id=Object(r.H)("filter_"),this.el.id=this.id,this.cfg=pt,this._parseShadow(pt,gt),this}return ct.prototype.match=function(pt,gt){if(this.type!==pt)return!1;var at=!0,Bt=this.cfg;return Object(r.f)(Object.keys(Bt),function(Lt){if(Bt[Lt]!==gt[Lt])return at=!1,!1}),at},ct.prototype.update=function(pt,gt){var at=this.cfg;return at[f[pt]]=gt,this._parseShadow(at,this.el),this},ct.prototype._parseShadow=function(pt,gt){var at=`<feDropShadow
      dx="`+(pt.dx||0)+`"
      dy="`+(pt.dy||0)+`"
      stdDeviation="`+(pt.blur?pt.blur/10:0)+`"
      flood-color="`+(pt.color?pt.color:"#000")+`"
      flood-opacity="`+(pt.opacity?pt.opacity:1)+`"
      />`;gt.innerHTML=at},ct}(),D=function(){function ct(pt,gt){this.cfg={};var at=Object(w.b)("marker"),Bt=Object(r.H)("marker_");at.setAttribute("id",Bt);var Lt=Object(w.b)("path");Lt.setAttribute("stroke",pt.stroke||"none"),Lt.setAttribute("fill",pt.fill||"none"),at.appendChild(Lt),at.setAttribute("overflow","visible"),at.setAttribute("orient","auto-start-reverse"),this.el=at,this.child=Lt,this.id=Bt;var Et=pt[gt==="marker-start"?"startArrow":"endArrow"];return this.stroke=pt.stroke||"#000",Et===!0?this._setDefaultPath(gt,Lt):(this.cfg=Et,this._setMarker(pt.lineWidth,Lt)),this}return ct.prototype.match=function(){return!1},ct.prototype._setDefaultPath=function(pt,gt){var at=this.el;gt.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),at.setAttribute("refX",""+10*Math.cos(Math.PI/6)),at.setAttribute("refY","5")},ct.prototype._setMarker=function(pt,gt){var at=this.el,Bt=this.cfg.path,Lt=this.cfg.d;Object(r.m)(Bt)&&(Bt=Bt.map(function(Et){return Et.join(" ")}).join("")),gt.setAttribute("d",Bt),at.appendChild(gt),Lt&&at.setAttribute("refX",""+Lt/pt)},ct.prototype.update=function(pt){var gt=this.child;gt.attr?gt.attr("fill",pt):gt.setAttribute("fill",pt)},ct}(),V=function(){function ct(pt){this.type="clip",this.cfg={};var gt=Object(w.b)("clipPath");this.el=gt,this.id=Object(r.H)("clip_"),gt.id=this.id;var at=pt.cfg.el;return gt.appendChild(at),this.cfg=pt,this}return ct.prototype.match=function(){return!1},ct.prototype.remove=function(){var pt=this.el;pt.parentNode.removeChild(pt)},ct}(),H=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,$=function(){function ct(pt){this.cfg={};var gt=Object(w.b)("pattern");gt.setAttribute("patternUnits","userSpaceOnUse");var at=Object(w.b)("image");gt.appendChild(at);var Bt=Object(r.H)("pattern_");gt.id=Bt,this.el=gt,this.id=Bt,this.cfg=pt;var Lt=H.exec(pt)[2];at.setAttribute("href",Lt);var Et=new Image;function K(){gt.setAttribute("width",""+Et.width),gt.setAttribute("height",""+Et.height)}return Lt.match(/^data:/i)||(Et.crossOrigin="Anonymous"),Et.src=Lt,Et.complete?K():(Et.onload=K,Et.src=Et.src),this}return ct.prototype.match=function(pt,gt){return this.cfg===gt},ct}(),dt=function(){function ct(pt){var gt=Object(w.b)("defs"),at=Object(r.H)("defs_");gt.id=at,pt.appendChild(gt),this.children=[],this.defaultArrow={},this.el=gt,this.canvas=pt}return ct.prototype.find=function(pt,gt){for(var at=this.children,Bt=null,Lt=0;Lt<at.length;Lt++)if(at[Lt].match(pt,gt)){Bt=at[Lt].id;break}return Bt},ct.prototype.findById=function(pt){for(var gt=this.children,at=null,Bt=0;Bt<gt.length;Bt++)if(gt[Bt].id===pt){at=gt[Bt];break}return at},ct.prototype.add=function(pt){this.children.push(pt),pt.canvas=this.canvas,pt.parent=this},ct.prototype.getDefaultArrow=function(pt,gt){var at=pt.stroke||pt.strokeStyle;if(this.defaultArrow[at])return this.defaultArrow[at].id;var Bt=new D(pt,gt);return this.defaultArrow[at]=Bt,this.el.appendChild(Bt.el),this.add(Bt),Bt.id},ct.prototype.addGradient=function(pt){var gt=new A(pt);return this.el.appendChild(gt.el),this.add(gt),gt.id},ct.prototype.addArrow=function(pt,gt){var at=new D(pt,gt);return this.el.appendChild(at.el),this.add(at),at.id},ct.prototype.addShadow=function(pt){var gt=new j(pt);return this.el.appendChild(gt.el),this.add(gt),gt.id},ct.prototype.addPattern=function(pt){var gt=new $(pt);return this.el.appendChild(gt.el),this.add(gt),gt.id},ct.prototype.addClip=function(pt){var gt=new V(pt);return this.el.appendChild(gt.el),this.add(gt),gt.id},ct}(),Z=function(ct){function pt(gt){return ct.call(this,Object(n.a)(Object(n.a)({},gt),{autoDraw:!0,renderer:"svg"}))||this}return Object(n.b)(pt,ct),pt.prototype.getShapeBase=function(){return I},pt.prototype.getGroupBase=function(){return m.a},pt.prototype.getShape=function(gt,at,Bt){var Lt=Bt.target||Bt.srcElement;if(!g.a[Lt.tagName]){for(var Et=Lt.parentNode;Et&&!g.a[Et.tagName];)Et=Et.parentNode;Lt=Et}return this.find(function(K){return K.get("el")===Lt})},pt.prototype.createDom=function(){var gt=Object(w.b)("svg"),at=new dt(gt);return gt.setAttribute("width",""+this.get("width")),gt.setAttribute("height",""+this.get("height")),this.set("context",at),gt},pt.prototype.onCanvasChange=function(gt){var at=this.get("context"),Bt=this.get("el");if(gt==="sort"){var Lt=this.get("children");Lt&&Lt.length&&Object(w.d)(this,function(K,ft){return Lt.indexOf(K)-Lt.indexOf(ft)?1:0})}else if(gt==="clear"){if(Bt){Bt.innerHTML="";var Et=at.el;Et.innerHTML="",Bt.appendChild(Et)}}else gt==="matrix"?Object(c.c)(this):gt==="clip"?Object(c.a)(this,at):gt==="changeSize"&&(Bt.setAttribute("width",""+this.get("width")),Bt.setAttribute("height",""+this.get("height")))},pt.prototype.draw=function(){var gt=this.get("context"),at=this.getChildren();Object(c.a)(this,gt),at.length&&Object(x.a)(gt,at)},pt}(u.AbstractCanvas);b.a=Z},function(i,b,t){"use strict";var n=t(1),u=t(18);function g(s,d,C){var S=s.getTotalMatrix();if(S){var A=function(f,O){if(O){var j=Object(u.invert)(O);return Object(u.multiplyVec2)(j,f)}return f}([d,C,1],S);return[A[0],A[1]]}return[d,C]}function x(s,d,C){if(s.isCanvas&&s.isCanvas())return!0;if(!Object(u.isAllowCapture)(s)||s.cfg.isInView===!1)return!1;if(s.cfg.clipShape){var S=g(s,d,C),A=S[0],f=S[1];if(s.isClipped(A,f))return!1}var O=s.cfg.cacheCanvasBBox||s.getCanvasBBox();return d>=O.minX&&d<=O.maxX&&C>=O.minY&&C<=O.maxY}var c=t(56),w=t(76),I=t(17),m=t(29),r=function(s){function d(){return s!==null&&s.apply(this,arguments)||this}return Object(n.b)(d,s),d.prototype.getDefaultCfg=function(){var C=s.prototype.getDefaultCfg.call(this);return C.renderer="canvas",C.autoDraw=!0,C.localRefresh=!0,C.refreshElements=[],C.clipView=!0,C.quickHit=!1,C},d.prototype.onCanvasChange=function(C){C!=="attr"&&C!=="sort"&&C!=="changeSize"||(this.set("refreshElements",[this]),this.draw())},d.prototype.getShapeBase=function(){return c},d.prototype.getGroupBase=function(){return w.a},d.prototype.getPixelRatio=function(){var C=this.get("pixelRatio")||Object(I.d)();return C>=1?Math.ceil(C):1},d.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},d.prototype.createDom=function(){var C=document.createElement("canvas"),S=C.getContext("2d");return this.set("context",S),C},d.prototype.setDOMSize=function(C,S){s.prototype.setDOMSize.call(this,C,S);var A=this.get("context"),f=this.get("el"),O=this.getPixelRatio();f.width=O*C,f.height=O*S,O>1&&A.scale(O,O)},d.prototype.clear=function(){s.prototype.clear.call(this),this._clearFrame();var C=this.get("context"),S=this.get("el");C.clearRect(0,0,S.width,S.height)},d.prototype.getShape=function(C,S){return this.get("quickHit")?function A(f,O,j){if(!x(f,O,j))return null;for(var D=null,V=f.getChildren(),H=V.length-1;H>=0;H--){var $=V[H];if($.isGroup())D=A($,O,j);else if(x($,O,j)){var dt=$,Z=g($,O,j),ct=Z[0],pt=Z[1];dt.isInShape(ct,pt)&&(D=$)}if(D)break}return D}(this,C,S):s.prototype.getShape.call(this,C,S,null)},d.prototype._getRefreshRegion=function(){var C,S=this.get("refreshElements"),A=this.getViewRange();return S.length&&S[0]===this?C=A:(C=Object(m.f)(S))&&(C.minX=Math.floor(C.minX),C.minY=Math.floor(C.minY),C.maxX=Math.ceil(C.maxX),C.maxY=Math.ceil(C.maxY),C.maxY+=1,this.get("clipView")&&(C=Object(m.g)(C,A))),C},d.prototype.refreshElement=function(C){this.get("refreshElements").push(C)},d.prototype._clearFrame=function(){var C=this.get("drawFrame");C&&(Object(I.a)(C),this.set("drawFrame",null),this.set("refreshElements",[]))},d.prototype.draw=function(){var C=this.get("drawFrame");this.get("autoDraw")&&C||this._startDraw()},d.prototype._drawAll=function(){var C=this.get("context"),S=this.get("el"),A=this.getChildren();C.clearRect(0,0,S.width,S.height),Object(m.a)(C,this),Object(m.d)(C,A),this.set("refreshElements",[])},d.prototype._drawRegion=function(){var C=this.get("context"),S=this.get("refreshElements"),A=this.getChildren(),f=this._getRefreshRegion();f?(C.clearRect(f.minX,f.minY,f.maxX-f.minX,f.maxY-f.minY),C.save(),C.beginPath(),C.rect(f.minX,f.minY,f.maxX-f.minX,f.maxY-f.minY),C.clip(),Object(m.a)(C,this),Object(m.b)(this,A,f),Object(m.d)(C,A,f),C.restore()):S.length&&Object(m.c)(S),Object(I.c)(S,function(O){O.get("hasChanged")&&O.set("hasChanged",!1)}),this.set("refreshElements",[])},d.prototype._startDraw=function(){var C=this,S=this.get("drawFrame");S||(S=Object(I.n)(function(){C.get("localRefresh")?C._drawRegion():C._drawAll(),C.set("drawFrame",null)}),this.set("drawFrame",S))},d.prototype.skipDraw=function(){},d}(u.AbstractCanvas);b.a=r},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var n=t(473);b.default=function(u,g){return g===void 0&&(g=!0),{lazyInject:n.makePropertyInjectDecorator(u,g),lazyInjectNamed:n.makePropertyInjectNamedDecorator(u,g),lazyInjectTagged:n.makePropertyInjectTaggedDecorator(u,g),lazyMultiInject:n.makePropertyMultiInjectDecorator(u,g)}}},function(i,b,t){var n=t(202);i.exports=function(u){return u&&u.length?n(u):[]}},function(i,b,t){var n,u,g;function x(c){return(x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(c)}g=function(){"use strict";var w=function(sn){return sn instanceof Uint8Array||sn instanceof Uint16Array||sn instanceof Uint32Array||sn instanceof Int8Array||sn instanceof Int16Array||sn instanceof Int32Array||sn instanceof Float32Array||sn instanceof Float64Array||sn instanceof Uint8ClampedArray},I=function(sn,un){for(var ur=Object.keys(un),jr=0;jr<ur.length;++jr)sn[ur[jr]]=un[ur[jr]];return sn};function m(tn){var sn=new Error("(regl) "+tn);throw console.error(sn),sn}function r(tn,sn){tn||m(sn)}function s(tn){return tn?": "+tn:""}function d(tn,sn){switch(sn){case"number":return typeof tn=="number";case"object":return x(tn)==="object";case"string":return typeof tn=="string";case"boolean":return typeof tn=="boolean";case"function":return typeof tn=="function";case"undefined":return tn===void 0;case"symbol":return x(tn)==="symbol"}}function C(tn,sn,un){sn.indexOf(tn)<0&&m("invalid value"+s(un)+". must be one of: "+sn)}var S=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function A(tn,sn){for(tn+="";tn.length<sn;)tn=" "+tn;return tn}function f(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function O(tn,sn){this.number=tn,this.line=sn,this.errors=[]}function j(tn,sn,un){this.file=tn,this.line=sn,this.message=un}function D(){var tn=new Error,sn=(tn.stack||tn).toString(),un=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(sn);if(un)return un[1];var ur=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(sn);return ur?ur[1]:"unknown"}function V(){var tn=new Error,sn=(tn.stack||tn).toString(),un=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(sn);if(un)return un[1];var ur=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(sn);return ur?ur[1]:"unknown"}function H(tn,sn){var un,ur=tn.split(`
`),jr=1,wr=0,yr={unknown:new f,0:new f};yr.unknown.name=yr[0].name=sn||D(),yr.unknown.lines.push(new O(0,""));for(var ni=0;ni<ur.length;++ni){var _r=ur[ni],Fr=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(_r);if(Fr)switch(Fr[1]){case"line":var Lr=/(\d+)(\s+\d+)?/.exec(Fr[2]);Lr&&(jr=0|Lr[1],Lr[2]&&((wr=0|Lr[2])in yr||(yr[wr]=new f)));break;case"define":var Gr=/SHADER_NAME(_B64)?\s+(.*)$/.exec(Fr[2]);Gr&&(yr[wr].name=Gr[1]?(un=Gr[2],typeof atob!="undefined"?atob(un):"base64:"+un):Gr[2])}yr[wr].lines.push(new O(jr++,_r))}return Object.keys(yr).forEach(function(Hr){var ei=yr[Hr];ei.lines.forEach(function(Kr){ei.index[Kr.number]=Kr})}),yr}function $(tn){tn._commandRef=D()}function dt(tn,sn){var un=V();m(tn+" in command "+(sn||D())+(un==="unknown"?"":" called from "+un))}function Z(tn,sn,un,ur){d(tn,sn)||dt("invalid parameter type"+s(un)+". expected "+sn+", got "+x(tn),ur||D())}var ct={};function pt(tn,sn){return tn===32820||tn===32819||tn===33635?2:tn===34042?4:ct[tn]*sn}function gt(tn){return!(tn&tn-1||!tn)}ct[5120]=ct[5121]=1,ct[5122]=ct[5123]=ct[36193]=ct[33635]=ct[32819]=ct[32820]=2,ct[5124]=ct[5125]=ct[5126]=ct[34042]=4;var at=I(r,{optional:function(sn){sn()},raise:m,commandRaise:dt,command:function(sn,un,ur){sn||dt(un,ur||D())},parameter:function(sn,un,ur){sn in un||m("unknown parameter ("+sn+")"+s(ur)+". possible values: "+Object.keys(un).join())},commandParameter:function(sn,un,ur,jr){sn in un||dt("unknown parameter ("+sn+")"+s(ur)+". possible values: "+Object.keys(un).join(),jr||D())},constructor:function(sn){Object.keys(sn).forEach(function(un){S.indexOf(un)<0&&m('invalid regl constructor argument "'+un+'". must be one of '+S)})},type:function(sn,un,ur){d(sn,un)||m("invalid parameter type"+s(ur)+". expected "+un+", got "+x(sn))},commandType:Z,isTypedArray:function(sn,un){w(sn)||m("invalid parameter type"+s(un)+". must be a typed array")},nni:function(sn,un){sn>=0&&(0|sn)===sn||m("invalid parameter type, ("+sn+")"+s(un)+". must be a nonnegative integer")},oneOf:C,shaderError:function(sn,un,ur,jr,wr){if(!sn.getShaderParameter(un,sn.COMPILE_STATUS)){var yr=sn.getShaderInfoLog(un),ni=jr===sn.FRAGMENT_SHADER?"fragment":"vertex";Z(ur,"string",ni+" shader source must be a string",wr);var _r=H(ur,wr),Fr=function(Lr){var Gr=[];return Lr.split(`
`).forEach(function(Hr){if(!(Hr.length<5)){var ei=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(Hr);ei?Gr.push(new j(0|ei[1],0|ei[2],ei[3].trim())):Hr.length>0&&Gr.push(new j("unknown",0,Hr))}}),Gr}(yr);(function(Lr,Gr){Gr.forEach(function(Hr){var ei=Lr[Hr.file];if(ei){var Kr=ei.index[Hr.line];if(Kr)return Kr.errors.push(Hr),void(ei.hasErrors=!0)}Lr.unknown.hasErrors=!0,Lr.unknown.lines[0].errors.push(Hr)})})(_r,Fr),Object.keys(_r).forEach(function(Lr){var Gr=_r[Lr];if(Gr.hasErrors){var Hr=[""],ei=[""];Kr("file number "+Lr+": "+Gr.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),Gr.lines.forEach(function(Qr){if(Qr.errors.length>0){Kr(A(Qr.number,4)+"|  ","background-color:yellow; font-weight:bold"),Kr(Qr.line+`
`,"color:red; background-color:yellow; font-weight:bold");var Oi=0;Qr.errors.forEach(function(Ri){var Ei=Ri.message,Gi=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Ei);if(Gi){var ca=Gi[1];switch(Ei=Gi[2],ca){case"assign":ca="="}Oi=Math.max(Qr.line.indexOf(ca,Oi),0)}else Oi=0;Kr(A("| ",6)),Kr(A("^^^",Oi+3)+`
`,"font-weight:bold"),Kr(A("| ",6)),Kr(Ei+`
`,"font-weight:bold")}),Kr(A("| ",6)+`
`)}else Kr(A(Qr.number,4)+"|  "),Kr(Qr.line+`
`,"color:red")}),typeof document=="undefined"||window.chrome?console.log(Hr.join("")):(ei[0]=Hr.join("%c"),console.log.apply(console,ei))}function Kr(Qr,Oi){Hr.push(Qr),ei.push(Oi||"")}}),r.raise("Error compiling "+ni+" shader, "+_r[0].name)}},linkError:function(sn,un,ur,jr,wr){if(!sn.getProgramParameter(un,sn.LINK_STATUS)){var yr=sn.getProgramInfoLog(un),ni=H(ur,wr),_r='Error linking program with vertex shader, "'+H(jr,wr)[0].name+'", and fragment shader "'+ni[0].name+'"';typeof document!="undefined"?console.log("%c"+_r+`
%c`+yr,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(_r+`
`+yr),r.raise(_r)}},callSite:V,saveCommandRef:$,saveDrawInfo:function(sn,un,ur,jr){function wr(Fr){return Fr?jr.id(Fr):0}function yr(Fr,Lr){Object.keys(Lr).forEach(function(Gr){Fr[jr.id(Gr)]=!0})}$(sn),sn._fragId=wr(sn.static.frag),sn._vertId=wr(sn.static.vert);var ni=sn._uniformSet={};yr(ni,un.static),yr(ni,un.dynamic);var _r=sn._attributeSet={};yr(_r,ur.static),yr(_r,ur.dynamic),sn._hasCount="count"in sn.static||"count"in sn.dynamic||"elements"in sn.static||"elements"in sn.dynamic},framebufferFormat:function(sn,un,ur){sn.texture?C(sn.texture._texture.internalformat,un,"unsupported texture format for attachment"):C(sn.renderbuffer._renderbuffer.format,ur,"unsupported renderbuffer format for attachment")},guessCommand:D,texture2D:function(sn,un,ur){var jr,wr=un.width,yr=un.height,ni=un.channels;r(wr>0&&wr<=ur.maxTextureSize&&yr>0&&yr<=ur.maxTextureSize,"invalid texture shape"),sn.wrapS===33071&&sn.wrapT===33071||r(gt(wr)&&gt(yr),"incompatible wrap mode for texture, both width and height must be power of 2"),un.mipmask===1?wr!==1&&yr!==1&&r(sn.minFilter!==9984&&sn.minFilter!==9986&&sn.minFilter!==9985&&sn.minFilter!==9987,"min filter requires mipmap"):(r(gt(wr)&&gt(yr),"texture must be a square power of 2 to support mipmapping"),r(un.mipmask===(wr<<1)-1,"missing or incomplete mipmap data")),un.type===5126&&(ur.extensions.indexOf("oes_texture_float_linear")<0&&r(sn.minFilter===9728&&sn.magFilter===9728,"filter not supported, must enable oes_texture_float_linear"),r(!sn.genMipmaps,"mipmap generation not supported with float textures"));var _r=un.images;for(jr=0;jr<16;++jr)if(_r[jr]){var Fr=wr>>jr,Lr=yr>>jr;r(un.mipmask&1<<jr,"missing mipmap data");var Gr=_r[jr];if(r(Gr.width===Fr&&Gr.height===Lr,"invalid shape for mip images"),r(Gr.format===un.format&&Gr.internalformat===un.internalformat&&Gr.type===un.type,"incompatible type for mip image"),!Gr.compressed)if(Gr.data){var Hr=Math.ceil(pt(Gr.type,ni)*Fr/Gr.unpackAlignment)*Gr.unpackAlignment;r(Gr.data.byteLength===Hr*Lr,"invalid data for image, buffer size is inconsistent with image format")}else Gr.element||Gr.copy}else sn.genMipmaps||r((un.mipmask&1<<jr)==0,"extra mipmap data");un.compressed&&r(!sn.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(sn,un,ur,jr){var wr=sn.width,yr=sn.height,ni=sn.channels;r(wr>0&&wr<=jr.maxTextureSize&&yr>0&&yr<=jr.maxTextureSize,"invalid texture shape"),r(wr===yr,"cube map must be square"),r(un.wrapS===33071&&un.wrapT===33071,"wrap mode not supported by cube map");for(var _r=0;_r<ur.length;++_r){var Fr=ur[_r];r(Fr.width===wr&&Fr.height===yr,"inconsistent cube map face shape"),un.genMipmaps&&(r(!Fr.compressed,"can not generate mipmap for compressed textures"),r(Fr.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var Lr=Fr.images,Gr=0;Gr<16;++Gr){var Hr=Lr[Gr];if(Hr){var ei=wr>>Gr,Kr=yr>>Gr;r(Fr.mipmask&1<<Gr,"missing mipmap data"),r(Hr.width===ei&&Hr.height===Kr,"invalid shape for mip images"),r(Hr.format===sn.format&&Hr.internalformat===sn.internalformat&&Hr.type===sn.type,"incompatible type for mip image"),Hr.compressed||(Hr.data?r(Hr.data.byteLength===ei*Kr*Math.max(pt(Hr.type,ni),Hr.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Hr.element||Hr.copy)}}}}}),Bt=0;function Lt(tn,sn){this.id=Bt++,this.type=tn,this.data=sn}function Et(tn){return tn.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function K(tn){return"["+function sn(un){if(un.length===0)return[];var ur=un.charAt(0),jr=un.charAt(un.length-1);if(un.length>1&&ur===jr&&(ur==='"'||ur==="'"))return['"'+Et(un.substr(1,un.length-2))+'"'];var wr=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(un);if(wr)return sn(un.substr(0,wr.index)).concat(sn(wr[1])).concat(sn(un.substr(wr.index+wr[0].length)));var yr=un.split(".");if(yr.length===1)return['"'+Et(un)+'"'];for(var ni=[],_r=0;_r<yr.length;++_r)ni=ni.concat(sn(yr[_r]));return ni}(tn).join("][")+"]"}var ft={DynamicVariable:Lt,define:function(sn,un){return new Lt(sn,K(un+""))},isDynamic:function(sn){return typeof sn=="function"&&!sn._reglType||sn instanceof Lt},unbox:function tn(sn,un){return typeof sn=="function"?new Lt(0,sn):typeof sn=="number"||typeof sn=="boolean"?new Lt(5,sn):Array.isArray(sn)?new Lt(6,sn.map(function(ur,jr){return tn(ur,un+"["+jr+"]")})):sn instanceof Lt?sn:void at(!1,"invalid option type in uniform "+un)},accessor:K},mt={next:typeof requestAnimationFrame=="function"?function(tn){return requestAnimationFrame(tn)}:function(tn){return setTimeout(tn,16)},cancel:typeof cancelAnimationFrame=="function"?function(tn){return cancelAnimationFrame(tn)}:clearTimeout},yt=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function wt(tn){return typeof tn=="string"?tn.split():(at(Array.isArray(tn),"invalid extension array"),tn)}function J(tn){return typeof tn=="string"?(at(typeof document!="undefined","not supported outside of DOM"),document.querySelector(tn)):tn}function lt(tn){var sn,un,ur,jr,wr,yr=tn||{},ni={},_r=[],Fr=[],Lr=typeof window=="undefined"?1:window.devicePixelRatio,Gr=!1,Hr=function(Oi){Oi&&at.raise(Oi)},ei=function(){};if(typeof yr=="string"?(at(typeof document!="undefined","selector queries only supported in DOM enviroments"),sn=document.querySelector(yr),at(sn,"invalid query string for element")):x(yr)==="object"?typeof(wr=yr).nodeName=="string"&&typeof wr.appendChild=="function"&&typeof wr.getBoundingClientRect=="function"?sn=yr:function(Qr){return typeof Qr.drawArrays=="function"||typeof Qr.drawElements=="function"}(yr)?ur=(jr=yr).canvas:(at.constructor(yr),"gl"in yr?jr=yr.gl:"canvas"in yr?ur=J(yr.canvas):"container"in yr&&(un=J(yr.container)),"attributes"in yr&&(ni=yr.attributes,at.type(ni,"object","invalid context attributes")),"extensions"in yr&&(_r=wt(yr.extensions)),"optionalExtensions"in yr&&(Fr=wt(yr.optionalExtensions)),"onDone"in yr&&(at.type(yr.onDone,"function","invalid or missing onDone callback"),Hr=yr.onDone),"profile"in yr&&(Gr=!!yr.profile),"pixelRatio"in yr&&(Lr=+yr.pixelRatio,at(Lr>0,"invalid pixel ratio"))):at.raise("invalid arguments to regl"),sn&&(sn.nodeName.toLowerCase()==="canvas"?ur=sn:un=sn),!jr){if(!ur){at(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var Kr=function(Qr,Oi,Ri){var Ei,Gi=document.createElement("canvas");function ca(){var ha=window.innerWidth,na=window.innerHeight;if(Qr!==document.body){var Zi=Qr.getBoundingClientRect();ha=Zi.right-Zi.left,na=Zi.bottom-Zi.top}Gi.width=Ri*ha,Gi.height=Ri*na,I(Gi.style,{width:ha+"px",height:na+"px"})}return I(Gi.style,{border:0,margin:0,padding:0,top:0,left:0}),Qr.appendChild(Gi),Qr===document.body&&(Gi.style.position="absolute",I(Qr.style,{margin:0,padding:0})),Qr!==document.body&&typeof ResizeObserver=="function"?(Ei=new ResizeObserver(function(){setTimeout(ca)})).observe(Qr):window.addEventListener("resize",ca,!1),ca(),{canvas:Gi,onDestroy:function(){Ei?Ei.disconnect():window.removeEventListener("resize",ca),Qr.removeChild(Gi)}}}(un||document.body,0,Lr);if(!Kr)return null;ur=Kr.canvas,ei=Kr.onDestroy}ni.premultipliedAlpha===void 0&&(ni.premultipliedAlpha=!0),jr=function(Qr,Oi){function Ri(Ei){try{return Qr.getContext(Ei,Oi)}catch(Gi){return null}}return Ri("webgl")||Ri("experimental-webgl")||Ri("webgl-experimental")}(ur,ni)}return jr?{gl:jr,canvas:ur,container:un,extensions:_r,optionalExtensions:Fr,pixelRatio:Lr,profile:Gr,onDone:Hr,onDestroy:ei}:(ei(),Hr("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function it(tn,sn){for(var un=Array(tn),ur=0;ur<tn;++ur)un[ur]=sn(ur);return un}function _(tn){var sn,un;return sn=(tn>65535)<<4,sn|=un=((tn>>>=sn)>255)<<3,sn|=un=((tn>>>=un)>15)<<2,(sn|=un=((tn>>>=un)>3)<<1)|(tn>>>=un)>>1}function P(){var tn=it(8,function(){return[]});function sn(ur){var jr=function(yr){for(var ni=16;ni<=1<<28;ni*=16)if(yr<=ni)return ni;return 0}(ur),wr=tn[_(jr)>>2];return wr.length>0?wr.pop():new ArrayBuffer(jr)}function un(ur){tn[_(ur.byteLength)>>2].push(ur)}return{alloc:sn,free:un,allocType:function(jr,wr){var yr=null;switch(jr){case 5120:yr=new Int8Array(sn(wr),0,wr);break;case 5121:yr=new Uint8Array(sn(wr),0,wr);break;case 5122:yr=new Int16Array(sn(2*wr),0,wr);break;case 5123:yr=new Uint16Array(sn(2*wr),0,wr);break;case 5124:yr=new Int32Array(sn(4*wr),0,wr);break;case 5125:yr=new Uint32Array(sn(4*wr),0,wr);break;case 5126:yr=new Float32Array(sn(4*wr),0,wr);break;default:return null}return yr.length!==wr?yr.subarray(0,wr):yr},freeType:function(jr){un(jr.buffer)}}}var Q=P();function k(tn){return!!tn&&x(tn)==="object"&&Array.isArray(tn.shape)&&Array.isArray(tn.stride)&&typeof tn.offset=="number"&&tn.shape.length===tn.stride.length&&(Array.isArray(tn.data)||w(tn.data))}Q.zero=P();var p=function(sn){return Object.keys(sn).map(function(un){return sn[un]})},y={shape:function(sn){for(var un=[],ur=sn;ur.length;ur=ur[0])un.push(ur.length);return un},flatten:function(sn,un,ur,jr){var wr=1;if(un.length)for(var yr=0;yr<un.length;++yr)wr*=un[yr];else wr=0;var ni=jr||Q.allocType(ur,wr);switch(un.length){case 0:break;case 1:(function(_r,Fr,Lr){for(var Gr=0;Gr<Fr;++Gr)Lr[Gr]=_r[Gr]})(sn,un[0],ni);break;case 2:(function(_r,Fr,Lr,Gr){for(var Hr=0,ei=0;ei<Fr;++ei)for(var Kr=_r[ei],Qr=0;Qr<Lr;++Qr)Gr[Hr++]=Kr[Qr]})(sn,un[0],un[1],ni);break;case 3:B(sn,un[0],un[1],un[2],ni,0);break;default:(function _r(Fr,Lr,Gr,Hr,ei){for(var Kr=1,Qr=Gr+1;Qr<Lr.length;++Qr)Kr*=Lr[Qr];var Oi=Lr[Gr];if(Lr.length-Gr==4){var Ri=Lr[Gr+1],Ei=Lr[Gr+2],Gi=Lr[Gr+3];for(Qr=0;Qr<Oi;++Qr)B(Fr[Qr],Ri,Ei,Gi,Hr,ei),ei+=Kr}else for(Qr=0;Qr<Oi;++Qr)_r(Fr[Qr],Lr,Gr+1,Hr,ei),ei+=Kr})(sn,un,0,ni,0)}return ni}};function B(tn,sn,un,ur,jr,wr){for(var yr=wr,ni=0;ni<sn;++ni)for(var _r=tn[ni],Fr=0;Fr<un;++Fr)for(var Lr=_r[Fr],Gr=0;Gr<ur;++Gr)jr[yr++]=Lr[Gr]}var W={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},rt={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},st={dynamic:35048,stream:35040,static:35044},ut=y.flatten,Mt=y.shape,bt=[];function xt(tn){return 0|W[Object.prototype.toString.call(tn)]}function Ot(tn,sn){for(var un=0;un<sn.length;++un)tn[un]=sn[un]}function jt(tn,sn,un,ur,jr,wr,yr){for(var ni=0,_r=0;_r<un;++_r)for(var Fr=0;Fr<ur;++Fr)tn[ni++]=sn[jr*_r+wr*Fr+yr]}bt[5120]=1,bt[5122]=2,bt[5124]=4,bt[5121]=1,bt[5123]=2,bt[5125]=4,bt[5126]=4;var Dt={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},zt=new Float32Array(1),Tt=new Uint32Array(zt.buffer);function Vt(tn){for(var sn=Q.allocType(5123,tn.length),un=0;un<tn.length;++un)if(isNaN(tn[un]))sn[un]=65535;else if(tn[un]===1/0)sn[un]=31744;else if(tn[un]===-1/0)sn[un]=64512;else{zt[0]=tn[un];var ur=Tt[0],jr=ur>>>31<<15,wr=(ur<<1>>>24)-127,yr=ur>>13&1023;if(wr<-24)sn[un]=jr;else if(wr<-14){var ni=-14-wr;sn[un]=jr+(yr+1024>>ni)}else sn[un]=wr>15?jr+31744:jr+(wr+15<<10)+yr}return sn}function Ht(tn){return Array.isArray(tn)||w(tn)}var re=function(sn){return!(sn&sn-1||!sn)},pe=[9984,9986,9985,9987],me=[0,6409,6410,6407,6408],Ee={};function Le(tn){return"[object "+tn+"]"}Ee[6409]=Ee[6406]=Ee[6402]=1,Ee[34041]=Ee[6410]=2,Ee[6407]=Ee[35904]=3,Ee[6408]=Ee[35906]=4;var Je=Le("HTMLCanvasElement"),On=Le("OffscreenCanvas"),gn=Le("CanvasRenderingContext2D"),Vn=Le("ImageBitmap"),kn=Le("HTMLImageElement"),Wn=Le("HTMLVideoElement"),Dn=Object.keys(W).concat([Je,On,gn,Vn,kn,Wn]),Nn=[];Nn[5121]=1,Nn[5126]=4,Nn[36193]=2,Nn[5123]=2,Nn[5125]=4;var Qn=[];function ir(tn){return Array.isArray(tn)&&(tn.length===0||typeof tn[0]=="number")}function hr(tn){return!!Array.isArray(tn)&&!(tn.length===0||!Ht(tn[0]))}function Er(tn){return Object.prototype.toString.call(tn)}function mr(tn){return Er(tn)===Je}function dr(tn){return Er(tn)===On}function Br(tn){if(!tn)return!1;var sn=Er(tn);return Dn.indexOf(sn)>=0||ir(tn)||hr(tn)||k(tn)}function ii(tn){return 0|W[Object.prototype.toString.call(tn)]}function mi(tn,sn){return Q.allocType(tn.type===36193?5126:tn.type,sn)}function Pi(tn,sn){tn.type===36193?(tn.data=Vt(sn),Q.freeType(sn)):tn.data=sn}function sa(tn,sn,un,ur,jr,wr){var yr;if(yr=Qn[tn]!==void 0?Qn[tn]:Ee[tn]*Nn[sn],wr&&(yr*=6),jr){for(var ni=0,_r=un;_r>=1;)ni+=yr*_r*_r,_r/=2;return ni}return yr*un*ur}function Pa(tn,sn,un,ur,jr,wr,yr){var ni={"don't care":4352,"dont care":4352,nice:4354,fast:4353},_r={repeat:10497,clamp:33071,mirror:33648},Fr={nearest:9728,linear:9729},Lr=I({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Fr),Gr={none:0,browser:37444},Hr={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},ei={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Kr={};sn.ext_srgb&&(ei.srgb=35904,ei.srgba=35906),sn.oes_texture_float&&(Hr.float32=Hr.float=5126),sn.oes_texture_half_float&&(Hr.float16=Hr["half float"]=36193),sn.webgl_depth_texture&&(I(ei,{depth:6402,"depth stencil":34041}),I(Hr,{uint16:5123,uint32:5125,"depth stencil":34042})),sn.webgl_compressed_texture_s3tc&&I(Kr,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),sn.webgl_compressed_texture_atc&&I(Kr,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),sn.webgl_compressed_texture_pvrtc&&I(Kr,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),sn.webgl_compressed_texture_etc1&&(Kr["rgb etc1"]=36196);var Qr=Array.prototype.slice.call(tn.getParameter(34467));Object.keys(Kr).forEach(function(Zt){var de=Kr[Zt];Qr.indexOf(de)>=0&&(ei[Zt]=de)});var Oi=Object.keys(ei);un.textureFormats=Oi;var Ri=[];Object.keys(ei).forEach(function(Zt){var de=ei[Zt];Ri[de]=Zt});var Ei=[];Object.keys(Hr).forEach(function(Zt){var de=Hr[Zt];Ei[de]=Zt});var Gi=[];Object.keys(Fr).forEach(function(Zt){Gi[Fr[Zt]]=Zt});var ca=[];Object.keys(Lr).forEach(function(Zt){var de=Lr[Zt];ca[de]=Zt});var ha=[];Object.keys(_r).forEach(function(Zt){ha[_r[Zt]]=Zt});var na=Oi.reduce(function(Zt,de){var he=ei[de];return he===6409||he===6406||he===6409||he===6410||he===6402||he===34041||sn.ext_srgb&&(he===35904||he===35906)?Zt[he]=he:he===32855||de.indexOf("rgba")>=0?Zt[he]=6408:Zt[he]=6407,Zt},{});function Zi(){this.internalformat=6408,this.format=6408,this.type=5121,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=37444,this.width=0,this.height=0,this.channels=0}function ve(Zt,de){Zt.internalformat=de.internalformat,Zt.format=de.format,Zt.type=de.type,Zt.compressed=de.compressed,Zt.premultiplyAlpha=de.premultiplyAlpha,Zt.flipY=de.flipY,Zt.unpackAlignment=de.unpackAlignment,Zt.colorSpace=de.colorSpace,Zt.width=de.width,Zt.height=de.height,Zt.channels=de.channels}function U(Zt,de){if(x(de)==="object"&&de){if("premultiplyAlpha"in de&&(at.type(de.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),Zt.premultiplyAlpha=de.premultiplyAlpha),"flipY"in de&&(at.type(de.flipY,"boolean","invalid texture flip"),Zt.flipY=de.flipY),"alignment"in de&&(at.oneOf(de.alignment,[1,2,4,8],"invalid texture unpack alignment"),Zt.unpackAlignment=de.alignment),"colorSpace"in de&&(at.parameter(de.colorSpace,Gr,"invalid colorSpace"),Zt.colorSpace=Gr[de.colorSpace]),"type"in de){var he=de.type;at(sn.oes_texture_float||!(he==="float"||he==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),at(sn.oes_texture_half_float||!(he==="half float"||he==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),at(sn.webgl_depth_texture||!(he==="uint16"||he==="uint32"||he==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),at.parameter(he,Hr,"invalid texture type"),Zt.type=Hr[he]}var le=Zt.width,Me=Zt.height,We=Zt.channels,Ye=!1;"shape"in de?(at(Array.isArray(de.shape)&&de.shape.length>=2,"shape must be an array"),le=de.shape[0],Me=de.shape[1],de.shape.length===3&&(We=de.shape[2],at(We>0&&We<=4,"invalid number of channels"),Ye=!0),at(le>=0&&le<=un.maxTextureSize,"invalid width"),at(Me>=0&&Me<=un.maxTextureSize,"invalid height")):("radius"in de&&(le=Me=de.radius,at(le>=0&&le<=un.maxTextureSize,"invalid radius")),"width"in de&&(le=de.width,at(le>=0&&le<=un.maxTextureSize,"invalid width")),"height"in de&&(Me=de.height,at(Me>=0&&Me<=un.maxTextureSize,"invalid height")),"channels"in de&&(We=de.channels,at(We>0&&We<=4,"invalid number of channels"),Ye=!0)),Zt.width=0|le,Zt.height=0|Me,Zt.channels=0|We;var ke=!1;if("format"in de){var nn=de.format;at(sn.webgl_depth_texture||!(nn==="depth"||nn==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),at.parameter(nn,ei,"invalid texture format");var Re=Zt.internalformat=ei[nn];Zt.format=na[Re],nn in Hr&&("type"in de||(Zt.type=Hr[nn])),nn in Kr&&(Zt.compressed=!0),ke=!0}!Ye&&ke?Zt.channels=Ee[Zt.format]:Ye&&!ke?Zt.channels!==me[Zt.format]&&(Zt.format=Zt.internalformat=me[Zt.channels]):ke&&Ye&&at(Zt.channels===Ee[Zt.format],"number of channels inconsistent with specified format")}}function G(Zt){tn.pixelStorei(37440,Zt.flipY),tn.pixelStorei(37441,Zt.premultiplyAlpha),tn.pixelStorei(37443,Zt.colorSpace),tn.pixelStorei(3317,Zt.unpackAlignment)}function nt(){Zi.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function vt(Zt,de){var he=null;if(Br(de)?he=de:de&&(at.type(de,"object","invalid pixel data type"),U(Zt,de),"x"in de&&(Zt.xOffset=0|de.x),"y"in de&&(Zt.yOffset=0|de.y),Br(de.data)&&(he=de.data)),at(!Zt.compressed||he instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),de.copy){at(!he,"can not specify copy and data field for the same texture");var le=jr.viewportWidth,Me=jr.viewportHeight;Zt.width=Zt.width||le-Zt.xOffset,Zt.height=Zt.height||Me-Zt.yOffset,Zt.needsCopy=!0,at(Zt.xOffset>=0&&Zt.xOffset<le&&Zt.yOffset>=0&&Zt.yOffset<Me&&Zt.width>0&&Zt.width<=le&&Zt.height>0&&Zt.height<=Me,"copy texture read out of bounds")}else if(he){if(w(he))Zt.channels=Zt.channels||4,Zt.data=he,"type"in de||Zt.type!==5121||(Zt.type=ii(he));else if(ir(he))Zt.channels=Zt.channels||4,function(_e,dn){var En=dn.length;switch(_e.type){case 5121:case 5123:case 5125:case 5126:var tr=Q.allocType(_e.type,En);tr.set(dn),_e.data=tr;break;case 36193:_e.data=Vt(dn);break;default:at.raise("unsupported texture type, must specify a typed array")}}(Zt,he),Zt.alignment=1,Zt.needsFree=!0;else if(k(he)){var We=he.data;Array.isArray(We)||Zt.type!==5121||(Zt.type=ii(We));var Ye,ke,nn,Re,hn,pn,on=he.shape,mn=he.stride;on.length===3?(nn=on[2],pn=mn[2]):(at(on.length===2,"invalid ndarray pixel data, must be 2 or 3D"),nn=1,pn=1),Ye=on[0],ke=on[1],Re=mn[0],hn=mn[1],Zt.alignment=1,Zt.width=Ye,Zt.height=ke,Zt.channels=nn,Zt.format=Zt.internalformat=me[nn],Zt.needsFree=!0,function(_e,dn,En,tr,Pn,Fn){for(var Cr=_e.width,fi=_e.height,ri=_e.channels,zr=mi(_e,Cr*fi*ri),wi=0,Ai=0;Ai<fi;++Ai)for(var gi=0;gi<Cr;++gi)for(var Oa=0;Oa<ri;++Oa)zr[wi++]=dn[En*gi+tr*Ai+Pn*Oa+Fn];Pi(_e,zr)}(Zt,We,Re,hn,pn,he.offset)}else if(mr(he)||dr(he)||Er(he)===gn)mr(he)||dr(he)?Zt.element=he:Zt.element=he.canvas,Zt.width=Zt.element.width,Zt.height=Zt.element.height,Zt.channels=4;else if(function(_e){return Er(_e)===Vn}(he))Zt.element=he,Zt.width=he.width,Zt.height=he.height,Zt.channels=4;else if(function(_e){return Er(_e)===kn}(he))Zt.element=he,Zt.width=he.naturalWidth,Zt.height=he.naturalHeight,Zt.channels=4;else if(function(_e){return Er(_e)===Wn}(he))Zt.element=he,Zt.width=he.videoWidth,Zt.height=he.videoHeight,Zt.channels=4;else if(hr(he)){var jn=Zt.width||he[0].length,Ie=Zt.height||he.length,fe=Zt.channels;fe=Ht(he[0][0])?fe||he[0][0].length:fe||1;for(var Ne=y.shape(he),Fe=1,rn=0;rn<Ne.length;++rn)Fe*=Ne[rn];var ln=mi(Zt,Fe);y.flatten(he,Ne,"",ln),Pi(Zt,ln),Zt.alignment=1,Zt.width=jn,Zt.height=Ie,Zt.channels=fe,Zt.format=Zt.internalformat=me[fe],Zt.needsFree=!0}}else Zt.width=Zt.width||1,Zt.height=Zt.height||1,Zt.channels=Zt.channels||4;Zt.type===5126?at(un.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):Zt.type===36193&&at(un.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Gt(Zt,de,he){var le=Zt.element,Me=Zt.data,We=Zt.internalformat,Ye=Zt.format,ke=Zt.type,nn=Zt.width,Re=Zt.height;G(Zt),le?tn.texImage2D(de,he,Ye,Ye,ke,le):Zt.compressed?tn.compressedTexImage2D(de,he,We,nn,Re,0,Me):Zt.needsCopy?(ur(),tn.copyTexImage2D(de,he,Ye,Zt.xOffset,Zt.yOffset,nn,Re,0)):tn.texImage2D(de,he,Ye,nn,Re,0,Ye,ke,Me||null)}function Jt(Zt,de,he,le,Me){var We=Zt.element,Ye=Zt.data,ke=Zt.internalformat,nn=Zt.format,Re=Zt.type,hn=Zt.width,pn=Zt.height;G(Zt),We?tn.texSubImage2D(de,Me,he,le,nn,Re,We):Zt.compressed?tn.compressedTexSubImage2D(de,Me,he,le,ke,hn,pn,Ye):Zt.needsCopy?(ur(),tn.copyTexSubImage2D(de,Me,he,le,Zt.xOffset,Zt.yOffset,hn,pn)):tn.texSubImage2D(de,Me,he,le,hn,pn,nn,Re,Ye)}var ie=[];function ue(){return ie.pop()||new nt}function Ce(Zt){Zt.needsFree&&Q.freeType(Zt.data),nt.call(Zt),ie.push(Zt)}function we(){Zi.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function cn(Zt,de,he){var le=Zt.images[0]=ue();Zt.mipmask=1,le.width=Zt.width=de,le.height=Zt.height=he,le.channels=Zt.channels=4}function Cn(Zt,de){var he=null;if(Br(de))ve(he=Zt.images[0]=ue(),Zt),vt(he,de),Zt.mipmask=1;else if(U(Zt,de),Array.isArray(de.mipmap))for(var le=de.mipmap,Me=0;Me<le.length;++Me)ve(he=Zt.images[Me]=ue(),Zt),he.width>>=Me,he.height>>=Me,vt(he,le[Me]),Zt.mipmask|=1<<Me;else ve(he=Zt.images[0]=ue(),Zt),vt(he,de),Zt.mipmask=1;ve(Zt,Zt.images[0]),!Zt.compressed||Zt.internalformat!==33776&&Zt.internalformat!==33777&&Zt.internalformat!==33778&&Zt.internalformat!==33779||at(Zt.width%4==0&&Zt.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function _t(Zt,de){for(var he=Zt.images,le=0;le<he.length;++le){if(!he[le])return;Gt(he[le],de,le)}}var Xt=[];function Se(){var Zt=Xt.pop()||new we;Zi.call(Zt),Zt.mipmask=0;for(var de=0;de<16;++de)Zt.images[de]=null;return Zt}function Wt(Zt){for(var de=Zt.images,he=0;he<de.length;++he)de[he]&&Ce(de[he]),de[he]=null;Xt.push(Zt)}function ce(){this.minFilter=9728,this.magFilter=9728,this.wrapS=33071,this.wrapT=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function yn(Zt,de){if("min"in de){var he=de.min;at.parameter(he,Lr),Zt.minFilter=Lr[he],pe.indexOf(Zt.minFilter)>=0&&!("faces"in de)&&(Zt.genMipmaps=!0)}if("mag"in de){var le=de.mag;at.parameter(le,Fr),Zt.magFilter=Fr[le]}var Me=Zt.wrapS,We=Zt.wrapT;if("wrap"in de){var Ye=de.wrap;typeof Ye=="string"?(at.parameter(Ye,_r),Me=We=_r[Ye]):Array.isArray(Ye)&&(at.parameter(Ye[0],_r),at.parameter(Ye[1],_r),Me=_r[Ye[0]],We=_r[Ye[1]])}else{if("wrapS"in de){var ke=de.wrapS;at.parameter(ke,_r),Me=_r[ke]}if("wrapT"in de){var nn=de.wrapT;at.parameter(nn,_r),We=_r[nn]}}if(Zt.wrapS=Me,Zt.wrapT=We,"anisotropic"in de){var Re=de.anisotropic;at(typeof Re=="number"&&Re>=1&&Re<=un.maxAnisotropic,"aniso samples must be between 1 and "),Zt.anisotropic=de.anisotropic}if("mipmap"in de){var hn=!1;switch(x(de.mipmap)){case"string":at.parameter(de.mipmap,ni,"invalid mipmap hint"),Zt.mipmapHint=ni[de.mipmap],Zt.genMipmaps=!0,hn=!0;break;case"boolean":hn=Zt.genMipmaps=de.mipmap;break;case"object":at(Array.isArray(de.mipmap),"invalid mipmap type"),Zt.genMipmaps=!1,hn=!0;break;default:at.raise("invalid mipmap type")}hn&&!("min"in de)&&(Zt.minFilter=9984)}}function Bn(Zt,de){tn.texParameteri(de,10241,Zt.minFilter),tn.texParameteri(de,10240,Zt.magFilter),tn.texParameteri(de,10242,Zt.wrapS),tn.texParameteri(de,10243,Zt.wrapT),sn.ext_texture_filter_anisotropic&&tn.texParameteri(de,34046,Zt.anisotropic),Zt.genMipmaps&&(tn.hint(33170,Zt.mipmapHint),tn.generateMipmap(de))}var Zn=0,Kn={},$e=un.maxTextureUnits,je=Array($e).map(function(){return null});function L(Zt){Zi.call(this),this.mipmask=0,this.internalformat=6408,this.id=Zn++,this.refCount=1,this.target=Zt,this.texture=tn.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new ce,yr.profile&&(this.stats={size:0})}function St(Zt){tn.activeTexture(33984),tn.bindTexture(Zt.target,Zt.texture)}function $t(){var Zt=je[0];Zt?tn.bindTexture(Zt.target,Zt.texture):tn.bindTexture(3553,null)}function ye(Zt){var de=Zt.texture;at(de,"must not double destroy texture");var he=Zt.unit,le=Zt.target;he>=0&&(tn.activeTexture(33984+he),tn.bindTexture(le,null),je[he]=null),tn.deleteTexture(de),Zt.texture=null,Zt.params=null,Zt.pixels=null,Zt.refCount=0,delete Kn[Zt.id],wr.textureCount--}return I(L.prototype,{bind:function(){this.bindCount+=1;var de=this.unit;if(de<0){for(var he=0;he<$e;++he){var le=je[he];if(le){if(le.bindCount>0)continue;le.unit=-1}je[he]=this,de=he;break}de>=$e&&at.raise("insufficient number of texture units"),yr.profile&&wr.maxTextureUnits<de+1&&(wr.maxTextureUnits=de+1),this.unit=de,tn.activeTexture(33984+de),tn.bindTexture(this.target,this.texture)}return de},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&ye(this)}}),yr.profile&&(wr.getTotalTextureSize=function(){var Zt=0;return Object.keys(Kn).forEach(function(de){Zt+=Kn[de].stats.size}),Zt}),{create2D:function(de,he){var le=new L(3553);function Me(We,Ye){var ke=le.texInfo;ce.call(ke);var nn=Se();return typeof We=="number"?cn(nn,0|We,typeof Ye=="number"?0|Ye:0|We):We?(at.type(We,"object","invalid arguments to regl.texture"),yn(ke,We),Cn(nn,We)):cn(nn,1,1),ke.genMipmaps&&(nn.mipmask=(nn.width<<1)-1),le.mipmask=nn.mipmask,ve(le,nn),at.texture2D(ke,nn,un),le.internalformat=nn.internalformat,Me.width=nn.width,Me.height=nn.height,St(le),_t(nn,3553),Bn(ke,3553),$t(),Wt(nn),yr.profile&&(le.stats.size=sa(le.internalformat,le.type,nn.width,nn.height,ke.genMipmaps,!1)),Me.format=Ri[le.internalformat],Me.type=Ei[le.type],Me.mag=Gi[ke.magFilter],Me.min=ca[ke.minFilter],Me.wrapS=ha[ke.wrapS],Me.wrapT=ha[ke.wrapT],Me}return Kn[le.id]=le,wr.textureCount++,Me(de,he),Me.subimage=function(We,Ye,ke,nn){at(!!We,"must specify image data");var Re=0|Ye,hn=0|ke,pn=0|nn,on=ue();return ve(on,le),on.width=0,on.height=0,vt(on,We),on.width=on.width||(le.width>>pn)-Re,on.height=on.height||(le.height>>pn)-hn,at(le.type===on.type&&le.format===on.format&&le.internalformat===on.internalformat,"incompatible format for texture.subimage"),at(Re>=0&&hn>=0&&Re+on.width<=le.width&&hn+on.height<=le.height,"texture.subimage write out of bounds"),at(le.mipmask&1<<pn,"missing mipmap data"),at(on.data||on.element||on.needsCopy,"missing image data"),St(le),Jt(on,3553,Re,hn,pn),$t(),Ce(on),Me},Me.resize=function(We,Ye){var ke=0|We,nn=0|Ye||ke;if(ke===le.width&&nn===le.height)return Me;Me.width=le.width=ke,Me.height=le.height=nn,St(le);for(var Re=0;le.mipmask>>Re;++Re){var hn=ke>>Re,pn=nn>>Re;if(!hn||!pn)break;tn.texImage2D(3553,Re,le.format,hn,pn,0,le.format,le.type,null)}return $t(),yr.profile&&(le.stats.size=sa(le.internalformat,le.type,ke,nn,!1,!1)),Me},Me._reglType="texture2d",Me._texture=le,yr.profile&&(Me.stats=le.stats),Me.destroy=function(){le.decRef()},Me},createCube:function(de,he,le,Me,We,Ye){var ke=new L(34067);Kn[ke.id]=ke,wr.cubeCount++;var nn=new Array(6);function Re(hn,pn,on,mn,jn,Ie){var fe,Ne=ke.texInfo;for(ce.call(Ne),fe=0;fe<6;++fe)nn[fe]=Se();if(typeof hn!="number"&&hn)if(x(hn)==="object")if(pn)Cn(nn[0],hn),Cn(nn[1],pn),Cn(nn[2],on),Cn(nn[3],mn),Cn(nn[4],jn),Cn(nn[5],Ie);else if(yn(Ne,hn),U(ke,hn),"faces"in hn){var Fe=hn.faces;for(at(Array.isArray(Fe)&&Fe.length===6,"cube faces must be a length 6 array"),fe=0;fe<6;++fe)at(x(Fe[fe])==="object"&&!!Fe[fe],"invalid input for cube map face"),ve(nn[fe],ke),Cn(nn[fe],Fe[fe])}else for(fe=0;fe<6;++fe)Cn(nn[fe],hn);else at.raise("invalid arguments to cube map");else{var rn=0|hn||1;for(fe=0;fe<6;++fe)cn(nn[fe],rn,rn)}for(ve(ke,nn[0]),un.npotTextureCube||at(re(ke.width)&&re(ke.height),"your browser does not support non power or two texture dimensions"),Ne.genMipmaps?ke.mipmask=(nn[0].width<<1)-1:ke.mipmask=nn[0].mipmask,at.textureCube(ke,Ne,nn,un),ke.internalformat=nn[0].internalformat,Re.width=nn[0].width,Re.height=nn[0].height,St(ke),fe=0;fe<6;++fe)_t(nn[fe],34069+fe);for(Bn(Ne,34067),$t(),yr.profile&&(ke.stats.size=sa(ke.internalformat,ke.type,Re.width,Re.height,Ne.genMipmaps,!0)),Re.format=Ri[ke.internalformat],Re.type=Ei[ke.type],Re.mag=Gi[Ne.magFilter],Re.min=ca[Ne.minFilter],Re.wrapS=ha[Ne.wrapS],Re.wrapT=ha[Ne.wrapT],fe=0;fe<6;++fe)Wt(nn[fe]);return Re}return Re(de,he,le,Me,We,Ye),Re.subimage=function(hn,pn,on,mn,jn){at(!!pn,"must specify image data"),at(typeof hn=="number"&&hn===(0|hn)&&hn>=0&&hn<6,"invalid face");var Ie=0|on,fe=0|mn,Ne=0|jn,Fe=ue();return ve(Fe,ke),Fe.width=0,Fe.height=0,vt(Fe,pn),Fe.width=Fe.width||(ke.width>>Ne)-Ie,Fe.height=Fe.height||(ke.height>>Ne)-fe,at(ke.type===Fe.type&&ke.format===Fe.format&&ke.internalformat===Fe.internalformat,"incompatible format for texture.subimage"),at(Ie>=0&&fe>=0&&Ie+Fe.width<=ke.width&&fe+Fe.height<=ke.height,"texture.subimage write out of bounds"),at(ke.mipmask&1<<Ne,"missing mipmap data"),at(Fe.data||Fe.element||Fe.needsCopy,"missing image data"),St(ke),Jt(Fe,34069+hn,Ie,fe,Ne),$t(),Ce(Fe),Re},Re.resize=function(hn){var pn=0|hn;if(pn!==ke.width){Re.width=ke.width=pn,Re.height=ke.height=pn,St(ke);for(var on=0;on<6;++on)for(var mn=0;ke.mipmask>>mn;++mn)tn.texImage2D(34069+on,mn,ke.format,pn>>mn,pn>>mn,0,ke.format,ke.type,null);return $t(),yr.profile&&(ke.stats.size=sa(ke.internalformat,ke.type,Re.width,Re.height,!1,!0)),Re}},Re._reglType="textureCube",Re._texture=ke,yr.profile&&(Re.stats=ke.stats),Re.destroy=function(){ke.decRef()},Re},clear:function(){for(var de=0;de<$e;++de)tn.activeTexture(33984+de),tn.bindTexture(3553,null),je[de]=null;p(Kn).forEach(ye),wr.cubeCount=0,wr.textureCount=0},getTexture:function(de){return null},restore:function(){for(var de=0;de<$e;++de){var he=je[de];he&&(he.bindCount=0,he.unit=-1,je[de]=null)}p(Kn).forEach(function(le){le.texture=tn.createTexture(),tn.bindTexture(le.target,le.texture);for(var Me=0;Me<32;++Me)if((le.mipmask&1<<Me)!=0)if(le.target===3553)tn.texImage2D(3553,Me,le.internalformat,le.width>>Me,le.height>>Me,0,le.internalformat,le.type,null);else for(var We=0;We<6;++We)tn.texImage2D(34069+We,Me,le.internalformat,le.width>>Me,le.height>>Me,0,le.internalformat,le.type,null);Bn(le.texInfo,le.target)})},refresh:function(){for(var de=0;de<$e;++de){var he=je[de];he&&(he.bindCount=0,he.unit=-1,je[de]=null),tn.activeTexture(33984+de),tn.bindTexture(3553,null),tn.bindTexture(34067,null)}}}}Qn[32854]=2,Qn[32855]=2,Qn[36194]=2,Qn[34041]=4,Qn[33776]=.5,Qn[33777]=.5,Qn[33778]=1,Qn[33779]=1,Qn[35986]=.5,Qn[35987]=1,Qn[34798]=1,Qn[35840]=.5,Qn[35841]=.25,Qn[35842]=.5,Qn[35843]=.25,Qn[36196]=.5;var Mi=[];function Ki(tn,sn,un){return Mi[tn]*sn*un}Mi[32854]=2,Mi[32855]=2,Mi[36194]=2,Mi[33189]=2,Mi[36168]=1,Mi[34041]=4,Mi[35907]=4,Mi[34836]=16,Mi[34842]=8,Mi[34843]=6;var fa=[6407,6408],oa=[];oa[6408]=4,oa[6407]=3;var pa=[];pa[5121]=1,pa[5126]=4,pa[36193]=2;var La=[32854,32855,36194,35907,34842,34843,34836],Yr={};function Ea(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.offset=0,this.stride=0,this.divisor=0}function Pr(tn,sn,un,ur,jr,wr,yr){function ni(_r){var Fr;sn.next===null?(at(jr.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Fr=5121):(at(sn.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Fr=sn.next.colorAttachments[0].texture._texture.type,wr.oes_texture_float?(at(Fr===5121||Fr===5126,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Fr===5126&&at(yr.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):at(Fr===5121,"Reading from a framebuffer is only allowed for the type 'uint8'"));var Lr=0,Gr=0,Hr=ur.framebufferWidth,ei=ur.framebufferHeight,Kr=null;w(_r)?Kr=_r:_r&&(at.type(_r,"object","invalid arguments to regl.read()"),Lr=0|_r.x,Gr=0|_r.y,at(Lr>=0&&Lr<ur.framebufferWidth,"invalid x offset for regl.read"),at(Gr>=0&&Gr<ur.framebufferHeight,"invalid y offset for regl.read"),Hr=0|(_r.width||ur.framebufferWidth-Lr),ei=0|(_r.height||ur.framebufferHeight-Gr),Kr=_r.data||null),Kr&&(Fr===5121?at(Kr instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Fr===5126&&at(Kr instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),at(Hr>0&&Hr+Lr<=ur.framebufferWidth,"invalid width for read pixels"),at(ei>0&&ei+Gr<=ur.framebufferHeight,"invalid height for read pixels"),un();var Qr=Hr*ei*4;return Kr||(Fr===5121?Kr=new Uint8Array(Qr):Fr===5126&&(Kr=Kr||new Float32Array(Qr))),at.isTypedArray(Kr,"data buffer for regl.read() must be a typedarray"),at(Kr.byteLength>=Qr,"data buffer for regl.read() too small"),tn.pixelStorei(3333,4),tn.readPixels(Lr,Gr,Hr,ei,6408,Fr,Kr),Kr}return function(_r){return _r&&"framebuffer"in _r?function(Fr){var Lr;return sn.setFBO({framebuffer:Fr.framebuffer},function(){Lr=ni(Fr)}),Lr}(_r):ni(_r)}}function si(tn){return Array.prototype.slice.call(tn)}function ti(tn){return si(tn).join("")}Yr[36053]="complete",Yr[36054]="incomplete attachment",Yr[36057]="incomplete dimensions",Yr[36055]="incomplete, missing attachment",Yr[36061]="unsupported";var $r="xyzw".split(""),ui="profile",li="framebuffer",xi="vert",Ci="frag",di="elements",Ti="primitive",pi="count",Ni="offset",Bi="instances",Fi="vao",ma=li+"Width",ua=li+"Height",Ra=["blend.func","blend.equation","stencil.func","stencil.opFront","stencil.opBack","sample.coverage","viewport","scissor.box","polygonOffset.offset"],xa={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Ma=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Qi={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ka={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},vo={frag:35632,vert:35633},za={cw:2304,ccw:2305};function Ga(tn){return Array.isArray(tn)||w(tn)||k(tn)}function eo(tn){return tn.sort(function(sn,un){return sn==="viewport"?-1:un==="viewport"?1:sn<un?-1:1})}function ae(tn,sn,un,ur){this.thisDep=tn,this.contextDep=sn,this.propDep=un,this.append=ur}function Kt(tn){return tn&&!(tn.thisDep||tn.contextDep||tn.propDep)}function te(tn){return new ae(!1,!1,!1,tn)}function Oe(tn,sn){var un=tn.type;if(un===0){var ur=tn.data.length;return new ae(!0,ur>=1,ur>=2,sn)}if(un===4){var jr=tn.data;return new ae(jr.thisDep,jr.contextDep,jr.propDep,sn)}if(un===5)return new ae(!1,!1,!1,sn);if(un===6){for(var wr=!1,yr=!1,ni=!1,_r=0;_r<tn.data.length;++_r){var Fr=tn.data[_r];if(Fr.type===1)ni=!0;else if(Fr.type===2)yr=!0;else if(Fr.type===3)wr=!0;else if(Fr.type===0){wr=!0;var Lr=Fr.data;Lr>=1&&(yr=!0),Lr>=2&&(ni=!0)}else Fr.type===4&&(wr=wr||Fr.data.thisDep,yr=yr||Fr.data.contextDep,ni=ni||Fr.data.propDep)}return new ae(wr,yr,ni,sn)}return new ae(un===3,un===2,un===1,sn)}var Ze=new ae(!1,!1,!1,function(){});function An(tn,sn,un,ur,jr,wr,yr,ni,_r,Fr,Lr,Gr,Hr,ei,Kr){var Qr=Fr.Record,Oi={add:32774,subtract:32778,"reverse subtract":32779};un.ext_blend_minmax&&(Oi.min=32775,Oi.max=32776);var Ri=un.angle_instanced_arrays,Ei=un.webgl_draw_buffers,Gi={dirty:!0,profile:Kr.profile},ca={},ha=[],na={},Zi={};function ve($e){return $e.replace(".","_")}function U($e,je,L){var St=ve($e);ha.push($e),ca[St]=Gi[St]=!!L,na[St]=je}function G($e,je,L){var St=ve($e);ha.push($e),Array.isArray(L)?(Gi[St]=L.slice(),ca[St]=L.slice()):Gi[St]=ca[St]=L,Zi[St]=je}U("dither",3024),U("blend.enable",3042),G("blend.color","blendColor",[0,0,0,0]),G("blend.equation","blendEquationSeparate",[32774,32774]),G("blend.func","blendFuncSeparate",[1,0,1,0]),U("depth.enable",2929,!0),G("depth.func","depthFunc",513),G("depth.range","depthRange",[0,1]),G("depth.mask","depthMask",!0),G("colorMask","colorMask",[!0,!0,!0,!0]),U("cull.enable",2884),G("cull.face","cullFace",1029),G("frontFace","frontFace",2305),G("lineWidth","lineWidth",1),U("polygonOffset.enable",32823),G("polygonOffset.offset","polygonOffset",[0,0]),U("sample.alpha",32926),U("sample.enable",32928),G("sample.coverage","sampleCoverage",[1,!1]),U("stencil.enable",2960),G("stencil.mask","stencilMask",-1),G("stencil.func","stencilFunc",[519,0,-1]),G("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),G("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),U("scissor.enable",3089),G("scissor.box","scissor",[0,0,tn.drawingBufferWidth,tn.drawingBufferHeight]),G("viewport","viewport",[0,0,tn.drawingBufferWidth,tn.drawingBufferHeight]);var nt={gl:tn,context:Hr,strings:sn,next:ca,current:Gi,draw:Gr,elements:wr,buffer:jr,shader:Lr,attributes:Fr.state,vao:Fr,uniforms:_r,framebuffer:ni,extensions:un,timer:ei,isBufferArgs:Ga},vt={primTypes:Dt,compareFuncs:Qi,blendFuncs:xa,blendEquations:Oi,stencilOps:ka,glTypes:rt,orientationType:za};at.optional(function(){nt.isArrayLike=Ht}),Ei&&(vt.backBuffer=[1029],vt.drawBuffer=it(ur.maxDrawbuffers,function($e){return $e===0?[0]:it($e,function(je){return 36064+je})}));var Gt=0;function Jt(){var $e=function(){var le=0,Me=[],We=[];function Ye(){var hn=[],pn=[];return I(function(){hn.push.apply(hn,si(arguments))},{def:function(){var mn="v"+le++;return pn.push(mn),arguments.length>0&&(hn.push(mn,"="),hn.push.apply(hn,si(arguments)),hn.push(";")),mn},toString:function(){return ti([pn.length>0?"var "+pn.join(",")+";":"",ti(hn)])}})}function ke(){var hn=Ye(),pn=Ye(),on=hn.toString,mn=pn.toString;function jn(Ie,fe){pn(Ie,fe,"=",hn.def(Ie,fe),";")}return I(function(){hn.apply(hn,si(arguments))},{def:hn.def,entry:hn,exit:pn,save:jn,set:function(fe,Ne,Fe){jn(fe,Ne),hn(fe,Ne,"=",Fe,";")},toString:function(){return on()+mn()}})}var nn=Ye(),Re={};return{global:nn,link:function(pn){for(var on=0;on<We.length;++on)if(We[on]===pn)return Me[on];var mn="g"+le++;return Me.push(mn),We.push(pn),mn},block:Ye,proc:function(pn,on){var mn=[];function jn(){var Fe="a"+mn.length;return mn.push(Fe),Fe}on=on||0;for(var Ie=0;Ie<on;++Ie)jn();var fe=ke(),Ne=fe.toString;return Re[pn]=I(fe,{arg:jn,toString:function(){return ti(["function(",mn.join(),"){",Ne(),"}"])}})},scope:ke,cond:function(){var pn=ti(arguments),on=ke(),mn=ke(),jn=on.toString,Ie=mn.toString;return I(on,{then:function(){return on.apply(on,si(arguments)),this},else:function(){return mn.apply(mn,si(arguments)),this},toString:function(){var Ne=Ie();return Ne&&(Ne="else{"+Ne+"}"),ti(["if(",pn,"){",jn(),"}",Ne])}})},compile:function(){var pn=['"use strict";',nn,"return {"];Object.keys(Re).forEach(function(mn){pn.push('"',mn,'":',Re[mn].toString(),",")}),pn.push("}");var on=ti(pn).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`);return Function.apply(null,Me.concat(on)).apply(null,We)}}}(),je=$e.link,L=$e.global;$e.id=Gt++,$e.batchId="0";var St=je(nt),$t=$e.shared={props:"a0"};Object.keys(nt).forEach(function(le){$t[le]=L.def(St,".",le)}),at.optional(function(){$e.CHECK=je(at),$e.commandStr=at.guessCommand(),$e.command=je($e.commandStr),$e.assert=function(le,Me,We){le("if(!(",Me,"))",this.CHECK,".commandRaise(",je(We),",",this.command,");")},vt.invalidBlendCombinations=Ma});var ye=$e.next={},Zt=$e.current={};Object.keys(Zi).forEach(function(le){Array.isArray(Gi[le])&&(ye[le]=L.def($t.next,".",le),Zt[le]=L.def($t.current,".",le))});var de=$e.constants={};Object.keys(vt).forEach(function(le){de[le]=L.def(JSON.stringify(vt[le]))}),$e.invoke=function(le,Me){switch(Me.type){case 0:var We=["this",$t.context,$t.props,$e.batchId];return le.def(je(Me.data),".call(",We.slice(0,Math.max(Me.data.length+1,4)),")");case 1:return le.def($t.props,Me.data);case 2:return le.def($t.context,Me.data);case 3:return le.def("this",Me.data);case 4:return Me.data.append($e,le),Me.data.ref;case 5:return Me.data.toString();case 6:return Me.data.map(function(Ye){return $e.invoke(le,Ye)})}},$e.attribCache={};var he={};return $e.scopeAttrib=function(le){var Me=sn.id(le);if(Me in he)return he[Me];var We=Fr.scope[Me];return We||(We=Fr.scope[Me]=new Qr),he[Me]=je(We)},$e}function ie($e,je,L,St,$t){var ye=$e.static,Zt=$e.dynamic;at.optional(function(){var mn=[li,xi,Ci,di,Ti,Ni,pi,Bi,ui,Fi].concat(ha);function jn(Ie){Object.keys(Ie).forEach(function(fe){at.command(mn.indexOf(fe)>=0,'unknown parameter "'+fe+'"',$t.commandStr)})}jn(ye),jn(Zt)});var de=function(mn,jn){var Ie=mn.static;if(typeof Ie[Ci]=="string"&&typeof Ie[xi]=="string"){if(Object.keys(jn.dynamic).length>0)return null;var fe=jn.static,Ne=Object.keys(fe);if(Ne.length>0&&typeof fe[Ne[0]]=="number"){for(var Fe=[],rn=0;rn<Ne.length;++rn)at(typeof fe[Ne[rn]]=="number","must specify all vertex attribute locations when using vaos"),Fe.push([0|fe[Ne[rn]],Ne[rn]]);return Fe}}return null}($e,je),he=function(mn,jn){var Ie=mn.static,fe=mn.dynamic;if(li in Ie){var Ne=Ie[li];return Ne?(Ne=ni.getFramebuffer(Ne),at.command(Ne,"invalid framebuffer object"),te(function(rn,ln){var _e=rn.link(Ne),dn=rn.shared;ln.set(dn.framebuffer,".next",_e);var En=dn.context;return ln.set(En,"."+ma,_e+".width"),ln.set(En,"."+ua,_e+".height"),_e})):te(function(rn,ln){var _e=rn.shared;ln.set(_e.framebuffer,".next","null");var dn=_e.context;return ln.set(dn,"."+ma,dn+".drawingBufferWidth"),ln.set(dn,"."+ua,dn+".drawingBufferHeight"),"null"})}if(li in fe){var Fe=fe[li];return Oe(Fe,function(rn,ln){var _e=rn.invoke(ln,Fe),dn=rn.shared,En=dn.framebuffer,tr=ln.def(En,".getFramebuffer(",_e,")");at.optional(function(){rn.assert(ln,"!"+_e+"||"+tr,"invalid framebuffer object")}),ln.set(En,".next",tr);var Pn=dn.context;return ln.set(Pn,"."+ma,tr+"?"+tr+".width:"+Pn+".drawingBufferWidth"),ln.set(Pn,"."+ua,tr+"?"+tr+".height:"+Pn+".drawingBufferHeight"),tr})}return null}($e),le=function(mn,jn,Ie){var fe=mn.static,Ne=mn.dynamic;function Fe(_e){if(_e in fe){var dn=fe[_e];at.commandType(dn,"object","invalid "+_e,Ie.commandStr);var En,tr,Pn=!0,Fn=0|dn.x,Cr=0|dn.y;return"width"in dn?(En=0|dn.width,at.command(En>=0,"invalid "+_e,Ie.commandStr)):Pn=!1,"height"in dn?(tr=0|dn.height,at.command(tr>=0,"invalid "+_e,Ie.commandStr)):Pn=!1,new ae(!Pn&&jn&&jn.thisDep,!Pn&&jn&&jn.contextDep,!Pn&&jn&&jn.propDep,function(zr,wi){var Ai=zr.shared.context,gi=En;"width"in dn||(gi=wi.def(Ai,".",ma,"-",Fn));var Oa=tr;return"height"in dn||(Oa=wi.def(Ai,".",ua,"-",Cr)),[Fn,Cr,gi,Oa]})}if(_e in Ne){var fi=Ne[_e],ri=Oe(fi,function(zr,wi){var Ai=zr.invoke(wi,fi);at.optional(function(){zr.assert(wi,Ai+"&&typeof "+Ai+'==="object"',"invalid "+_e)});var gi=zr.shared.context,Oa=wi.def(Ai,".x|0"),Aa=wi.def(Ai,".y|0"),Oo=wi.def('"width" in ',Ai,"?",Ai,".width|0:","(",gi,".",ma,"-",Oa,")"),Fo=wi.def('"height" in ',Ai,"?",Ai,".height|0:","(",gi,".",ua,"-",Aa,")");return at.optional(function(){zr.assert(wi,Oo+">=0&&"+Fo+">=0","invalid "+_e)}),[Oa,Aa,Oo,Fo]});return jn&&(ri.thisDep=ri.thisDep||jn.thisDep,ri.contextDep=ri.contextDep||jn.contextDep,ri.propDep=ri.propDep||jn.propDep),ri}return jn?new ae(jn.thisDep,jn.contextDep,jn.propDep,function(zr,wi){var Ai=zr.shared.context;return[0,0,wi.def(Ai,".",ma),wi.def(Ai,".",ua)]}):null}var rn=Fe("viewport");if(rn){var ln=rn;rn=new ae(rn.thisDep,rn.contextDep,rn.propDep,function(_e,dn){var En=ln.append(_e,dn),tr=_e.shared.context;return dn.set(tr,".viewportWidth",En[2]),dn.set(tr,".viewportHeight",En[3]),En})}return{viewport:rn,scissor_box:Fe("scissor.box")}}($e,he,$t),Me=function(mn,jn){var Ie=mn.static,fe=mn.dynamic,Ne=function(){if(di in Ie){var ln=Ie[di];Ga(ln)?ln=wr.getElements(wr.create(ln,!0)):ln&&(ln=wr.getElements(ln),at.command(ln,"invalid elements",jn.commandStr));var _e=te(function(En,tr){if(ln){var Pn=En.link(ln);return En.ELEMENTS=Pn,Pn}return En.ELEMENTS=null,null});return _e.value=ln,_e}if(di in fe){var dn=fe[di];return Oe(dn,function(En,tr){var Pn=En.shared,Fn=Pn.isBufferArgs,Cr=Pn.elements,fi=En.invoke(tr,dn),ri=tr.def("null"),zr=tr.def(Fn,"(",fi,")"),wi=En.cond(zr).then(ri,"=",Cr,".createStream(",fi,");").else(ri,"=",Cr,".getElements(",fi,");");return at.optional(function(){En.assert(wi.else,"!"+fi+"||"+ri,"invalid elements")}),tr.entry(wi),tr.exit(En.cond(zr).then(Cr,".destroyStream(",ri,");")),En.ELEMENTS=ri,ri})}return null}();function Fe(ln,_e){if(ln in Ie){var dn=0|Ie[ln];return at.command(!_e||dn>=0,"invalid "+ln,jn.commandStr),te(function(tr,Pn){return _e&&(tr.OFFSET=dn),dn})}if(ln in fe){var En=fe[ln];return Oe(En,function(tr,Pn){var Fn=tr.invoke(Pn,En);return _e&&(tr.OFFSET=Fn,at.optional(function(){tr.assert(Pn,Fn+">=0","invalid "+ln)})),Fn})}return _e&&Ne?te(function(tr,Pn){return tr.OFFSET="0",0}):null}var rn=Fe(Ni,!0);return{elements:Ne,primitive:function(){if(Ti in Ie){var ln=Ie[Ti];return at.commandParameter(ln,Dt,"invalid primitve",jn.commandStr),te(function(dn,En){return Dt[ln]})}if(Ti in fe){var _e=fe[Ti];return Oe(_e,function(dn,En){var tr=dn.constants.primTypes,Pn=dn.invoke(En,_e);return at.optional(function(){dn.assert(En,Pn+" in "+tr,"invalid primitive, must be one of "+Object.keys(Dt))}),En.def(tr,"[",Pn,"]")})}return Ne?Kt(Ne)?Ne.value?te(function(dn,En){return En.def(dn.ELEMENTS,".primType")}):te(function(){return 4}):new ae(Ne.thisDep,Ne.contextDep,Ne.propDep,function(dn,En){var tr=dn.ELEMENTS;return En.def(tr,"?",tr,".primType:",4)}):null}(),count:function(){if(pi in Ie){var ln=0|Ie[pi];return at.command(typeof ln=="number"&&ln>=0,"invalid vertex count",jn.commandStr),te(function(){return ln})}if(pi in fe){var _e=fe[pi];return Oe(_e,function(tr,Pn){var Fn=tr.invoke(Pn,_e);return at.optional(function(){tr.assert(Pn,"typeof "+Fn+'==="number"&&'+Fn+">=0&&"+Fn+"===("+Fn+"|0)","invalid vertex count")}),Fn})}if(Ne){if(Kt(Ne)){if(Ne)return rn?new ae(rn.thisDep,rn.contextDep,rn.propDep,function(tr,Pn){var Fn=Pn.def(tr.ELEMENTS,".vertCount-",tr.OFFSET);return at.optional(function(){tr.assert(Pn,Fn+">=0","invalid vertex offset/element buffer too small")}),Fn}):te(function(tr,Pn){return Pn.def(tr.ELEMENTS,".vertCount")});var dn=te(function(){return-1});return at.optional(function(){dn.MISSING=!0}),dn}var En=new ae(Ne.thisDep||rn.thisDep,Ne.contextDep||rn.contextDep,Ne.propDep||rn.propDep,function(tr,Pn){var Fn=tr.ELEMENTS;return tr.OFFSET?Pn.def(Fn,"?",Fn,".vertCount-",tr.OFFSET,":-1"):Pn.def(Fn,"?",Fn,".vertCount:-1")});return at.optional(function(){En.DYNAMIC=!0}),En}return null}(),instances:Fe(Bi,!1),offset:rn}}($e,$t),We=function(mn,jn){var Ie=mn.static,fe=mn.dynamic,Ne={};return ha.forEach(function(Fe){var rn=ve(Fe);function ln(_e,dn){if(Fe in Ie){var En=_e(Ie[Fe]);Ne[rn]=te(function(){return En})}else if(Fe in fe){var tr=fe[Fe];Ne[rn]=Oe(tr,function(Pn,Fn){return dn(Pn,Fn,Pn.invoke(Fn,tr))})}}switch(Fe){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return ln(function(_e){return at.commandType(_e,"boolean",Fe,jn.commandStr),_e},function(_e,dn,En){return at.optional(function(){_e.assert(dn,"typeof "+En+'==="boolean"',"invalid flag "+Fe,_e.commandStr)}),En});case"depth.func":return ln(function(_e){return at.commandParameter(_e,Qi,"invalid "+Fe,jn.commandStr),Qi[_e]},function(_e,dn,En){var tr=_e.constants.compareFuncs;return at.optional(function(){_e.assert(dn,En+" in "+tr,"invalid "+Fe+", must be one of "+Object.keys(Qi))}),dn.def(tr,"[",En,"]")});case"depth.range":return ln(function(_e){return at.command(Ht(_e)&&_e.length===2&&typeof _e[0]=="number"&&typeof _e[1]=="number"&&_e[0]<=_e[1],"depth range is 2d array",jn.commandStr),_e},function(_e,dn,En){return at.optional(function(){_e.assert(dn,_e.shared.isArrayLike+"("+En+")&&"+En+".length===2&&typeof "+En+'[0]==="number"&&typeof '+En+'[1]==="number"&&'+En+"[0]<="+En+"[1]","depth range must be a 2d array")}),[dn.def("+",En,"[0]"),dn.def("+",En,"[1]")]});case"blend.func":return ln(function(_e){at.commandType(_e,"object","blend.func",jn.commandStr);var dn="srcRGB"in _e?_e.srcRGB:_e.src,En="srcAlpha"in _e?_e.srcAlpha:_e.src,tr="dstRGB"in _e?_e.dstRGB:_e.dst,Pn="dstAlpha"in _e?_e.dstAlpha:_e.dst;return at.commandParameter(dn,xa,rn+".srcRGB",jn.commandStr),at.commandParameter(En,xa,rn+".srcAlpha",jn.commandStr),at.commandParameter(tr,xa,rn+".dstRGB",jn.commandStr),at.commandParameter(Pn,xa,rn+".dstAlpha",jn.commandStr),at.command(Ma.indexOf(dn+", "+tr)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+dn+", "+tr+")",jn.commandStr),[xa[dn],xa[tr],xa[En],xa[Pn]]},function(_e,dn,En){var tr=_e.constants.blendFuncs;function Pn(zr,wi){var Ai=dn.def('"',zr,wi,'" in ',En,"?",En,".",zr,wi,":",En,".",zr);return at.optional(function(){_e.assert(dn,Ai+" in "+tr,"invalid "+Fe+"."+zr+wi+", must be one of "+Object.keys(xa))}),Ai}at.optional(function(){_e.assert(dn,En+"&&typeof "+En+'==="object"',"invalid blend func, must be an object")});var Fn=Pn("src","RGB"),Cr=Pn("dst","RGB");at.optional(function(){var zr=_e.constants.invalidBlendCombinations;_e.assert(dn,zr+".indexOf("+Fn+'+", "+'+Cr+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var fi=dn.def(tr,"[",Fn,"]"),ri=dn.def(tr,"[",Pn("src","Alpha"),"]");return[fi,dn.def(tr,"[",Cr,"]"),ri,dn.def(tr,"[",Pn("dst","Alpha"),"]")]});case"blend.equation":return ln(function(_e){return typeof _e=="string"?(at.commandParameter(_e,Oi,"invalid "+Fe,jn.commandStr),[Oi[_e],Oi[_e]]):x(_e)==="object"?(at.commandParameter(_e.rgb,Oi,Fe+".rgb",jn.commandStr),at.commandParameter(_e.alpha,Oi,Fe+".alpha",jn.commandStr),[Oi[_e.rgb],Oi[_e.alpha]]):void at.commandRaise("invalid blend.equation",jn.commandStr)},function(_e,dn,En){var tr=_e.constants.blendEquations,Pn=dn.def(),Fn=dn.def(),Cr=_e.cond("typeof ",En,'==="string"');return at.optional(function(){function fi(ri,zr,wi){_e.assert(ri,wi+" in "+tr,"invalid "+zr+", must be one of "+Object.keys(Oi))}fi(Cr.then,Fe,En),_e.assert(Cr.else,En+"&&typeof "+En+'==="object"',"invalid "+Fe),fi(Cr.else,Fe+".rgb",En+".rgb"),fi(Cr.else,Fe+".alpha",En+".alpha")}),Cr.then(Pn,"=",Fn,"=",tr,"[",En,"];"),Cr.else(Pn,"=",tr,"[",En,".rgb];",Fn,"=",tr,"[",En,".alpha];"),dn(Cr),[Pn,Fn]});case"blend.color":return ln(function(_e){return at.command(Ht(_e)&&_e.length===4,"blend.color must be a 4d array",jn.commandStr),it(4,function(dn){return+_e[dn]})},function(_e,dn,En){return at.optional(function(){_e.assert(dn,_e.shared.isArrayLike+"("+En+")&&"+En+".length===4","blend.color must be a 4d array")}),it(4,function(tr){return dn.def("+",En,"[",tr,"]")})});case"stencil.mask":return ln(function(_e){return at.commandType(_e,"number",rn,jn.commandStr),0|_e},function(_e,dn,En){return at.optional(function(){_e.assert(dn,"typeof "+En+'==="number"',"invalid stencil.mask")}),dn.def(En,"|0")});case"stencil.func":return ln(function(_e){at.commandType(_e,"object",rn,jn.commandStr);var dn=_e.cmp||"keep",En=_e.ref||0,tr="mask"in _e?_e.mask:-1;return at.commandParameter(dn,Qi,Fe+".cmp",jn.commandStr),at.commandType(En,"number",Fe+".ref",jn.commandStr),at.commandType(tr,"number",Fe+".mask",jn.commandStr),[Qi[dn],En,tr]},function(_e,dn,En){var tr=_e.constants.compareFuncs;return at.optional(function(){function Pn(){_e.assert(dn,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Pn(En+"&&typeof ",En,'==="object"'),Pn('!("cmp" in ',En,")||(",En,".cmp in ",tr,")")}),[dn.def('"cmp" in ',En,"?",tr,"[",En,".cmp]",":",7680),dn.def(En,".ref|0"),dn.def('"mask" in ',En,"?",En,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return ln(function(_e){at.commandType(_e,"object",rn,jn.commandStr);var dn=_e.fail||"keep",En=_e.zfail||"keep",tr=_e.zpass||"keep";return at.commandParameter(dn,ka,Fe+".fail",jn.commandStr),at.commandParameter(En,ka,Fe+".zfail",jn.commandStr),at.commandParameter(tr,ka,Fe+".zpass",jn.commandStr),[Fe==="stencil.opBack"?1029:1028,ka[dn],ka[En],ka[tr]]},function(_e,dn,En){var tr=_e.constants.stencilOps;function Pn(Fn){return at.optional(function(){_e.assert(dn,'!("'+Fn+'" in '+En+")||("+En+"."+Fn+" in "+tr+")","invalid "+Fe+"."+Fn+", must be one of "+Object.keys(ka))}),dn.def('"',Fn,'" in ',En,"?",tr,"[",En,".",Fn,"]:",7680)}return at.optional(function(){_e.assert(dn,En+"&&typeof "+En+'==="object"',"invalid "+Fe)}),[Fe==="stencil.opBack"?1029:1028,Pn("fail"),Pn("zfail"),Pn("zpass")]});case"polygonOffset.offset":return ln(function(_e){at.commandType(_e,"object",rn,jn.commandStr);var dn=0|_e.factor,En=0|_e.units;return at.commandType(dn,"number",rn+".factor",jn.commandStr),at.commandType(En,"number",rn+".units",jn.commandStr),[dn,En]},function(_e,dn,En){return at.optional(function(){_e.assert(dn,En+"&&typeof "+En+'==="object"',"invalid "+Fe)}),[dn.def(En,".factor|0"),dn.def(En,".units|0")]});case"cull.face":return ln(function(_e){var dn=0;return _e==="front"?dn=1028:_e==="back"&&(dn=1029),at.command(!!dn,rn,jn.commandStr),dn},function(_e,dn,En){return at.optional(function(){_e.assert(dn,En+'==="front"||'+En+'==="back"',"invalid cull.face")}),dn.def(En,'==="front"?',1028,":",1029)});case"lineWidth":return ln(function(_e){return at.command(typeof _e=="number"&&_e>=ur.lineWidthDims[0]&&_e<=ur.lineWidthDims[1],"invalid line width, must be a positive number between "+ur.lineWidthDims[0]+" and "+ur.lineWidthDims[1],jn.commandStr),_e},function(_e,dn,En){return at.optional(function(){_e.assert(dn,"typeof "+En+'==="number"&&'+En+">="+ur.lineWidthDims[0]+"&&"+En+"<="+ur.lineWidthDims[1],"invalid line width")}),En});case"frontFace":return ln(function(_e){return at.commandParameter(_e,za,rn,jn.commandStr),za[_e]},function(_e,dn,En){return at.optional(function(){_e.assert(dn,En+'==="cw"||'+En+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),dn.def(En+'==="cw"?2304:2305')});case"colorMask":return ln(function(_e){return at.command(Ht(_e)&&_e.length===4,"color.mask must be length 4 array",jn.commandStr),_e.map(function(dn){return!!dn})},function(_e,dn,En){return at.optional(function(){_e.assert(dn,_e.shared.isArrayLike+"("+En+")&&"+En+".length===4","invalid color.mask")}),it(4,function(tr){return"!!"+En+"["+tr+"]"})});case"sample.coverage":return ln(function(_e){at.command(x(_e)==="object"&&_e,rn,jn.commandStr);var dn="value"in _e?_e.value:1,En=!!_e.invert;return at.command(typeof dn=="number"&&dn>=0&&dn<=1,"sample.coverage.value must be a number between 0 and 1",jn.commandStr),[dn,En]},function(_e,dn,En){return at.optional(function(){_e.assert(dn,En+"&&typeof "+En+'==="object"',"invalid sample.coverage")}),[dn.def('"value" in ',En,"?+",En,".value:1"),dn.def("!!",En,".invert")]})}}),Ne}($e,$t),Ye=function(mn,jn,Ie){var fe=mn.static,Ne=mn.dynamic;function Fe(En){if(En in fe){var tr=sn.id(fe[En]);at.optional(function(){Lr.shader(vo[En],tr,at.guessCommand())});var Pn=te(function(){return tr});return Pn.id=tr,Pn}if(En in Ne){var Fn=Ne[En];return Oe(Fn,function(Cr,fi){var ri=Cr.invoke(fi,Fn),zr=fi.def(Cr.shared.strings,".id(",ri,")");return at.optional(function(){fi(Cr.shared.shader,".shader(",vo[En],",",zr,",",Cr.command,");")}),zr})}return null}var rn,ln=Fe(Ci),_e=Fe(xi),dn=null;return Kt(ln)&&Kt(_e)?(dn=Lr.program(_e.id,ln.id,null,Ie),rn=te(function(En,tr){return En.link(dn)})):rn=new ae(ln&&ln.thisDep||_e&&_e.thisDep,ln&&ln.contextDep||_e&&_e.contextDep,ln&&ln.propDep||_e&&_e.propDep,function(En,tr){var Pn,Fn=En.shared.shader;Pn=ln?ln.append(En,tr):tr.def(Fn,".",Ci);var Cr=Fn+".program("+(_e?_e.append(En,tr):tr.def(Fn,".",xi))+","+Pn;return at.optional(function(){Cr+=","+En.command}),tr.def(Cr+")")}),{frag:ln,vert:_e,progVar:rn,program:dn}}($e,0,de);function ke(mn){var jn=le[mn];jn&&(We[mn]=jn)}ke("viewport"),ke(ve("scissor.box"));var nn=Object.keys(We).length>0,Re={framebuffer:he,draw:Me,shader:Ye,state:We,dirty:nn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Re.profile=function(mn){var jn,Ie=mn.static,fe=mn.dynamic;if(ui in Ie){var Ne=!!Ie[ui];(jn=te(function(rn,ln){return Ne})).enable=Ne}else if(ui in fe){var Fe=fe[ui];jn=Oe(Fe,function(rn,ln){return rn.invoke(ln,Fe)})}return jn}($e),Re.uniforms=function(mn,jn){var Ie=mn.static,fe=mn.dynamic,Ne={};return Object.keys(Ie).forEach(function(Fe){var rn,ln=Ie[Fe];if(typeof ln=="number"||typeof ln=="boolean")rn=te(function(){return ln});else if(typeof ln=="function"){var _e=ln._reglType;_e==="texture2d"||_e==="textureCube"?rn=te(function(dn){return dn.link(ln)}):_e==="framebuffer"||_e==="framebufferCube"?(at.command(ln.color.length>0,'missing color attachment for framebuffer sent to uniform "'+Fe+'"',jn.commandStr),rn=te(function(dn){return dn.link(ln.color[0])})):at.commandRaise('invalid data for uniform "'+Fe+'"',jn.commandStr)}else Ht(ln)?rn=te(function(dn){return dn.global.def("[",it(ln.length,function(En){return at.command(typeof ln[En]=="number"||typeof ln[En]=="boolean","invalid uniform "+Fe,dn.commandStr),ln[En]}),"]")}):at.commandRaise('invalid or missing data for uniform "'+Fe+'"',jn.commandStr);rn.value=ln,Ne[Fe]=rn}),Object.keys(fe).forEach(function(Fe){var rn=fe[Fe];Ne[Fe]=Oe(rn,function(ln,_e){return ln.invoke(_e,rn)})}),Ne}(L,$t),Re.drawVAO=Re.scopeVAO=function(mn,jn){var Ie=mn.static,fe=mn.dynamic;if(Fi in Ie){var Ne=Ie[Fi];return Ne!==null&&Fr.getVAO(Ne)===null&&(Ne=Fr.createVAO(Ne)),te(function(rn){return rn.link(Fr.getVAO(Ne))})}if(Fi in fe){var Fe=fe[Fi];return Oe(Fe,function(rn,ln){var _e=rn.invoke(ln,Fe);return ln.def(rn.shared.vao+".getVAO("+_e+")")})}return null}($e),!Re.drawVAO&&Ye.program&&!de&&un.angle_instanced_arrays){var hn=!0,pn=Ye.program.attributes.map(function(mn){var jn=je.static[mn];return hn=hn&&!!jn,jn});if(hn&&pn.length>0){var on=Fr.getVAO(Fr.createVAO(pn));Re.drawVAO=new ae(null,null,null,function(mn,jn){return mn.link(on)}),Re.useVAO=!0}}return de?Re.useVAO=!0:Re.attributes=function(mn,jn){var Ie=mn.static,fe=mn.dynamic,Ne={};return Object.keys(Ie).forEach(function(Fe){var rn=Ie[Fe],ln=sn.id(Fe),_e=new Qr;if(Ga(rn))_e.state=1,_e.buffer=jr.getBuffer(jr.create(rn,34962,!1,!0)),_e.type=0;else{var dn=jr.getBuffer(rn);if(dn)_e.state=1,_e.buffer=dn,_e.type=0;else if(at.command(x(rn)==="object"&&rn,"invalid data for attribute "+Fe,jn.commandStr),"constant"in rn){var En=rn.constant;_e.buffer="null",_e.state=2,typeof En=="number"?_e.x=En:(at.command(Ht(En)&&En.length>0&&En.length<=4,"invalid constant for attribute "+Fe,jn.commandStr),$r.forEach(function(zr,wi){wi<En.length&&(_e[zr]=En[wi])}))}else{dn=Ga(rn.buffer)?jr.getBuffer(jr.create(rn.buffer,34962,!1,!0)):jr.getBuffer(rn.buffer),at.command(!!dn,'missing buffer for attribute "'+Fe+'"',jn.commandStr);var tr=0|rn.offset;at.command(tr>=0,'invalid offset for attribute "'+Fe+'"',jn.commandStr);var Pn=0|rn.stride;at.command(Pn>=0&&Pn<256,'invalid stride for attribute "'+Fe+'", must be integer betweeen [0, 255]',jn.commandStr);var Fn=0|rn.size;at.command(!("size"in rn)||Fn>0&&Fn<=4,'invalid size for attribute "'+Fe+'", must be 1,2,3,4',jn.commandStr);var Cr=!!rn.normalized,fi=0;"type"in rn&&(at.commandParameter(rn.type,rt,"invalid type for attribute "+Fe,jn.commandStr),fi=rt[rn.type]);var ri=0|rn.divisor;"divisor"in rn&&(at.command(ri===0||Ri,'cannot specify divisor for attribute "'+Fe+'", instancing not supported',jn.commandStr),at.command(ri>=0,'invalid divisor for attribute "'+Fe+'"',jn.commandStr)),at.optional(function(){var zr=jn.commandStr,wi=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(rn).forEach(function(Ai){at.command(wi.indexOf(Ai)>=0,'unknown parameter "'+Ai+'" for attribute pointer "'+Fe+'" (valid parameters are '+wi+")",zr)})}),_e.buffer=dn,_e.state=1,_e.size=Fn,_e.normalized=Cr,_e.type=fi||dn.dtype,_e.offset=tr,_e.stride=Pn,_e.divisor=ri}}Ne[Fe]=te(function(zr,wi){var Ai=zr.attribCache;if(ln in Ai)return Ai[ln];var gi={isStream:!1};return Object.keys(_e).forEach(function(Oa){gi[Oa]=_e[Oa]}),_e.buffer&&(gi.buffer=zr.link(_e.buffer),gi.type=gi.type||gi.buffer+".dtype"),Ai[ln]=gi,gi})}),Object.keys(fe).forEach(function(Fe){var rn=fe[Fe];Ne[Fe]=Oe(rn,function(ln,_e){var dn=ln.invoke(_e,rn),En=ln.shared,tr=ln.constants,Pn=En.isBufferArgs,Fn=En.buffer;at.optional(function(){ln.assert(_e,dn+"&&(typeof "+dn+'==="object"||typeof '+dn+'==="function")&&('+Pn+"("+dn+")||"+Fn+".getBuffer("+dn+")||"+Fn+".getBuffer("+dn+".buffer)||"+Pn+"("+dn+'.buffer)||("constant" in '+dn+"&&(typeof "+dn+'.constant==="number"||'+En.isArrayLike+"("+dn+".constant))))",'invalid dynamic attribute "'+Fe+'"')});var Cr={isStream:_e.def(!1)},fi=new Qr;fi.state=1,Object.keys(fi).forEach(function(Ai){Cr[Ai]=_e.def(""+fi[Ai])});var ri=Cr.buffer,zr=Cr.type;function wi(Ai){_e(Cr[Ai],"=",dn,".",Ai,"|0;")}return _e("if(",Pn,"(",dn,")){",Cr.isStream,"=true;",ri,"=",Fn,".createStream(",34962,",",dn,");",zr,"=",ri,".dtype;","}else{",ri,"=",Fn,".getBuffer(",dn,");","if(",ri,"){",zr,"=",ri,".dtype;",'}else if("constant" in ',dn,"){",Cr.state,"=",2,";","if(typeof "+dn+'.constant === "number"){',Cr[$r[0]],"=",dn,".constant;",$r.slice(1).map(function(Ai){return Cr[Ai]}).join("="),"=0;","}else{",$r.map(function(Ai,gi){return Cr[Ai]+"="+dn+".constant.length>"+gi+"?"+dn+".constant["+gi+"]:0;"}).join(""),"}}else{","if(",Pn,"(",dn,".buffer)){",ri,"=",Fn,".createStream(",34962,",",dn,".buffer);","}else{",ri,"=",Fn,".getBuffer(",dn,".buffer);","}",zr,'="type" in ',dn,"?",tr.glTypes,"[",dn,".type]:",ri,".dtype;",Cr.normalized,"=!!",dn,".normalized;"),wi("size"),wi("offset"),wi("stride"),wi("divisor"),_e("}}"),_e.exit("if(",Cr.isStream,"){",Fn,".destroyStream(",ri,");","}"),Cr})}),Ne}(je,$t),Re.context=function(mn){var jn=mn.static,Ie=mn.dynamic,fe={};return Object.keys(jn).forEach(function(Ne){var Fe=jn[Ne];fe[Ne]=te(function(rn,ln){return typeof Fe=="number"||typeof Fe=="boolean"?""+Fe:rn.link(Fe)})}),Object.keys(Ie).forEach(function(Ne){var Fe=Ie[Ne];fe[Ne]=Oe(Fe,function(rn,ln){return rn.invoke(ln,Fe)})}),fe}(St),Re}function ue($e,je,L){var St=$e.shared.context,$t=$e.scope();Object.keys(L).forEach(function(ye){je.save(St,"."+ye);var Zt=L[ye].append($e,je);Array.isArray(Zt)?$t(St,".",ye,"=[",Zt.join(),"];"):$t(St,".",ye,"=",Zt,";")}),je($t)}function Ce($e,je,L,St){var $t,ye=$e.shared,Zt=ye.gl,de=ye.framebuffer;Ei&&($t=je.def(ye.extensions,".webgl_draw_buffers"));var he,le=$e.constants,Me=le.drawBuffer,We=le.backBuffer;he=L?L.append($e,je):je.def(de,".next"),St||je("if(",he,"!==",de,".cur){"),je("if(",he,"){",Zt,".bindFramebuffer(",36160,",",he,".framebuffer);"),Ei&&je($t,".drawBuffersWEBGL(",Me,"[",he,".colorAttachments.length]);"),je("}else{",Zt,".bindFramebuffer(",36160,",null);"),Ei&&je($t,".drawBuffersWEBGL(",We,");"),je("}",de,".cur=",he,";"),St||je("}")}function we($e,je,L){var St=$e.shared,$t=St.gl,ye=$e.current,Zt=$e.next,de=St.current,he=St.next,le=$e.cond(de,".dirty");ha.forEach(function(Me){var We,Ye,ke=ve(Me);if(!(ke in L.state))if(ke in Zt){We=Zt[ke],Ye=ye[ke];var nn=it(Gi[ke].length,function(hn){return le.def(We,"[",hn,"]")});le($e.cond(nn.map(function(hn,pn){return hn+"!=="+Ye+"["+pn+"]"}).join("||")).then($t,".",Zi[ke],"(",nn,");",nn.map(function(hn,pn){return Ye+"["+pn+"]="+hn}).join(";"),";"))}else{We=le.def(he,".",ke);var Re=$e.cond(We,"!==",de,".",ke);le(Re),ke in na?Re($e.cond(We).then($t,".enable(",na[ke],");").else($t,".disable(",na[ke],");"),de,".",ke,"=",We,";"):Re($t,".",Zi[ke],"(",We,");",de,".",ke,"=",We,";")}}),Object.keys(L.state).length===0&&le(de,".dirty=false;"),je(le)}function cn($e,je,L,St){var $t=$e.shared,ye=$e.current,Zt=$t.current,de=$t.gl;eo(Object.keys(L)).forEach(function(he){var le=L[he];if(!St||St(le)){var Me=le.append($e,je);if(na[he]){var We=na[he];Kt(le)?je(de,Me?".enable(":".disable(",We,");"):je($e.cond(Me).then(de,".enable(",We,");").else(de,".disable(",We,");")),je(Zt,".",he,"=",Me,";")}else if(Ht(Me)){var Ye=ye[he];je(de,".",Zi[he],"(",Me,");",Me.map(function(ke,nn){return Ye+"["+nn+"]="+ke}).join(";"),";")}else je(de,".",Zi[he],"(",Me,");",Zt,".",he,"=",Me,";")}})}function Cn($e,je){Ri&&($e.instancing=je.def($e.shared.extensions,".angle_instanced_arrays"))}function _t($e,je,L,St,$t){var ye,Zt,de,he=$e.shared,le=$e.stats,Me=he.current,We=he.timer,Ye=L.profile;function ke(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}function nn(mn){mn(ye=je.def(),"=",ke(),";"),typeof $t=="string"?mn(le,".count+=",$t,";"):mn(le,".count++;"),ei&&(St?mn(Zt=je.def(),"=",We,".getNumPendingQueries();"):mn(We,".beginQuery(",le,");"))}function Re(mn){mn(le,".cpuTime+=",ke(),"-",ye,";"),ei&&(St?mn(We,".pushScopeStats(",Zt,",",We,".getNumPendingQueries(),",le,");"):mn(We,".endQuery();"))}function hn(mn){var jn=je.def(Me,".profile");je(Me,".profile=",mn,";"),je.exit(Me,".profile=",jn,";")}if(Ye){if(Kt(Ye))return void(Ye.enable?(nn(je),Re(je.exit),hn("true")):hn("false"));hn(de=Ye.append($e,je))}else de=je.def(Me,".profile");var pn=$e.block();nn(pn),je("if(",de,"){",pn,"}");var on=$e.block();Re(on),je.exit("if(",de,"){",on,"}")}function Xt($e,je,L,St,$t){var ye=$e.shared;St.forEach(function(Zt){var de,he=Zt.name,le=L.attributes[he];if(le){if(!$t(le))return;de=le.append($e,je)}else{if(!$t(Ze))return;var Me=$e.scopeAttrib(he);at.optional(function(){$e.assert(je,Me+".state","missing attribute "+he)}),de={},Object.keys(new Qr).forEach(function(We){de[We]=je.def(Me,".",We)})}(function(We,Ye,ke){var nn=ye.gl,Re=je.def(We,".location"),hn=je.def(ye.attributes,"[",Re,"]"),pn=ke.state,on=ke.buffer,mn=[ke.x,ke.y,ke.z,ke.w],jn=["buffer","normalized","offset","stride"];function Ie(){je("if(!",hn,".buffer){",nn,".enableVertexAttribArray(",Re,");}");var Ne,Fe=ke.type;if(Ne=ke.size?je.def(ke.size,"||",Ye):Ye,je("if(",hn,".type!==",Fe,"||",hn,".size!==",Ne,"||",jn.map(function(ln){return hn+"."+ln+"!=="+ke[ln]}).join("||"),"){",nn,".bindBuffer(",34962,",",on,".buffer);",nn,".vertexAttribPointer(",[Re,Ne,Fe,ke.normalized,ke.stride,ke.offset],");",hn,".type=",Fe,";",hn,".size=",Ne,";",jn.map(function(ln){return hn+"."+ln+"="+ke[ln]+";"}).join(""),"}"),Ri){var rn=ke.divisor;je("if(",hn,".divisor!==",rn,"){",$e.instancing,".vertexAttribDivisorANGLE(",[Re,rn],");",hn,".divisor=",rn,";}")}}function fe(){je("if(",hn,".buffer){",nn,".disableVertexAttribArray(",Re,");",hn,".buffer=null;","}if(",$r.map(function(Ne,Fe){return hn+"."+Ne+"!=="+mn[Fe]}).join("||"),"){",nn,".vertexAttrib4f(",Re,",",mn,");",$r.map(function(Ne,Fe){return hn+"."+Ne+"="+mn[Fe]+";"}).join(""),"}")}pn===1?Ie():pn===2?fe():(je("if(",pn,"===",1,"){"),Ie(),je("}else{"),fe(),je("}"))})($e.link(Zt),function(We){switch(We){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}(Zt.info.type),de)})}function Se($e,je,L,St,$t){for(var ye,Zt=$e.shared,de=Zt.gl,he=0;he<St.length;++he){var le,Me=St[he],We=Me.name,Ye=Me.info.type,ke=L.uniforms[We],nn=$e.link(Me)+".location";if(ke){if(!$t(ke))continue;if(Kt(ke)){var Re=ke.value;if(at.command(Re!=null,'missing uniform "'+We+'"',$e.commandStr),Ye===35678||Ye===35680){at.command(typeof Re=="function"&&(Ye===35678&&(Re._reglType==="texture2d"||Re._reglType==="framebuffer")||Ye===35680&&(Re._reglType==="textureCube"||Re._reglType==="framebufferCube")),"invalid texture for uniform "+We,$e.commandStr);var hn=$e.link(Re._texture||Re.color[0]._texture);je(de,".uniform1i(",nn,",",hn+".bind());"),je.exit(hn,".unbind();")}else if(Ye===35674||Ye===35675||Ye===35676){at.optional(function(){at.command(Ht(Re),"invalid matrix for uniform "+We,$e.commandStr),at.command(Ye===35674&&Re.length===4||Ye===35675&&Re.length===9||Ye===35676&&Re.length===16,"invalid length for matrix uniform "+We,$e.commandStr)});var pn=$e.global.def("new Float32Array(["+Array.prototype.slice.call(Re)+"])"),on=2;Ye===35675?on=3:Ye===35676&&(on=4),je(de,".uniformMatrix",on,"fv(",nn,",false,",pn,");")}else{switch(Ye){case 5126:at.commandType(Re,"number","uniform "+We,$e.commandStr),ye="1f";break;case 35664:at.command(Ht(Re)&&Re.length===2,"uniform "+We,$e.commandStr),ye="2f";break;case 35665:at.command(Ht(Re)&&Re.length===3,"uniform "+We,$e.commandStr),ye="3f";break;case 35666:at.command(Ht(Re)&&Re.length===4,"uniform "+We,$e.commandStr),ye="4f";break;case 35670:at.commandType(Re,"boolean","uniform "+We,$e.commandStr),ye="1i";break;case 5124:at.commandType(Re,"number","uniform "+We,$e.commandStr),ye="1i";break;case 35671:case 35667:at.command(Ht(Re)&&Re.length===2,"uniform "+We,$e.commandStr),ye="2i";break;case 35672:case 35668:at.command(Ht(Re)&&Re.length===3,"uniform "+We,$e.commandStr),ye="3i";break;case 35673:case 35669:at.command(Ht(Re)&&Re.length===4,"uniform "+We,$e.commandStr),ye="4i"}je(de,".uniform",ye,"(",nn,",",Ht(Re)?Array.prototype.slice.call(Re):Re,");")}continue}le=ke.append($e,je)}else{if(!$t(Ze))continue;le=je.def(Zt.uniforms,"[",sn.id(We),"]")}Ye===35678?(at(!Array.isArray(le),"must specify a scalar prop for textures"),je("if(",le,"&&",le,'._reglType==="framebuffer"){',le,"=",le,".color[0];","}")):Ye===35680&&(at(!Array.isArray(le),"must specify a scalar prop for cube maps"),je("if(",le,"&&",le,'._reglType==="framebufferCube"){',le,"=",le,".color[0];","}")),at.optional(function(){function Ne(_e,dn){$e.assert(je,_e,'bad data or missing for uniform "'+We+'".  '+dn)}function Fe(_e){at(!Array.isArray(le),"must not specify an array type for uniform"),Ne("typeof "+le+'==="'+_e+'"',"invalid type, expected "+_e)}function rn(_e,dn){Array.isArray(le)?at(le.length===_e,"must have length "+_e):Ne(Zt.isArrayLike+"("+le+")&&"+le+".length==="+_e,"invalid vector, should have length "+_e,$e.commandStr)}function ln(_e){at(!Array.isArray(le),"must not specify a value type"),Ne("typeof "+le+'==="function"&&'+le+'._reglType==="texture'+(_e===3553?"2d":"Cube")+'"',"invalid texture type",$e.commandStr)}switch(Ye){case 5124:Fe("number");break;case 35667:rn(2);break;case 35668:rn(3);break;case 35669:rn(4);break;case 5126:Fe("number");break;case 35664:rn(2);break;case 35665:rn(3);break;case 35666:rn(4);break;case 35670:Fe("boolean");break;case 35671:rn(2);break;case 35672:rn(3);break;case 35673:case 35674:rn(4);break;case 35675:rn(9);break;case 35676:rn(16);break;case 35678:ln(3553);break;case 35680:ln(34067)}});var mn=1;switch(Ye){case 35678:case 35680:var jn=je.def(le,"._texture");je(de,".uniform1i(",nn,",",jn,".bind());"),je.exit(jn,".unbind();");continue;case 5124:case 35670:ye="1i";break;case 35667:case 35671:ye="2i",mn=2;break;case 35668:case 35672:ye="3i",mn=3;break;case 35669:case 35673:ye="4i",mn=4;break;case 5126:ye="1f";break;case 35664:ye="2f",mn=2;break;case 35665:ye="3f",mn=3;break;case 35666:ye="4f",mn=4;break;case 35674:ye="Matrix2fv";break;case 35675:ye="Matrix3fv";break;case 35676:ye="Matrix4fv"}if(je(de,".uniform",ye,"(",nn,","),ye.charAt(0)==="M"){var Ie=Math.pow(Ye-35674+2,2),fe=$e.global.def("new Float32Array(",Ie,")");Array.isArray(le)?je("false,(",it(Ie,function(Ne){return fe+"["+Ne+"]="+le[Ne]}),",",fe,")"):je("false,(Array.isArray(",le,")||",le," instanceof Float32Array)?",le,":(",it(Ie,function(Ne){return fe+"["+Ne+"]="+le+"["+Ne+"]"}),",",fe,")")}else mn>1?je(it(mn,function(Ne){return Array.isArray(le)?le[Ne]:le+"["+Ne+"]"})):(at(!Array.isArray(le),"uniform value must not be an array"),je(le));je(");")}}function Wt($e,je,L,St){var $t=$e.shared,ye=$t.gl,Zt=$t.draw,de=St.draw,he=function(){var mn,jn=de.elements,Ie=je;return jn?((jn.contextDep&&St.contextDynamic||jn.propDep)&&(Ie=L),mn=jn.append($e,Ie)):mn=Ie.def(Zt,".",di),mn&&Ie("if("+mn+")"+ye+".bindBuffer(34963,"+mn+".buffer.buffer);"),mn}();function le(mn){var jn=de[mn];return jn?jn.contextDep&&St.contextDynamic||jn.propDep?jn.append($e,L):jn.append($e,je):je.def(Zt,".",mn)}var Me,We,Ye=le(Ti),ke=le(Ni),nn=function(){var mn,jn=de.count,Ie=je;return jn?((jn.contextDep&&St.contextDynamic||jn.propDep)&&(Ie=L),mn=jn.append($e,Ie),at.optional(function(){jn.MISSING&&$e.assert(je,"false","missing vertex count"),jn.DYNAMIC&&$e.assert(Ie,mn+">=0","missing vertex count")})):(mn=Ie.def(Zt,".",pi),at.optional(function(){$e.assert(Ie,mn+">=0","missing vertex count")})),mn}();if(typeof nn=="number"){if(nn===0)return}else L("if(",nn,"){"),L.exit("}");Ri&&(Me=le(Bi),We=$e.instancing);var Re=he+".type",hn=de.elements&&Kt(de.elements);function pn(){function mn(){L(We,".drawElementsInstancedANGLE(",[Ye,nn,Re,ke+"<<(("+Re+"-5121)>>1)",Me],");")}function jn(){L(We,".drawArraysInstancedANGLE(",[Ye,ke,nn,Me],");")}he?hn?mn():(L("if(",he,"){"),mn(),L("}else{"),jn(),L("}")):jn()}function on(){function mn(){L(ye+".drawElements("+[Ye,nn,Re,ke+"<<(("+Re+"-5121)>>1)"]+");")}function jn(){L(ye+".drawArrays("+[Ye,ke,nn]+");")}he?hn?mn():(L("if(",he,"){"),mn(),L("}else{"),jn(),L("}")):jn()}Ri&&(typeof Me!="number"||Me>=0)?typeof Me=="string"?(L("if(",Me,">0){"),pn(),L("}else if(",Me,"<0){"),on(),L("}")):pn():on()}function ce($e,je,L,St,$t){var ye=Jt(),Zt=ye.proc("body",$t);return at.optional(function(){ye.commandStr=je.commandStr,ye.command=ye.link(je.commandStr)}),Ri&&(ye.instancing=Zt.def(ye.shared.extensions,".angle_instanced_arrays")),$e(ye,Zt,L,St),ye.compile().body}function yn($e,je,L,St){Cn($e,je),L.useVAO?L.drawVAO?je($e.shared.vao,".setVAO(",L.drawVAO.append($e,je),");"):je($e.shared.vao,".setVAO(",$e.shared.vao,".targetVAO);"):(je($e.shared.vao,".setVAO(null);"),Xt($e,je,L,St.attributes,function(){return!0})),Se($e,je,L,St.uniforms,function(){return!0}),Wt($e,je,je,L)}function Bn($e,je,L,St){function $t(){return!0}$e.batchId="a1",Cn($e,je),Xt($e,je,L,St.attributes,$t),Se($e,je,L,St.uniforms,$t),Wt($e,je,je,L)}function Zn($e,je,L,St){Cn($e,je);var $t=L.contextDep,ye=je.def(),Zt=je.def();$e.shared.props=Zt,$e.batchId=ye;var de=$e.scope(),he=$e.scope();function le(Re){return Re.contextDep&&$t||Re.propDep}function Me(Re){return!le(Re)}if(je(de.entry,"for(",ye,"=0;",ye,"<","a1",";++",ye,"){",Zt,"=","a0","[",ye,"];",he,"}",de.exit),L.needsContext&&ue($e,he,L.context),L.needsFramebuffer&&Ce($e,he,L.framebuffer),cn($e,he,L.state,le),L.profile&&le(L.profile)&&_t($e,he,L,!1,!0),St)L.useVAO?L.drawVAO?le(L.drawVAO)?he($e.shared.vao,".setVAO(",L.drawVAO.append($e,he),");"):de($e.shared.vao,".setVAO(",L.drawVAO.append($e,de),");"):de($e.shared.vao,".setVAO(",$e.shared.vao,".targetVAO);"):(de($e.shared.vao,".setVAO(null);"),Xt($e,de,L,St.attributes,Me),Xt($e,he,L,St.attributes,le)),Se($e,de,L,St.uniforms,Me),Se($e,he,L,St.uniforms,le),Wt($e,de,he,L);else{var We=$e.global.def("{}"),Ye=L.shader.progVar.append($e,he),ke=he.def(Ye,".id"),nn=he.def(We,"[",ke,"]");he($e.shared.gl,".useProgram(",Ye,".program);","if(!",nn,"){",nn,"=",We,"[",ke,"]=",$e.link(function(Re){return ce(Bn,$e,L,Re,2)}),"(",Ye,");}",nn,".call(this,a0[",ye,"],",ye,");")}}function Kn($e,je,L){var St=je.static[L];if(St&&function(Me){if(x(Me)==="object"&&!Ht(Me)){for(var We=Object.keys(Me),Ye=0;Ye<We.length;++Ye)if(ft.isDynamic(Me[We[Ye]]))return!0;return!1}}(St)){var $t=$e.global,ye=Object.keys(St),Zt=!1,de=!1,he=!1,le=$e.global.def("{}");ye.forEach(function(Me){var We=St[Me];if(ft.isDynamic(We)){typeof We=="function"&&(We=St[Me]=ft.unbox(We));var Ye=Oe(We,null);Zt=Zt||Ye.thisDep,he=he||Ye.propDep,de=de||Ye.contextDep}else{switch($t(le,".",Me,"="),x(We)){case"number":$t(We);break;case"string":$t('"',We,'"');break;case"object":Array.isArray(We)&&$t("[",We.join(),"]");break;default:$t($e.link(We))}$t(";")}}),je.dynamic[L]=new ft.DynamicVariable(4,{thisDep:Zt,contextDep:de,propDep:he,ref:le,append:function(We,Ye){ye.forEach(function(ke){var nn=St[ke];if(ft.isDynamic(nn)){var Re=We.invoke(Ye,nn);Ye(le,".",ke,"=",Re,";")}})}}),delete je.static[L]}}return{next:ca,current:Gi,procs:function(){var $e=Jt(),je=$e.proc("poll"),L=$e.proc("refresh"),St=$e.block();je(St),L(St);var $t,ye=$e.shared,Zt=ye.gl,de=ye.next,he=ye.current;St(he,".dirty=false;"),Ce($e,je),Ce($e,L,null,!0),Ri&&($t=$e.link(Ri)),un.oes_vertex_array_object&&L($e.link(un.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var le=0;le<ur.maxAttributes;++le){var Me=L.def(ye.attributes,"[",le,"]"),We=$e.cond(Me,".buffer");We.then(Zt,".enableVertexAttribArray(",le,");",Zt,".bindBuffer(",34962,",",Me,".buffer.buffer);",Zt,".vertexAttribPointer(",le,",",Me,".size,",Me,".type,",Me,".normalized,",Me,".stride,",Me,".offset);").else(Zt,".disableVertexAttribArray(",le,");",Zt,".vertexAttrib4f(",le,",",Me,".x,",Me,".y,",Me,".z,",Me,".w);",Me,".buffer=null;"),L(We),Ri&&L($t,".vertexAttribDivisorANGLE(",le,",",Me,".divisor);")}return L($e.shared.vao,".currentVAO=null;",$e.shared.vao,".setVAO(",$e.shared.vao,".targetVAO);"),Object.keys(na).forEach(function(Ye){var ke=na[Ye],nn=St.def(de,".",Ye),Re=$e.block();Re("if(",nn,"){",Zt,".enable(",ke,")}else{",Zt,".disable(",ke,")}",he,".",Ye,"=",nn,";"),L(Re),je("if(",nn,"!==",he,".",Ye,"){",Re,"}")}),Object.keys(Zi).forEach(function(Ye){var ke,nn,Re=Zi[Ye],hn=Gi[Ye],pn=$e.block();if(pn(Zt,".",Re,"("),Ht(hn)){var on=hn.length;ke=$e.global.def(de,".",Ye),nn=$e.global.def(he,".",Ye),pn(it(on,function(mn){return ke+"["+mn+"]"}),");",it(on,function(mn){return nn+"["+mn+"]="+ke+"["+mn+"];"}).join("")),je("if(",it(on,function(mn){return ke+"["+mn+"]!=="+nn+"["+mn+"]"}).join("||"),"){",pn,"}")}else ke=St.def(de,".",Ye),nn=St.def(he,".",Ye),pn(ke,");",he,".",Ye,"=",ke,";"),je("if(",ke,"!==",nn,"){",pn,"}");L(pn)}),$e.compile()}(),compile:function(je,L,St,$t,ye){var Zt=Jt();Zt.stats=Zt.link(ye),Object.keys(L.static).forEach(function(he){Kn(Zt,L,he)}),Ra.forEach(function(he){Kn(Zt,je,he)});var de=ie(je,L,St,$t,Zt);return function(he,le){var Me=he.proc("draw",1);Cn(he,Me),ue(he,Me,le.context),Ce(he,Me,le.framebuffer),we(he,Me,le),cn(he,Me,le.state),_t(he,Me,le,!1,!0);var We=le.shader.progVar.append(he,Me);if(Me(he.shared.gl,".useProgram(",We,".program);"),le.shader.program)yn(he,Me,le,le.shader.program);else{Me(he.shared.vao,".setVAO(null);");var Ye=he.global.def("{}"),ke=Me.def(We,".id"),nn=Me.def(Ye,"[",ke,"]");Me(he.cond(nn).then(nn,".call(this,a0);").else(nn,"=",Ye,"[",ke,"]=",he.link(function(Re){return ce(yn,he,le,Re,1)}),"(",We,");",nn,".call(this,a0);"))}Object.keys(le.state).length>0&&Me(he.shared.current,".dirty=true;")}(Zt,de),function(he,le){var Me=he.proc("scope",3);he.batchId="a2";var We=he.shared,Ye=We.current;function ke(nn){var Re=le.shader[nn];Re&&Me.set(We.shader,"."+nn,Re.append(he,Me))}ue(he,Me,le.context),le.framebuffer&&le.framebuffer.append(he,Me),eo(Object.keys(le.state)).forEach(function(nn){var Re=le.state[nn].append(he,Me);Ht(Re)?Re.forEach(function(hn,pn){Me.set(he.next[nn],"["+pn+"]",hn)}):Me.set(We.next,"."+nn,Re)}),_t(he,Me,le,!0,!0),[di,Ni,pi,Bi,Ti].forEach(function(nn){var Re=le.draw[nn];Re&&Me.set(We.draw,"."+nn,""+Re.append(he,Me))}),Object.keys(le.uniforms).forEach(function(nn){var Re=le.uniforms[nn].append(he,Me);Array.isArray(Re)&&(Re="["+Re.join()+"]"),Me.set(We.uniforms,"["+sn.id(nn)+"]",Re)}),Object.keys(le.attributes).forEach(function(nn){var Re=le.attributes[nn].append(he,Me),hn=he.scopeAttrib(nn);Object.keys(new Qr).forEach(function(pn){Me.set(hn,"."+pn,Re[pn])})}),le.scopeVAO&&Me.set(We.vao,".targetVAO",le.scopeVAO.append(he,Me)),ke(xi),ke(Ci),Object.keys(le.state).length>0&&(Me(Ye,".dirty=true;"),Me.exit(Ye,".dirty=true;")),Me("a1(",he.shared.context,",a0,",he.batchId,");")}(Zt,de),function(he,le){var Me=he.proc("batch",2);he.batchId="0",Cn(he,Me);var We=!1,Ye=!0;Object.keys(le.context).forEach(function(Ie){We=We||le.context[Ie].propDep}),We||(ue(he,Me,le.context),Ye=!1);var ke=le.framebuffer,nn=!1;function Re(Ie){return Ie.contextDep&&We||Ie.propDep}ke?(ke.propDep?We=nn=!0:ke.contextDep&&We&&(nn=!0),nn||Ce(he,Me,ke)):Ce(he,Me,null),le.state.viewport&&le.state.viewport.propDep&&(We=!0),we(he,Me,le),cn(he,Me,le.state,function(Ie){return!Re(Ie)}),le.profile&&Re(le.profile)||_t(he,Me,le,!1,"a1"),le.contextDep=We,le.needsContext=Ye,le.needsFramebuffer=nn;var hn=le.shader.progVar;if(hn.contextDep&&We||hn.propDep)Zn(he,Me,le,null);else{var pn=hn.append(he,Me);if(Me(he.shared.gl,".useProgram(",pn,".program);"),le.shader.program)Zn(he,Me,le,le.shader.program);else{Me(he.shared.vao,".setVAO(null);");var on=he.global.def("{}"),mn=Me.def(pn,".id"),jn=Me.def(on,"[",mn,"]");Me(he.cond(jn).then(jn,".call(this,a0,a1);").else(jn,"=",on,"[",mn,"]=",he.link(function(Ie){return ce(Zn,he,le,Ie,2)}),"(",pn,");",jn,".call(this,a0,a1);"))}}Object.keys(le.state).length>0&&Me(he.shared.current,".dirty=true;")}(Zt,de),I(Zt.compile(),{destroy:function(){de.shader.program.destroy()}})}}}var qn=function(sn,un){if(!un.ext_disjoint_timer_query)return null;var ur=[];function jr(ei){ur.push(ei)}var wr=[];function yr(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var ni=[];function _r(ei){ni.push(ei)}var Fr=[];function Lr(ei,Kr,Qr){var Oi=ni.pop()||new yr;Oi.startQueryIndex=ei,Oi.endQueryIndex=Kr,Oi.sum=0,Oi.stats=Qr,Fr.push(Oi)}var Gr=[],Hr=[];return{beginQuery:function(Kr){var Qr=ur.pop()||un.ext_disjoint_timer_query.createQueryEXT();un.ext_disjoint_timer_query.beginQueryEXT(35007,Qr),wr.push(Qr),Lr(wr.length-1,wr.length,Kr)},endQuery:function(){un.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:Lr,update:function(){var Kr,Qr,Oi=wr.length;if(Oi!==0){Hr.length=Math.max(Hr.length,Oi+1),Gr.length=Math.max(Gr.length,Oi+1),Gr[0]=0,Hr[0]=0;var Ri=0;for(Kr=0,Qr=0;Qr<wr.length;++Qr){var Ei=wr[Qr];un.ext_disjoint_timer_query.getQueryObjectEXT(Ei,34919)?(Ri+=un.ext_disjoint_timer_query.getQueryObjectEXT(Ei,34918),jr(Ei)):wr[Kr++]=Ei,Gr[Qr+1]=Ri,Hr[Qr+1]=Kr}for(wr.length=Kr,Kr=0,Qr=0;Qr<Fr.length;++Qr){var Gi=Fr[Qr],ca=Gi.startQueryIndex,ha=Gi.endQueryIndex;Gi.sum+=Gr[ha]-Gr[ca];var na=Hr[ca],Zi=Hr[ha];Zi===na?(Gi.stats.gpuTime+=Gi.sum/1e6,_r(Gi)):(Gi.startQueryIndex=na,Gi.endQueryIndex=Zi,Fr[Kr++]=Gi)}Fr.length=Kr}},getNumPendingQueries:function(){return wr.length},clear:function(){ur.push.apply(ur,wr);for(var Kr=0;Kr<ur.length;Kr++)un.ext_disjoint_timer_query.deleteQueryEXT(ur[Kr]);wr.length=0,ur.length=0},restore:function(){wr.length=0,ur.length=0}}};function rr(tn,sn){for(var un=0;un<tn.length;++un)if(tn[un]===sn)return un;return-1}return function(tn){var sn=lt(tn);if(!sn)return null;var un=sn.gl,ur=un.getContextAttributes(),jr=un.isContextLost(),wr=function(je,L){var St={};function $t(de){at.type(de,"string","extension name must be string");var he,le=de.toLowerCase();try{he=St[le]=je.getExtension(le)}catch(Me){}return!!he}for(var ye=0;ye<L.extensions.length;++ye){var Zt=L.extensions[ye];if(!$t(Zt))return L.onDestroy(),L.onDone('"'+Zt+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return L.optionalExtensions.forEach($t),{extensions:St,restore:function(){Object.keys(St).forEach(function(he){if(St[he]&&!$t(he))throw new Error("(regl): error restoring extension "+he)})}}}(un,sn);if(!wr)return null;var yr,ni,_r=(yr={"":0},ni=[""],{id:function(L){var St=yr[L];return St||(St=yr[L]=ni.length,ni.push(L),St)},str:function(L){return ni[L]}}),Fr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Lr=wr.extensions,Gr=qn(0,Lr),Hr=yt(),ei=un.drawingBufferWidth,Kr=un.drawingBufferHeight,Qr={tick:0,time:0,viewportWidth:ei,viewportHeight:Kr,framebufferWidth:ei,framebufferHeight:Kr,drawingBufferWidth:ei,drawingBufferHeight:Kr,pixelRatio:sn.pixelRatio},Oi=function(je,L){var St=1;L.ext_texture_filter_anisotropic&&(St=je.getParameter(34047));var $t=1,ye=1;L.webgl_draw_buffers&&($t=je.getParameter(34852),ye=je.getParameter(36063));var Zt=!!L.oes_texture_float;if(Zt){var de=je.createTexture();je.bindTexture(3553,de),je.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var he=je.createFramebuffer();if(je.bindFramebuffer(36160,he),je.framebufferTexture2D(36160,36064,3553,de,0),je.bindTexture(3553,null),je.checkFramebufferStatus(36160)!==36053)Zt=!1;else{je.viewport(0,0,1,1),je.clearColor(1,0,0,1),je.clear(16384);var le=Q.allocType(5126,4);je.readPixels(0,0,1,1,6408,5126,le),je.getError()?Zt=!1:(je.deleteFramebuffer(he),je.deleteTexture(de),Zt=le[0]===1),Q.freeType(le)}}var Me=!0;if(typeof navigator=="undefined"||!(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))){var We=je.createTexture(),Ye=Q.allocType(5121,36);je.activeTexture(33984),je.bindTexture(34067,We),je.texImage2D(34069,0,6408,3,3,0,6408,5121,Ye),Q.freeType(Ye),je.bindTexture(34067,null),je.deleteTexture(We),Me=!je.getError()}return{colorBits:[je.getParameter(3410),je.getParameter(3411),je.getParameter(3412),je.getParameter(3413)],depthBits:je.getParameter(3414),stencilBits:je.getParameter(3415),subpixelBits:je.getParameter(3408),extensions:Object.keys(L).filter(function(ke){return!!L[ke]}),maxAnisotropic:St,maxDrawbuffers:$t,maxColorAttachments:ye,pointSizeDims:je.getParameter(33901),lineWidthDims:je.getParameter(33902),maxViewportDims:je.getParameter(3386),maxCombinedTextureUnits:je.getParameter(35661),maxCubeMapSize:je.getParameter(34076),maxRenderbufferSize:je.getParameter(34024),maxTextureUnits:je.getParameter(34930),maxTextureSize:je.getParameter(3379),maxAttributes:je.getParameter(34921),maxVertexUniforms:je.getParameter(36347),maxVertexTextureUnits:je.getParameter(35660),maxVaryingVectors:je.getParameter(36348),maxFragmentUniforms:je.getParameter(36349),glsl:je.getParameter(35724),renderer:je.getParameter(7937),vendor:je.getParameter(7936),version:je.getParameter(7938),readFloat:Zt,npotTextureCube:Me}}(un,Lr),Ri=function(je,L,St,$t){var ye=0,Zt={};function de(Ye){this.id=ye++,this.buffer=je.createBuffer(),this.type=Ye,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,St.profile&&(this.stats={size:0})}de.prototype.bind=function(){je.bindBuffer(this.type,this.buffer)},de.prototype.destroy=function(){We(this)};var he=[];function le(Ye,ke,nn){Ye.byteLength=ke.byteLength,je.bufferData(Ye.type,ke,nn)}function Me(Ye,ke,nn,Re,hn,pn){var on,mn;if(Ye.usage=nn,Array.isArray(ke)){if(Ye.dtype=Re||5126,ke.length>0)if(Array.isArray(ke[0])){on=Mt(ke);for(var jn=1,Ie=1;Ie<on.length;++Ie)jn*=on[Ie];Ye.dimension=jn,le(Ye,mn=ut(ke,on,Ye.dtype),nn),pn?Ye.persistentData=mn:Q.freeType(mn)}else if(typeof ke[0]=="number"){Ye.dimension=hn;var fe=Q.allocType(Ye.dtype,ke.length);Ot(fe,ke),le(Ye,fe,nn),pn?Ye.persistentData=fe:Q.freeType(fe)}else w(ke[0])?(Ye.dimension=ke[0].length,Ye.dtype=Re||xt(ke[0])||5126,le(Ye,mn=ut(ke,[ke.length,ke[0].length],Ye.dtype),nn),pn?Ye.persistentData=mn:Q.freeType(mn)):at.raise("invalid buffer data")}else if(w(ke))Ye.dtype=Re||xt(ke),Ye.dimension=hn,le(Ye,ke,nn),pn&&(Ye.persistentData=new Uint8Array(new Uint8Array(ke.buffer)));else if(k(ke)){on=ke.shape;var Ne=ke.stride,Fe=ke.offset,rn=0,ln=0,_e=0,dn=0;on.length===1?(rn=on[0],ln=1,_e=Ne[0],dn=0):on.length===2?(rn=on[0],ln=on[1],_e=Ne[0],dn=Ne[1]):at.raise("invalid shape"),Ye.dtype=Re||xt(ke.data)||5126,Ye.dimension=ln;var En=Q.allocType(Ye.dtype,rn*ln);jt(En,ke.data,rn,ln,_e,dn,Fe),le(Ye,En,nn),pn?Ye.persistentData=En:Q.freeType(En)}else ke instanceof ArrayBuffer?(Ye.dtype=5121,Ye.dimension=hn,le(Ye,ke,nn),pn&&(Ye.persistentData=new Uint8Array(new Uint8Array(ke)))):at.raise("invalid buffer data")}function We(Ye){L.bufferCount--,$t(Ye);var ke=Ye.buffer;at(ke,"buffer must not be deleted already"),je.deleteBuffer(ke),Ye.buffer=null,delete Zt[Ye.id]}return St.profile&&(L.getTotalBufferSize=function(){var Ye=0;return Object.keys(Zt).forEach(function(ke){Ye+=Zt[ke].stats.size}),Ye}),{create:function(ke,nn,Re,hn){L.bufferCount++;var pn=new de(nn);function on(jn){var Ie=35044,fe=null,Ne=0,Fe=0,rn=1;return Array.isArray(jn)||w(jn)||k(jn)||jn instanceof ArrayBuffer?fe=jn:typeof jn=="number"?Ne=0|jn:jn&&(at.type(jn,"object","buffer arguments must be an object, a number or an array"),"data"in jn&&(at(fe===null||Array.isArray(fe)||w(fe)||k(fe),"invalid data for buffer"),fe=jn.data),"usage"in jn&&(at.parameter(jn.usage,st,"invalid buffer usage"),Ie=st[jn.usage]),"type"in jn&&(at.parameter(jn.type,rt,"invalid buffer type"),Fe=rt[jn.type]),"dimension"in jn&&(at.type(jn.dimension,"number","invalid dimension"),rn=0|jn.dimension),"length"in jn&&(at.nni(Ne,"buffer length must be a nonnegative integer"),Ne=0|jn.length)),pn.bind(),fe?Me(pn,fe,Ie,Fe,rn,hn):(Ne&&je.bufferData(pn.type,Ne,Ie),pn.dtype=Fe||5121,pn.usage=Ie,pn.dimension=rn,pn.byteLength=Ne),St.profile&&(pn.stats.size=pn.byteLength*bt[pn.dtype]),on}function mn(jn,Ie){at(Ie+jn.byteLength<=pn.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+jn.byteLength+" starting from offset "+Ie+" to a buffer of size "+pn.byteLength),je.bufferSubData(pn.type,Ie,jn)}return Zt[pn.id]=pn,Re||on(ke),on._reglType="buffer",on._buffer=pn,on.subdata=function(jn,Ie){var fe,Ne=0|(Ie||0);if(pn.bind(),w(jn)||jn instanceof ArrayBuffer)mn(jn,Ne);else if(Array.isArray(jn)){if(jn.length>0)if(typeof jn[0]=="number"){var Fe=Q.allocType(pn.dtype,jn.length);Ot(Fe,jn),mn(Fe,Ne),Q.freeType(Fe)}else if(Array.isArray(jn[0])||w(jn[0])){fe=Mt(jn);var rn=ut(jn,fe,pn.dtype);mn(rn,Ne),Q.freeType(rn)}else at.raise("invalid buffer data")}else if(k(jn)){fe=jn.shape;var ln=jn.stride,_e=0,dn=0,En=0,tr=0;fe.length===1?(_e=fe[0],dn=1,En=ln[0],tr=0):fe.length===2?(_e=fe[0],dn=fe[1],En=ln[0],tr=ln[1]):at.raise("invalid shape");var Pn=Array.isArray(jn.data)?pn.dtype:xt(jn.data),Fn=Q.allocType(Pn,_e*dn);jt(Fn,jn.data,_e,dn,En,tr,jn.offset),mn(Fn,Ne),Q.freeType(Fn)}else at.raise("invalid data for buffer subdata");return on},St.profile&&(on.stats=pn.stats),on.destroy=function(){We(pn)},on},createStream:function(ke,nn){var Re=he.pop();return Re||(Re=new de(ke)),Re.bind(),Me(Re,nn,35040,0,1,!1),Re},destroyStream:function(ke){he.push(ke)},clear:function(){p(Zt).forEach(We),he.forEach(We)},getBuffer:function(ke){return ke&&ke._buffer instanceof de?ke._buffer:null},restore:function(){p(Zt).forEach(function(ke){ke.buffer=je.createBuffer(),je.bindBuffer(ke.type,ke.buffer),je.bufferData(ke.type,ke.persistentData||ke.byteLength,ke.usage)})},_initBuffer:Me}}(un,Fr,sn,function(je){return Ei.destroyBuffer(je)}),Ei=function(je,L,St,$t,ye){for(var Zt=St.maxAttributes,de=new Array(Zt),he=0;he<Zt;++he)de[he]=new Ea;var le=0,Me={},We={Record:Ea,scope:{},state:de,currentVAO:null,targetVAO:null,restore:Ye()?function(){Ye()&&p(Me).forEach(function(Re){Re.refresh()})}:function(){},createVAO:function(hn){var pn=new nn;function on(mn){at(Array.isArray(mn),"arguments to vertex array constructor must be an array"),at(mn.length<Zt,"too many attributes"),at(mn.length>0,"must specify at least one attribute");var jn={},Ie=pn.attributes;Ie.length=mn.length;for(var fe=0;fe<mn.length;++fe){var Ne,Fe=mn[fe],rn=Ie[fe]=new Ea,ln=Fe.data||Fe;Array.isArray(ln)||w(ln)||k(ln)?(pn.buffers[fe]&&(Ne=pn.buffers[fe],w(ln)&&Ne._buffer.byteLength>=ln.byteLength?Ne.subdata(ln):(Ne.destroy(),pn.buffers[fe]=null)),pn.buffers[fe]||(Ne=pn.buffers[fe]=ye.create(Fe,34962,!1,!0)),rn.buffer=ye.getBuffer(Ne),rn.size=0|rn.buffer.dimension,rn.normalized=!1,rn.type=rn.buffer.dtype,rn.offset=0,rn.stride=0,rn.divisor=0,rn.state=1,jn[fe]=1):ye.getBuffer(Fe)?(rn.buffer=ye.getBuffer(Fe),rn.size=0|rn.buffer.dimension,rn.normalized=!1,rn.type=rn.buffer.dtype,rn.offset=0,rn.stride=0,rn.divisor=0,rn.state=1):ye.getBuffer(Fe.buffer)?(rn.buffer=ye.getBuffer(Fe.buffer),rn.size=0|(+Fe.size||rn.buffer.dimension),rn.normalized=!!Fe.normalized||!1,"type"in Fe?(at.parameter(Fe.type,rt,"invalid buffer type"),rn.type=rt[Fe.type]):rn.type=rn.buffer.dtype,rn.offset=0|(Fe.offset||0),rn.stride=0|(Fe.stride||0),rn.divisor=0|(Fe.divisor||0),rn.state=1,at(rn.size>=1&&rn.size<=4,"size must be between 1 and 4"),at(rn.offset>=0,"invalid offset"),at(rn.stride>=0&&rn.stride<=255,"stride must be between 0 and 255"),at(rn.divisor>=0,"divisor must be positive"),at(!rn.divisor||!!L.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Fe?(at(fe>0,"first attribute must not be a constant"),rn.x=+Fe.x||0,rn.y=+Fe.y||0,rn.z=+Fe.z||0,rn.w=+Fe.w||0,rn.state=2):at(!1,"invalid attribute spec for location "+fe)}for(var _e=0;_e<pn.buffers.length;++_e)!jn[_e]&&pn.buffers[_e]&&(pn.buffers[_e].destroy(),pn.buffers[_e]=null);return pn.refresh(),on}return $t.vaoCount+=1,on.destroy=function(){for(var mn=0;mn<pn.buffers.length;++mn)pn.buffers[mn]&&pn.buffers[mn].destroy();pn.buffers.length=0,pn.destroy()},on._vao=pn,on._reglType="vao",on(hn)},getVAO:function(hn){return typeof hn=="function"&&hn._vao?hn._vao:null},destroyBuffer:function(hn){for(var pn=0;pn<de.length;++pn){var on=de[pn];on.buffer===hn&&(je.disableVertexAttribArray(pn),on.buffer=null)}},setVAO:Ye()?function(Re){if(Re!==We.currentVAO){var hn=Ye();Re?hn.bindVertexArrayOES(Re.vao):hn.bindVertexArrayOES(null),We.currentVAO=Re}}:function(Re){if(Re!==We.currentVAO){if(Re)Re.bindAttrs();else for(var hn=ke(),pn=0;pn<de.length;++pn){var on=de[pn];on.buffer?(je.enableVertexAttribArray(pn),je.vertexAttribPointer(pn,on.size,on.type,on.normalized,on.stride,on.offfset),hn&&on.divisor&&hn.vertexAttribDivisorANGLE(pn,on.divisor)):(je.disableVertexAttribArray(pn),je.vertexAttrib4f(pn,on.x,on.y,on.z,on.w))}We.currentVAO=Re}},clear:Ye()?function(){p(Me).forEach(function(Re){Re.destroy()})}:function(){}};function Ye(){return L.oes_vertex_array_object}function ke(){return L.angle_instanced_arrays}function nn(){this.id=++le,this.attributes=[];var Re=Ye();this.vao=Re?Re.createVertexArrayOES():null,Me[this.id]=this,this.buffers=[]}return nn.prototype.bindAttrs=function(){for(var Re=ke(),hn=this.attributes,pn=0;pn<hn.length;++pn){var on=hn[pn];on.buffer?(je.enableVertexAttribArray(pn),je.bindBuffer(34962,on.buffer.buffer),je.vertexAttribPointer(pn,on.size,on.type,on.normalized,on.stride,on.offset),Re&&on.divisor&&Re.vertexAttribDivisorANGLE(pn,on.divisor)):(je.disableVertexAttribArray(pn),je.vertexAttrib4f(pn,on.x,on.y,on.z,on.w))}for(var mn=hn.length;mn<Zt;++mn)je.disableVertexAttribArray(mn)},nn.prototype.refresh=function(){var Re=Ye();Re&&(Re.bindVertexArrayOES(this.vao),this.bindAttrs(),We.currentVAO=this)},nn.prototype.destroy=function(){if(this.vao){var Re=Ye();this===We.currentVAO&&(We.currentVAO=null,Re.bindVertexArrayOES(null)),Re.deleteVertexArrayOES(this.vao),this.vao=null}Me[this.id]&&(delete Me[this.id],$t.vaoCount-=1)},We}(un,Lr,Oi,Fr,Ri),Gi=function(je,L,St,$t){var ye={},Zt=0,de={uint8:5121,uint16:5123};function he(Ye){this.id=Zt++,ye[this.id]=this,this.buffer=Ye,this.primType=4,this.vertCount=0,this.type=0}L.oes_element_index_uint&&(de.uint32=5125),he.prototype.bind=function(){this.buffer.bind()};var le=[];function Me(Ye,ke,nn,Re,hn,pn,on){var mn;if(Ye.buffer.bind(),ke){var jn=on;on||w(ke)&&(!k(ke)||w(ke.data))||(jn=L.oes_element_index_uint?5125:5123),St._initBuffer(Ye.buffer,ke,nn,jn,3)}else je.bufferData(34963,pn,nn),Ye.buffer.dtype=mn||5121,Ye.buffer.usage=nn,Ye.buffer.dimension=3,Ye.buffer.byteLength=pn;if(mn=on,!on){switch(Ye.buffer.dtype){case 5121:case 5120:mn=5121;break;case 5123:case 5122:mn=5123;break;case 5125:case 5124:mn=5125;break;default:at.raise("unsupported type for element array")}Ye.buffer.dtype=mn}Ye.type=mn,at(mn!==5125||!!L.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var Ie=hn;Ie<0&&(Ie=Ye.buffer.byteLength,mn===5123?Ie>>=1:mn===5125&&(Ie>>=2)),Ye.vertCount=Ie;var fe=Re;if(Re<0){fe=4;var Ne=Ye.buffer.dimension;Ne===1&&(fe=0),Ne===2&&(fe=1),Ne===3&&(fe=4)}Ye.primType=fe}function We(Ye){$t.elementsCount--,at(Ye.buffer!==null,"must not double destroy elements"),delete ye[Ye.id],Ye.buffer.destroy(),Ye.buffer=null}return{create:function(ke,nn){var Re=St.create(null,34963,!0),hn=new he(Re._buffer);function pn(on){if(on)if(typeof on=="number")Re(on),hn.primType=4,hn.vertCount=0|on,hn.type=5121;else{var mn=null,jn=35044,Ie=-1,fe=-1,Ne=0,Fe=0;Array.isArray(on)||w(on)||k(on)?mn=on:(at.type(on,"object","invalid arguments for elements"),"data"in on&&(mn=on.data,at(Array.isArray(mn)||w(mn)||k(mn),"invalid data for element buffer")),"usage"in on&&(at.parameter(on.usage,st,"invalid element buffer usage"),jn=st[on.usage]),"primitive"in on&&(at.parameter(on.primitive,Dt,"invalid element buffer primitive"),Ie=Dt[on.primitive]),"count"in on&&(at(typeof on.count=="number"&&on.count>=0,"invalid vertex count for elements"),fe=0|on.count),"type"in on&&(at.parameter(on.type,de,"invalid buffer type"),Fe=de[on.type]),"length"in on?Ne=0|on.length:(Ne=fe,Fe===5123||Fe===5122?Ne*=2:Fe!==5125&&Fe!==5124||(Ne*=4))),Me(hn,mn,jn,Ie,fe,Ne,Fe)}else Re(),hn.primType=4,hn.vertCount=0,hn.type=5121;return pn}return $t.elementsCount++,pn(ke),pn._reglType="elements",pn._elements=hn,pn.subdata=function(on,mn){return Re.subdata(on,mn),pn},pn.destroy=function(){We(hn)},pn},createStream:function(ke){var nn=le.pop();return nn||(nn=new he(St.create(null,34963,!0,!1)._buffer)),Me(nn,ke,35040,-1,-1,0,0),nn},destroyStream:function(ke){le.push(ke)},getElements:function(ke){return typeof ke=="function"&&ke._elements instanceof he?ke._elements:null},clear:function(){p(ye).forEach(We)}}}(un,Lr,Ri,Fr),ca=function(je,L,St,$t){var ye={},Zt={};function de(Re,hn,pn,on){this.name=Re,this.id=hn,this.location=pn,this.info=on}function he(Re,hn){for(var pn=0;pn<Re.length;++pn)if(Re[pn].id===hn.id)return void(Re[pn].location=hn.location);Re.push(hn)}function le(Re,hn,pn){var on=Re===35632?ye:Zt,mn=on[hn];if(!mn){var jn=L.str(hn);mn=je.createShader(Re),je.shaderSource(mn,jn),je.compileShader(mn),at.shaderError(je,mn,jn,Re,pn),on[hn]=mn}return mn}var Me={},We=[],Ye=0;function ke(Re,hn){this.id=Ye++,this.fragId=Re,this.vertId=hn,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,$t.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function nn(Re,hn,pn){var on,mn,jn=le(35632,Re.fragId),Ie=le(35633,Re.vertId),fe=Re.program=je.createProgram();if(je.attachShader(fe,jn),je.attachShader(fe,Ie),pn)for(on=0;on<pn.length;++on){var Ne=pn[on];je.bindAttribLocation(fe,Ne[0],Ne[1])}je.linkProgram(fe),at.linkError(je,fe,L.str(Re.fragId),L.str(Re.vertId),hn);var Fe=je.getProgramParameter(fe,35718);$t.profile&&(Re.stats.uniformsCount=Fe);var rn=Re.uniforms;for(on=0;on<Fe;++on)if(mn=je.getActiveUniform(fe,on))if(mn.size>1)for(var ln=0;ln<mn.size;++ln){var _e=mn.name.replace("[0]","["+ln+"]");he(rn,new de(_e,L.id(_e),je.getUniformLocation(fe,_e),mn))}else he(rn,new de(mn.name,L.id(mn.name),je.getUniformLocation(fe,mn.name),mn));var dn=je.getProgramParameter(fe,35721);$t.profile&&(Re.stats.attributesCount=dn);var En=Re.attributes;for(on=0;on<dn;++on)(mn=je.getActiveAttrib(fe,on))&&he(En,new de(mn.name,L.id(mn.name),je.getAttribLocation(fe,mn.name),mn))}return $t.profile&&(St.getMaxUniformsCount=function(){var Re=0;return We.forEach(function(hn){hn.stats.uniformsCount>Re&&(Re=hn.stats.uniformsCount)}),Re},St.getMaxAttributesCount=function(){var Re=0;return We.forEach(function(hn){hn.stats.attributesCount>Re&&(Re=hn.stats.attributesCount)}),Re}),{clear:function(){var hn=je.deleteShader.bind(je);p(ye).forEach(hn),ye={},p(Zt).forEach(hn),Zt={},We.forEach(function(pn){je.deleteProgram(pn.program)}),We.length=0,Me={},St.shaderCount=0},program:function(hn,pn,on,mn){at.command(hn>=0,"missing vertex shader",on),at.command(pn>=0,"missing fragment shader",on);var jn=Me[pn];jn||(jn=Me[pn]={});var Ie=jn[hn];if(Ie&&(Ie.refCount++,!mn))return Ie;var fe=new ke(pn,hn);return St.shaderCount++,nn(fe,on,mn),Ie||(jn[hn]=fe),We.push(fe),I(fe,{destroy:function(){if(fe.refCount--,fe.refCount<=0){je.deleteProgram(fe.program);var Fe=We.indexOf(fe);We.splice(Fe,1),St.shaderCount--}jn[fe.vertId].refCount<=0&&(je.deleteShader(Zt[fe.vertId]),delete Zt[fe.vertId],delete Me[fe.fragId][fe.vertId]),Object.keys(Me[fe.fragId]).length||(je.deleteShader(ye[fe.fragId]),delete ye[fe.fragId],delete Me[fe.fragId])}})},restore:function(){ye={},Zt={};for(var hn=0;hn<We.length;++hn)nn(We[hn],null,We[hn].attributes.map(function(pn){return[pn.location,pn.name]}))},shader:le,frag:-1,vert:-1}}(un,_r,Fr,sn),ha=Pa(un,Lr,Oi,function(){ve.procs.poll()},Qr,Fr,sn),na=function(je,L,St,$t,ye){var Zt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};L.ext_srgb&&(Zt.srgba=35907),L.ext_color_buffer_half_float&&(Zt.rgba16f=34842,Zt.rgb16f=34843),L.webgl_color_buffer_float&&(Zt.rgba32f=34836);var de=[];Object.keys(Zt).forEach(function(Ye){var ke=Zt[Ye];de[ke]=Ye});var he=0,le={};function Me(Ye){this.id=he++,this.refCount=1,this.renderbuffer=Ye,this.format=32854,this.width=0,this.height=0,ye.profile&&(this.stats={size:0})}function We(Ye){var ke=Ye.renderbuffer;at(ke,"must not double destroy renderbuffer"),je.bindRenderbuffer(36161,null),je.deleteRenderbuffer(ke),Ye.renderbuffer=null,Ye.refCount=0,delete le[Ye.id],$t.renderbufferCount--}return Me.prototype.decRef=function(){--this.refCount<=0&&We(this)},ye.profile&&($t.getTotalRenderbufferSize=function(){var Ye=0;return Object.keys(le).forEach(function(ke){Ye+=le[ke].stats.size}),Ye}),{create:function(ke,nn){var Re=new Me(je.createRenderbuffer());function hn(pn,on){var mn=0,jn=0,Ie=32854;if(x(pn)==="object"&&pn){var fe=pn;if("shape"in fe){var Ne=fe.shape;at(Array.isArray(Ne)&&Ne.length>=2,"invalid renderbuffer shape"),mn=0|Ne[0],jn=0|Ne[1]}else"radius"in fe&&(mn=jn=0|fe.radius),"width"in fe&&(mn=0|fe.width),"height"in fe&&(jn=0|fe.height);"format"in fe&&(at.parameter(fe.format,Zt,"invalid renderbuffer format"),Ie=Zt[fe.format])}else typeof pn=="number"?(mn=0|pn,jn=typeof on=="number"?0|on:mn):pn?at.raise("invalid arguments to renderbuffer constructor"):mn=jn=1;if(at(mn>0&&jn>0&&mn<=St.maxRenderbufferSize&&jn<=St.maxRenderbufferSize,"invalid renderbuffer size"),mn!==Re.width||jn!==Re.height||Ie!==Re.format)return hn.width=Re.width=mn,hn.height=Re.height=jn,Re.format=Ie,je.bindRenderbuffer(36161,Re.renderbuffer),je.renderbufferStorage(36161,Ie,mn,jn),at(je.getError()===0,"invalid render buffer format"),ye.profile&&(Re.stats.size=Ki(Re.format,Re.width,Re.height)),hn.format=de[Re.format],hn}return le[Re.id]=Re,$t.renderbufferCount++,hn(ke,nn),hn.resize=function(pn,on){var mn=0|pn,jn=0|on||mn;return mn===Re.width&&jn===Re.height||(at(mn>0&&jn>0&&mn<=St.maxRenderbufferSize&&jn<=St.maxRenderbufferSize,"invalid renderbuffer size"),hn.width=Re.width=mn,hn.height=Re.height=jn,je.bindRenderbuffer(36161,Re.renderbuffer),je.renderbufferStorage(36161,Re.format,mn,jn),at(je.getError()===0,"invalid render buffer format"),ye.profile&&(Re.stats.size=Ki(Re.format,Re.width,Re.height))),hn},hn._reglType="renderbuffer",hn._renderbuffer=Re,ye.profile&&(hn.stats=Re.stats),hn.destroy=function(){Re.decRef()},hn},clear:function(){p(le).forEach(We)},restore:function(){p(le).forEach(function(ke){ke.renderbuffer=je.createRenderbuffer(),je.bindRenderbuffer(36161,ke.renderbuffer),je.renderbufferStorage(36161,ke.format,ke.width,ke.height)}),je.bindRenderbuffer(36161,null)}}}(un,Lr,Oi,Fr,sn),Zi=function(je,L,St,$t,ye,Zt){var de={cur:null,next:null,dirty:!1,setFBO:null},he=["rgba"],le=["rgba4","rgb565","rgb5 a1"];L.ext_srgb&&le.push("srgba"),L.ext_color_buffer_half_float&&le.push("rgba16f","rgb16f"),L.webgl_color_buffer_float&&le.push("rgba32f");var Me=["uint8"];function We(ln,_e,dn){this.target=ln,this.texture=_e,this.renderbuffer=dn;var En=0,tr=0;_e?(En=_e.width,tr=_e.height):dn&&(En=dn.width,tr=dn.height),this.width=En,this.height=tr}function Ye(ln){ln&&(ln.texture&&ln.texture._texture.decRef(),ln.renderbuffer&&ln.renderbuffer._renderbuffer.decRef())}function ke(ln,_e,dn){if(ln)if(ln.texture){var En=ln.texture._texture,tr=Math.max(1,En.width),Pn=Math.max(1,En.height);at(tr===_e&&Pn===dn,"inconsistent width/height for supplied texture"),En.refCount+=1}else{var Fn=ln.renderbuffer._renderbuffer;at(Fn.width===_e&&Fn.height===dn,"inconsistent width/height for renderbuffer"),Fn.refCount+=1}}function nn(ln,_e){_e&&(_e.texture?je.framebufferTexture2D(36160,ln,_e.target,_e.texture._texture.texture,0):je.framebufferRenderbuffer(36160,ln,36161,_e.renderbuffer._renderbuffer.renderbuffer))}function Re(ln){var _e=3553,dn=null,En=null,tr=ln;x(ln)==="object"&&(tr=ln.data,"target"in ln&&(_e=0|ln.target)),at.type(tr,"function","invalid attachment data");var Pn=tr._reglType;return Pn==="texture2d"?(dn=tr,at(_e===3553)):Pn==="textureCube"?(dn=tr,at(_e>=34069&&_e<34075,"invalid cube map target")):Pn==="renderbuffer"?(En=tr,_e=36161):at.raise("invalid regl object for attachment"),new We(_e,dn,En)}function hn(ln,_e,dn,En,tr){if(dn){var Pn=$t.create2D({width:ln,height:_e,format:En,type:tr});return Pn._texture.refCount=0,new We(3553,Pn,null)}var Fn=ye.create({width:ln,height:_e,format:En});return Fn._renderbuffer.refCount=0,new We(36161,null,Fn)}function pn(ln){return ln&&(ln.texture||ln.renderbuffer)}function on(ln,_e,dn){ln&&(ln.texture?ln.texture.resize(_e,dn):ln.renderbuffer&&ln.renderbuffer.resize(_e,dn),ln.width=_e,ln.height=dn)}L.oes_texture_half_float&&Me.push("half float","float16"),L.oes_texture_float&&Me.push("float","float32");var mn=0,jn={};function Ie(){this.id=mn++,jn[this.id]=this,this.framebuffer=je.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function fe(ln){ln.colorAttachments.forEach(Ye),Ye(ln.depthAttachment),Ye(ln.stencilAttachment),Ye(ln.depthStencilAttachment)}function Ne(ln){var _e=ln.framebuffer;at(_e,"must not double destroy framebuffer"),je.deleteFramebuffer(_e),ln.framebuffer=null,Zt.framebufferCount--,delete jn[ln.id]}function Fe(ln){var _e;je.bindFramebuffer(36160,ln.framebuffer);var dn=ln.colorAttachments;for(_e=0;_e<dn.length;++_e)nn(36064+_e,dn[_e]);for(_e=dn.length;_e<St.maxColorAttachments;++_e)je.framebufferTexture2D(36160,36064+_e,3553,null,0);je.framebufferTexture2D(36160,33306,3553,null,0),je.framebufferTexture2D(36160,36096,3553,null,0),je.framebufferTexture2D(36160,36128,3553,null,0),nn(36096,ln.depthAttachment),nn(36128,ln.stencilAttachment),nn(33306,ln.depthStencilAttachment);var En=je.checkFramebufferStatus(36160);je.isContextLost()||En===36053||at.raise("framebuffer configuration not supported, status = "+Yr[En]),je.bindFramebuffer(36160,de.next?de.next.framebuffer:null),de.cur=de.next,je.getError()}function rn(ln,_e){var dn=new Ie;function En(tr,Pn){var Fn;at(de.next!==dn,"can not update framebuffer which is currently in use");var Cr=0,fi=0,ri=!0,zr=!0,wi=null,Ai=!0,gi="rgba",Oa="uint8",Aa=1,Oo=null,Fo=null,Yo=null,De=!1;if(typeof tr=="number")Cr=0|tr,fi=0|Pn||Cr;else if(tr){at.type(tr,"object","invalid arguments for framebuffer");var an=tr;if("shape"in an){var Mn=an.shape;at(Array.isArray(Mn)&&Mn.length>=2,"invalid shape for framebuffer"),Cr=Mn[0],fi=Mn[1]}else"radius"in an&&(Cr=fi=an.radius),"width"in an&&(Cr=an.width),"height"in an&&(fi=an.height);("color"in an||"colors"in an)&&(wi=an.color||an.colors,Array.isArray(wi)&&at(wi.length===1||L.webgl_draw_buffers,"multiple render targets not supported")),wi||("colorCount"in an&&(Aa=0|an.colorCount,at(Aa>0,"invalid color buffer count")),"colorTexture"in an&&(Ai=!!an.colorTexture,gi="rgba4"),"colorType"in an&&(Oa=an.colorType,Ai?(at(L.oes_texture_float||!(Oa==="float"||Oa==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),at(L.oes_texture_half_float||!(Oa==="half float"||Oa==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):Oa==="half float"||Oa==="float16"?(at(L.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),gi="rgba16f"):Oa!=="float"&&Oa!=="float32"||(at(L.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),gi="rgba32f"),at.oneOf(Oa,Me,"invalid color type")),"colorFormat"in an&&(gi=an.colorFormat,he.indexOf(gi)>=0?Ai=!0:le.indexOf(gi)>=0?Ai=!1:Ai?at.oneOf(an.colorFormat,he,"invalid color format for texture"):at.oneOf(an.colorFormat,le,"invalid color format for renderbuffer"))),("depthTexture"in an||"depthStencilTexture"in an)&&(De=!(!an.depthTexture&&!an.depthStencilTexture),at(!De||L.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in an&&(typeof an.depth=="boolean"?ri=an.depth:(Oo=an.depth,zr=!1)),"stencil"in an&&(typeof an.stencil=="boolean"?zr=an.stencil:(Fo=an.stencil,ri=!1)),"depthStencil"in an&&(typeof an.depthStencil=="boolean"?ri=zr=an.depthStencil:(Yo=an.depthStencil,ri=!1,zr=!1))}else Cr=fi=1;var xn=null,bn=null,Yn=null,Jn=null;if(Array.isArray(wi))xn=wi.map(Re);else if(wi)xn=[Re(wi)];else for(xn=new Array(Aa),Fn=0;Fn<Aa;++Fn)xn[Fn]=hn(Cr,fi,Ai,gi,Oa);at(L.webgl_draw_buffers||xn.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),at(xn.length<=St.maxColorAttachments,"too many color attachments, not supported"),Cr=Cr||xn[0].width,fi=fi||xn[0].height,Oo?bn=Re(Oo):ri&&!zr&&(bn=hn(Cr,fi,De,"depth","uint32")),Fo?Yn=Re(Fo):zr&&!ri&&(Yn=hn(Cr,fi,!1,"stencil","uint8")),Yo?Jn=Re(Yo):!Oo&&!Fo&&zr&&ri&&(Jn=hn(Cr,fi,De,"depth stencil","depth stencil")),at(!!Oo+!!Fo+!!Yo<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var $n=null;for(Fn=0;Fn<xn.length;++Fn)if(ke(xn[Fn],Cr,fi),at(!xn[Fn]||xn[Fn].texture&&fa.indexOf(xn[Fn].texture._texture.format)>=0||xn[Fn].renderbuffer&&La.indexOf(xn[Fn].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Fn+" is invalid"),xn[Fn]&&xn[Fn].texture){var _n=oa[xn[Fn].texture._texture.format]*pa[xn[Fn].texture._texture.type];$n===null?$n=_n:at($n===_n,"all color attachments much have the same number of bits per pixel.")}return ke(bn,Cr,fi),at(!bn||bn.texture&&bn.texture._texture.format===6402||bn.renderbuffer&&bn.renderbuffer._renderbuffer.format===33189,"invalid depth attachment for framebuffer object"),ke(Yn,Cr,fi),at(!Yn||Yn.renderbuffer&&Yn.renderbuffer._renderbuffer.format===36168,"invalid stencil attachment for framebuffer object"),ke(Jn,Cr,fi),at(!Jn||Jn.texture&&Jn.texture._texture.format===34041||Jn.renderbuffer&&Jn.renderbuffer._renderbuffer.format===34041,"invalid depth-stencil attachment for framebuffer object"),fe(dn),dn.width=Cr,dn.height=fi,dn.colorAttachments=xn,dn.depthAttachment=bn,dn.stencilAttachment=Yn,dn.depthStencilAttachment=Jn,En.color=xn.map(pn),En.depth=pn(bn),En.stencil=pn(Yn),En.depthStencil=pn(Jn),En.width=dn.width,En.height=dn.height,Fe(dn),En}return Zt.framebufferCount++,En(ln,_e),I(En,{resize:function(Pn,Fn){at(de.next!==dn,"can not resize a framebuffer which is currently in use");var Cr=Math.max(0|Pn,1),fi=Math.max(0|Fn||Cr,1);if(Cr===dn.width&&fi===dn.height)return En;for(var ri=dn.colorAttachments,zr=0;zr<ri.length;++zr)on(ri[zr],Cr,fi);return on(dn.depthAttachment,Cr,fi),on(dn.stencilAttachment,Cr,fi),on(dn.depthStencilAttachment,Cr,fi),dn.width=En.width=Cr,dn.height=En.height=fi,Fe(dn),En},_reglType:"framebuffer",_framebuffer:dn,destroy:function(){Ne(dn),fe(dn)},use:function(Pn){de.setFBO({framebuffer:En},Pn)}})}return I(de,{getFramebuffer:function(_e){if(typeof _e=="function"&&_e._reglType==="framebuffer"){var dn=_e._framebuffer;if(dn instanceof Ie)return dn}return null},create:rn,createCube:function(_e){var dn=Array(6);function En(tr){var Pn;at(dn.indexOf(de.next)<0,"can not update framebuffer which is currently in use");var Fn,Cr={color:null},fi=0,ri=null,zr="rgba",wi="uint8",Ai=1;if(typeof tr=="number")fi=0|tr;else if(tr){at.type(tr,"object","invalid arguments for framebuffer");var gi=tr;if("shape"in gi){var Oa=gi.shape;at(Array.isArray(Oa)&&Oa.length>=2,"invalid shape for framebuffer"),at(Oa[0]===Oa[1],"cube framebuffer must be square"),fi=Oa[0]}else"radius"in gi&&(fi=0|gi.radius),"width"in gi?(fi=0|gi.width,"height"in gi&&at(gi.height===fi,"must be square")):"height"in gi&&(fi=0|gi.height);("color"in gi||"colors"in gi)&&(ri=gi.color||gi.colors,Array.isArray(ri)&&at(ri.length===1||L.webgl_draw_buffers,"multiple render targets not supported")),ri||("colorCount"in gi&&(Ai=0|gi.colorCount,at(Ai>0,"invalid color buffer count")),"colorType"in gi&&(at.oneOf(gi.colorType,Me,"invalid color type"),wi=gi.colorType),"colorFormat"in gi&&(zr=gi.colorFormat,at.oneOf(gi.colorFormat,he,"invalid color format for texture"))),"depth"in gi&&(Cr.depth=gi.depth),"stencil"in gi&&(Cr.stencil=gi.stencil),"depthStencil"in gi&&(Cr.depthStencil=gi.depthStencil)}else fi=1;if(ri)if(Array.isArray(ri))for(Fn=[],Pn=0;Pn<ri.length;++Pn)Fn[Pn]=ri[Pn];else Fn=[ri];else{Fn=Array(Ai);var Aa={radius:fi,format:zr,type:wi};for(Pn=0;Pn<Ai;++Pn)Fn[Pn]=$t.createCube(Aa)}for(Cr.color=Array(Fn.length),Pn=0;Pn<Fn.length;++Pn){var Oo=Fn[Pn];at(typeof Oo=="function"&&Oo._reglType==="textureCube","invalid cube map"),fi=fi||Oo.width,at(Oo.width===fi&&Oo.height===fi,"invalid cube map shape"),Cr.color[Pn]={target:34069,data:Fn[Pn]}}for(Pn=0;Pn<6;++Pn){for(var Fo=0;Fo<Fn.length;++Fo)Cr.color[Fo].target=34069+Pn;Pn>0&&(Cr.depth=dn[0].depth,Cr.stencil=dn[0].stencil,Cr.depthStencil=dn[0].depthStencil),dn[Pn]?dn[Pn](Cr):dn[Pn]=rn(Cr)}return I(En,{width:fi,height:fi,color:Fn})}return En(_e),I(En,{faces:dn,resize:function(Pn){var Fn,Cr=0|Pn;if(at(Cr>0&&Cr<=St.maxCubeMapSize,"invalid radius for cube fbo"),Cr===En.width)return En;var fi=En.color;for(Fn=0;Fn<fi.length;++Fn)fi[Fn].resize(Cr);for(Fn=0;Fn<6;++Fn)dn[Fn].resize(Cr);return En.width=En.height=Cr,En},_reglType:"framebufferCube",destroy:function(){dn.forEach(function(Pn){Pn.destroy()})}})},clear:function(){p(jn).forEach(Ne)},restore:function(){de.cur=null,de.next=null,de.dirty=!0,p(jn).forEach(function(_e){_e.framebuffer=je.createFramebuffer(),Fe(_e)})}})}(un,Lr,Oi,ha,na,Fr),ve=An(un,_r,Lr,Oi,Ri,Gi,0,Zi,{},Ei,ca,{elements:null,primitive:4,count:-1,offset:0,instances:-1},Qr,Gr,sn),U=Pr(un,Zi,ve.procs.poll,Qr,ur,Lr,Oi),G=ve.next,nt=un.canvas,vt=[],Gt=[],Jt=[],ie=[sn.onDestroy],ue=null;function Ce(){if(vt.length===0)return Gr&&Gr.update(),void(ue=null);ue=mt.next(Ce),Bn();for(var je=vt.length-1;je>=0;--je){var L=vt[je];L&&L(Qr,null,0)}un.flush(),Gr&&Gr.update()}function we(){!ue&&vt.length>0&&(ue=mt.next(Ce))}function cn(){ue&&(mt.cancel(Ce),ue=null)}function Cn(je){je.preventDefault(),jr=!0,cn(),Gt.forEach(function(L){L()})}function _t(je){un.getError(),jr=!1,wr.restore(),ca.restore(),Ri.restore(),ha.restore(),na.restore(),Zi.restore(),Ei.restore(),Gr&&Gr.restore(),ve.procs.refresh(),we(),Jt.forEach(function(L){L()})}function Xt(je){function L(ke,nn){var Re={},hn={};return Object.keys(ke).forEach(function(pn){var on=ke[pn];if(ft.isDynamic(on))hn[pn]=ft.unbox(on,pn);else{if(nn&&Array.isArray(on)){for(var mn=0;mn<on.length;++mn)if(ft.isDynamic(on[mn]))return void(hn[pn]=ft.unbox(on,pn))}Re[pn]=on}}),{dynamic:hn,static:Re}}at(!!je,"invalid args to regl({...})"),at.type(je,"object","invalid args to regl({...})");var St=L(je.context||{},!0),$t=L(je.uniforms||{},!0),ye=L(je.attributes||{},!1),Zt=L(function(ke){var nn=I({},ke);function Re(hn){if(hn in nn){var pn=nn[hn];delete nn[hn],Object.keys(pn).forEach(function(on){nn[hn+"."+on]=pn[on]})}}return delete nn.uniforms,delete nn.attributes,delete nn.context,delete nn.vao,"stencil"in nn&&nn.stencil.op&&(nn.stencil.opBack=nn.stencil.opFront=nn.stencil.op,delete nn.stencil.op),Re("blend"),Re("depth"),Re("cull"),Re("stencil"),Re("polygonOffset"),Re("scissor"),Re("sample"),"vao"in ke&&(nn.vao=ke.vao),nn}(je),!1),de={gpuTime:0,cpuTime:0,count:0},he=ve.compile(Zt,ye,$t,St,de),le=he.draw,Me=he.batch,We=he.scope,Ye=[];return I(function(ke,nn){var Re;if(jr&&at.raise("context lost"),typeof ke=="function")return We.call(this,null,ke,0);if(typeof nn=="function")if(typeof ke=="number")for(Re=0;Re<ke;++Re)We.call(this,null,nn,Re);else{if(!Array.isArray(ke))return We.call(this,ke,nn,0);for(Re=0;Re<ke.length;++Re)We.call(this,ke[Re],nn,Re)}else if(typeof ke=="number"){if(ke>0)return Me.call(this,function(hn){for(;Ye.length<hn;)Ye.push(null);return Ye}(0|ke),0|ke)}else{if(!Array.isArray(ke))return le.call(this,ke);if(ke.length)return Me.call(this,ke,ke.length)}},{stats:de,destroy:function(){he.destroy()}})}nt&&(nt.addEventListener("webglcontextlost",Cn,!1),nt.addEventListener("webglcontextrestored",_t,!1));var Se=Zi.setFBO=Xt({framebuffer:ft.define.call(null,1,"framebuffer")});function Wt(je,L){var St=0;ve.procs.poll();var $t=L.color;$t&&(un.clearColor(+$t[0]||0,+$t[1]||0,+$t[2]||0,+$t[3]||0),St|=16384),"depth"in L&&(un.clearDepth(+L.depth),St|=256),"stencil"in L&&(un.clearStencil(0|L.stencil),St|=1024),at(!!St,"called regl.clear with no buffer specified"),un.clear(St)}function ce(je){return at.type(je,"function","regl.frame() callback must be a function"),vt.push(je),we(),{cancel:function(){var St=rr(vt,je);at(St>=0,"cannot cancel a frame twice"),vt[St]=function $t(){var ye=rr(vt,$t);vt[ye]=vt[vt.length-1],vt.length-=1,vt.length<=0&&cn()}}}}function yn(){var je=G.viewport,L=G.scissor_box;je[0]=je[1]=L[0]=L[1]=0,Qr.viewportWidth=Qr.framebufferWidth=Qr.drawingBufferWidth=je[2]=L[2]=un.drawingBufferWidth,Qr.viewportHeight=Qr.framebufferHeight=Qr.drawingBufferHeight=je[3]=L[3]=un.drawingBufferHeight}function Bn(){Qr.tick+=1,Qr.time=Kn(),yn(),ve.procs.poll()}function Zn(){ha.refresh(),yn(),ve.procs.refresh(),Gr&&Gr.update()}function Kn(){return(yt()-Hr)/1e3}Zn();var $e=I(Xt,{clear:function(L){if(at(x(L)==="object"&&L,"regl.clear() takes an object as input"),"framebuffer"in L)if(L.framebuffer&&L.framebuffer_reglType==="framebufferCube")for(var St=0;St<6;++St)Se(I({framebuffer:L.framebuffer.faces[St]},L),Wt);else Se(L,Wt);else Wt(0,L)},prop:ft.define.bind(null,1),context:ft.define.bind(null,2),this:ft.define.bind(null,3),draw:Xt({}),buffer:function(L){return Ri.create(L,34962,!1,!1)},elements:function(L){return Gi.create(L,!1)},texture:ha.create2D,cube:ha.createCube,renderbuffer:na.create,framebuffer:Zi.create,framebufferCube:Zi.createCube,vao:Ei.createVAO,attributes:ur,frame:ce,on:function(L,St){var $t;switch(at.type(St,"function","listener callback must be a function"),L){case"frame":return ce(St);case"lost":$t=Gt;break;case"restore":$t=Jt;break;case"destroy":$t=ie;break;default:at.raise("invalid event, must be one of frame,lost,restore,destroy")}return $t.push(St),{cancel:function(){for(var Zt=0;Zt<$t.length;++Zt)if($t[Zt]===St)return $t[Zt]=$t[$t.length-1],void $t.pop()}}},limits:Oi,hasExtension:function(L){return Oi.extensions.indexOf(L.toLowerCase())>=0},read:U,destroy:function(){vt.length=0,cn(),nt&&(nt.removeEventListener("webglcontextlost",Cn),nt.removeEventListener("webglcontextrestored",_t)),ca.clear(),Zi.clear(),na.clear(),ha.clear(),Gi.clear(),Ri.clear(),Ei.clear(),Gr&&Gr.clear(),ie.forEach(function(L){L()})},_gl:un,_refresh:Zn,poll:function(){Bn(),Gr&&Gr.update()},now:Kn,stats:Fr});return sn.onDone(null,$e),$e}},x(b)==="object"&&i!==void 0?i.exports=g():(u=typeof(n=g)=="function"?n.call(b,t,b,i):n)===void 0||(i.exports=u)},function(i,b,t){"use strict";i.exports=function(n,u,g,x){try{try{var c;try{c=new window.Blob([n])}catch(r){(c=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(n),c=c.getBlob()}var w=window.URL||window.webkitURL,I=w.createObjectURL(c),m=new window[u](I,g);return w.revokeObjectURL(I),m}catch(r){return new window[u]("data:application/javascript,".concat(encodeURIComponent(n)),g)}}catch(r){if(!x)throw Error("Inline worker is not supported");return new window[u](x,g)}}},,,,,,,,function(i,b,t){"use strict";t.r(b),t.d(b,"Minimap",function(){return S}),t.d(b,"Grid",function(){return A}),t.d(b,"Bundling",function(){return f}),t.d(b,"Menu",function(){return O}),t.d(b,"Fisheye",function(){return j}),t.d(b,"ToolBar",function(){return D}),t.d(b,"Tooltip",function(){return V}),t.d(b,"TimeBar",function(){return H}),t.d(b,"ImageMinimap",function(){return $}),t.d(b,"EdgeFilterLens",function(){return dt});var n=t(5);t.d(b,"Arrow",function(){return n.d}),t.d(b,"Marker",function(){return n.k}),t.d(b,"Shape",function(){return n.m});var u=t(18);t.d(b,"ICanvas",function(){return u.ICanvas}),t.d(b,"IGroup",function(){return u.IGroup}),t.d(b,"IShape",function(){return u.IShape});var g=t(33);t.d(b,"Algorithm",function(){return g});var x=t(91);t.d(b,"Graph",function(){return x.a});var c=t(152);t.d(b,"TreeGraph",function(){return c.a});var w=t(69);t.d(b,"Layout",function(){return w.a}),t.d(b,"registerLayout",function(){return w.b});var I=t(45);t.d(b,"Global",function(){return I.a});var m=t(38);t.d(b,"Util",function(){return m.a});var r=t(35);t(509),t(508),t.d(b,"G6GraphEvent",function(){return n.i}),t.d(b,"G6Event",function(){return n.h}),t.d(b,"Node",function(){return n.l}),t.d(b,"Edge",function(){return n.g}),t.d(b,"Combo",function(){return n.f}),t.d(b,"Hull",function(){return n.j}),t.d(b,"registerNode",function(){return n.r}),t.d(b,"registerCombo",function(){return n.p}),t.d(b,"AbstractGraph",function(){return n.b}),t.d(b,"registerEdge",function(){return n.q}),t.d(b,"registerBehavior",function(){return n.o}),t.d(b,"AbstractLayout",function(){return n.c}),t.d(b,"AbstractEvent",function(){return n.a}),t.d(b,"BaseGlobal",function(){return n.e});var s=t(245);for(var d in s)["default","Graph","TreeGraph","Util","Layout","registerLayout","Global","Minimap","Grid","Bundling","Menu","Fisheye","Algorithm","ToolBar","Tooltip","TimeBar","ImageMinimap","EdgeFilterLens","Arrow","Marker","Shape","ICanvas","IGroup","IShape","G6GraphEvent","G6Event","Node","Edge","Combo","Hull","registerNode","registerCombo","AbstractGraph","registerEdge","registerBehavior","AbstractLayout","AbstractEvent","BaseGlobal"].indexOf(d)<0&&function(Z){t.d(b,Z,function(){return s[Z]})}(d);var C=t(246);for(var d in C)["default","Graph","TreeGraph","Util","Layout","registerLayout","Global","Minimap","Grid","Bundling","Menu","Fisheye","Algorithm","ToolBar","Tooltip","TimeBar","ImageMinimap","EdgeFilterLens","Arrow","Marker","Shape","ICanvas","IGroup","IShape","G6GraphEvent","G6Event","Node","Edge","Combo","Hull","registerNode","registerCombo","AbstractGraph","registerEdge","registerBehavior","AbstractLayout","AbstractEvent","BaseGlobal"].indexOf(d)<0&&function(ct){t.d(b,ct,function(){return C[ct]})}(d);var S=r.a.Minimap,A=r.a.Grid,f=r.a.Bundling,O=r.a.Menu,j=r.a.Fisheye,D=r.a.ToolBar,V=r.a.Tooltip,H=r.a.TimeBar,$=r.a.ImageMinimap,dt=r.a.EdgeFilterLens;b.default={version:I.a.version,Graph:x.a,TreeGraph:c.a,Util:m.a,Layout:w.a,registerLayout:w.b,Global:I.a,registerBehavior:n.o,registerCombo:n.p,registerEdge:n.q,registerNode:n.r,Minimap:r.a.Minimap,Grid:r.a.Grid,Bundling:r.a.Bundling,Menu:r.a.Menu,ToolBar:r.a.ToolBar,Tooltip:r.a.Tooltip,TimeBar:H,Fisheye:j,ImageMinimap:$,EdgeFilterLens:dt,Algorithm:g,Arrow:n.d,Marker:n.k,Shape:n.m}},function(i,b,t){var n=t(264),u=t(265),g={};for(var x in n)n.hasOwnProperty(x)&&(g[n[x]]=x);var c=i.exports={to:{},get:{}};function w(m,r,s){return Math.min(Math.max(r,m),s)}function I(m){var r=m.toString(16).toUpperCase();return r.length<2?"0"+r:r}c.get=function(m){var r,s;switch(m.substring(0,3).toLowerCase()){case"hsl":r=c.get.hsl(m),s="hsl";break;case"hwb":r=c.get.hwb(m),s="hwb";break;default:r=c.get.rgb(m),s="rgb"}return r?{model:s,value:r}:null},c.get.rgb=function(m){if(!m)return null;var r,s,d,C=[0,0,0,1];if(r=m.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(d=r[2],r=r[1],s=0;s<3;s++){var S=2*s;C[s]=parseInt(r.slice(S,S+2),16)}d&&(C[3]=parseInt(d,16)/255)}else if(r=m.match(/^#([a-f0-9]{3,4})$/i)){for(d=(r=r[1])[3],s=0;s<3;s++)C[s]=parseInt(r[s]+r[s],16);d&&(C[3]=parseInt(d+d,16)/255)}else if(r=m.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)){for(s=0;s<3;s++)C[s]=parseInt(r[s+1],0);r[4]&&(C[3]=parseFloat(r[4]))}else{if(!(r=m.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/)))return(r=m.match(/(\D+)/))?r[1]==="transparent"?[0,0,0,0]:(C=n[r[1]])?(C[3]=1,C):null:null;for(s=0;s<3;s++)C[s]=Math.round(2.55*parseFloat(r[s+1]));r[4]&&(C[3]=parseFloat(r[4]))}for(s=0;s<3;s++)C[s]=w(C[s],0,255);return C[3]=w(C[3],0,1),C},c.get.hsl=function(m){if(!m)return null;var r=m.match(/^hsla?\(\s*([+-]?(?:\d*\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(r){var s=parseFloat(r[4]);return[(parseFloat(r[1])+360)%360,w(parseFloat(r[2]),0,100),w(parseFloat(r[3]),0,100),w(isNaN(s)?1:s,0,1)]}return null},c.get.hwb=function(m){if(!m)return null;var r=m.match(/^hwb\(\s*([+-]?\d*[\.]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/);if(r){var s=parseFloat(r[4]);return[(parseFloat(r[1])%360+360)%360,w(parseFloat(r[2]),0,100),w(parseFloat(r[3]),0,100),w(isNaN(s)?1:s,0,1)]}return null},c.to.hex=function(){var m=u(arguments);return"#"+I(m[0])+I(m[1])+I(m[2])+(m[3]<1?I(Math.round(255*m[3])):"")},c.to.rgb=function(){var m=u(arguments);return m.length<4||m[3]===1?"rgb("+Math.round(m[0])+", "+Math.round(m[1])+", "+Math.round(m[2])+")":"rgba("+Math.round(m[0])+", "+Math.round(m[1])+", "+Math.round(m[2])+", "+m[3]+")"},c.to.rgb.percent=function(){var m=u(arguments),r=Math.round(m[0]/255*100),s=Math.round(m[1]/255*100),d=Math.round(m[2]/255*100);return m.length<4||m[3]===1?"rgb("+r+"%, "+s+"%, "+d+"%)":"rgba("+r+"%, "+s+"%, "+d+"%, "+m[3]+")"},c.to.hsl=function(){var m=u(arguments);return m.length<4||m[3]===1?"hsl("+m[0]+", "+m[1]+"%, "+m[2]+"%)":"hsla("+m[0]+", "+m[1]+"%, "+m[2]+"%, "+m[3]+")"},c.to.hwb=function(){var m=u(arguments),r="";return m.length>=4&&m[3]!==1&&(r=", "+m[3]),"hwb("+m[0]+", "+m[1]+"%, "+m[2]+"%"+r+")"},c.to.keyword=function(m){return g[m.slice(0,3)]}},function(i,b,t){"use strict";i.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(i,b,t){"use strict";var n=t(266),u=Array.prototype.concat,g=Array.prototype.slice,x=i.exports=function(c){for(var w=[],I=0,m=c.length;I<m;I++){var r=c[I];n(r)?w=u.call(w,g.call(r)):w.push(r)}return w};x.wrap=function(c){return function(){return c(x(arguments))}}},function(i,b){i.exports=function(t){return!(!t||typeof t=="string")&&(t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String"))}},function(i,b,t){function n(c){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(c)}var u=t(161),g=t(269),x={};Object.keys(u).forEach(function(c){x[c]={},Object.defineProperty(x[c],"channels",{value:u[c].channels}),Object.defineProperty(x[c],"labels",{value:u[c].labels});var w=g(c);Object.keys(w).forEach(function(I){var m=w[I];x[c][I]=function(r){var s=function(C){if(C==null)return C;arguments.length>1&&(C=Array.prototype.slice.call(arguments));var S=r(C);if(n(S)==="object")for(var A=S.length,f=0;f<A;f++)S[f]=Math.round(S[f]);return S};return"conversion"in r&&(s.conversion=r.conversion),s}(m),x[c][I].raw=function(r){var s=function(C){return C==null?C:(arguments.length>1&&(C=Array.prototype.slice.call(arguments)),r(C))};return"conversion"in r&&(s.conversion=r.conversion),s}(m)})}),i.exports=x},function(i,b,t){"use strict";i.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(i,b,t){var n=t(161);function u(c){var w=function(){for(var A={},f=Object.keys(n),O=f.length,j=0;j<O;j++)A[f[j]]={distance:-1,parent:null};return A}(),I=[c];for(w[c].distance=0;I.length;)for(var m=I.pop(),r=Object.keys(n[m]),s=r.length,d=0;d<s;d++){var C=r[d],S=w[C];S.distance===-1&&(S.distance=w[m].distance+1,S.parent=m,I.unshift(C))}return w}function g(c,w){return function(I){return w(c(I))}}function x(c,w){for(var I=[w[c].parent,c],m=n[w[c].parent][c],r=w[c].parent;w[r].parent;)I.unshift(w[r].parent),m=g(n[w[r].parent][r],m),r=w[r].parent;return m.conversion=I,m}i.exports=function(c){for(var w=u(c),I={},m=Object.keys(w),r=m.length,s=0;s<r;s++){var d=m[s];w[d].parent!==null&&(I[d]=x(d,w))}return I}},function(i,b,t){var n=t(271);i.exports={Graph:n.Graph,json:t(372),alg:t(373),version:n.version}},function(i,b,t){i.exports={Graph:t(124),version:t(371)}},function(i,b,t){var n=t(162);i.exports=function(u){return n(u,4)}},function(i,b){i.exports=function(){this.__data__=[],this.size=0}},function(i,b,t){var n=t(97),u=Array.prototype.splice;i.exports=function(g){var x=this.__data__,c=n(x,g);return!(c<0)&&(c==x.length-1?x.pop():u.call(x,c,1),--this.size,!0)}},function(i,b,t){var n=t(97);i.exports=function(u){var g=this.__data__,x=n(g,u);return x<0?void 0:g[x][1]}},function(i,b,t){var n=t(97);i.exports=function(u){return n(this.__data__,u)>-1}},function(i,b,t){var n=t(97);i.exports=function(u,g){var x=this.__data__,c=n(x,u);return c<0?(++this.size,x.push([u,g])):x[c][1]=g,this}},function(i,b,t){var n=t(96);i.exports=function(){this.__data__=new n,this.size=0}},function(i,b){i.exports=function(t){var n=this.__data__,u=n.delete(t);return this.size=n.size,u}},function(i,b){i.exports=function(t){return this.__data__.get(t)}},function(i,b){i.exports=function(t){return this.__data__.has(t)}},function(i,b,t){var n=t(96),u=t(125),g=t(126);i.exports=function(x,c){var w=this.__data__;if(w instanceof n){var I=w.__data__;if(!u||I.length<199)return I.push([x,c]),this.size=++w.size,this;w=this.__data__=new g(I)}return w.set(x,c),this.size=w.size,this}},function(i,b,t){var n=t(83),u=t(286),g=t(43),x=t(165),c=/^\[object .+?Constructor\]$/,w=Function.prototype,I=Object.prototype,m=w.toString,r=I.hasOwnProperty,s=RegExp("^"+m.call(r).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");i.exports=function(d){return!(!g(d)||u(d))&&(n(d)?s:c).test(x(d))}},function(i,b,t){var n=t(72),u=Object.prototype,g=u.hasOwnProperty,x=u.toString,c=n?n.toStringTag:void 0;i.exports=function(w){var I=g.call(w,c),m=w[c];try{w[c]=void 0;var r=!0}catch(d){}var s=x.call(w);return r&&(I?w[c]=m:delete w[c]),s}},function(i,b){var t=Object.prototype.toString;i.exports=function(n){return t.call(n)}},function(i,b,t){var n,u=t(287),g=(n=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";i.exports=function(x){return!!g&&g in x}},function(i,b,t){var n=t(47)["__core-js_shared__"];i.exports=n},function(i,b){i.exports=function(t,n){return t==null?void 0:t[n]}},function(i,b,t){var n=t(290),u=t(96),g=t(125);i.exports=function(){this.size=0,this.__data__={hash:new n,map:new(g||u),string:new n}}},function(i,b,t){var n=t(291),u=t(292),g=t(293),x=t(294),c=t(295);function w(I){var m=-1,r=I==null?0:I.length;for(this.clear();++m<r;){var s=I[m];this.set(s[0],s[1])}}w.prototype.clear=n,w.prototype.delete=u,w.prototype.get=g,w.prototype.has=x,w.prototype.set=c,i.exports=w},function(i,b,t){var n=t(98);i.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(i,b){i.exports=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}},function(i,b,t){var n=t(98),u=Object.prototype.hasOwnProperty;i.exports=function(g){var x=this.__data__;if(n){var c=x[g];return c==="__lodash_hash_undefined__"?void 0:c}return u.call(x,g)?x[g]:void 0}},function(i,b,t){var n=t(98),u=Object.prototype.hasOwnProperty;i.exports=function(g){var x=this.__data__;return n?x[g]!==void 0:u.call(x,g)}},function(i,b,t){var n=t(98);i.exports=function(u,g){var x=this.__data__;return this.size+=this.has(u)?0:1,x[u]=n&&g===void 0?"__lodash_hash_undefined__":g,this}},function(i,b,t){var n=t(99);i.exports=function(u){var g=n(this,u).delete(u);return this.size-=g?1:0,g}},function(i,b){function t(n){return(t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(n)}i.exports=function(n){var u=t(n);return u=="string"||u=="number"||u=="symbol"||u=="boolean"?n!=="__proto__":n===null}},function(i,b,t){var n=t(99);i.exports=function(u){return n(this,u).get(u)}},function(i,b,t){var n=t(99);i.exports=function(u){return n(this,u).has(u)}},function(i,b,t){var n=t(99);i.exports=function(u,g){var x=n(this,u),c=x.size;return x.set(u,g),this.size+=x.size==c?0:1,this}},function(i,b,t){var n=t(84),u=t(58);i.exports=function(g,x){return g&&n(x,u(x),g)}},function(i,b){i.exports=function(t,n){for(var u=-1,g=Array(t);++u<t;)g[u]=n(u);return g}},function(i,b,t){var n=t(57),u=t(48);i.exports=function(g){return u(g)&&n(g)=="[object Arguments]"}},function(i,b){i.exports=function(){return!1}},function(i,b,t){var n=t(57),u=t(128),g=t(48),x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x["[object Arguments]"]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object Boolean]"]=x["[object DataView]"]=x["[object Date]"]=x["[object Error]"]=x["[object Function]"]=x["[object Map]"]=x["[object Number]"]=x["[object Object]"]=x["[object RegExp]"]=x["[object Set]"]=x["[object String]"]=x["[object WeakMap]"]=!1,i.exports=function(c){return g(c)&&u(c.length)&&!!x[n(c)]}},function(i,b,t){var n=t(168)(Object.keys,Object);i.exports=n},function(i,b,t){var n=t(84),u=t(65);i.exports=function(g,x){return g&&n(x,u(x),g)}},function(i,b,t){var n=t(43),u=t(104),g=t(309),x=Object.prototype.hasOwnProperty;i.exports=function(c){if(!n(c))return g(c);var w=u(c),I=[];for(var m in c)(m!="constructor"||!w&&x.call(c,m))&&I.push(m);return I}},function(i,b){i.exports=function(t){var n=[];if(t!=null)for(var u in Object(t))n.push(u);return n}},function(i,b,t){var n=t(84),u=t(131);i.exports=function(g,x){return n(g,u(g),x)}},function(i,b,t){var n=t(84),u=t(173);i.exports=function(g,x){return n(g,u(g),x)}},function(i,b,t){var n=t(175),u=t(173),g=t(65);i.exports=function(x){return n(x,g,u)}},function(i,b,t){var n=t(64)(t(47),"DataView");i.exports=n},function(i,b,t){var n=t(64)(t(47),"Promise");i.exports=n},function(i,b,t){var n=t(64)(t(47),"WeakMap");i.exports=n},function(i,b){var t=Object.prototype.hasOwnProperty;i.exports=function(n){var u=n.length,g=new n.constructor(u);return u&&typeof n[0]=="string"&&t.call(n,"index")&&(g.index=n.index,g.input=n.input),g}},function(i,b,t){var n=t(133),u=t(318),g=t(319),x=t(320),c=t(178);i.exports=function(w,I,m){var r=w.constructor;switch(I){case"[object ArrayBuffer]":return n(w);case"[object Boolean]":case"[object Date]":return new r(+w);case"[object DataView]":return u(w,m);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return c(w,m);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(w);case"[object RegExp]":return g(w);case"[object Set]":return new r;case"[object Symbol]":return x(w)}}},function(i,b,t){var n=t(133);i.exports=function(u,g){var x=g?n(u.buffer):u.buffer;return new u.constructor(x,u.byteOffset,u.byteLength)}},function(i,b){var t=/\w*$/;i.exports=function(n){var u=new n.constructor(n.source,t.exec(n));return u.lastIndex=n.lastIndex,u}},function(i,b,t){var n=t(72),u=n?n.prototype:void 0,g=u?u.valueOf:void 0;i.exports=function(x){return g?Object(g.call(x)):{}}},function(i,b,t){var n=t(322),u=t(103),g=t(129),x=g&&g.isMap,c=x?u(x):n;i.exports=c},function(i,b,t){var n=t(74),u=t(48);i.exports=function(g){return u(g)&&n(g)=="[object Map]"}},function(i,b,t){var n=t(324),u=t(103),g=t(129),x=g&&g.isSet,c=x?u(x):n;i.exports=c},function(i,b,t){var n=t(74),u=t(48);i.exports=function(g){return u(g)&&n(g)=="[object Set]"}},function(i,b){i.exports=function(t){return function(n,u,g){for(var x=-1,c=Object(n),w=g(n),I=w.length;I--;){var m=w[t?I:++x];if(u(c[m],m,c)===!1)break}return n}}},function(i,b,t){var n=t(53);i.exports=function(u,g){return function(x,c){if(x==null)return x;if(!n(x))return u(x,c);for(var w=x.length,I=g?w:-1,m=Object(x);(g?I--:++I<w)&&c(m[I],I,m)!==!1;);return x}}},function(i,b,t){var n=t(106);i.exports=function(u,g){var x=[];return n(u,function(c,w,I){g(c,w,I)&&x.push(c)}),x}},function(i,b,t){var n=t(329),u=t(337),g=t(190);i.exports=function(x){var c=u(x);return c.length==1&&c[0][2]?g(c[0][0],c[0][1]):function(w){return w===x||n(w,x,c)}}},function(i,b,t){var n=t(95),u=t(185);i.exports=function(g,x,c,w){var I=c.length,m=I,r=!w;if(g==null)return!m;for(g=Object(g);I--;){var s=c[I];if(r&&s[2]?s[1]!==g[s[0]]:!(s[0]in g))return!1}for(;++I<m;){var d=(s=c[I])[0],C=g[d],S=s[1];if(r&&s[2]){if(C===void 0&&!(d in g))return!1}else{var A=new n;if(w)var f=w(C,S,d,g,x,A);if(!(f===void 0?u(S,C,3,w,A):f))return!1}}return!0}},function(i,b,t){var n=t(95),u=t(186),g=t(334),x=t(336),c=t(74),w=t(26),I=t(73),m=t(44),r="[object Object]",s=Object.prototype.hasOwnProperty;i.exports=function(d,C,S,A,f,O){var j=w(d),D=w(C),V=j?"[object Array]":c(d),H=D?"[object Array]":c(C),$=(V=V=="[object Arguments]"?r:V)==r,dt=(H=H=="[object Arguments]"?r:H)==r,Z=V==H;if(Z&&I(d)){if(!I(C))return!1;j=!0,$=!1}if(Z&&!$)return O||(O=new n),j||m(d)?u(d,C,S,A,f,O):g(d,C,V,S,A,f,O);if(!(1&S)){var ct=$&&s.call(d,"__wrapped__"),pt=dt&&s.call(C,"__wrapped__");if(ct||pt){var gt=ct?d.value():d,at=pt?C.value():C;return O||(O=new n),f(gt,at,S,A,O)}}return!!Z&&(O||(O=new n),x(d,C,S,A,f,O))}},function(i,b){i.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(i,b){i.exports=function(t){return this.__data__.has(t)}},function(i,b){i.exports=function(t,n){for(var u=-1,g=t==null?0:t.length;++u<g;)if(n(t[u],u,t))return!0;return!1}},function(i,b,t){var n=t(72),u=t(177),g=t(71),x=t(186),c=t(335),w=t(137),I=n?n.prototype:void 0,m=I?I.valueOf:void 0;i.exports=function(r,s,d,C,S,A,f){switch(d){case"[object DataView]":if(r.byteLength!=s.byteLength||r.byteOffset!=s.byteOffset)return!1;r=r.buffer,s=s.buffer;case"[object ArrayBuffer]":return!(r.byteLength!=s.byteLength||!A(new u(r),new u(s)));case"[object Boolean]":case"[object Date]":case"[object Number]":return g(+r,+s);case"[object Error]":return r.name==s.name&&r.message==s.message;case"[object RegExp]":case"[object String]":return r==s+"";case"[object Map]":var O=c;case"[object Set]":var j=1&C;if(O||(O=w),r.size!=s.size&&!j)return!1;var D=f.get(r);if(D)return D==s;C|=2,f.set(r,s);var V=x(O(r),O(s),C,S,A,f);return f.delete(r),V;case"[object Symbol]":if(m)return m.call(r)==m.call(s)}return!1}},function(i,b){i.exports=function(t){var n=-1,u=Array(t.size);return t.forEach(function(g,x){u[++n]=[x,g]}),u}},function(i,b,t){var n=t(174),u=Object.prototype.hasOwnProperty;i.exports=function(g,x,c,w,I,m){var r=1&c,s=n(g),d=s.length;if(d!=n(x).length&&!r)return!1;for(var C=d;C--;){var S=s[C];if(!(r?S in x:u.call(x,S)))return!1}var A=m.get(g),f=m.get(x);if(A&&f)return A==x&&f==g;var O=!0;m.set(g,x),m.set(x,g);for(var j=r;++C<d;){var D=g[S=s[C]],V=x[S];if(w)var H=r?w(V,D,S,x,g,m):w(D,V,S,g,x,m);if(!(H===void 0?D===V||I(D,V,c,w,m):H)){O=!1;break}j||(j=S=="constructor")}if(O&&!j){var $=g.constructor,dt=x.constructor;$==dt||!("constructor"in g)||!("constructor"in x)||typeof $=="function"&&$ instanceof $&&typeof dt=="function"&&dt instanceof dt||(O=!1)}return m.delete(g),m.delete(x),O}},function(i,b,t){var n=t(189),u=t(58);i.exports=function(g){for(var x=u(g),c=x.length;c--;){var w=x[c],I=g[w];x[c]=[w,I,n(I)]}return x}},function(i,b,t){var n=t(185),u=t(339),g=t(192),x=t(138),c=t(189),w=t(190),I=t(87);i.exports=function(m,r){return x(m)&&c(r)?w(I(m),r):function(s){var d=u(s,m);return d===void 0&&d===r?g(s,m):n(r,d,3)}}},function(i,b,t){var n=t(107);i.exports=function(u,g,x){var c=u==null?void 0:n(u,g);return c===void 0?x:c}},function(i,b,t){var n=t(341),u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,x=n(function(c){var w=[];return c.charCodeAt(0)===46&&w.push(""),c.replace(u,function(I,m,r,s){w.push(r?s.replace(g,"$1"):m||I)}),w});i.exports=x},function(i,b,t){var n=t(342);i.exports=function(u){var g=n(u,function(c){return x.size===500&&x.clear(),c}),x=g.cache;return g}},function(i,b,t){var n=t(126);function u(g,x){if(typeof g!="function"||x!=null&&typeof x!="function")throw new TypeError("Expected a function");var c=function w(){var I=arguments,m=x?x.apply(this,I):I[0],r=w.cache;if(r.has(m))return r.get(m);var s=g.apply(this,I);return w.cache=r.set(m,s)||r,s};return c.cache=new(u.Cache||n),c}u.Cache=n,i.exports=u},function(i,b,t){var n=t(72),u=t(109),g=t(26),x=t(75),c=n?n.prototype:void 0,w=c?c.toString:void 0;i.exports=function I(m){if(typeof m=="string")return m;if(g(m))return u(m,I)+"";if(x(m))return w?w.call(m):"";var r=m+"";return r=="0"&&1/m==-1/0?"-0":r}},function(i,b){i.exports=function(t,n){return t!=null&&n in Object(t)}},function(i,b,t){var n=t(194),u=t(346),g=t(138),x=t(87);i.exports=function(c){return g(c)?n(x(c)):u(c)}},function(i,b,t){var n=t(107);i.exports=function(u){return function(g){return n(g,u)}}},function(i,b){var t=Object.prototype.hasOwnProperty;i.exports=function(n,u){return n!=null&&t.call(n,u)}},function(i,b,t){var n=t(130),u=t(74),g=t(85),x=t(26),c=t(53),w=t(73),I=t(104),m=t(44),r=Object.prototype.hasOwnProperty;i.exports=function(s){if(s==null)return!0;if(c(s)&&(x(s)||typeof s=="string"||typeof s.splice=="function"||w(s)||m(s)||g(s)))return!s.length;var d=u(s);if(d=="[object Map]"||d=="[object Set]")return!s.size;if(I(s))return!n(s).length;for(var C in s)if(r.call(s,C))return!1;return!0}},function(i,b){i.exports=function(t,n,u,g){var x=-1,c=t==null?0:t.length;for(g&&c&&(u=t[++x]);++x<c;)u=n(u,t[x],x,t);return u}},function(i,b){i.exports=function(t,n,u,g,x){return x(t,function(c,w,I){u=g?(g=!1,c):n(u,c,w,I)}),u}},function(i,b,t){var n=t(130),u=t(74),g=t(53),x=t(352),c=t(353);i.exports=function(w){if(w==null)return 0;if(g(w))return x(w)?c(w):w.length;var I=u(w);return I=="[object Map]"||I=="[object Set]"?w.size:n(w).length}},function(i,b,t){var n=t(57),u=t(26),g=t(48);i.exports=function(x){return typeof x=="string"||!u(x)&&g(x)&&n(x)=="[object String]"}},function(i,b,t){var n=t(354),u=t(355),g=t(356);i.exports=function(x){return u(x)?g(x):n(x)}},function(i,b,t){var n=t(194)("length");i.exports=n},function(i,b){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");i.exports=function(n){return t.test(n)}},function(i,b){var t="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",u="\\ud83c[\\udffb-\\udfff]",g="[^\\ud800-\\udfff]",x="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",w="(?:"+n+"|"+u+")?",I="[\\ufe0e\\ufe0f]?"+w+("(?:\\u200d(?:"+[g,x,c].join("|")+")[\\ufe0e\\ufe0f]?"+w+")*"),m="(?:"+[g+n+"?",n,x,c,t].join("|")+")",r=RegExp(u+"(?="+u+")|"+m+I,"g");i.exports=function(s){for(var d=r.lastIndex=0;r.test(s);)++d;return d}},function(i,b,t){var n=t(127),u=t(180),g=t(135),x=t(54),c=t(105),w=t(26),I=t(73),m=t(83),r=t(43),s=t(44);i.exports=function(d,C,S){var A=w(d),f=A||I(d)||s(d);if(C=x(C,4),S==null){var O=d&&d.constructor;S=f?A?new O:[]:r(d)&&m(O)?u(c(d)):{}}return(f?n:g)(d,function(j,D,V){return C(S,j,D,V)}),S}},function(i,b,t){var n=t(139),u=t(110),g=t(202),x=t(204),c=u(function(w){return g(n(w,1,x,!0))});i.exports=c},function(i,b,t){var n=t(72),u=t(85),g=t(26),x=n?n.isConcatSpreadable:void 0;i.exports=function(c){return g(c)||u(c)||!!(x&&c&&c[x])}},function(i,b){i.exports=function(t,n,u){switch(u.length){case 0:return t.call(n);case 1:return t.call(n,u[0]);case 2:return t.call(n,u[0],u[1]);case 3:return t.call(n,u[0],u[1],u[2])}return t.apply(n,u)}},function(i,b,t){var n=t(134),u=t(166),g=t(66),x=u?function(c,w){return u(c,"toString",{configurable:!0,enumerable:!1,value:n(w),writable:!0})}:g;i.exports=x},function(i,b){var t=Date.now;i.exports=function(n){var u=0,g=0;return function(){var x=t(),c=16-(x-g);if(g=x,c>0){if(++u>=800)return arguments[0]}else u=0;return n.apply(void 0,arguments)}}},function(i,b,t){var n=t(364);i.exports=function(u,g){return!!(u==null?0:u.length)&&n(u,g,0)>-1}},function(i,b,t){var n=t(203),u=t(365),g=t(366);i.exports=function(x,c,w){return c==c?g(x,c,w):n(x,u,w)}},function(i,b){i.exports=function(t){return t!=t}},function(i,b){i.exports=function(t,n,u){for(var g=u-1,x=t.length;++g<x;)if(t[g]===n)return g;return-1}},function(i,b){i.exports=function(t,n,u){for(var g=-1,x=t==null?0:t.length;++g<x;)if(u(n,t[g]))return!0;return!1}},function(i,b,t){var n=t(176),u=t(369),g=t(137),x=n&&1/g(new n([,-0]))[1]==1/0?function(c){return new n(c)}:u;i.exports=x},function(i,b){i.exports=function(){}},function(i,b,t){var n=t(109);i.exports=function(u,g){return n(g,function(x){return u[x]})}},function(i,b){i.exports="2.1.8"},function(i,b,t){var n=t(42),u=t(124);function g(c){return n.map(c.nodes(),function(w){var I=c.node(w),m=c.parent(w),r={v:w};return n.isUndefined(I)||(r.value=I),n.isUndefined(m)||(r.parent=m),r})}function x(c){return n.map(c.edges(),function(w){var I=c.edge(w),m={v:w.v,w:w.w};return n.isUndefined(w.name)||(m.name=w.name),n.isUndefined(I)||(m.value=I),m})}i.exports={write:function(w){var I={options:{directed:w.isDirected(),multigraph:w.isMultigraph(),compound:w.isCompound()},nodes:g(w),edges:x(w)};return n.isUndefined(w.graph())||(I.value=n.clone(w.graph())),I},read:function(w){var I=new u(w.options).setGraph(w.value);return n.each(w.nodes,function(m){I.setNode(m.v,m.value),m.parent&&I.setParent(m.v,m.parent)}),n.each(w.edges,function(m){I.setEdge({v:m.v,w:m.w,name:m.name},m.value)}),I}}},function(i,b,t){i.exports={components:t(374),dijkstra:t(206),dijkstraAll:t(375),findCycles:t(376),floydWarshall:t(377),isAcyclic:t(378),postorder:t(379),preorder:t(380),prim:t(381),tarjan:t(208),topsort:t(209)}},function(i,b,t){var n=t(42);i.exports=function(u){var g,x={},c=[];function w(I){n.has(x,I)||(x[I]=!0,g.push(I),n.each(u.successors(I),w),n.each(u.predecessors(I),w))}return n.each(u.nodes(),function(I){g=[],w(I),g.length&&c.push(g)}),c}},function(i,b,t){var n=t(206),u=t(42);i.exports=function(g,x,c){return u.transform(g.nodes(),function(w,I){w[I]=n(g,I,x,c)},{})}},function(i,b,t){var n=t(42),u=t(208);i.exports=function(g){return n.filter(u(g),function(x){return x.length>1||x.length===1&&g.hasEdge(x[0],x[0])})}},function(i,b,t){var n=t(42);i.exports=function(g,x,c){return function(w,I,m){var r={},s=w.nodes();return s.forEach(function(d){r[d]={},r[d][d]={distance:0},s.forEach(function(C){d!==C&&(r[d][C]={distance:Number.POSITIVE_INFINITY})}),m(d).forEach(function(C){var S=C.v===d?C.w:C.v,A=I(C);r[d][S]={distance:A,predecessor:d}})}),s.forEach(function(d){var C=r[d];s.forEach(function(S){var A=r[S];s.forEach(function(f){var O=A[d],j=C[f],D=A[f],V=O.distance+j.distance;V<D.distance&&(D.distance=V,D.predecessor=j.predecessor)})})}),r}(g,x||u,c||function(w){return g.outEdges(w)})};var u=n.constant(1)},function(i,b,t){var n=t(209);i.exports=function(u){try{n(u)}catch(g){if(g instanceof n.CycleException)return!1;throw g}return!0}},function(i,b,t){var n=t(210);i.exports=function(u,g){return n(u,g,"post")}},function(i,b,t){var n=t(210);i.exports=function(u,g){return n(u,g,"pre")}},function(i,b,t){var n=t(42),u=t(124),g=t(207);i.exports=function(x,c){var w,I=new u,m={},r=new g;function s(C){var S=C.v===w?C.w:C.v,A=r.priority(S);if(A!==void 0){var f=c(C);f<A&&(m[S]=w,r.decrease(S,f))}}if(x.nodeCount()===0)return I;n.each(x.nodes(),function(C){r.add(C,Number.POSITIVE_INFINITY),I.setNode(C)}),r.decrease(x.nodes()[0],0);for(var d=!1;r.size()>0;){if(w=r.removeMin(),n.has(m,w))I.setEdge(w,m[w]);else{if(d)throw new Error("Input graph is not connected: "+x);d=!0}x.nodeEdges(w).forEach(s)}return I}},function(i,b,t){"use strict";var n=t(24),u=t(419),g=t(422),x=t(423),c=t(37).normalizeRanks,w=t(425),I=t(37).removeEmptyRanks,m=t(426),r=t(427),s=t(428),d=t(429),C=t(438),S=t(37),A=t(46).Graph;i.exports=function(pt,gt){var at=gt&&gt.debugTiming?S.time:S.notime;at("layout",function(){var Bt=at("  buildLayoutGraph",function(){return function(Lt){var Et=new A({multigraph:!0,compound:!0}),K=ct(Lt.graph());return Et.setGraph(n.merge({},O,Z(K,f),n.pick(K,j))),n.forEach(Lt.nodes(),function(ft){var mt=ct(Lt.node(ft));Et.setNode(ft,n.defaults(Z(mt,D),V)),Et.setParent(ft,Lt.parent(ft))}),n.forEach(Lt.edges(),function(ft){var mt=ct(Lt.edge(ft));Et.setEdge(ft,n.merge({},$,Z(mt,H),n.pick(mt,dt)))}),Et}(pt)});at("  runLayout",function(){(function(Lt,Et){Et("    makeSpaceForEdgeLabels",function(){(function(K){var ft=K.graph();ft.ranksep/=2,n.forEach(K.edges(),function(mt){var yt=K.edge(mt);yt.minlen*=2,yt.labelpos.toLowerCase()!=="c"&&(ft.rankdir==="TB"||ft.rankdir==="BT"?yt.width+=yt.labeloffset:yt.height+=yt.labeloffset)})})(Lt)}),Et("    removeSelfEdges",function(){(function(K){n.forEach(K.edges(),function(ft){if(ft.v===ft.w){var mt=K.node(ft.v);mt.selfEdges||(mt.selfEdges=[]),mt.selfEdges.push({e:ft,label:K.edge(ft)}),K.removeEdge(ft)}})})(Lt)}),Et("    acyclic",function(){u.run(Lt)}),Et("    nestingGraph.run",function(){m.run(Lt)}),Et("    rank",function(){x(S.asNonCompoundGraph(Lt))}),Et("    injectEdgeLabelProxies",function(){(function(K){n.forEach(K.edges(),function(ft){var mt=K.edge(ft);if(mt.width&&mt.height){var yt=K.node(ft.v),wt={rank:(K.node(ft.w).rank-yt.rank)/2+yt.rank,e:ft};S.addDummyNode(K,"edge-proxy",wt,"_ep")}})})(Lt)}),Et("    removeEmptyRanks",function(){I(Lt)}),Et("    nestingGraph.cleanup",function(){m.cleanup(Lt)}),Et("    normalizeRanks",function(){c(Lt)}),Et("    assignRankMinMax",function(){(function(K){var ft=0;n.forEach(K.nodes(),function(mt){var yt=K.node(mt);yt.borderTop&&(yt.minRank=K.node(yt.borderTop).rank,yt.maxRank=K.node(yt.borderBottom).rank,ft=n.max(ft,yt.maxRank))}),K.graph().maxRank=ft})(Lt)}),Et("    removeEdgeLabelProxies",function(){(function(K){n.forEach(K.nodes(),function(ft){var mt=K.node(ft);mt.dummy==="edge-proxy"&&(K.edge(mt.e).labelRank=mt.rank,K.removeNode(ft))})})(Lt)}),Et("    normalize.run",function(){g.run(Lt)}),Et("    parentDummyChains",function(){w(Lt)}),Et("    addBorderSegments",function(){r(Lt)}),Et("    order",function(){d(Lt)}),Et("    insertSelfEdges",function(){(function(K){var ft=S.buildLayerMatrix(K);n.forEach(ft,function(mt){var yt=0;n.forEach(mt,function(wt,J){var lt=K.node(wt);lt.order=J+yt,n.forEach(lt.selfEdges,function(it){S.addDummyNode(K,"selfedge",{width:it.label.width,height:it.label.height,rank:lt.rank,order:J+ ++yt,e:it.e,label:it.label},"_se")}),delete lt.selfEdges})})})(Lt)}),Et("    adjustCoordinateSystem",function(){s.adjust(Lt)}),Et("    position",function(){C(Lt)}),Et("    positionSelfEdges",function(){(function(K){n.forEach(K.nodes(),function(ft){var mt=K.node(ft);if(mt.dummy==="selfedge"){var yt=K.node(mt.e.v),wt=yt.x+yt.width/2,J=yt.y,lt=mt.x-wt,it=yt.height/2;K.setEdge(mt.e,mt.label),K.removeNode(ft),mt.label.points=[{x:wt+2*lt/3,y:J-it},{x:wt+5*lt/6,y:J-it},{x:wt+lt,y:J},{x:wt+5*lt/6,y:J+it},{x:wt+2*lt/3,y:J+it}],mt.label.x=mt.x,mt.label.y=mt.y}})})(Lt)}),Et("    removeBorderNodes",function(){(function(K){n.forEach(K.nodes(),function(ft){if(K.children(ft).length){var mt=K.node(ft),yt=K.node(mt.borderTop),wt=K.node(mt.borderBottom),J=K.node(n.last(mt.borderLeft)),lt=K.node(n.last(mt.borderRight));mt.width=Math.abs(lt.x-J.x),mt.height=Math.abs(wt.y-yt.y),mt.x=J.x+mt.width/2,mt.y=yt.y+mt.height/2}}),n.forEach(K.nodes(),function(ft){K.node(ft).dummy==="border"&&K.removeNode(ft)})})(Lt)}),Et("    normalize.undo",function(){g.undo(Lt)}),Et("    fixupEdgeLabelCoords",function(){(function(K){n.forEach(K.edges(),function(ft){var mt=K.edge(ft);if(n.has(mt,"x"))switch(mt.labelpos!=="l"&&mt.labelpos!=="r"||(mt.width-=mt.labeloffset),mt.labelpos){case"l":mt.x-=mt.width/2+mt.labeloffset;break;case"r":mt.x+=mt.width/2+mt.labeloffset}})})(Lt)}),Et("    undoCoordinateSystem",function(){s.undo(Lt)}),Et("    translateGraph",function(){(function(K){var ft=Number.POSITIVE_INFINITY,mt=0,yt=Number.POSITIVE_INFINITY,wt=0,J=K.graph(),lt=J.marginx||0,it=J.marginy||0;function _(P){var Q=P.x,k=P.y,p=P.width,y=P.height;ft=Math.min(ft,Q-p/2),mt=Math.max(mt,Q+p/2),yt=Math.min(yt,k-y/2),wt=Math.max(wt,k+y/2)}n.forEach(K.nodes(),function(P){_(K.node(P))}),n.forEach(K.edges(),function(P){var Q=K.edge(P);n.has(Q,"x")&&_(Q)}),ft-=lt,yt-=it,n.forEach(K.nodes(),function(P){var Q=K.node(P);Q.x-=ft,Q.y-=yt}),n.forEach(K.edges(),function(P){var Q=K.edge(P);n.forEach(Q.points,function(k){k.x-=ft,k.y-=yt}),n.has(Q,"x")&&(Q.x-=ft),n.has(Q,"y")&&(Q.y-=yt)}),J.width=mt-ft+lt,J.height=wt-yt+it})(Lt)}),Et("    assignNodeIntersects",function(){(function(K){n.forEach(K.edges(),function(ft){var mt,yt,wt=K.edge(ft),J=K.node(ft.v),lt=K.node(ft.w);wt.points?(mt=wt.points[0],yt=wt.points[wt.points.length-1]):(wt.points=[],mt=lt,yt=J),wt.points.unshift(S.intersectRect(J,mt)),wt.points.push(S.intersectRect(lt,yt))})})(Lt)}),Et("    reversePoints",function(){(function(K){n.forEach(K.edges(),function(ft){var mt=K.edge(ft);mt.reversed&&mt.points.reverse()})})(Lt)}),Et("    acyclic.undo",function(){u.undo(Lt)})})(Bt,at)}),at("  updateInputGraph",function(){(function(Lt,Et){n.forEach(Lt.nodes(),function(K){var ft=Lt.node(K),mt=Et.node(K);ft&&(ft.x=mt.x,ft.y=mt.y,Et.children(K).length&&(ft.width=mt.width,ft.height=mt.height))}),n.forEach(Lt.edges(),function(K){var ft=Lt.edge(K),mt=Et.edge(K);ft.points=mt.points,n.has(mt,"x")&&(ft.x=mt.x,ft.y=mt.y)}),Lt.graph().width=Et.graph().width,Lt.graph().height=Et.graph().height})(pt,Bt)})})};var f=["nodesep","edgesep","ranksep","marginx","marginy"],O={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},j=["acyclicer","ranker","rankdir","align"],D=["width","height"],V={width:0,height:0},H=["minlen","weight","width","height","labeloffset"],$={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},dt=["labelpos"];function Z(pt,gt){return n.mapValues(n.pick(pt,gt),Number)}function ct(pt){var gt={};return n.forEach(pt,function(at,Bt){gt[Bt.toLowerCase()]=at}),gt}},function(i,b,t){var n=t(162);i.exports=function(u){return n(u,5)}},function(i,b,t){var n=t(110),u=t(71),g=t(111),x=t(65),c=Object.prototype,w=c.hasOwnProperty,I=n(function(m,r){m=Object(m);var s=-1,d=r.length,C=d>2?r[2]:void 0;for(C&&g(r[0],r[1],C)&&(d=1);++s<d;)for(var S=r[s],A=x(S),f=-1,O=A.length;++f<O;){var j=A[f],D=m[j];(D===void 0||u(D,c[j])&&!w.call(m,j))&&(m[j]=S[j])}return m});i.exports=I},function(i,b,t){var n=t(386)(t(387));i.exports=n},function(i,b,t){var n=t(54),u=t(53),g=t(58);i.exports=function(x){return function(c,w,I){var m=Object(c);if(!u(c)){var r=n(w,3);c=g(c),w=function(C){return r(m[C],C,m)}}var s=x(c,w,I);return s>-1?m[r?c[s]:s]:void 0}}},function(i,b,t){var n=t(203),u=t(54),g=t(388),x=Math.max;i.exports=function(c,w,I){var m=c==null?0:c.length;if(!m)return-1;var r=I==null?0:g(I);return r<0&&(r=x(m+r,0)),n(c,u(w,3),r)}},function(i,b,t){var n=t(211);i.exports=function(u){var g=n(u),x=g%1;return g==g?x?g-x:g:0}},function(i,b,t){var n=t(43),u=t(75),g=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,w=/^0o[0-7]+$/i,I=parseInt;i.exports=function(m){if(typeof m=="number")return m;if(u(m))return NaN;if(n(m)){var r=typeof m.valueOf=="function"?m.valueOf():m;m=n(r)?r+"":r}if(typeof m!="string")return m===0?m:+m;m=m.replace(g,"");var s=c.test(m);return s||w.test(m)?I(m.slice(2),s?2:8):x.test(m)?NaN:+m}},function(i,b,t){var n=t(136),u=t(183),g=t(65);i.exports=function(x,c){return x==null?x:n(x,u(c),g)}},function(i,b){i.exports=function(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}},function(i,b,t){var n=t(101),u=t(135),g=t(54);i.exports=function(x,c){var w={};return c=g(c,3),u(x,function(I,m,r){n(w,m,c(I,m,r))}),w}},function(i,b,t){var n=t(140),u=t(394),g=t(66);i.exports=function(x){return x&&x.length?n(x,g,u):void 0}},function(i,b){i.exports=function(t,n){return t>n}},function(i,b,t){var n=t(396),u=t(399)(function(g,x,c){n(g,x,c)});i.exports=u},function(i,b,t){var n=t(95),u=t(213),g=t(136),x=t(397),c=t(43),w=t(65),I=t(214);i.exports=function m(r,s,d,C,S){r!==s&&g(s,function(A,f){if(S||(S=new n),c(A))x(r,s,f,d,m,C,S);else{var O=C?C(I(r,f),A,f+"",r,s,S):void 0;O===void 0&&(O=A),u(r,f,O)}},w)}},function(i,b,t){var n=t(213),u=t(169),g=t(178),x=t(170),c=t(179),w=t(85),I=t(26),m=t(204),r=t(73),s=t(83),d=t(43),C=t(151),S=t(44),A=t(214),f=t(398);i.exports=function(O,j,D,V,H,$,dt){var Z=A(O,D),ct=A(j,D),pt=dt.get(ct);if(pt)n(O,D,pt);else{var gt=$?$(Z,ct,D+"",O,j,dt):void 0,at=gt===void 0;if(at){var Bt=I(ct),Lt=!Bt&&r(ct),Et=!Bt&&!Lt&&S(ct);gt=ct,Bt||Lt||Et?I(Z)?gt=Z:m(Z)?gt=x(Z):Lt?(at=!1,gt=u(ct,!0)):Et?(at=!1,gt=g(ct,!0)):gt=[]:C(ct)||w(ct)?(gt=Z,w(Z)?gt=f(Z):d(Z)&&!s(Z)||(gt=c(ct))):at=!1}at&&(dt.set(ct,gt),H(gt,ct,V,$,dt),dt.delete(ct)),n(O,D,gt)}}},function(i,b,t){var n=t(84),u=t(65);i.exports=function(g){return n(g,u(g))}},function(i,b,t){var n=t(110),u=t(111);i.exports=function(g){return n(function(x,c){var w=-1,I=c.length,m=I>1?c[I-1]:void 0,r=I>2?c[2]:void 0;for(m=g.length>3&&typeof m=="function"?(I--,m):void 0,r&&u(c[0],c[1],r)&&(m=I<3?void 0:m,I=1),x=Object(x);++w<I;){var s=c[w];s&&g(x,s,w,m)}return x})}},function(i,b,t){var n=t(140),u=t(215),g=t(66);i.exports=function(x){return x&&x.length?n(x,g,u):void 0}},function(i,b,t){var n=t(140),u=t(54),g=t(215);i.exports=function(x,c){return x&&x.length?n(x,u(c,2),g):void 0}},function(i,b,t){var n=t(47);i.exports=function(){return n.Date.now()}},function(i,b,t){var n=t(404),u=t(407)(function(g,x){return g==null?{}:n(g,x)});i.exports=u},function(i,b,t){var n=t(405),u=t(192);i.exports=function(g,x){return n(g,x,function(c,w){return u(g,w)})}},function(i,b,t){var n=t(107),u=t(406),g=t(108);i.exports=function(x,c,w){for(var I=-1,m=c.length,r={};++I<m;){var s=c[I],d=n(x,s);w(d,s)&&u(r,g(s,x),d)}return r}},function(i,b,t){var n=t(100),u=t(108),g=t(102),x=t(43),c=t(87);i.exports=function(w,I,m,r){if(!x(w))return w;for(var s=-1,d=(I=u(I,w)).length,C=d-1,S=w;S!=null&&++s<d;){var A=c(I[s]),f=m;if(A==="__proto__"||A==="constructor"||A==="prototype")return w;if(s!=C){var O=S[A];(f=r?r(O,A,S):void 0)===void 0&&(f=x(O)?O:g(I[s+1])?[]:{})}n(S,A,f),S=S[A]}return w}},function(i,b,t){var n=t(212),u=t(200),g=t(201);i.exports=function(x){return g(u(x,void 0,n),x+"")}},function(i,b,t){var n=t(409)();i.exports=n},function(i,b,t){var n=t(410),u=t(111),g=t(211);i.exports=function(x){return function(c,w,I){return I&&typeof I!="number"&&u(c,w,I)&&(w=I=void 0),c=g(c),w===void 0?(w=c,c=0):w=g(w),I=I===void 0?c<w?1:-1:g(I),n(c,w,I,x)}}},function(i,b){var t=Math.ceil,n=Math.max;i.exports=function(u,g,x,c){for(var w=-1,I=n(t((g-u)/(x||1)),0),m=Array(I);I--;)m[c?I:++w]=u,u+=x;return m}},function(i,b,t){var n=t(139),u=t(412),g=t(110),x=t(111),c=g(function(w,I){if(w==null)return[];var m=I.length;return m>1&&x(w,I[0],I[1])?I=[]:m>2&&x(I[0],I[1],I[2])&&(I=[I[0]]),u(w,n(I,1),[])});i.exports=c},function(i,b,t){var n=t(109),u=t(107),g=t(54),x=t(198),c=t(413),w=t(103),I=t(414),m=t(66),r=t(26);i.exports=function(s,d,C){d=d.length?n(d,function(f){return r(f)?function(O){return u(O,f.length===1?f[0]:f)}:f}):[m];var S=-1;d=n(d,w(g));var A=x(s,function(f,O,j){return{criteria:n(d,function(D){return D(f)}),index:++S,value:f}});return c(A,function(f,O){return I(f,O,C)})}},function(i,b){i.exports=function(t,n){var u=t.length;for(t.sort(n);u--;)t[u]=t[u].value;return t}},function(i,b,t){var n=t(415);i.exports=function(u,g,x){for(var c=-1,w=u.criteria,I=g.criteria,m=w.length,r=x.length;++c<m;){var s=n(w[c],I[c]);if(s)return c>=r?s:s*(x[c]=="desc"?-1:1)}return u.index-g.index}},function(i,b,t){var n=t(75);i.exports=function(u,g){if(u!==g){var x=u!==void 0,c=u===null,w=u==u,I=n(u),m=g!==void 0,r=g===null,s=g==g,d=n(g);if(!r&&!d&&!I&&u>g||I&&m&&s&&!r&&!d||c&&m&&s||!x&&s||!w)return 1;if(!c&&!I&&!d&&u<g||d&&x&&w&&!c&&!I||r&&x&&w||!m&&w||!s)return-1}return 0}},function(i,b,t){var n=t(191),u=0;i.exports=function(g){var x=++u;return n(g)+x}},function(i,b,t){var n=t(100),u=t(418);i.exports=function(g,x){return u(g||[],x||[],n)}},function(i,b){i.exports=function(t,n,u){for(var g=-1,x=t.length,c=n.length,w={};++g<x;){var I=g<c?n[g]:void 0;u(w,t[g],I)}return w}},function(i,b,t){"use strict";var n=t(24),u=t(420);i.exports={run:function(x){var c=x.graph().acyclicer==="greedy"?u(x,function(w){return function(I){return w.edge(I).weight}}(x)):function(w){var I=[],m={},r={};function s(d){n.has(r,d)||(r[d]=!0,m[d]=!0,n.forEach(w.outEdges(d),function(C){n.has(m,C.w)?I.push(C):s(C.w)}),delete m[d])}return n.forEach(w.nodes(),s),I}(x);n.forEach(c,function(w){var I=x.edge(w);x.removeEdge(w),I.forwardName=w.name,I.reversed=!0,x.setEdge(w.w,w.v,I,n.uniqueId("rev"))})},undo:function(x){n.forEach(x.edges(),function(c){var w=x.edge(c);if(w.reversed){x.removeEdge(c);var I=w.forwardName;delete w.reversed,delete w.forwardName,x.setEdge(c.w,c.v,w,I)}})}}},function(i,b,t){var n=t(24),u=t(46).Graph,g=t(421);i.exports=function(I,m){if(I.nodeCount()<=1)return[];var r=function(d,C){var S=new u,A=0,f=0;n.forEach(d.nodes(),function(D){S.setNode(D,{v:D,in:0,out:0})}),n.forEach(d.edges(),function(D){var V=S.edge(D.v,D.w)||0,H=C(D),$=V+H;S.setEdge(D.v,D.w,$),f=Math.max(f,S.node(D.v).out+=H),A=Math.max(A,S.node(D.w).in+=H)});var O=n.range(f+A+3).map(function(){return new g}),j=A+1;return n.forEach(S.nodes(),function(D){w(O,j,S.node(D))}),{graph:S,buckets:O,zeroIdx:j}}(I,m||x),s=function(d,C,S){for(var A,f=[],O=C[C.length-1],j=C[0];d.nodeCount();){for(;A=j.dequeue();)c(d,C,S,A);for(;A=O.dequeue();)c(d,C,S,A);if(d.nodeCount()){for(var D=C.length-2;D>0;--D)if(A=C[D].dequeue()){f=f.concat(c(d,C,S,A,!0));break}}}return f}(r.graph,r.buckets,r.zeroIdx);return n.flatten(n.map(s,function(d){return I.outEdges(d.v,d.w)}),!0)};var x=n.constant(1);function c(I,m,r,s,d){var C=d?[]:void 0;return n.forEach(I.inEdges(s.v),function(S){var A=I.edge(S),f=I.node(S.v);d&&C.push({v:S.v,w:S.w}),f.out-=A,w(m,r,f)}),n.forEach(I.outEdges(s.v),function(S){var A=I.edge(S),f=S.w,O=I.node(f);O.in-=A,w(m,r,O)}),I.removeNode(s.v),C}function w(I,m,r){r.out?r.in?I[r.out-r.in+m].enqueue(r):I[I.length-1].enqueue(r):I[0].enqueue(r)}},function(i,b){function t(){var g={};g._next=g._prev=g,this._sentinel=g}function n(g){g._prev._next=g._next,g._next._prev=g._prev,delete g._next,delete g._prev}function u(g,x){if(g!=="_next"&&g!=="_prev")return x}i.exports=t,t.prototype.dequeue=function(){var g=this._sentinel,x=g._prev;if(x!==g)return n(x),x},t.prototype.enqueue=function(g){var x=this._sentinel;g._prev&&g._next&&n(g),g._next=x._next,x._next._prev=g,x._next=g,g._prev=x},t.prototype.toString=function(){for(var g=[],x=this._sentinel,c=x._prev;c!==x;)g.push(JSON.stringify(c,u)),c=c._prev;return"["+g.join(", ")+"]"}},function(i,b,t){"use strict";var n=t(24),u=t(37);i.exports={run:function(x){x.graph().dummyChains=[],n.forEach(x.edges(),function(c){(function(w,I){var m,r,s,d=I.v,C=w.node(d).rank,S=I.w,A=w.node(S).rank,f=I.name,O=w.edge(I),j=O.labelRank;if(A!==C+1){for(w.removeEdge(I),s=0,++C;C<A;++s,++C)O.points=[],r={width:0,height:0,edgeLabel:O,edgeObj:I,rank:C},m=u.addDummyNode(w,"edge",r,"_d"),C===j&&(r.width=O.width,r.height=O.height,r.dummy="edge-label",r.labelpos=O.labelpos),w.setEdge(d,m,{weight:O.weight},f),s===0&&w.graph().dummyChains.push(m),d=m;w.setEdge(d,S,{weight:O.weight},f)}})(x,c)})},undo:function(x){n.forEach(x.graph().dummyChains,function(c){var w,I=x.node(c),m=I.edgeLabel;for(x.setEdge(I.edgeObj,m);I.dummy;)w=x.successors(c)[0],x.removeNode(c),m.points.push({x:I.x,y:I.y}),I.dummy==="edge-label"&&(m.x=I.x,m.y=I.y,m.width=I.width,m.height=I.height),c=w,I=x.node(c)})}}},function(i,b,t){"use strict";var n=t(112).longestPath,u=t(216),g=t(424);i.exports=function(w){switch(w.graph().ranker){case"network-simplex":c(w);break;case"tight-tree":(function(I){n(I),u(I)})(w);break;case"longest-path":x(w);break;default:c(w)}};var x=n;function c(w){g(w)}},function(i,b,t){"use strict";var n=t(24),u=t(216),g=t(112).slack,x=t(112).longestPath,c=t(46).alg.preorder,w=t(46).alg.postorder,I=t(37).simplify;function m(j){j=I(j),x(j);var D,V=u(j);for(d(V),r(V,j);D=S(V);)f(V,j,D,A(V,j,D))}function r(j,D){var V=w(j,j.nodes());V=V.slice(0,V.length-1),n.forEach(V,function(H){(function($,dt,Z){var ct=$.node(Z).parent;$.edge(Z,ct).cutvalue=s($,dt,Z)})(j,D,H)})}function s(j,D,V){var H=j.node(V).parent,$=!0,dt=D.edge(V,H),Z=0;return dt||($=!1,dt=D.edge(H,V)),Z=dt.weight,n.forEach(D.nodeEdges(V),function(ct){var pt,gt,at=ct.v===V,Bt=at?ct.w:ct.v;if(Bt!==H){var Lt=at===$,Et=D.edge(ct).weight;if(Z+=Lt?Et:-Et,pt=V,gt=Bt,j.hasEdge(pt,gt)){var K=j.edge(V,Bt).cutvalue;Z+=Lt?-K:K}}}),Z}function d(j,D){arguments.length<2&&(D=j.nodes()[0]),C(j,{},1,D)}function C(j,D,V,H,$){var dt=V,Z=j.node(H);return D[H]=!0,n.forEach(j.neighbors(H),function(ct){n.has(D,ct)||(V=C(j,D,V,ct,H))}),Z.low=dt,Z.lim=V++,$?Z.parent=$:delete Z.parent,V}function S(j){return n.find(j.edges(),function(D){return j.edge(D).cutvalue<0})}function A(j,D,V){var H=V.v,$=V.w;D.hasEdge(H,$)||(H=V.w,$=V.v);var dt=j.node(H),Z=j.node($),ct=dt,pt=!1;dt.lim>Z.lim&&(ct=Z,pt=!0);var gt=n.filter(D.edges(),function(at){return pt===O(j,j.node(at.v),ct)&&pt!==O(j,j.node(at.w),ct)});return n.minBy(gt,function(at){return g(D,at)})}function f(j,D,V,H){var $=V.v,dt=V.w;j.removeEdge($,dt),j.setEdge(H.v,H.w,{}),d(j),r(j,D),function(Z,ct){var pt=n.find(Z.nodes(),function(at){return!ct.node(at).parent}),gt=c(Z,pt);gt=gt.slice(1),n.forEach(gt,function(at){var Bt=Z.node(at).parent,Lt=ct.edge(at,Bt),Et=!1;Lt||(Lt=ct.edge(Bt,at),Et=!0),ct.node(at).rank=ct.node(Bt).rank+(Et?Lt.minlen:-Lt.minlen)})}(j,D)}function O(j,D,V){return V.low<=D.lim&&D.lim<=V.lim}i.exports=m,m.initLowLimValues=d,m.initCutValues=r,m.calcCutValue=s,m.leaveEdge=S,m.enterEdge=A,m.exchangeEdges=f},function(i,b,t){var n=t(24);i.exports=function(u){var g=function(x){var c={},w=0;function I(m){var r=w;n.forEach(x.children(m),I),c[m]={low:r,lim:w++}}return n.forEach(x.children(),I),c}(u);n.forEach(u.graph().dummyChains,function(x){for(var c=u.node(x),w=c.edgeObj,I=function(S,A,f,O){var j,D,V=[],H=[],$=Math.min(A[f].low,A[O].low),dt=Math.max(A[f].lim,A[O].lim);j=f;do j=S.parent(j),V.push(j);while(j&&(A[j].low>$||dt>A[j].lim));for(D=j,j=O;(j=S.parent(j))!==D;)H.push(j);return{path:V.concat(H.reverse()),lca:D}}(u,g,w.v,w.w),m=I.path,r=I.lca,s=0,d=m[s],C=!0;x!==w.w;){if(c=u.node(x),C){for(;(d=m[s])!==r&&u.node(d).maxRank<c.rank;)s++;d===r&&(C=!1)}if(!C){for(;s<m.length-1&&u.node(d=m[s+1]).minRank<=c.rank;)s++;d=m[s]}u.setParent(x,d),x=u.successors(x)[0]}})}},function(i,b,t){var n=t(24),u=t(37);i.exports={run:function(x){var c=u.addDummyNode(x,"root",{},"_root"),w=function(s){var d={};return n.forEach(s.children(),function(C){(function S(A,f){var O=s.children(A);O&&O.length&&n.forEach(O,function(j){S(j,f+1)}),d[A]=f})(C,1)}),d}(x),I=n.max(n.values(w))-1,m=2*I+1;x.graph().nestingRoot=c,n.forEach(x.edges(),function(s){x.edge(s).minlen*=m});var r=function(s){return n.reduce(s.edges(),function(d,C){return d+s.edge(C).weight},0)}(x)+1;n.forEach(x.children(),function(s){(function d(C,S,A,f,O,j,D){var V=C.children(D);if(!V.length)return void(D!==S&&C.setEdge(S,D,{weight:0,minlen:A}));var H=u.addBorderNode(C,"_bt"),$=u.addBorderNode(C,"_bb"),dt=C.node(D);C.setParent(H,D),dt.borderTop=H,C.setParent($,D),dt.borderBottom=$,n.forEach(V,function(Z){d(C,S,A,f,O,j,Z);var ct=C.node(Z),pt=ct.borderTop?ct.borderTop:Z,gt=ct.borderBottom?ct.borderBottom:Z,at=ct.borderTop?f:2*f,Bt=pt!==gt?1:O-j[D]+1;C.setEdge(H,pt,{weight:at,minlen:Bt,nestingEdge:!0}),C.setEdge(gt,$,{weight:at,minlen:Bt,nestingEdge:!0})}),C.parent(D)||C.setEdge(S,H,{weight:0,minlen:O+j[D]})})(x,c,m,r,I,w,s)}),x.graph().nodeRankFactor=m},cleanup:function(x){var c=x.graph();x.removeNode(c.nestingRoot),delete c.nestingRoot,n.forEach(x.edges(),function(w){x.edge(w).nestingEdge&&x.removeEdge(w)})}}},function(i,b,t){var n=t(24),u=t(37);function g(x,c,w,I,m,r){var s={width:0,height:0,rank:r,borderType:c},d=m[c][r-1],C=u.addDummyNode(x,"border",s,w);m[c][r]=C,x.setParent(C,I),d&&x.setEdge(d,C,{weight:1})}i.exports=function(x){n.forEach(x.children(),function c(w){var I=x.children(w),m=x.node(w);if(I.length&&n.forEach(I,c),n.has(m,"minRank")){m.borderLeft=[],m.borderRight=[];for(var r=m.minRank,s=m.maxRank+1;r<s;++r)g(x,"borderLeft","_bl",w,m,r),g(x,"borderRight","_br",w,m,r)}})}},function(i,b,t){"use strict";var n=t(24);function u(w){n.forEach(w.nodes(),function(I){g(w.node(I))}),n.forEach(w.edges(),function(I){g(w.edge(I))})}function g(w){var I=w.width;w.width=w.height,w.height=I}function x(w){w.y=-w.y}function c(w){var I=w.x;w.x=w.y,w.y=I}i.exports={adjust:function(I){var m=I.graph().rankdir.toLowerCase();m!=="lr"&&m!=="rl"||u(I)},undo:function(I){var m=I.graph().rankdir.toLowerCase();m!=="bt"&&m!=="rl"||function(r){n.forEach(r.nodes(),function(s){x(r.node(s))}),n.forEach(r.edges(),function(s){var d=r.edge(s);n.forEach(d.points,x),n.has(d,"y")&&x(d)})}(I),m!=="lr"&&m!=="rl"||(function(r){n.forEach(r.nodes(),function(s){c(r.node(s))}),n.forEach(r.edges(),function(s){var d=r.edge(s);n.forEach(d.points,c),n.has(d,"x")&&c(d)})}(I),u(I))}}},function(i,b,t){"use strict";var n=t(24),u=t(430),g=t(431),x=t(432),c=t(436),w=t(437),I=t(46).Graph,m=t(37);function r(C,S,A){return n.map(S,function(f){return c(C,f,A)})}function s(C,S){var A=new I;n.forEach(C,function(f){var O=f.graph().root,j=x(f,O,A,S);n.forEach(j.vs,function(D,V){f.node(D).order=V}),w(f,A,j.vs)})}function d(C,S){n.forEach(S,function(A){n.forEach(A,function(f,O){C.node(f).order=O})})}i.exports=function(C){var S=m.maxRank(C),A=r(C,n.range(1,S+1),"inEdges"),f=r(C,n.range(S-1,-1,-1),"outEdges"),O=u(C);d(C,O);for(var j,D=Number.POSITIVE_INFINITY,V=0,H=0;H<4;++V,++H){s(V%2?A:f,V%4>=2),O=m.buildLayerMatrix(C);var $=g(C,O);$<D&&(H=0,j=n.cloneDeep(O),D=$)}d(C,j)}},function(i,b,t){"use strict";var n=t(24);i.exports=function(u){var g={},x=n.filter(u.nodes(),function(m){return!u.children(m).length}),c=n.max(n.map(x,function(m){return u.node(m).rank})),w=n.map(n.range(c+1),function(){return[]}),I=n.sortBy(x,function(m){return u.node(m).rank});return n.forEach(I,function m(r){if(!n.has(g,r)){g[r]=!0;var s=u.node(r);w[s.rank].push(r),n.forEach(u.successors(r),m)}}),w}},function(i,b,t){"use strict";var n=t(24);function u(g,x,c){for(var w=n.zipObject(c,n.map(c,function(C,S){return S})),I=n.flatten(n.map(x,function(C){return n.sortBy(n.map(g.outEdges(C),function(S){return{pos:w[S.w],weight:g.edge(S).weight}}),"pos")}),!0),m=1;m<c.length;)m<<=1;var r=2*m-1;m-=1;var s=n.map(new Array(r),function(){return 0}),d=0;return n.forEach(I.forEach(function(C){var S=C.pos+m;s[S]+=C.weight;for(var A=0;S>0;)S%2&&(A+=s[S+1]),s[S=S-1>>1]+=C.weight;d+=C.weight*A})),d}i.exports=function(g,x){for(var c=0,w=1;w<x.length;++w)c+=u(g,x[w-1],x[w]);return c}},function(i,b,t){var n=t(24),u=t(433),g=t(434),x=t(435);i.exports=function c(w,I,m,r){var s=w.children(I),d=w.node(I),C=d?d.borderLeft:void 0,S=d?d.borderRight:void 0,A={};C&&(s=n.filter(s,function(H){return H!==C&&H!==S}));var f=u(w,s);n.forEach(f,function(H){if(w.children(H.v).length){var $=c(w,H.v,m,r);A[H.v]=$,n.has($,"barycenter")&&(dt=H,Z=$,n.isUndefined(dt.barycenter)?(dt.barycenter=Z.barycenter,dt.weight=Z.weight):(dt.barycenter=(dt.barycenter*dt.weight+Z.barycenter*Z.weight)/(dt.weight+Z.weight),dt.weight+=Z.weight))}var dt,Z});var O=g(f,m);(function(H,$){n.forEach(H,function(dt){dt.vs=n.flatten(dt.vs.map(function(Z){return $[Z]?$[Z].vs:Z}),!0)})})(O,A);var j=x(O,r);if(C&&(j.vs=n.flatten([C,j.vs,S],!0),w.predecessors(C).length)){var D=w.node(w.predecessors(C)[0]),V=w.node(w.predecessors(S)[0]);n.has(j,"barycenter")||(j.barycenter=0,j.weight=0),j.barycenter=(j.barycenter*j.weight+D.order+V.order)/(j.weight+2),j.weight+=2}return j}},function(i,b,t){var n=t(24);i.exports=function(u,g){return n.map(g,function(x){var c=u.inEdges(x);if(c.length){var w=n.reduce(c,function(I,m){var r=u.edge(m),s=u.node(m.v);return{sum:I.sum+r.weight*s.order,weight:I.weight+r.weight}},{sum:0,weight:0});return{v:x,barycenter:w.sum/w.weight,weight:w.weight}}return{v:x}})}},function(i,b,t){"use strict";var n=t(24);i.exports=function(u,g){var x={};return n.forEach(u,function(c,w){var I=x[c.v]={indegree:0,in:[],out:[],vs:[c.v],i:w};n.isUndefined(c.barycenter)||(I.barycenter=c.barycenter,I.weight=c.weight)}),n.forEach(g.edges(),function(c){var w=x[c.v],I=x[c.w];n.isUndefined(w)||n.isUndefined(I)||(I.indegree++,w.out.push(x[c.w]))}),function(c){var w=[];function I(s){return function(d){d.merged||(n.isUndefined(d.barycenter)||n.isUndefined(s.barycenter)||d.barycenter>=s.barycenter)&&function(C,S){var A=0,f=0;C.weight&&(A+=C.barycenter*C.weight,f+=C.weight),S.weight&&(A+=S.barycenter*S.weight,f+=S.weight),C.vs=S.vs.concat(C.vs),C.barycenter=A/f,C.weight=f,C.i=Math.min(S.i,C.i),S.merged=!0}(s,d)}}function m(s){return function(d){d.in.push(s),--d.indegree==0&&c.push(d)}}for(;c.length;){var r=c.pop();w.push(r),n.forEach(r.in.reverse(),I(r)),n.forEach(r.out,m(r))}return n.map(n.filter(w,function(s){return!s.merged}),function(s){return n.pick(s,["vs","i","barycenter","weight"])})}(n.filter(x,function(c){return!c.indegree}))}},function(i,b,t){var n=t(24),u=t(37);function g(x,c,w){for(var I;c.length&&(I=n.last(c)).i<=w;)c.pop(),x.push(I.vs),w++;return w}i.exports=function(x,c){var w=u.partition(x,function(f){return n.has(f,"barycenter")}),I=w.lhs,m=n.sortBy(w.rhs,function(f){return-f.i}),r=[],s=0,d=0,C=0;I.sort((S=!!c,function(f,O){return f.barycenter<O.barycenter?-1:f.barycenter>O.barycenter?1:S?O.i-f.i:f.i-O.i})),C=g(r,m,C),n.forEach(I,function(f){C+=f.vs.length,r.push(f.vs),s+=f.barycenter*f.weight,d+=f.weight,C=g(r,m,C)});var S,A={vs:n.flatten(r,!0)};return d&&(A.barycenter=s/d,A.weight=d),A}},function(i,b,t){var n=t(24),u=t(46).Graph;i.exports=function(g,x,c){var w=function(m){for(var r;m.hasNode(r=n.uniqueId("_root")););return r}(g),I=new u({compound:!0}).setGraph({root:w}).setDefaultNodeLabel(function(m){return g.node(m)});return n.forEach(g.nodes(),function(m){var r=g.node(m),s=g.parent(m);(r.rank===x||r.minRank<=x&&x<=r.maxRank)&&(I.setNode(m),I.setParent(m,s||w),n.forEach(g[c](m),function(d){var C=d.v===m?d.w:d.v,S=I.edge(C,m),A=n.isUndefined(S)?0:S.weight;I.setEdge(C,m,{weight:g.edge(d).weight+A})}),n.has(r,"minRank")&&I.setNode(m,{borderLeft:r.borderLeft[x],borderRight:r.borderRight[x]}))}),I}},function(i,b,t){var n=t(24);i.exports=function(u,g,x){var c,w={};n.forEach(x,function(I){for(var m,r,s=u.parent(I);s;){if((m=u.parent(s))?(r=w[m],w[m]=s):(r=c,c=s),r&&r!==s)return void g.setEdge(r,s);s=m}})}},function(i,b,t){"use strict";var n=t(24),u=t(37),g=t(439).positionX;i.exports=function(x){(function(c){var w=u.buildLayerMatrix(c),I=c.graph().ranksep,m=0;n.forEach(w,function(r){var s=n.max(n.map(r,function(d){return c.node(d).height}));n.forEach(r,function(d){c.node(d).y=m+s/2}),m+=s+I})})(x=u.asNonCompoundGraph(x)),n.forEach(g(x),function(c,w){x.node(w).x=c})}},function(i,b,t){"use strict";var n=t(24),u=t(46).Graph,g=t(37);function x(S,A){var f={};return n.reduce(A,function(O,j){var D=0,V=0,H=O.length,$=n.last(j);return n.forEach(j,function(dt,Z){var ct=function(gt,at){if(gt.node(at).dummy)return n.find(gt.predecessors(at),function(Bt){return gt.node(Bt).dummy})}(S,dt),pt=ct?S.node(ct).order:H;(ct||dt===$)&&(n.forEach(j.slice(V,Z+1),function(gt){n.forEach(S.predecessors(gt),function(at){var Bt=S.node(at),Lt=Bt.order;!(Lt<D||pt<Lt)||Bt.dummy&&S.node(gt).dummy||w(f,at,gt)})}),V=Z+1,D=pt)}),j}),f}function c(S,A){var f={};function O(j,D,V,H,$){var dt;n.forEach(n.range(D,V),function(Z){dt=j[Z],S.node(dt).dummy&&n.forEach(S.predecessors(dt),function(ct){var pt=S.node(ct);pt.dummy&&(pt.order<H||pt.order>$)&&w(f,ct,dt)})})}return n.reduce(A,function(j,D){var V,H=-1,$=0;return n.forEach(D,function(dt,Z){if(S.node(dt).dummy==="border"){var ct=S.predecessors(dt);ct.length&&(V=S.node(ct[0]).order,O(D,$,Z,H,V),$=Z,H=V)}O(D,$,D.length,V,j.length)}),D}),f}function w(S,A,f){if(A>f){var O=A;A=f,f=O}var j=S[A];j||(S[A]=j={}),j[f]=!0}function I(S,A,f){if(A>f){var O=A;A=f,f=O}return n.has(S[A],f)}function m(S,A,f,O){var j={},D={},V={};return n.forEach(A,function(H){n.forEach(H,function($,dt){j[$]=$,D[$]=$,V[$]=dt})}),n.forEach(A,function(H){var $=-1;n.forEach(H,function(dt){var Z=O(dt);if(Z.length)for(var ct=((Z=n.sortBy(Z,function(Bt){return V[Bt]})).length-1)/2,pt=Math.floor(ct),gt=Math.ceil(ct);pt<=gt;++pt){var at=Z[pt];D[dt]===dt&&$<V[at]&&!I(f,dt,at)&&(D[at]=dt,D[dt]=j[dt]=j[at],$=V[at])}})}),{root:j,align:D}}function r(S,A,f,O,j){var D={},V=function(dt,Z,ct,pt){var gt=new u,at=dt.graph(),Bt=function(Lt,Et,K){return function(ft,mt,yt){var wt,J=ft.node(mt),lt=ft.node(yt),it=0;if(it+=J.width/2,n.has(J,"labelpos"))switch(J.labelpos.toLowerCase()){case"l":wt=-J.width/2;break;case"r":wt=J.width/2}if(wt&&(it+=K?wt:-wt),wt=0,it+=(J.dummy?Et:Lt)/2,it+=(lt.dummy?Et:Lt)/2,it+=lt.width/2,n.has(lt,"labelpos"))switch(lt.labelpos.toLowerCase()){case"l":wt=lt.width/2;break;case"r":wt=-lt.width/2}return wt&&(it+=K?wt:-wt),wt=0,it}}(at.nodesep,at.edgesep,pt);return n.forEach(Z,function(Lt){var Et;n.forEach(Lt,function(K){var ft=ct[K];if(gt.setNode(ft),Et){var mt=ct[Et],yt=gt.edge(mt,ft);gt.setEdge(mt,ft,Math.max(Bt(dt,K,Et),yt||0))}Et=K})}),gt}(S,A,f,j),H=j?"borderLeft":"borderRight";function $(dt,Z){for(var ct=V.nodes(),pt=ct.pop(),gt={};pt;)gt[pt]?dt(pt):(gt[pt]=!0,ct.push(pt),ct=ct.concat(Z(pt))),pt=ct.pop()}return $(function(dt){D[dt]=V.inEdges(dt).reduce(function(Z,ct){return Math.max(Z,D[ct.v]+V.edge(ct))},0)},V.predecessors.bind(V)),$(function(dt){var Z=V.outEdges(dt).reduce(function(pt,gt){return Math.min(pt,D[gt.w]-V.edge(gt))},Number.POSITIVE_INFINITY),ct=S.node(dt);Z!==Number.POSITIVE_INFINITY&&ct.borderType!==H&&(D[dt]=Math.max(D[dt],Z))},V.successors.bind(V)),n.forEach(O,function(dt){D[dt]=D[f[dt]]}),D}function s(S,A){return n.minBy(n.values(A),function(f){var O=Number.NEGATIVE_INFINITY,j=Number.POSITIVE_INFINITY;return n.forIn(f,function(D,V){var H=function($,dt){return $.node(dt).width}(S,V)/2;O=Math.max(D+H,O),j=Math.min(D-H,j)}),O-j})}function d(S,A){var f=n.values(A),O=n.min(f),j=n.max(f);n.forEach(["u","d"],function(D){n.forEach(["l","r"],function(V){var H,$=D+V,dt=S[$];if(dt!==A){var Z=n.values(dt);(H=V==="l"?O-n.min(Z):j-n.max(Z))&&(S[$]=n.mapValues(dt,function(ct){return ct+H}))}})})}function C(S,A){return n.mapValues(S.ul,function(f,O){if(A)return S[A.toLowerCase()][O];var j=n.sortBy(n.map(S,O));return(j[1]+j[2])/2})}i.exports={positionX:function(A){var f,O=g.buildLayerMatrix(A),j=n.merge(x(A,O),c(A,O)),D={};n.forEach(["u","d"],function(H){f=H==="u"?O:n.values(O).reverse(),n.forEach(["l","r"],function($){$==="r"&&(f=n.map(f,function(pt){return n.values(pt).reverse()}));var dt=(H==="u"?A.predecessors:A.successors).bind(A),Z=m(A,f,j,dt),ct=r(A,f,Z.root,Z.align,$==="r");$==="r"&&(ct=n.mapValues(ct,function(pt){return-pt})),D[H+$]=ct})});var V=s(A,D);return d(D,V),C(D,A.graph().align)},findType1Conflicts:x,findType2Conflicts:c,addConflict:w,hasConflict:I,verticalAlignment:m,horizontalCompaction:r,alignCoordinates:d,findSmallestWidthAlignment:s,balance:C}},function(i,b,t){var n=t(24),u=t(37),g=t(46).Graph;i.exports={debugOrdering:function(c){var w=u.buildLayerMatrix(c),I=new g({compound:!0,multigraph:!0}).setGraph({});return n.forEach(c.nodes(),function(m){I.setNode(m,{label:m}),I.setParent(m,"layer"+c.node(m).rank)}),n.forEach(c.edges(),function(m){I.setEdge(m.v,m.w,{},m.name)}),n.forEach(w,function(m,r){var s="layer"+r;I.setNode(s,{rank:"same"}),n.reduce(m,function(d,C){return I.setEdge(d,C,{style:"invis"}),C})}),I}}},function(i,b){i.exports="0.8.5"},function(i,b,t){(function(n){function u(x){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(x)}var g=function(x){"use strict";var c=Object.prototype,w=c.hasOwnProperty,I=typeof Symbol=="function"?Symbol:{},m=I.iterator||"@@iterator",r=I.asyncIterator||"@@asyncIterator",s=I.toStringTag||"@@toStringTag";function d(Et,K,ft){return Object.defineProperty(Et,K,{value:ft,enumerable:!0,configurable:!0,writable:!0}),Et[K]}try{d({},"")}catch(Et){d=function(ft,mt,yt){return ft[mt]=yt}}function C(Et,K,ft,mt){var yt=K&&K.prototype instanceof f?K:f,wt=Object.create(yt.prototype),J=new at(mt||[]);return wt._invoke=function(lt,it,_){var P="suspendedStart";return function(Q,k){if(P==="executing")throw new Error("Generator is already running");if(P==="completed"){if(Q==="throw")throw k;return Lt()}for(_.method=Q,_.arg=k;;){var p=_.delegate;if(p){var y=ct(p,_);if(y){if(y===A)continue;return y}}if(_.method==="next")_.sent=_._sent=_.arg;else if(_.method==="throw"){if(P==="suspendedStart")throw P="completed",_.arg;_.dispatchException(_.arg)}else _.method==="return"&&_.abrupt("return",_.arg);P="executing";var B=S(lt,it,_);if(B.type==="normal"){if(P=_.done?"completed":"suspendedYield",B.arg===A)continue;return{value:B.arg,done:_.done}}B.type==="throw"&&(P="completed",_.method="throw",_.arg=B.arg)}}}(Et,ft,J),wt}function S(Et,K,ft){try{return{type:"normal",arg:Et.call(K,ft)}}catch(mt){return{type:"throw",arg:mt}}}x.wrap=C;var A={};function f(){}function O(){}function j(){}var D={};D[m]=function(){return this};var V=Object.getPrototypeOf,H=V&&V(V(Bt([])));H&&H!==c&&w.call(H,m)&&(D=H);var $=j.prototype=f.prototype=Object.create(D);function dt(Et){["next","throw","return"].forEach(function(K){d(Et,K,function(ft){return this._invoke(K,ft)})})}function Z(Et,K){var ft;this._invoke=function(mt,yt){function wt(){return new K(function(J,lt){(function it(_,P,Q,k){var p=S(Et[_],Et,P);if(p.type!=="throw"){var y=p.arg,B=y.value;return B&&u(B)==="object"&&w.call(B,"__await")?K.resolve(B.__await).then(function(W){it("next",W,Q,k)},function(W){it("throw",W,Q,k)}):K.resolve(B).then(function(W){y.value=W,Q(y)},function(W){return it("throw",W,Q,k)})}k(p.arg)})(mt,yt,J,lt)})}return ft=ft?ft.then(wt,wt):wt()}}function ct(Et,K){var ft=Et.iterator[K.method];if(ft===void 0){if(K.delegate=null,K.method==="throw"){if(Et.iterator.return&&(K.method="return",K.arg=void 0,ct(Et,K),K.method==="throw"))return A;K.method="throw",K.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var mt=S(ft,Et.iterator,K.arg);if(mt.type==="throw")return K.method="throw",K.arg=mt.arg,K.delegate=null,A;var yt=mt.arg;return yt?yt.done?(K[Et.resultName]=yt.value,K.next=Et.nextLoc,K.method!=="return"&&(K.method="next",K.arg=void 0),K.delegate=null,A):yt:(K.method="throw",K.arg=new TypeError("iterator result is not an object"),K.delegate=null,A)}function pt(Et){var K={tryLoc:Et[0]};1 in Et&&(K.catchLoc=Et[1]),2 in Et&&(K.finallyLoc=Et[2],K.afterLoc=Et[3]),this.tryEntries.push(K)}function gt(Et){var K=Et.completion||{};K.type="normal",delete K.arg,Et.completion=K}function at(Et){this.tryEntries=[{tryLoc:"root"}],Et.forEach(pt,this),this.reset(!0)}function Bt(Et){if(Et){var K=Et[m];if(K)return K.call(Et);if(typeof Et.next=="function")return Et;if(!isNaN(Et.length)){var ft=-1,mt=function yt(){for(;++ft<Et.length;)if(w.call(Et,ft))return yt.value=Et[ft],yt.done=!1,yt;return yt.value=void 0,yt.done=!0,yt};return mt.next=mt}}return{next:Lt}}function Lt(){return{value:void 0,done:!0}}return O.prototype=$.constructor=j,j.constructor=O,O.displayName=d(j,s,"GeneratorFunction"),x.isGeneratorFunction=function(Et){var K=typeof Et=="function"&&Et.constructor;return!!K&&(K===O||(K.displayName||K.name)==="GeneratorFunction")},x.mark=function(Et){return Object.setPrototypeOf?Object.setPrototypeOf(Et,j):(Et.__proto__=j,d(Et,s,"GeneratorFunction")),Et.prototype=Object.create($),Et},x.awrap=function(Et){return{__await:Et}},dt(Z.prototype),Z.prototype[r]=function(){return this},x.AsyncIterator=Z,x.async=function(Et,K,ft,mt,yt){yt===void 0&&(yt=Promise);var wt=new Z(C(Et,K,ft,mt),yt);return x.isGeneratorFunction(K)?wt:wt.next().then(function(J){return J.done?J.value:wt.next()})},dt($),d($,s,"Generator"),$[m]=function(){return this},$.toString=function(){return"[object Generator]"},x.keys=function(Et){var K=[];for(var ft in Et)K.push(ft);return K.reverse(),function mt(){for(;K.length;){var yt=K.pop();if(yt in Et)return mt.value=yt,mt.done=!1,mt}return mt.done=!0,mt}},x.values=Bt,at.prototype={constructor:at,reset:function(K){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(gt),!K)for(var ft in this)ft.charAt(0)==="t"&&w.call(this,ft)&&!isNaN(+ft.slice(1))&&(this[ft]=void 0)},stop:function(){this.done=!0;var K=this.tryEntries[0].completion;if(K.type==="throw")throw K.arg;return this.rval},dispatchException:function(K){if(this.done)throw K;var ft=this;function mt(_,P){return J.type="throw",J.arg=K,ft.next=_,P&&(ft.method="next",ft.arg=void 0),!!P}for(var yt=this.tryEntries.length-1;yt>=0;--yt){var wt=this.tryEntries[yt],J=wt.completion;if(wt.tryLoc==="root")return mt("end");if(wt.tryLoc<=this.prev){var lt=w.call(wt,"catchLoc"),it=w.call(wt,"finallyLoc");if(lt&&it){if(this.prev<wt.catchLoc)return mt(wt.catchLoc,!0);if(this.prev<wt.finallyLoc)return mt(wt.finallyLoc)}else if(lt){if(this.prev<wt.catchLoc)return mt(wt.catchLoc,!0)}else{if(!it)throw new Error("try statement without catch or finally");if(this.prev<wt.finallyLoc)return mt(wt.finallyLoc)}}}},abrupt:function(K,ft){for(var mt=this.tryEntries.length-1;mt>=0;--mt){var yt=this.tryEntries[mt];if(yt.tryLoc<=this.prev&&w.call(yt,"finallyLoc")&&this.prev<yt.finallyLoc){var wt=yt;break}}wt&&(K==="break"||K==="continue")&&wt.tryLoc<=ft&&ft<=wt.finallyLoc&&(wt=null);var J=wt?wt.completion:{};return J.type=K,J.arg=ft,wt?(this.method="next",this.next=wt.finallyLoc,A):this.complete(J)},complete:function(K,ft){if(K.type==="throw")throw K.arg;return K.type==="break"||K.type==="continue"?this.next=K.arg:K.type==="return"?(this.rval=this.arg=K.arg,this.method="return",this.next="end"):K.type==="normal"&&ft&&(this.next=ft),A},finish:function(K){for(var ft=this.tryEntries.length-1;ft>=0;--ft){var mt=this.tryEntries[ft];if(mt.finallyLoc===K)return this.complete(mt.completion,mt.afterLoc),gt(mt),A}},catch:function(K){for(var ft=this.tryEntries.length-1;ft>=0;--ft){var mt=this.tryEntries[ft];if(mt.tryLoc===K){var yt=mt.completion;if(yt.type==="throw"){var wt=yt.arg;gt(mt)}return wt}}throw new Error("illegal catch attempt")},delegateYield:function(K,ft,mt){return this.delegate={iterator:Bt(K),resultName:ft,nextLoc:mt},this.method==="next"&&(this.arg=void 0),A}},x}(u(n)==="object"?n.exports:{});try{regeneratorRuntime=g}catch(x){Function("r","regeneratorRuntime = r")(g)}}).call(this,t(86)(i))},function(i,b){i.exports=function(t){if(Array.isArray(t))return t}},function(i,b){i.exports=function(t,n){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t)){var u=[],g=!0,x=!1,c=void 0;try{for(var w,I=t[Symbol.iterator]();!(g=(w=I.next()).done)&&(u.push(w.value),!n||u.length!==n);g=!0);}catch(m){x=!0,c=m}finally{try{g||I.return==null||I.return()}finally{if(x)throw c}}return u}}},function(i,b){i.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(i,b,t){"use strict";function n(j){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(j)}var u=this&&this.__awaiter||function(j,D,V,H){return new(V||(V=Promise))(function($,dt){function Z(gt){try{pt(H.next(gt))}catch(at){dt(at)}}function ct(gt){try{pt(H.throw(gt))}catch(at){dt(at)}}function pt(gt){var at;gt.done?$(gt.value):(at=gt.value,at instanceof V?at:new V(function(Bt){Bt(at)})).then(Z,ct)}pt((H=H.apply(j,D||[])).next())})},g=this&&this.__generator||function(j,D){var V,H,$,dt,Z={label:0,sent:function(){if(1&$[0])throw $[1];return $[1]},trys:[],ops:[]};return dt={next:ct(0),throw:ct(1),return:ct(2)},typeof Symbol=="function"&&(dt[Symbol.iterator]=function(){return this}),dt;function ct(pt){return function(gt){return function(at){if(V)throw new TypeError("Generator is already executing.");for(;Z;)try{if(V=1,H&&($=2&at[0]?H.return:at[0]?H.throw||(($=H.return)&&$.call(H),0):H.next)&&!($=$.call(H,at[1])).done)return $;switch(H=0,$&&(at=[2&at[0],$.value]),at[0]){case 0:case 1:$=at;break;case 4:return Z.label++,{value:at[1],done:!1};case 5:Z.label++,H=at[1],at=[0];continue;case 7:at=Z.ops.pop(),Z.trys.pop();continue;default:if($=Z.trys,!(($=$.length>0&&$[$.length-1])||at[0]!==6&&at[0]!==2)){Z=0;continue}if(at[0]===3&&(!$||at[1]>$[0]&&at[1]<$[3])){Z.label=at[1];break}if(at[0]===6&&Z.label<$[1]){Z.label=$[1],$=at;break}if($&&Z.label<$[2]){Z.label=$[2],Z.ops.push(at);break}$[2]&&Z.ops.pop(),Z.trys.pop();continue}at=D.call(j,Z)}catch(Bt){at=[6,Bt],H=0}finally{V=$=0}if(5&at[0])throw at[1];return{value:at[0]?at[1]:void 0,done:!0}}([pt,gt])}}};Object.defineProperty(b,"__esModule",{value:!0}),b.Container=void 0;var x=t(447),c=t(41),w=t(55),I=t(32),m=t(220),r=t(448),s=t(455),d=t(457),C=t(67),S=t(88),A=t(460),f=t(461),O=function(){function j(D){var V=D||{};if(n(V)!=="object")throw new Error(""+c.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(V.defaultScope===void 0)V.defaultScope=w.BindingScopeEnum.Transient;else if(V.defaultScope!==w.BindingScopeEnum.Singleton&&V.defaultScope!==w.BindingScopeEnum.Transient&&V.defaultScope!==w.BindingScopeEnum.Request)throw new Error(""+c.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(V.autoBindInjectable===void 0)V.autoBindInjectable=!1;else if(typeof V.autoBindInjectable!="boolean")throw new Error(""+c.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(V.skipBaseClassChecks===void 0)V.skipBaseClassChecks=!1;else if(typeof V.skipBaseClassChecks!="boolean")throw new Error(""+c.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:V.autoBindInjectable,defaultScope:V.defaultScope,skipBaseClassChecks:V.skipBaseClassChecks},this.id=C.id(),this._bindingDictionary=new f.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new m.MetadataReader}return j.merge=function(D,V){var H=new j,$=r.getBindingDictionary(H),dt=r.getBindingDictionary(D),Z=r.getBindingDictionary(V);function ct(pt,gt){pt.traverse(function(at,Bt){Bt.forEach(function(Lt){gt.add(Lt.serviceIdentifier,Lt.clone())})})}return ct(dt,$),ct(Z,$),H},j.prototype.load=function(){for(var D=[],V=0;V<arguments.length;V++)D[V]=arguments[V];for(var H=this._getContainerModuleHelpersFactory(),$=0,dt=D;$<dt.length;$++){var Z=dt[$],ct=H(Z.id);Z.registry(ct.bindFunction,ct.unbindFunction,ct.isboundFunction,ct.rebindFunction)}},j.prototype.loadAsync=function(){for(var D=[],V=0;V<arguments.length;V++)D[V]=arguments[V];return u(this,void 0,void 0,function(){var H,$,dt,Z,ct;return g(this,function(pt){switch(pt.label){case 0:H=this._getContainerModuleHelpersFactory(),$=0,dt=D,pt.label=1;case 1:return $<dt.length?(Z=dt[$],ct=H(Z.id),[4,Z.registry(ct.bindFunction,ct.unbindFunction,ct.isboundFunction,ct.rebindFunction)]):[3,4];case 2:pt.sent(),pt.label=3;case 3:return $++,[3,1];case 4:return[2]}})})},j.prototype.unload=function(){for(var D=this,V=[],H=0;H<arguments.length;H++)V[H]=arguments[H];var $=function(Z){return function(ct){return ct.moduleId===Z}};V.forEach(function(dt){var Z=$(dt.id);D._bindingDictionary.removeByCondition(Z)})},j.prototype.bind=function(D){var V=this.options.defaultScope||w.BindingScopeEnum.Transient,H=new x.Binding(D,V);return this._bindingDictionary.add(D,H),new d.BindingToSyntax(H)},j.prototype.rebind=function(D){return this.unbind(D),this.bind(D)},j.prototype.unbind=function(D){try{this._bindingDictionary.remove(D)}catch(V){throw new Error(c.CANNOT_UNBIND+" "+S.getServiceIdentifierAsString(D))}},j.prototype.unbindAll=function(){this._bindingDictionary=new f.Lookup},j.prototype.isBound=function(D){var V=this._bindingDictionary.hasKey(D);return!V&&this.parent&&(V=this.parent.isBound(D)),V},j.prototype.isBoundNamed=function(D,V){return this.isBoundTagged(D,I.NAMED_TAG,V)},j.prototype.isBoundTagged=function(D,V,H){var $=!1;if(this._bindingDictionary.hasKey(D)){var dt=this._bindingDictionary.get(D),Z=r.createMockRequest(this,D,V,H);$=dt.some(function(ct){return ct.constraint(Z)})}return!$&&this.parent&&($=this.parent.isBoundTagged(D,V,H)),$},j.prototype.snapshot=function(){this._snapshots.push(A.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},j.prototype.restore=function(){var D=this._snapshots.pop();if(D===void 0)throw new Error(c.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=D.bindings,this._middleware=D.middleware},j.prototype.createChild=function(D){var V=new j(D||this.options);return V.parent=this,V},j.prototype.applyMiddleware=function(){for(var D=[],V=0;V<arguments.length;V++)D[V]=arguments[V];var H=this._middleware?this._middleware:this._planAndResolve();this._middleware=D.reduce(function($,dt){return dt($)},H)},j.prototype.applyCustomMetadataReader=function(D){this._metadataReader=D},j.prototype.get=function(D){return this._get(!1,!1,w.TargetTypeEnum.Variable,D)},j.prototype.getTagged=function(D,V,H){return this._get(!1,!1,w.TargetTypeEnum.Variable,D,V,H)},j.prototype.getNamed=function(D,V){return this.getTagged(D,I.NAMED_TAG,V)},j.prototype.getAll=function(D){return this._get(!0,!0,w.TargetTypeEnum.Variable,D)},j.prototype.getAllTagged=function(D,V,H){return this._get(!1,!0,w.TargetTypeEnum.Variable,D,V,H)},j.prototype.getAllNamed=function(D,V){return this.getAllTagged(D,I.NAMED_TAG,V)},j.prototype.resolve=function(D){var V=this.createChild();return V.bind(D).toSelf(),V.get(D)},j.prototype._getContainerModuleHelpersFactory=function(){var D=this,V=function(dt,Z){dt._binding.moduleId=Z},H=function(dt){return function(Z){var ct=D.rebind.bind(D)(Z);return V(ct,dt),ct}};return function($){return{bindFunction:(dt=$,function(Z){var ct=D.bind.bind(D)(Z);return V(ct,dt),ct}),isboundFunction:function(ct){return D.isBound.bind(D)(ct)},rebindFunction:H($),unbindFunction:function(ct){D.unbind.bind(D)(ct)}};var dt}},j.prototype._get=function(D,V,H,$,dt,Z){var ct=null,pt={avoidConstraints:D,contextInterceptor:function(at){return at},isMultiInject:V,key:dt,serviceIdentifier:$,targetType:H,value:Z};if(this._middleware){if((ct=this._middleware(pt))==null)throw new Error(c.INVALID_MIDDLEWARE_RETURN)}else ct=this._planAndResolve()(pt);return ct},j.prototype._planAndResolve=function(){var D=this;return function(V){var H=r.plan(D._metadataReader,D,V.isMultiInject,V.targetType,V.serviceIdentifier,V.key,V.value,V.avoidConstraints);return H=V.contextInterceptor(H),s.resolve(H)}},j}();b.Container=O},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Binding=void 0;var n=t(55),u=t(67),g=function(){function x(c,w){this.id=u.id(),this.activated=!1,this.serviceIdentifier=c,this.scope=w,this.type=n.BindingTypeEnum.Invalid,this.constraint=function(I){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return x.prototype.clone=function(){var c=new x(this.serviceIdentifier,this.scope);return c.activated=!1,c.implementationType=this.implementationType,c.dynamicValue=this.dynamicValue,c.scope=this.scope,c.type=this.type,c.factory=this.factory,c.provider=this.provider,c.constraint=this.constraint,c.onActivation=this.onActivation,c.cache=this.cache,c},x}();b.Binding=g},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getBindingDictionary=b.createMockRequest=b.plan=void 0;var n=t(449),u=t(41),g=t(55),x=t(32),c=t(221),w=t(88),I=t(450),m=t(49),r=t(451),s=t(452),d=t(454),C=t(223);function S(O){return O._bindingDictionary}function A(O,j,D,V,H){var $=f(D.container,H.serviceIdentifier),dt=[];return $.length===n.BindingCount.NoBindingsAvailable&&D.container.options.autoBindInjectable&&typeof H.serviceIdentifier=="function"&&O.getConstructorMetadata(H.serviceIdentifier).compilerGeneratedMetadata&&(D.container.bind(H.serviceIdentifier).toSelf(),$=f(D.container,H.serviceIdentifier)),dt=j?$:$.filter(function(Z){var ct=new d.Request(Z.serviceIdentifier,D,V,Z,H);return Z.constraint(ct)}),function(Z,ct,pt,gt){switch(ct.length){case n.BindingCount.NoBindingsAvailable:if(pt.isOptional())return ct;var at=w.getServiceIdentifierAsString(Z),Bt=u.NOT_REGISTERED;throw Bt+=w.listMetadataForTarget(at,pt),Bt+=w.listRegisteredBindingsForServiceIdentifier(gt,at,f),new Error(Bt);case n.BindingCount.OnlyOneBindingAvailable:if(!pt.isArray())return ct;case n.BindingCount.MultipleBindingsAvailable:default:if(pt.isArray())return ct;throw at=w.getServiceIdentifierAsString(Z),Bt=u.AMBIGUOUS_MATCH+" "+at,Bt+=w.listRegisteredBindingsForServiceIdentifier(gt,at,f),new Error(Bt)}}(H.serviceIdentifier,dt,H,D.container),dt}function f(O,j){var D=[],V=S(O);return V.hasKey(j)?D=V.get(j):O.parent!==null&&(D=f(O.parent,j)),D}b.getBindingDictionary=S,b.plan=function(O,j,D,V,H,$,dt,Z){Z===void 0&&(Z=!1);var ct=new I.Context(j),pt=function(gt,at,Bt,Lt,Et,K){var ft=gt?x.MULTI_INJECT_TAG:x.INJECT_TAG,mt=new m.Metadata(ft,Bt),yt=new C.Target(at,Lt,Bt,mt);if(Et!==void 0){var wt=new m.Metadata(Et,K);yt.metadata.push(wt)}return yt}(D,V,H,"",$,dt);try{return function gt(at,Bt,Lt,Et,K,ft){var mt,yt;if(K===null){mt=A(at,Bt,Et,null,ft),yt=new d.Request(Lt,Et,null,mt,ft);var wt=new r.Plan(Et,yt);Et.addPlan(wt)}else mt=A(at,Bt,Et,K,ft),yt=K.addChildRequest(ft.serviceIdentifier,mt,ft);mt.forEach(function(J){var lt=null;if(ft.isArray())lt=yt.addChildRequest(J.serviceIdentifier,J,ft);else{if(J.cache)return;lt=yt}if(J.type===g.BindingTypeEnum.Instance&&J.implementationType!==null){var it=s.getDependencies(at,J.implementationType);if(!Et.container.options.skipBaseClassChecks){var _=s.getBaseClassDependencyCount(at,J.implementationType);if(it.length<_){var P=u.ARGUMENTS_LENGTH_MISMATCH(s.getFunctionName(J.implementationType));throw new Error(P)}}it.forEach(function(Q){gt(at,!1,Q.serviceIdentifier,Et,lt,Q)})}})}(O,Z,H,ct,null,pt),ct}catch(gt){throw c.isStackOverflowExeption(gt)&&ct.plan&&w.circularDependencyToException(ct.plan.rootRequest),gt}},b.createMockRequest=function(O,j,D,V){var H=new C.Target(g.TargetTypeEnum.Variable,"",j,new m.Metadata(D,V)),$=new I.Context(O);return new d.Request(j,$,null,[],H)}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BindingCount=void 0,b.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Context=void 0;var n=t(67),u=function(){function g(x){this.id=n.id(),this.container=x}return g.prototype.addPlan=function(x){this.plan=x},g.prototype.setCurrentRequest=function(x){this.currentRequest=x},g}();b.Context=u},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Plan=void 0;var n=function(g,x){this.parentContext=g,this.rootRequest=x};b.Plan=n},function(i,b,t){"use strict";var n=this&&this.__spreadArrays||function(){for(var d=0,C=0,S=arguments.length;C<S;C++)d+=arguments[C].length;var A=Array(d),f=0;for(C=0;C<S;C++)for(var O=arguments[C],j=0,D=O.length;j<D;j++,f++)A[f]=O[j];return A};Object.defineProperty(b,"__esModule",{value:!0}),b.getFunctionName=b.getBaseClassDependencyCount=b.getDependencies=void 0;var u=t(222),g=t(41),x=t(55),c=t(32),w=t(88);Object.defineProperty(b,"getFunctionName",{enumerable:!0,get:function(){return w.getFunctionName}});var I=t(223);function m(d,C,S,A){var f=d.getConstructorMetadata(S),O=f.compilerGeneratedMetadata;if(O===void 0){var j=g.MISSING_INJECTABLE_ANNOTATION+" "+C+".";throw new Error(j)}var D=f.userGeneratedMetadata,V=Object.keys(D),H=function(dt,Z,ct,pt,gt){for(var at=[],Bt=0;Bt<gt;Bt++){var Lt=r(Bt,dt,Z,ct,pt);Lt!==null&&at.push(Lt)}return at}(A,C,O,D,S.length===0&&V.length>0?V.length:S.length),$=function dt(Z,ct){for(var pt=Z.getPropertiesMetadata(ct),gt=[],at=Object.keys(pt),Bt=0,Lt=at;Bt<Lt.length;Bt++){var Et=Lt[Bt],K=pt[Et],ft=s(pt[Et]),mt=ft.targetName||Et,yt=ft.inject||ft.multiInject,wt=new I.Target(x.TargetTypeEnum.ClassProperty,mt,yt);wt.metadata=K,gt.push(wt)}var J=Object.getPrototypeOf(ct.prototype).constructor;if(J!==Object){var lt=dt(Z,J);gt=n(gt,lt)}return gt}(d,S);return n(H,$)}function r(d,C,S,A,f){var O=f[d.toString()]||[],j=s(O),D=j.unmanaged!==!0,V=A[d],H=j.inject||j.multiInject;if((V=H||V)instanceof u.LazyServiceIdentifer&&(V=V.unwrap()),D){if(!C&&(V===Object||V===Function||V===void 0)){var $=g.MISSING_INJECT_ANNOTATION+" argument "+d+" in class "+S+".";throw new Error($)}var dt=new I.Target(x.TargetTypeEnum.ConstructorArgument,j.targetName,V);return dt.metadata=O,dt}return null}function s(d){var C={};return d.forEach(function(S){C[S.key.toString()]=S.value}),{inject:C[c.INJECT_TAG],multiInject:C[c.MULTI_INJECT_TAG],targetName:C[c.NAME_TAG],unmanaged:C[c.UNMANAGED_TAG]}}b.getDependencies=function(d,C){return m(d,w.getFunctionName(C),C,!1)},b.getBaseClassDependencyCount=function d(C,S){var A=Object.getPrototypeOf(S.prototype).constructor;if(A!==Object){var f=m(C,w.getFunctionName(A),A,!0),O=f.map(function(V){return V.metadata.filter(function(H){return H.key===c.UNMANAGED_TAG})}),j=[].concat.apply([],O).length,D=f.length-j;return D>0?D:d(C,A)}return 0}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.QueryableString=void 0;var n=function(){function u(g){this.str=g}return u.prototype.startsWith=function(g){return this.str.indexOf(g)===0},u.prototype.endsWith=function(g){var x,c=g.split("").reverse().join("");return x=this.str.split("").reverse().join(""),this.startsWith.call({str:x},c)},u.prototype.contains=function(g){return this.str.indexOf(g)!==-1},u.prototype.equals=function(g){return this.str===g},u.prototype.value=function(){return this.str},u}();b.QueryableString=n},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Request=void 0;var n=t(67),u=function(){function g(x,c,w,I,m){this.id=n.id(),this.serviceIdentifier=x,this.parentContext=c,this.parentRequest=w,this.target=m,this.childRequests=[],this.bindings=Array.isArray(I)?I:[I],this.requestScope=w===null?new Map:null}return g.prototype.addChildRequest=function(x,c,w){var I=new g(x,this.parentContext,this,c,w);return this.childRequests.push(I),I},g}();b.Request=u},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.resolve=void 0;var n=t(41),u=t(55),g=t(221),x=t(88),c=t(456),w=function(m,r,s){try{return s()}catch(d){throw g.isStackOverflowExeption(d)?new Error(n.CIRCULAR_DEPENDENCY_IN_FACTORY(m,r.toString())):d}};b.resolve=function(I){return function m(r){return function(s){s.parentContext.setCurrentRequest(s);var d=s.bindings,C=s.childRequests,S=s.target&&s.target.isArray(),A=!(s.parentRequest&&s.parentRequest.target&&s.target&&s.parentRequest.target.matchesArray(s.target.serviceIdentifier));if(S&&A)return C.map(function(H){return m(r)(H)});var f=null;if(!s.target.isOptional()||d.length!==0){var O=d[0],j=O.scope===u.BindingScopeEnum.Singleton,D=O.scope===u.BindingScopeEnum.Request;if(j&&O.activated)return O.cache;if(D&&r!==null&&r.has(O.id))return r.get(O.id);if(O.type===u.BindingTypeEnum.ConstantValue)f=O.cache;else if(O.type===u.BindingTypeEnum.Function)f=O.cache;else if(O.type===u.BindingTypeEnum.Constructor)f=O.implementationType;else if(O.type===u.BindingTypeEnum.DynamicValue&&O.dynamicValue!==null)f=w("toDynamicValue",O.serviceIdentifier,function(){return O.dynamicValue(s.parentContext)});else if(O.type===u.BindingTypeEnum.Factory&&O.factory!==null)f=w("toFactory",O.serviceIdentifier,function(){return O.factory(s.parentContext)});else if(O.type===u.BindingTypeEnum.Provider&&O.provider!==null)f=w("toProvider",O.serviceIdentifier,function(){return O.provider(s.parentContext)});else{if(O.type!==u.BindingTypeEnum.Instance||O.implementationType===null){var V=x.getServiceIdentifierAsString(s.serviceIdentifier);throw new Error(n.INVALID_BINDING_TYPE+" "+V)}f=c.resolveInstance(O.implementationType,C,m(r))}return typeof O.onActivation=="function"&&(f=O.onActivation(s.parentContext,f)),j&&(O.cache=f,O.activated=!0),D&&r!==null&&!r.has(O.id)&&r.set(O.id,f),f}}}(I.plan.rootRequest.requestScope)(I.plan.rootRequest)}},function(i,b,t){"use strict";var n=this&&this.__spreadArrays||function(){for(var c=0,w=0,I=arguments.length;w<I;w++)c+=arguments[w].length;var m=Array(c),r=0;for(w=0;w<I;w++)for(var s=arguments[w],d=0,C=s.length;d<C;d++,r++)m[r]=s[d];return m};Object.defineProperty(b,"__esModule",{value:!0}),b.resolveInstance=void 0;var u=t(41),g=t(55),x=t(32);b.resolveInstance=function(c,w,I){var m,r,s=null;if(w.length>0){var d=w.filter(function(C){return C.target!==null&&C.target.type===g.TargetTypeEnum.ConstructorArgument}).map(I);r=d,s=function(C,S,A){var f=S.filter(function(j){return j.target!==null&&j.target.type===g.TargetTypeEnum.ClassProperty}),O=f.map(A);return f.forEach(function(j,D){var V;V=j.target.name.value();var H=O[D];C[V]=H}),C}(s=new((m=c).bind.apply(m,n([void 0],r))),w,I)}else s=new c;return function(C,S){if(Reflect.hasMetadata(x.POST_CONSTRUCT,C)){var A=Reflect.getMetadata(x.POST_CONSTRUCT,C);try{S[A.value]()}catch(f){throw new Error(u.POST_CONSTRUCT_ERROR(C.name,f.message))}}}(c,s),s}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BindingToSyntax=void 0;var n=t(41),u=t(55),g=t(458),x=t(224),c=function(){function w(I){this._binding=I}return w.prototype.to=function(I){return this._binding.type=u.BindingTypeEnum.Instance,this._binding.implementationType=I,new g.BindingInWhenOnSyntax(this._binding)},w.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+n.INVALID_TO_SELF_VALUE);var I=this._binding.serviceIdentifier;return this.to(I)},w.prototype.toConstantValue=function(I){return this._binding.type=u.BindingTypeEnum.ConstantValue,this._binding.cache=I,this._binding.dynamicValue=null,this._binding.implementationType=null,new x.BindingWhenOnSyntax(this._binding)},w.prototype.toDynamicValue=function(I){return this._binding.type=u.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=I,this._binding.implementationType=null,new g.BindingInWhenOnSyntax(this._binding)},w.prototype.toConstructor=function(I){return this._binding.type=u.BindingTypeEnum.Constructor,this._binding.implementationType=I,new x.BindingWhenOnSyntax(this._binding)},w.prototype.toFactory=function(I){return this._binding.type=u.BindingTypeEnum.Factory,this._binding.factory=I,new x.BindingWhenOnSyntax(this._binding)},w.prototype.toFunction=function(I){if(typeof I!="function")throw new Error(n.INVALID_FUNCTION_BINDING);var m=this.toConstantValue(I);return this._binding.type=u.BindingTypeEnum.Function,m},w.prototype.toAutoFactory=function(I){return this._binding.type=u.BindingTypeEnum.Factory,this._binding.factory=function(m){return function(){return m.container.get(I)}},new x.BindingWhenOnSyntax(this._binding)},w.prototype.toProvider=function(I){return this._binding.type=u.BindingTypeEnum.Provider,this._binding.provider=I,new x.BindingWhenOnSyntax(this._binding)},w.prototype.toService=function(I){this.toDynamicValue(function(m){return m.container.get(I)})},w}();b.BindingToSyntax=c},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BindingInWhenOnSyntax=void 0;var n=t(459),u=t(141),g=t(142),x=function(){function c(w){this._binding=w,this._bindingWhenSyntax=new g.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new u.BindingOnSyntax(this._binding),this._bindingInSyntax=new n.BindingInSyntax(w)}return c.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},c.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},c.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},c.prototype.when=function(w){return this._bindingWhenSyntax.when(w)},c.prototype.whenTargetNamed=function(w){return this._bindingWhenSyntax.whenTargetNamed(w)},c.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},c.prototype.whenTargetTagged=function(w,I){return this._bindingWhenSyntax.whenTargetTagged(w,I)},c.prototype.whenInjectedInto=function(w){return this._bindingWhenSyntax.whenInjectedInto(w)},c.prototype.whenParentNamed=function(w){return this._bindingWhenSyntax.whenParentNamed(w)},c.prototype.whenParentTagged=function(w,I){return this._bindingWhenSyntax.whenParentTagged(w,I)},c.prototype.whenAnyAncestorIs=function(w){return this._bindingWhenSyntax.whenAnyAncestorIs(w)},c.prototype.whenNoAncestorIs=function(w){return this._bindingWhenSyntax.whenNoAncestorIs(w)},c.prototype.whenAnyAncestorNamed=function(w){return this._bindingWhenSyntax.whenAnyAncestorNamed(w)},c.prototype.whenAnyAncestorTagged=function(w,I){return this._bindingWhenSyntax.whenAnyAncestorTagged(w,I)},c.prototype.whenNoAncestorNamed=function(w){return this._bindingWhenSyntax.whenNoAncestorNamed(w)},c.prototype.whenNoAncestorTagged=function(w,I){return this._bindingWhenSyntax.whenNoAncestorTagged(w,I)},c.prototype.whenAnyAncestorMatches=function(w){return this._bindingWhenSyntax.whenAnyAncestorMatches(w)},c.prototype.whenNoAncestorMatches=function(w){return this._bindingWhenSyntax.whenNoAncestorMatches(w)},c.prototype.onActivation=function(w){return this._bindingOnSyntax.onActivation(w)},c}();b.BindingInWhenOnSyntax=x},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BindingInSyntax=void 0;var n=t(55),u=t(224),g=function(){function x(c){this._binding=c}return x.prototype.inRequestScope=function(){return this._binding.scope=n.BindingScopeEnum.Request,new u.BindingWhenOnSyntax(this._binding)},x.prototype.inSingletonScope=function(){return this._binding.scope=n.BindingScopeEnum.Singleton,new u.BindingWhenOnSyntax(this._binding)},x.prototype.inTransientScope=function(){return this._binding.scope=n.BindingScopeEnum.Transient,new u.BindingWhenOnSyntax(this._binding)},x}();b.BindingInSyntax=g},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ContainerSnapshot=void 0;var n=function(){function u(){}return u.of=function(g,x){var c=new u;return c.bindings=g,c.middleware=x,c},u}();b.ContainerSnapshot=n},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.Lookup=void 0;var n=t(41),u=function(){function g(){this._map=new Map}return g.prototype.getMap=function(){return this._map},g.prototype.add=function(x,c){if(x==null)throw new Error(n.NULL_ARGUMENT);if(c==null)throw new Error(n.NULL_ARGUMENT);var w=this._map.get(x);w!==void 0?(w.push(c),this._map.set(x,w)):this._map.set(x,[c])},g.prototype.get=function(x){if(x==null)throw new Error(n.NULL_ARGUMENT);var c=this._map.get(x);if(c!==void 0)return c;throw new Error(n.KEY_NOT_FOUND)},g.prototype.remove=function(x){if(x==null)throw new Error(n.NULL_ARGUMENT);if(!this._map.delete(x))throw new Error(n.KEY_NOT_FOUND)},g.prototype.removeByCondition=function(x){var c=this;this._map.forEach(function(w,I){var m=w.filter(function(r){return!x(r)});m.length>0?c._map.set(I,m):c._map.delete(I)})},g.prototype.hasKey=function(x){if(x==null)throw new Error(n.NULL_ARGUMENT);return this._map.has(x)},g.prototype.clone=function(){var x=new g;return this._map.forEach(function(c,w){c.forEach(function(I){return x.add(w,I.clone())})}),x},g.prototype.traverse=function(x){this._map.forEach(function(c,w){x(w,c)})},g}();b.Lookup=u},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AsyncContainerModule=b.ContainerModule=void 0;var n=t(67),u=function(c){this.id=n.id(),this.registry=c};b.ContainerModule=u;var g=function(c){this.id=n.id(),this.registry=c};b.AsyncContainerModule=g},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.injectable=void 0;var n=t(41),u=t(32);b.injectable=function(){return function(g){if(Reflect.hasOwnMetadata(u.PARAM_TYPES,g))throw new Error(n.DUPLICATED_INJECTABLE_DECORATOR);var x=Reflect.getMetadata(u.DESIGN_PARAM_TYPES,g)||[];return Reflect.defineMetadata(u.PARAM_TYPES,x,g),g}}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.tagged=void 0;var n=t(49),u=t(59);b.tagged=function(g,x){return function(c,w,I){var m=new n.Metadata(g,x);typeof I=="number"?u.tagParameter(c,w,I,m):u.tagProperty(c,w,m)}}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.named=void 0;var n=t(32),u=t(49),g=t(59);b.named=function(x){return function(c,w,I){var m=new u.Metadata(n.NAMED_TAG,x);typeof I=="number"?g.tagParameter(c,w,I,m):g.tagProperty(c,w,m)}}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.optional=void 0;var n=t(32),u=t(49),g=t(59);b.optional=function(){return function(x,c,w){var I=new u.Metadata(n.OPTIONAL_TAG,!0);typeof w=="number"?g.tagParameter(x,c,w,I):g.tagProperty(x,c,I)}}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.unmanaged=void 0;var n=t(32),u=t(49),g=t(59);b.unmanaged=function(){return function(x,c,w){var I=new u.Metadata(n.UNMANAGED_TAG,!0);g.tagParameter(x,c,w,I)}}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.multiInject=void 0;var n=t(32),u=t(49),g=t(59);b.multiInject=function(x){return function(c,w,I){var m=new u.Metadata(n.MULTI_INJECT_TAG,x);typeof I=="number"?g.tagParameter(c,w,I,m):g.tagProperty(c,w,m)}}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.targetName=void 0;var n=t(32),u=t(49),g=t(59);b.targetName=function(x){return function(c,w,I){var m=new u.Metadata(n.NAME_TAG,x);g.tagParameter(c,w,I,m)}}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.postConstruct=void 0;var n=t(41),u=t(32),g=t(49);b.postConstruct=function(){return function(x,c,w){var I=new g.Metadata(u.POST_CONSTRUCT,c);if(Reflect.hasOwnMetadata(u.POST_CONSTRUCT,x.constructor))throw new Error(n.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(u.POST_CONSTRUCT,I,x.constructor)}}},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.multiBindToService=void 0,b.multiBindToService=function(n){return function(u){return function(){for(var g=[],x=0;x<arguments.length;x++)g[x]=arguments[x];return g.forEach(function(c){return n.bind(c).toService(u)})}}}},function(i,b){function t(n,u){return i.exports=t=Object.setPrototypeOf||function(g,x){return g.__proto__=x,g},t(n,u)}i.exports=t},function(i,b,t){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var n=Symbol.for("INJECTION");function u(g,x,c,w){Object.defineProperty(g,x,{configurable:!0,enumerable:!0,get:function(){return w&&!Reflect.hasMetadata(n,this,x)&&Reflect.defineMetadata(n,c(),this,x),Reflect.hasMetadata(n,this,x)?Reflect.getMetadata(n,this,x):c()},set:function(m){Reflect.defineMetadata(n,m,this,x)}})}b.makePropertyInjectDecorator=function(g,x){return function(c){return function(w,I){u(w,I,function(){return g.get(c)},x)}}},b.makePropertyInjectNamedDecorator=function(g,x){return function(c,w){return function(I,m){u(I,m,function(){return g.getNamed(c,w)},x)}}},b.makePropertyInjectTaggedDecorator=function(g,x){return function(c,w,I){return function(m,r){u(m,r,function(){return g.getTagged(c,w,I)},x)}}},b.makePropertyMultiInjectDecorator=function(g,x){return function(c){return function(w,I){u(w,I,function(){return g.getAll(c)},x)}}}},function(i,b,t){var n=t(219);i.exports=function(u){if(Array.isArray(u))return n(u)}},function(i,b){i.exports=function(t){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}},function(i,b){i.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}},function(i,b){i.exports=function(t){var n=new Float32Array(2);return n[0]=t[0],n[1]=t[1],n}},function(i,b){i.exports=function(t,n){var u=new Float32Array(2);return u[0]=t,u[1]=n,u}},function(i,b){i.exports=function(t,n){return t[0]=n[0],t[1]=n[1],t}},function(i,b,t){i.exports=function(u,g){var x=u[0],c=u[1],w=g[0],I=g[1];return Math.abs(x-w)<=n*Math.max(1,Math.abs(x),Math.abs(w))&&Math.abs(c-I)<=n*Math.max(1,Math.abs(c),Math.abs(I))};var n=t(233)},function(i,b){i.exports=function(t,n){return t[0]===n[0]&&t[1]===n[1]}},function(i,b,t){i.exports=t(150)},function(i,b,t){i.exports=t(237)},function(i,b,t){i.exports=t(238)},function(i,b){i.exports=function(t,n){return t[0]=1/n[0],t[1]=1/n[1],t}},function(i,b){i.exports=function(t,n,u){return t[0]=Math.min(n[0],u[0]),t[1]=Math.min(n[1],u[1]),t}},function(i,b){i.exports=function(t,n,u){return t[0]=Math.max(n[0],u[0]),t[1]=Math.max(n[1],u[1]),t}},function(i,b){i.exports=function(t,n,u){var g=Math.cos(u),x=Math.sin(u),c=n[0],w=n[1];return t[0]=c*g-w*x,t[1]=c*x+w*g,t}},function(i,b){i.exports=function(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t}},function(i,b){i.exports=function(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t}},function(i,b){i.exports=function(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t}},function(i,b){i.exports=function(t,n,u){return t[0]=n[0]*u,t[1]=n[1]*u,t}},function(i,b){i.exports=function(t,n,u,g){return t[0]=n[0]+u[0]*g,t[1]=n[1]+u[1]*g,t}},function(i,b,t){i.exports=t(239)},function(i,b,t){i.exports=t(240)},function(i,b,t){i.exports=t(241)},function(i,b,t){i.exports=t(242)},function(i,b){i.exports=function(t,n){return t[0]=-n[0],t[1]=-n[1],t}},function(i,b){i.exports=function(t,n,u){var g=n[0]*u[1]-n[1]*u[0];return t[0]=t[1]=0,t[2]=g,t}},function(i,b){i.exports=function(t,n,u,g){var x=n[0],c=n[1];return t[0]=x+g*(u[0]-x),t[1]=c+g*(u[1]-c),t}},function(i,b){i.exports=function(t,n){n=n||1;var u=2*Math.random()*Math.PI;return t[0]=Math.cos(u)*n,t[1]=Math.sin(u)*n,t}},function(i,b){i.exports=function(t,n,u){var g=n[0],x=n[1];return t[0]=u[0]*g+u[2]*x,t[1]=u[1]*g+u[3]*x,t}},function(i,b){i.exports=function(t,n,u){var g=n[0],x=n[1];return t[0]=u[0]*g+u[2]*x+u[4],t[1]=u[1]*g+u[3]*x+u[5],t}},function(i,b){i.exports=function(t,n,u){var g=n[0],x=n[1];return t[0]=u[0]*g+u[3]*x+u[6],t[1]=u[1]*g+u[4]*x+u[7],t}},function(i,b){i.exports=function(t,n,u){var g=n[0],x=n[1];return t[0]=u[0]*g+u[4]*x+u[12],t[1]=u[1]*g+u[5]*x+u[13],t}},function(i,b,t){i.exports=function(u,g,x,c,w,I){var m,r;for(g||(g=2),x||(x=0),r=c?Math.min(c*g+x,u.length):u.length,m=x;m<r;m+=g)n[0]=u[m],n[1]=u[m+1],w(n,n,I),u[m]=n[0],u[m+1]=n[1];return u};var n=t(234)()},function(i,b){i.exports=function(t,n,u){var g=n[0]*n[0]+n[1]*n[1];if(g>u*u){var x=Math.sqrt(g);t[0]=n[0]/x*u,t[1]=n[1]/x*u}else t[0]=n[0],t[1]=n[1];return t}},function(i,b,t){"use strict";var n=t(0),u=t(5),g=t(38),x=g.a.cloneEvent,c=g.a.isNaN,w=Math.abs,I=["shift","ctrl","alt","control"],m={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0}},getEvents:function(){return{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onMouseDown",touchmove:"onMouseMove",touchend:"onMouseUp"}},updateViewport:function(P){var Q=this.origin,k=+P.clientX,p=+P.clientY;if(!c(k)&&!c(p)){var y=k-Q.x,B=p-Q.y;this.get("direction")==="x"?B=0:this.get("direction")==="y"&&(y=0),this.origin={x:k,y:p};var W=this.graph.get("width"),rt=this.graph.get("height"),st=this.graph.get("canvas").getCanvasBBox();(st.minX<=W+this.scalableRange&&st.minX+y>W+this.scalableRange||st.maxX+this.scalableRange>=0&&st.maxX+this.scalableRange+y<0)&&(y=0),(st.minY<=rt+this.scalableRange&&st.minY+B>rt+this.scalableRange||st.maxY+this.scalableRange>=0&&st.maxY+this.scalableRange+B<0)&&(B=0),this.graph.translate(y,B)}},onMouseDown:function(P){var Q=P.originalEvent;if((!Q||P.name===u.h.TOUCHSTART||Q.button===0)&&(P.name===u.h.TOUCHSTART||typeof window=="undefined"||!window.event||window.event.buttons||window.event.button)&&this.shouldBegin.call(this,P)&&!this.keydown&&P.target&&P.target.isCanvas&&P.target.isCanvas()&&(this.origin={x:P.clientX,y:P.clientY},this.dragging=!1,this.enableOptimize)){for(var k=this.graph,p=k.getEdges(),y=0,B=p.length;y<B;y++){var W=p[y].get("group").get("children");W&&W.forEach(function(Ot){Ot.set("ori-visibility",Ot.get("ori-visibility")||Ot.get("visible")),Ot.hide()})}for(var rt=k.getNodes(),st=0,ut=rt.length;st<ut;st++)for(var Mt=0,bt=rt[st].getContainer().get("children");Mt<bt.length;Mt++){var xt=bt[Mt];xt.get("isKeyShape")||(xt.set("ori-visibility",xt.get("ori-visibility")||xt.get("visible")),xt.hide())}}},onMouseMove:function(P){var Q=this.graph;if(!this.keydown&&P.target&&P.target.isCanvas&&P.target.isCanvas()&&(P=x(P),this.origin)){if(this.dragging)P.type="drag",Q.emit("canvas:drag",P);else{if(w(this.origin.x-P.clientX)+w(this.origin.y-P.clientY)<10)return;this.shouldBegin.call(this,P)&&(P.type="dragstart",Q.emit("canvas:dragstart",P),this.dragging=!0)}this.shouldUpdate.call(this,P)&&this.updateViewport(P)}},onMouseUp:function(P){var Q=this.graph;if(!this.keydown){if(this.enableOptimize){for(var k=Q.getEdges(),p=0,y=k.length;p<y;p++){var B=k[p].get("group").get("children");B&&B.forEach(function(xt){xt.get("ori-visibility")&&xt.show()})}for(var W=Q.getNodes(),rt=0,st=W.length;rt<st;rt++)for(var ut=0,Mt=W[rt].getContainer().get("children");ut<Mt.length;ut++){var bt=Mt[ut];bt.get("isKeyShape")||bt.get("ori-visibility")&&bt.show()}}this.dragging?(P=x(P),this.shouldEnd.call(this,P)&&this.updateViewport(P),P.type="dragend",Q.emit("canvas:dragend",P),this.endDrag()):this.origin=null}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(P){var Q=P.key;Q&&(I.indexOf(Q.toLowerCase())>-1?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},r=t(1),s=t(45),d={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected"}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(P){return!(!this.origin||!P||P.destroyed)&&P.getType()==="combo"},onDragStart:function(P){var Q=this;if(this.shouldBegin.call(this,P)){var k=P.item;if(k&&!k.destroyed&&!k.hasLocked()){k.getContainer().set("capture",!1);var p=P.target;if(p&&p.get("isAnchorPoint"))return;var y=this.graph;this.targets=[],this.targetCombo=null;var B=y.findAllByState("node",this.selectedState),W=k.get("id");B.filter(function(st){var ut=st.get("id");return W===ut}).length===0?this.targets.push(k):B.length>1?B.forEach(function(st){st.hasLocked()||Q.targets.push(st)}):this.targets.push(k);var rt=[];this.targets.forEach(function(st){rt.push(Object(n.c)(st.getModel()))}),this.set("beforeDragNodes",rt),this.origin={x:P.x,y:P.y},this.point={},this.originPoint={}}}},onDrag:function(P){var Q=this;this.origin&&this.shouldUpdate(this,P)&&(this.get("enableDelegate")?this.updateDelegate(P):this.targets.map(function(k){Q.update(k,P)}))},onDragEnd:function(P){if(this.origin&&this.shouldEnd.call(this,P)){var Q=P.item;Q&&Q.getContainer().set("capture",!0),this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(P);var k=this.graph;if(k.get("enabledStack")){var p={before:{nodes:this.get("beforeDragNodes"),edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.targets.forEach(function(y){p.after.nodes.push(y.getModel())}),k.pushStack("update",Object(n.c)(p))}k.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(P){var Q=P.item;if(this.validationCombo(Q)){this.updatePositions(P);var k=this.graph;if(this.comboActiveState&&k.setItemState(Q,this.comboActiveState,!1),this.targetCombo=Q,this.onlyChangeComboSize)k.updateCombos();else{var p=Q.getModel();this.targets.map(function(y){y.getModel().comboId!==p.id&&k.updateComboTree(y,p.id)}),k.updateCombo(Q)}k.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(P){var Q=this.graph;this.targets&&this.targets.length!==0&&(this.updatePositions(P),this.onlyChangeComboSize?Q.updateCombos():this.targets.map(function(k){k.getModel().comboId&&Q.updateComboTree(k)}))},onDropNode:function(P){if(this.targets&&this.targets.length!==0){var Q=P.item;this.updatePositions(P);var k=this.graph,p=Q.getModel().comboId;if(p){var y=k.findById(p);this.comboActiveState&&k.setItemState(y,this.comboActiveState,!1),this.targets.map(function(B){var W=B.getModel();p!==W.comboId&&k.updateComboTree(B,p)}),k.updateCombo(y)}else this.targets.map(function(B){B.getModel().comboId&&k.updateComboTree(B)});k.emit("dragnodeend",{items:this.targets,targetItem:Q})}},onDragEnter:function(P){var Q=P.item;if(this.validationCombo(Q)){var k=this.graph;this.comboActiveState&&k.setItemState(Q,this.comboActiveState,!0)}},onDragLeave:function(P){var Q=P.item;if(this.validationCombo(Q)){var k=this.graph;this.comboActiveState&&k.setItemState(Q,this.comboActiveState,!1)}},updatePositions:function(P){var Q=this;this.targets&&this.targets.length!==0&&this.get("enableDelegate")&&this.targets.map(function(k){return Q.update(k,P)})},update:function(P,Q){var k=this.origin,p=P.get("model"),y=P.get("id");this.point[y]||(this.point[y]={x:p.x||0,y:p.y||0});var B={x:Q.x-k.x+this.point[y].x,y:Q.y-k.y+this.point[y].y};this.get("updateEdge")?this.graph.updateItem(P,B,!1):P.updatePosition(B)},updateDelegate:function(P){if(this.graph,this.delegateRect){var Q=P.x-this.origin.x+this.originPoint.minX,k=P.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:Q,y:k})}else{var p=this.graph.get("group"),y=Object(n.e)({},s.a.delegateStyle,this.delegateStyle),B=this.calculationGroupPosition(P),W=B.x,rt=B.y,st=B.width,ut=B.height,Mt=B.minX,bt=B.minY;this.originPoint={x:W,y:rt,width:st,height:ut,minX:Mt,minY:bt},this.delegateRect=p.addShape("rect",{attrs:Object(r.a)({width:st,height:ut,x:W,y:rt},y),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(P){var Q=this.graph.findAllByState("node",this.selectedState);Q.length===0&&Q.push(P.item);for(var k=1/0,p=-1/0,y=1/0,B=-1/0,W=0;W<Q.length;W++){var rt=Q[W].getBBox(),st=rt.minX,ut=rt.minY,Mt=rt.maxX,bt=rt.maxY;st<k&&(k=st),ut<y&&(y=ut),Mt>p&&(p=Mt),bt>B&&(B=bt)}return{x:Math.floor(k),y:Math.floor(y),width:Math.ceil(p)-Math.floor(k),height:Math.ceil(B)-Math.floor(y),minX:k,minY:y}}},C=Math.min,S=Math.max,A=Math.abs,f=["drag","shift","ctrl","alt","control"],O={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return f.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(P){var Q=P.item,k=this.brush;Q||(this.trigger==="drag"||this.keydown)&&(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),k||(k=this.createBrush()),this.originPoint={x:P.canvasX,y:P.canvasY},k.attr({width:0,height:0}),k.show(),this.dragging=!0)},onMouseMove:function(P){this.dragging&&(this.trigger==="drag"||this.keydown)&&this.updateBrush(P)},onMouseUp:function(P){this.graph,(this.brush||this.dragging)&&(this.trigger==="drag"||this.keydown)&&(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(P),this.dragging=!1)},clearStates:function(){var P=this.graph,Q=this.selectedState,k=P.findAllByState("node",Q),p=P.findAllByState("edge",Q);k.forEach(function(y){return P.setItemState(y,Q,!1)}),p.forEach(function(y){return P.setItemState(y,Q,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),P.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(P){var Q=this,k=this.graph,p=this.originPoint,y=this.shouldUpdate,B=this.selectedState,W={x:P.x,y:P.y},rt=k.getPointByCanvas(p.x,p.y),st=C(W.x,rt.x),ut=S(W.x,rt.x),Mt=C(W.y,rt.y),bt=S(W.y,rt.y),xt=[],Ot=[];k.getNodes().forEach(function(Dt){var zt=Dt.getBBox();if(zt.centerX>=st&&zt.centerX<=ut&&zt.centerY>=Mt&&zt.centerY<=bt&&y(Dt,"select")){xt.push(Dt);var Tt=Dt.getModel();Ot.push(Tt.id),k.setItemState(Dt,B,!0)}});var jt=[];this.includeEdges&&xt.forEach(function(Dt){Dt.getOutEdges().forEach(function(zt){var Tt=zt.getModel(),Vt=Tt.source,Ht=Tt.target;Ot.includes(Vt)&&Ot.includes(Ht)&&y(zt,"select")&&(jt.push(zt),k.setItemState(zt,Q.selectedState,!0))})}),this.selectedEdges=jt,this.selectedNodes=xt,this.onSelect&&this.onSelect(xt,jt),k.emit("nodeselectchange",{selectedItems:{nodes:xt,edges:jt},select:!0})},createBrush:function(){var P=this.graph.get("canvas").addShape("rect",{attrs:this.brushStyle,capture:!1,name:"brush-shape"});return this.brush=P,this.delegate=P,P},updateBrush:function(P){var Q=this.originPoint;this.brush.attr({width:A(P.canvasX-Q.x),height:A(P.canvasY-Q.y),x:C(P.canvasX,Q.x),y:C(P.canvasY,Q.y)})},onKeyDown:function(P){var Q=P.key;if(Q){var k=this.trigger.toLowerCase(),p=Q.toLowerCase();this.keydown=p===k||p==="control"&&k==="ctrl"||p==="ctrl"&&k==="control"}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},j=["shift","ctrl","alt","control"],D={getDefaultCfg:function(){return{multiple:!0,trigger:"shift",selectedState:"selected"}},getEvents:function(){return j.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(P){var Q=this,k=P.item;if(k&&!k.destroyed){var p=k.getType(),y=Q.graph,B=Q.keydown,W=Q.multiple,rt=Q.shouldUpdate;if(Q.shouldBegin.call(Q,P)){if(!B||!W){var st=y.findAllByState(p,Q.selectedState);Object(n.f)(st,function(bt){bt!==k&&y.setItemState(bt,Q.selectedState,!1)})}if(k.hasState(Q.selectedState)){rt.call(Q,P)&&y.setItemState(k,Q.selectedState,!1);var ut=y.findAllByState("node",Q.selectedState),Mt=y.findAllByState("combo",Q.selectedState);y.emit("nodeselectchange",{target:k,selectedItems:{nodes:ut,combos:Mt},select:!1})}else rt.call(Q,P)&&y.setItemState(k,Q.selectedState,!0),ut=y.findAllByState("node",Q.selectedState),Mt=y.findAllByState("combo",Q.selectedState),y.emit("nodeselectchange",{target:k,selectedItems:{nodes:ut,combos:Mt},select:!0})}}},onCanvasClick:function(){var P=this,Q=this.graph,k=Q.findAllByState("node",this.selectedState);Object(n.f)(k,function(y){Q.setItemState(y,P.selectedState,!1)});var p=Q.findAllByState("combo",this.selectedState);Object(n.f)(p,function(y){Q.setItemState(y,P.selectedState,!1)}),Q.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(P){var Q=P.key;Q&&(Q.toLowerCase()===this.trigger.toLowerCase()||Q.toLowerCase()==="control"?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.keydown=!1}},V=t(122).a.transform,H={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var P=this.fixSelectedItems;return P.fixState||(P.fixState="selected"),P.fixAll&&(P.fixLineWidth=!0,P.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(P){var Q=P.originalEvent.touches,k=Q[0],p=Q[1];P.preventDefault(),p&&(this.startPoint={pageX:k.pageX,pageY:k.pageY},this.moveable=!0,p&&(this.endPoint={pageX:p.pageX,pageY:p.pageY}),this.originScale=this.currentScale||1)},onTouchMove:function(P){if(this.moveable){P.preventDefault();var Q=P.originalEvent.touches,k=Q[0],p=Q[1];if(p){this.endPoint||(this.endPoint={pageX:p.pageX,pageY:p.pageY});var y=function(Mt,bt){return Math.hypot(bt.x-Mt.x,bt.y-Mt.y)},B=y({x:k.pageX,y:k.pageY},{x:p.pageX,y:p.pageY})/y({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),W=this.originScale*B;this.currentScale=W;var rt=this.get("minZoom")||this.graph.get("minZoom");if(!(W>(this.get("maxZoom")||this.graph.get("maxZoom"))||W<rt)){var st=this.graph.get("canvas").getPointByClient(P.clientX,P.clientY);this.graph.zoomTo(W,{x:st.x,y:st.y}),this.graph.emit("wheelzoom",P)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(P){var Q=this,k=this.graph,p=this.fixSelectedItems;if(this.shouldUpdate.call(this,P)){P.preventDefault();var y,B=k.get("canvas").getPointByClient(P.clientX,P.clientY),W=this.get("sensitivity"),rt=k.getZoom();y=rt*(P.wheelDelta<0?1-.05*W:1/(1-.05*W));var st=this.get("minZoom")||k.get("minZoom");if(!(y>(this.get("maxZoom")||k.get("maxZoom"))||y<st)){if(this.get("enableOptimize")){var ut=this.get("optimizeZoom"),Mt=this.get("optimized"),bt=k.getNodes(),xt=k.getEdges(),Ot=bt.length,jt=xt.length;if(!Mt){for(var Dt=0;Dt<Ot;Dt++)if(!(Je=bt[Dt]).destroyed)for(var zt=(fa=Je.get("group").get("children")).length,Tt=0;Tt<zt;Tt++)(hr=fa[Tt]).destoryed||hr.get("isKeyShape")||(hr.set("ori-visibility",hr.get("ori-visibility")||hr.get("visible")),hr.hide());for(var Vt=0;Vt<jt;Vt++)for(zt=(fa=(Ki=xt[Vt]).get("group").get("children")).length,Tt=0;Tt<zt;Tt++)(hr=fa[Tt]).set("ori-visibility",hr.get("ori-visibility")||hr.get("visible")),hr.hide();this.set("optimized",!0)}clearTimeout(this.get("timeout"));var Ht=setTimeout(function(){var oa=k.getZoom();if(Q.get("optimized")){Q.set("optimized",!1);for(var pa=0;pa<Ot;pa++){var La=bt[pa],Yr=(ti=La.get("group").get("children")).length;if(oa<ut)(Pr=($r=La.getKeyShape()).get("ori-visibility"))&&$r.show();else for(var Ea=0;Ea<Yr;Ea++){var Pr=(li=ti[Ea]).get("ori-visibility");!li.get("visible")&&Pr&&Pr&&li.show()}}for(var si=0;si<jt;si++){var ti,$r,ui=xt[si];if(Yr=(ti=ui.get("group").get("children")).length,oa<ut)(Pr=($r=ui.getKeyShape()).get("ori-visibility"))&&$r.show();else for(Ea=0;Ea<Yr;Ea++){var li;(li=ti[Ea]).get("visible")||(Pr=li.get("ori-visibility"))&&li.show()}}}},100);this.set("timeout",Ht)}if(rt<=1){var re=void 0,pe=void 0;if(p.fixAll||p.fixLineWidth||p.fixLabel){re=k.findAllByState("node",p.fixState),pe=k.findAllByState("edge",p.fixState);for(var me=rt/y,Ee=re.length,Le=0;Le<Ee;Le++){var Je,On=(Je=re[Le]).getContainer(),gn=Je.getModel(),Vn=Je.getOriginStyle(),kn=Je.getStateStyle(p.fixState),Wn=Je.get("shapeFactory").getShape(gn.type).getStateStyle(p.fixState,Je)[p.fixState];if(p.fixAll){if(y<=1){var Dn=Object(n.c)(On.getMatrix());Dn||(Dn=[1,0,0,0,1,0,0,0,1]);var Nn=Je.getModel(),Qn=Nn.x,ir=Nn.y;Dn=V(Dn,[["t",-Qn,-ir],["s",me,me],["t",Qn,ir]]),On.setMatrix(Dn)}}else for(zt=(fa=On.get("children")).length,Tt=0;Tt<zt;Tt++){var hr=fa[Tt],Er=void 0,mr=void 0;if(p.fixLabel&&hr.get("type")==="text"){Er=hr.attr("fontSize")||12;var dr=kn[hr.get("name")],Br=Wn[hr.get("name")],ii=dr?dr.fontSize:12,mi=Br?Br.fontSize:12,Pi=ii||mi||12;if(y<=1&&hr.attr("fontSize",Pi/y),mr)break}if(p.fixLineWidth&&hr.get("isKeyShape")){mr=hr.attr("lineWidth")||0;var sa=kn.lineWidth||Wn.lineWidth||Vn.lineWidth||0;if(y<=1&&hr.attr("lineWidth",sa/y),Er)break}}}for(var Pa=pe.length,Mi=0;Mi<Pa;Mi++){var Ki,fa=(On=(Ki=pe[Mi]).getContainer()).get("children");for(gn=Ki.getModel(),kn=Ki.getStateStyle(p.fixState),Wn=Ki.get("shapeFactory").getShape(gn.type).getStateStyle(p.fixState,Ki)[p.fixState],zt=fa.length,Tt=0;Tt<zt&&(hr=fa[Tt],Er=void 0,mr=void 0,!((p.fixLabel||p.fixAll)&&hr.get("type")==="text"&&(Er=hr.attr("fontSize")||12,dr=kn[hr.get("name")],Br=Wn[hr.get("name")],ii=dr?dr.fontSize:12,mi=Br?Br.fontSize:12,Pi=ii||mi||12,y<=1&&hr.attr("fontSize",Pi/y),mr)||(p.fixLineWidth||p.fixAll)&&hr.get("isKeyShape")&&(mr=hr.attr("lineWidth")||0,sa=kn.lineWidth||Wn.lineWidth||1,y<=1&&hr.attr("lineWidth",sa/y),Er)));Tt++);}}}k.zoomTo(y,{x:B.x,y:B.y}),k.emit("wheelzoom",P)}}}},$=t(14),dt={onMouseEnter:function(P){var Q=P.item;this.currentTarget=Q,this.showTooltip(P),this.graph.emit("tooltipchange",{item:P.item,action:"show"})},onMouseMove:function(P){this.shouldUpdate(P)?this.currentTarget&&P.item===this.currentTarget&&this.updatePosition(P):this.hideTooltip()},onMouseLeave:function(P){this.shouldEnd(P)&&(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(P){var Q=this.container;if(P.item&&!P.item.destroyed){Q||(Q=this.createTooltip(this.graph.get("canvas")),this.container=Q);var k=this.formatText(P.item.get("model"),P);Q.innerHTML=k,Object($.c)(this.container,{visibility:"visible"}),this.updatePosition(P)}},hideTooltip:function(){Object($.c)(this.container,{visibility:"hidden"})},updatePosition:function(P){var Q=this.get("shouldBegin"),k=this.width,p=this.height,y=this.container,B=this.graph;if(Q(P)){var W=B.getPointByClient(P.clientX,P.clientY),rt=B.getCanvasByPoint(W.x,W.y),st=rt.x,ut=rt.y,Mt=y.getBoundingClientRect();st>k/2?st-=Mt.width:st+=this.offset,ut>p/2?ut-=Mt.height:ut+=this.offset;var bt=st+"px",xt=ut+"px";Object($.c)(this.container,{left:bt,top:xt,visibility:"visible"})}else Object($.c)(y,{visibility:"hidden"})},createTooltip:function(P){var Q=P.get("el");Q.style.position="relative";var k=Object($.b)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return Q.parentNode.appendChild(k),Object($.c)(k,{position:"absolute",visibility:"visible"}),this.width=P.get("width"),this.height=P.get("height"),this.container=k,this.graph.get("tooltips").push(k),k}},Z=Object(r.a)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(Q){return Q.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},dt),ct=Object(r.a)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(Q){return"source: "+Q.source+" target: "+Q.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},dt),pt=["click","dblclick"],gt={getDefaultCfg:function(){return{trigger:"click",onChange:function(){}}},getEvents:function(){var P,Q;return pt.includes(this.trigger)?Q=this.trigger:(Q="click",console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),(P={})["node:"+Q]="onNodeClick",P.touchstart="onNodeClick",P},onNodeClick:function(P){var Q=P.item,k=this.graph.findDataById(Q.get("id"));if(k){var p=k.children;if(p&&p.length!==0){var y=!k.collapsed;this.shouldBegin(P,y)&&(k.collapsed=y,Q.getModel().collapsed=y,this.graph.emit("itemcollapsed",{item:P.item,collapsed:y}),this.shouldUpdate(P,y)&&(this.onChange(Q,y),this.graph.layout()))}}}},at=g.a.calculationItemsBBox,Bt=function _(P,Q){if(Q(P)!==!1&&P){var k=P.get("combos");if(k.length===0)return!1;Object(n.f)(k,function(p){_(p,Q)})}},Lt={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(P){var Q=P.item;return!(!Q||Q.destroyed)&&!!this.shouldUpdate(this,P)&&Q.getType()==="combo"},onDragStart:function(P){var Q=this,k=this.graph,p=P.item;if(this.validationCombo(P)){this.targets=[];var y=k.findAllByState("combo",this.selectedState),B=p.get("id");y.filter(function(W){var rt=W.get("id");return B===rt}).length===0?this.targets.push(p):this.targets=y,this.activeState&&this.targets.map(function(W){var rt=W.getModel();if(rt.parentId){var st=k.findById(rt.parentId);st&&k.setItemState(st,Q.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:P.x,y:P.y},this.currentItemChildCombos=[],Bt(p,function(W){if(W.destroyed)return!1;var rt=W.getModel();return Q.currentItemChildCombos.push(rt.id),!0})}},onDrag:function(P){var Q=this;if(this.origin&&this.validationCombo(P))if(this.enableDelegate)this.updateDelegate(P);else{if(this.activeState){var k=this.graph,p=P.item,y=p.getModel(),B=k.getCombos(),W=p.getBBox(),rt=W.centerX,st=W.centerY,ut=W.width;B.filter(function(Mt){var bt=Mt.getModel();return y.parentId,bt.id!==y.id&&!Q.currentItemChildCombos.includes(bt.id)}).map(function(Mt){var bt=Mt.getBBox(),xt=bt.centerX,Ot=bt.centerY,jt=bt.width,Dt=rt-xt,zt=st-Ot,Tt=2*Math.sqrt(Dt*Dt+zt*zt);ut+jt-Tt>.8*ut?k.setItemState(Mt,Q.activeState,!0):k.setItemState(Mt,Q.activeState,!1)})}Object(n.f)(this.targets,function(Mt){Q.updateCombo(Mt,P)})}},updatePositions:function(P){var Q=this;this.enableDelegate&&Object(n.f)(this.targets,function(k){Q.updateCombo(k,P)})},onDrop:function(P){var Q=this,k=P.item;if(k&&this.targets&&!k.destroyed){this.updatePositions(P);var p=this.graph,y=k.getModel();this.targets.map(function(B){B.getModel().parentId!==y.id?(Q.activeState&&p.setItemState(k,Q.activeState,!1),Q.onlyChangeComboSize?p.updateCombo(B):p.updateComboTree(B,y.id)):p.updateCombo(k)}),this.end(k,P),this.endComparison=!0}},onNodeDrop:function(P){var Q=this;if(this.targets&&this.targets.length!==0){this.updatePositions(P);var k,p=this.graph,y=P.item.getModel().comboId;if(y){if(this.activeState){var B=p.findById(y);p.setItemState(B,this.activeState,!1)}this.targets.map(function(W){Q.onlyChangeComboSize?p.updateCombo(W):y!==W.getID()&&(k=p.findById(y),y!==W.getModel().parentId&&p.updateComboTree(W,y))})}else this.targets.map(function(W){Q.onlyChangeComboSize?p.updateCombo(W):W.getModel().comboId&&p.updateComboTree(W)});this.endComparison=!0,this.end(k,P)}},onDragEnter:function(P){if(this.origin&&this.validationCombo(P)){var Q=P.item,k=this.graph;this.activeState&&k.setItemState(Q,this.activeState,!0)}},onDragLeave:function(P){if(this.origin&&this.validationCombo(P)){var Q=P.item,k=this.graph;this.activeState&&k.setItemState(Q,this.activeState,!1)}},onDragEnd:function(P){if(this.targets&&this.targets.length!==0){var Q=P.item;this.updatePositions(P);var k=this.getParentCombo(Q.getModel().parentId),p=this.graph;k&&this.activeState&&p.setItemState(k,this.activeState,!1),this.end(void 0,P)}},end:function(P,Q){var k=this;if(this.origin){var p=this.graph;this.delegateShape&&(p.get("delegateGroup").clear(),this.delegateShape=null),P&&this.activeState&&p.setItemState(P,this.activeState,!1),P||this.targets.map(function(y){k.onlyChangeComboSize?p.updateCombo(y):p.updateComboTree(y)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(P,Q){var k=this;if(Q(P)!==!1&&P){var p=P.get("combos");Object(n.f)(p,function(B){k.traverse(B,Q)});var y=P.get("nodes");Object(n.f)(y,function(B){k.traverse(B,Q)})}},updateCombo:function(P,Q){var k=this;this.traverse(P,function(p){return!p.destroyed&&(k.updateSignleItem(p,Q),!0)})},updateSignleItem:function(P,Q){var k=this.origin,p=this.graph,y=P.getModel(),B=P.get("id");this.point[B]||(this.point[B]={x:y.x,y:y.y});var W=Q.x-k.x+this.point[B].x,rt=Q.y-k.y+this.point[B].y;p.updateItem(P,{x:W,y:rt})},getParentCombo:function(P){var Q=this.graph;if(P){var k=Q.findById(P);if(k)return k}},updateDelegate:function(P){var Q=this.graph;if(this.delegateShape){var k=P.x-this.origin.x+this.originPoint.minX,p=P.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:k,y:p})}else{var y=Q.get("delegateGroup"),B=null,W=(B=this.targets.length>1?at(this.targets):this.targets[0].getBBox()).x,rt=B.y,st=B.width,ut=B.height,Mt=B.minX,bt=B.minY;this.originPoint={x:W,y:rt,width:st,height:ut,minX:Mt,minY:bt};var xt=Object(r.a)(Object(r.a)({},s.a.delegateStyle),this.delegateStyle);this.delegateShape=y.addShape("rect",{attrs:Object(r.a)({width:B.width,height:B.height,x:B.x,y:B.y},xt),name:"combo-delegate-shape"}),this.delegate=this.delegateShape}}},Et=["click","dblclick"],K={getDefaultCfg:function(){return{trigger:"dblclick",relayout:!0}},getEvents:function(){var P,Q;return Et.includes(this.trigger)?Q=this.trigger:(Q="dblclick",console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),(P={})["combo:"+Q]="onComboClick",P},onComboClick:function(P){var Q=P.item,k=this.graph,p=this.relayout;if(Q&&!Q.destroyed&&Q.getType()==="combo"){var y=Q.getModel().id;y&&(k.collapseExpandCombo(y),p&&k.get("layout")?k.layout():k.refreshPositions())}}},ft=g.a.isPolygonsIntersect,mt=g.a.pathToPoints,yt=["drag","shift","ctrl","alt","control"],wt=["click","drag"],J=["shift","ctrl","control","alt","meta",void 0],lt=["shift","ctrl","alt","control"],it={"drag-canvas":m,"zoom-canvas":H,"drag-node":d,"activate-relations":{getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","canvas:click":"clearAllItemStates"}},setAllItemStates:function(P){var Q=P.item,k=this.graph;if(this.item=Q,this.shouldUpdate(P.item,{event:P,action:"activate"})){for(var p=this.activeState,y=this.inactiveState,B=k.getNodes(),W=k.getEdges(),rt=B.length,st=W.length,ut=0;ut<rt;ut++){var Mt=B[ut],bt=Mt.hasState("selected");this.resetSelected&&bt&&k.setItemState(Mt,"selected",!1),k.setItemState(Mt,p,!1),y&&k.setItemState(Mt,y,!0)}for(ut=0;ut<st;ut++){var xt=W[ut];k.setItemState(xt,p,!1),y&&k.setItemState(xt,y,!0)}y&&k.setItemState(Q,y,!1),k.setItemState(Q,p,!0);var Ot=Q.getEdges(),jt=Ot.length;for(ut=0;ut<jt;ut++){var Dt=void 0;Dt=(xt=Ot[ut]).getSource()===Q?xt.getTarget():xt.getSource(),y&&k.setItemState(Dt,y,!1),k.setItemState(Dt,p,!0),k.setItemState(xt,y,!1),k.setItemState(xt,p,!0),xt.toFront()}k.emit("afteractivaterelations",{item:P.item,action:"activate"})}},clearActiveState:function(P){var Q=this.get("graph");if(this.shouldUpdate(P.item,{event:P,action:"deactivate"})){var k=this.activeState,p=this.inactiveState,y=Q.get("autoPaint");Q.setAutoPaint(!1);for(var B=Q.getNodes(),W=Q.getEdges(),rt=B.length,st=W.length,ut=0;ut<rt;ut++){var Mt=B[ut];Q.clearItemStates(Mt,[k,p])}for(ut=0;ut<st;ut++){var bt=W[ut];Q.clearItemStates(bt,[k,p,"deactivate"])}Q.paint(),Q.setAutoPaint(y),Q.emit("afteractivaterelations",{item:P.item||this.get("item"),action:"deactivate"})}},clearAllItemStates:function(P){var Q=this.graph;if(this.shouldUpdate(P.item,{event:P,action:"deactivate"})){for(var k=this.activeState,p=this.inactiveState,y=Q.getNodes(),B=Q.getEdges(),W=y.length,rt=B.length,st=0;st<W;st++){var ut=y[st];Q.clearItemStates(ut,[k,p])}for(st=0;st<rt;st++){var Mt=B[st];Q.clearItemStates(Mt,[k,p,"deactivate"])}Q.emit("afteractivaterelations",{item:P.item||this.get("item"),action:"deactivate"})}}},"brush-select":O,"click-select":D,"lasso-select":{getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:"shift",includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return yt.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="shift",console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(P){var Q=this.lasso;P.item||(this.trigger==="drag"||this.keydown)&&(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),Q||(Q=this.createLasso()),this.dragging=!0,this.originPoint={x:P.x,y:P.y},this.points.push(this.originPoint),Q.show())},onDragMove:function(P){this.dragging&&(this.trigger==="drag"||this.keydown)&&(this.points.push({x:P.x,y:P.y}),this.updateLasso(P))},onDragEnd:function(P){(this.lasso||this.dragging)&&(this.trigger==="drag"||this.keydown)&&(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var P=this.points,Q=[];return P.length&&(P.forEach(function(k,p){p===0?Q.push(["M",k.x,k.y]):Q.push(["L",k.x,k.y])}),Q.push(["L",P[0].x,P[0].y])),Q},clearStates:function(){var P=this.graph,Q=this.selectedState,k=P.findAllByState("node",Q),p=P.findAllByState("edge",Q);k.forEach(function(y){return P.setItemState(y,Q,!1)}),p.forEach(function(y){return P.setItemState(y,Q,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],P.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var P=this,Q=this.graph,k=this.shouldUpdate,p=this.points.map(function(st){return[Q.getCanvasByPoint(st.x,st.y).x,Q.getCanvasByPoint(st.x,st.y).y]}),y=this.selectedState,B=[],W=[];Q.getNodes().forEach(function(st){if(function(Mt,bt){var xt,Ot=Mt.getKeyShape();if(Mt.get("type")==="path")xt=mt(Ot.attr("path"));else{var jt=Ot.getCanvasBBox();xt=[[jt.minX,jt.minY],[jt.maxX,jt.minY],[jt.maxX,jt.maxY],[jt.minX,jt.maxY]]}return ft(bt,xt)}(st,p)&&k(st,"select")){B.push(st);var ut=st.getModel();W.push(ut.id),Q.setItemState(st,y,!0)}});var rt=[];this.includeEdges&&B.forEach(function(st){st.getOutEdges().forEach(function(ut){var Mt=ut.getModel(),bt=Mt.source,xt=Mt.target;W.includes(bt)&&W.includes(xt)&&k(ut,"select")&&(rt.push(ut),Q.setItemState(ut,P.selectedState,!0))})}),this.selectedEdges=rt,this.selectedNodes=B,this.onSelect&&this.onSelect(B,rt),Q.emit("nodeselectchange",{selectedItems:{nodes:B,edges:rt},select:!0})},createLasso:function(){var P=this.graph.get("delegateGroup").addShape("path",{attrs:Object(r.a)({path:[]},this.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=P,this.delegate=P,this.points=[],P},updateLasso:function(P){this.lasso.attr({path:this.getLassoPath()})},onKeyDown:function(P){var Q=P.key;Q&&(Q.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},tooltip:Z,"edge-tooltip":ct,"collapse-expand":gt,"drag-combo":Lt,"collapse-expand-combo":K,"create-edge":{getDefaultCfg:function(){return{trigger:"click",key:void 0,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var P;return wt.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="click",console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),this.key&&J.indexOf(this.key.toLowerCase())===-1&&(this.trigger=void 0,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined")),this.trigger==="drag"?P={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:this.trigger==="click"&&(P={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),this.key&&(P.keydown="onKeyDown",P.keyup="onKeyUp"),P},onDragEnd:function(P){if(!this.key||this.keydown){var Q=P.item;Q&&Q.getID()!==this.source&&Q.getType()==="node"||this.cancelCreating({item:this.edge,x:P.x,y:P.y})}},onClick:function(P){if(!this.key||this.keydown){var Q=P.item,k=this.graph,p=Q.getModel(),y=this.getEdgeConfig;if(this.addingEdge&&this.edge){if(!this.shouldEnd.call(this,P))return;var B=void 0;B=y&&Object(n.r)(y)?y({source:this.source,target:p.id}):this.edgeConfig;var W=Object(r.a)({target:p.id},B);this.source===p.id&&(W.type="loop"),k.emit("beforecreateedge",{}),k.updateItem(this.edge,W),k.emit("aftercreateedge",{edge:this.edge}),this.edge.getKeyShape().set("capture",!0),this.edge=null,this.addingEdge=!1}else{if(!this.shouldBegin.call(this,P))return;B=void 0,B=y&&Object(n.r)(y)?y({source:p.id,target:p.id}):this.edgeConfig,this.edge=k.addItem("edge",Object(r.a)({source:p.id,target:p.id},B),!1),this.source=p.id,this.addingEdge=!0,this.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(P){if(!this.key||this.keydown){var Q={x:P.x,y:P.y};this.graph.findById(this.source)?this.addingEdge&&this.edge&&this.graph.updateItem(this.edge,{target:Q},!1):this.addingEdge=!1}},cancelCreating:function(P){if(!this.key||this.keydown){var Q=this.graph,k=P.item;if(this.addingEdge&&P.target&&P.target.isCanvas&&P.target.isCanvas())return Q.removeItem(this.edge,!1),this.edge=null,void(this.addingEdge=!1);this.addingEdge&&this.edge===k&&(Q.removeItem(this.edge,!1),this.edge=null,this.addingEdge=!1)}},onKeyDown:function(P){var Q=P.key;Q&&(Q.toLowerCase()===this.key.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.addingEdge&&this.edge&&(this.graph.removeItem(this.edge,!1),this.addingEdge=!1,this.edge=null),this.keydown=!1}},"shortcuts-call":{getDefaultCfg:function(){return{trigger:"ctrl",combinedKey:"1",functionName:"fitView",functionParams:[]}},getEvents:function(){return lt.indexOf(this.trigger.toLowerCase())>-1||(this.trigger="ctrl",console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(P){var Q=P.key;if(Q){var k=this.trigger.toLowerCase(),p=Q.toLowerCase();this.triggerKeydown||(this.triggerKeydown=p===k||p==="control"&&k==="ctrl"||p==="ctrl"&&k==="control");var y=this.graph;if(!y[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(!this.triggerKeydown||this.combinedKey){var B=this.combinedKey.toLowerCase();this.triggerKeydown&&(p===B||p==="control"&&B==="ctrl"||p==="ctrl"&&B==="control")&&(this.functionParams&&this.functionParams.length?y[this.functionName].apply(y,this.functionParams):y[this.functionName]())}else this.functionParams&&this.functionParams.length?y[this.functionName].apply(y,this.functionParams):y[this.functionName]()}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}}};Object(n.f)(it,function(_,P){Object(u.o)(P,_)})},function(i,b,t){"use strict";var n=t(1),u=t(5),g=t(0);function x(Et){return(x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K})(Et)}Object(u.r)("circle",{options:{size:u.e.defaultNode.size,style:{x:0,y:0,stroke:u.e.defaultNode.style.stroke,fill:u.e.defaultNode.style.fill,lineWidth:u.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:u.e.nodeLabel.style.fill,fontSize:u.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:u.e.defaultNode.linkPoints.size,lineWidth:u.e.defaultNode.linkPoints.lineWidth,fill:u.e.defaultNode.linkPoints.fill,stroke:u.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(n.a)({},u.e.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(K,ft){var mt=this.getOptions(K).icon,yt=mt===void 0?{}:mt,wt=this.getShapeStyle(K),J=Object(g.e)({},yt,K.icon),lt=ft.addShape("circle",{attrs:wt,className:this.type+"-keyShape",draggable:!0}),it=J.width,_=J.height;return J.show&&ft.addShape("image",{attrs:Object(n.a)({x:-it/2,y:-_/2},J),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(K,ft),lt},drawLinkPoints:function(K,ft){var mt=this.getOptions(K).linkPoints,yt=mt===void 0?{}:mt,wt=yt.top,J=yt.left,lt=yt.right,it=yt.bottom,_=yt.size,P=yt.r,Q=Object(n.c)(yt,["top","left","right","bottom","size","r"]),k=this.getSize(K)[0]/2;J&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Q),{x:-k,y:0,r:_/2||P||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),lt&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Q),{x:k,y:0,r:_/2||P||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),wt&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Q),{x:0,y:-k,r:_/2||P||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),it&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Q),{x:0,y:k,r:_/2||P||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(K){var ft=this.getOptions(K).style,mt={stroke:K.color},yt=Object(g.e)({},ft,mt),wt=this.getSize(K)[0]/2;return Object(n.a)({x:0,y:0,r:wt},yt)},update:function(K,ft){var mt=ft.getContainer(),yt=this.getSize(K),wt={stroke:K.color,r:yt[0]/2},J=ft.get("keyShape"),lt=Object(g.e)({},J.attr(),wt,K.style);this.updateShape(K,ft,lt,!0),this.updateLinkPoints(K,mt)}},"single-node"),Object(u.r)("rect",{options:{size:[100,30],style:{radius:0,stroke:u.e.defaultNode.style.stroke,fill:u.e.defaultNode.style.fill,lineWidth:u.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:u.e.nodeLabel.style.fill,fontSize:u.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:u.e.defaultNode.linkPoints.size,lineWidth:u.e.defaultNode.linkPoints.lineWidth,fill:u.e.defaultNode.linkPoints.fill,stroke:u.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(n.a)({},u.e.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(K,ft){var mt=this.getShapeStyle(K),yt=ft.addShape("rect",{attrs:mt,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(K,ft),yt},drawLinkPoints:function(K,ft){var mt=this.getOptions(K).linkPoints,yt=mt===void 0?{}:mt,wt=yt.top,J=yt.left,lt=yt.right,it=yt.bottom,_=yt.size,P=yt.r,Q=Object(n.c)(yt,["top","left","right","bottom","size","r"]),k=this.getSize(K),p=k[0],y=k[1];J&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Q),{x:-p/2,y:0,r:_/2||P||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),lt&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Q),{x:p/2,y:0,r:_/2||P||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),wt&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Q),{x:0,y:-y/2,r:_/2||P||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),it&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Q),{x:0,y:y/2,r:_/2||P||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(K){var ft=this.getOptions(K).style,mt={stroke:K.color},yt=Object(g.A)({},ft,mt),wt=this.getSize(K),J=yt.width||wt[0],lt=yt.height||wt[1];return Object(n.a)({x:-J/2,y:-lt/2,width:J,height:lt},yt)},update:function(K,ft){var mt=ft.getContainer(),yt=this.getOptions({}).style,wt=this.getSize(K),J=ft.get("keyShape");K.size||(wt[0]=J.attr("width")||yt.width,wt[1]=J.attr("height")||yt.height);var lt={stroke:K.color,x:-wt[0]/2,y:-wt[1]/2,width:wt[0],height:wt[1]},it=Object(g.A)({},yt,J.attr(),lt);it=Object(g.A)(it,K.style),this.updateShape(K,ft,it,!1),this.updateLinkPoints(K,mt)}},"single-node"),Object(u.r)("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:u.e.defaultNode.style.stroke,fill:u.e.defaultNode.style.fill,lineWidth:u.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:u.e.nodeLabel.style.fill,fontSize:u.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:u.e.defaultNode.linkPoints.size,lineWidth:u.e.defaultNode.linkPoints.lineWidth,fill:u.e.defaultNode.linkPoints.fill,stroke:u.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(n.a)({},u.e.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(K,ft){var mt=this.getOptions(K).icon,yt=mt===void 0?{}:mt,wt=this.getShapeStyle(K),J=ft.addShape("ellipse",{attrs:wt,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),lt=yt.width,it=yt.height;return yt.show&&ft.addShape("image",{attrs:Object(n.a)({x:-lt/2,y:-it/2},yt),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(K,ft),J},drawLinkPoints:function(K,ft){var mt=this.getOptions(K).linkPoints,yt=mt===void 0?{}:mt,wt=yt.top,J=yt.left,lt=yt.right,it=yt.bottom,_=yt.size,P=yt.r,Q=Object(n.c)(yt,["top","left","right","bottom","size","r"]),k=this.getSize(K),p=k[0]/2,y=k[1]/2;J&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Q),{x:-p,y:0,r:_/2||P||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),lt&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Q),{x:p,y:0,r:_/2||P||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),wt&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Q),{x:0,y:-y,r:_/2||P||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),it&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Q),{x:0,y,r:_/2||P||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(K){var ft=this.getOptions(K).style,mt={stroke:K.color},yt=Object(g.A)({},ft,mt),wt=this.getSize(K),J=wt[0]/2,lt=wt[1]/2;return Object(n.a)({x:0,y:0,rx:J,ry:lt},yt)},update:function(K,ft){var mt=ft.getContainer(),yt=this.getOptions({}).style,wt=this.getSize(K),J={stroke:K.color,rx:wt[0]/2,ry:wt[1]/2},lt=ft.get("keyShape"),it=Object(g.A)({},yt,lt.attr(),J);it=Object(g.A)(it,K.style),this.updateShape(K,ft,it,!0),this.updateLinkPoints(K,mt)}},"single-node"),Object(u.r)("diamond",{options:{size:[80,80],style:{stroke:u.e.defaultNode.style.stroke,fill:u.e.defaultNode.style.fill,lineWidth:u.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:u.e.nodeLabel.style.fill,fontSize:u.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:u.e.defaultNode.linkPoints.size,lineWidth:u.e.defaultNode.linkPoints.lineWidth,fill:u.e.defaultNode.linkPoints.fill,stroke:u.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(n.a)({},u.e.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(K,ft){var mt=this.getOptions(K).icon,yt=mt===void 0?{}:mt,wt=this.getShapeStyle(K),J=ft.addShape("path",{attrs:wt,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),lt=yt.width,it=yt.height;return yt.show&&ft.addShape("image",{attrs:Object(n.a)({x:-lt/2,y:-it/2},yt),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(K,ft),J},drawLinkPoints:function(K,ft){var mt=this.getOptions(K).linkPoints,yt=mt===void 0?{}:mt,wt=yt.top,J=yt.left,lt=yt.right,it=yt.bottom,_=yt.size,P=yt.r,Q=Object(n.c)(yt,["top","left","right","bottom","size","r"]),k=this.getSize(K),p=k[0],y=k[1];J&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Q),{x:-p/2,y:0,r:_/2||P||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),lt&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Q),{x:p/2,y:0,r:_/2||P||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),wt&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Q),{x:0,y:-y/2,r:_/2||P||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),it&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Q),{x:0,y:y/2,r:_/2||P||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(K){var ft=this.getSize(K),mt=ft[0],yt=ft[1];return[["M",0,-yt/2],["L",mt/2,0],["L",0,yt/2],["L",-mt/2,0],["Z"]]},getShapeStyle:function(K){var ft=this.getOptions(K).style,mt={stroke:K.color},yt=Object(g.A)({},ft,mt),wt=this.getPath(K);return Object(n.a)({path:wt},yt)},update:function(K,ft){var mt=ft.getContainer(),yt=this.getOptions({}).style,wt=this.getPath(K),J={stroke:K.color,path:wt},lt=ft.get("keyShape"),it=Object(g.A)({},yt,lt.attr(),J);it=Object(g.A)(it,K.style),this.updateShape(K,ft,it,!0),this.updateLinkPoints(K,mt)}},"single-node"),Object(u.r)("triangle",{options:{size:40,direction:"up",style:{stroke:u.e.defaultNode.style.stroke,fill:u.e.defaultNode.style.fill,lineWidth:u.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:u.e.nodeLabel.style.fill,fontSize:u.e.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:u.e.defaultNode.linkPoints.size,lineWidth:u.e.defaultNode.linkPoints.lineWidth,fill:u.e.defaultNode.linkPoints.fill,stroke:u.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:Object(n.a)({},u.e.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(K,ft){var mt=this.getOptions(K),yt=mt.icon,wt=yt===void 0?{}:yt,J=mt.direction,lt=this.getShapeStyle(K),it=K.direction||J,_=ft.addShape("path",{attrs:lt,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),P=wt.width,Q=wt.height,k=wt.show,p=wt.offset;if(k){var y=-P/2,B=-Q/2;it!=="up"&&it!=="down"||(B+=p),it!=="left"&&it!=="right"||(y+=p),ft.addShape("image",{attrs:Object(n.a)({x:y,y:B},wt),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(K,ft),_},drawLinkPoints:function(K,ft){var mt=this.getOptions(K),yt=mt.linkPoints,wt=yt===void 0?{}:yt,J=mt.direction,lt=K.direction||J,it=wt.top,_=wt.left,P=wt.right,Q=wt.bottom,k=wt.size,p=wt.r,y=Object(n.c)(wt,["top","left","right","bottom","size","r"]),B=this.getSize(K)[0];if(_){var W=null,rt=B*Math.sin(1/3*Math.PI),st=B*Math.sin(1/3*Math.PI);lt==="up"?W=[-st,rt]:lt==="down"?W=[-st,-rt]:lt==="left"&&(W=[-st,st-rt]),W&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},y),{x:W[0],y:W[1],r:k/2||p||5}),className:"link-point-left",name:"link-point-left"})}if(P){var ut=null;rt=B*Math.sin(1/3*Math.PI),st=B*Math.sin(1/3*Math.PI),lt==="up"?ut=[st,rt]:lt==="down"?ut=[st,-rt]:lt==="right"&&(ut=[st,st-rt]),ut&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},y),{x:ut[0],y:ut[1],r:k/2||p||5}),className:"link-point-right",name:"link-point-right"})}if(it){var Mt=null;rt=B*Math.sin(1/3*Math.PI),st=B*Math.sin(1/3*Math.PI),lt==="up"?Mt=[st-rt,-rt]:lt==="left"?Mt=[st,-rt]:lt==="right"&&(Mt=[-st,-rt]),Mt&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},y),{x:Mt[0],y:Mt[1],r:k/2||p||5}),className:"link-point-top",name:"link-point-top"})}if(Q){var bt=null;rt=B*Math.sin(1/3*Math.PI),st=B*Math.sin(1/3*Math.PI),lt==="down"?bt=[-st+rt,rt]:lt==="left"?bt=[st,rt]:lt==="right"&&(bt=[-st,rt]),bt&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},y),{x:bt[0],y:bt[1],r:k/2||p||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(K){var ft=this.getOptions(K).direction,mt=K.direction||ft,yt=this.getSize(K)[0],wt=yt*Math.sin(1/3*Math.PI),J=yt*Math.sin(1/3*Math.PI),lt=[["M",-J,wt],["L",0,-wt],["L",J,wt],["Z"]];return mt==="down"?lt=[["M",-J,-wt],["L",J,-wt],["L",0,wt],["Z"]]:mt==="left"?lt=[["M",-J,J-wt],["L",J,-J],["L",J,J],["Z"]]:mt==="right"&&(lt=[["M",J,J-wt],["L",-J,J],["L",-J,-J],["Z"]]),lt},getShapeStyle:function(K){var ft=this.getOptions(K).style,mt={stroke:K.color},yt=Object(g.A)({},ft,mt),wt=this.getPath(K);return Object(n.a)({path:wt},yt)},update:function(K,ft){var mt=ft.getContainer(),yt=this.getOptions({}).style,wt=this.getPath(K),J={stroke:K.color,path:wt},lt=ft.get("keyShape"),it=Object(g.A)({},yt,lt.attr(),J);it=Object(g.A)(it,K.style),this.updateShape(K,ft,it,!0),this.updateLinkPoints(K,mt)},updateLinkPoints:function(K,ft){var mt=this.getOptions({}),yt=mt.linkPoints,wt=mt.direction,J=K.direction||wt,lt=ft.find(function(pe){return pe.get("className")==="link-point-left"}),it=ft.find(function(pe){return pe.get("className")==="link-point-right"}),_=ft.find(function(pe){return pe.get("className")==="link-point-top"}),P=ft.find(function(pe){return pe.get("className")==="link-point-bottom"}),Q=yt,k=lt||it||_||P;k&&(Q=k.attr());var p=Object(g.A)({},Q,K.linkPoints),y=p.fill,B=p.stroke,W=p.lineWidth,rt=p.size/2;rt||(rt=p.r);var st=K.linkPoints?K.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},ut=st.left,Mt=st.right,bt=st.top,xt=st.bottom,Ot=this.getSize(K)[0],jt={r:rt,fill:y,stroke:B,lineWidth:W},Dt=null,zt=Ot*Math.sin(1/3*Math.PI),Tt=Ot*Math.sin(1/3*Math.PI);J==="up"?Dt=[-Tt,zt]:J==="down"?Dt=[-Tt,-zt]:J==="left"&&(Dt=[-Tt,Tt-zt]),Dt&&(lt?ut||ut===void 0?lt.attr(Object(n.a)(Object(n.a)({},jt),{x:Dt[0],y:Dt[1]})):lt.remove():ut&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},jt),{x:Dt[0],y:Dt[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var Vt=null;J==="up"?Vt=[Tt,zt]:J==="down"?Vt=[Tt,-zt]:J==="right"&&(Vt=[Tt,Tt-zt]),Vt&&(it?Mt||Mt===void 0?it.attr(Object(n.a)(Object(n.a)({},jt),{x:Vt[0],y:Vt[1]})):it.remove():Mt&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},jt),{x:Vt[0],y:Vt[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var Ht=null;J==="up"?Ht=[Tt-zt,-zt]:J==="left"?Ht=[Tt,-zt]:J==="right"&&(Ht=[-Tt,-zt]),Ht&&(_?bt||bt===void 0?_.attr(Object(n.a)(Object(n.a)({},jt),{x:Ht[0],y:Ht[1]})):_.remove():bt&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},jt),{x:Ht[0],y:Ht[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var re=null;J==="down"?re=[-Tt+zt,zt]:J==="left"?re=[Tt,zt]:J==="right"&&(re=[-Tt,zt]),re&&(P?xt||xt===void 0?P.attr(Object(n.a)(Object(n.a)({},jt),{x:re[0],y:re[1]})):P.remove():xt&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},jt),{x:re[0],y:re[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),Object(u.r)("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:u.e.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(K,ft){var mt=this.getOptions(K).preRect,yt=mt===void 0?{}:mt,wt=this.getShapeStyle(K),J=this.getSize(K),lt=J[0],it=J[1],_=ft.addShape("rect",{attrs:wt,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),P=yt.show,Q=Object(n.c)(yt,["show"]);return P&&ft.addShape("rect",{attrs:Object(n.a)({x:-lt/2,y:-it/2,height:it},Q),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(K,ft),this.drawStateIcon(K,ft),this.drawLinkPoints(K,ft),_},drawLogoIcon:function(K,ft){var mt=this.getOptions(K).logoIcon,yt=mt===void 0?{}:mt,wt=this.getSize(K)[0];if(yt.show){var J=yt.width,lt=yt.height,it=yt.x,_=yt.y,P=yt.offset,Q=Object(n.c)(yt,["width","height","x","y","offset"]);ft.addShape("image",{attrs:Object(n.a)(Object(n.a)({},Q),{x:it||-wt/2+J+P,y:_||-lt/2,width:J,height:lt}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(K,ft){var mt=this.getOptions(K).stateIcon,yt=mt===void 0?{}:mt,wt=this.getSize(K)[0];if(yt.show){var J=yt.width,lt=yt.height,it=yt.x,_=yt.y,P=yt.offset,Q=Object(n.c)(yt,["width","height","x","y","offset"]);ft.addShape("image",{attrs:Object(n.a)(Object(n.a)({},Q),{x:it||wt/2-J+P,y:_||-lt/2,width:J,height:lt}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(K,ft){var mt=this.getOptions(K).linkPoints,yt=mt===void 0?{}:mt,wt=yt.top,J=yt.left,lt=yt.right,it=yt.bottom,_=yt.size,P=yt.r,Q=Object(n.c)(yt,["top","left","right","bottom","size","r"]),k=this.getSize(K),p=k[0],y=k[1];J&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Q),{x:-p/2,y:0,r:_/2||P||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),lt&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Q),{x:p/2,y:0,r:_/2||P||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),wt&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Q),{x:0,y:-y/2,r:_/2||P||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),it&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Q),{x:0,y:y/2,r:_/2||P||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(K,ft){var mt=this.getOptions(K),yt=mt.labelCfg,wt=yt===void 0?{}:yt,J=mt.logoIcon,lt=J===void 0?{}:J,it=mt.descriptionCfg,_=it===void 0?{}:it,P=this.getSize(K)[0],Q=null,k=lt.show,p=lt.width,y=-P/2+wt.offset;k&&(y=-P/2+p+wt.offset);var B=wt.style,W=_.style,rt=_.paddingTop;return Object(g.x)(K.description)?(Q=ft.addShape("text",{attrs:Object(n.a)(Object(n.a)({},B),{x:y,y:-5,text:K.label}),className:"text-shape",name:"text-shape",draggable:!0}),ft.addShape("text",{attrs:Object(n.a)(Object(n.a)({},W),{x:y,y:17+(rt||0),text:K.description}),className:"rect-description",name:"rect-description",draggable:!0})):Q=ft.addShape("text",{attrs:Object(n.a)(Object(n.a)({},B),{x:y,y:7,text:K.label}),className:"text-shape",name:"text-shape",draggable:!0}),Q},getShapeStyle:function(K){var ft=this.getOptions(K).style,mt={stroke:K.color},yt=Object(g.A)({},ft,mt),wt=this.getSize(K),J=yt.width||wt[0],lt=yt.height||wt[1];return Object(n.a)({x:-J/2,y:-lt/2,width:J,height:lt},yt)},update:function(K,ft){var mt=this.getOptions(K),yt=mt.style,wt=yt===void 0?{}:yt,J=mt.labelCfg,lt=J===void 0?{}:J,it=mt.descriptionCfg,_=it===void 0?{}:it,P=this.getSize(K),Q=P[0],k=P[1];ft.get("keyShape").attr(Object(n.a)(Object(n.a)({},wt),{x:-Q/2,y:-k/2,width:Q,height:k}));var p=ft.getContainer(),y=p.find(function(Dn){return Dn.get("className")==="rect-logo-icon"}),B=y?y.attr():{},W=Object(g.A)({},B,K.logoIcon),rt=W.width;rt===void 0&&(rt=this.options.logoIcon.width);var st=K.logoIcon?K.logoIcon.show:void 0,ut=lt.offset,Mt=-Q/2+rt+ut;st||st===void 0||(Mt=-Q/2+ut);var bt=p.find(function(Dn){return Dn.get("className")==="node-label"}),xt=p.find(function(Dn){return Dn.get("className")==="rect-description"});if(K.label)if(bt){var Ot=K.labelCfg?K.labelCfg.style:{},jt=Object(g.A)({},bt.attr(),Ot);K.label&&(jt.text=K.label),jt.x=Mt,Object(g.x)(K.description)&&(jt.y=-5),xt&&(xt.resetMatrix(),xt.attr({x:Mt})),bt.resetMatrix(),bt.attr(jt)}else p.addShape("text",{attrs:Object(n.a)(Object(n.a)({},lt.style),{x:Mt,y:K.description?-5:7,text:K.label}),className:"node-label",name:"node-label",draggable:!0});if(Object(g.x)(K.description)){var Dt=_.paddingTop;if(xt){Ot=K.descriptionCfg?K.descriptionCfg.style:{};var zt=Object(g.A)({},xt.attr(),Ot);Object(g.x)(K.description)&&(zt.text=K.description),zt.x=Mt,xt.resetMatrix(),xt.attr(Object(n.a)(Object(n.a)({},zt),{y:17+(Dt||0)}))}else p.addShape("text",{attrs:Object(n.a)(Object(n.a)({},_.style),{x:Mt,y:17+(Dt||0),text:K.description}),className:"rect-description",name:"rect-description",draggable:!0})}var Tt=p.find(function(Dn){return Dn.get("className")==="pre-rect"});if(Tt){var Vt=Object(g.A)({},Tt.attr(),K.preRect);Tt.attr(Object(n.a)(Object(n.a)({},Vt),{x:-Q/2,y:-k/2,height:k}))}if(y)if(st||st===void 0){var Ht=W.width,re=W.height,pe=W.x,me=W.y,Ee=W.offset,Le=Object(n.c)(W,["width","height","x","y","offset"]);y.attr(Object(n.a)(Object(n.a)({},Le),{x:pe||-Q/2+Ht+Ee,y:me||-re/2,width:Ht,height:re}))}else y.remove();else st&&this.drawLogoIcon(K,p);var Je=p.find(function(Dn){return Dn.get("className")==="rect-state-icon"}),On=Je?Je.attr():{},gn=Object(g.A)({},On,K.stateIcon);if(Je){gn.show||gn.show===void 0||Je.remove();var Vn=gn.width,kn=(re=gn.height,pe=gn.x,me=gn.y,gn.offset),Wn=Object(n.c)(gn,["width","height","x","y","offset"]);Je.attr(Object(n.a)(Object(n.a)({},Wn),{x:pe||Q/2-Vn+kn,y:me||-re/2,width:Vn,height:re}))}else gn.show&&this.drawStateIcon(K,p);this.updateLinkPoints(K,p)}},"single-node"),Object(u.r)("star",{options:{size:60,style:{stroke:u.e.defaultNode.style.stroke,fill:u.e.defaultNode.style.fill,lineWidth:u.e.defaultNode.style.lineWidth},labelCfg:{style:{fill:u.e.nodeLabel.style.fill,fontSize:u.e.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:u.e.defaultNode.linkPoints.size,lineWidth:u.e.defaultNode.linkPoints.lineWidth,fill:u.e.defaultNode.linkPoints.fill,stroke:u.e.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(n.a)({},u.e.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(K,ft){var mt=this.getOptions(K).icon,yt=mt===void 0?{}:mt,wt=this.getShapeStyle(K),J=ft.addShape("path",{attrs:wt,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),lt=yt.width,it=yt.height;return yt.show&&ft.addShape("image",{attrs:Object(n.a)({x:-lt/2,y:-it/2},yt),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}),this.drawLinkPoints(K,ft),J},drawLinkPoints:function(K,ft){var mt=this.getOptions(K).linkPoints,yt=mt===void 0?{}:mt,wt=yt.top,J=yt.left,lt=yt.right,it=yt.leftBottom,_=yt.rightBottom,P=yt.size,Q=yt.r,k=Object(n.c)(yt,["top","left","right","leftBottom","rightBottom","size","r"]),p=this.getSize(K)[0];if(lt){var y=Math.cos(.1*Math.PI)*p,B=Math.sin(.1*Math.PI)*p;ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},k),{x:y,y:-B,r:P/2||Q||5}),className:"link-point-right",name:"link-point-right"})}wt&&(y=Math.cos(.5*Math.PI)*p,B=Math.sin(.5*Math.PI)*p,ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},k),{x:y,y:-B,r:P/2||Q||5}),className:"link-point-top",name:"link-point-top"})),J&&(y=Math.cos(.9*Math.PI)*p,B=Math.sin(.9*Math.PI)*p,ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},k),{x:y,y:-B,r:P/2||Q||5}),className:"link-point-left",name:"link-point-left"})),it&&(y=Math.cos(1.3*Math.PI)*p,B=Math.sin(1.3*Math.PI)*p,ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},k),{x:y,y:-B,r:P/2||Q||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})),_&&(y=Math.cos(1.7*Math.PI)*p,B=Math.sin(1.7*Math.PI)*p,ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},k),{x:y,y:-B,r:P/2||Q||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"}))},getPath:function(K){for(var ft=this.getSize(K)[0],mt=3*ft/8,yt=K.innerR||mt,wt=[],J=0;J<5;J++){var lt=Math.cos((18+72*J)/180*Math.PI)*ft,it=Math.sin((18+72*J)/180*Math.PI)*ft,_=Math.cos((54+72*J)/180*Math.PI)*yt,P=Math.sin((54+72*J)/180*Math.PI)*yt;J===0?wt.push(["M",lt,-it]):wt.push(["L",lt,-it]),wt.push(["L",_,-P])}return wt.push(["Z"]),wt},getShapeStyle:function(K){var ft=this.getOptions(K).style,mt={stroke:K.color},yt=Object(g.A)({},ft,mt),wt=this.getPath(K);return Object(n.a)({path:wt},yt)},update:function(K,ft){var mt=ft.getContainer(),yt=this.getOptions({}).style,wt=this.getPath(K),J={stroke:K.color,path:wt},lt=ft.get("keyShape"),it=Object(g.A)({},yt,lt.attr(),J);it=Object(g.A)(it,K.style),this.updateShape(K,ft,it,!0),this.updateLinkPoints(K,mt)},updateLinkPoints:function(K,ft){var mt=this.getOptions({}).linkPoints,yt=ft.find(function(zt){return zt.get("className")==="link-point-left"}),wt=ft.find(function(zt){return zt.get("className")==="link-point-right"}),J=ft.find(function(zt){return zt.get("className")==="link-point-top"}),lt=ft.find(function(zt){return zt.get("className")==="link-point-left-bottom"}),it=ft.find(function(zt){return zt.get("className")==="link-point-right-bottom"}),_=mt,P=yt||wt||J||lt||it;P&&(_=P.attr());var Q=Object(g.A)({},_,K.linkPoints),k=Q.fill,p=Q.stroke,y=Q.lineWidth,B=Q.size/2;B||(B=Q.r);var W=K.linkPoints?K.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},rt=W.left,st=W.right,ut=W.top,Mt=W.leftBottom,bt=W.rightBottom,xt=this.getSize(K)[0],Ot={r:B,fill:k,stroke:p,lineWidth:y},jt=Math.cos(.1*Math.PI)*xt,Dt=Math.sin(.1*Math.PI)*xt;wt?st||st===void 0?wt.attr(Object(n.a)(Object(n.a)({},Ot),{x:jt,y:-Dt})):wt.remove():st&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Ot),{x:jt,y:-Dt}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),jt=Math.cos(.5*Math.PI)*xt,Dt=Math.sin(.5*Math.PI)*xt,J?ut||ut===void 0?J.attr(Object(n.a)(Object(n.a)({},Ot),{x:jt,y:-Dt})):J.remove():ut&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Ot),{x:jt,y:-Dt}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),jt=Math.cos(.9*Math.PI)*xt,Dt=Math.sin(.9*Math.PI)*xt,yt?rt||rt===void 0?yt.attr(Object(n.a)(Object(n.a)({},Ot),{x:jt,y:-Dt})):yt.remove():rt&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Ot),{x:jt,y:-Dt}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),jt=Math.cos(1.3*Math.PI)*xt,Dt=Math.sin(1.3*Math.PI)*xt,lt?Mt||Mt===void 0?lt.attr(Object(n.a)(Object(n.a)({},Ot),{x:jt,y:-Dt})):lt.remove():Mt&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Ot),{x:jt,y:-Dt}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),jt=Math.cos(1.7*Math.PI)*xt,Dt=Math.sin(1.7*Math.PI)*xt,it?bt||bt===void 0?it.attr(Object(n.a)(Object(n.a)({},Ot),{x:jt,y:-Dt})):lt.remove():bt&&ft.addShape("circle",{attrs:Object(n.a)(Object(n.a)({},Ot),{x:jt,y:-Dt}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node");var c=function(K){var ft=K.x,mt=K.y;return{x:ft,y:mt,centerX:ft,centerY:mt,minX:ft,minY:mt,maxX:ft,maxY:mt,height:0,width:0}},w=function(K,ft){return 2*Math.abs(K.centerX-ft.centerX)<K.width+ft.width&&2*Math.abs(K.centerY-ft.centerY)<K.height+ft.height},I=function(K){for(var ft=[],mt={},yt=K.length,wt=0;wt<yt;wt++){var J=K[wt];J.id=J.x+"|||"+J.y,mt[J.id]=J,ft.push(J)}return ft},m=function(K){return K=I(K)},r=function(K,ft){return[K,{x:K.x,y:ft.y},ft]},s=function(K,ft){return K.width===0&&K.height===0?K:{centerX:K.centerX,centerY:K.centerY,minX:K.minX-ft,minY:K.minY-ft,maxX:K.maxX+ft,maxY:K.maxY+ft,height:K.height+2*ft,width:K.width+2*ft}},d=function(K,ft,mt){var yt=function(lt,it){var _=Math.abs(lt.x-it.centerX),P=Math.abs(lt.y-it.centerY);return _===0&&P===0?0:_/it.width>P/it.height}(ft,K);if(yt===0){var wt=K.centerX,J=K.centerY;return mt.y<ft.y?J=K.minY:mt.x>ft.x?wt=K.maxX:mt.x<ft.x?wt=K.minX:mt.x===ft.x&&(J=K.maxY),{x:wt,y:J}}return yt?{x:ft.x>K.centerX?K.maxX:K.minX,y:ft.y}:{x:ft.x,y:ft.y>K.centerY?K.maxY:K.minY}},C=function(K,ft){var mt=Math.min(K.minX,ft.minX),yt=Math.min(K.minY,ft.minY),wt=Math.max(K.maxX,ft.maxX),J=Math.max(K.maxY,ft.maxY);return{centerX:(mt+wt)/2,centerY:(yt+J)/2,minX:mt,minY:yt,maxX:wt,maxY:J,height:J-yt,width:wt-mt}},S=function(K){var ft=K.minX,mt=K.minY,yt=K.maxX,wt=K.maxY;return[{x:ft,y:mt},{x:yt,y:mt},{x:yt,y:wt},{x:ft,y:wt}]},A=function(K,ft){var mt=K.x,yt=K.y;return mt<ft.minX||mt>ft.maxX||yt<ft.minY||yt>ft.maxY},f=function(K,ft){return Math.abs(K.x-ft.x)+Math.abs(K.y-ft.y)},O=function(K,ft,mt,yt,wt){return f(K,ft)+f(K,mt)+function(J,lt){var it=0;return lt.forEach(function(_){_&&(J.x===_.x&&(it+=-2),J.y===_.y&&(it+=-2))}),it}(K,[ft,mt,yt,wt])},j=function(K,ft,mt,yt){var wt=mt.x-K.x,J=mt.y-K.y,lt=yt.x-K.x,it=yt.y-K.y,_=mt.x-ft.x,P=mt.y-ft.y,Q=yt.x-ft.x,k=yt.y-ft.y;return(wt*it-J*lt)*(_*k-P*Q)<=0&&(wt*P-J*_)*(lt*k-it*Q)<=0},D=function(K,ft,mt){if(mt.width===0&&mt.height===0)return!1;var yt=S(mt),wt=yt[0],J=yt[1],lt=yt[2],it=yt[3];return j(K,ft,wt,J)||j(K,ft,wt,it)||j(K,ft,J,lt)||j(K,ft,lt,it)},V=function(K,ft,mt,yt,wt,J,lt){var it=[],_=[ft],P={},Q={},k={};Q[ft.id]=0,k[ft.id]=O(ft,mt,ft);var p={};K.forEach(function(W){p[W.id]=W});for(var y=function(){var rt,st,ut,Mt,bt=1/0;if(_.forEach(function(Ot){k[Ot.id]<bt&&(bt=k[Ot.id],rt=Ot)}),rt===mt){var xt=[];return function Ot(jt,Dt,zt,Tt,Vt){Vt===void 0&&(Vt=0),jt.unshift(Dt[Tt]),zt[Tt]&&zt[Tt]!==Tt&&Vt<=100&&Ot(jt,Dt,zt,zt[Tt],Vt+1)}(xt,p,P,mt.id),{value:xt}}ut=rt,(Mt=(st=_).indexOf(ut))>-1&&st.splice(Mt,1),it.push(rt),function(Ot,jt,Dt,zt){var Tt=[];return Ot.forEach(function(Vt){Vt!==jt&&(Vt.x!==jt.x&&Vt.y!==jt.y||D(Vt,jt,Dt)||D(Vt,jt,zt)||Tt.push(Vt))}),I(Tt)}(K,rt,yt,wt).forEach(function(Ot){if(it.indexOf(Ot)===-1){_.indexOf(Ot)===-1&&_.push(Ot);var jt=k[rt.id]+f(rt,Ot);Q[Ot.id]&&jt>=Q[Ot.id]||(P[Ot.id]=rt.id,Q[Ot.id]=jt,k[Ot.id]=Q[Ot.id]+O(Ot,mt,ft,J,lt))}})};_.length;){var B=y();if(x(B)==="object")return B.value}return[ft,mt]},H=function(K,ft){var mt=[],yt=K[0];return mt.push("M"+yt.x+" "+yt.y),K.forEach(function(wt,J){var lt=K[J+1],it=K[J+2];if(lt&&it)if(function(k,p,y){return!(k.x===p.x&&p.x===y.x||k.y===p.y&&p.y===y.y)}(wt,lt,it)){var _=function(k,p,y,B){var W=f(k,p),rt=f(y,p);return W<B&&(B=W),rt<B&&(B=rt),[{x:p.x-B/W*(p.x-k.x),y:p.y-B/W*(p.y-k.y)},{x:p.x-B/rt*(p.x-y.x),y:p.y-B/rt*(p.y-y.y)}]}(wt,lt,it,ft),P=_[0],Q=_[1];mt.push("L"+P.x+" "+P.y),mt.push("Q"+lt.x+" "+lt.y+" "+Q.x+" "+Q.y),mt.push("L"+Q.x+" "+Q.y)}else mt.push("L"+lt.x+" "+lt.y);else lt&&mt.push("L"+lt.x+" "+lt.y)}),mt.join("")},$=function(K,ft,mt,yt,wt){var J,lt;if(mt&&mt.getType()?mt.getType()==="combo"?((J=mt.getKeyShape().getCanvasBBox()||c(K)).centerX=(J.minX+J.maxX)/2,J.centerY=(J.minY+J.maxY)/2):J=mt.getBBox():J=c(K),yt&&yt.getType()?yt.getType()==="combo"?((lt=yt.getKeyShape().getCanvasBBox()||c(ft)).centerX=(lt.minX+lt.maxX)/2,lt.centerY=(lt.minY+lt.maxY)/2):lt=yt&&yt.getBBox():lt=c(ft),w(J,lt))return m(r(K,ft));var it=s(J,wt),_=s(lt,wt);if(w(it,_))return m(r(K,ft));var P=d(it,K,ft),Q=d(_,ft,K),k=function(st){st===void 0&&(st=[]);var ut=[],Mt=[];st.forEach(function(Dt){ut.push(Dt.x),Mt.push(Dt.y)});var bt=Math.min.apply(Math,ut),xt=Math.max.apply(Math,ut),Ot=Math.min.apply(Math,Mt),jt=Math.max.apply(Math,Mt);return{centerX:(bt+xt)/2,centerY:(Ot+jt)/2,maxX:xt,maxY:jt,minX:bt,minY:Ot,height:jt-Ot,width:xt-bt}}([P,Q]),p=C(it,k),y=C(_,k),B=[];B=(B=B.concat(S(p))).concat(S(y));var W={x:(K.x+ft.x)/2,y:(K.y+ft.y)/2};[k,p,y].forEach(function(st){B=B.concat(function(ut,Mt){return function(bt,xt){return xt<bt.minX||xt>bt.maxX?[]:[{x:xt,y:bt.minY},{x:xt,y:bt.maxY}]}(ut,Mt.x).concat(function(bt,xt){return xt<bt.minY||xt>bt.maxY?[]:[{x:bt.minX,y:xt},{x:bt.maxX,y:xt}]}(ut,Mt.y))}(st,W).filter(function(ut){return A(ut,it)&&A(ut,_)}))}),[{x:P.x,y:Q.y},{x:Q.x,y:P.y}].forEach(function(st){A(st,it)&&A(st,_)&&B.push(st)}),B.unshift(P),B.push(Q),B=I(B);var rt=V(B,P,Q,J,lt,K,ft);return rt.unshift(K),rt.push(ft),m(rt)};function dt(Et){return(dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K})(Et)}var Z={offset:20,maxAllowedDirectionChange:90,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:function(K,ft){return Math.abs(K.x-ft.x)+Math.abs(K.y-ft.y)},fallbackRoute:function(K,ft,mt,yt,wt){return m($(K,ft,mt,yt,wt.offset))}},ct=function(K,ft){var mt=Math.floor(Math.abs(K/ft));return mt<0?0:(K<0?-1:1)*mt},pt=function(K,ft){var mt=ft.x-K.x,yt=ft.y-K.y;return mt||yt?(360+180*Math.atan2(yt,mt)/Math.PI)%360:0},gt=function(K,ft){var mt=Math.abs(K-ft);return mt>180?360-mt:mt},at=function(K,ft,mt){for(var yt=1/0,wt=0,J=ft.length;wt<J;wt++){var lt=mt(K,ft[wt]);lt<yt&&(yt=lt)}return yt},Bt=function(K,ft,mt,yt,wt){var J=[];if(!mt)return J;var lt=wt.directions,it=wt.offset,_=mt.getBBox(),P=ft.x>_.minX&&ft.x<_.maxX&&ft.y>_.minY&&ft.y<_.maxY,Q=s(_,it);for(var k in Q)Q[k]=ct(Q[k],wt.gridSize);if(P)for(var p=0,y=lt;p<y.length;p++){var B=y[p],W=[[{x:Q.minX,y:Q.minY},{x:Q.maxX,y:Q.minY}],[{x:Q.minX,y:Q.minY},{x:Q.minX,y:Q.maxY}],[{x:Q.maxX,y:Q.minY},{x:Q.maxX,y:Q.maxY}],[{x:Q.minX,y:Q.maxY},{x:Q.maxX,y:Q.maxY}]];for(k=0;k<4;k++){var rt,st=W[k];(rt=u.n.getLineIntersect(K,{x:K.x+B.stepX*Q.width,y:K.y+B.stepY*Q.height},st[0],st[1]))&&!D(K,rt,_)&&(rt.id=rt.x+"|||"+rt.y,J.push(rt))}}else(rt=d(Q,K,yt)).id=rt.x+"|||"+rt.y,J.push(rt);return J},Lt=function(K,ft,mt,yt,wt){var J=Object(g.e)(Z,wt);J.obstacles=J.obstacles||[];var lt=function(Ot,jt,Dt){var zt={};return Ot.forEach(function(Tt){if(Tt)for(var Vt=s(Tt.getBBox(),Dt),Ht=ct(Vt.minX,jt);Ht<=ct(Vt.maxX,jt);Ht+=1)for(var re=ct(Vt.minY,jt);re<=ct(Vt.maxY,jt);re+=1)zt[Ht+"|||"+re]=!0}),zt}(J.obstacles.concat([mt,yt]),J.gridSize,J.offset),it={x:ct(K.x,J.gridSize),y:ct(K.y,J.gridSize)},_={x:ct(ft.x,J.gridSize),y:ct(ft.y,J.gridSize)};K.id=it.x+"|||"+it.y,ft.id=_.x+"|||"+_.y;var P=Bt(it,K,mt,_,J),Q=Bt(_,ft,yt,it,J);P.forEach(function(Ot){delete lt[Ot.id]}),Q.forEach(function(Ot){delete lt[Ot.id]});for(var k={},p={},y={},B={},W={},rt=0;rt<P.length;rt++){var st=P[rt];k[st.id]=st,B[st.id]=0,W[st.id]=at(st,Q,J.distFunc)}for(var ut=function(jt,Dt){var zt,Tt=pt(jt,Dt);if(y[jt.id]){var Vt=pt({x:parseFloat(y[jt.id].split("|||")[0]),y:parseFloat(y[jt.id].split("|||")[1])},jt);zt=gt(Vt,Tt)}else{var Ht=pt(it,jt);zt=gt(Ht,Tt)}return zt},Mt=J.maximumLoops,bt=function(){var jt,Dt=1/0;for(var zt in k)W[zt]<=Dt&&(Dt=W[zt],jt=k[zt]);if(!jt)return"break";if(Q.findIndex(function(Ee){return Ee.x===jt.x&&Ee.y===jt.y})>-1)return{value:function(Ee){var Le=[ft],Je={x:parseFloat(Ee.split("|||")[0]),y:parseFloat(Ee.split("|||")[1]),id:Ee};for(ut(Je,_)&&Le.unshift({x:Je.x===_.x?ft.x:Je.x*J.gridSize,y:Je.y===_.y?ft.y:Je.y*J.gridSize});y[Ee]&&y[Ee]!==Ee;){var On={x:parseFloat(Ee.split("|||")[0]),y:parseFloat(Ee.split("|||")[1]),id:Ee},gn=y[Ee],Vn={x:parseFloat(gn.split("|||")[0]),y:parseFloat(gn.split("|||")[1]),id:gn};ut(Vn,On)&&Le.unshift({x:Vn.x===On.x?Le[0].x:Vn.x*J.gridSize,y:Vn.y===On.y?Le[0].y:Vn.y*J.gridSize}),Ee=gn}var kn=parseFloat(Ee.split("|||")[0]),Wn=parseFloat(Ee.split("|||")[1]);return Le[0].x=kn===it.x?K.x:Le[0].x,Le[0].y=Wn===it.y?K.y:Le[0].y,Le.unshift(K),Le}(jt.id)};delete k[jt.id],p[jt.id]=!0;for(var Tt=0;Tt<J.directions.length;Tt++){var Vt=J.directions[Tt],Ht={x:jt.x+Vt.stepX,y:jt.y+Vt.stepY,id:jt.x+Vt.stepX+"|||"+(jt.y+Vt.stepY)};if(!p[Ht.id]){var re=ut(jt,Ht);if(!(re>J.maxAllowedDirectionChange||lt[Ht.id])){k[Ht.id]||(k[Ht.id]=Ht);var pe=J.distFunc(jt,Ht)+(isNaN(J.penalties[re])?J.gridSize:J.penalties[re]),me=B[jt.id]+pe;B[Ht.id]&&me>=B[Ht.id]||(y[Ht.id]=jt.id,B[Ht.id]=me,W[Ht.id]=me+at(Ht,Q,J.distFunc))}}}Mt-=1};Object.keys(k).length>0&&Mt>0;){var xt=bt();if(dt(xt)==="object")return xt.value;if(xt==="break")break}return J.fallbackRoute(K,ft,mt,yt,J)};Object(u.q)("polyline",{options:{color:u.e.defaultEdge.color,size:u.e.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:u.e.defaultEdge.style.stroke,lineAppendWidth:u.e.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:u.e.edgeLabel.style.fill,fontSize:u.e.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:90,maximumLoops:500,gridSize:10},stateStyles:Object(n.a)({},u.e.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(K,ft){var mt=this.getShapeStyle(K);return mt.radius===0&&delete mt.radius,ft.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:mt})},getShapeStyle:function(K){var ft=this.options.style,mt={stroke:K.color},yt=Object(g.A)({},ft,mt,K.style);K=this.getPathPoints(K),this.radius=yt.radius,this.offset=yt.offset;var wt=K.startPoint,J=K.endPoint,lt=this.getControlPoints(K),it=[wt];lt&&(it=it.concat(lt)),it.push(J);var _=K.sourceNode,P=K.targetNode,Q=yt.radius,k=this.options.routeCfg;k||(k={}),k.offset=yt.offset;var p=this.getPath(it,_,P,Q,k);return(Object(g.m)(p)&&p.length<=1||Object(g.x)(p)&&p.indexOf("L")===-1)&&(p="M0 0, L0 0"),(isNaN(wt.x)||isNaN(wt.y)||isNaN(J.x)||isNaN(J.y))&&(p="M0 0, L0 0"),Object(g.A)({},u.e.defaultEdge.style,yt,{lineWidth:K.size,path:p})},updateShapeStyle:function(K,ft){var mt=ft.getContainer(),yt={stroke:K.color},wt=mt.find(function(ut){return ut.get("className")==="edge-shape"})||ft.getKeyShape(),J=K.size,lt=(K=this.getPathPoints(K)).startPoint,it=K.endPoint,_=this.getControlPoints(K),P=[lt];_&&(P=P.concat(_)),P.push(it);var Q=wt.attr(),k=Object(g.A)({},yt,Q,K.style),p=K.sourceNode,y=K.targetNode,B=k.radius,W=this.options.routeCfg;W||(W={}),W.offset=k.offset;var rt=this.getPath(P,p,y,B,W);(Object(g.m)(rt)&&rt.length<=1||Object(g.x)(rt)&&rt.indexOf("L")===-1)&&(rt="M0 0, L0 0"),(isNaN(lt.x)||isNaN(lt.y)||isNaN(it.x)||isNaN(it.y))&&(rt="M0 0, L0 0"),Q.endArrow&&k.endArrow===!1&&(K.style.endArrow={path:""}),Q.startArrow&&k.startArrow===!1&&(K.style.startArrow={path:""});var st=Object(g.A)(yt,wt.attr(),{lineWidth:J,path:rt},K.style);wt&&wt.attr(st)},getPath:function(K,ft,mt,yt,wt){var J;if(!wt.offset||K.length>2){if(yt)return H(K,yt);var lt=[];return Object(g.f)(K,function(it,_){_===0?lt.push(["M",it.x,it.y]):lt.push(["L",it.x,it.y])}),lt}return yt?(J=Lt(K[0],K[K.length-1],ft,mt,wt),H(J,yt)):(J=Lt(K[0],K[K.length-1],ft,mt,wt),u.n.pointsToPolygon(J))}},"single-edge")}]).default})},Sq3C:function(qe,Pt,E){var Y=E("sKgW"),i=E("zoYe"),b=E("wy8a"),t=E("quyA"),n=E("Z1HP"),u=E("Em2t"),g=Math.ceil;function x(c,w){w=w===void 0?" ":i(w);var I=w.length;if(I<2)return I?Y(w,c):w;var m=Y(w,g(c/n(w)));return t(w)?b(u(m),0,c).join(""):m.slice(0,c)}qe.exports=x},Sxd8:function(qe,Pt,E){var Y=E("ZCgT");function i(b){var t=Y(b),n=t%1;return t===t?n?t-n:t:0}qe.exports=i},TEat:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return m});var Y=E("mrSG"),i=E("zJSt"),b=E("YuPD"),t=E("w02o"),n=E("tKoa");function u(r,s,d){var C=d.map(function(f){return f[s]}).filter(function(f){return f!==void 0}),S=C.length>0?Math.max.apply(Math,C):0,A=Math.abs(r)%360;return A?S*360/A:S}function g(r){var s=r.chart,d=r.options,C=d.data,S=d.barStyle,A=d.color,f=d.tooltip,O=d.colorField,j=d.type,D=d.xField,V=d.yField;s.data(C);var H=Object(b.b)({},r,{options:{tooltip:f,seriesField:O,interval:{style:S,color:A,shape:j==="line"?"line":"intervel"},minColumnWidth:d.minBarWidth,maxColumnWidth:d.maxBarWidth,columnBackground:d.barBackground}});return Object(n.c)(H),j==="line"&&Object(n.e)({chart:s,options:{xField:D,yField:V,seriesField:O,point:{shape:"circle",color:A}}}),r}function x(r){var s,d=r.options,C=d.yField,S=d.data,A=d.maxAngle;return Object(b.e)(Object(t.f)((s={},s[C]={min:0,max:u(A,C,S)},s)))(r)}function c(r){var s=r.chart,d=r.options,C=d.radius,S=d.innerRadius,A=d.startAngle,f=d.endAngle;return s.coordinate({type:"polar",cfg:{radius:C,innerRadius:S,startAngle:A,endAngle:f}}).transpose(),r}function w(r){var s=r.chart,d=r.options,C=d.xField,S=d.xAxis;return s.axis(C,S),r}function I(r){return Object(b.e)(g,x,w,c,t.c,t.a,t.j,t.k,t.d,Object(t.b)())(r)}var m=function(r){Object(Y.b)(s,r);function s(){var d=r!==null&&r.apply(this,arguments)||this;return d.type="radial-bar",d}return s.prototype.changeData=function(d){this.updateOption({data:d}),x({chart:this.chart,options:this.options}),this.chart.changeData(d)},s.prototype.getDefaultOptions=function(){return Object(b.b)({},r.prototype.getDefaultOptions.call(this),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240})},s.prototype.getSchemaAdaptor=function(){return I},s}(i.a)},U8jP:function(qe,Pt,E){"use strict";E.r(Pt),E.d(Pt,"version",function(){return g});var Y=E("R5nb");E.d(Pt,"Shape",function(){return Y});var i=E("aFU3");for(var b in i)["default","Canvas","Group","Shape","getArcParams","version"].indexOf(b)<0&&function(x){E.d(Pt,x,function(){return i[x]})}(b);var t=E("sYIZ");E.d(Pt,"Canvas",function(){return t.a});var n=E("wq2r");E.d(Pt,"Group",function(){return n.a});var u=E("nCnq");E.d(Pt,"getArcParams",function(){return u.a});var g="0.5.6"},"UNi/":function(qe,Pt){function E(Y,i){for(var b=-1,t=Array(Y);++b<Y;)t[b]=i(b);return t}qe.exports=E},Uo7R:function(qe,Pt,E){"use strict";var Y=E("mrSG"),i=E("zJSt"),b=E("w02o"),t=E("YuPD"),n=E("tKoa"),u=E("iTfj"),g={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(gt){return gt.id},source:function(gt){return gt.source},target:function(gt){return gt.target},sourceWeight:function(gt){return gt.value||1},targetWeight:function(gt){return gt.value||1},sortBy:null};function x(pt,gt,at){Object(u.forIn)(pt,function(Bt,Lt){Bt.inEdges=gt.filter(function(Et){return""+at.target(Et)==""+Lt}),Bt.outEdges=gt.filter(function(Et){return""+at.source(Et)==""+Lt}),Bt.edges=Bt.outEdges.concat(Bt.inEdges),Bt.frequency=Bt.edges.length,Bt.value=0,Bt.inEdges.forEach(function(Et){Bt.value+=at.targetWeight(Et)}),Bt.outEdges.forEach(function(Et){Bt.value+=at.sourceWeight(Et)})})}function c(pt,gt){var at={weight:function(Et,K){return K.value-Et.value},frequency:function(Et,K){return K.frequency-Et.frequency},id:function(Et,K){return(""+gt.id(Et)).localeCompare(""+gt.id(K))}},Bt=at[gt.sortBy];!Bt&&Object(u.isFunction)(gt.sortBy)&&(Bt=gt.sortBy),Bt&&pt.sort(Bt)}function w(pt,gt){var at=pt.length;if(!at)throw new TypeError("Invalid nodes: it's empty!");if(gt.weight){var Bt=gt.nodePaddingRatio;if(Bt<0||Bt>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var Lt=Bt/(2*at),Et=gt.nodeWidthRatio;if(Et<=0||Et>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var K=0;pt.forEach(function(mt){K+=mt.value}),pt.forEach(function(mt){mt.weight=mt.value/K,mt.width=mt.weight*(1-Bt),mt.height=Et}),pt.forEach(function(mt,yt){for(var wt=0,J=yt-1;J>=0;J--)wt+=pt[J].width+2*Lt;var lt=mt.minX=Lt+wt,it=mt.maxX=mt.minX+mt.width,_=mt.minY=gt.y-Et/2,P=mt.maxY=_+Et;mt.x=[lt,it,it,lt],mt.y=[_,_,P,P]})}else{var ft=1/at;pt.forEach(function(mt,yt){mt.x=(yt+.5)*ft,mt.y=gt.y})}return pt}function I(pt,gt,at){if(at.weight){var Bt={};Object(u.forIn)(pt,function(Lt,Et){Bt[Et]=Lt.value}),gt.forEach(function(Lt){var Et=at.source(Lt),K=at.target(Lt),ft=pt[Et],mt=pt[K];if(ft&&mt){var yt=Bt[Et],wt=at.sourceWeight(Lt),J=ft.minX+(ft.value-yt)/ft.value*ft.width,lt=J+wt/ft.value*ft.width;Bt[Et]-=wt;var it=Bt[K],_=at.targetWeight(Lt),P=mt.minX+(mt.value-it)/mt.value*mt.width,Q=P+_/mt.value*mt.width;Bt[K]-=_;var k=at.y;Lt.x=[J,lt,P,Q],Lt.y=[k,k,k,k],Lt.source=ft,Lt.target=mt}})}else gt.forEach(function(Lt){var Et=pt[at.source(Lt)],K=pt[at.target(Lt)];Et&&K&&(Lt.x=[Et.x,K.x],Lt.y=[Et.y,K.y],Lt.source=Et,Lt.target=K)});return gt}function m(pt){return Object(u.assign)({},g,pt)}function r(pt,gt){var at=m(pt),Bt={},Lt=gt.nodes,Et=gt.links;Lt.forEach(function(mt){var yt=at.id(mt);Bt[yt]=mt}),x(Bt,Et,at),c(Lt,at);var K=w(Lt,at),ft=I(Bt,Et,at);return{nodes:K,links:ft}}var s=E("DyAw"),d="x",C="y",S="name",A="source";function f(pt){var gt=pt.options,at=gt.data,Bt=gt.sourceField,Lt=gt.targetField,Et=gt.weightField,K=gt.nodePaddingRatio,ft=gt.nodeWidthRatio,mt=Object(s.b)(at,Bt,Lt,Et),yt=r({weight:!0,nodePaddingRatio:K,nodeWidthRatio:ft},mt),wt=yt.nodes,J=yt.links,lt=wt.map(function(_){return{id:_.id,x:_.x,y:_.y,name:_.name}}),it=J.map(function(_){return{source:_.source.name,target:_.target.name,x:_.x,y:_.y,value:_.value}});return Object(Y.a)(Object(Y.a)({},pt),{ext:Object(Y.a)(Object(Y.a)({},pt.ext),{chordData:{nodesData:lt,edgesData:it}})})}function O(pt){var gt,at=pt.chart;return at.scale((gt={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}},gt[S]={sync:"color"},gt[A]={sync:"color"},gt)),pt}function j(pt){var gt=pt.chart;return gt.axis(!1),pt}function D(pt){var gt=pt.chart;return gt.legend(!1),pt}function V(pt){var gt=pt.chart;return gt.tooltip({showTitle:!1,showMarkers:!1}),pt}function H(pt){var gt=pt.chart;return gt.coordinate("polar").reflect("y"),pt}function $(pt){var gt=pt.chart,at=pt.options,Bt=pt.ext.chordData.nodesData,Lt=at.nodeStyle,Et=at.label,K=gt.createView();return K.data(Bt),Object(n.f)({chart:K,options:{xField:d,yField:C,seriesField:S,polygon:{style:Lt},label:Et,tooltip:!1}}),pt}function dt(pt){var gt=pt.chart,at=pt.options,Bt=pt.ext.chordData.edgesData,Lt=at.edgeStyle,Et=at.tooltip,K=gt.createView();K.data(Bt);var ft={xField:d,yField:C,seriesField:A,edge:{style:Lt,shape:"arc"},tooltip:Et};return Object(n.b)({chart:K,options:ft}),pt}function Z(pt){return Object(t.e)(f,H,O,j,D,V,dt,$,b.c,b.a,b.j)(pt)}var ct=function(pt){Object(Y.b)(gt,pt);function gt(){var at=pt!==null&&pt.apply(this,arguments)||this;return at.type="chord",at}return gt.prototype.getDefaultOptions=function(){return{nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(Bt,Lt){var Et=(Bt[0]+Bt[1])/2,K=Et>.5?-4:4;return{labelEmit:!0,style:{fill:"#8c8c8c"},offsetX:K,content:Lt}}},tooltip:{fields:["source","target","value"],formatter:function(Bt){var Lt=Bt.source,Et=Bt.target,K=Bt.value;return{name:Lt+" -> "+Et,value:K}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05}},gt.prototype.getSchemaAdaptor=function(){return Z},gt}(i.a)},Urep:function(qe,Pt,E){},V6Ve:function(qe,Pt,E){var Y=E("kekF"),i=Y(Object.keys,Object);qe.exports=i},VaNO:function(qe,Pt){function E(Y){return this.__data__.has(Y)}qe.exports=E},WOQw:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return u});var Y=E("mrSG"),i=E("iTfj"),b=E("YuPD");function t(g,x){var c=g.xField,w=g.yField,I=g.colorField,m=g.shapeField,r=g.sizeField,s=g.styleField,d=g.rawFields,C=d===void 0?[]:d,S=[];if(x==="color")S=Object(Y.d)([I||c],C);else if(x==="shape")S=Object(Y.d)([m||c],C);else if(x==="size")S=Object(Y.d)([r||c],C);else{S=Object(Y.d)([c,w,I,m,r,s],C);var A=["x","y","color","shape","size","style"].indexOf(x),f=S[A];S.splice(A,1),S.unshift(f)}return Object(i.uniq)(S.filter(function(O){return!!O}))}function n(g,x){if(!!x)return function(){for(var c=[],w=0;w<arguments.length;w++)c[w]=arguments[w];var I={};return g.forEach(function(m,r){I[m]=c[r]}),delete I.undefined,x(I)}}function u(g){var x=g.chart,c=g.options,w=c.type,I=c.args,m=c.mapping,r=c.xField,s=c.yField,d=c.colorField,C=c.shapeField,S=c.sizeField,A=c.tooltipFields,f=c.label,O=c.state;if(!m)return g;var j=m.color,D=m.shape,V=m.size,H=m.style,$=m.tooltip,dt=x[w](I).position(r+"*"+s);if(Object(i.isString)(j))d?dt.color(d,j):dt.color(j);else if(Object(i.isFunction)(j)){var Z=t(c,"color");dt.color(Z.join("*"),n(Z,j))}else d&&dt.color(d,j);if(Object(i.isString)(D))C?dt.shape(C,[D]):dt.shape(D);else if(Object(i.isFunction)(D)){var Z=t(c,"shape");dt.shape(Z.join("*"),n(Z,D))}else C&&dt.shape(C,D);if(Object(i.isNumber)(V))S?dt.size(S,V):dt.size(V);else if(Object(i.isFunction)(V)){var Z=t(c,"size");dt.size(Z.join("*"),n(Z,V))}else S&&dt.size(S,V);if(Object(i.isFunction)(H)){var Z=t(c,"style");dt.style(Z.join("*"),n(Z,H))}else Object(i.isObject)(H)&&dt.style(H);if(A===!1?dt.tooltip(!1):Object(i.isEmpty)(A)||dt.tooltip(A.join("*"),n(A,$)),f===!1)dt.label(!1);else if(f){var ct=f.callback,pt=f.fields,gt=Object(Y.c)(f,["callback","fields"]);dt.label({fields:pt||[s],callback:ct,cfg:Object(b.o)(gt)})}return O&&dt.state(O),[r,s].filter(function(at){return at!==d}).forEach(function(at){x.legend(at,!1)}),Object(Y.a)(Object(Y.a)({},g),{ext:{geometry:dt}})}},WaYH:function(qe,Pt,E){"use strict";var Y=E("wx14"),i=E("rePB"),b=E("Ff2n"),t=E("VTBJ"),n=E("1OyB"),u=E("vuIU"),g=E("JX7q"),x=E("Ji7U"),c=E("LK+K"),w=E("q1tI"),I=E("TSYQ"),m=E.n(I),r=E("sboe"),s=E("OZM5"),d=function($){for(var dt=$.prefixCls,Z=$.level,ct=$.isStart,pt=$.isEnd,gt="".concat(dt,"-indent-unit"),at=[],Bt=0;Bt<Z;Bt+=1){var Lt;at.push(w.createElement("span",{key:Bt,className:m()(gt,(Lt={},Object(i.a)(Lt,"".concat(gt,"-start"),ct[Bt]),Object(i.a)(Lt,"".concat(gt,"-end"),pt[Bt]),Lt))}))}return w.createElement("span",{"aria-hidden":"true",className:"".concat(dt,"-indent")},at)},C=d,S=E("815F"),A="open",f="close",O="---",j=function(H){Object(x.a)(dt,H);var $=Object(c.a)(dt);function dt(){var Z;return Object(n.a)(this,dt),Z=$.apply(this,arguments),Z.state={dragNodeHighlight:!1},Z.onSelectorClick=function(ct){var pt=Z.props.context.onNodeClick;pt(ct,Object(S.b)(Z.props)),Z.isSelectable()?Z.onSelect(ct):Z.onCheck(ct)},Z.onSelectorDoubleClick=function(ct){var pt=Z.props.context.onNodeDoubleClick;pt(ct,Object(S.b)(Z.props))},Z.onSelect=function(ct){if(!Z.isDisabled()){var pt=Z.props.context.onNodeSelect;ct.preventDefault(),pt(ct,Object(S.b)(Z.props))}},Z.onCheck=function(ct){if(!Z.isDisabled()){var pt=Z.props,gt=pt.disableCheckbox,at=pt.checked,Bt=Z.props.context.onNodeCheck;if(!(!Z.isCheckable()||gt)){ct.preventDefault();var Lt=!at;Bt(ct,Object(S.b)(Z.props),Lt)}}},Z.onMouseEnter=function(ct){var pt=Z.props.context.onNodeMouseEnter;pt(ct,Object(S.b)(Z.props))},Z.onMouseLeave=function(ct){var pt=Z.props.context.onNodeMouseLeave;pt(ct,Object(S.b)(Z.props))},Z.onContextMenu=function(ct){var pt=Z.props.context.onNodeContextMenu;pt(ct,Object(S.b)(Z.props))},Z.onDragStart=function(ct){var pt=Z.props.context.onNodeDragStart;ct.stopPropagation(),Z.setState({dragNodeHighlight:!0}),pt(ct,Object(g.a)(Z));try{ct.dataTransfer.setData("text/plain","")}catch(gt){}},Z.onDragEnter=function(ct){var pt=Z.props.context.onNodeDragEnter;ct.preventDefault(),ct.stopPropagation(),pt(ct,Object(g.a)(Z))},Z.onDragOver=function(ct){var pt=Z.props.context.onNodeDragOver;ct.preventDefault(),ct.stopPropagation(),pt(ct,Object(g.a)(Z))},Z.onDragLeave=function(ct){var pt=Z.props.context.onNodeDragLeave;ct.stopPropagation(),pt(ct,Object(g.a)(Z))},Z.onDragEnd=function(ct){var pt=Z.props.context.onNodeDragEnd;ct.stopPropagation(),Z.setState({dragNodeHighlight:!1}),pt(ct,Object(g.a)(Z))},Z.onDrop=function(ct){var pt=Z.props.context.onNodeDrop;ct.preventDefault(),ct.stopPropagation(),Z.setState({dragNodeHighlight:!1}),pt(ct,Object(g.a)(Z))},Z.onExpand=function(ct){var pt=Z.props,gt=pt.loading,at=pt.context.onNodeExpand;gt||at(ct,Object(S.b)(Z.props))},Z.setSelectHandle=function(ct){Z.selectHandle=ct},Z.getNodeState=function(){var ct=Z.props.expanded;return Z.isLeaf()?null:ct?A:f},Z.hasChildren=function(){var ct=Z.props.eventKey,pt=Z.props.context.keyEntities,gt=pt[ct]||{},at=gt.children;return!!(at||[]).length},Z.isLeaf=function(){var ct=Z.props,pt=ct.isLeaf,gt=ct.loaded,at=Z.props.context.loadData,Bt=Z.hasChildren();return pt===!1?!1:pt||!at&&!Bt||at&&gt&&!Bt},Z.isDisabled=function(){var ct=Z.props.disabled,pt=Z.props.context.disabled;return!!(pt||ct)},Z.isCheckable=function(){var ct=Z.props.checkable,pt=Z.props.context.checkable;return!pt||ct===!1?!1:pt},Z.syncLoadData=function(ct){var pt=ct.expanded,gt=ct.loading,at=ct.loaded,Bt=Z.props.context,Lt=Bt.loadData,Et=Bt.onNodeLoad;gt||Lt&&pt&&!Z.isLeaf()&&!Z.hasChildren()&&!at&&Et(Object(S.b)(Z.props))},Z.renderSwitcher=function(){var ct=Z.props,pt=ct.expanded,gt=ct.switcherIcon,at=Z.props.context,Bt=at.prefixCls,Lt=at.switcherIcon,Et=gt||Lt;if(Z.isLeaf())return w.createElement("span",{className:m()("".concat(Bt,"-switcher"),"".concat(Bt,"-switcher-noop"))},typeof Et=="function"?Et(Object(t.a)(Object(t.a)({},Z.props),{},{isLeaf:!0})):Et);var K=m()("".concat(Bt,"-switcher"),"".concat(Bt,"-switcher_").concat(pt?A:f));return w.createElement("span",{onClick:Z.onExpand,className:K},typeof Et=="function"?Et(Object(t.a)(Object(t.a)({},Z.props),{},{isLeaf:!1})):Et)},Z.renderCheckbox=function(){var ct=Z.props,pt=ct.checked,gt=ct.halfChecked,at=ct.disableCheckbox,Bt=Z.props.context.prefixCls,Lt=Z.isDisabled(),Et=Z.isCheckable();if(!Et)return null;var K=typeof Et!="boolean"?Et:null;return w.createElement("span",{className:m()("".concat(Bt,"-checkbox"),pt&&"".concat(Bt,"-checkbox-checked"),!pt&&gt&&"".concat(Bt,"-checkbox-indeterminate"),(Lt||at)&&"".concat(Bt,"-checkbox-disabled")),onClick:Z.onCheck},K)},Z.renderIcon=function(){var ct=Z.props.loading,pt=Z.props.context.prefixCls;return w.createElement("span",{className:m()("".concat(pt,"-iconEle"),"".concat(pt,"-icon__").concat(Z.getNodeState()||"docu"),ct&&"".concat(pt,"-icon_loading"))})},Z.renderSelector=function(){var ct=Z.state.dragNodeHighlight,pt=Z.props,gt=pt.title,at=pt.selected,Bt=pt.icon,Lt=pt.loading,Et=pt.data,K=Z.props.context,ft=K.prefixCls,mt=K.showIcon,yt=K.icon,wt=K.draggable,J=K.loadData,lt=K.titleRender,it=Z.isDisabled(),_=typeof wt=="function"?wt(Et):wt,P="".concat(ft,"-node-content-wrapper"),Q;if(mt){var k=Bt||yt;Q=k?w.createElement("span",{className:m()("".concat(ft,"-iconEle"),"".concat(ft,"-icon__customize"))},typeof k=="function"?k(Z.props):k):Z.renderIcon()}else J&&Lt&&(Q=Z.renderIcon());var p;typeof gt=="function"?p=gt(Et):lt?p=lt(Et):p=gt;var y=w.createElement("span",{className:"".concat(ft,"-title")},p);return w.createElement("span",{ref:Z.setSelectHandle,title:typeof gt=="string"?gt:"",className:m()("".concat(P),"".concat(P,"-").concat(Z.getNodeState()||"normal"),!it&&(at||ct)&&"".concat(ft,"-node-selected"),!it&&_&&"draggable"),draggable:!it&&_||void 0,"aria-grabbed":!it&&_||void 0,onMouseEnter:Z.onMouseEnter,onMouseLeave:Z.onMouseLeave,onContextMenu:Z.onContextMenu,onClick:Z.onSelectorClick,onDoubleClick:Z.onSelectorDoubleClick,onDragStart:_?Z.onDragStart:void 0},Q,y,Z.renderDropIndicator())},Z.renderDropIndicator=function(){var ct=Z.props,pt=ct.disabled,gt=ct.eventKey,at=Z.props.context,Bt=at.draggable,Lt=at.dropLevelOffset,Et=at.dropPosition,K=at.prefixCls,ft=at.indent,mt=at.dropIndicatorRender,yt=at.dragOverNodeKey,wt=at.direction,J=Bt!==!1,lt=!pt&&J&&yt===gt;return lt?mt({dropPosition:Et,dropLevelOffset:Lt,indent:ft,prefixCls:K,direction:wt}):null},Z}return Object(u.a)(dt,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var ct=this.props.selectable,pt=this.props.context.selectable;return typeof ct=="boolean"?ct:pt}},{key:"render",value:function(){var ct,pt=this.props,gt=pt.eventKey,at=pt.className,Bt=pt.style,Lt=pt.dragOver,Et=pt.dragOverGapTop,K=pt.dragOverGapBottom,ft=pt.isLeaf,mt=pt.isStart,yt=pt.isEnd,wt=pt.expanded,J=pt.selected,lt=pt.checked,it=pt.halfChecked,_=pt.loading,P=pt.domRef,Q=pt.active,k=pt.data,p=pt.onMouseMove,y=Object(b.a)(pt,["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove"]),B=this.props.context,W=B.prefixCls,rt=B.filterTreeNode,st=B.draggable,ut=B.keyEntities,Mt=B.dropContainerKey,bt=B.dropTargetKey,xt=this.isDisabled(),Ot=Object(s.f)(y),jt=ut[gt]||{},Dt=jt.level,zt=yt[yt.length-1],Tt=typeof st=="function"?st(k):st;return w.createElement("div",Object(Y.a)({ref:P,className:m()(at,"".concat(W,"-treenode"),(ct={},Object(i.a)(ct,"".concat(W,"-treenode-disabled"),xt),Object(i.a)(ct,"".concat(W,"-treenode-switcher-").concat(wt?"open":"close"),!ft),Object(i.a)(ct,"".concat(W,"-treenode-checkbox-checked"),lt),Object(i.a)(ct,"".concat(W,"-treenode-checkbox-indeterminate"),it),Object(i.a)(ct,"".concat(W,"-treenode-selected"),J),Object(i.a)(ct,"".concat(W,"-treenode-loading"),_),Object(i.a)(ct,"".concat(W,"-treenode-active"),Q),Object(i.a)(ct,"".concat(W,"-treenode-leaf-last"),zt),Object(i.a)(ct,"drop-target",bt===gt),Object(i.a)(ct,"drop-container",Mt===gt),Object(i.a)(ct,"drag-over",!xt&&Lt),Object(i.a)(ct,"drag-over-gap-top",!xt&&Et),Object(i.a)(ct,"drag-over-gap-bottom",!xt&&K),Object(i.a)(ct,"filter-node",rt&&rt(Object(S.b)(this.props))),ct)),style:Bt,onDragEnter:Tt?this.onDragEnter:void 0,onDragOver:Tt?this.onDragOver:void 0,onDragLeave:Tt?this.onDragLeave:void 0,onDrop:Tt?this.onDrop:void 0,onDragEnd:Tt?this.onDragEnd:void 0,onMouseMove:p},Ot),w.createElement(C,{prefixCls:W,level:Dt,isStart:mt,isEnd:yt}),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),dt}(w.Component),D=function($){return w.createElement(r.a.Consumer,null,function(dt){return w.createElement(j,Object(Y.a)({},$,{context:dt}))})};D.displayName="TreeNode",D.defaultProps={title:O},D.isTreeNode=1;var V=Pt.a=D},WbAE:function(qe,Pt){},Wn5C:function(qe,Pt,E){"use strict";E.r(Pt);var Y=E("nKUr"),i=E("IzEo"),b=E("bx4M"),t=E("VTBJ"),n=E("14J3"),u=E("BMrR"),g=E("jCWc"),x=E("kPKH"),c=E("KQm4"),w=E("Znn+"),I=E("ZTPi"),m=E("q1tI"),r=E("tMyG"),s=E("CmcY"),d=E("5nFI"),C=E("wd/R"),S=E.n(C),A=E("1DS8"),f=E.n(A),O=function(wt){var J=wt.title,lt=J===void 0?"":J,it=wt.updateTime,_=it===void 0?Date.now():it,P=wt.total,Q=P===void 0?0:P,k=wt.weekPercent,p=wt.statistic,y=wt.annualReturn;return Object(Y.jsx)(b.a,{title:Object(Y.jsxs)(Y.Fragment,{children:[Object(Y.jsx)("span",{children:lt}),Object(Y.jsx)("span",{className:f.a.updateTime,children:S()(_).format("YYYY-MM-DD HH:mm:ss")})]}),children:Object(Y.jsxs)(u.a,{children:[Object(Y.jsx)(x.a,{sm:5,children:Object(Y.jsx)(s.a,{title:"\u603B\u5E02\u503C",value:Q,text:"\u5468\u540C\u6BD4",percent:k})}),Object(Y.jsx)(x.a,{sm:5,children:Object(Y.jsx)(d.a,{title:"\u5386\u53F2\u5E74\u5316\u6536\u76CA\u7387",value:y*100,suffix:"%",isNormal:!1})}),Object(Y.jsx)(x.a,{sm:5,children:Object(Y.jsx)(d.a,{title:"\u6210\u7ACB\u4EE5\u6765\u6536\u76CA\u7387",value:p.pnl_rate*100,suffix:"%",isNormal:!1})}),Object(Y.jsx)(x.a,{sm:5,children:Object(Y.jsx)(d.a,{title:"\u6700\u65B0\u51C0\u503C",value:p.pps,suffix:"USD"})}),Object(Y.jsx)(x.a,{sm:4,children:Object(Y.jsx)(d.a,{title:"\u6628\u65E5\u6DA8\u8DCC",value:p.last_day_pnl_rate*100,suffix:"%",isNormal:!1})})]})})},j=O,D=E("06Lf"),V=E("bP8k"),H=E("gFTJ"),$=function(wt){var J=wt.metrics;return Object(Y.jsxs)(H.b,{bordered:!0,column:1,size:"small",style:{minHeight:"400px"},children:[Object(Y.jsxs)(H.b.Item,{label:"\u65E5\u80DC\u7387",children:[J.strategy&&(J.strategy.daily_winning_ratio*100).toFixed(2)||"--"," %"]}),Object(Y.jsxs)(H.b.Item,{label:"\u5E74\u5316\u6CE2\u52A8\u7387",children:[J.strategy&&(J.strategy.annual_volatility*100).toFixed(2)||"--"," %"]}),Object(Y.jsx)(H.b.Item,{label:"Alpha",children:J.strategy&&J.strategy.alpha.toFixed(2)||"--"}),Object(Y.jsx)(H.b.Item,{label:"Beta",children:J.strategy&&J.strategy.beta.toFixed(2)||"--"}),Object(Y.jsx)(H.b.Item,{label:"\u590F\u666E\u6BD4\u7387",children:J.strategy&&J.strategy.sharpe_ratio.toFixed(2)||"--"}),Object(Y.jsx)(H.b.Item,{label:"\u7D22\u63D0\u8BFA\u6BD4\u7387",children:J.strategy&&J.strategy.sortino_ratio.toFixed(2)||"--"}),Object(Y.jsxs)(H.b.Item,{label:"\u6700\u5927\u56DE\u64A4\u7387",children:[J.strategy&&(J.strategy.max_drawdown*100).toFixed(2)||"--"," %"]})]})},dt=$,Z=E("c+yx"),ct=function(wt){var J=wt.statistic,lt=function(_){return Object(Z.d)(Object(Z.e)(_*100||0,2))};return Object(Y.jsxs)(H.b,{bordered:!0,column:1,size:"small",children:[Object(Y.jsx)(H.b.Item,{label:"\u8FD11\u6708",children:Object(Y.jsxs)("span",{className:Object(Z.c)(J.last_1m_pnl_rate||0),children:[lt(J.last_1m_pnl_rate)," %"]})}),Object(Y.jsx)(H.b.Item,{label:"\u8FD13\u6708",children:Object(Y.jsxs)("span",{className:Object(Z.c)(J.last_3m_pnl_rate||0),children:[lt(J.last_3m_pnl_rate)," %"]})}),Object(Y.jsx)(H.b.Item,{label:"\u8FD16\u6708",children:Object(Y.jsxs)("span",{className:Object(Z.c)(J.last_6m_pnl_rate||0),children:[lt(J.last_6m_pnl_rate)," %"]})}),Object(Y.jsx)(H.b.Item,{label:"\u8FD11\u5E74",children:Object(Y.jsxs)("span",{className:Object(Z.c)(J.last_12m_pnl_rate||0),children:[lt(J.last_12m_pnl_rate)," %"]})})]})},pt=ct,gt=E("g9YV"),at=E("wCAj"),Bt=function(wt){var J=wt.data,lt=[{title:"\u65E5\u671F",dataIndex:"date",key:"date"},{title:"\u51C0\u503C",dataIndex:"value",key:"value",render:function(P){return P}},{title:"\u65E5\u6DA8\u5E45",dataIndex:"incomeRate",key:"incomeRate",render:function(P){return Object(Y.jsxs)("span",{className:Object(Z.c)(P),children:[Object(Z.d)(Object(Z.e)(P,2)),"%"]})}}],it=function(P){if(P.length>0){var Q=P.map(function(k){return{date:S()(k[0]*1e3).format(`YYYY-MM-DD 
 HH:mm:ss`),value:Object(Z.e)(k[1],4),incomeRate:k[3]*100,key:k[0]}});return Q}return[]};return Object(Y.jsx)(at.a,{columns:lt,dataSource:it(Object(c.a)(J).reverse()),pagination:{simple:!0}})},Lt=Bt,Et=E("9kvl"),K=I.a.TabPane,ft=function(){var wt=Object(Et.f)();Object(m.useEffect)(function(){wt({type:"subDetails/getStatistic",payload:"t1"}),wt({type:"subDetails/getMetrics",payload:"t1"}),wt({type:"subDetails/getAll",payload:"t1"}),wt({type:"price/getBtcPrice",payload:"t1"})},[wt]);var J=Object(Et.i)(function(y){var B=y.subDetails.t1,W=B.statistic,rt=B.metrics,st=B.all,ut=y.price.btc;return{statistic:W,metrics:rt,all:st,btcPrice:ut}}),lt=J.statistic,it=J.metrics,_=J.all,P=J.btcPrice,Q=_.map(function(y){return{name:"\u672C\u7B56\u7565",time:y[0]*1e3,value:y[2]*100}}),k=P.map(function(y){return{name:"\u57FA\u51C6",time:y[0]*1e3,value:(y[1]/P[0][1]-1)*100}}),p={data:[].concat(Object(c.a)(Q),Object(c.a)(k)),height:400,xField:"time",yField:"value",point:{size:3},xAxis:{type:"time",tickCount:5,mask:"YY-MM-DD"},legend:{position:"top-right"},seriesField:"name"};return Object(Y.jsxs)(r.a,{children:[Object(Y.jsx)(u.a,{gutter:[16,16],children:Object(Y.jsx)(x.a,{span:24,children:Object(Y.jsx)(j,{title:"BTC \u8D8B\u52BF\u4E00\u53F7",updateTime:lt.timestamp*1e3,total:0,weekPercent:2,statistic:lt,annualReturn:it.strategy.annual_return})})}),Object(Y.jsxs)(u.a,{gutter:[16,16],children:[Object(Y.jsx)(x.a,{sm:18,children:Object(Y.jsx)(b.a,{title:"\u4E1A\u7EE9\u8D70\u52BF ",children:Object(Y.jsx)(D.b,Object(t.a)({},p))})}),Object(Y.jsx)(x.a,{sm:6,children:Object(Y.jsx)(b.a,{children:Object(Y.jsxs)(I.a,{defaultActiveKey:"1",onChange:function(){},children:[Object(Y.jsx)(K,{tab:"\u7EDF\u8BA1\u6307\u6807",children:Object(Y.jsx)(dt,{metrics:it})},"1"),Object(Y.jsx)(K,{tab:"\u5386\u53F2\u4E1A\u7EE9",children:Object(Y.jsx)(pt,{statistic:lt})},"2"),Object(Y.jsx)(K,{tab:"\u5386\u53F2\u51C0\u503C",children:Object(Y.jsx)(Lt,{data:_})},"3")]})})})]})]})},mt=Pt.default=ft},Xi7e:function(qe,Pt,E){var Y=E("KMkd"),i=E("adU4"),b=E("tMB7"),t=E("+6XX"),n=E("Z8oC");function u(g){var x=-1,c=g==null?0:g.length;for(this.clear();++x<c;){var w=g[x];this.set(w[0],w[1])}}u.prototype.clear=Y,u.prototype.delete=i,u.prototype.get=b,u.prototype.has=t,u.prototype.set=n,qe.exports=u},XiRp:function(qe,Pt){},XloR:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return x});var Y=E("mrSG"),i=E("zJSt"),b=E("YuPD"),t=E("hJqF"),n=E("Ihc8"),u=E("iTfj"),g=function(c){Object(Y.b)(w,c);function w(){return c!==null&&c.apply(this,arguments)||this}return w.prototype.active=function(){var I=this.getView(),m=this.context.event;if(m.data){var r=m.data.items,s=I.geometries.filter(function(d){return d.type==="point"});Object(u.each)(s,function(d){Object(u.each)(d.elements,function(C){var S=Object(u.findIndex)(r,function(A){return A.data===C.data})!==-1;C.setState("active",S)})})}},w.prototype.getView=function(){return this.context.view},w}(n.InteractionAction);Object(n.registerAction)("marker-active",g),Object(n.registerInteraction)("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}]});var x=function(c){Object(Y.b)(w,c);function w(){var I=c!==null&&c.apply(this,arguments)||this;return I.type="line",I}return w.prototype.changeData=function(I){this.updateOption({data:I}),this.chart.changeData(I)},w.prototype.getDefaultOptions=function(){return Object(b.b)({},c.prototype.getDefaultOptions.call(this),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left"},isStack:!1})},w.prototype.getSchemaAdaptor=function(){return t.a},w}(i.a)},XpFM:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return f});var Y=E("mrSG"),i=E("zJSt"),b=E("iTfj"),t=E("w02o"),n=E("n/J0"),u=E("YuPD"),g=E("5kt6");function x(O){return O.map(function(j,D){var V;return V={},V[g.f]=j-(O[D-1]||0),V[g.e]=""+D,V}).filter(function(j){return!!j[g.f]})}function c(O){var j;return[(j={},j[g.d]=Object(b.clamp)(O,0,1),j)]}function w(O,j){var D=Object(b.get)(j,["ticks"],[]),V=Object(b.size)(D)?D:[0,Object(b.clamp)(O,0,1),1];return x(V)}function I(O){var j=O.chart,D=O.options,V=D.percent,H=D.range,$=D.radius,dt=D.innerRadius,Z=D.startAngle,ct=D.endAngle,pt=D.axis,gt=D.indicator,at=H.color;if(gt){var Bt=c(V),Lt=j.createView({id:g.b});Lt.data(Bt),Lt.point().position(g.d+"*1").shape("gauge-indicator").customInfo({defaultColor:j.getTheme().defaultColor,indicator:gt}),Lt.coordinate("polar",{startAngle:Z,endAngle:ct,radius:dt*$}),Lt.axis(g.d,pt),Lt.scale(g.d,Object(u.k)(pt,n.a))}var Et=w(V,D.range),K=j.createView({id:g.g});K.data(Et);var ft=Object(b.isString)(at)?[at,g.a]:at;return K.interval().position("1*"+g.f).color(g.e,ft).adjust("stack"),K.coordinate("polar",{innerRadius:dt,radius:$,startAngle:Z,endAngle:ct}).transpose(),O}function m(O){var j,D=O.chart,V=O.options,H=V.type,$=V.meter;if(H==="meter"){var dt=V.innerRadius,Z=V.radius,ct=V.startAngle,pt=V.endAngle,gt=D.getTheme().background,at=gt;(!at||at==="transparent")&&(at="#fff");var Bt=D.createView({id:g.c});Bt.data([(j={},j[g.e]="1",j[g.f]=1,j)]),Bt.interval().position("1*"+g.f).color(at).adjust("stack").shape("meter-gauge").customInfo($||{}),Bt.coordinate("polar",{innerRadius:dt,radius:Z,startAngle:ct,endAngle:pt}).transpose()}return O}function r(O){var j;return Object(u.e)(Object(t.f)((j={range:{min:0,max:1,maxLimit:1,minLimit:0}},j[g.d]={},j)))(O)}function s(O,j){var D=O.chart,V=O.options,H=V.statistic,$=V.percent;if(D.getController("annotation").clear(!0),H){var dt=H.content,Z=void 0;dt&&(Z=Object(u.b)({},{formatter:function(pt){var gt=pt.percent;return(gt*100).toFixed(2)+"%"},style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},dt)),Object(u.l)(D,{statistic:Object(Y.a)(Object(Y.a)({},H),{content:Z})},{percent:$})}return j&&D.render(!0),O}function d(O){var j=O.chart;return j.legend(!1),j.tooltip(!1),O}function C(O){return Object(u.e)(t.a,I,r,s,t.c,t.j,m,d)(O)}var S=E("Ihc8");Object(S.registerShape)("point","gauge-indicator",{draw:function(j,D){var V=j.customInfo,H=V.indicator,$=V.defaultColor,dt=H,Z=dt.pointer,ct=dt.pin,pt=D.addGroup(),gt=this.parsePoint({x:0,y:0});return Z&&pt.addShape("line",{name:"pointer",attrs:Object(Y.a)({x1:gt.x,y1:gt.y,x2:j.x,y2:j.y,stroke:$},Z.style)}),ct&&pt.addShape("circle",{name:"pin",attrs:Object(Y.a)({x:gt.x,y:gt.y,stroke:$},ct.style)}),pt}});var A=E("CBiR");Object(S.registerShape)("interval","meter-gauge",{draw:function(j,D){var V=j.customInfo,H=V.steps,$=H===void 0?50:H,dt=V.stepRatio,Z=dt===void 0?.5:dt,ct=this.coordinate.endAngle-this.coordinate.startAngle,pt=ct/$,gt=0;Z>0&&Z<=1&&(pt=ct/((1-Z)/Z*($-1)+$),gt=pt*(1-Z)/Z);var at=D.addGroup();if(gt>0)for(var Bt=this.coordinate.getCenter(),Lt=this.coordinate.getRadius(),Et=S.Util.getAngle(j,this.coordinate),K=Et.startAngle,ft=Et.endAngle,mt=K,yt=0;mt<ft&&yt<2*$-1;yt++){var wt=yt%2;if(wt){var J=Object(A.getSectorPath)(Bt.x,Bt.y,Lt,mt,Math.min(mt+gt,ft),Lt*this.coordinate.innerRadius);at.addShape("path",{name:"meter-gauge-mask",attrs:{path:J,fill:j.color,stroke:j.color,lineWidth:.5},capture:!1})}mt+=wt?gt:pt}return at}});var f=function(O){Object(Y.b)(j,O);function j(){var D=O!==null&&O.apply(this,arguments)||this;return D.type="gauge",D}return j.prototype.getDefaultOptions=function(){var D;return{percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(D={},D[g.f]={sync:"v"},D[g.d]={sync:"v",tickCount:5,tickInterval:.2},D),animation:!1}},j.prototype.changeData=function(D){this.updateOption({percent:D});var V=this.chart.views.find(function($){return $.id===g.b});V&&V.data(c(D));var H=this.chart.views.find(function($){return $.id===g.g});H&&H.data(w(D,this.options.range)),s({chart:this.chart,options:this.options},!0)},j.prototype.getSchemaAdaptor=function(){return C},j}(i.a)},"Y+LX":function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return g});var Y=E("mrSG"),i=E("zJSt"),b=E("YuPD"),t=E("sqD9"),n=E("DMQx");function u(x){var c=x.chart,w=x.options,I=w.xField,m=w.yField,r=w.xAxis,s=w.yAxis,d=w.barStyle,C=w.barWidthRatio,S=w.label,A=w.data,f=w.seriesField,O=w.isStack,j=w.minBarWidth,D=w.maxBarWidth;S&&!S.position&&(S.position="left",S.layout||(S.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]));var V=w.legend;f?V!==!1&&(V=Object(Y.a)({position:O?"top-left":"right-top",reversed:!O},V||{})):V=!1,x.options.legend=V;var H=w.tooltip;return f&&H!==!1&&(H=Object(Y.a)({reversed:!O},H||{})),x.options.tooltip=H,c.coordinate().transpose(),Object(n.a)({chart:c,options:Object(Y.a)(Object(Y.a)({},w),{label:S,xField:m,yField:I,xAxis:s,yAxis:r,columnStyle:d,columnWidthRatio:C,minColumnWidth:j,maxColumnWidth:D,columnBackground:w.barBackground,data:A&&A.slice().reverse()})},!0)}var g=function(x){Object(Y.b)(c,x);function c(){var w=x!==null&&x.apply(this,arguments)||this;return w.type="bar",w}return c.prototype.changeData=function(w){this.updateOption({data:w});var I=this.options,m=I.xField,r=I.yField,s=I.isPercent;this.chart.changeData(Object(t.a)(w,m,r,m,s))},c.prototype.getDefaultOptions=function(){return Object(b.b)({},x.prototype.getDefaultOptions.call(this),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]})},c.prototype.getSchemaAdaptor=function(){return u},c}(i.a)},"Y+p1":function(qe,Pt,E){var Y=E("wF/u");function i(b,t){return Y(b,t)}qe.exports=i},YESw:function(qe,Pt,E){var Y=E("Cwc5"),i=Y(Object,"create");qe.exports=i},YP77:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return m});var Y=E("mrSG"),i=E("zJSt"),b=E("B3DA"),t=E("iTfj"),n=E("YuPD"),u=E("w02o"),g=E("u9/z"),x=E("5kt6");function c(r){var s=r.chart,d=r.options,C=d.innerRadius,S=d.radius;return s.coordinate("theta",{innerRadius:C,radius:S}),r}function w(r,s){var d=r.chart,C=r.options,S=C.innerRadius,A=C.statistic,f=C.percent,O=C.meta;if(d.getController("annotation").clear(!0),S&&A){var j=A.content;j&&!j.formatter&&(j.formatter=function(D){var V=D.percent,H=Object(t.get)(O,[x.d,"formatter"]);return H?H(V):V}),Object(n.m)(d,{statistic:Object(Y.a)(Object(Y.a)({},A),{content:j}),plotType:"ring-progress"},{percent:f})}return s&&d.render(!0),r}function I(r){return Object(n.e)(g.b,Object(u.f)({}),c,w,u.a,u.j,Object(u.b)())(r)}var m=function(r){Object(Y.b)(s,r);function s(){var d=r!==null&&r.apply(this,arguments)||this;return d.type="ring-process",d}return s.prototype.getDefaultOptions=function(){return{percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"},formatter:function(C){var S=C.percent;return(S*100).toFixed(2)+"%"}}},animation:!0}},s.prototype.changeData=function(d){this.updateOption({percent:d}),this.chart.data(Object(b.a)(d)),w({chart:this.chart,options:this.options},!0)},s.prototype.getSchemaAdaptor=function(){return I},s}(i.a)},YuPD:function(qe,Pt,E){"use strict";E.d(Pt,"e",function(){return Y}),E.d(Pt,"k",function(){return i}),E.d(Pt,"n",function(){return t}),E.d(Pt,"j",function(){return w}),E.d(Pt,"a",function(){return u}),E.d(Pt,"g",function(){return I}),E.d(Pt,"c",function(){return m}),E.d(Pt,"f",function(){return r}),E.d(Pt,"d",function(){return s.a}),E.d(Pt,"o",function(){return d}),E.d(Pt,"h",function(){return O}),E.d(Pt,"b",function(){return ct}),E.d(Pt,"i",function(){return pt}),E.d(Pt,"m",function(){return gt.c}),E.d(Pt,"l",function(){return gt.b});function Y(){for(var Et=[],K=0;K<arguments.length;K++)Et[K]=arguments[K];return function(ft){return Et.reduce(function(mt,yt){return yt(mt)},ft)}}function i(Et,K){var ft={};return Et!==null&&typeof Et=="object"&&K.forEach(function(mt){var yt=Et[mt];yt!==void 0&&(ft[mt]=yt)}),ft}var b=E("iTfj");function t(Et,K){return Object(b.reduce)(K,function(ft,mt,yt){return ft.replace(new RegExp("{\\s*"+yt+"\\s*}","g"),mt)},Et)}var n=E("mrSG"),u;(function(Et){Et.ERROR="error",Et.WARN="warn",Et.INFO="log"})(u||(u={}));var g="AntV/G2Plot";function x(Et){for(var K=[],ft=1;ft<arguments.length;ft++)K[ft-1]=arguments[ft];var mt=0;return g+": "+Et.replace(/%s/g,function(){return""+K[mt++]})}function c(Et,K){for(var ft=[],mt=2;mt<arguments.length;mt++)ft[mt-2]=arguments[mt];if(!Et){var yt=new Error(x.apply(void 0,Object(n.d)([K],ft)));throw yt.name=g,yt}}function w(Et,K,ft){for(var mt=[],yt=3;yt<arguments.length;yt++)mt[yt-3]=arguments[yt];K||console[Et](x.apply(void 0,Object(n.d)([ft],mt)))}function I(Et){if(!Et)return{width:0,height:0};var K=getComputedStyle(Et);return{width:(Et.clientWidth||parseInt(K.width,10))-parseInt(K.paddingLeft,10)-parseInt(K.paddingRight,10),height:(Et.clientHeight||parseInt(K.height,10))-parseInt(K.paddingTop,10)-parseInt(K.paddingBottom,10)}}function m(Et,K){return Et.geometries.find(function(ft){return ft.type===K})}function r(Et){return Object(b.reduce)(Et.geometries,function(K,ft){return K.concat(ft.elements)},[])}var s=E("4Olw");function d(Et){if(!Object(b.isType)(Et,"Object"))return Et;var K=Object(n.a)({},Et);return K.formatter&&!K.content&&(K.content=K.formatter),K}var C=E("6JdA");function S(Et,K){var ft=[];if(Et.length){ft.push(["M",Et[0].x,Et[0].y]);for(var mt=1,yt=Et.length;mt<yt;mt+=1){var wt=Et[mt];ft.push(["L",wt.x,wt.y])}K&&ft.push(["Z"])}return ft}var A=function(K,ft,mt,yt){var wt=[],J,lt,it=!!yt,_,P;if(it){_=[Infinity,Infinity],P=[-Infinity,-Infinity];for(var Q=0,k=K.length;Q<k;Q++){var p=K[Q];_=C.c.min([0,0],_,p),P=C.c.max([0,0],P,p)}_=C.c.min([0,0],_,yt[0]),P=C.c.max([0,0],P,yt[1])}for(var Q=0,y=K.length;Q<y;Q++){var p=K[Q];if(mt)J=K[Q?Q-1:y-1],lt=K[(Q+1)%y];else if(Q===0||Q===y-1){wt.push(p);continue}else J=K[Q-1],lt=K[Q+1];var B=[0,0];B=C.c.sub(B,lt,J),B=C.c.scale(B,B,ft);var W=C.c.distance(p,J),rt=C.c.distance(p,lt),st=W+rt;st!==0&&(W/=st,rt/=st);var ut=C.c.scale([0,0],B,-W),Mt=C.c.scale([0,0],B,rt),bt=C.c.add([0,0],p,ut),xt=C.c.add([0,0],p,Mt);it&&(bt=C.c.max([0,0],bt,_),bt=C.c.min([0,0],bt,P),xt=C.c.max([0,0],xt,_),xt=C.c.min([0,0],xt,P)),wt.push(bt),wt.push(xt)}return mt&&wt.push(wt.shift()),wt};function f(Et,K,ft){for(var mt=!!K,yt=[],wt=0,J=Et.length;wt<J;wt+=2)yt.push([Et[wt],Et[wt+1]]);for(var lt=A(yt,.4,mt,ft),it=yt.length,_=[],P,Q,k,wt=0;wt<it-1;wt++)P=lt[wt*2],Q=lt[wt*2+1],k=yt[wt+1],_.push(["C",P[0],P[1],Q[0],Q[1],k[0],k[1]]);return mt&&(P=lt[it],Q=lt[it+1],k=yt[0],_.push(["C",P[0],P[1],Q[0],Q[1],k[0],k[1]])),_}function O(Et,K,ft){var mt=[],yt=Et[0],wt=null;if(Et.length<=2)return S(Et,K);for(var J=0,lt=Et.length;J<lt;J++){var it=Et[J];(!wt||!(wt.x===it.x&&wt.y===it.y))&&(mt.push(it.x),mt.push(it.y),wt=it)}var _=ft||[[0,0],[1,1]],P=f(mt,K,_);return P.unshift(["M",yt.x,yt.y]),P}var j=5,D={}.toString,V=function(K,ft){return D.call(K)==="[object "+ft+"]"},H=function(K){return V(K,"Array")},$=function(K){return typeof K=="object"&&K!==null},dt=function(K){if(!$(K)||!V(K,"Object"))return!1;for(var ft=K;Object.getPrototypeOf(ft)!==null;)ft=Object.getPrototypeOf(ft);return Object.getPrototypeOf(K)===ft},Z=function Et(K,ft,mt,yt){mt=mt||0,yt=yt||j;for(var wt in ft)if(Object.prototype.hasOwnProperty.call(ft,wt)){var J=ft[wt];J?dt(J)?(dt(K[wt])||(K[wt]={}),mt<yt?Et(K[wt],J,mt+1,yt):K[wt]=ft[wt]):H(J)?(K[wt]=[],K[wt]=K[wt].concat(J)):K[wt]=J:K[wt]=J}},ct=function(K){for(var ft=[],mt=1;mt<arguments.length;mt++)ft[mt-1]=arguments[mt];for(var yt=0;yt<ft.length;yt+=1)Z(K,ft[yt]);return K};function pt(Et){if(!Et)return Et;var K=Et.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);return K.map(function(ft){return ft.toLowerCase()}).join("-")}var gt=E("mj6g"),at;function Bt(){return at||(at=document.createElement("canvas").getContext("2d")),at}var Lt=Object(b.memoize)(function(Et,K){K===void 0&&(K={});var ft=K.fontSize,mt=K.fontFamily,yt=mt===void 0?"sans-serif":mt,wt=K.fontWeight,J=K.fontStyle,lt=K.fontVariant,it=Bt();it.font=[J,wt,lt,ft+"px",yt].join(" ");var _=it.measureText(Object(b.isString)(Et)?Et:"");return _.width},function(Et,K){return K===void 0&&(K={}),Object(n.d)([Et],Object(b.values)(K)).join("")})},Z1HP:function(qe,Pt,E){var Y=E("ycre"),i=E("quyA"),b=E("q4HE");function t(n){return i(n)?b(n):Y(n)}qe.exports=t},Z8oC:function(qe,Pt,E){var Y=E("y1pI");function i(b,t){var n=this.__data__,u=Y(n,b);return u<0?(++this.size,n.push([b,t])):n[u][1]=t,this}qe.exports=i},ZCgT:function(qe,Pt,E){var Y=E("tLB3"),i=1/0,b=17976931348623157e292;function t(n){if(!n)return n===0?n:0;if(n=Y(n),n===i||n===-i){var u=n<0?-1:1;return u*b}return n===n?n:0}qe.exports=t},ZxFD:function(qe,Pt,E){"use strict";E.r(Pt),E.d(Pt,"create",function(){return i}),E.d(Pt,"clone",function(){return b}),E.d(Pt,"fromValues",function(){return t}),E.d(Pt,"copy",function(){return n}),E.d(Pt,"set",function(){return u}),E.d(Pt,"add",function(){return g}),E.d(Pt,"subtract",function(){return x}),E.d(Pt,"multiply",function(){return c}),E.d(Pt,"divide",function(){return w}),E.d(Pt,"ceil",function(){return I}),E.d(Pt,"floor",function(){return m}),E.d(Pt,"min",function(){return r}),E.d(Pt,"max",function(){return s}),E.d(Pt,"round",function(){return d}),E.d(Pt,"scale",function(){return C}),E.d(Pt,"scaleAndAdd",function(){return S}),E.d(Pt,"distance",function(){return A}),E.d(Pt,"squaredDistance",function(){return f}),E.d(Pt,"length",function(){return O}),E.d(Pt,"squaredLength",function(){return j}),E.d(Pt,"negate",function(){return D}),E.d(Pt,"inverse",function(){return V}),E.d(Pt,"normalize",function(){return H}),E.d(Pt,"dot",function(){return $}),E.d(Pt,"cross",function(){return dt}),E.d(Pt,"lerp",function(){return Z}),E.d(Pt,"random",function(){return ct}),E.d(Pt,"transformMat2",function(){return pt}),E.d(Pt,"transformMat2d",function(){return gt}),E.d(Pt,"transformMat3",function(){return at}),E.d(Pt,"transformMat4",function(){return Bt}),E.d(Pt,"rotate",function(){return Lt}),E.d(Pt,"angle",function(){return Et}),E.d(Pt,"zero",function(){return K}),E.d(Pt,"str",function(){return ft}),E.d(Pt,"exactEquals",function(){return mt}),E.d(Pt,"equals",function(){return yt}),E.d(Pt,"len",function(){return wt}),E.d(Pt,"sub",function(){return J}),E.d(Pt,"mul",function(){return lt}),E.d(Pt,"div",function(){return it}),E.d(Pt,"dist",function(){return _}),E.d(Pt,"sqrDist",function(){return P}),E.d(Pt,"sqrLen",function(){return Q}),E.d(Pt,"forEach",function(){return k});var Y=E("yU0y");function i(){var p=new Y.a(2);return Y.a!=Float32Array&&(p[0]=0,p[1]=0),p}function b(p){var y=new Y.a(2);return y[0]=p[0],y[1]=p[1],y}function t(p,y){var B=new Y.a(2);return B[0]=p,B[1]=y,B}function n(p,y){return p[0]=y[0],p[1]=y[1],p}function u(p,y,B){return p[0]=y,p[1]=B,p}function g(p,y,B){return p[0]=y[0]+B[0],p[1]=y[1]+B[1],p}function x(p,y,B){return p[0]=y[0]-B[0],p[1]=y[1]-B[1],p}function c(p,y,B){return p[0]=y[0]*B[0],p[1]=y[1]*B[1],p}function w(p,y,B){return p[0]=y[0]/B[0],p[1]=y[1]/B[1],p}function I(p,y){return p[0]=Math.ceil(y[0]),p[1]=Math.ceil(y[1]),p}function m(p,y){return p[0]=Math.floor(y[0]),p[1]=Math.floor(y[1]),p}function r(p,y,B){return p[0]=Math.min(y[0],B[0]),p[1]=Math.min(y[1],B[1]),p}function s(p,y,B){return p[0]=Math.max(y[0],B[0]),p[1]=Math.max(y[1],B[1]),p}function d(p,y){return p[0]=Math.round(y[0]),p[1]=Math.round(y[1]),p}function C(p,y,B){return p[0]=y[0]*B,p[1]=y[1]*B,p}function S(p,y,B,W){return p[0]=y[0]+B[0]*W,p[1]=y[1]+B[1]*W,p}function A(p,y){var B=y[0]-p[0],W=y[1]-p[1];return Math.hypot(B,W)}function f(p,y){var B=y[0]-p[0],W=y[1]-p[1];return B*B+W*W}function O(p){var y=p[0],B=p[1];return Math.hypot(y,B)}function j(p){var y=p[0],B=p[1];return y*y+B*B}function D(p,y){return p[0]=-y[0],p[1]=-y[1],p}function V(p,y){return p[0]=1/y[0],p[1]=1/y[1],p}function H(p,y){var B=y[0],W=y[1],rt=B*B+W*W;return rt>0&&(rt=1/Math.sqrt(rt)),p[0]=y[0]*rt,p[1]=y[1]*rt,p}function $(p,y){return p[0]*y[0]+p[1]*y[1]}function dt(p,y,B){var W=y[0]*B[1]-y[1]*B[0];return p[0]=p[1]=0,p[2]=W,p}function Z(p,y,B,W){var rt=y[0],st=y[1];return p[0]=rt+W*(B[0]-rt),p[1]=st+W*(B[1]-st),p}function ct(p,y){y=y||1;var B=Y.c()*2*Math.PI;return p[0]=Math.cos(B)*y,p[1]=Math.sin(B)*y,p}function pt(p,y,B){var W=y[0],rt=y[1];return p[0]=B[0]*W+B[2]*rt,p[1]=B[1]*W+B[3]*rt,p}function gt(p,y,B){var W=y[0],rt=y[1];return p[0]=B[0]*W+B[2]*rt+B[4],p[1]=B[1]*W+B[3]*rt+B[5],p}function at(p,y,B){var W=y[0],rt=y[1];return p[0]=B[0]*W+B[3]*rt+B[6],p[1]=B[1]*W+B[4]*rt+B[7],p}function Bt(p,y,B){var W=y[0],rt=y[1];return p[0]=B[0]*W+B[4]*rt+B[12],p[1]=B[1]*W+B[5]*rt+B[13],p}function Lt(p,y,B,W){var rt=y[0]-B[0],st=y[1]-B[1],ut=Math.sin(W),Mt=Math.cos(W);return p[0]=rt*Mt-st*ut+B[0],p[1]=rt*ut+st*Mt+B[1],p}function Et(p,y){var B=p[0],W=p[1],rt=y[0],st=y[1],ut=Math.sqrt(B*B+W*W)*Math.sqrt(rt*rt+st*st),Mt=ut&&(B*rt+W*st)/ut;return Math.acos(Math.min(Math.max(Mt,-1),1))}function K(p){return p[0]=0,p[1]=0,p}function ft(p){return"vec2("+p[0]+", "+p[1]+")"}function mt(p,y){return p[0]===y[0]&&p[1]===y[1]}function yt(p,y){var B=p[0],W=p[1],rt=y[0],st=y[1];return Math.abs(B-rt)<=Y.b*Math.max(1,Math.abs(B),Math.abs(rt))&&Math.abs(W-st)<=Y.b*Math.max(1,Math.abs(W),Math.abs(st))}var wt=O,J=x,lt=c,it=w,_=A,P=f,Q=j,k=function(){var p=i();return function(y,B,W,rt,st,ut){var Mt,bt;for(B||(B=2),W||(W=0),rt?bt=Math.min(rt*B+W,y.length):bt=y.length,Mt=W;Mt<bt;Mt+=B)p[0]=y[Mt],p[1]=y[Mt+1],st(p,p,ut),y[Mt]=p[0],y[Mt+1]=p[1];return y}}()},a8tM:function(qe,Pt,E){"use strict";E.d(Pt,"c",function(){return j}),E.d(Pt,"b",function(){return dt}),E.d(Pt,"a",function(){return Z});var Y=E("rePB");function i(ct){var pt=0,gt=ct.children,at=gt&&gt.length;if(!at)pt=1;else for(;--at>=0;)pt+=gt[at].value;ct.value=pt}var b=function(){return this.eachAfter(i)},t=E("uFwe"),n=function(ct,pt){var gt=-1,at=Object(t.a)(this),Bt;try{for(at.s();!(Bt=at.n()).done;){var Lt=Bt.value;ct.call(pt,Lt,++gt,this)}}catch(Et){at.e(Et)}finally{at.f()}return this},u=function(ct,pt){for(var gt=this,at=[gt],Bt,Lt,Et=-1;gt=at.pop();)if(ct.call(pt,gt,++Et,this),Bt=gt.children)for(Lt=Bt.length-1;Lt>=0;--Lt)at.push(Bt[Lt]);return this},g=function(ct,pt){for(var gt=this,at=[gt],Bt=[],Lt,Et,K,ft=-1;gt=at.pop();)if(Bt.push(gt),Lt=gt.children)for(Et=0,K=Lt.length;Et<K;++Et)at.push(Lt[Et]);for(;gt=Bt.pop();)ct.call(pt,gt,++ft,this);return this},x=function(ct,pt){var gt=-1,at=Object(t.a)(this),Bt;try{for(at.s();!(Bt=at.n()).done;){var Lt=Bt.value;if(ct.call(pt,Lt,++gt,this))return Lt}}catch(Et){at.e(Et)}finally{at.f()}},c=function(ct){return this.eachAfter(function(pt){for(var gt=+ct(pt.data)||0,at=pt.children,Bt=at&&at.length;--Bt>=0;)gt+=at[Bt].value;pt.value=gt})},w=function(ct){return this.eachBefore(function(pt){pt.children&&pt.children.sort(ct)})},I=function(ct){for(var pt=this,gt=m(pt,ct),at=[pt];pt!==gt;)pt=pt.parent,at.push(pt);for(var Bt=at.length;ct!==gt;)at.splice(Bt,0,ct),ct=ct.parent;return at};function m(ct,pt){if(ct===pt)return ct;var gt=ct.ancestors(),at=pt.ancestors(),Bt=null;for(ct=gt.pop(),pt=at.pop();ct===pt;)Bt=ct,ct=gt.pop(),pt=at.pop();return Bt}var r=function(){for(var ct=this,pt=[ct];ct=ct.parent;)pt.push(ct);return pt},s=function(){return Array.from(this)},d=function(){var ct=[];return this.eachBefore(function(pt){pt.children||ct.push(pt)}),ct},C=function(){var ct=this,pt=[];return ct.each(function(gt){gt!==ct&&pt.push({source:gt.parent,target:gt})}),pt},S=E("o0o1"),A=E.n(S),f=A.a.mark(O);function O(){var ct,pt,gt,at,Bt,Lt;return A.a.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:ct=this,gt=[ct];case 1:pt=gt.reverse(),gt=[];case 2:if(!(ct=pt.pop())){K.next=8;break}return K.next=5,ct;case 5:if(at=ct.children)for(Bt=0,Lt=at.length;Bt<Lt;++Bt)gt.push(at[Bt]);K.next=2;break;case 8:if(gt.length){K.next=1;break}case 9:case"end":return K.stop()}},f,this)}function j(ct,pt){ct instanceof Map?(ct=[void 0,ct],pt===void 0&&(pt=H)):pt===void 0&&(pt=V);for(var gt=new Z(ct),at,Bt=[gt],Lt,Et,K,ft;at=Bt.pop();)if((Et=pt(at.data))&&(ft=(Et=Array.from(Et)).length))for(at.children=Et,K=ft-1;K>=0;--K)Bt.push(Lt=Et[K]=new Z(Et[K])),Lt.parent=at,Lt.depth=at.depth+1;return gt.eachBefore(dt)}function D(){return j(this).eachBefore($)}function V(ct){return ct.children}function H(ct){return Array.isArray(ct)?ct[1]:null}function $(ct){ct.data.value!==void 0&&(ct.value=ct.data.value),ct.data=ct.data.data}function dt(ct){var pt=0;do ct.height=pt;while((ct=ct.parent)&&ct.height<++pt)}function Z(ct){this.data=ct,this.depth=this.height=0,this.parent=null}Z.prototype=j.prototype=Object(Y.a)({constructor:Z,count:b,each:n,eachAfter:g,eachBefore:u,find:x,sum:c,sort:w,path:I,ancestors:r,descendants:s,leaves:d,links:C,copy:D},Symbol.iterator,O)},aFU3:function(qe,Pt,E){"use strict";E.r(Pt),E.d(Pt,"version",function(){return S});var Y=E("tvuL");E.d(Pt,"PathUtil",function(){return Y});var i=E("4cbP"),b=E.n(i);for(var t in i)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(t)<0&&function(A){E.d(Pt,A,function(){return i[A]})}(t);var n=E("tdXX"),u=E.n(n);for(var t in n)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(t)<0&&function(f){E.d(Pt,f,function(){return n[f]})}(t);var g=E("5eLp");E.d(Pt,"Event",function(){return g.a});var x=E("LmB6");E.d(Pt,"Base",function(){return x.a});var c=E("EkMX");E.d(Pt,"AbstractCanvas",function(){return c.a});var w=E("+DwW");E.d(Pt,"AbstractGroup",function(){return w.a});var I=E("MaEA");E.d(Pt,"AbstractShape",function(){return I.a});var m=E("1MZV");E.d(Pt,"getBBoxMethod",function(){return m.a});var r=E("vIgC");E.d(Pt,"getTextHeight",function(){return r.b}),E.d(Pt,"assembleFont",function(){return r.a});var s=E("sstZ");E.d(Pt,"isAllowCapture",function(){return s.b});var d=E("aSjE");E.d(Pt,"multiplyVec2",function(){return d.c}),E.d(Pt,"invert",function(){return d.a});var C=E("lt7v");E.d(Pt,"getOffScreenContext",function(){return C.a});var S="0.5.4"},aLzy:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return J});var Y=E("mrSG"),i=E("zJSt"),b=E("w02o"),t=E("YuPD"),n=E("5OoT"),u=E("iTfj"),g=E("5HRO"),x=E("WOQw"),c="$$percentage$$",w="$$mappingValue$$",I="$$conversion$$",m="$$totalPercentage$$",r="$$x$$",s="$$y$$";function d(lt,it,_){var P=[],Q=_.yField,k=_.maxSize,p=_.minSize,y=Object(u.maxBy)(it,Q)[Q],B=Object(u.isNumber)(k)?k:1,W=Object(u.isNumber)(p)?p:0;return P=Object(u.map)(lt,function(rt,st){var ut=(rt[Q]||0)/y;return rt[c]=ut,rt[w]=(B-W)*ut+W,rt[I]=[Object(u.get)(lt,[st-1,Q]),rt[Q]],rt}),P}function C(lt){return function(it){var _=it.chart,P=it.options,Q=P.conversionTag,k=_.getOptions().data;if(Q){var p=Q.formatter;k.forEach(function(y,B){if(!(B<=0)){var W=lt(y,B,k,{top:!0,text:{content:Object(u.isFunction)(p)?p(y,k):p,offsetX:Q.offsetX,offsetY:Q.offsetY,position:"end",autoRotate:!1,style:Object(Y.a)({textAlign:"start",textBaseline:"middle"},Q.style)}});_.annotation().line(W)}})}return it}}function S(lt){var it=lt.chart,_=lt.options,P=_.data,Q=P===void 0?[]:P,k=_.yField,p=_.maxSize,y=_.minSize,B=d(Q,Q,{yField:k,maxSize:p,minSize:y});return it.data(B),lt}function A(lt){var it=lt.chart,_=lt.options,P=_.xField,Q=_.yField,k=_.color,p=_.tooltip,y=_.label,B=Object(g.a)(p,[P,Q]),W=B.fields,rt=B.formatter;Object(x.a)({chart:it,options:{type:"interval",xField:P,yField:w,colorField:P,tooltipFields:Object(u.isArray)(W)&&W.concat([c,I]),mapping:{shape:"funnel",tooltip:rt,color:k},label:y}});var st=Object(t.c)(lt.chart,"interval");return st.adjust("symmetric"),lt}function f(lt){var it=lt.chart,_=lt.options,P=_.isTransposed;return it.coordinate({type:"rect",actions:P?[]:[["transpose"],["scale",1,-1]]}),lt}function O(lt){var it=lt.options,_=it.maxSize,P=function(k,p,y,B){var W=_-(_-k[w])/2;return Object(Y.a)(Object(Y.a)({},B),{start:[p-.5,W],end:[p-.5,W+.05]})};return C(P)(lt),lt}function j(lt){return Object(t.e)(S,A,f,O)(lt)}function D(lt){var it,_=lt.chart,P=lt.options,Q=P.data,k=Q===void 0?[]:Q,p=P.yField;return _.data(k),_.scale((it={},it[p]={sync:!0},it)),lt}function V(lt){var it=lt.chart,_=lt.options,P=_.data,Q=_.xField,k=_.yField,p=_.color,y=_.compareField,B=_.isTransposed,W=_.tooltip,rt=_.maxSize,st=_.minSize,ut=_.label;return it.facet("mirror",{fields:[y],transpose:!B,padding:B?0:[32,0,0,0],eachView:function(bt,xt){var Ot=B?xt.rowIndex:xt.columnIndex;B||bt.coordinate({type:"rect",actions:[["transpose"],["scale",Ot===0?-1:1,-1]]});var jt=d(xt.data,P,{yField:k,maxSize:rt,minSize:st});bt.data(jt);var Dt=Object(g.a)(W,[Q,k,y]),zt=Dt.fields,Tt=Dt.formatter,Vt=B?{offset:Ot===0?10:-23,position:Ot===0?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:Ot===0?"end":"start"}};Object(x.a)({chart:bt,options:{type:"interval",xField:Q,yField:w,colorField:Q,tooltipFields:Object(u.isArray)(zt)&&zt.concat([c,I]),mapping:{shape:"funnel",tooltip:Tt,color:p,style:{lineWidth:1,stroke:"#fff"}},label:ut===!1?!1:Object(t.b)({},Vt,ut)}})}}),lt}function H(lt){var it=lt.chart,_=lt.options,P=_.conversionTag,Q=_.isTransposed;return it.once("beforepaint",function(){it.views.forEach(function(k,p){var y=function(W,rt,st,ut){var Mt=p===0?-1:1;return Object(t.b)({},ut,{start:[rt-.5,W[w]],end:[rt-.5,W[w]+.05],text:Q?{style:{textAlign:"start"}}:{offsetX:P!==!1?Mt*P.offsetX:0,style:{textAlign:p===0?"end":"start"}}})};C(y)(Object(t.b)({},{chart:k,options:_}))})}),lt}function $(lt){return Object(t.e)(D,V,H)(lt)}function dt(lt){var it,_=lt.chart,P=lt.options,Q=P.data,k=Q===void 0?[]:Q,p=P.yField;return _.data(k),_.scale((it={},it[p]={sync:!0},it)),lt}function Z(lt){var it=lt.chart,_=lt.options,P=_.seriesField,Q=_.isTransposed;return it.facet("rect",{fields:[P],padding:[Q?0:32,10,0,10],eachView:function(p,y){j(Object(t.b)({},lt,{chart:p,options:{data:y.data}}))}}),lt}function ct(lt){return Object(t.e)(dt,Z)(lt)}function pt(lt){var it=lt.chart,_=lt.options,P=_.data,Q=P===void 0?[]:P,k=_.yField,p=Object(u.reduce)(Q,function(W,rt){return W+(rt[k]||0)},0),y=Object(u.maxBy)(Q,k)[k],B=Object(u.map)(Q,function(W,rt){var st=[],ut=[];if(W[m]=(W[k]||0)/p,rt){var Mt=Q[rt-1][r],bt=Q[rt-1][s];st[0]=Mt[3],ut[0]=bt[3],st[1]=Mt[2],ut[1]=bt[2]}else st[0]=-.5,ut[0]=1,st[1]=.5,ut[1]=1;return ut[2]=ut[1]-W[m],st[2]=(ut[2]+1)/4,ut[3]=ut[2],st[3]=-st[2],W[r]=st,W[s]=ut,W[c]=(W[k]||0)/y,W[I]=[Object(u.get)(Q,[rt-1,k]),W[k]],W});return it.data(B),lt}function gt(lt){var it=lt.chart,_=lt.options,P=_.xField,Q=_.yField,k=_.color,p=_.tooltip,y=_.label,B=Object(g.a)(p,[P,Q]),W=B.fields,rt=B.formatter;return Object(x.a)({chart:it,options:{type:"polygon",xField:r,yField:s,colorField:P,tooltipFields:Object(u.isArray)(W)&&W.concat([c,I]),label:y,mapping:{tooltip:rt,color:k}}}),lt}function at(lt){var it=lt.chart,_=lt.options,P=_.isTransposed;return it.coordinate({type:"rect",actions:P?[["transpose"],["reflect","x"]]:[]}),lt}function Bt(lt){var it=function(P,Q,k,p){return Object(Y.a)(Object(Y.a)({},p),{start:[P[r][1],P[s][1]],end:[P[r][1]+.05,P[s][1]]})};return C(it)(lt),lt}function Lt(lt){return Object(t.e)(pt,gt,at,Bt)(lt)}function Et(lt){var it,_=lt.options,P=_.compareField,Q=_.xField,k=_.yField,p={minSize:0,maxSize:1,meta:(it={},it[w]={min:0,max:1,nice:!1},it),label:P?{fields:[Q,k,P,c,I],style:{fill:"#fff",fontSize:12},formatter:function(B){return""+B[k]}}:{fields:[Q,k,c,I],offset:0,position:"middle",style:{fill:"#fff",fontSize:12},formatter:function(B){return B[Q]+" "+B[k]}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,title:Q,formatter:function(B){return{name:B[Q],value:B[k]}}},conversionTag:{offsetX:10,offsetY:0,style:{},formatter:function(B){return"\u8F6C\u5316\u7387: "+n.a.apply(void 0,B[I])}}};return Object(t.b)({options:p},lt)}function K(lt){var it=lt.options,_=it.compareField,P=it.dynamicHeight,Q=it.seriesField;return Q?ct(lt):_?$(lt):P?Lt(lt):j(lt)}function ft(lt){var it,_=lt.options,P=_.xAxis,Q=_.yAxis,k=_.xField,p=_.yField;return Object(t.e)(Object(b.f)((it={},it[k]=P,it[p]=Q,it)))(lt)}function mt(lt){var it=lt.chart;return it.axis(!1),lt}function yt(lt){var it=lt.chart,_=lt.options,P=_.legend;return P===!1?it.legend(!1):it.legend(P),lt}function wt(lt){return Object(t.e)(Et,K,ft,mt,b.k,b.c,yt,b.a,b.j,Object(b.b)())(lt)}var J=function(lt){Object(Y.b)(it,lt);function it(){var _=lt!==null&&lt.apply(this,arguments)||this;return _.type="funnel",_}return it.prototype.getDefaultOptions=function(){return{appendPadding:[0,80]}},it.prototype.getSchemaAdaptor=function(){return wt},it}(i.a)},aN7R:function(qe,Pt,E){"use strict";E.r(Pt),E.d(Pt,"Base",function(){return w}),E.d(Pt,"Circle",function(){return r}),E.d(Pt,"Dom",function(){return d}),E.d(Pt,"Ellipse",function(){return S}),E.d(Pt,"Image",function(){return f}),E.d(Pt,"Line",function(){return D}),E.d(Pt,"Marker",function(){return dt}),E.d(Pt,"Path",function(){return ct}),E.d(Pt,"Polygon",function(){return gt}),E.d(Pt,"Polyline",function(){return Bt}),E.d(Pt,"Rect",function(){return yt}),E.d(Pt,"Text",function(){return Q});var Y={};E.r(Y),E.d(Y,"Base",function(){return w}),E.d(Y,"Circle",function(){return r}),E.d(Y,"Dom",function(){return d}),E.d(Y,"Ellipse",function(){return S}),E.d(Y,"Image",function(){return f}),E.d(Y,"Line",function(){return D}),E.d(Y,"Marker",function(){return dt}),E.d(Y,"Path",function(){return ct}),E.d(Y,"Polygon",function(){return gt}),E.d(Y,"Polyline",function(){return Bt}),E.d(Y,"Rect",function(){return yt}),E.d(Y,"Text",function(){return Q});var i=E("mrSG"),b=E("aFU3"),t=E("APlK"),n=E("c+wO"),u=E("c0lT"),g=E("IvmH"),x=E("5z4m"),c=function(k){Object(i.b)(p,k);function p(){var y=k!==null&&k.apply(this,arguments)||this;return y.type="svg",y.canFill=!1,y.canStroke=!1,y}return p.prototype.getDefaultAttrs=function(){var y=k.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},y),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},p.prototype.afterAttrsChange=function(y){k.prototype.afterAttrsChange.call(this,y);var B=this.get("canvas");if(B&&B.get("autoDraw")){var W=B.get("context");this.draw(W,y)}},p.prototype.getShapeBase=function(){return Y},p.prototype.getGroupBase=function(){return x.a},p.prototype.onCanvasChange=function(y){Object(u.b)(this,y)},p.prototype.calculateBBox=function(){var y=this.get("el"),B=null;if(y)B=y.getBBox();else{var W=Object(b.getBBoxMethod)(this.get("type"));W&&(B=W(this))}if(B){var rt=B.x,st=B.y,ut=B.width,Mt=B.height,bt=this.getHitLineWidth(),xt=bt/2,Ot=rt-xt,jt=st-xt,Dt=rt+ut+xt,zt=st+Mt+xt;return{x:Ot,y:jt,minX:Ot,minY:jt,maxX:Dt,maxY:zt,width:ut+bt,height:Mt+bt}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},p.prototype.isFill=function(){var y=this.attr(),B=y.fill,W=y.fillStyle;return(B||W||this.isClipShape())&&this.canFill},p.prototype.isStroke=function(){var y=this.attr(),B=y.stroke,W=y.strokeStyle;return(B||W)&&this.canStroke},p.prototype.draw=function(y,B){var W=this.get("el");this.get("destroyed")?W&&W.parentNode.removeChild(W):(W||Object(n.a)(this),Object(t.a)(this,y),this.createPath(y,B),this.shadow(y,B),this.strokeAndFill(y,B),this.transform(B))},p.prototype.createPath=function(y,B){},p.prototype.strokeAndFill=function(y,B){var W=B||this.attr(),rt=W.fill,st=W.fillStyle,ut=W.stroke,Mt=W.strokeStyle,bt=W.fillOpacity,xt=W.strokeOpacity,Ot=W.lineWidth,jt=this.get("el");this.canFill&&(B?"fill"in W?this._setColor(y,"fill",rt):"fillStyle"in W&&this._setColor(y,"fill",st):this._setColor(y,"fill",rt||st),bt&&jt.setAttribute(g.b.fillOpacity,bt)),this.canStroke&&Ot>0&&(B?"stroke"in W?this._setColor(y,"stroke",ut):"strokeStyle"in W&&this._setColor(y,"stroke",Mt):this._setColor(y,"stroke",ut||Mt),xt&&jt.setAttribute(g.b.strokeOpacity,xt),Ot&&jt.setAttribute(g.b.lineWidth,Ot))},p.prototype._setColor=function(y,B,W){var rt=this.get("el");if(!W){rt.setAttribute(g.b[B],"none");return}if(W=W.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(W)){var st=y.find("gradient",W);st||(st=y.addGradient(W)),rt.setAttribute(g.b[B],"url(#"+st+")")}else if(/^[p,P]{1}[\s]*\(/.test(W)){var st=y.find("pattern",W);st||(st=y.addPattern(W)),rt.setAttribute(g.b[B],"url(#"+st+")")}else rt.setAttribute(g.b[B],W)},p.prototype.shadow=function(y,B){var W=this.attr(),rt=B||W,st=rt.shadowOffsetX,ut=rt.shadowOffsetY,Mt=rt.shadowBlur,bt=rt.shadowColor;(st||ut||Mt||bt)&&Object(t.b)(this,y)},p.prototype.transform=function(y){var B=this.attr(),W=(y||B).matrix;W&&Object(t.c)(this)},p.prototype.isInShape=function(y,B){return this.isPointInPath(y,B)},p.prototype.isPointInPath=function(y,B){var W=this.get("el"),rt=this.get("canvas"),st=rt.get("el").getBoundingClientRect(),ut=y+st.left,Mt=B+st.top,bt=document.elementFromPoint(ut,Mt);return!!(bt&&bt.isEqualNode(W))},p.prototype.getHitLineWidth=function(){var y=this.attrs,B=y.lineWidth,W=y.lineAppendWidth;return this.isStroke()?B+W:0},p}(b.AbstractShape),w=c,I=E("iTfj"),m=function(k){Object(i.b)(p,k);function p(){var y=k!==null&&k.apply(this,arguments)||this;return y.type="circle",y.canFill=!0,y.canStroke=!0,y}return p.prototype.getDefaultAttrs=function(){var y=k.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},y),{x:0,y:0,r:0})},p.prototype.createPath=function(y,B){var W=this.attr(),rt=this.get("el");Object(I.each)(B||W,function(st,ut){ut==="x"||ut==="y"?rt.setAttribute("c"+ut,st):g.b[ut]&&rt.setAttribute(g.b[ut],st)})},p}(w),r=m,s=function(k){Object(i.b)(p,k);function p(){var y=k!==null&&k.apply(this,arguments)||this;return y.type="dom",y.canFill=!1,y.canStroke=!1,y}return p.prototype.createPath=function(y,B){var W=this.attr(),rt=this.get("el");if(Object(I.each)(B||W,function(bt,xt){g.b[xt]&&rt.setAttribute(g.b[xt],bt)}),typeof W.html=="function"){var st=W.html.call(this,W);if(st instanceof Element||st instanceof HTMLDocument){for(var ut=rt.childNodes,Mt=ut.length-1;Mt>=0;Mt--)rt.removeChild(ut[Mt]);rt.appendChild(st)}else rt.innerHTML=st}else rt.innerHTML=W.html},p}(w),d=s,C=function(k){Object(i.b)(p,k);function p(){var y=k!==null&&k.apply(this,arguments)||this;return y.type="ellipse",y.canFill=!0,y.canStroke=!0,y}return p.prototype.getDefaultAttrs=function(){var y=k.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},y),{x:0,y:0,rx:0,ry:0})},p.prototype.createPath=function(y,B){var W=this.attr(),rt=this.get("el");Object(I.each)(B||W,function(st,ut){ut==="x"||ut==="y"?rt.setAttribute("c"+ut,st):g.b[ut]&&rt.setAttribute(g.b[ut],st)})},p}(w),S=C,A=function(k){Object(i.b)(p,k);function p(){var y=k!==null&&k.apply(this,arguments)||this;return y.type="image",y.canFill=!1,y.canStroke=!1,y}return p.prototype.getDefaultAttrs=function(){var y=k.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},y),{x:0,y:0,width:0,height:0})},p.prototype.createPath=function(y,B){var W=this,rt=this.attr(),st=this.get("el");Object(I.each)(B||rt,function(ut,Mt){Mt==="img"?W._setImage(rt.img):g.b[Mt]&&st.setAttribute(g.b[Mt],ut)})},p.prototype.setAttr=function(y,B){this.attrs[y]=B,y==="img"&&this._setImage(B)},p.prototype._setImage=function(y){var B=this.attr(),W=this.get("el");if(Object(I.isString)(y))W.setAttribute("href",y);else if(y instanceof window.Image)B.width||(W.setAttribute("width",y.width),this.attr("width",y.width)),B.height||(W.setAttribute("height",y.height),this.attr("height",y.height)),W.setAttribute("href",y.src);else if(y instanceof HTMLElement&&Object(I.isString)(y.nodeName)&&y.nodeName.toUpperCase()==="CANVAS")W.setAttribute("href",y.toDataURL());else if(y instanceof ImageData){var rt=document.createElement("canvas");rt.setAttribute("width",""+y.width),rt.setAttribute("height",""+y.height),rt.getContext("2d").putImageData(y,0,0),B.width||(W.setAttribute("width",""+y.width),this.attr("width",y.width)),B.height||(W.setAttribute("height",""+y.height),this.attr("height",y.height)),W.setAttribute("href",rt.toDataURL())}},p}(w),f=A,O=E("EYNi"),j=function(k){Object(i.b)(p,k);function p(){var y=k!==null&&k.apply(this,arguments)||this;return y.type="line",y.canFill=!1,y.canStroke=!0,y}return p.prototype.getDefaultAttrs=function(){var y=k.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},y),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},p.prototype.createPath=function(y,B){var W=this.attr(),rt=this.get("el");Object(I.each)(B||W,function(st,ut){if(ut==="startArrow"||ut==="endArrow")if(st){var Mt=Object(I.isObject)(st)?y.addArrow(W,g.b[ut]):y.getDefaultArrow(W,g.b[ut]);rt.setAttribute(g.b[ut],"url(#"+Mt+")")}else rt.removeAttribute(g.b[ut]);else g.b[ut]&&rt.setAttribute(g.b[ut],st)})},p.prototype.getTotalLength=function(){var y=this.attr(),B=y.x1,W=y.y1,rt=y.x2,st=y.y2;return O.c.length(B,W,rt,st)},p.prototype.getPoint=function(y){var B=this.attr(),W=B.x1,rt=B.y1,st=B.x2,ut=B.y2;return O.c.pointAt(W,rt,st,ut,y)},p}(w),D=j,V={circle:function(p,y,B){return[["M",p,y],["m",-B,0],["a",B,B,0,1,0,B*2,0],["a",B,B,0,1,0,-B*2,0]]},square:function(p,y,B){return[["M",p-B,y-B],["L",p+B,y-B],["L",p+B,y+B],["L",p-B,y+B],["Z"]]},diamond:function(p,y,B){return[["M",p-B,y],["L",p,y-B],["L",p+B,y],["L",p,y+B],["Z"]]},triangle:function(p,y,B){var W=B*Math.sin(1/3*Math.PI);return[["M",p-B,y+W],["L",p,y-W],["L",p+B,y+W],["z"]]},triangleDown:function(p,y,B){var W=B*Math.sin(1/3*Math.PI);return[["M",p-B,y-W],["L",p+B,y-W],["L",p,y+W],["Z"]]}},H={get:function(p){return V[p]},register:function(p,y){V[p]=y},remove:function(p){delete V[p]},getAll:function(){return V}},$=function(k){Object(i.b)(p,k);function p(){var y=k!==null&&k.apply(this,arguments)||this;return y.type="marker",y.canFill=!0,y.canStroke=!0,y}return p.prototype.createPath=function(y){var B=this.get("el");B.setAttribute("d",this._assembleMarker())},p.prototype._assembleMarker=function(){var y=this._getPath();return Object(I.isArray)(y)?y.map(function(B){return B.join(" ")}).join(""):y},p.prototype._getPath=function(){var y=this.attr(),B=y.x,W=y.y,rt=y.r||y.radius,st=y.symbol||"circle",ut;return Object(I.isFunction)(st)?ut=st:ut=H.get(st),ut?ut(B,W,rt):(console.warn(ut+" symbol is not exist."),null)},p.symbolsFactory=H,p}(w),dt=$,Z=function(k){Object(i.b)(p,k);function p(){var y=k!==null&&k.apply(this,arguments)||this;return y.type="path",y.canFill=!0,y.canStroke=!0,y}return p.prototype.getDefaultAttrs=function(){var y=k.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},y),{startArrow:!1,endArrow:!1})},p.prototype.createPath=function(y,B){var W=this,rt=this.attr(),st=this.get("el");Object(I.each)(B||rt,function(ut,Mt){if(Mt==="path"&&Object(I.isArray)(ut))st.setAttribute("d",W._formatPath(ut));else if(Mt==="startArrow"||Mt==="endArrow")if(ut){var bt=Object(I.isObject)(ut)?y.addArrow(rt,g.b[Mt]):y.getDefaultArrow(rt,g.b[Mt]);st.setAttribute(g.b[Mt],"url(#"+bt+")")}else st.removeAttribute(g.b[Mt]);else g.b[Mt]&&st.setAttribute(g.b[Mt],ut)})},p.prototype._formatPath=function(y){var B=y.map(function(W){return W.join(" ")}).join("");return~B.indexOf("NaN")?"":B},p.prototype.getTotalLength=function(){var y=this.get("el");return y?y.getTotalLength():null},p.prototype.getPoint=function(y){var B=this.get("el"),W=this.getTotalLength();if(W===0)return null;var rt=B?B.getPointAtLength(y*W):null;return rt?{x:rt.x,y:rt.y}:null},p}(w),ct=Z,pt=function(k){Object(i.b)(p,k);function p(){var y=k!==null&&k.apply(this,arguments)||this;return y.type="polygon",y.canFill=!0,y.canStroke=!0,y}return p.prototype.createPath=function(y,B){var W=this.attr(),rt=this.get("el");Object(I.each)(B||W,function(st,ut){ut==="points"&&Object(I.isArray)(st)&&st.length>=2?rt.setAttribute("points",st.map(function(Mt){return Mt[0]+","+Mt[1]}).join(" ")):g.b[ut]&&rt.setAttribute(g.b[ut],st)})},p}(w),gt=pt,at=function(k){Object(i.b)(p,k);function p(){var y=k!==null&&k.apply(this,arguments)||this;return y.type="polyline",y.canFill=!0,y.canStroke=!0,y}return p.prototype.getDefaultAttrs=function(){var y=k.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},y),{startArrow:!1,endArrow:!1})},p.prototype.onAttrChange=function(y,B,W){k.prototype.onAttrChange.call(this,y,B,W),["points"].indexOf(y)!==-1&&this._resetCache()},p.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},p.prototype.createPath=function(y,B){var W=this.attr(),rt=this.get("el");Object(I.each)(B||W,function(st,ut){ut==="points"&&Object(I.isArray)(st)&&st.length>=2?rt.setAttribute("points",st.map(function(Mt){return Mt[0]+","+Mt[1]}).join(" ")):g.b[ut]&&rt.setAttribute(g.b[ut],st)})},p.prototype.getTotalLength=function(){var y=this.attr().points,B=this.get("totalLength");return Object(I.isNil)(B)?(this.set("totalLength",O.d.length(y)),this.get("totalLength")):B},p.prototype.getPoint=function(y){var B=this.attr().points,W=this.get("tCache");W||(this._setTcache(),W=this.get("tCache"));var rt,st;return Object(I.each)(W,function(ut,Mt){y>=ut[0]&&y<=ut[1]&&(rt=(y-ut[0])/(ut[1]-ut[0]),st=Mt)}),O.c.pointAt(B[st][0],B[st][1],B[st+1][0],B[st+1][1],rt)},p.prototype._setTcache=function(){var y=this.attr().points;if(!(!y||y.length===0)){var B=this.getTotalLength();if(!(B<=0)){var W=0,rt=[],st,ut;Object(I.each)(y,function(Mt,bt){y[bt+1]&&(st=[],st[0]=W/B,ut=O.c.length(Mt[0],Mt[1],y[bt+1][0],y[bt+1][1]),W+=ut,st[1]=W/B,rt.push(st))}),this.set("tCache",rt)}}},p.prototype.getStartTangent=function(){var y=this.attr().points,B=[];return B.push([y[1][0],y[1][1]]),B.push([y[0][0],y[0][1]]),B},p.prototype.getEndTangent=function(){var y=this.attr().points,B=y.length-1,W=[];return W.push([y[B-1][0],y[B-1][1]]),W.push([y[B][0],y[B][1]]),W},p}(w),Bt=at,Lt=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,Et=/[^\s,]+/gi;function K(k){var p=0,y=0,B=0,W=0;return Object(I.isArray)(k)?k.length===1?p=y=B=W=k[0]:k.length===2?(p=B=k[0],y=W=k[1]):k.length===3?(p=k[0],y=W=k[1],B=k[2]):(p=k[0],y=k[1],B=k[2],W=k[3]):p=y=B=W=k,{r1:p,r2:y,r3:B,r4:W}}function ft(k){if(k=k||[],Object(I.isArray)(k))return k;if(Object(I.isString)(k))return k=k.match(Lt),Object(I.each)(k,function(p,y){if(p=p.match(Et),p[0].length>1){var B=p[0].charAt(0);p.splice(1,0,p[0].substr(1)),p[0]=B}Object(I.each)(p,function(W,rt){isNaN(W)||(p[rt]=+W)}),k[y]=p}),k}var mt=function(k){Object(i.b)(p,k);function p(){var y=k!==null&&k.apply(this,arguments)||this;return y.type="rect",y.canFill=!0,y.canStroke=!0,y}return p.prototype.getDefaultAttrs=function(){var y=k.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},y),{x:0,y:0,width:0,height:0,radius:0})},p.prototype.createPath=function(y,B){var W=this,rt=this.attr(),st=this.get("el"),ut=!1,Mt=["x","y","width","height","radius"];Object(I.each)(B||rt,function(bt,xt){Mt.indexOf(xt)!==-1&&!ut?(st.setAttribute("d",W._assembleRect(rt)),ut=!0):Mt.indexOf(xt)===-1&&g.b[xt]&&st.setAttribute(g.b[xt],bt)})},p.prototype._assembleRect=function(y){var B=y.x,W=y.y,rt=y.width,st=y.height,ut=y.radius;if(!ut)return"M "+B+","+W+" l "+rt+",0 l 0,"+st+" l"+-rt+" 0 z";var Mt=K(ut);Object(I.isArray)(ut)?ut.length===1?Mt.r1=Mt.r2=Mt.r3=Mt.r4=ut[0]:ut.length===2?(Mt.r1=Mt.r3=ut[0],Mt.r2=Mt.r4=ut[1]):ut.length===3?(Mt.r1=ut[0],Mt.r2=Mt.r4=ut[1],Mt.r3=ut[2]):(Mt.r1=ut[0],Mt.r2=ut[1],Mt.r3=ut[2],Mt.r4=ut[3]):Mt.r1=Mt.r2=Mt.r3=Mt.r4=ut;var bt=[["M "+(B+Mt.r1)+","+W],["l "+(rt-Mt.r1-Mt.r2)+",0"],["a "+Mt.r2+","+Mt.r2+",0,0,1,"+Mt.r2+","+Mt.r2],["l 0,"+(st-Mt.r2-Mt.r3)],["a "+Mt.r3+","+Mt.r3+",0,0,1,"+-Mt.r3+","+Mt.r3],["l "+(Mt.r3+Mt.r4-rt)+",0"],["a "+Mt.r4+","+Mt.r4+",0,0,1,"+-Mt.r4+","+-Mt.r4],["l 0,"+(Mt.r4+Mt.r1-st)],["a "+Mt.r1+","+Mt.r1+",0,0,1,"+Mt.r1+","+-Mt.r1],["z"]];return bt.join(" ")},p}(w),yt=mt,wt=E("e0ae"),J=.3,lt={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},it={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},_={left:"left",start:"left",center:"middle",right:"end",end:"end"},P=function(k){Object(i.b)(p,k);function p(){var y=k!==null&&k.apply(this,arguments)||this;return y.type="text",y.canFill=!0,y.canStroke=!0,y}return p.prototype.getDefaultAttrs=function(){var y=k.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},y),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},p.prototype.createPath=function(y,B){var W=this,rt=this.attr(),st=this.get("el");this._setFont(),Object(I.each)(B||rt,function(ut,Mt){Mt==="text"?W._setText(""+ut):Mt==="matrix"&&ut?Object(t.c)(W):g.b[Mt]&&st.setAttribute(g.b[Mt],ut)}),st.setAttribute("paint-order","stroke"),st.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},p.prototype._setFont=function(){var y=this.get("el"),B=this.attr(),W=B.textBaseline,rt=B.textAlign,st=Object(wt.a)();st&&st.name==="firefox"?y.setAttribute("dominant-baseline",it[W]||"alphabetic"):y.setAttribute("alignment-baseline",lt[W]||"baseline"),y.setAttribute("text-anchor",_[rt]||"left")},p.prototype._setText=function(y){var B=this.get("el"),W=this.attr(),rt=W.x,st=W.textBaseline,ut=st===void 0?"bottom":st;if(!y)B.innerHTML="";else if(~y.indexOf(`
`)){var Mt=y.split(`
`),bt=Mt.length-1,xt="";Object(I.each)(Mt,function(Ot,jt){jt===0?ut==="alphabetic"?xt+='<tspan x="'+rt+'" dy="'+-bt+'em">'+Ot+"</tspan>":ut==="top"?xt+='<tspan x="'+rt+'" dy="0.9em">'+Ot+"</tspan>":ut==="middle"?xt+='<tspan x="'+rt+'" dy="'+-(bt-1)/2+'em">'+Ot+"</tspan>":ut==="bottom"?xt+='<tspan x="'+rt+'" dy="-'+(bt+J)+'em">'+Ot+"</tspan>":ut==="hanging"&&(xt+='<tspan x="'+rt+'" dy="'+(-(bt-1)-J)+'em">'+Ot+"</tspan>"):xt+='<tspan x="'+rt+'" dy="1em">'+Ot+"</tspan>"}),B.innerHTML=xt}else B.innerHTML=y},p}(w),Q=P},aSjE:function(qe,Pt,E){"use strict";E.d(Pt,"b",function(){return Y}),E.d(Pt,"c",function(){return i}),E.d(Pt,"a",function(){return b});function Y(t,n){var u=[],g=t[0],x=t[1],c=t[2],w=t[3],I=t[4],m=t[5],r=t[6],s=t[7],d=t[8],C=n[0],S=n[1],A=n[2],f=n[3],O=n[4],j=n[5],D=n[6],V=n[7],H=n[8];return u[0]=C*g+S*w+A*r,u[1]=C*x+S*I+A*s,u[2]=C*c+S*m+A*d,u[3]=f*g+O*w+j*r,u[4]=f*x+O*I+j*s,u[5]=f*c+O*m+j*d,u[6]=D*g+V*w+H*r,u[7]=D*x+V*I+H*s,u[8]=D*c+V*m+H*d,u}function i(t,n){var u=[],g=n[0],x=n[1];return u[0]=t[0]*g+t[3]*x+t[6],u[1]=t[1]*g+t[4]*x+t[7],u}function b(t){var n=[],u=t[0],g=t[1],x=t[2],c=t[3],w=t[4],I=t[5],m=t[6],r=t[7],s=t[8],d=s*w-I*r,C=-s*c+I*m,S=r*c-w*m,A=u*d+g*C+x*S;return A?(A=1/A,n[0]=d*A,n[1]=(-s*g+x*r)*A,n[2]=(I*g-x*w)*A,n[3]=C*A,n[4]=(s*u-x*m)*A,n[5]=(-I*u+x*c)*A,n[6]=S*A,n[7]=(-r*u+g*m)*A,n[8]=(w*u-g*c)*A,n):null}},adU4:function(qe,Pt,E){var Y=E("y1pI"),i=Array.prototype,b=i.splice;function t(n){var u=this.__data__,g=Y(u,n);if(g<0)return!1;var x=u.length-1;return g==x?u.pop():b.call(u,g,1),--this.size,!0}qe.exports=t},b80T:function(qe,Pt,E){var Y=E("UNi/"),i=E("03A+"),b=E("Z0cm"),t=E("DSRE"),n=E("wJg7"),u=E("c6wG"),g=Object.prototype,x=g.hasOwnProperty;function c(w,I){var m=b(w),r=!m&&i(w),s=!m&&!r&&t(w),d=!m&&!r&&!s&&u(w),C=m||r||s||d,S=C?Y(w.length,String):[],A=S.length;for(var f in w)(I||x.call(w,f))&&!(C&&(f=="length"||s&&(f=="offset"||f=="parent")||d&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||n(f,A)))&&S.push(f);return S}qe.exports=c},bP8k:function(qe,Pt,E){"use strict";var Y=E("cIOH"),i=E.n(Y),b=E("jhiw"),t=E.n(b)},bahg:function(qe,Pt){function E(Y){return Y.split("")}qe.exports=E},"c+wO":function(qe,Pt,E){"use strict";E.d(Pt,"b",function(){return b}),E.d(Pt,"a",function(){return t}),E.d(Pt,"d",function(){return n}),E.d(Pt,"c",function(){return u});var Y=E("iTfj"),i=E("IvmH");function b(g){return document.createElementNS("http://www.w3.org/2000/svg",g)}function t(g){var x=i.a[g.type],c=g.getParent();if(!x)throw new Error("the type "+g.type+" is not supported by svg");var w=b(x);if(g.get("id")&&(w.id=g.get("id")),g.set("el",w),g.set("attrs",{}),c){var I=c.get("el");I||(I=c.createDom(),c.set("el",I)),I.appendChild(w)}return w}function n(g,x){var c=g.get("el"),w=Object(Y.toArray)(c.children).sort(x),I=document.createDocumentFragment();w.forEach(function(m){I.appendChild(m)}),c.appendChild(I)}function u(g,x){var c=g.parentNode,w=Array.from(c.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),I=w[x],m=w.indexOf(g);if(I){if(m>x)c.insertBefore(g,I);else if(m<x){var r=w[x+1];r?c.insertBefore(g,r):c.appendChild(g)}}else c.appendChild(g)}},c0lT:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return b}),E.d(Pt,"b",function(){return t});var Y=E("APlK"),i=E("c+wO");function b(n,u){u.forEach(function(g){g.draw(n)})}function t(n,u){var g=n.get("canvas");if(g&&g.get("autoDraw")){var x=g.get("context"),c=n.getParent(),w=c?c.getChildren():[g],I=n.get("el");if(u==="remove"){var m=n.get("isClipShape");if(m){var r=I&&I.parentNode,s=r&&r.parentNode;r&&s&&s.removeChild(r)}else I&&I.parentNode&&I.parentNode.removeChild(I)}else if(u==="show")I.setAttribute("visibility","visible");else if(u==="hide")I.setAttribute("visibility","hidden");else if(u==="zIndex")Object(i.c)(I,w.indexOf(n));else if(u==="sort"){var d=n.get("children");d&&d.length&&Object(i.d)(n,function(C,S){return d.indexOf(C)-d.indexOf(S)?1:0})}else u==="clear"?I&&(I.innerHTML=""):u==="matrix"?Object(Y.c)(n):u==="clip"?Object(Y.a)(n,x):u==="attr"||u==="add"&&n.draw(x)}}},c6wG:function(qe,Pt,E){var Y=E("dD9F"),i=E("sEf8"),b=E("mdPL"),t=b&&b.isTypedArray,n=t?i(t):Y;qe.exports=n},cBFB:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return V});var Y=E("mrSG"),i=E("YuPD"),b=E("zJSt"),t=E("tKoa"),n=E("w02o"),u=E("+Nd1"),g=E("a8tM"),x=E("iTfj"),c=E("I7nc"),w={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};function I(H,$){$=Object(x.assign)({},w,$);var dt=$.as;if(!Object(x.isArray)(dt)||dt.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var Z;try{Z=Object(c.b)($)}catch(Bt){console.warn(Bt)}var ct=function(Lt){return u.a().size($.size).round($.round).padding($.padding)(g.c(Lt).sum(function(Et){return Et[Z]}))},pt=ct(H),gt=dt[0],at=dt[1];return pt.each(function(Bt){Bt[gt]=[Bt.x0,Bt.x1,Bt.x1,Bt.x0],Bt[at]=[Bt.y1,Bt.y1,Bt.y0,Bt.y0],["x0","x1","y0","y1"].forEach(function(Lt){dt.indexOf(Lt)===-1&&delete Bt[Lt]})}),Object(c.a)(pt)}var m=E("NzZ7");function r(H){var $=H.data,dt=H.type,Z=H.seriesField,ct=H.colorField,pt=H.hierarchyConfig,gt={partition:I,treemap:m.a},at=gt[dt]($,Object(Y.a)(Object(Y.a)({},pt),{type:"hierarchy."+dt,field:Z,as:["x","y"]})),Bt=[];return at.forEach(function(Lt){var Et,K,ft,mt,yt;if(Lt.depth===0)return null;var wt=Object(Y.a)((Et={},Et[Z]=Lt.data[Z]||((ft=(K=Lt.parent)===null||K===void 0?void 0:K.data)===null||ft===void 0?void 0:ft[Z]),Et[ct]=Lt.data[ct]||((yt=(mt=Lt.parent)===null||mt===void 0?void 0:mt.data)===null||yt===void 0?void 0:yt[ct]),Et),Lt);wt.ext=pt,Bt.push(wt)}),Bt}function s(H){var $=H.items,dt=H.formatter,Z=H.fields,ct=$[0]||{},pt=ct.color,gt=ct.mappingData,at=ct.data,Bt=document.createElement("ul");Bt.className="g2-tooltip";var Lt="",Et=function(ft,mt){var yt;return dt?dt(Object(Y.a)(Object(Y.a)({},ft),{field:mt})):{name:mt,value:(ft==null?void 0:ft[mt])||((yt=ft==null?void 0:ft.data)===null||yt===void 0?void 0:yt[mt])}};return Z.forEach(function(K){var ft=Et(at,K),mt=ft.name,yt=ft.value;Lt+=`<li class="g2-tooltip-list-item" data-index={index} style="margin-bottom:4px;display:flex;align-items: center;">
        <span style="background-color:`+((gt==null?void 0:gt.color)||pt)+`;" class="g2-tooltip-marker"></span>
        <span style="display:inline-flex;flex:1;justify-content:space-between">
        <span style="margin-right: 16px;">`+mt+`:</span>
        <span class="g2-tooltip-list-item-value">`+yt+`</span>
        </span>
    </li>`}),Bt.innerHTML=Lt,Bt}function d(H){var $=H.chart,dt=H.options,Z=dt.color,ct=dt.colorField,pt=dt.sunburstStyle,gt=r(dt);return $.data(gt),Object(t.f)(Object(i.b)({},H,{options:{xField:"x",yField:"y",seriesField:ct,polygon:{color:Z,style:pt}}})),H}function C(H){var $=H.chart;return $.axis(!1),H}function S(H){var $=H.chart;return $.legend(!1),H}function A(H){var $=H.chart,dt=H.options,Z=dt.label,ct=dt.seriesField,pt=Object(i.c)($,"polygon");if(!Z)pt.label(!1);else{var gt=Z.callback,at=Object(Y.c)(Z,["callback"]);pt.label({fields:[ct],callback:gt,cfg:Object(i.o)(at)})}return H}function f(H){var $=H.chart,dt=H.options,Z=dt.innerRadius,ct=dt.radius,pt=dt.reflect,gt=$.coordinate({type:"polar",cfg:{innerRadius:Z,radius:ct}});return pt&&gt.reflect(pt),H}function O(H){var $=H.chart,dt=H.options,Z=dt.meta;return Z&&$.scale(Z),H}function j(H){var $=H.chart,dt=H.options,Z=dt.tooltip,ct=dt.seriesField,pt=dt.colorField;return Z&&$.tooltip(Object(Y.a)(Object(Y.a)({},Z),{customContent:Z&&Z.customContent?Z.customContent:function(gt,at){return s({value:gt,items:at,formatter:Z&&(Z==null?void 0:Z.formatter),fields:Z&&Z.fields||[ct,pt]})}})),H}function D(H){return Object(i.e)(d,n.j,C,O,S,f,j,A,n.c,n.a,Object(n.b)())(H)}var V=function(H){Object(Y.b)($,H);function $(){var dt=H!==null&&H.apply(this,arguments)||this;return dt.type="sunburst",dt}return $.prototype.getDefaultOptions=function(){return Object(i.b)({},H.prototype.getDefaultOptions.call(this),{type:"partition",innerRadius:0,seriesField:"value",tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1}})},$.prototype.getSchemaAdaptor=function(){return D},$}(b.a)},chpo:function(qe,Pt,E){"use strict";Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.default=void 0;var Y=1,i=function(){return"".concat(Y++)};Pt.default=i},cyZq:function(qe,Pt,E){"use strict";E.d(Pt,"d",function(){return i}),E.d(Pt,"b",function(){return b}),E.d(Pt,"e",function(){return t}),E.d(Pt,"f",function(){return n}),E.d(Pt,"l",function(){return u}),E.d(Pt,"j",function(){return g});var Y=E("iTfj");E.d(Pt,"i",function(){return Y.isNil}),E.d(Pt,"k",function(){return Y.isString}),E.d(Pt,"h",function(){return Y.isFunction}),E.d(Pt,"g",function(){return Y.isArray}),E.d(Pt,"c",function(){return Y.each}),E.d(Pt,"o",function(){return Y.toRadian}),E.d(Pt,"m",function(){return Y.mod}),E.d(Pt,"n",function(){return Y.requestAnimationFrame}),E.d(Pt,"a",function(){return Y.clearAnimationFrame});function i(){return window?window.devicePixelRatio:1}function b(x,c,w,I){var m=x-w,r=c-I;return Math.sqrt(m*m+r*r)}function t(x,c,w,I,m,r){return m>=x&&m<=x+w&&r>=c&&r<=c+I}function n(x,c){return!(c.minX>x.maxX||c.maxX<x.minX||c.minY>x.maxY||c.maxY<x.minY)}function u(x,c){return!x||!c?x||c:{minX:Math.min(x.minX,c.minX),minY:Math.min(x.minY,c.minY),maxX:Math.max(x.maxX,c.maxX),maxY:Math.max(x.maxY,c.maxY)}}function g(x,c){return x[0]===c[0]&&x[1]===c[1]}},dD9F:function(qe,Pt,E){var Y=E("NykK"),i=E("shjB"),b=E("ExA7"),t="[object Arguments]",n="[object Array]",u="[object Boolean]",g="[object Date]",x="[object Error]",c="[object Function]",w="[object Map]",I="[object Number]",m="[object Object]",r="[object RegExp]",s="[object Set]",d="[object String]",C="[object WeakMap]",S="[object ArrayBuffer]",A="[object DataView]",f="[object Float32Array]",O="[object Float64Array]",j="[object Int8Array]",D="[object Int16Array]",V="[object Int32Array]",H="[object Uint8Array]",$="[object Uint8ClampedArray]",dt="[object Uint16Array]",Z="[object Uint32Array]",ct={};ct[f]=ct[O]=ct[j]=ct[D]=ct[V]=ct[H]=ct[$]=ct[dt]=ct[Z]=!0,ct[t]=ct[n]=ct[S]=ct[u]=ct[A]=ct[g]=ct[x]=ct[c]=ct[w]=ct[I]=ct[m]=ct[r]=ct[s]=ct[d]=ct[C]=!1;function pt(gt){return b(gt)&&i(gt.length)&&!!ct[Y(gt)]}qe.exports=pt},de35:function(qe,Pt,E){"use strict";var Y=E("mrSG"),i=E("fIp6"),b=E("iTfj"),t=E("5UbV"),n=E("NmWf"),u=function(g){Object(Y.b)(x,g);function x(){return g!==null&&g.apply(this,arguments)||this}return x.prototype.getDefaultCfg=function(){var c=g.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},c),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},x.prototype.getContainer=function(){return this.get("container")},x.prototype.show=function(){var c=this.get("container");c.style.display="",this.set("visible",!0)},x.prototype.hide=function(){var c=this.get("container");c.style.display="none",this.set("visible",!1)},x.prototype.setCapture=function(c){var w=this.getContainer(),I=c?"auto":"none";w.style.pointerEvents=I,this.set("capture",c)},x.prototype.getBBox=function(){var c=this.getContainer(),w=parseFloat(c.style.left)||0,I=parseFloat(c.style.top)||0;return Object(t.b)(w,I,c.clientWidth,c.clientHeight)},x.prototype.clear=function(){var c=this.get("container");Object(t.a)(c)},x.prototype.destroy=function(){this.removeEvent(),this.removeDom(),g.prototype.destroy.call(this)},x.prototype.init=function(){g.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},x.prototype.initCapture=function(){this.setCapture(this.get("capture"))},x.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},x.prototype.initDom=function(){},x.prototype.initContainer=function(){var c=this.get("container");if(Object(b.isNil)(c)){c=this.createDom();var w=this.get("parent");Object(b.isString)(w)&&(w=document.getElementById(w),this.set("parent",w)),w.appendChild(c),this.set("container",c)}else Object(b.isString)(c)&&(c=document.getElementById(c),this.set("container",c));this.get("parent")||this.set("parent",c.parentNode)},x.prototype.resetStyles=function(){var c=this.get("domStyles"),w=this.get("defaultStyles");c?c=Object(b.deepMix)({},w,c):c=w,this.set("domStyles",c)},x.prototype.applyStyles=function(){var c=this.get("domStyles");if(!!c){var w=this.getContainer();this.applyChildrenStyles(w,c);var I=this.get("containerClassName");if(I&&Object(t.h)(w,I)){var m=c[I];Object(i.e)(w,m)}}},x.prototype.applyChildrenStyles=function(c,w){Object(b.each)(w,function(I,m){var r=c.getElementsByClassName(m);Object(b.each)(r,function(s){Object(i.e)(s,I)})})},x.prototype.applyStyle=function(c,w){var I=this.get("domStyles");Object(i.e)(w,I[c])},x.prototype.createDom=function(){var c=this.get("containerTpl");return Object(i.b)(c)},x.prototype.initEvent=function(){},x.prototype.removeDom=function(){var c=this.get("container");c&&c.parentNode&&c.parentNode.removeChild(c)},x.prototype.removeEvent=function(){},x.prototype.updateInner=function(c){Object(b.hasKey)(c,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},x.prototype.resetPosition=function(){},x}(n.a);Pt.a=u},dt0z:function(qe,Pt,E){var Y=E("zoYe");function i(b){return b==null?"":Y(b)}qe.exports=i},e0ae:function(qe,Pt,E){"use strict";(function(Y){E.d(Pt,"a",function(){return r});var i=function(){for(var O=0,j=0,D=arguments.length;j<D;j++)O+=arguments[j].length;for(var V=Array(O),H=0,j=0;j<D;j++)for(var $=arguments[j],dt=0,Z=$.length;dt<Z;dt++,H++)V[H]=$[dt];return V},b=function(){function O(j,D,V){this.name=j,this.version=D,this.os=V,this.type="browser"}return O}(),t=function(){function O(j){this.version=j,this.type="node",this.name="node",this.os=Y.platform}return O}(),n=function(){function O(j,D,V,H){this.name=j,this.version=D,this.os=V,this.bot=H,this.type="bot-device"}return O}(),u=function(){function O(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return O}(),g=function(){function O(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return O}(),x=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,c=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,w=3,I=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",x]],m=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function r(O){return O?C(O):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new g:typeof navigator!="undefined"?C(navigator.userAgent):A()}function s(O){return O!==""&&I.reduce(function(j,D){var V=D[0],H=D[1];if(j)return j;var $=H.exec(O);return!!$&&[V,$]},!1)}function d(O){var j=s(O);return j?j[0]:null}function C(O){var j=s(O);if(!j)return null;var D=j[0],V=j[1];if(D==="searchbot")return new u;var H=V[1]&&V[1].split(/[._]/).slice(0,3);H?H.length<w&&(H=i(H,f(w-H.length))):H=[];var $=H.join("."),dt=S(O),Z=c.exec(O);return Z&&Z[1]?new n(D,$,dt,Z[1]):new b(D,$,dt)}function S(O){for(var j=0,D=m.length;j<D;j++){var V=m[j],H=V[0],$=V[1],dt=$.exec(O);if(dt)return H}return null}function A(){var O=typeof Y!="undefined"&&Y.version;return O?new t(Y.version.slice(1)):null}function f(O){for(var j=[],D=0;D<O;D++)j.push("0");return j}}).call(this,E("Q2Ig"))},e4Nc:function(qe,Pt,E){var Y=E("fGT3"),i=E("k+1r"),b=E("JHgL"),t=E("pSRY"),n=E("H8j4");function u(g){var x=-1,c=g==null?0:g.length;for(this.clear();++x<c;){var w=g[x];this.set(w[0],w[1])}}u.prototype.clear=Y,u.prototype.delete=i,u.prototype.get=b,u.prototype.has=t,u.prototype.set=n,qe.exports=u},e5cp:function(qe,Pt,E){var Y=E("fmRc"),i=E("or5M"),b=E("HDyB"),t=E("seXi"),n=E("QqLw"),u=E("Z0cm"),g=E("DSRE"),x=E("c6wG"),c=1,w="[object Arguments]",I="[object Array]",m="[object Object]",r=Object.prototype,s=r.hasOwnProperty;function d(C,S,A,f,O,j){var D=u(C),V=u(S),H=D?I:n(C),$=V?I:n(S);H=H==w?m:H,$=$==w?m:$;var dt=H==m,Z=$==m,ct=H==$;if(ct&&g(C)){if(!g(S))return!1;D=!0,dt=!1}if(ct&&!dt)return j||(j=new Y),D||x(C)?i(C,S,A,f,O,j):b(C,S,H,A,f,O,j);if(!(A&c)){var pt=dt&&s.call(C,"__wrapped__"),gt=Z&&s.call(S,"__wrapped__");if(pt||gt){var at=pt?C.value():C,Bt=gt?S.value():S;return j||(j=new Y),O(at,Bt,A,f,j)}}return ct?(j||(j=new Y),t(C,S,A,f,O,j)):!1}qe.exports=d},eHqw:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return j});var Y=E("mrSG"),i=E("zJSt"),b=E("KMYG"),t=E("w02o"),n=E("YuPD"),u=E("iTfj"),g=E("NzZ7");function x(D){return Object(u.isArray)(D)?D.findIndex(function(V){return V.type==="treemap-drill-down"})>-1:!1}function c(D,V){var H=x(D);return H?D.map(function($){return $.type==="treemap-drill-down"?Object(n.b)({},$,{cfg:{hierarchyConfig:V}}):$}):D}function w(D){var V=D.data,H=D.colorField,$=D.openDrillDown,dt=D.hierarchyConfig,Z=dt===void 0?{}:dt,ct=Object(g.a)(V,Object(Y.a)(Object(Y.a)({},Z),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),pt=[];return ct.forEach(function(gt){if(gt.depth===0||$&&gt.depth!==1||!$&&gt.children)return null;var at=Object.assign({},gt.data,{x:gt.x,y:gt.y,depth:gt.depth,value:gt.value});if(!gt.data[H]&&gt.parent){var Bt=gt.ancestors().find(function(Lt){return Lt.data[H]});at[H]=Bt==null?void 0:Bt.data[H]}else at[H]=gt.data[H];pt.push(at)}),pt}function I(D){var V=D.options,H=V.colorField;return Object(n.b)({options:{colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapResquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1,fields:["name","value",H],formatter:function(dt){return{name:dt.name,value:dt.value}}},interactions:[{type:"view-zoom"},{type:"treemap-element-zoom"}]}},D)}function m(D){var V=D.chart,H=D.options,$=H.color,dt=H.colorField,Z=H.rectStyle,ct=w({data:H.data,colorField:H.colorField,openDrillDown:x(H.interactions)});return V.data(ct),Object(b.a)(Object(n.b)({},D,{options:{xField:"x",yField:"y",seriesField:dt,rawFields:["value"],polygon:{color:$,style:Z}}})),D}function r(D){var V=D.chart;return V.axis(!1),D}function s(D){var V=D.chart,H=D.options,$=H.interactions,dt=H.hierarchyConfig;return Object(t.c)({chart:V,options:{interactions:c($,dt)}}),D}function d(D){return Object(n.e)(I,m,r,t.j,t.d,t.k,s,t.a,Object(t.b)())(D)}var C=E("Ihc8"),S=function(D){Object(Y.b)(V,D);function V(){var H=D!==null&&D.apply(this,arguments)||this;return H.cacheDataStack=[],H}return V.prototype.drill=function(H){console.log(this.context);var $=this.context.view,dt=$.getData(),Z=$.getGroupScales(),ct=Object(u.get)($,["interactions","treemap-drill-down","cfg","hierarchyConfig"],{}),pt=w({data:H,colorField:Object(u.get)(Z,[0,"field"]),openDrillDown:!0,hierarchyConfig:ct});$.changeData(pt),this.cacheDataStack.push(dt)},V.prototype.click=function(){var H=Object(u.get)(this.context,["event","data","data"]);if(!H)return!1;this.drill(H)},V.prototype.reset=function(){var H=this.context.view;if(!(!Object(u.isArray)(this.cacheDataStack)||this.cacheDataStack.length<=0)){var $=this.cacheDataStack.splice(this.cacheDataStack.length-1,1);H.changeData($[0])}},V}(C.Action);function A(D){var V=Object(u.get)(D,["event","data","data"],{});return Object(u.isArray)(V.children)&&V.children.length>0&&V.depth===1}function f(D){if(!D||!D.getAction)return!1;var V=D.getAction("treemap-drill-down-action");if(!V)return!1;var H=V.cacheDataStack;return Object(u.isArray)(H)&&H.length>0}Object(C.registerAction)("treemap-drill-down-action",S),Object(C.registerInteraction)("treemap-drill-down",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:pointer"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"element:click",isEnable:A,action:["treemap-drill-down-action:click","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["treemap-drill-down-action:reset"]},{trigger:"reset-button:click",action:["reset-button:hide"],isEnable:function(V){return!f(V)}}]});var O=E("hag6"),j=function(D){Object(Y.b)(V,D);function V(){var H=D!==null&&D.apply(this,arguments)||this;return H.type="treemap",H}return V.prototype.getSchemaAdaptor=function(){return d},V}(i.a)},eUgh:function(qe,Pt){function E(Y,i){for(var b=-1,t=Y==null?0:Y.length,n=Array(t);++b<t;)n[b]=i(Y[b],b,Y);return n}qe.exports=E},ebwN:function(qe,Pt,E){var Y=E("Cwc5"),i=E("Kz5y"),b=Y(i,"Map");qe.exports=b},ekgI:function(qe,Pt,E){var Y=E("YESw"),i=Object.prototype,b=i.hasOwnProperty;function t(n){var u=this.__data__;return Y?u[n]!==void 0:b.call(u,n)}qe.exports=t},f6Jy:function(qe,Pt,E){"use strict";var Y="*",i=function(){function b(){this._events={}}return b.prototype.on=function(t,n,u){return this._events[t]||(this._events[t]=[]),this._events[t].push({callback:n,once:!!u}),this},b.prototype.once=function(t,n){return this.on(t,n,!0),this},b.prototype.emit=function(t){for(var n=this,u=[],g=1;g<arguments.length;g++)u[g-1]=arguments[g];var x=this._events[t]||[],c=this._events[Y]||[],w=function(m){for(var r=m.length,s=0;s<r;s++)if(!!m[s]){var d=m[s],C=d.callback,S=d.once;S&&(m.splice(s,1),m.length===0&&delete n._events[t],r--,s--),C.apply(n,u)}};w(x),w(c)},b.prototype.off=function(t,n){if(!t)this._events={};else if(!n)delete this._events[t];else{for(var u=this._events[t]||[],g=u.length,x=0;x<g;x++)u[x].callback===n&&(u.splice(x,1),g--,x--);u.length===0&&delete this._events[t]}return this},b.prototype.getEvents=function(){return this._events},b}();Pt.a=i},fD4D:function(qe,Pt,E){"use strict";var Y=E("ShmH"),i=E.n(Y);i.a.version="4.1.7",Pt.default=i.a;var b="4.1.7"},fFDA:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return dt});var Y=E("mrSG"),i=E("iTfj"),b=E("MeYt"),t={opacity:0},n={stroke:"#C5C5C5",strokeOpacity:.85},u={fill:"#CACED4",opacity:.85},g=E("LvGN"),x=E("8vsG");function c(ct){return Object(i.map)(ct,function(pt,gt){var at=gt===0?"M":"L",Bt=pt[0],Lt=pt[1];return[at,Bt,Lt]})}function w(ct){return c(ct)}function I(ct){if(ct.length<=2)return w(ct);var pt=[];Object(i.each)(ct,function(Et){Object(i.isEqual)(Et,pt.slice(pt.length-2))||pt.push(Et[0],Et[1])});var gt=Object(g.a)(pt,!1),at=Object(i.head)(ct),Bt=at[0],Lt=at[1];return gt.unshift(["M",Bt,Lt]),gt}function m(ct,pt,gt,at){at===void 0&&(at=!0);var Bt=new x.b({values:ct}),Lt=new x.a({values:Object(i.map)(ct,function(K,ft){return ft})}),Et=Object(i.map)(ct,function(K,ft){return[Lt.scale(ft)*pt,gt-Bt.scale(K)*gt]});return at?I(Et):w(Et)}function r(ct,pt){var gt=new x.b({values:ct}),at=Math.max(0,gt.min);return pt-gt.scale(at)*pt}function s(ct,pt,gt,at){var Bt=Object(Y.d)(ct),Lt=r(at,gt);return Bt.push(["L",pt,Lt]),Bt.push(["L",0,Lt]),Bt.push(["Z"]),Bt}var d=function(ct){Object(Y.b)(pt,ct);function pt(){return ct!==null&&ct.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var gt=ct.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},gt),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:t,lineStyle:n,areaStyle:u})},pt.prototype.renderInner=function(gt){var at=this.cfg,Bt=at.width,Lt=at.height,Et=at.data,K=at.smooth,ft=at.isArea,mt=at.backgroundStyle,yt=at.lineStyle,wt=at.areaStyle;this.addShape(gt,{id:this.getElementId("background"),type:"rect",attrs:Object(Y.a)({x:0,y:0,width:Bt,height:Lt},mt)});var J=m(Et,Bt,Lt,K);if(this.addShape(gt,{id:this.getElementId("line"),type:"path",attrs:Object(Y.a)({path:J},yt)}),ft){var lt=s(J,Bt,Lt,Et);this.addShape(gt,{id:this.getElementId("area"),type:"path",attrs:Object(Y.a)({path:lt},wt)})}},pt.prototype.applyOffset=function(){var gt=this.cfg,at=gt.x,Bt=gt.y;this.moveElementTo(this.get("group"),{x:at,y:Bt})},pt}(b.a),C=d,S={fill:"#416180",opacity:.05},A={fill:"#5B8FF9",opacity:.15,cursor:"move"},f=10,O={width:f,height:24},j={textBaseline:"middle",fill:"#000",opacity:.45},D="sliderchange",V={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},H=function(ct){Object(Y.b)(pt,ct);function pt(){return ct!==null&&ct.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var gt=ct.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},gt),{name:"handler",x:0,y:0,width:10,height:24,style:V})},pt.prototype.renderInner=function(gt){var at=this.cfg,Bt=at.width,Lt=at.height,Et=at.style,K=Et.fill,ft=Et.stroke,mt=Et.radius,yt=Et.opacity,wt=Et.cursor;this.addShape(gt,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:Bt,height:Lt,fill:K,stroke:ft,radius:mt,opacity:yt,cursor:wt}});var J=1/3*Bt,lt=2/3*Bt,it=1/4*Lt,_=3/4*Lt;this.addShape(gt,{id:this.getElementId("line-left"),type:"line",attrs:{x1:J,y1:it,x2:J,y2:_,stroke:ft,cursor:wt}}),this.addShape(gt,{id:this.getElementId("line-right"),type:"line",attrs:{x1:lt,y1:it,x2:lt,y2:_,stroke:ft,cursor:wt}})},pt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},pt.prototype.initEvent=function(){this.bindEvents()},pt.prototype.bindEvents=function(){var gt=this;this.get("group").on("mouseenter",function(){var at=gt.get("style").highLightFill;gt.getElementByLocalId("background").attr("fill",at),gt.draw()}),this.get("group").on("mouseleave",function(){var at=gt.get("style").fill;gt.getElementByLocalId("background").attr("fill",at),gt.draw()})},pt.prototype.draw=function(){var gt=this.get("container").get("canvas");gt&&gt.draw()},pt}(b.a),$=H,dt=function(ct){Object(Y.b)(pt,ct);function pt(){var gt=ct!==null&&ct.apply(this,arguments)||this;return gt.onMouseDown=function(at){return function(Bt){gt.currentTarget=at;var Lt=Bt.originalEvent;Lt.stopPropagation(),Lt.preventDefault(),gt.prevX=Object(i.get)(Lt,"touches.0.pageX",Lt.pageX),gt.prevY=Object(i.get)(Lt,"touches.0.pageY",Lt.pageY);var Et=gt.getContainerDOM();Et.addEventListener("mousemove",gt.onMouseMove),Et.addEventListener("mouseup",gt.onMouseUp),Et.addEventListener("mouseleave",gt.onMouseUp),Et.addEventListener("touchmove",gt.onMouseMove),Et.addEventListener("touchend",gt.onMouseUp),Et.addEventListener("touchcancel",gt.onMouseUp)}},gt.onMouseMove=function(at){var Bt=gt.cfg.width,Lt=[gt.get("start"),gt.get("end")];at.stopPropagation(),at.preventDefault();var Et=Object(i.get)(at,"touches.0.pageX",at.pageX),K=Object(i.get)(at,"touches.0.pageY",at.pageY),ft=Et-gt.prevX,mt=gt.adjustOffsetRange(ft/Bt);gt.updateStartEnd(mt),gt.updateUI(gt.getElementByLocalId("foreground"),gt.getElementByLocalId("minText"),gt.getElementByLocalId("maxText")),gt.prevX=Et,gt.prevY=K,gt.draw(),gt.emit(D,[gt.get("start"),gt.get("end")].sort()),gt.delegateEmit("valuechanged",{originValue:Lt,value:[gt.get("start"),gt.get("end")]})},gt.onMouseUp=function(){gt.currentTarget&&(gt.currentTarget=void 0);var at=gt.getContainerDOM();at&&(at.removeEventListener("mousemove",gt.onMouseMove),at.removeEventListener("mouseup",gt.onMouseUp),at.removeEventListener("mouseleave",gt.onMouseUp),at.removeEventListener("touchmove",gt.onMouseMove),at.removeEventListener("touchend",gt.onMouseUp),at.removeEventListener("touchcancel",gt.onMouseUp))},gt}return pt.prototype.setRange=function(gt,at){this.set("minLimit",gt),this.set("maxLimit",at);var Bt=this.get("start"),Lt=this.get("end"),Et=Object(i.clamp)(Bt,gt,at),K=Object(i.clamp)(Lt,gt,at);!this.get("isInit")&&(Bt!==Et||Lt!==K)&&this.setValue([Et,K])},pt.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},pt.prototype.setValue=function(gt){var at=this.getRange();if(Object(i.isArray)(gt)&&gt.length===2){var Bt=[this.get("start"),this.get("end")];this.update({start:Object(i.clamp)(gt[0],at.min,at.max),end:Object(i.clamp)(gt[1],at.min,at.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:Bt,value:gt})}},pt.prototype.getValue=function(){return[this.get("start"),this.get("end")]},pt.prototype.getDefaultCfg=function(){var gt=ct.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},gt),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:S,foregroundStyle:A,handlerStyle:O,textStyle:j}})},pt.prototype.update=function(gt){var at=gt.start,Bt=gt.end,Lt=Object(Y.a)({},gt);Object(i.isNil)(at)||(Lt.start=Object(i.clamp)(at,0,1)),Object(i.isNil)(Bt)||(Lt.end=Object(i.clamp)(Bt,0,1)),ct.prototype.update.call(this,Lt),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},pt.prototype.init=function(){this.set("start",Object(i.clamp)(this.get("start"),0,1)),this.set("end",Object(i.clamp)(this.get("end"),0,1)),ct.prototype.init.call(this)},pt.prototype.render=function(){ct.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},pt.prototype.renderInner=function(gt){var at=this.cfg,Bt=at.start,Lt=at.end,Et=at.width,K=at.height,ft=at.trendCfg,mt=ft===void 0?{}:ft,yt=at.minText,wt=at.maxText,J=at.backgroundStyle,lt=J===void 0?{}:J,it=at.foregroundStyle,_=it===void 0?{}:it,P=at.textStyle,Q=P===void 0?{}:P,k=at.handlerStyle,p=k===void 0?{}:k,y=Bt*Et,B=Lt*Et;Object(i.size)(Object(i.get)(mt,"data"))&&(this.trend=this.addComponent(gt,Object(Y.a)({component:d,id:this.getElementId("trend"),x:0,y:0,width:Et,height:K},mt))),this.addShape(gt,{id:this.getElementId("background"),type:"rect",attrs:Object(Y.a)({x:0,y:0,width:Et,height:K},lt)});var W=this.addShape(gt,{id:this.getElementId("minText"),type:"text",attrs:Object(Y.a)({y:K/2,textAlign:"right",text:yt,silent:!1},Q)}),rt=this.addShape(gt,{id:this.getElementId("maxText"),type:"text",attrs:Object(Y.a)({y:K/2,textAlign:"left",text:wt,silent:!1},Q)}),st=this.addShape(gt,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:Object(Y.a)({y:0,height:K},_)}),ut=Object(i.get)(p,"height",24);this.minHandler=this.addComponent(gt,Object(Y.a)({component:H,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(K-ut)/2,width:Et,height:ut,cursor:"ew-resize"},p)),this.maxHandler=this.addComponent(gt,Object(Y.a)({component:H,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(K-ut)/2,width:Et,height:ut,cursor:"ew-resize"},p))},pt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},pt.prototype.initEvent=function(){this.bindEvents()},pt.prototype.updateUI=function(gt,at,Bt){var Lt=this.cfg,Et=Lt.start,K=Lt.end,ft=Lt.width,mt=Lt.minText,yt=Lt.maxText,wt=Lt.handlerStyle,J=Lt.height,lt=Et*ft,it=K*ft;this.trend&&(this.trend.update({width:ft,height:J}),this.get("updateAutoRender")||this.trend.render()),gt.attr("x",lt),gt.attr("width",it-lt);var _=Object(i.get)(wt,"width",f);at.attr("text",mt),Bt.attr("text",yt);var P=this._dodgeText([lt,it],at,Bt),Q=P[0],k=P[1];this.minHandler&&(this.minHandler.update({x:lt-_/2}),this.get("updateAutoRender")||this.minHandler.render()),Object(i.each)(Q,function(p,y){return at.attr(y,p)}),this.maxHandler&&(this.maxHandler.update({x:it-_/2}),this.get("updateAutoRender")||this.maxHandler.render()),Object(i.each)(k,function(p,y){return Bt.attr(y,p)})},pt.prototype.bindEvents=function(){var gt=this.get("group");gt.on("handler-min:mousedown",this.onMouseDown("minHandler")),gt.on("handler-min:touchstart",this.onMouseDown("minHandler")),gt.on("handler-max:mousedown",this.onMouseDown("maxHandler")),gt.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var at=gt.findById(this.getElementId("foreground"));at.on("mousedown",this.onMouseDown("foreground")),at.on("touchstart",this.onMouseDown("foreground"))},pt.prototype.adjustOffsetRange=function(gt){var at=this.cfg,Bt=at.start,Lt=at.end;switch(this.currentTarget){case"minHandler":{var Et=0-Bt,K=1-Bt;return Math.min(K,Math.max(Et,gt))}case"maxHandler":{var Et=0-Lt,K=1-Lt;return Math.min(K,Math.max(Et,gt))}case"foreground":{var Et=0-Bt,K=1-Lt;return Math.min(K,Math.max(Et,gt))}}},pt.prototype.updateStartEnd=function(gt){var at=this.cfg,Bt=at.start,Lt=at.end;switch(this.currentTarget){case"minHandler":Bt+=gt;break;case"maxHandler":Lt+=gt;break;case"foreground":Bt+=gt,Lt+=gt;break}this.set("start",Bt),this.set("end",Lt)},pt.prototype._dodgeText=function(gt,at,Bt){var Lt,Et,K=this.cfg,ft=K.handlerStyle,mt=K.width,yt=2,wt=Object(i.get)(ft,"width",f),J=gt[0],lt=gt[1],it=!1;J>lt&&(Lt=[lt,J],J=Lt[0],lt=Lt[1],Et=[Bt,at],at=Et[0],Bt=Et[1],it=!0);var _=at.getBBox(),P=Bt.getBBox(),Q=_.width>J-yt?{x:J+wt/2+yt,textAlign:"left"}:{x:J-wt/2-yt,textAlign:"right"},k=P.width>mt-lt-yt?{x:lt-wt/2-yt,textAlign:"right"}:{x:lt+wt/2+yt,textAlign:"left"};return it?[k,Q]:[Q,k]},pt.prototype.draw=function(){var gt=this.get("container"),at=gt&&gt.get("canvas");at&&at.draw()},pt.prototype.getContainerDOM=function(){var gt=this.get("container"),at=gt&&gt.get("canvas");return at&&at.get("container")},pt}(b.a),Z=dt},fGT3:function(qe,Pt,E){var Y=E("4kuk"),i=E("Xi7e"),b=E("ebwN");function t(){this.size=0,this.__data__={hash:new Y,map:new(b||i),string:new Y}}qe.exports=t},fIp6:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return Y}),E.d(Pt,"b",function(){return g}),E.d(Pt,"c",function(){return w}),E.d(Pt,"d",function(){return m}),E.d(Pt,"e",function(){return s});function Y(d,C,S){if(d){if(typeof d.addEventListener=="function")return d.addEventListener(C,S,!1),{remove:function(){d.removeEventListener(C,S,!1)}};if(typeof d.attachEvent=="function")return d.attachEvent("on"+C,S),{remove:function(){d.detachEvent("on"+C,S)}}}}var i,b,t,n;function u(){i=document.createElement("table"),b=document.createElement("tr"),t=/^\s*<(\w+|!)[^>]*>/,n={tr:document.createElement("tbody"),tbody:i,thead:i,tfoot:i,td:b,th:b,"*":document.createElement("div")}}function g(d){i||u();var C=t.test(d)&&RegExp.$1;(!C||!(C in n))&&(C="*");var S=n[C];d=d.replace(/(^\s*)|(\s*$)/g,""),S.innerHTML=""+d;var A=S.childNodes[0];return S.removeChild(A),A}function x(d,C,S){var A;try{A=window.getComputedStyle?window.getComputedStyle(d,null)[C]:d.style[C]}catch(f){}finally{A=A===void 0?S:A}return A}function c(d,C){var S=x(d,"height",C);return S==="auto"&&(S=d.offsetHeight),parseFloat(S)}function w(d,C){var S=c(d,C),A=parseFloat(x(d,"borderTopWidth"))||0,f=parseFloat(x(d,"paddingTop"))||0,O=parseFloat(x(d,"paddingBottom"))||0,j=parseFloat(x(d,"borderBottomWidth"))||0,D=parseFloat(x(d,"marginTop"))||0,V=parseFloat(x(d,"marginBottom"))||0;return S+A+j+f+O+D+V}function I(d,C){var S=x(d,"width",C);return S==="auto"&&(S=d.offsetWidth),parseFloat(S)}function m(d,C){var S=I(d,C),A=parseFloat(x(d,"borderLeftWidth"))||0,f=parseFloat(x(d,"paddingLeft"))||0,O=parseFloat(x(d,"paddingRight"))||0,j=parseFloat(x(d,"borderRightWidth"))||0,D=parseFloat(x(d,"marginRight"))||0,V=parseFloat(x(d,"marginLeft"))||0;return S+A+j+f+O+V+D}function r(){return window.devicePixelRatio?window.devicePixelRatio:2}function s(d,C){if(d)for(var S in C)C.hasOwnProperty(S)&&(d.style[S]=C[S]);return d}},fP0w:function(qe,Pt,E){"use strict";E.r(Pt),E.d(Pt,"Line",function(){return yt}),E.d(Pt,"Circle",function(){return J}),E.d(Pt,"Base",function(){return r});var Y={};E.r(Y),E.d(Y,"getDefault",function(){return C}),E.d(Y,"ellipsisHead",function(){return S}),E.d(Y,"ellipsisTail",function(){return A}),E.d(Y,"ellipsisMiddle",function(){return f});var i={};E.r(i),E.d(i,"getDefault",function(){return dt}),E.d(i,"reserveFirst",function(){return Z}),E.d(i,"reserveLast",function(){return ct}),E.d(i,"reserveBoth",function(){return pt}),E.d(i,"equidistance",function(){return gt}),E.d(i,"equidistanceWithReverseBoth",function(){return at});var b={};E.r(b),E.d(b,"getDefault",function(){return Et}),E.d(b,"fixedAngle",function(){return K}),E.d(b,"unfixedAngle",function(){return ft});var t={};E.r(t),E.d(t,"autoHide",function(){return i}),E.d(t,"autoRotate",function(){return b}),E.d(t,"autoEllipsis",function(){return Y});var n=E("mrSG"),u=E("6JdA"),g=E("iTfj"),x=E("MeYt"),c=E("jqgP"),w=E("l3hu"),I=E("L16w"),m=function(lt){Object(n.b)(it,lt);function it(){return lt!==null&&lt.apply(this,arguments)||this}return it.prototype.getDefaultCfg=function(){var _=lt.prototype.getDefaultCfg.call(this);return Object(n.a)(Object(n.a)({},_),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:I.a.lineColor}},tickLine:{style:{lineWidth:1,stroke:I.a.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:I.a.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:I.a.textColor,fontFamily:I.a.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:I.a.textColor,textBaseline:"middle",fontFamily:I.a.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:I.a.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},it.prototype.renderInner=function(_){this.get("line")&&this.drawLine(_),this.drawTicks(_),this.get("title")&&this.drawTitle(_)},it.prototype.isList=function(){return!0},it.prototype.getItems=function(){return this.get("ticks")},it.prototype.setItems=function(_){this.update({ticks:_})},it.prototype.updateItem=function(_,P){Object(g.mix)(_,P),this.clear(),this.render()},it.prototype.clearItems=function(){var _=this.getElementByLocalId("label-group");_&&_.clear()},it.prototype.setItemState=function(_,P,Q){_[P]=Q,this.updateTickStates(_)},it.prototype.hasState=function(_,P){return!!_[P]},it.prototype.getItemStates=function(_){var P=this.get("tickStates"),Q=[];return Object(g.each)(P,function(k,p){_[p]&&Q.push(p)}),Q},it.prototype.clearItemsState=function(_){var P=this,Q=this.getItemsByState(_);Object(g.each)(Q,function(k){P.setItemState(k,_,!1)})},it.prototype.getItemsByState=function(_){var P=this,Q=this.getItems();return Object(g.filter)(Q,function(k){return P.hasState(k,_)})},it.prototype.getSidePoint=function(_,P){var Q=this,k=Q.getSideVector(P,_);return{x:_.x+k[0],y:_.y+k[1]}},it.prototype.getTextAnchor=function(_){var P;return Object(g.isNumberEqual)(_[0],0)?P="center":_[0]>0?P="start":_[0]<0&&(P="end"),P},it.prototype.getTextBaseline=function(_){var P;return Object(g.isNumberEqual)(_[1],0)?P="middle":_[1]>0?P="top":_[1]<0&&(P="bottom"),P},it.prototype.processOverlap=function(_){},it.prototype.drawLine=function(_){var P=this.getLinePath(),Q=this.get("line");this.addShape(_,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:Object(g.mix)({path:P},Q.style)})},it.prototype.getTickLineItems=function(_){var P=this,Q=[],k=this.get("tickLine"),p=k.alignTick,y=k.length,B=1,W=_.length;return W>=2&&(B=_[1].value-_[0].value),Object(g.each)(_,function(rt){var st=rt.point;p||(st=P.getTickPoint(rt.value-B/2));var ut=P.getSidePoint(st,y);Q.push({startPoint:st,tickValue:rt.value,endPoint:ut,tickId:rt.id,id:"tickline-"+rt.id})}),Q},it.prototype.getSubTickLineItems=function(_){var P=[],Q=this.get("subTickLine"),k=Q.count,p=_.length;if(p>=2)for(var y=0;y<p-1;y++)for(var B=_[y],W=_[y+1],rt=0;rt<k;rt++){var st=(rt+1)/(k+1),ut=(1-st)*B.tickValue+st*W.tickValue,Mt=this.getTickPoint(ut),bt=this.getSidePoint(Mt,Q.length);P.push({startPoint:Mt,endPoint:bt,tickValue:ut,id:"sub-"+B.id+"-"+rt})}return P},it.prototype.getTickLineAttrs=function(_,P,Q,k){var p=this.get(P).style,y={points:[_.startPoint,_.endPoint]},B=Object(g.get)(this.get("theme"),["tickLine","style"],{});p=Object(g.isFunction)(p)?Object(g.mix)({},B,p(y,Q,k)):p;var W=_.startPoint,rt=_.endPoint;return Object(n.a)({x1:W.x,y1:W.y,x2:rt.x,y2:rt.y},p)},it.prototype.drawTick=function(_,P,Q,k,p){this.addShape(P,{type:"line",id:this.getElementId(_.id),name:"axis-"+Q,attrs:this.getTickLineAttrs(_,Q,k,p)})},it.prototype.drawTickLines=function(_){var P=this,Q=this.get("ticks"),k=this.get("subTickLine"),p=this.getTickLineItems(Q),y=this.addGroup(_,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),B=this.get("tickLine");if(Object(g.each)(p,function(rt,st){if(B.displayWithLabel){var ut=P.getElementId("label-"+rt.tickId);_.findById(ut)&&P.drawTick(rt,y,"tickLine",st,p)}else P.drawTick(rt,y,"tickLine",st,p)}),k){var W=this.getSubTickLineItems(p);Object(g.each)(W,function(rt,st){P.drawTick(rt,y,"subTickLine",st,W)})}},it.prototype.processTicks=function(){var _=this,P=this.get("ticks");Object(g.each)(P,function(Q){Q.point=_.getTickPoint(Q.value),Object(g.isNil)(Q.id)&&(Q.id=Q.name)})},it.prototype.drawTicks=function(_){var P=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(_),this.get("tickLine")&&this.drawTickLines(_);var Q=this.get("ticks");Object(g.each)(Q,function(k){P.applyTickStates(k,_)})},it.prototype.optimizeTicks=function(){var _=this.get("optimize"),P=this.get("ticks");if(_&&_.enable&&_.threshold>0){var Q=Object(g.size)(P);if(Q>_.threshold){var k=Math.ceil(Q/_.threshold),p=P.filter(function(y,B){return B%k==0});this.set("ticks",p),this.set("originalTicks",P)}}},it.prototype.getLabelAttrs=function(_,P,Q){var k=this.get("label"),p=k.offset,y=k.rotate,B=k.formatter,W=this.getSidePoint(_.point,p),rt=this.getSideVector(p,W),st=B?B(_.name,_,P):_.name,ut=k.style;ut=Object(g.isFunction)(ut)?Object(g.get)(this.get("theme"),["label","style"],{}):ut;var Mt=Object(g.mix)({x:W.x,y:W.y,text:st,textAlign:this.getTextAnchor(rt),textBaseline:this.getTextBaseline(rt)},ut);return y&&(Mt.matrix=Object(c.e)(W,y)),Mt},it.prototype.drawLabels=function(_){var P=this,Q=this.get("ticks"),k=this.addGroup(_,{name:"axis-label-group",id:this.getElementId("label-group")});Object(g.each)(Q,function(ut,Mt){P.addShape(k,{type:"text",name:"axis-label",id:P.getElementId("label-"+ut.id),attrs:P.getLabelAttrs(ut,Mt,Q),delegateObject:{tick:ut,item:ut,index:Mt}})}),this.processOverlap(k);var p=k.getChildren(),y=Object(g.get)(this.get("theme"),["label","style"],{}),B=this.get("label"),W=B.style,rt=B.formatter;if(Object(g.isFunction)(W)){var st=p.map(function(ut){return Object(g.get)(ut.get("delegateObject"),"tick")});Object(g.each)(p,function(ut,Mt){var bt=ut.get("delegateObject").tick,xt=rt?rt(bt.name,bt,Mt):bt.name,Ot=Object(g.mix)({},y,W(xt,Mt,st));ut.attr(Ot)})}},it.prototype.getTitleAttrs=function(){var _=this.get("title"),P=_.style,Q=_.position,k=_.offset,p=_.spacing,y=p===void 0?0:p,B=_.autoRotate,W=P.fontSize,rt=.5;Q==="start"?rt=0:Q==="end"&&(rt=1);var st=this.getTickPoint(rt),ut=this.getSidePoint(st,k||y+W/2),Mt=Object(g.mix)({x:ut.x,y:ut.y,text:_.text},P),bt=_.rotate,xt=bt;if(Object(g.isNil)(bt)&&B){var Ot=this.getAxisVector(st),jt=[1,0];xt=u.a.angleTo(Ot,jt,!0)}if(xt){var Dt=Object(c.e)(ut,xt);Mt.matrix=Dt}return Mt},it.prototype.drawTitle=function(_){this.addShape(_,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},it.prototype.applyTickStates=function(_,P){var Q=this.getItemStates(_);if(Q.length){var k=this.get("tickStates"),p=this.getElementId("label-"+_.id),y=P.findById(p);if(y){var B=Object(w.a)(_,"label",k);B&&y.attr(B)}var W=this.getElementId("tickline-"+_.id),rt=P.findById(W);if(rt){var st=Object(w.a)(_,"tickLine",k);st&&rt.attr(st)}}},it.prototype.updateTickStates=function(_){var P=this.getItemStates(_),Q=this.get("tickStates"),k=this.get("label"),p=this.getElementByLocalId("label-"+_.id),y=this.get("tickLine"),B=this.getElementByLocalId("tickline-"+_.id);if(P.length){if(p){var W=Object(w.a)(_,"label",Q);W&&p.attr(W)}if(B){var rt=Object(w.a)(_,"tickLine",Q);rt&&B.attr(rt)}}else p&&p.attr(k.style),B&&B.attr(y.style)},it}(x.a),r=m,s=E("BgvD");function d(lt,it,_,P){var Q=it.getChildren(),k=!1;return Object(g.each)(Q,function(p){var y=Object(s.a)(lt,p,_,P);k=k||y}),k}function C(){return A}function S(lt,it,_){return d(lt,it,_,"head")}function A(lt,it,_){return d(lt,it,_,"tail")}function f(lt,it,_){return d(lt,it,_,"middle")}var O=E("5UbV");function j(lt){var it=lt.attr("matrix");return it&&it[0]!==1}function D(lt){var it=j(lt)?Object(c.d)(lt.attr("matrix")):0;return it%360}function V(lt,it,_,P){var Q=!1,k=D(it),p=Math.abs(lt?_.attr("y")-it.attr("y"):_.attr("x")-it.attr("x")),y=(lt?_.attr("y")>it.attr("y"):_.attr("x")>it.attr("x"))?it.getBBox():_.getBBox();if(lt){var B=Math.abs(Math.cos(k));Object(O.i)(B,0,Math.PI/180)?Q=y.width+P>p:Q=y.height/B+P>p}else{var B=Math.abs(Math.sin(k));Object(O.i)(B,0,Math.PI/180)?Q=y.width+P>p:Q=y.height/B+P>p}return Q}function H(lt,it,_,P){var Q=(P==null?void 0:P.minGap)||0,k=it.getChildren().slice().filter(function(bt){return bt.get("visible")});if(!k.length)return!1;var p=!1;_&&k.reverse();for(var y=k.length,B=k[0],W=B,rt=1;rt<y;rt++){var st=k[rt],ut=st.getBBox(),Mt=V(lt,W,st,Q);Mt?(st.hide(),p=!0):W=st}return p}function $(lt,it,_){var P=(_==null?void 0:_.minGap)||0,Q=it.getChildren().slice();if(Q.length<2)return!1;var k=!1,p=Q[0],y=p.getBBox(),B=Q[1],W=Q.length,rt=D(p),st=Math.abs(lt?B.attr("y")-p.attr("y"):B.attr("x")-p.attr("x")),ut=0;if(lt){var Mt=Math.abs(Math.cos(rt));if(Object(O.i)(Mt,0,Math.PI/180)){var bt=Object(s.b)(Q);ut=(bt+P)/st}else ut=(y.height/Mt+P)/st}else{var Mt=Math.abs(Math.sin(rt));if(Object(O.i)(Mt,0,Math.PI/180)){var bt=Object(s.b)(Q);ut=(bt+P)/st}else ut=(y.height/Mt+P)/st}if(ut>1){ut=Math.ceil(ut);for(var xt=0;xt<W;xt++)xt%ut!=0&&(Q[xt].hide(),k=!0)}return k}function dt(){return gt}function Z(lt,it,_,P){return H(lt,it,!1,P)}function ct(lt,it,_,P){return H(lt,it,!0,P)}function pt(lt,it,_,P){var Q=(P==null?void 0:P.minGap)||0,k=it.getChildren().slice();if(k.length<=2)return!1;for(var p=!1,y=k.length,B=k[0],W=k[y-1],rt=B,st=1;st<y-1;st++){var ut=k[st],Mt=ut.getBBox(),bt=V(lt,rt,ut,Q);bt?(ut.hide(),p=!0):rt=ut}var xt=V(lt,rt,W,Q);return xt&&(rt.hide(),p=!0),p}function gt(lt,it,_,P){var Q=$(lt,it,P);return H(lt,it,!1)&&(Q=!0),Q}function at(lt,it,_,P){var Q=it.getChildren().slice(),k=$(lt,it,P);if(Q.length>2){var p=Q[0],y=Q[Q.length-1];p.get("visible")||(p.show(),H(lt,it,!1,P)&&(k=!0)),y.get("visible")||(y.show(),H(lt,it,!0,P)&&(k=!0))}return k}function Bt(lt,it){Object(g.each)(lt,function(_){var P=_.attr("x"),Q=_.attr("y"),k=Object(c.e)({x:P,y:Q},it);_.attr("matrix",k)})}function Lt(lt,it,_,P){var Q=it.getChildren();if(!Q.length||!lt&&Q.length<2)return!1;var k=Object(s.b)(Q),p=!1;if(lt)p=!!_&&k>_;else{var y=Math.abs(Q[1].attr("x")-Q[0].attr("x"));p=k>y}if(p){var B=P(_,k);Bt(Q,B)}return p}function Et(){return K}function K(lt,it,_,P){return Lt(lt,it,_,function(){return Object(g.isNumber)(P)?P:lt?I.a.verticalAxisRotate:I.a.horizontalAxisRotate})}function ft(lt,it,_){return Lt(lt,it,_,function(P,Q){if(!P)return lt?I.a.verticalAxisRotate:I.a.horizontalAxisRotate;if(lt)return-Math.acos(P/Q);var k=0;return P>Q?k=Math.PI/4:(k=Math.asin(P/Q),k>Math.PI/4&&(k=Math.PI/4)),k})}var mt=function(lt){Object(n.b)(it,lt);function it(){return lt!==null&&lt.apply(this,arguments)||this}return it.prototype.getDefaultCfg=function(){var _=lt.prototype.getDefaultCfg.call(this);return Object(n.a)(Object(n.a)({},_),{type:"line",locationType:"region",start:null,end:null})},it.prototype.getLinePath=function(){var _=this.get("start"),P=this.get("end"),Q=[];return Q.push(["M",_.x,_.y]),Q.push(["L",P.x,P.y]),Q},it.prototype.getInnerLayoutBBox=function(){var _=this.get("start"),P=this.get("end"),Q=lt.prototype.getInnerLayoutBBox.call(this),k=Math.min(_.x,P.x,Q.x),p=Math.min(_.y,P.y,Q.y),y=Math.max(_.x,P.x,Q.maxX),B=Math.max(_.y,P.y,Q.maxY);return{x:k,y:p,minX:k,minY:p,maxX:y,maxY:B,width:y-k,height:B-p}},it.prototype.isVertical=function(){var _=this.get("start"),P=this.get("end");return Object(g.isNumberEqual)(_.x,P.x)},it.prototype.isHorizontal=function(){var _=this.get("start"),P=this.get("end");return Object(g.isNumberEqual)(_.y,P.y)},it.prototype.getTickPoint=function(_){var P=this,Q=P.get("start"),k=P.get("end"),p=k.x-Q.x,y=k.y-Q.y;return{x:Q.x+p*_,y:Q.y+y*_}},it.prototype.getSideVector=function(_){var P=this.getAxisVector(),Q=u.c.normalize([0,0],P),k=this.get("verticalFactor"),p=[Q[1],Q[0]*-1];return u.c.scale([0,0],p,_*k)},it.prototype.getAxisVector=function(){var _=this.get("start"),P=this.get("end");return[P.x-_.x,P.y-_.y]},it.prototype.processOverlap=function(_){var P=this,Q=this.isVertical(),k=this.isHorizontal();if(!(!Q&&!k)){var p=this.get("label"),y=this.get("title"),B=this.get("verticalLimitLength"),W=p.offset,rt=B,st=0,ut=0;y&&(st=y.style.fontSize,ut=y.spacing),rt&&(rt=rt-W-ut-st);var Mt=this.get("overlapOrder");if(Object(g.each)(Mt,function(Ot){p[Ot]&&P.canProcessOverlap(Ot)&&P.autoProcessOverlap(Ot,p[Ot],_,rt)}),y&&Object(g.isNil)(y.offset)){var bt=_.getCanvasBBox(),xt=Q?bt.width:bt.height;y.offset=W+xt+ut+st/2}}},it.prototype.canProcessOverlap=function(_){var P=this.get("label");return _==="autoRotate"?Object(g.isNil)(P.rotate):!0},it.prototype.autoProcessOverlap=function(_,P,Q,k){var p=this,y=this.isVertical(),B=!1,W=t[_];if(P===!0){var rt=this.get("label");B=W.getDefault()(y,Q,k)}else if(Object(g.isFunction)(P))B=P(y,Q,k);else if(Object(g.isObject)(P)){var st=P;W[st.type]&&(B=W[st.type](y,Q,k,st.cfg))}else W[P]&&(B=W[P](y,Q,k));if(_==="autoRotate"){if(B){var ut=Q.getChildren(),Mt=this.get("verticalFactor");Object(g.each)(ut,function(xt){var Ot=xt.attr("textAlign");if(Ot==="center"){var jt=Mt>0?"end":"start";xt.attr("textAlign",jt)}})}}else if(_==="autoHide"){var bt=Q.getChildren().slice(0);Object(g.each)(bt,function(xt){xt.get("visible")||(p.get("isRegister")&&p.unregisterElement(xt),xt.remove())})}},it}(r),yt=mt,wt=function(lt){Object(n.b)(it,lt);function it(){return lt!==null&&lt.apply(this,arguments)||this}return it.prototype.getDefaultCfg=function(){var _=lt.prototype.getDefaultCfg.call(this);return Object(n.a)(Object(n.a)({},_),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},it.prototype.getLinePath=function(){var _=this.get("center"),P=_.x,Q=_.y,k=this.get("radius"),p=k,y=this.get("startAngle"),B=this.get("endAngle"),W=[];if(Math.abs(B-y)===Math.PI*2)W=[["M",P,Q-p],["A",k,p,0,1,1,P,Q+p],["A",k,p,0,1,1,P,Q-p],["Z"]];else{var rt=this.getCirclePoint(y),st=this.getCirclePoint(B),ut=Math.abs(B-y)>Math.PI?1:0,Mt=y>B?0:1;W=[["M",P,Q],["L",rt.x,rt.y],["A",k,p,0,ut,Mt,st.x,st.y],["L",P,Q]]}return W},it.prototype.getTickPoint=function(_){var P=this.get("startAngle"),Q=this.get("endAngle"),k=P+(Q-P)*_;return this.getCirclePoint(k)},it.prototype.getSideVector=function(_,P){var Q=this.get("center"),k=[P.x-Q.x,P.y-Q.y],p=this.get("verticalFactor"),y=u.c.length(k);return u.c.scale(k,k,p*_/y),k},it.prototype.getAxisVector=function(_){var P=this.get("center"),Q=[_.x-P.x,_.y-P.y];return[Q[1],-1*Q[0]]},it.prototype.getCirclePoint=function(_,P){var Q=this.get("center");return P=P||this.get("radius"),{x:Q.x+Math.cos(_)*P,y:Q.y+Math.sin(_)*P}},it}(r),J=wt},"fR/l":function(qe,Pt,E){var Y=E("CH3K"),i=E("Z0cm");function b(t,n,u){var g=n(t);return i(t)?g:Y(g,u(t))}qe.exports=b},fmRc:function(qe,Pt,E){var Y=E("Xi7e"),i=E("77Zs"),b=E("L8xA"),t=E("gCq4"),n=E("VaNO"),u=E("0Cz8");function g(x){var c=this.__data__=new Y(x);this.size=c.size}g.prototype.clear=i,g.prototype.delete=b,g.prototype.get=t,g.prototype.has=n,g.prototype.set=u,qe.exports=g},ftKO:function(qe,Pt){var E="__lodash_hash_undefined__";function Y(i){return this.__data__.set(i,E),this}qe.exports=Y},g9YV:function(qe,Pt,E){"use strict";var Y=E("cIOH"),i=E.n(Y),b=E("pED+"),t=E.n(b),n=E("+L6B"),u=E("R9oj"),g=E("7Kak"),x=E("sRBo"),c=E("qVdP"),w=E("T2oS"),I=E("DjyN"),m=E("5Dmo")},gCq4:function(qe,Pt){function E(Y){return this.__data__.get(Y)}qe.exports=E},gFTJ:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return j});var Y=E("rePB"),i=E("ODXe"),b=E("U8pU"),t=E("q1tI"),n=E("TSYQ"),u=E.n(n),g=E("Zm9Q"),x=E("ACnJ"),c=E("uaoM"),w=E("H84U"),I=E("wx14");function m(ct){return ct!=null}var r=function(pt){var gt=pt.itemPrefixCls,at=pt.component,Bt=pt.span,Lt=pt.className,Et=pt.style,K=pt.labelStyle,ft=pt.contentStyle,mt=pt.bordered,yt=pt.label,wt=pt.content,J=pt.colon,lt=at;if(mt){var it;return t.createElement(lt,{className:u()((it={},Object(Y.a)(it,"".concat(gt,"-item-label"),m(yt)),Object(Y.a)(it,"".concat(gt,"-item-content"),m(wt)),it),Lt),style:Et,colSpan:Bt},m(yt)?yt:wt)}return t.createElement(lt,{className:u()("".concat(gt,"-item"),Lt),style:Et,colSpan:Bt},t.createElement("div",{className:"".concat(gt,"-item-container")},yt&&t.createElement("span",{className:u()("".concat(gt,"-item-label"),Object(Y.a)({},"".concat(gt,"-item-no-colon"),!J)),style:K},yt),wt&&t.createElement("span",{className:u()("".concat(gt,"-item-content")),style:ft},wt)))},s=r;function d(ct,pt,gt){var at=pt.colon,Bt=pt.prefixCls,Lt=pt.bordered,Et=gt.component,K=gt.type,ft=gt.showLabel,mt=gt.showContent,yt=gt.labelStyle,wt=gt.contentStyle;return ct.map(function(J,lt){var it=J.props,_=it.label,P=it.children,Q=it.prefixCls,k=Q===void 0?Bt:Q,p=it.className,y=it.style,B=it.labelStyle,W=it.contentStyle,rt=it.span,st=rt===void 0?1:rt,ut=J.key;return typeof Et=="string"?t.createElement(s,{key:"".concat(K,"-").concat(ut||lt),className:p,style:y,labelStyle:Object(I.a)(Object(I.a)({},yt),B),contentStyle:Object(I.a)(Object(I.a)({},wt),W),span:st,colon:at,component:Et,itemPrefixCls:k,bordered:Lt,label:ft?_:null,content:mt?P:null}):[t.createElement(s,{key:"label-".concat(ut||lt),className:p,style:Object(I.a)(Object(I.a)(Object(I.a)({},yt),y),B),span:1,colon:at,component:Et[0],itemPrefixCls:k,bordered:Lt,label:_}),t.createElement(s,{key:"content-".concat(ut||lt),className:p,style:Object(I.a)(Object(I.a)(Object(I.a)({},wt),y),W),span:st*2-1,component:Et[1],itemPrefixCls:k,bordered:Lt,content:P})]})}var C=function(pt){var gt=t.useContext(j),at=pt.prefixCls,Bt=pt.vertical,Lt=pt.row,Et=pt.index,K=pt.bordered;return Bt?t.createElement(t.Fragment,null,t.createElement("tr",{key:"label-".concat(Et),className:"".concat(at,"-row")},d(Lt,pt,Object(I.a)({component:"th",type:"label",showLabel:!0},gt))),t.createElement("tr",{key:"content-".concat(Et),className:"".concat(at,"-row")},d(Lt,pt,Object(I.a)({component:"td",type:"content",showContent:!0},gt)))):t.createElement("tr",{key:Et,className:"".concat(at,"-row")},d(Lt,pt,Object(I.a)({component:K?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},gt)))},S=C,A=function(pt){var gt=pt.children;return gt},f=A,O=E("0n0R"),j=t.createContext({}),D={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function V(ct,pt){if(typeof ct=="number")return ct;if(Object(b.a)(ct)==="object")for(var gt=0;gt<x.b.length;gt++){var at=x.b[gt];if(pt[at]&&ct[at]!==void 0)return ct[at]||D[at]}return 3}function H(ct,pt,gt){var at=ct;return(pt===void 0||pt>gt)&&(at=Object(O.a)(ct,{span:gt}),Object(c.a)(pt===void 0,"Descriptions","Sum of column `span` in a line not match `column` of Descriptions.")),at}function $(ct,pt){var gt=Object(g.a)(ct).filter(function(Et){return Et}),at=[],Bt=[],Lt=pt;return gt.forEach(function(Et,K){var ft,mt=(ft=Et.props)===null||ft===void 0?void 0:ft.span,yt=mt||1;if(K===gt.length-1){Bt.push(H(Et,mt,Lt)),at.push(Bt);return}yt<Lt?(Lt-=yt,Bt.push(Et)):(Bt.push(H(Et,yt,Lt)),at.push(Bt),Lt=pt,Bt=[])}),at}function dt(ct){var pt,gt=ct.prefixCls,at=ct.title,Bt=ct.extra,Lt=ct.column,Et=Lt===void 0?D:Lt,K=ct.colon,ft=K===void 0?!0:K,mt=ct.bordered,yt=ct.layout,wt=ct.children,J=ct.className,lt=ct.style,it=ct.size,_=ct.labelStyle,P=ct.contentStyle,Q=t.useContext(w.b),k=Q.getPrefixCls,p=Q.direction,y=k("descriptions",gt),B=t.useState({}),W=Object(i.a)(B,2),rt=W[0],st=W[1],ut=V(Et,rt);t.useEffect(function(){var bt=x.a.subscribe(function(xt){Object(b.a)(Et)==="object"&&st(xt)});return function(){x.a.unsubscribe(bt)}},[]);var Mt=$(wt,ut);return t.createElement(j.Provider,{value:{labelStyle:_,contentStyle:P}},t.createElement("div",{className:u()(y,(pt={},Object(Y.a)(pt,"".concat(y,"-").concat(it),it&&it!=="default"),Object(Y.a)(pt,"".concat(y,"-bordered"),!!mt),Object(Y.a)(pt,"".concat(y,"-rtl"),p==="rtl"),pt),J),style:lt},(at||Bt)&&t.createElement("div",{className:"".concat(y,"-header")},at&&t.createElement("div",{className:"".concat(y,"-title")},at),Bt&&t.createElement("div",{className:"".concat(y,"-extra")},Bt)),t.createElement("div",{className:"".concat(y,"-view")},t.createElement("table",null,t.createElement("tbody",null,Mt.map(function(bt,xt){return t.createElement(S,{key:xt,index:xt,colon:ft,prefixCls:y,vertical:yt==="vertical",bordered:mt,row:bt})}))))))}dt.Item=f;var Z=Pt.b=dt},"h4/5":function(qe,Pt){},hJqF:function(qe,Pt,E){"use strict";E.d(Pt,"d",function(){return x}),E.d(Pt,"b",function(){return c}),E.d(Pt,"c",function(){return w}),E.d(Pt,"a",function(){return r});var Y=E("mrSG"),i=E("iTfj"),b=E("w02o"),t=E("YuPD"),n=E("tKoa"),u=E("DyAw");function g(s){var d=s.chart,C=s.options,S=C.data,A=C.color,f=C.lineStyle,O=C.lineShape,j=C.point,D=C.seriesField;d.data(S);var V=Object(t.b)({},s,{options:{shapeField:D,line:{color:A,style:f,shape:O},point:j&&Object(Y.a)({color:A,shape:"circle"},j),label:void 0}}),H=Object(t.b)({},V,{options:{tooltip:!1}});return Object(n.d)(V),Object(n.e)(H),s}function x(s){var d,C,S=s.options,A=S.xAxis,f=S.yAxis,O=S.xField,j=S.yField,D=S.data;return Object(t.e)(Object(b.f)((d={},d[O]=A,d[j]=f,d),(C={},C[O]={type:"cat"},C[j]=Object(u.a)(D,j),C)))(s)}function c(s){var d=s.chart,C=s.options,S=C.xAxis,A=C.yAxis,f=C.xField,O=C.yField;return S===!1?d.axis(f,!1):d.axis(f,S),A===!1?d.axis(O,!1):d.axis(O,A),s}function w(s){var d=s.chart,C=s.options,S=C.legend,A=C.seriesField;return S&&A?d.legend(A,S):S===!1&&d.legend(!1),s}function I(s){var d=s.chart,C=s.options,S=C.label,A=C.yField,f=Object(t.c)(d,"line");if(!S)f.label(!1);else{var O=S.callback,j=Object(Y.c)(S,["callback"]);f.label({fields:[A],callback:O,cfg:Object(Y.a)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(t.o)(j))})}return s}function m(s){var d=s.chart,C=s.options,S=C.isStack;return S&&Object(i.each)(d.geometries,function(A){A.adjust("stack")}),s}function r(s){return Object(t.e)(g,x,m,b.j,c,w,b.k,I,b.h,b.c,b.a,Object(b.b)(),b.e)(s)}},hag6:function(qe,Pt,E){"use strict";var Y=E("Ihc8");Object(Y.registerInteraction)("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]})},hkKa:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return t});var Y=E("ODXe"),i=E("q1tI"),b=E.n(i);function t(){var n=i.useReducer(function(x){return x+1},0),u=Object(Y.a)(n,2),g=u[1];return g}},iTfj:function(qe,Pt,E){"use strict";E.r(Pt),E.d(Pt,"contains",function(){return t}),E.d(Pt,"includes",function(){return t}),E.d(Pt,"difference",function(){return x}),E.d(Pt,"find",function(){return ct}),E.d(Pt,"findIndex",function(){return gt}),E.d(Pt,"firstValue",function(){return Bt}),E.d(Pt,"flatten",function(){return Et}),E.d(Pt,"flattenDeep",function(){return ft}),E.d(Pt,"getRange",function(){return yt}),E.d(Pt,"pull",function(){return _}),E.d(Pt,"pullAt",function(){return k}),E.d(Pt,"reduce",function(){return y}),E.d(Pt,"remove",function(){return W}),E.d(Pt,"sortBy",function(){return ut}),E.d(Pt,"union",function(){return Ot}),E.d(Pt,"uniq",function(){return bt}),E.d(Pt,"valuesOfKey",function(){return jt}),E.d(Pt,"head",function(){return Dt}),E.d(Pt,"last",function(){return zt}),E.d(Pt,"startsWith",function(){return Vt}),E.d(Pt,"endsWith",function(){return re}),E.d(Pt,"filter",function(){return u}),E.d(Pt,"every",function(){return me}),E.d(Pt,"some",function(){return Le}),E.d(Pt,"group",function(){return Wn}),E.d(Pt,"groupBy",function(){return gn}),E.d(Pt,"groupToMap",function(){return kn}),E.d(Pt,"getWrapBehavior",function(){return Nn}),E.d(Pt,"wrapBehavior",function(){return ir}),E.d(Pt,"number2color",function(){return mr}),E.d(Pt,"parseRadius",function(){return Br}),E.d(Pt,"clamp",function(){return mi}),E.d(Pt,"fixedBase",function(){return sa}),E.d(Pt,"isDecimal",function(){return fa}),E.d(Pt,"isEven",function(){return pa}),E.d(Pt,"isInteger",function(){return Yr}),E.d(Pt,"isNegative",function(){return Pr}),E.d(Pt,"isNumberEqual",function(){return ti}),E.d(Pt,"isOdd",function(){return ui}),E.d(Pt,"isPositive",function(){return xi}),E.d(Pt,"maxBy",function(){return Ci}),E.d(Pt,"minBy",function(){return di}),E.d(Pt,"mod",function(){return pi}),E.d(Pt,"toDegree",function(){return Fi}),E.d(Pt,"toInteger",function(){return ma}),E.d(Pt,"toRadian",function(){return xa}),E.d(Pt,"forIn",function(){return Ma}),E.d(Pt,"has",function(){return Qi}),E.d(Pt,"hasKey",function(){return ka}),E.d(Pt,"hasValue",function(){return Ga}),E.d(Pt,"keys",function(){return O}),E.d(Pt,"isMatch",function(){return D}),E.d(Pt,"values",function(){return za}),E.d(Pt,"lowerCase",function(){return Kt}),E.d(Pt,"lowerFirst",function(){return Oe}),E.d(Pt,"substitute",function(){return An}),E.d(Pt,"upperCase",function(){return rr}),E.d(Pt,"upperFirst",function(){return sn}),E.d(Pt,"getType",function(){return jr}),E.d(Pt,"isArguments",function(){return yr}),E.d(Pt,"isArray",function(){return d}),E.d(Pt,"isArrayLike",function(){return i}),E.d(Pt,"isBoolean",function(){return _r}),E.d(Pt,"isDate",function(){return Lr}),E.d(Pt,"isError",function(){return Hr}),E.d(Pt,"isFunction",function(){return m}),E.d(Pt,"isFinite",function(){return ei}),E.d(Pt,"isNil",function(){return s}),E.d(Pt,"isNull",function(){return Qr}),E.d(Pt,"isNumber",function(){return Mi}),E.d(Pt,"isObject",function(){return C}),E.d(Pt,"isObjectLike",function(){return H}),E.d(Pt,"isPlainObject",function(){return dt}),E.d(Pt,"isPrototype",function(){return Ei}),E.d(Pt,"isRegExp",function(){return ca}),E.d(Pt,"isString",function(){return rt}),E.d(Pt,"isType",function(){return I}),E.d(Pt,"isUndefined",function(){return na}),E.d(Pt,"isElement",function(){return ve}),E.d(Pt,"requestAnimationFrame",function(){return U}),E.d(Pt,"clearAnimationFrame",function(){return G}),E.d(Pt,"augment",function(){return Jt}),E.d(Pt,"clone",function(){return ue}),E.d(Pt,"debounce",function(){return we}),E.d(Pt,"memoize",function(){return cn}),E.d(Pt,"deepMix",function(){return Se}),E.d(Pt,"each",function(){return A}),E.d(Pt,"extend",function(){return ce}),E.d(Pt,"indexOf",function(){return Bn}),E.d(Pt,"isEmpty",function(){return $e}),E.d(Pt,"isEqual",function(){return L}),E.d(Pt,"isEqualWith",function(){return St}),E.d(Pt,"map",function(){return ye}),E.d(Pt,"mapValues",function(){return de}),E.d(Pt,"mix",function(){return vt}),E.d(Pt,"assign",function(){return vt}),E.d(Pt,"get",function(){return he}),E.d(Pt,"set",function(){return le}),E.d(Pt,"pick",function(){return We}),E.d(Pt,"throttle",function(){return Ye}),E.d(Pt,"toArray",function(){return ke}),E.d(Pt,"toString",function(){return eo}),E.d(Pt,"uniqueId",function(){return Re}),E.d(Pt,"noop",function(){return hn}),E.d(Pt,"identity",function(){return pn}),E.d(Pt,"size",function(){return on}),E.d(Pt,"Cache",function(){return jn});var Y=function(fe){return fe!==null&&typeof fe!="function"&&isFinite(fe.length)},i=Y,b=function(fe,Ne){return i(fe)?fe.indexOf(Ne)>-1:!1},t=b,n=function(fe,Ne){if(!i(fe))return fe;for(var Fe=[],rn=0;rn<fe.length;rn++){var ln=fe[rn];Ne(ln,rn)&&Fe.push(ln)}return Fe},u=n,g=function(fe,Ne){return Ne===void 0&&(Ne=[]),u(fe,function(Fe){return!t(Ne,Fe)})},x=g,c={}.toString,w=function(fe,Ne){return c.call(fe)==="[object "+Ne+"]"},I=w,m=function(Ie){return I(Ie,"Function")},r=function(fe){return fe==null},s=r,d=function(Ie){return Array.isArray?Array.isArray(Ie):I(Ie,"Array")},C=function(Ie){var fe=typeof Ie;return Ie!==null&&fe==="object"||fe==="function"};function S(Ie,fe){if(!!Ie){var Ne;if(d(Ie))for(var Fe=0,rn=Ie.length;Fe<rn&&(Ne=fe(Ie[Fe],Fe),Ne!==!1);Fe++);else if(C(Ie)){for(var ln in Ie)if(Ie.hasOwnProperty(ln)&&(Ne=fe(Ie[ln],ln),Ne===!1))break}}}var A=S,f=Object.keys?function(Ie){return Object.keys(Ie)}:function(Ie){var fe=[];return A(Ie,function(Ne,Fe){m(Ie)&&Fe==="prototype"||fe.push(Fe)}),fe},O=f;function j(Ie,fe){var Ne=O(fe),Fe=Ne.length;if(s(Ie))return!Fe;for(var rn=0;rn<Fe;rn+=1){var ln=Ne[rn];if(fe[ln]!==Ie[ln]||!(ln in Ie))return!1}return!0}var D=j,V=function(fe){return typeof fe=="object"&&fe!==null},H=V,$=function(fe){if(!H(fe)||!I(fe,"Object"))return!1;if(Object.getPrototypeOf(fe)===null)return!0;for(var Ne=fe;Object.getPrototypeOf(Ne)!==null;)Ne=Object.getPrototypeOf(Ne);return Object.getPrototypeOf(fe)===Ne},dt=$;function Z(Ie,fe){if(!d(Ie))return null;var Ne;if(m(fe)&&(Ne=fe),dt(fe)&&(Ne=function(ln){return D(ln,fe)}),Ne){for(var Fe=0;Fe<Ie.length;Fe+=1)if(Ne(Ie[Fe]))return Ie[Fe]}return null}var ct=Z;function pt(Ie,fe,Ne){Ne===void 0&&(Ne=0);for(var Fe=Ne;Fe<Ie.length;Fe++)if(fe(Ie[Fe],Fe))return Fe;return-1}var gt=pt,at=function(fe,Ne){for(var Fe=null,rn=0;rn<fe.length;rn++){var ln=fe[rn],_e=ln[Ne];if(!s(_e)){d(_e)?Fe=_e[0]:Fe=_e;break}}return Fe},Bt=at,Lt=function(fe){if(!d(fe))return[];for(var Ne=[],Fe=0;Fe<fe.length;Fe++)Ne=Ne.concat(fe[Fe]);return Ne},Et=Lt,K=function Ie(fe,Ne){if(Ne===void 0&&(Ne=[]),!d(fe))Ne.push(fe);else for(var Fe=0;Fe<fe.length;Fe+=1)Ie(fe[Fe],Ne);return Ne},ft=K,mt=function(fe){var Ne=fe.filter(function(dn){return!isNaN(dn)});if(!Ne.length)return{min:0,max:0};if(d(fe[0])){for(var Fe=[],rn=0;rn<fe.length;rn++)Fe=Fe.concat(fe[rn]);Ne=Fe}var ln=Math.max.apply(null,Ne),_e=Math.min.apply(null,Ne);return{min:_e,max:ln}},yt=mt,wt=Array.prototype,J=wt.splice,lt=wt.indexOf,it=function(fe){for(var Ne=[],Fe=1;Fe<arguments.length;Fe++)Ne[Fe-1]=arguments[Fe];for(var rn=0;rn<Ne.length;rn++)for(var ln=Ne[rn],_e=-1;(_e=lt.call(fe,ln))>-1;)J.call(fe,_e,1);return fe},_=it,P=Array.prototype.splice,Q=function(fe,Ne){if(!i(fe))return[];for(var Fe=fe?Ne.length:0,rn=Fe-1;Fe--;){var ln=void 0,_e=Ne[Fe];(Fe===rn||_e!==ln)&&(ln=_e,P.call(fe,_e,1))}return fe},k=Q,p=function(fe,Ne,Fe){if(!d(fe)&&!dt(fe))return fe;var rn=Fe;return A(fe,function(ln,_e){rn=Ne(rn,ln,_e)}),rn},y=p,B=function(fe,Ne){var Fe=[];if(!i(fe))return Fe;for(var rn=-1,ln=[],_e=fe.length;++rn<_e;){var dn=fe[rn];Ne(dn,rn,fe)&&(Fe.push(dn),ln.push(rn))}return k(fe,ln),Fe},W=B,rt=function(Ie){return I(Ie,"String")};function st(Ie,fe){var Ne;if(m(fe))Ne=function(ln,_e){return fe(ln)-fe(_e)};else{var Fe=[];rt(fe)?Fe.push(fe):d(fe)&&(Fe=fe),Ne=function(ln,_e){for(var dn=0;dn<Fe.length;dn+=1){var En=Fe[dn];if(ln[En]>_e[En])return 1;if(ln[En]<_e[En])return-1}return 0}}return Ie.sort(Ne),Ie}var ut=st,Mt=function(fe){var Ne=[];return A(fe,function(Fe){t(Ne,Fe)||Ne.push(Fe)}),Ne},bt=Mt,xt=function(){for(var fe=[],Ne=0;Ne<arguments.length;Ne++)fe[Ne]=arguments[Ne];return bt([].concat.apply([],fe))},Ot=xt,jt=function(Ie,fe){for(var Ne=[],Fe={},rn=0;rn<Ie.length;rn++){var ln=Ie[rn],_e=ln[fe];if(!s(_e)){d(_e)||(_e=[_e]);for(var dn=0;dn<_e.length;dn++){var En=_e[dn];Fe[En]||(Ne.push(En),Fe[En]=!0)}}}return Ne};function Dt(Ie){if(i(Ie))return Ie[0]}function zt(Ie){if(i(Ie)){var fe=Ie;return fe[fe.length-1]}}function Tt(Ie,fe){return d(Ie)||rt(Ie)?Ie[0]===fe:!1}var Vt=Tt;function Ht(Ie,fe){return d(Ie)||rt(Ie)?Ie[Ie.length-1]===fe:!1}var re=Ht,pe=function(fe,Ne){for(var Fe=0;Fe<fe.length;Fe++)if(!Ne(fe[Fe],Fe))return!1;return!0},me=pe,Ee=function(fe,Ne){for(var Fe=0;Fe<fe.length;Fe++)if(Ne(fe[Fe],Fe))return!0;return!1},Le=Ee,Je=Object.prototype.hasOwnProperty;function On(Ie,fe){if(!fe||!d(Ie))return{};for(var Ne={},Fe=m(fe)?fe:function(dn){return dn[fe]},rn,ln=0;ln<Ie.length;ln++){var _e=Ie[ln];rn=Fe(_e),Je.call(Ne,rn)?Ne[rn].push(_e):Ne[rn]=[_e]}return Ne}var gn=On,Vn=function(fe,Ne){if(!Ne)return{0:fe};if(!m(Ne)){var Fe=d(Ne)?Ne:Ne.replace(/\s+/g,"").split("*");Ne=function(_e){for(var dn="_",En=0,tr=Fe.length;En<tr;En++)dn+=_e[Fe[En]]&&_e[Fe[En]].toString();return dn}}var rn=gn(fe,Ne);return rn},kn=Vn,Wn=function(Ie,fe){if(!fe)return[Ie];var Ne=kn(Ie,fe),Fe=[];for(var rn in Ne)Fe.push(Ne[rn]);return Fe};function Dn(Ie,fe){return Ie["_wrap_"+fe]}var Nn=Dn;function Qn(Ie,fe){if(Ie["_wrap_"+fe])return Ie["_wrap_"+fe];var Ne=function(rn){Ie[fe](rn)};return Ie["_wrap_"+fe]=Ne,Ne}var ir=Qn,hr={};function Er(Ie){var fe=hr[Ie];if(!fe){for(var Ne=Ie.toString(16),Fe=Ne.length;Fe<6;Fe++)Ne="0"+Ne;fe="#"+Ne,hr[Ie]=fe}return fe}var mr=Er;function dr(Ie){var fe=0,Ne=0,Fe=0,rn=0;return d(Ie)?Ie.length===1?fe=Ne=Fe=rn=Ie[0]:Ie.length===2?(fe=Fe=Ie[0],Ne=rn=Ie[1]):Ie.length===3?(fe=Ie[0],Ne=rn=Ie[1],Fe=Ie[2]):(fe=Ie[0],Ne=Ie[1],Fe=Ie[2],rn=Ie[3]):fe=Ne=Fe=rn=Ie,{r1:fe,r2:Ne,r3:Fe,r4:rn}}var Br=dr,ii=function(fe,Ne,Fe){return fe<Ne?Ne:fe>Fe?Fe:fe},mi=ii,Pi=function(fe,Ne){var Fe=Ne.toString(),rn=Fe.indexOf(".");if(rn===-1)return Math.round(fe);var ln=Fe.substr(rn+1).length;return ln>20&&(ln=20),parseFloat(fe.toFixed(ln))},sa=Pi,Pa=function(fe){return I(fe,"Number")},Mi=Pa,Ki=function(fe){return Mi(fe)&&fe%1!=0},fa=Ki,oa=function(fe){return Mi(fe)&&fe%2==0},pa=oa,La=Number.isInteger?Number.isInteger:function(Ie){return Mi(Ie)&&Ie%1==0},Yr=La,Ea=function(fe){return Mi(fe)&&fe<0},Pr=Ea,si=1e-5;function ti(Ie,fe,Ne){return Ne===void 0&&(Ne=si),Math.abs(Ie-fe)<Ne}var $r=function(fe){return Mi(fe)&&fe%2!=0},ui=$r,li=function(fe){return Mi(fe)&&fe>0},xi=li,Ci=function(Ie,fe){if(!!d(Ie)){var Ne=Ie[0],Fe;m(fe)?Fe=fe(Ie[0]):Fe=Ie[0][fe];var rn;return A(Ie,function(ln){m(fe)?rn=fe(ln):rn=ln[fe],rn>Fe&&(Ne=ln,Fe=rn)}),Ne}},di=function(Ie,fe){if(!!d(Ie)){var Ne=Ie[0],Fe;m(fe)?Fe=fe(Ie[0]):Fe=Ie[0][fe];var rn;return A(Ie,function(ln){m(fe)?rn=fe(ln):rn=ln[fe],rn<Fe&&(Ne=ln,Fe=rn)}),Ne}},Ti=function(fe,Ne){return(fe%Ne+Ne)%Ne},pi=Ti,Ni=180/Math.PI,Bi=function(fe){return Ni*fe},Fi=Bi,ma=parseInt,ua=Math.PI/180,Ra=function(fe){return ua*fe},xa=Ra,Ma=A,Qi=function(Ie,fe){return Ie.hasOwnProperty(fe)},ka=Qi,vo=Object.values?function(Ie){return Object.values(Ie)}:function(Ie){var fe=[];return A(Ie,function(Ne,Fe){m(Ie)&&Fe==="prototype"||fe.push(Ne)}),fe},za=vo,Ga=function(Ie,fe){return t(za(Ie),fe)},eo=function(Ie){return s(Ie)?"":Ie.toString()},ae=function(fe){return eo(fe).toLowerCase()},Kt=ae,te=function(fe){var Ne=eo(fe);return Ne.charAt(0).toLowerCase()+Ne.substring(1)},Oe=te;function Ze(Ie,fe){return!Ie||!fe?Ie:Ie.replace(/\\?\{([^{}]+)\}/g,function(Ne,Fe){return Ne.charAt(0)==="\\"?Ne.slice(1):fe[Fe]===void 0?"":fe[Fe]})}var An=Ze,qn=function(fe){return eo(fe).toUpperCase()},rr=qn,tn=function(fe){var Ne=eo(fe);return Ne.charAt(0).toUpperCase()+Ne.substring(1)},sn=tn,un={}.toString,ur=function(fe){return un.call(fe).replace(/^\[object /,"").replace(/]$/,"")},jr=ur,wr=function(fe){return I(fe,"Arguments")},yr=wr,ni=function(fe){return I(fe,"Boolean")},_r=ni,Fr=function(fe){return I(fe,"Date")},Lr=Fr,Gr=function(fe){return I(fe,"Error")},Hr=Gr,ei=function(Ie){return Mi(Ie)&&isFinite(Ie)},Kr=function(fe){return fe===null},Qr=Kr,Oi=Object.prototype,Ri=function(fe){var Ne=fe&&fe.constructor,Fe=typeof Ne=="function"&&Ne.prototype||Oi;return fe===Fe},Ei=Ri,Gi=function(fe){return I(fe,"RegExp")},ca=Gi,ha=function(fe){return fe===void 0},na=ha,Zi=function(fe){return fe instanceof Element||fe instanceof HTMLDocument},ve=Zi;function U(Ie){var fe=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(Ne){return setTimeout(Ne,16)};return fe(Ie)}function G(Ie){var fe=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;fe(Ie)}function nt(Ie,fe){for(var Ne in fe)fe.hasOwnProperty(Ne)&&Ne!=="constructor"&&fe[Ne]!==void 0&&(Ie[Ne]=fe[Ne])}function vt(Ie,fe,Ne,Fe){return fe&&nt(Ie,fe),Ne&&nt(Ie,Ne),Fe&&nt(Ie,Fe),Ie}var Gt=function(){for(var fe=[],Ne=0;Ne<arguments.length;Ne++)fe[Ne]=arguments[Ne];for(var Fe=fe[0],rn=1;rn<fe.length;rn++){var ln=fe[rn];m(ln)&&(ln=ln.prototype),vt(Fe.prototype,ln)}},Jt=Gt,ie=function Ie(fe){if(typeof fe!="object"||fe===null)return fe;var Ne;if(d(fe)){Ne=[];for(var Fe=0,rn=fe.length;Fe<rn;Fe++)typeof fe[Fe]=="object"&&fe[Fe]!=null?Ne[Fe]=Ie(fe[Fe]):Ne[Fe]=fe[Fe]}else{Ne={};for(var ln in fe)typeof fe[ln]=="object"&&fe[ln]!=null?Ne[ln]=Ie(fe[ln]):Ne[ln]=fe[ln]}return Ne},ue=ie;function Ce(Ie,fe,Ne){var Fe;return function(){var rn=this,ln=arguments,_e=function(){Fe=null,Ne||Ie.apply(rn,ln)},dn=Ne&&!Fe;clearTimeout(Fe),Fe=setTimeout(_e,fe),dn&&Ie.apply(rn,ln)}}var we=Ce,cn=function(Ie,fe){if(!m(Ie))throw new TypeError("Expected a function");var Ne=function Fe(){for(var rn=[],ln=0;ln<arguments.length;ln++)rn[ln]=arguments[ln];var _e=fe?fe.apply(this,rn):rn[0],dn=Fe.cache;if(dn.has(_e))return dn.get(_e);var En=Ie.apply(this,rn);return dn.set(_e,En),En};return Ne.cache=new Map,Ne},Cn=5;function _t(Ie,fe,Ne,Fe){Ne=Ne||0,Fe=Fe||Cn;for(var rn in fe)if(fe.hasOwnProperty(rn)){var ln=fe[rn];ln!==null&&dt(ln)?(dt(Ie[rn])||(Ie[rn]={}),Ne<Fe?_t(Ie[rn],ln,Ne+1,Fe):Ie[rn]=fe[rn]):d(ln)?(Ie[rn]=[],Ie[rn]=Ie[rn].concat(ln)):ln!==void 0&&(Ie[rn]=ln)}}var Xt=function(fe){for(var Ne=[],Fe=1;Fe<arguments.length;Fe++)Ne[Fe-1]=arguments[Fe];for(var rn=0;rn<Ne.length;rn+=1)_t(fe,Ne[rn]);return fe},Se=Xt,Wt=function(fe,Ne,Fe,rn){m(Ne)||(Fe=Ne,Ne=fe,fe=function(){});var ln=Object.create?function(dn,En){return Object.create(dn,{constructor:{value:En}})}:function(dn,En){function tr(){}tr.prototype=dn;var Pn=new tr;return Pn.constructor=En,Pn},_e=ln(Ne.prototype,fe);return fe.prototype=vt(_e,fe.prototype),fe.superclass=ln(Ne.prototype,Ne),vt(_e,Fe),vt(fe,rn),fe},ce=Wt,yn=function(fe,Ne){if(!i(fe))return-1;var Fe=Array.prototype.indexOf;if(Fe)return Fe.call(fe,Ne);for(var rn=-1,ln=0;ln<fe.length;ln++)if(fe[ln]===Ne){rn=ln;break}return rn},Bn=yn,Zn=Object.prototype.hasOwnProperty;function Kn(Ie){if(s(Ie))return!0;if(i(Ie))return!Ie.length;var fe=jr(Ie);if(fe==="Map"||fe==="Set")return!Ie.size;if(Ei(Ie))return!Object.keys(Ie).length;for(var Ne in Ie)if(Zn.call(Ie,Ne))return!1;return!0}var $e=Kn,je=function Ie(fe,Ne){if(fe===Ne)return!0;if(!fe||!Ne||rt(fe)||rt(Ne))return!1;if(i(fe)||i(Ne)){if(fe.length!==Ne.length)return!1;for(var Fe=!0,rn=0;rn<fe.length&&(Fe=Ie(fe[rn],Ne[rn]),!!Fe);rn++);return Fe}if(H(fe)||H(Ne)){var ln=Object.keys(fe),_e=Object.keys(Ne);if(ln.length!==_e.length)return!1;for(var Fe=!0,rn=0;rn<ln.length&&(Fe=Ie(fe[ln[rn]],Ne[ln[rn]]),!!Fe);rn++);return Fe}return!1},L=je,St=function(Ie,fe,Ne){return m(Ne)?!!Ne(Ie,fe):L(Ie,fe)},$t=function(fe,Ne){if(!i(fe))return fe;for(var Fe=[],rn=0;rn<fe.length;rn++){var ln=fe[rn];Fe.push(Ne(ln,rn))}return Fe},ye=$t,Zt=function(fe){return fe},de=function(Ie,fe){fe===void 0&&(fe=Zt);var Ne={};return C(Ie)&&!s(Ie)&&Object.keys(Ie).forEach(function(Fe){Ne[Fe]=fe(Ie[Fe],Fe)}),Ne},he=function(Ie,fe,Ne){for(var Fe=0,rn=rt(fe)?fe.split("."):fe;Ie&&Fe<rn.length;)Ie=Ie[rn[Fe++]];return Ie===void 0||Fe<rn.length?Ne:Ie},le=function(Ie,fe,Ne){var Fe=Ie,rn=rt(fe)?fe.split("."):fe;return rn.forEach(function(ln,_e){_e<rn.length-1?(C(Fe[ln])||(Fe[ln]=Mi(rn[_e+1])?[]:{}),Fe=Fe[ln]):Fe[ln]=Ne}),Ie},Me=Object.prototype.hasOwnProperty,We=function(Ie,fe){if(Ie===null||!dt(Ie))return{};var Ne={};return A(fe,function(Fe){Me.call(Ie,Fe)&&(Ne[Fe]=Ie[Fe])}),Ne},Ye=function(Ie,fe,Ne){var Fe,rn,ln,_e,dn=0;Ne||(Ne={});var En=function(){dn=Ne.leading===!1?0:Date.now(),Fe=null,_e=Ie.apply(rn,ln),Fe||(rn=ln=null)},tr=function(){var Fn=Date.now();!dn&&Ne.leading===!1&&(dn=Fn);var Cr=fe-(Fn-dn);return rn=this,ln=arguments,Cr<=0||Cr>fe?(Fe&&(clearTimeout(Fe),Fe=null),dn=Fn,_e=Ie.apply(rn,ln),Fe||(rn=ln=null)):!Fe&&Ne.trailing!==!1&&(Fe=setTimeout(En,Cr)),_e};return tr.cancel=function(){clearTimeout(Fe),dn=0,Fe=rn=ln=null},tr},ke=function(Ie){return i(Ie)?Array.prototype.slice.call(Ie):[]},nn={},Re=function(Ie){return Ie=Ie||"g",nn[Ie]?nn[Ie]+=1:nn[Ie]=1,Ie+nn[Ie]},hn=function(){},pn=function(Ie){return Ie};function on(Ie){return s(Ie)?0:i(Ie)?Ie.length:Object.keys(Ie).length}var mn=function(){function Ie(){this.map={}}return Ie.prototype.has=function(fe){return this.map[fe]!==void 0},Ie.prototype.get=function(fe,Ne){var Fe=this.map[fe];return Fe===void 0?Ne:Fe},Ie.prototype.set=function(fe,Ne){this.map[fe]=Ne},Ie.prototype.clear=function(){this.map={}},Ie.prototype.delete=function(fe){delete this.map[fe]},Ie.prototype.size=function(){return Object.keys(this.map).length},Ie}(),jn=mn},j5sG:function(qe,Pt,E){"use strict";Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.createSensor=void 0;var Y=i(E("NohK"));function i(t){return t&&t.__esModule?t:{default:t}}var b=function(n){var u=void 0,g=[],x=(0,Y.default)(function(){g.forEach(function(r){r(n)})}),c=function(){var s=new ResizeObserver(x);return s.observe(n),x(),s},w=function(s){u||(u=c()),g.indexOf(s)===-1&&g.push(s)},I=function(){u.disconnect(),g=[],u=void 0},m=function(s){var d=g.indexOf(s);d!==-1&&g.splice(d,1),g.length===0&&u&&I()};return{element:n,bind:w,destroy:I,unbind:m}};Pt.createSensor=b},jhiw:function(qe,Pt,E){},jqgP:function(qe,Pt,E){"use strict";E.d(Pt,"e",function(){return b}),E.d(Pt,"f",function(){return t}),E.d(Pt,"d",function(){return n}),E.d(Pt,"a",function(){return g}),E.d(Pt,"b",function(){return x}),E.d(Pt,"c",function(){return c});var Y=E("6JdA"),i=[1,0,0,0,1,0,0,0,1];function b(w,I,m){if(m===void 0&&(m=i),!I)return null;var r=Y.a.transform(m,[["t",-w.x,-w.y],["r",I],["t",w.x,w.y]]);return r}function t(w,I){return!w.x&&!w.y?null:Y.a.transform(I||i,[["t",w.x,w.y]])}function n(w){var I=[1,0,0],m=[0,0,0];return Y.d.transformMat3(m,I,w),Math.atan2(m[1],m[0])}function u(w,I){var m=[0,0];return Y.c.transformMat3(m,I,w),m}function g(w,I){var m=u(w,[I.minX,I.minY]),r=u(w,[I.maxX,I.minY]),s=u(w,[I.minX,I.maxY]),d=u(w,[I.maxX,I.maxY]),C=Math.min(m[0],r[0],s[0],d[0]),S=Math.max(m[0],r[0],s[0],d[0]),A=Math.min(m[1],r[1],s[1],d[1]),f=Math.max(m[1],r[1],s[1],d[1]);return{x:C,y:A,minX:C,minY:A,maxX:S,maxY:f,width:S-C,height:f-A}}function x(w,I,m,r){if(I){var s=b({x:m,y:r},I,w.getMatrix());w.setMatrix(s)}}function c(w,I,m){var r=t({x:I,y:m});w.attr("matrix",r)}},"k+1r":function(qe,Pt,E){var Y=E("QkVE");function i(b){var t=Y(this,b).delete(b);return this.size-=t?1:0,t}qe.exports=i},kaz8:function(qe,Pt,E){"use strict";var Y=E("rePB"),i=E("wx14"),b=E("q1tI"),t=E("TSYQ"),n=E.n(t),u=E("x1Ya"),g=E("KQm4"),x=E("ODXe"),c=E("bT9E"),w=E("H84U"),I=function(D,V){var H={};for(var $ in D)Object.prototype.hasOwnProperty.call(D,$)&&V.indexOf($)<0&&(H[$]=D[$]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,$=Object.getOwnPropertySymbols(D);dt<$.length;dt++)V.indexOf($[dt])<0&&Object.prototype.propertyIsEnumerable.call(D,$[dt])&&(H[$[dt]]=D[$[dt]]);return H},m=b.createContext(null),r=function(V){var H=V.defaultValue,$=V.children,dt=V.options,Z=dt===void 0?[]:dt,ct=V.prefixCls,pt=V.className,gt=V.style,at=V.onChange,Bt=I(V,["defaultValue","children","options","prefixCls","className","style","onChange"]),Lt=b.useContext(w.b),Et=Lt.getPrefixCls,K=Lt.direction,ft=b.useState(Bt.value||H||[]),mt=Object(x.a)(ft,2),yt=mt[0],wt=mt[1],J=b.useState([]),lt=Object(x.a)(J,2),it=lt[0],_=lt[1];b.useEffect(function(){"value"in Bt&&wt(Bt.value||[])},[Bt.value]);var P=function(){return Z.map(function(Mt){return typeof Mt=="string"?{label:Mt,value:Mt}:Mt})},Q=function(Mt){_(function(bt){return bt.filter(function(xt){return xt!==Mt})})},k=function(Mt){_(function(bt){return[].concat(Object(g.a)(bt),[Mt])})},p=function(Mt){var bt=yt.indexOf(Mt.value),xt=Object(g.a)(yt);if(bt===-1?xt.push(Mt.value):xt.splice(bt,1),"value"in Bt||wt(xt),at){var Ot=P();at(xt.filter(function(jt){return it.indexOf(jt)!==-1}).sort(function(jt,Dt){var zt=Ot.findIndex(function(Vt){return Vt.value===jt}),Tt=Ot.findIndex(function(Vt){return Vt.value===Dt});return zt-Tt}))}},y=Et("checkbox",ct),B="".concat(y,"-group"),W=Object(c.a)(Bt,["value","disabled"]);Z&&Z.length>0&&($=P().map(function(ut){return b.createElement(f,{prefixCls:y,key:ut.value.toString(),disabled:"disabled"in ut?ut.disabled:Bt.disabled,value:ut.value,checked:yt.indexOf(ut.value)!==-1,onChange:ut.onChange,className:"".concat(B,"-item"),style:ut.style},ut.label)}));var rt={toggleOption:p,value:yt,disabled:Bt.disabled,name:Bt.name,registerValue:k,cancelValue:Q},st=n()(B,Object(Y.a)({},"".concat(B,"-rtl"),K==="rtl"),pt);return b.createElement("div",Object(i.a)({className:st,style:gt},W),b.createElement(m.Provider,{value:rt},$))},s=b.memo(r),d=E("uaoM"),C=function(D,V){var H={};for(var $ in D)Object.prototype.hasOwnProperty.call(D,$)&&V.indexOf($)<0&&(H[$]=D[$]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var dt=0,$=Object.getOwnPropertySymbols(D);dt<$.length;dt++)V.indexOf($[dt])<0&&Object.prototype.propertyIsEnumerable.call(D,$[dt])&&(H[$[dt]]=D[$[dt]]);return H},S=function(V,H){var $,dt=V.prefixCls,Z=V.className,ct=V.children,pt=V.indeterminate,gt=pt===void 0?!1:pt,at=V.style,Bt=V.onMouseEnter,Lt=V.onMouseLeave,Et=V.skipGroup,K=Et===void 0?!1:Et,ft=C(V,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup"]),mt=b.useContext(w.b),yt=mt.getPrefixCls,wt=mt.direction,J=b.useContext(m),lt=b.useRef(ft.value);b.useEffect(function(){J==null||J.registerValue(ft.value),Object(d.a)("checked"in ft||!!J||!("value"in ft),"Checkbox","`value` is not a valid prop, do you mean `checked`?")},[]),b.useEffect(function(){if(!K)return ft.value!==lt.current&&(J==null||J.cancelValue(lt.current),J==null||J.registerValue(ft.value)),function(){return J==null?void 0:J.cancelValue(ft.value)}},[ft.value]);var it=yt("checkbox",dt),_=Object(i.a)({},ft);J&&!K&&(_.onChange=function(){ft.onChange&&ft.onChange.apply(ft,arguments),J.toggleOption&&J.toggleOption({label:ct,value:ft.value})},_.name=J.name,_.checked=J.value.indexOf(ft.value)!==-1,_.disabled=ft.disabled||J.disabled);var P=n()(($={},Object(Y.a)($,"".concat(it,"-wrapper"),!0),Object(Y.a)($,"".concat(it,"-rtl"),wt==="rtl"),Object(Y.a)($,"".concat(it,"-wrapper-checked"),_.checked),Object(Y.a)($,"".concat(it,"-wrapper-disabled"),_.disabled),$),Z),Q=n()(Object(Y.a)({},"".concat(it,"-indeterminate"),gt));return b.createElement("label",{className:P,style:at,onMouseEnter:Bt,onMouseLeave:Lt},b.createElement(u.a,Object(i.a)({},_,{prefixCls:it,className:Q,ref:H})),ct!==void 0&&b.createElement("span",null,ct))},A=b.forwardRef(S);A.displayName="Checkbox";var f=A,O=f;O.Group=s,O.__ANT_CHECKBOX=!0;var j=Pt.a=O},kekF:function(qe,Pt){function E(Y,i){return function(b){return Y(i(b))}}qe.exports=E},kwiP:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return u});var Y=E("mrSG"),i=E("zJSt"),b=E("u9/z"),t=E("SZbK"),n=E("B3DA"),u=function(g){Object(Y.b)(x,g);function x(){var c=g!==null&&g.apply(this,arguments)||this;return c.type="process",c}return x.prototype.getDefaultOptions=function(){return{percent:.2,color:t.a,animation:!0}},x.prototype.changeData=function(c){this.updateOption({percent:c}),this.chart.changeData(Object(n.a)(c))},x.prototype.getSchemaAdaptor=function(){return b.a},x}(i.a)},l3hu:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return i});var Y=E("iTfj");function i(b,t,n){var u=t+"Style",g=null;return Object(Y.each)(n,function(x,c){b[c]&&x[u]&&(g||(g={}),Object(Y.mix)(g,x[u]))}),g}},lFe4:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return i});var Y=E("iTfj");function i(b){return Object(Y.map)(b||[],function(t,n){return{x:""+n,y:t}})}},lOPJ:function(qe,Pt,E){"use strict";var Y=E("AA7f"),i=E("iTfj"),b=E("0Xep"),t=E("Qci9"),n=function(u){Object(Y.b)(g,u);function g(x){var c=u.call(this,x)||this;c.cacheMap={},c.adjustDataArray=[],c.mergeData=[];var w=x.marginRatio,I=w===void 0?b.d:w,m=x.dodgeRatio,r=m===void 0?b.b:m,s=x.dodgeBy,d=x.intervalPadding,C=x.dodgePadding,S=x.xDimensionLength,A=x.groupNum,f=x.defaultSize,O=x.maxColumnWidth,j=x.minColumnWidth,D=x.columnWidthRatio;return c.marginRatio=I,c.dodgeRatio=r,c.dodgeBy=s,c.intervalPadding=d,c.dodgePadding=C,c.xDimensionLegenth=S,c.groupNum=A,c.defaultSize=f,c.maxColumnWidth=O,c.minColumnWidth=j,c.columnWidthRatio=D,c}return g.prototype.process=function(x){var c=i.clone(x),w=i.flatten(c),I=this.dodgeBy,m=I?i.group(w,I):c;return this.cacheMap={},this.adjustDataArray=m,this.mergeData=w,this.adjustData(m,w),this.adjustDataArray=[],this.mergeData=[],c},g.prototype.adjustDim=function(x,c,w,I){var m=this,r=this.getDistribution(x),s=this.groupData(w,x);return i.each(s,function(d,C){var S;c.length===1?S={pre:c[0]-1,next:c[0]+1}:S=m.getAdjustRange(x,parseFloat(C),c),i.each(d,function(A){var f=A[x],O=r[f],j=O.indexOf(I);A[x]=m.getDodgeOffset(S,j,O.length)})}),[]},g.prototype.getDodgeOffset=function(x,c,w){var I=this,m=I.dodgeRatio,r=I.marginRatio,s=I.intervalPadding,d=I.dodgePadding,C=x.pre,S=x.next,A=S-C,f;if(!i.isNil(s)&&i.isNil(d)&&s>=0){var O=this.getIntervalOnlyOffset(w,c);f=C+O}else if(!i.isNil(d)&&i.isNil(s)&&d>=0){var O=this.getDodgeOnlyOffset(w,c);f=C+O}else if(!i.isNil(s)&&!i.isNil(d)&&s>=0&&d>=0){var O=this.getIntervalAndDodgeOffset(w,c);f=C+O}else{var j=A*m/w,D=r*j,O=1/2*(A-w*j-(w-1)*D)+((c+1)*j+c*D)-1/2*j-1/2*A;f=(C+S)/2+O}return f},g.prototype.getIntervalOnlyOffset=function(x,c){var w=this,I=w.defaultSize,m=w.intervalPadding,r=w.xDimensionLegenth,s=w.groupNum,d=w.dodgeRatio,C=w.maxColumnWidth,S=w.minColumnWidth,A=w.columnWidthRatio,f=m/r,O=(1-(s-1)*f)/s*d/(x-1),j=((1-f*(s-1))/s-O*(x-1))/x;if(j=i.isNil(A)?j:1/s/x*A,!i.isNil(C)){var D=C/r;j=Math.min(j,D)}if(!i.isNil(S)){var V=S/r;j=Math.max(j,V)}j=I?I/r:j,O=((1-(s-1)*f)/s-x*j)/(x-1);var H=((1/2+c)*j+c*O+1/2*f)*s-f/2;return H},g.prototype.getDodgeOnlyOffset=function(x,c){var w=this,I=w.defaultSize,m=w.dodgePadding,r=w.xDimensionLegenth,s=w.groupNum,d=w.marginRatio,C=w.maxColumnWidth,S=w.minColumnWidth,A=w.columnWidthRatio,f=m/r,O=1*d/(s-1),j=((1-O*(s-1))/s-f*(x-1))/x;if(j=A?1/s/x*A:j,!i.isNil(C)){var D=C/r;j=Math.min(j,D)}if(!i.isNil(S)){var V=S/r;j=Math.max(j,V)}j=I?I/r:j,O=(1-(j*x+f*(x-1))*s)/(s-1);var H=((1/2+c)*j+c*f+1/2*O)*s-O/2;return H},g.prototype.getIntervalAndDodgeOffset=function(x,c){var w=this,I=w.intervalPadding,m=w.dodgePadding,r=w.xDimensionLegenth,s=w.groupNum,d=I/r,C=m/r,S=((1-d*(s-1))/s-C*(x-1))/x,A=((1/2+c)*S+c*C+1/2*d)*s-d/2;return A},g.prototype.getDistribution=function(x){var c=this.adjustDataArray,w=this.cacheMap,I=w[x];return I||(I={},i.each(c,function(m,r){var s=i.valuesOfKey(m,x);s.length||s.push(0),i.each(s,function(d){I[d]||(I[d]=[]),I[d].push(r)})}),w[x]=I),I},g}(t.a);Pt.a=n},lSCD:function(qe,Pt,E){var Y=E("NykK"),i=E("GoyQ"),b="[object AsyncFunction]",t="[object Function]",n="[object GeneratorFunction]",u="[object Proxy]";function g(x){if(!i(x))return!1;var c=Y(x);return c==t||c==n||c==b||c==u}qe.exports=g},ljhN:function(qe,Pt){function E(Y,i){return Y===i||Y!==Y&&i!==i}qe.exports=E},lr9b:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return A});var Y=E("mrSG"),i=E("zJSt"),b=E("YuPD"),t=E("iTfj"),n=E("w02o"),u=E("n/J0"),g="$$range$$",x="low-q1-median-q3-high",c="$$y_outliers$$";function w(f){var O=f.chart,j=f.options,D=j.xField,V=j.yField,H=j.groupField,$=j.color,dt=Array.isArray(V)?g:V,Z=O.schema().position(D+"*"+dt).shape("box");H&&Z.color(H,$).adjust("dodge");var ct=j.data;if(Array.isArray(V)){var pt=V[0],gt=V[1],at=V[2],Bt=V[3],Lt=V[4];ct=Object(t.map)(ct,function(Et){return Et[g]=[Et[pt],Et[gt],Et[at],Et[Bt],Et[Lt]],Et})}return O.data(ct),f}function I(f){var O=f.chart,j=f.options,D=j.xField,V=j.data,H=j.outliersField,$=j.outliersStyle,dt=j.padding;if(!H)return f;var Z=O.createView({padding:dt});Z.data(V),Z.axis(!1);var ct=Z.point().position(D+"*"+H).shape("circle");return Object(t.isFunction)($)?ct.style(D+"*"+H,function(pt,gt){var at;return $((at={},at[D]=pt,at[H]=gt,at))}):Object(t.isObject)($)&&ct.style($),f}function m(f){var O,j,D=f.chart,V=f.options,H=V.meta,$=V.xAxis,dt=V.yAxis,Z=V.xField,ct=V.yField,pt=V.outliersField,gt=Array.isArray(ct)?g:ct,at={};if(pt){var Bt=c;at=(O={},O[pt]={sync:Bt},O[gt]={sync:Bt},O)}var Lt=Object(b.b)(at,H,(j={},j[Z]=Object(b.k)($,u.a),j[gt]=Object(b.k)(dt,u.a),j));return D.scale(Lt),f}function r(f){var O=f.chart,j=f.options,D=j.xAxis,V=j.yAxis,H=j.xField,$=j.yField,dt=Array.isArray($)?g:$;return D===!1?O.axis(H,!1):O.axis(H,D),V===!1?O.axis(g,!1):O.axis(dt,V),f}function s(f){var O=f.chart,j=f.options,D=j.legend,V=j.groupField;return V?D?O.legend(V,D):O.legend(V,{position:"bottom"}):O.legend(!1),f}function d(f){var O=f.chart,j=f.options,D=j.xField,V=j.yField,H=j.boxStyle,$=Object(b.c)(O,"schema"),dt=Array.isArray(V)?g:V;return Object(t.isFunction)(H)?$.style(D+"*"+dt,function(Z,ct){var pt;return H((pt={},pt[D]=Z,pt[dt]=ct,pt))}):Object(t.isObject)(H)&&$.style(H),f}function C(f){var O=f.chart,j=f.options,D=j.tooltip;return D!==void 0&&O.tooltip(D),f}function S(f){return Object(b.e)(w,I,m,r,d,s,C,n.c,n.a,n.j)(f)}var A=function(f){Object(Y.b)(O,f);function O(){var j=f!==null&&f.apply(this,arguments)||this;return j.type="box",j}return O.prototype.getDefaultOptions=function(){var j;return Object(b.b)({},f.prototype.getDefaultOptions.call(this),{meta:(j={},j[g]={min:0,alias:x},j),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,showCrosshairs:!0,shared:!0}})},O.prototype.getSchemaAdaptor=function(){return S},O}(i.a)},lt7v:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return i});var Y=null;function i(){if(!Y){var b=document.createElement("canvas");b.width=1,b.height=1,Y=b.getContext("2d")}return Y}},"ma/q":function(qe,Pt,E){"use strict";var Y=E("Ihc8");E.d(Pt,"G2",function(){return Y});var i=E("zJSt"),b=E("Djfg"),t=E("XloR");E.d(Pt,"Line",function(){return t.a});var n=E("uw/B");E.d(Pt,"Area",function(){return n.a});var u=E("u9VJ");E.d(Pt,"Column",function(){return u.a});var g=E("Y+LX");E.d(Pt,"Bar",function(){return g.a});var x=E("Cr25");E.d(Pt,"Pie",function(){return x.a});var c=E("z4Vf");E.d(Pt,"Rose",function(){return c.a});var w=E("Mj7Y");E.d(Pt,"WordCloud",function(){return w.a});var I=E("tE4n");E.d(Pt,"Scatter",function(){return I.a});var m=E("y753");E.d(Pt,"Radar",function(){return m.a});var r=E("yqCL");E.d(Pt,"DualAxes",function(){return r.a});var s=E("mttH");E.d(Pt,"TinyLine",function(){return s.a});var d=E("027J");E.d(Pt,"TinyColumn",function(){return d.a});var C=E("05BJ");E.d(Pt,"TinyArea",function(){return C.a});var S=E("BwSJ");E.d(Pt,"Histogram",function(){return S.a});var A=E("kwiP");E.d(Pt,"Progress",function(){return A.a});var f=E("YP77");E.d(Pt,"RingProgress",function(){return f.a});var O=E("+wVF");E.d(Pt,"Heatmap",function(){return O.a});var j=E("lr9b");E.d(Pt,"Box",function(){return j.a});var D=E("/+3i");E.d(Pt,"Stock",function(){return D.a});var V=E("aLzy");E.d(Pt,"Funnel",function(){return V.a});var H=E("FAXy");E.d(Pt,"Liquid",function(){return H.a});var $=E("BYeR");E.d(Pt,"Bullet",function(){return $.a});var dt=E("cBFB");E.d(Pt,"Sunburst",function(){return dt.a});var Z=E("XpFM");E.d(Pt,"Gauge",function(){return Z.a});var ct=E("FLLP");E.d(Pt,"Waterfall",function(){return ct.a});var pt=E("TEat");E.d(Pt,"RadialBar",function(){return pt.a});var gt=E("7ZbV");E.d(Pt,"BidirectionalBar",function(){return gt.a});var at=E("eHqw");E.d(Pt,"Treemap",function(){return at.a});var Bt=E("rtSP");E.d(Pt,"Sankey",function(){return Bt.a});var Lt=E("Uo7R"),Et=E("7+4w"),K=E("QG4C");E.d(Pt,"MultiView",function(){return K.a});var ft=E("YuPD"),mt=E("tKoa"),yt=E("w02o"),wt=E("46lQ"),J="2.3.10",lt={scale:yt.f,legend:yt.d,tooltip:yt.k,annotation:yt.b,interaction:yt.c,theme:yt.j,animation:yt.a}},mdPL:function(qe,Pt,E){(function(Y){var i=E("WFqU"),b=Pt&&!Pt.nodeType&&Pt,t=b&&typeof Y=="object"&&Y&&!Y.nodeType&&Y,n=t&&t.exports===b,u=n&&i.process,g=function(){try{var x=t&&t.require&&t.require("util").types;return x||u&&u.binding&&u.binding("util")}catch(c){}}();Y.exports=g}).call(this,E("YuTi")(qe))},mj6g:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return t}),E.d(Pt,"d",function(){return n}),E.d(Pt,"c",function(){return u}),E.d(Pt,"b",function(){return g});var Y=E("mrSG"),i=E("iTfj"),b=E("YuPD");function t(x){var c={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},w=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];Object(i.get)(x,"fill")&&(c.color=x.fill);var I=Object(b.k)(x,w),m=I.shadowColor,r=I.shadowBlur,s=r===void 0?0:r,d=I.shadowOffsetX,C=d===void 0?0:d,S=I.shadowOffsetY,A=S===void 0?0:S;c["text-shadow"]=""+[m,C+"px",A+"px",s+"px"].join(" ");var f=Object(b.k)(x,w),O=f.stroke,j=f.lineWidth,D=j===void 0?0:j;return c["-webkit-text-stroke"]=""+[D+"px",O].join(" "),Object(i.each)(x,function(V,H){["fontSize"].includes(H)&&Object(i.isNumber)(V)?c[Object(b.i)(H)]=V+"px":H&&!w.includes(H)&&(c[Object(b.i)(H)]=""+V)}),c}function n(x,c){x.style["pointer-events"]="none",Object(i.each)(c,function(w,I){I&&w&&(x.style[I]=w)})}var u=function(c,w,I){var m=w.statistic,r=w.plotType,s=m.title,d=m.content;[s,d].forEach(function(C,S){if(!!C){var A="",f="";S===0?f=d?"translate(-50%, -100%)":"translate(-50%, -50%)":f=s?"translate(-50%, 0)":"translate(-50%, -50%)";var O=Object(i.isFunction)(C.style)?C.style(I):C.style;c.annotation().html(Object(Y.a)({position:["50%","50%"],html:function(D,V){var H=V.getCoordinate(),$=0;if(r==="pie"||r==="ring-progress")$=H.getRadius()*H.innerRadius*2;else if(r==="liquid"){var dt=Object(i.get)(V.geometries,[0,"elements",0,"shape"]);if(dt){var Z=dt.find(function(gt){return gt.get("type")==="circle"}),ct=Z.getCanvasBBox().width;$=ct}}else $||($=H.getWidth());n(D,Object(Y.a)({width:$+"px",transform:f},t(O)));var pt=V.getData();return C.customHtml?C.customHtml(D,V,I,pt):(C.formatter&&(A=C.formatter(I,pt)),A?Object(i.isString)(A)?A:""+A:"<div></div>")},key:(S===0?"top":"bottom")+"-statistic"},Object(b.k)(C,["offsetX","offsetY","rotate","style","formatter"])))}})},g=function(c,w,I){var m=w.statistic,r=m.title,s=m.content;[r,s].forEach(function(d){if(!!d){var C="",S=Object(i.isFunction)(d.style)?d.style(I):d.style;c.annotation().html(Object(Y.a)({position:["50%","100%"],html:function(f,O){var j=O.getCoordinate(),D=O.views[0].getCoordinate(),V=D.getCenter(),H=D.getRadius(),$=Math.max(Math.sin(D.startAngle),Math.sin(D.endAngle))*H,dt=V.y+$-j.y.start-parseFloat(Object(i.get)(S,"fontSize",0)),Z=j.getRadius()*j.innerRadius*2;n(f,Object(Y.a)({width:Z+"px",transform:"translate(-50%, "+dt+"px)"},t(S)));var ct=O.getData();return d.customHtml?d.customHtml(f,O,I,ct):(d.formatter&&(C=d.formatter(I,ct)),C?Object(i.isString)(C)?C:""+C:"<div></div>")}},Object(b.k)(d,["offsetX","offsetY","rotate","style","formatter"])))}})}},mrSG:function(qe,Pt,E){"use strict";E.d(Pt,"b",function(){return i}),E.d(Pt,"a",function(){return b}),E.d(Pt,"c",function(){return t}),E.d(Pt,"d",function(){return d});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Y=function(ct,pt){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(gt,at){gt.__proto__=at}||function(gt,at){for(var Bt in at)Object.prototype.hasOwnProperty.call(at,Bt)&&(gt[Bt]=at[Bt])},Y(ct,pt)};function i(Z,ct){if(typeof ct!="function"&&ct!==null)throw new TypeError("Class extends value "+String(ct)+" is not a constructor or null");Y(Z,ct);function pt(){this.constructor=Z}Z.prototype=ct===null?Object.create(ct):(pt.prototype=ct.prototype,new pt)}var b=function(){return b=Object.assign||function(pt){for(var gt,at=1,Bt=arguments.length;at<Bt;at++){gt=arguments[at];for(var Lt in gt)Object.prototype.hasOwnProperty.call(gt,Lt)&&(pt[Lt]=gt[Lt])}return pt},b.apply(this,arguments)};function t(Z,ct){var pt={};for(var gt in Z)Object.prototype.hasOwnProperty.call(Z,gt)&&ct.indexOf(gt)<0&&(pt[gt]=Z[gt]);if(Z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,gt=Object.getOwnPropertySymbols(Z);at<gt.length;at++)ct.indexOf(gt[at])<0&&Object.prototype.propertyIsEnumerable.call(Z,gt[at])&&(pt[gt[at]]=Z[gt[at]]);return pt}function n(Z,ct,pt,gt){var at=arguments.length,Bt=at<3?ct:gt===null?gt=Object.getOwnPropertyDescriptor(ct,pt):gt,Lt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Bt=Reflect.decorate(Z,ct,pt,gt);else for(var Et=Z.length-1;Et>=0;Et--)(Lt=Z[Et])&&(Bt=(at<3?Lt(Bt):at>3?Lt(ct,pt,Bt):Lt(ct,pt))||Bt);return at>3&&Bt&&Object.defineProperty(ct,pt,Bt),Bt}function u(Z,ct){return function(pt,gt){ct(pt,gt,Z)}}function g(Z,ct){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(Z,ct)}function x(Z,ct,pt,gt){function at(Bt){return Bt instanceof pt?Bt:new pt(function(Lt){Lt(Bt)})}return new(pt||(pt=Promise))(function(Bt,Lt){function Et(mt){try{ft(gt.next(mt))}catch(yt){Lt(yt)}}function K(mt){try{ft(gt.throw(mt))}catch(yt){Lt(yt)}}function ft(mt){mt.done?Bt(mt.value):at(mt.value).then(Et,K)}ft((gt=gt.apply(Z,ct||[])).next())})}function c(Z,ct){var pt={label:0,sent:function(){if(Bt[0]&1)throw Bt[1];return Bt[1]},trys:[],ops:[]},gt,at,Bt,Lt;return Lt={next:Et(0),throw:Et(1),return:Et(2)},typeof Symbol=="function"&&(Lt[Symbol.iterator]=function(){return this}),Lt;function Et(ft){return function(mt){return K([ft,mt])}}function K(ft){if(gt)throw new TypeError("Generator is already executing.");for(;pt;)try{if(gt=1,at&&(Bt=ft[0]&2?at.return:ft[0]?at.throw||((Bt=at.return)&&Bt.call(at),0):at.next)&&!(Bt=Bt.call(at,ft[1])).done)return Bt;switch(at=0,Bt&&(ft=[ft[0]&2,Bt.value]),ft[0]){case 0:case 1:Bt=ft;break;case 4:return pt.label++,{value:ft[1],done:!1};case 5:pt.label++,at=ft[1],ft=[0];continue;case 7:ft=pt.ops.pop(),pt.trys.pop();continue;default:if(Bt=pt.trys,!(Bt=Bt.length>0&&Bt[Bt.length-1])&&(ft[0]===6||ft[0]===2)){pt=0;continue}if(ft[0]===3&&(!Bt||ft[1]>Bt[0]&&ft[1]<Bt[3])){pt.label=ft[1];break}if(ft[0]===6&&pt.label<Bt[1]){pt.label=Bt[1],Bt=ft;break}if(Bt&&pt.label<Bt[2]){pt.label=Bt[2],pt.ops.push(ft);break}Bt[2]&&pt.ops.pop(),pt.trys.pop();continue}ft=ct.call(Z,pt)}catch(mt){ft=[6,mt],at=0}finally{gt=Bt=0}if(ft[0]&5)throw ft[1];return{value:ft[0]?ft[1]:void 0,done:!0}}}var w=Object.create?function(Z,ct,pt,gt){gt===void 0&&(gt=pt),Object.defineProperty(Z,gt,{enumerable:!0,get:function(){return ct[pt]}})}:function(Z,ct,pt,gt){gt===void 0&&(gt=pt),Z[gt]=ct[pt]};function I(Z,ct){for(var pt in Z)pt!=="default"&&!Object.prototype.hasOwnProperty.call(ct,pt)&&w(ct,Z,pt)}function m(Z){var ct=typeof Symbol=="function"&&Symbol.iterator,pt=ct&&Z[ct],gt=0;if(pt)return pt.call(Z);if(Z&&typeof Z.length=="number")return{next:function(){return Z&&gt>=Z.length&&(Z=void 0),{value:Z&&Z[gt++],done:!Z}}};throw new TypeError(ct?"Object is not iterable.":"Symbol.iterator is not defined.")}function r(Z,ct){var pt=typeof Symbol=="function"&&Z[Symbol.iterator];if(!pt)return Z;var gt=pt.call(Z),at,Bt=[],Lt;try{for(;(ct===void 0||ct-- >0)&&!(at=gt.next()).done;)Bt.push(at.value)}catch(Et){Lt={error:Et}}finally{try{at&&!at.done&&(pt=gt.return)&&pt.call(gt)}finally{if(Lt)throw Lt.error}}return Bt}function s(){for(var Z=[],ct=0;ct<arguments.length;ct++)Z=Z.concat(r(arguments[ct]));return Z}function d(){for(var Z=0,ct=0,pt=arguments.length;ct<pt;ct++)Z+=arguments[ct].length;for(var gt=Array(Z),at=0,ct=0;ct<pt;ct++)for(var Bt=arguments[ct],Lt=0,Et=Bt.length;Lt<Et;Lt++,at++)gt[at]=Bt[Lt];return gt}function C(Z,ct){for(var pt=0,gt=ct.length,at=Z.length;pt<gt;pt++,at++)Z[at]=ct[pt];return Z}function S(Z){return this instanceof S?(this.v=Z,this):new S(Z)}function A(Z,ct,pt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var gt=pt.apply(Z,ct||[]),at,Bt=[];return at={},Lt("next"),Lt("throw"),Lt("return"),at[Symbol.asyncIterator]=function(){return this},at;function Lt(wt){gt[wt]&&(at[wt]=function(J){return new Promise(function(lt,it){Bt.push([wt,J,lt,it])>1||Et(wt,J)})})}function Et(wt,J){try{K(gt[wt](J))}catch(lt){yt(Bt[0][3],lt)}}function K(wt){wt.value instanceof S?Promise.resolve(wt.value.v).then(ft,mt):yt(Bt[0][2],wt)}function ft(wt){Et("next",wt)}function mt(wt){Et("throw",wt)}function yt(wt,J){wt(J),Bt.shift(),Bt.length&&Et(Bt[0][0],Bt[0][1])}}function f(Z){var ct,pt;return ct={},gt("next"),gt("throw",function(at){throw at}),gt("return"),ct[Symbol.iterator]=function(){return this},ct;function gt(at,Bt){ct[at]=Z[at]?function(Lt){return(pt=!pt)?{value:S(Z[at](Lt)),done:at==="return"}:Bt?Bt(Lt):Lt}:Bt}}function O(Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ct=Z[Symbol.asyncIterator],pt;return ct?ct.call(Z):(Z=typeof m=="function"?m(Z):Z[Symbol.iterator](),pt={},gt("next"),gt("throw"),gt("return"),pt[Symbol.asyncIterator]=function(){return this},pt);function gt(Bt){pt[Bt]=Z[Bt]&&function(Lt){return new Promise(function(Et,K){Lt=Z[Bt](Lt),at(Et,K,Lt.done,Lt.value)})}}function at(Bt,Lt,Et,K){Promise.resolve(K).then(function(ft){Bt({value:ft,done:Et})},Lt)}}function j(Z,ct){return Object.defineProperty?Object.defineProperty(Z,"raw",{value:ct}):Z.raw=ct,Z}var D=Object.create?function(Z,ct){Object.defineProperty(Z,"default",{enumerable:!0,value:ct})}:function(Z,ct){Z.default=ct};function V(Z){if(Z&&Z.__esModule)return Z;var ct={};if(Z!=null)for(var pt in Z)pt!=="default"&&Object.prototype.hasOwnProperty.call(Z,pt)&&w(ct,Z,pt);return D(ct,Z),ct}function H(Z){return Z&&Z.__esModule?Z:{default:Z}}function $(Z,ct){if(!ct.has(Z))throw new TypeError("attempted to get private field on non-instance");return ct.get(Z)}function dt(Z,ct,pt){if(!ct.has(Z))throw new TypeError("attempted to set private field on non-instance");return ct.set(Z,pt),pt}},mttH:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return I});var Y=E("mrSG"),i=E("zJSt"),b=E("YuPD"),t=E("w02o"),n=E("tKoa"),u=E("DyAw"),g=E("lFe4"),x=E("7cv3");function c(m){var r,s,d=m.chart,C=m.options,S=C.data,A=C.xAxis,f=C.yAxis,O=C.color,j=C.lineStyle,D=C.point,V=Object(g.a)(S);d.data(V);var H=Object(b.b)({},m,{options:{xField:x.b,yField:x.c,line:{color:O,style:j},point:D}}),$=Object(b.b)({},H,{options:{tooltip:!1}});return Object(n.d)(H),Object(n.e)($),d.axis(!1),d.legend(!1),Object(t.f)((r={},r[x.b]=A,r[x.c]=f,r),(s={},s[x.b]={type:"cat"},s[x.c]=Object(u.a)(V,x.c),s))(m),m}function w(m){return Object(b.e)(c,t.j,t.k,t.a,Object(t.b)())(m)}var I=function(m){Object(Y.b)(r,m);function r(){var s=m!==null&&m.apply(this,arguments)||this;return s.type="tiny-line",s}return r.prototype.changeData=function(s){this.updateOption({data:s}),this.chart.changeData(Object(g.a)(s))},r.prototype.getDefaultOptions=function(){return{appendPadding:2,tooltip:Object(Y.a)({},x.a),animation:!0}},r.prototype.getSchemaAdaptor=function(){return w},r}(i.a)},"n+fv":function(qe,Pt,E){"use strict";E.r(Pt),E.d(Pt,"create",function(){return i}),E.d(Pt,"clone",function(){return b}),E.d(Pt,"length",function(){return t}),E.d(Pt,"fromValues",function(){return n}),E.d(Pt,"copy",function(){return u}),E.d(Pt,"set",function(){return g}),E.d(Pt,"add",function(){return x}),E.d(Pt,"subtract",function(){return c}),E.d(Pt,"multiply",function(){return w}),E.d(Pt,"divide",function(){return I}),E.d(Pt,"ceil",function(){return m}),E.d(Pt,"floor",function(){return r}),E.d(Pt,"min",function(){return s}),E.d(Pt,"max",function(){return d}),E.d(Pt,"round",function(){return C}),E.d(Pt,"scale",function(){return S}),E.d(Pt,"scaleAndAdd",function(){return A}),E.d(Pt,"distance",function(){return f}),E.d(Pt,"squaredDistance",function(){return O}),E.d(Pt,"squaredLength",function(){return j}),E.d(Pt,"negate",function(){return D}),E.d(Pt,"inverse",function(){return V}),E.d(Pt,"normalize",function(){return H}),E.d(Pt,"dot",function(){return $}),E.d(Pt,"cross",function(){return dt}),E.d(Pt,"lerp",function(){return Z}),E.d(Pt,"hermite",function(){return ct}),E.d(Pt,"bezier",function(){return pt}),E.d(Pt,"random",function(){return gt}),E.d(Pt,"transformMat4",function(){return at}),E.d(Pt,"transformMat3",function(){return Bt}),E.d(Pt,"transformQuat",function(){return Lt}),E.d(Pt,"rotateX",function(){return Et}),E.d(Pt,"rotateY",function(){return K}),E.d(Pt,"rotateZ",function(){return ft}),E.d(Pt,"angle",function(){return mt}),E.d(Pt,"zero",function(){return yt}),E.d(Pt,"str",function(){return wt}),E.d(Pt,"exactEquals",function(){return J}),E.d(Pt,"equals",function(){return lt}),E.d(Pt,"sub",function(){return it}),E.d(Pt,"mul",function(){return _}),E.d(Pt,"div",function(){return P}),E.d(Pt,"dist",function(){return Q}),E.d(Pt,"sqrDist",function(){return k}),E.d(Pt,"len",function(){return p}),E.d(Pt,"sqrLen",function(){return y}),E.d(Pt,"forEach",function(){return B});var Y=E("yU0y");function i(){var W=new Y.a(3);return Y.a!=Float32Array&&(W[0]=0,W[1]=0,W[2]=0),W}function b(W){var rt=new Y.a(3);return rt[0]=W[0],rt[1]=W[1],rt[2]=W[2],rt}function t(W){var rt=W[0],st=W[1],ut=W[2];return Math.hypot(rt,st,ut)}function n(W,rt,st){var ut=new Y.a(3);return ut[0]=W,ut[1]=rt,ut[2]=st,ut}function u(W,rt){return W[0]=rt[0],W[1]=rt[1],W[2]=rt[2],W}function g(W,rt,st,ut){return W[0]=rt,W[1]=st,W[2]=ut,W}function x(W,rt,st){return W[0]=rt[0]+st[0],W[1]=rt[1]+st[1],W[2]=rt[2]+st[2],W}function c(W,rt,st){return W[0]=rt[0]-st[0],W[1]=rt[1]-st[1],W[2]=rt[2]-st[2],W}function w(W,rt,st){return W[0]=rt[0]*st[0],W[1]=rt[1]*st[1],W[2]=rt[2]*st[2],W}function I(W,rt,st){return W[0]=rt[0]/st[0],W[1]=rt[1]/st[1],W[2]=rt[2]/st[2],W}function m(W,rt){return W[0]=Math.ceil(rt[0]),W[1]=Math.ceil(rt[1]),W[2]=Math.ceil(rt[2]),W}function r(W,rt){return W[0]=Math.floor(rt[0]),W[1]=Math.floor(rt[1]),W[2]=Math.floor(rt[2]),W}function s(W,rt,st){return W[0]=Math.min(rt[0],st[0]),W[1]=Math.min(rt[1],st[1]),W[2]=Math.min(rt[2],st[2]),W}function d(W,rt,st){return W[0]=Math.max(rt[0],st[0]),W[1]=Math.max(rt[1],st[1]),W[2]=Math.max(rt[2],st[2]),W}function C(W,rt){return W[0]=Math.round(rt[0]),W[1]=Math.round(rt[1]),W[2]=Math.round(rt[2]),W}function S(W,rt,st){return W[0]=rt[0]*st,W[1]=rt[1]*st,W[2]=rt[2]*st,W}function A(W,rt,st,ut){return W[0]=rt[0]+st[0]*ut,W[1]=rt[1]+st[1]*ut,W[2]=rt[2]+st[2]*ut,W}function f(W,rt){var st=rt[0]-W[0],ut=rt[1]-W[1],Mt=rt[2]-W[2];return Math.hypot(st,ut,Mt)}function O(W,rt){var st=rt[0]-W[0],ut=rt[1]-W[1],Mt=rt[2]-W[2];return st*st+ut*ut+Mt*Mt}function j(W){var rt=W[0],st=W[1],ut=W[2];return rt*rt+st*st+ut*ut}function D(W,rt){return W[0]=-rt[0],W[1]=-rt[1],W[2]=-rt[2],W}function V(W,rt){return W[0]=1/rt[0],W[1]=1/rt[1],W[2]=1/rt[2],W}function H(W,rt){var st=rt[0],ut=rt[1],Mt=rt[2],bt=st*st+ut*ut+Mt*Mt;return bt>0&&(bt=1/Math.sqrt(bt)),W[0]=rt[0]*bt,W[1]=rt[1]*bt,W[2]=rt[2]*bt,W}function $(W,rt){return W[0]*rt[0]+W[1]*rt[1]+W[2]*rt[2]}function dt(W,rt,st){var ut=rt[0],Mt=rt[1],bt=rt[2],xt=st[0],Ot=st[1],jt=st[2];return W[0]=Mt*jt-bt*Ot,W[1]=bt*xt-ut*jt,W[2]=ut*Ot-Mt*xt,W}function Z(W,rt,st,ut){var Mt=rt[0],bt=rt[1],xt=rt[2];return W[0]=Mt+ut*(st[0]-Mt),W[1]=bt+ut*(st[1]-bt),W[2]=xt+ut*(st[2]-xt),W}function ct(W,rt,st,ut,Mt,bt){var xt=bt*bt,Ot=xt*(2*bt-3)+1,jt=xt*(bt-2)+bt,Dt=xt*(bt-1),zt=xt*(3-2*bt);return W[0]=rt[0]*Ot+st[0]*jt+ut[0]*Dt+Mt[0]*zt,W[1]=rt[1]*Ot+st[1]*jt+ut[1]*Dt+Mt[1]*zt,W[2]=rt[2]*Ot+st[2]*jt+ut[2]*Dt+Mt[2]*zt,W}function pt(W,rt,st,ut,Mt,bt){var xt=1-bt,Ot=xt*xt,jt=bt*bt,Dt=Ot*xt,zt=3*bt*Ot,Tt=3*jt*xt,Vt=jt*bt;return W[0]=rt[0]*Dt+st[0]*zt+ut[0]*Tt+Mt[0]*Vt,W[1]=rt[1]*Dt+st[1]*zt+ut[1]*Tt+Mt[1]*Vt,W[2]=rt[2]*Dt+st[2]*zt+ut[2]*Tt+Mt[2]*Vt,W}function gt(W,rt){rt=rt||1;var st=Y.c()*2*Math.PI,ut=Y.c()*2-1,Mt=Math.sqrt(1-ut*ut)*rt;return W[0]=Math.cos(st)*Mt,W[1]=Math.sin(st)*Mt,W[2]=ut*rt,W}function at(W,rt,st){var ut=rt[0],Mt=rt[1],bt=rt[2],xt=st[3]*ut+st[7]*Mt+st[11]*bt+st[15];return xt=xt||1,W[0]=(st[0]*ut+st[4]*Mt+st[8]*bt+st[12])/xt,W[1]=(st[1]*ut+st[5]*Mt+st[9]*bt+st[13])/xt,W[2]=(st[2]*ut+st[6]*Mt+st[10]*bt+st[14])/xt,W}function Bt(W,rt,st){var ut=rt[0],Mt=rt[1],bt=rt[2];return W[0]=ut*st[0]+Mt*st[3]+bt*st[6],W[1]=ut*st[1]+Mt*st[4]+bt*st[7],W[2]=ut*st[2]+Mt*st[5]+bt*st[8],W}function Lt(W,rt,st){var ut=st[0],Mt=st[1],bt=st[2],xt=st[3],Ot=rt[0],jt=rt[1],Dt=rt[2],zt=Mt*Dt-bt*jt,Tt=bt*Ot-ut*Dt,Vt=ut*jt-Mt*Ot,Ht=Mt*Vt-bt*Tt,re=bt*zt-ut*Vt,pe=ut*Tt-Mt*zt,me=xt*2;return zt*=me,Tt*=me,Vt*=me,Ht*=2,re*=2,pe*=2,W[0]=Ot+zt+Ht,W[1]=jt+Tt+re,W[2]=Dt+Vt+pe,W}function Et(W,rt,st,ut){var Mt=[],bt=[];return Mt[0]=rt[0]-st[0],Mt[1]=rt[1]-st[1],Mt[2]=rt[2]-st[2],bt[0]=Mt[0],bt[1]=Mt[1]*Math.cos(ut)-Mt[2]*Math.sin(ut),bt[2]=Mt[1]*Math.sin(ut)+Mt[2]*Math.cos(ut),W[0]=bt[0]+st[0],W[1]=bt[1]+st[1],W[2]=bt[2]+st[2],W}function K(W,rt,st,ut){var Mt=[],bt=[];return Mt[0]=rt[0]-st[0],Mt[1]=rt[1]-st[1],Mt[2]=rt[2]-st[2],bt[0]=Mt[2]*Math.sin(ut)+Mt[0]*Math.cos(ut),bt[1]=Mt[1],bt[2]=Mt[2]*Math.cos(ut)-Mt[0]*Math.sin(ut),W[0]=bt[0]+st[0],W[1]=bt[1]+st[1],W[2]=bt[2]+st[2],W}function ft(W,rt,st,ut){var Mt=[],bt=[];return Mt[0]=rt[0]-st[0],Mt[1]=rt[1]-st[1],Mt[2]=rt[2]-st[2],bt[0]=Mt[0]*Math.cos(ut)-Mt[1]*Math.sin(ut),bt[1]=Mt[0]*Math.sin(ut)+Mt[1]*Math.cos(ut),bt[2]=Mt[2],W[0]=bt[0]+st[0],W[1]=bt[1]+st[1],W[2]=bt[2]+st[2],W}function mt(W,rt){var st=W[0],ut=W[1],Mt=W[2],bt=rt[0],xt=rt[1],Ot=rt[2],jt=Math.sqrt(st*st+ut*ut+Mt*Mt),Dt=Math.sqrt(bt*bt+xt*xt+Ot*Ot),zt=jt*Dt,Tt=zt&&$(W,rt)/zt;return Math.acos(Math.min(Math.max(Tt,-1),1))}function yt(W){return W[0]=0,W[1]=0,W[2]=0,W}function wt(W){return"vec3("+W[0]+", "+W[1]+", "+W[2]+")"}function J(W,rt){return W[0]===rt[0]&&W[1]===rt[1]&&W[2]===rt[2]}function lt(W,rt){var st=W[0],ut=W[1],Mt=W[2],bt=rt[0],xt=rt[1],Ot=rt[2];return Math.abs(st-bt)<=Y.b*Math.max(1,Math.abs(st),Math.abs(bt))&&Math.abs(ut-xt)<=Y.b*Math.max(1,Math.abs(ut),Math.abs(xt))&&Math.abs(Mt-Ot)<=Y.b*Math.max(1,Math.abs(Mt),Math.abs(Ot))}var it=c,_=w,P=I,Q=f,k=O,p=t,y=j,B=function(){var W=i();return function(rt,st,ut,Mt,bt,xt){var Ot,jt;for(st||(st=3),ut||(ut=0),Mt?jt=Math.min(Mt*st+ut,rt.length):jt=rt.length,Ot=ut;Ot<jt;Ot+=st)W[0]=rt[Ot],W[1]=rt[Ot+1],W[2]=rt[Ot+2],bt(W,W,xt),rt[Ot]=W[0],rt[Ot+1]=W[1],rt[Ot+2]=W[2];return rt}}()},"n/J0":function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return Y}),E.d(Pt,"b",function(){return i});var Y=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask"],i={GRADIENT:{CONTINUOUS:"#BAE7FF-#1890FF-#0050B3"}}},nCnq:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return n});var Y=E("cyZq");function i(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function b(u,g){return i(u)*i(g)?(u[0]*g[0]+u[1]*g[1])/(i(u)*i(g)):1}function t(u,g){return(u[0]*g[1]<u[1]*g[0]?-1:1)*Math.acos(b(u,g))}function n(u,g){var x=g[1],c=g[2],w=Object(Y.m)(Object(Y.o)(g[3]),Math.PI*2),I=g[4],m=g[5],r=u[0],s=u[1],d=g[6],C=g[7],S=Math.cos(w)*(r-d)/2+Math.sin(w)*(s-C)/2,A=-1*Math.sin(w)*(r-d)/2+Math.cos(w)*(s-C)/2,f=S*S/(x*x)+A*A/(c*c);f>1&&(x*=Math.sqrt(f),c*=Math.sqrt(f));var O=x*x*(A*A)+c*c*(S*S),j=O?Math.sqrt((x*x*(c*c)-O)/O):1;I===m&&(j*=-1),isNaN(j)&&(j=0);var D=c?j*x*A/c:0,V=x?j*-c*S/x:0,H=(r+d)/2+Math.cos(w)*D-Math.sin(w)*V,$=(s+C)/2+Math.sin(w)*D+Math.cos(w)*V,dt=[(S-D)/x,(A-V)/c],Z=[(-1*S-D)/x,(-1*A-V)/c],ct=t([1,0],dt),pt=t(dt,Z);return b(dt,Z)<=-1&&(pt=Math.PI),b(dt,Z)>=1&&(pt=0),m===0&&pt>0&&(pt=pt-2*Math.PI),m===1&&pt<0&&(pt=pt+2*Math.PI),{cx:H,cy:$,rx:Object(Y.j)(u,[d,C])?0:x,ry:Object(Y.j)(u,[d,C])?0:c,startAngle:ct,endAngle:ct+pt,xRotation:w,arcFlag:I,sweepFlag:m}}},nycV:function(qe,Pt,E){"use strict";E.d(Pt,"c",function(){return c}),E.d(Pt,"b",function(){return w}),E.d(Pt,"a",function(){return I});var Y=E("mrSG"),i=E("R5nb"),b=Math.sin,t=Math.cos,n=Math.atan2,u=Math.PI;function g(m,r,s,d,C,S,A){var f=r.stroke,O=r.lineWidth,j=s-C,D=d-S,V=n(D,j),H=new i.Path({type:"path",canvas:m.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*t(u/6)+","+10*b(u/6)+" L0,0 L"+10*t(u/6)+",-"+10*b(u/6),stroke:f,lineWidth:O}});H.translate(C,S),H.rotateAtPoint(C,S,V),m.set(A?"startArrowShape":"endArrowShape",H)}function x(m,r,s,d,C,S,A){var f=r.startArrow,O=r.endArrow,j=r.stroke,D=r.lineWidth,V=A?f:O,H=V.d,$=V.fill,dt=V.stroke,Z=V.lineWidth,ct=Object(Y.c)(V,["d","fill","stroke","lineWidth"]),pt=s-C,gt=d-S,at=n(gt,pt);H&&(C=C-t(at)*H,S=S-b(at)*H);var Bt=new i.Path({type:"path",canvas:m.get("canvas"),isArrowShape:!0,attrs:Object(Y.a)(Object(Y.a)({},ct),{stroke:dt||j,lineWidth:Z||D,fill:$})});Bt.translate(C,S),Bt.rotateAtPoint(C,S,at),m.set(A?"startArrowShape":"endArrowShape",Bt)}function c(m,r,s,d,C){var S=n(d-r,s-m);return{dx:t(S)*C,dy:b(S)*C}}function w(m,r,s,d,C,S){typeof r.startArrow=="object"?x(m,r,s,d,C,S,!0):r.startArrow?g(m,r,s,d,C,S,!0):m.set("startArrowShape",null)}function I(m,r,s,d,C,S){typeof r.endArrow=="object"?x(m,r,s,d,C,S,!1):r.endArrow?g(m,r,s,d,C,S,!1):m.set("startArrowShape",null)}},or5M:function(qe,Pt,E){var Y=E("1hJj"),i=E("QoRX"),b=E("xYSL"),t=1,n=2;function u(g,x,c,w,I,m){var r=c&t,s=g.length,d=x.length;if(s!=d&&!(r&&d>s))return!1;var C=m.get(g),S=m.get(x);if(C&&S)return C==x&&S==g;var A=-1,f=!0,O=c&n?new Y:void 0;for(m.set(g,x),m.set(x,g);++A<s;){var j=g[A],D=x[A];if(w)var V=r?w(D,j,A,x,g,m):w(j,D,A,g,x,m);if(V!==void 0){if(V)continue;f=!1;break}if(O){if(!i(x,function(H,$){if(!b(O,$)&&(j===H||I(j,H,c,w,m)))return O.push($)})){f=!1;break}}else if(!(j===D||I(j,D,c,w,m))){f=!1;break}}return m.delete(g),m.delete(x),f}qe.exports=u},"pED+":function(qe,Pt,E){},pSRY:function(qe,Pt,E){var Y=E("QkVE");function i(b){return Y(this,b).has(b)}qe.exports=i},q4HE:function(qe,Pt){var E="\\ud800-\\udfff",Y="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",b="\\u20d0-\\u20ff",t=Y+i+b,n="\\ufe0e\\ufe0f",u="["+E+"]",g="["+t+"]",x="\\ud83c[\\udffb-\\udfff]",c="(?:"+g+"|"+x+")",w="[^"+E+"]",I="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",r="\\u200d",s=c+"?",d="["+n+"]?",C="(?:"+r+"(?:"+[w,I,m].join("|")+")"+d+s+")*",S=d+s+C,A="(?:"+[w+g+"?",g,I,m,u].join("|")+")",f=RegExp(x+"(?="+x+")|"+A+S,"g");function O(j){for(var D=f.lastIndex=0;f.test(j);)++D;return D}qe.exports=O},qZTm:function(qe,Pt,E){var Y=E("fR/l"),i=E("MvSz"),b=E("7GkX");function t(n){return Y(n,b,i)}qe.exports=t},qaDU:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return t});var Y=E("mrSG"),i=E("Ihc8"),b=[1,0,0,0,1,0,0,0,1];function t(n,u){var g=u?Object(Y.d)(u):Object(Y.d)(b);return i.Util.transform(g,n)}},quyA:function(qe,Pt){var E="\\ud800-\\udfff",Y="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",b="\\u20d0-\\u20ff",t=Y+i+b,n="\\ufe0e\\ufe0f",u="\\u200d",g=RegExp("["+u+E+t+n+"]");function x(c){return g.test(c)}qe.exports=x},qx4F:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return i});var Y;function i(b){if(typeof document=="undefined")return 0;if(b||Y===void 0){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),u=n.style;u.position="absolute",u.top=0,u.left=0,u.pointerEvents="none",u.visibility="hidden",u.width="200px",u.height="150px",u.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var g=t.offsetWidth;n.style.overflow="scroll";var x=t.offsetWidth;g===x&&(x=n.clientWidth),document.body.removeChild(n),Y=g-x}return Y}},r0DC:function(qe,Pt,E){"use strict";E.d(Pt,"b",function(){return w}),E.d(Pt,"a",function(){return I});var Y=E("cyZq"),i=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,b=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,t=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,n=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function u(m,r){var s=m.match(n);Object(Y.c)(s,function(d){var C=d.split(":");r.addColorStop(C[0],C[1])})}function g(m,r,s){var d=i.exec(s),C=parseFloat(d[1])%360*(Math.PI/180),S=d[2],A=r.getBBox(),f,O;C>=0&&C<1/2*Math.PI?(f={x:A.minX,y:A.minY},O={x:A.maxX,y:A.maxY}):1/2*Math.PI<=C&&C<Math.PI?(f={x:A.maxX,y:A.minY},O={x:A.minX,y:A.maxY}):Math.PI<=C&&C<3/2*Math.PI?(f={x:A.maxX,y:A.maxY},O={x:A.minX,y:A.minY}):(f={x:A.minX,y:A.maxY},O={x:A.maxX,y:A.minY});var j=Math.tan(C),D=j*j,V=(O.x-f.x+j*(O.y-f.y))/(D+1)+f.x,H=j*(O.x-f.x+j*(O.y-f.y))/(D+1)+f.y,$=m.createLinearGradient(f.x,f.y,V,H);return u(S,$),$}function x(m,r,s){var d=b.exec(s),C=parseFloat(d[1]),S=parseFloat(d[2]),A=parseFloat(d[3]),f=d[4];if(A===0){var O=f.match(n);return O[O.length-1].split(":")[1]}var j=r.getBBox(),D=j.maxX-j.minX,V=j.maxY-j.minY,H=Math.sqrt(D*D+V*V)/2,$=m.createRadialGradient(j.minX+D*C,j.minY+V*S,0,j.minX+D/2,j.minY+V/2,A*H);return u(f,$),$}function c(m,r,s){if(r.get("patternSource")&&r.get("patternSource")===s)return r.get("pattern");var d,C,S=t.exec(s),A=S[1],f=S[2];function O(){d=m.createPattern(C,A),r.set("pattern",d),r.set("patternSource",s)}switch(A){case"a":A="repeat";break;case"x":A="repeat-x";break;case"y":A="repeat-y";break;case"n":A="no-repeat";break;default:A="no-repeat"}return C=new Image,f.match(/^data:/i)||(C.crossOrigin="Anonymous"),C.src=f,C.complete?O():(C.onload=O,C.src=C.src),d}function w(m,r,s){if(Object(Y.k)(s)){if(s[1]==="("||s[2]==="("){if(s[0]==="l")return g(m,r,s);if(s[0]==="r")return x(m,r,s);if(s[0]==="p")return c(m,r,s)}return s}}function I(m){var r=0,s=0,d=0,C=0;return Object(Y.g)(m)?m.length===1?r=s=d=C=m[0]:m.length===2?(r=d=m[0],s=C=m[1]):m.length===3?(r=m[0],s=C=m[1],d=m[2]):(r=m[0],s=m[1],d=m[2],C=m[3]):r=s=d=C=m,[r,s,d,C]}},rEGp:function(qe,Pt){function E(Y){var i=-1,b=Array(Y.size);return Y.forEach(function(t){b[++i]=t}),b}qe.exports=E},rtSP:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return pe});var Y=E("mrSG"),i=E("zJSt"),b=E("w02o"),t=E("YuPD"),n=E("iTfj"),u=E("ODXe"),g=E("uFwe");function x(me,Ee){var Le=0;if(Ee===void 0){var Je=Object(g.a)(me),On;try{for(Je.s();!(On=Je.n()).done;){var gn=On.value;(gn=+gn)&&(Le+=gn)}}catch(Nn){Je.e(Nn)}finally{Je.f()}}else{var Vn=-1,kn=Object(g.a)(me),Wn;try{for(kn.s();!(Wn=kn.n()).done;){var Dn=Wn.value;(Dn=+Ee(Dn,++Vn,me))&&(Le+=Dn)}}catch(Nn){kn.e(Nn)}finally{kn.f()}}return Le}function c(me,Ee){var Le;if(Ee===void 0){var Je=Object(g.a)(me),On;try{for(Je.s();!(On=Je.n()).done;){var gn=On.value;gn!=null&&(Le<gn||Le===void 0&&gn>=gn)&&(Le=gn)}}catch(Nn){Je.e(Nn)}finally{Je.f()}}else{var Vn=-1,kn=Object(g.a)(me),Wn;try{for(kn.s();!(Wn=kn.n()).done;){var Dn=Wn.value;(Dn=Ee(Dn,++Vn,me))!=null&&(Le<Dn||Le===void 0&&Dn>=Dn)&&(Le=Dn)}}catch(Nn){kn.e(Nn)}finally{kn.f()}}return Le}function w(me,Ee){var Le;if(Ee===void 0){var Je=Object(g.a)(me),On;try{for(Je.s();!(On=Je.n()).done;){var gn=On.value;gn!=null&&(Le>gn||Le===void 0&&gn>=gn)&&(Le=gn)}}catch(Nn){Je.e(Nn)}finally{Je.f()}}else{var Vn=-1,kn=Object(g.a)(me),Wn;try{for(kn.s();!(Wn=kn.n()).done;){var Dn=Wn.value;(Dn=Ee(Dn,++Vn,me))!=null&&(Le>Dn||Le===void 0&&Dn>=Dn)&&(Le=Dn)}}catch(Nn){kn.e(Nn)}finally{kn.f()}}return Le}function I(me){return me.target.depth}function m(me){return me.depth}function r(me,Ee){return Ee-1-me.height}function s(me,Ee){return me.sourceLinks.length?me.depth:Ee-1}function d(me){return me.targetLinks.length?me.depth:me.sourceLinks.length?w(me.sourceLinks,I)-1:0}function C(me){return function(){return me}}function S(me,Ee){return f(me.source,Ee.source)||me.index-Ee.index}function A(me,Ee){return f(me.target,Ee.target)||me.index-Ee.index}function f(me,Ee){return me.y0-Ee.y0}function O(me){return me.value}function j(me){return me.index}function D(me){return me.nodes}function V(me){return me.links}function H(me,Ee){var Le=me.get(Ee);if(!Le)throw new Error("missing: "+Ee);return Le}function $(me){var Ee=me.nodes,Le=Object(g.a)(Ee),Je;try{for(Le.s();!(Je=Le.n()).done;){var On=Je.value,gn=On.y0,Vn=gn,kn=Object(g.a)(On.sourceLinks),Wn;try{for(kn.s();!(Wn=kn.n()).done;){var Dn=Wn.value;Dn.y0=gn+Dn.width/2,gn+=Dn.width}}catch(hr){kn.e(hr)}finally{kn.f()}var Nn=Object(g.a)(On.targetLinks),Qn;try{for(Nn.s();!(Qn=Nn.n()).done;){var ir=Qn.value;ir.y1=Vn+ir.width/2,Vn+=ir.width}}catch(hr){Nn.e(hr)}finally{Nn.f()}}}catch(hr){Le.e(hr)}finally{Le.f()}}function dt(){var me=0,Ee=0,Le=1,Je=1,On=24,gn=8,Vn,kn=j,Wn=s,Dn,Nn,Qn=D,ir=V,hr=6;function Er(){var Pr={nodes:Qn.apply(null,arguments),links:ir.apply(null,arguments)};return mr(Pr),dr(Pr),Br(Pr),ii(Pr),sa(Pr),$(Pr),Pr}Er.update=function(Pr){return $(Pr),Pr},Er.nodeId=function(Pr){return arguments.length?(kn=typeof Pr=="function"?Pr:C(Pr),Er):kn},Er.nodeAlign=function(Pr){return arguments.length?(Wn=typeof Pr=="function"?Pr:C(Pr),Er):Wn},Er.nodeSort=function(Pr){return arguments.length?(Dn=Pr,Er):Dn},Er.nodeWidth=function(Pr){return arguments.length?(On=+Pr,Er):On},Er.nodePadding=function(Pr){return arguments.length?(gn=Vn=+Pr,Er):gn},Er.nodes=function(Pr){return arguments.length?(Qn=typeof Pr=="function"?Pr:C(Pr),Er):Qn},Er.links=function(Pr){return arguments.length?(ir=typeof Pr=="function"?Pr:C(Pr),Er):ir},Er.linkSort=function(Pr){return arguments.length?(Nn=Pr,Er):Nn},Er.size=function(Pr){return arguments.length?(me=Ee=0,Le=+Pr[0],Je=+Pr[1],Er):[Le-me,Je-Ee]},Er.extent=function(Pr){return arguments.length?(me=+Pr[0][0],Le=+Pr[1][0],Ee=+Pr[0][1],Je=+Pr[1][1],Er):[[me,Ee],[Le,Je]]},Er.iterations=function(Pr){return arguments.length?(hr=+Pr,Er):hr};function mr(Pr){var si=Pr.nodes,ti=Pr.links,$r=Object(g.a)(si.entries()),ui;try{for($r.s();!(ui=$r.n()).done;){var li=ui.value,xi=Object(u.a)(li,2),Ci=xi[0],di=xi[1];di.index=Ci,di.sourceLinks=[],di.targetLinks=[]}}catch(Ga){$r.e(Ga)}finally{$r.f()}var Ti=new Map(si.map(function(Ga,eo){return[kn(Ga,eo,si),Ga]})),pi=Object(g.a)(ti.entries()),Ni;try{for(pi.s();!(Ni=pi.n()).done;){var Bi=Ni.value,Fi=Object(u.a)(Bi,2),ma=Fi[0],ua=Fi[1];ua.index=ma;var Ra=ua.source,xa=ua.target;typeof Ra!="object"&&(Ra=ua.source=H(Ti,Ra)),typeof xa!="object"&&(xa=ua.target=H(Ti,xa)),Ra.sourceLinks.push(ua),xa.targetLinks.push(ua)}}catch(Ga){pi.e(Ga)}finally{pi.f()}if(Nn!=null){var Ma=Object(g.a)(si),Qi;try{for(Ma.s();!(Qi=Ma.n()).done;){var ka=Qi.value,vo=ka.sourceLinks,za=ka.targetLinks;vo.sort(Nn),za.sort(Nn)}}catch(Ga){Ma.e(Ga)}finally{Ma.f()}}}function dr(Pr){var si=Pr.nodes,ti=Object(g.a)(si),$r;try{for(ti.s();!($r=ti.n()).done;){var ui=$r.value;ui.value=ui.fixedValue===void 0?Math.max(x(ui.sourceLinks,O),x(ui.targetLinks,O)):ui.fixedValue}}catch(li){ti.e(li)}finally{ti.f()}}function Br(Pr){for(var si=Pr.nodes,ti=si.length,$r=new Set(si),ui=new Set,li=0;$r.size;){var xi=Object(g.a)($r),Ci;try{for(xi.s();!(Ci=xi.n()).done;){var di=Ci.value;di.depth=li;var Ti=Object(g.a)(di.sourceLinks),pi;try{for(Ti.s();!(pi=Ti.n()).done;){var Ni=pi.value,Bi=Ni.target;ui.add(Bi)}}catch(Fi){Ti.e(Fi)}finally{Ti.f()}}}catch(Fi){xi.e(Fi)}finally{xi.f()}if(++li>ti)throw new Error("circular link");$r=ui,ui=new Set}}function ii(Pr){for(var si=Pr.nodes,ti=si.length,$r=new Set(si),ui=new Set,li=0;$r.size;){var xi=Object(g.a)($r),Ci;try{for(xi.s();!(Ci=xi.n()).done;){var di=Ci.value;di.height=li;var Ti=Object(g.a)(di.targetLinks),pi;try{for(Ti.s();!(pi=Ti.n()).done;){var Ni=pi.value,Bi=Ni.source;ui.add(Bi)}}catch(Fi){Ti.e(Fi)}finally{Ti.f()}}}catch(Fi){xi.e(Fi)}finally{xi.f()}if(++li>ti)throw new Error("circular link");$r=ui,ui=new Set}}function mi(Pr){var si=Pr.nodes,ti=c(si,function(Bi){return Bi.depth})+1,$r=(Le-me-On)/(ti-1),ui=new Array(ti),li=Object(g.a)(si),xi;try{for(li.s();!(xi=li.n()).done;){var Ci=xi.value,di=Math.max(0,Math.min(ti-1,Math.floor(Wn.call(null,Ci,ti))));Ci.layer=di,Ci.x0=me+di*$r,Ci.x1=Ci.x0+On,ui[di]?ui[di].push(Ci):ui[di]=[Ci]}}catch(Bi){li.e(Bi)}finally{li.f()}if(Dn){var Ti=Object(g.a)(ui),pi;try{for(Ti.s();!(pi=Ti.n()).done;){var Ni=pi.value;Ni.sort(Dn)}}catch(Bi){Ti.e(Bi)}finally{Ti.f()}}return ui}function Pi(Pr){var si=w(Pr,function(ma){return(Je-Ee-(ma.length-1)*Vn)/x(ma,O)}),ti=Object(g.a)(Pr),$r;try{for(ti.s();!($r=ti.n()).done;){var ui=$r.value,li=Ee,xi=Object(g.a)(ui),Ci;try{for(xi.s();!(Ci=xi.n()).done;){var di=Ci.value;di.y0=li,di.y1=li+di.value*si,li=di.y1+Vn;var Ti=Object(g.a)(di.sourceLinks),pi;try{for(Ti.s();!(pi=Ti.n()).done;){var Ni=pi.value;Ni.width=Ni.value*si}}catch(ma){Ti.e(ma)}finally{Ti.f()}}}catch(ma){xi.e(ma)}finally{xi.f()}li=(Je-li+Vn)/(ui.length+1);for(var Bi=0;Bi<ui.length;++Bi){var Fi=ui[Bi];Fi.y0+=li*(Bi+1),Fi.y1+=li*(Bi+1)}La(ui)}}catch(ma){ti.e(ma)}finally{ti.f()}}function sa(Pr){var si=mi(Pr);Vn=Math.min(gn,(Je-Ee)/(c(si,function(li){return li.length})-1)),Pi(si);for(var ti=0;ti<hr;++ti){var $r=Math.pow(.99,ti),ui=Math.max(1-$r,(ti+1)/hr);Mi(si,$r,ui),Pa(si,$r,ui)}}function Pa(Pr,si,ti){for(var $r=1,ui=Pr.length;$r<ui;++$r){var li=Pr[$r],xi=Object(g.a)(li),Ci;try{for(xi.s();!(Ci=xi.n()).done;){var di=Ci.value,Ti=0,pi=0,Ni=Object(g.a)(di.targetLinks),Bi;try{for(Ni.s();!(Bi=Ni.n()).done;){var Fi=Bi.value,ma=Fi.source,ua=Fi.value,Ra=ua*(di.layer-ma.layer);Ti+=Yr(ma,di)*Ra,pi+=Ra}}catch(Ma){Ni.e(Ma)}finally{Ni.f()}if(pi>0){var xa=(Ti/pi-di.y0)*si;di.y0+=xa,di.y1+=xa,pa(di)}}}catch(Ma){xi.e(Ma)}finally{xi.f()}Dn===void 0&&li.sort(f),Ki(li,ti)}}function Mi(Pr,si,ti){for(var $r=Pr.length,ui=$r-2;ui>=0;--ui){var li=Pr[ui],xi=Object(g.a)(li),Ci;try{for(xi.s();!(Ci=xi.n()).done;){var di=Ci.value,Ti=0,pi=0,Ni=Object(g.a)(di.sourceLinks),Bi;try{for(Ni.s();!(Bi=Ni.n()).done;){var Fi=Bi.value,ma=Fi.target,ua=Fi.value,Ra=ua*(ma.layer-di.layer);Ti+=Ea(di,ma)*Ra,pi+=Ra}}catch(Ma){Ni.e(Ma)}finally{Ni.f()}if(pi>0){var xa=(Ti/pi-di.y0)*si;di.y0+=xa,di.y1+=xa,pa(di)}}}catch(Ma){xi.e(Ma)}finally{xi.f()}Dn===void 0&&li.sort(f),Ki(li,ti)}}function Ki(Pr,si){var ti=Pr.length>>1,$r=Pr[ti];oa(Pr,$r.y0-Vn,ti-1,si),fa(Pr,$r.y1+Vn,ti+1,si),oa(Pr,Je,Pr.length-1,si),fa(Pr,Ee,0,si)}function fa(Pr,si,ti,$r){for(;ti<Pr.length;++ti){var ui=Pr[ti],li=(si-ui.y0)*$r;li>1e-6&&(ui.y0+=li,ui.y1+=li),si=ui.y1+Vn}}function oa(Pr,si,ti,$r){for(;ti>=0;--ti){var ui=Pr[ti],li=(ui.y1-si)*$r;li>1e-6&&(ui.y0-=li,ui.y1-=li),si=ui.y0-Vn}}function pa(Pr){var si=Pr.sourceLinks,ti=Pr.targetLinks;if(Nn===void 0){var $r=Object(g.a)(ti),ui;try{for($r.s();!(ui=$r.n()).done;){var li=ui.value,xi=li.source.sourceLinks;xi.sort(A)}}catch(Ni){$r.e(Ni)}finally{$r.f()}var Ci=Object(g.a)(si),di;try{for(Ci.s();!(di=Ci.n()).done;){var Ti=di.value,pi=Ti.target.targetLinks;pi.sort(S)}}catch(Ni){Ci.e(Ni)}finally{Ci.f()}}}function La(Pr){if(Nn===void 0){var si=Object(g.a)(Pr),ti;try{for(si.s();!(ti=si.n()).done;){var $r=ti.value,ui=$r.sourceLinks,li=$r.targetLinks;ui.sort(A),li.sort(S)}}catch(xi){si.e(xi)}finally{si.f()}}}function Yr(Pr,si){var ti=Pr.y0-(Pr.sourceLinks.length-1)*Vn/2,$r=Object(g.a)(Pr.sourceLinks),ui;try{for($r.s();!(ui=$r.n()).done;){var li=ui.value,xi=li.target,Ci=li.width;if(xi===si)break;ti+=Ci+Vn}}catch(Fi){$r.e(Fi)}finally{$r.f()}var di=Object(g.a)(si.targetLinks),Ti;try{for(di.s();!(Ti=di.n()).done;){var pi=Ti.value,Ni=pi.source,Bi=pi.width;if(Ni===Pr)break;ti-=Bi}}catch(Fi){di.e(Fi)}finally{di.f()}return ti}function Ea(Pr,si){var ti=si.y0-(si.targetLinks.length-1)*Vn/2,$r=Object(g.a)(si.targetLinks),ui;try{for($r.s();!(ui=$r.n()).done;){var li=ui.value,xi=li.source,Ci=li.width;if(xi===Pr)break;ti+=Ci+Vn}}catch(Fi){$r.e(Fi)}finally{$r.f()}var di=Object(g.a)(Pr.sourceLinks),Ti;try{for(di.s();!(Ti=di.n()).done;){var pi=Ti.value,Ni=pi.target,Bi=pi.width;if(Ni===si)break;ti-=Bi}}catch(Fi){di.e(Fi)}finally{di.f()}return ti}return Er}var Z=Math.PI,ct=2*Z,pt=1e-6,gt=ct-pt;function at(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Bt(){return new at}at.prototype=Bt.prototype={constructor:at,moveTo:function(Ee,Le){this._+="M"+(this._x0=this._x1=+Ee)+","+(this._y0=this._y1=+Le)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(Ee,Le){this._+="L"+(this._x1=+Ee)+","+(this._y1=+Le)},quadraticCurveTo:function(Ee,Le,Je,On){this._+="Q"+ +Ee+","+ +Le+","+(this._x1=+Je)+","+(this._y1=+On)},bezierCurveTo:function(Ee,Le,Je,On,gn,Vn){this._+="C"+ +Ee+","+ +Le+","+ +Je+","+ +On+","+(this._x1=+gn)+","+(this._y1=+Vn)},arcTo:function(Ee,Le,Je,On,gn){Ee=+Ee,Le=+Le,Je=+Je,On=+On,gn=+gn;var Vn=this._x1,kn=this._y1,Wn=Je-Ee,Dn=On-Le,Nn=Vn-Ee,Qn=kn-Le,ir=Nn*Nn+Qn*Qn;if(gn<0)throw new Error("negative radius: "+gn);if(this._x1===null)this._+="M"+(this._x1=Ee)+","+(this._y1=Le);else if(ir>pt)if(!(Math.abs(Qn*Wn-Dn*Nn)>pt)||!gn)this._+="L"+(this._x1=Ee)+","+(this._y1=Le);else{var hr=Je-Vn,Er=On-kn,mr=Wn*Wn+Dn*Dn,dr=hr*hr+Er*Er,Br=Math.sqrt(mr),ii=Math.sqrt(ir),mi=gn*Math.tan((Z-Math.acos((mr+ir-dr)/(2*Br*ii)))/2),Pi=mi/ii,sa=mi/Br;Math.abs(Pi-1)>pt&&(this._+="L"+(Ee+Pi*Nn)+","+(Le+Pi*Qn)),this._+="A"+gn+","+gn+",0,0,"+ +(Qn*hr>Nn*Er)+","+(this._x1=Ee+sa*Wn)+","+(this._y1=Le+sa*Dn)}},arc:function(Ee,Le,Je,On,gn,Vn){Ee=+Ee,Le=+Le,Je=+Je,Vn=!!Vn;var kn=Je*Math.cos(On),Wn=Je*Math.sin(On),Dn=Ee+kn,Nn=Le+Wn,Qn=1^Vn,ir=Vn?On-gn:gn-On;if(Je<0)throw new Error("negative radius: "+Je);this._x1===null?this._+="M"+Dn+","+Nn:(Math.abs(this._x1-Dn)>pt||Math.abs(this._y1-Nn)>pt)&&(this._+="L"+Dn+","+Nn),!!Je&&(ir<0&&(ir=ir%ct+ct),ir>gt?this._+="A"+Je+","+Je+",0,1,"+Qn+","+(Ee-kn)+","+(Le-Wn)+"A"+Je+","+Je+",0,1,"+Qn+","+(this._x1=Dn)+","+(this._y1=Nn):ir>pt&&(this._+="A"+Je+","+Je+",0,"+ +(ir>=Z)+","+Qn+","+(this._x1=Ee+Je*Math.cos(gn))+","+(this._y1=Le+Je*Math.sin(gn))))},rect:function(Ee,Le,Je,On){this._+="M"+(this._x0=this._x1=+Ee)+","+(this._y0=this._y1=+Le)+"h"+ +Je+"v"+ +On+"h"+-Je+"Z"},toString:function(){return this._}};var Lt=Bt,Et=Array.prototype.slice,K=function(me){return function(){return me}};function ft(me){return me[0]}function mt(me){return me[1]}var yt=function(me,Ee){return[(Ee=+Ee)*Math.cos(me-=Math.PI/2),Ee*Math.sin(me)]};function wt(me){return me.source}function J(me){return me.target}function lt(me){var Ee=wt,Le=J,Je=ft,On=mt,gn=null;function Vn(){var kn,Wn=Et.call(arguments),Dn=Ee.apply(this,Wn),Nn=Le.apply(this,Wn);if(gn||(gn=kn=Lt()),me(gn,+Je.apply(this,(Wn[0]=Dn,Wn)),+On.apply(this,Wn),+Je.apply(this,(Wn[0]=Nn,Wn)),+On.apply(this,Wn)),kn)return gn=null,kn+""||null}return Vn.source=function(kn){return arguments.length?(Ee=kn,Vn):Ee},Vn.target=function(kn){return arguments.length?(Le=kn,Vn):Le},Vn.x=function(kn){return arguments.length?(Je=typeof kn=="function"?kn:K(+kn),Vn):Je},Vn.y=function(kn){return arguments.length?(On=typeof kn=="function"?kn:K(+kn),Vn):On},Vn.context=function(kn){return arguments.length?(gn=kn==null?null:kn,Vn):gn},Vn}function it(me,Ee,Le,Je,On){me.moveTo(Ee,Le),me.bezierCurveTo(Ee=(Ee+Je)/2,Le,Ee,On,Je,On)}function _(me,Ee,Le,Je,On){me.moveTo(Ee,Le),me.bezierCurveTo(Ee,Le=(Le+On)/2,Je,Le,Je,On)}function P(me,Ee,Le,Je,On){var gn=yt(Ee,Le),Vn=yt(Ee,Le=(Le+On)/2),kn=yt(Je,Le),Wn=yt(Je,On);me.moveTo(gn[0],gn[1]),me.bezierCurveTo(Vn[0],Vn[1],kn[0],kn[1],Wn[0],Wn[1])}function Q(){return lt(it)}function k(){return lt(_)}function p(){var me=lt(P);return me.angle=me.x,delete me.x,me.radius=me.y,delete me.y,me}function y(me){return[me.source.x1,me.y0]}function B(me){return[me.target.x0,me.y1]}var W=function(){return Q().source(y).target(B)},rt={left:m,right:r,center:d,justify:s},st={nodeId:function(Ee){return Ee.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function ut(me){var Ee=Object(n.isString)(me)?rt[me]:Object(n.isFunction)(me)?me:null;return Ee||s}function Mt(me){return Object(n.assign)({},st,me)}function bt(me,Ee){var Le=Mt(me),Je=Le.nodeId,On=Le.nodeSort,gn=Le.nodeAlign,Vn=Le.nodeWidth,kn=Le.nodePadding,Wn=dt().nodeSort(On).links(function(Nn){return Nn.links}).nodeWidth(Vn).nodePadding(kn).nodeAlign(ut(gn)).extent([[0,0],[1,1]]).nodeId(Je),Dn=Wn(Ee);return Dn.nodes.forEach(function(Nn){var Qn=Nn.x0,ir=Nn.x1,hr=Nn.y0,Er=Nn.y1;Nn.x=[Qn,ir,ir,Qn],Nn.y=[hr,hr,Er,Er]}),Dn.links.forEach(function(Nn){var Qn=Nn.source,ir=Nn.target,hr=Qn.x1,Er=ir.x0;Nn.x=[hr,hr,Er,Er];var mr=Nn.width/2;Nn.y=[Nn.y0+mr,Nn.y0-mr,Nn.y1+mr,Nn.y1-mr]}),Dn}var xt=E("tKoa"),Ot=E("DyAw"),jt="x",Dt="y",zt="name";function Tt(me,Ee,Le){return Object(n.size)(Ee)===0?!1:Ee.includes(Le)?!0:Ee.some(function(Je){return Tt(me,me.get(Je),Le)})}function Vt(me,Ee,Le){var Je=[],On=[],gn=new Map;return Object(n.each)(me,function(Vn){var kn=Vn[Ee],Wn=Vn[Le];Tt(gn,[kn],Wn)?On.push(Vn):(Je.push(Vn),gn.has(Wn)||gn.set(Wn,[]),gn.get(Wn).push(kn))}),On.length!==0&&console.warn("sankey data contains circle, "+On.length+" records removed.",On),Je}function Ht(me){var Ee=me.chart,Le=me.options,Je=Le.data,On=Le.sourceField,gn=Le.targetField,Vn=Le.weightField,kn=Le.color,Wn=Le.nodeStyle,Dn=Le.edgeStyle,Nn=Le.label,Qn=Le.tooltip,ir=Le.nodeAlign,hr=Le.nodePaddingRatio,Er=Le.nodeWidthRatio,mr=Le.nodeSort;Ee.legend(!1),Ee.tooltip(Qn),Ee.axis(!1);var dr=Object(Ot.b)(Vt(Je,On,gn),On,gn,Vn),Br=bt({nodeAlign:ir,nodePadding:hr,nodeWidth:Er,nodeSort:mr},dr),ii=Br.nodes,mi=Br.links,Pi=ii.map(function(Ki){return{x:Ki.x,y:Ki.y,name:Ki.name}}),sa=mi.map(function(Ki){return{source:Ki.source.name,target:Ki.target.name,name:Ki.source.name||Ki.target.name,x:Ki.x,y:Ki.y,value:Ki.value}}),Pa=Ee.createView();Pa.data(Pi),Object(xt.f)({chart:Pa,options:{xField:jt,yField:Dt,seriesField:zt,polygon:{color:kn,style:Wn},label:Nn,tooltip:!1}});var Mi=Ee.createView();return Mi.data(sa),Object(xt.b)({chart:Mi,options:{xField:jt,yField:Dt,seriesField:zt,edge:{color:kn,style:Dn,shape:"arc"},tooltip:Qn,state:{active:{style:{opacity:.8,lineWidth:0}}}}}),Ee.interaction("element-active"),Ee.scale({x:{sync:!0,nice:!0},y:{sync:!0,nice:!0},name:{sync:"color"}}),me}function re(me){return Object(t.e)(Ht,b.c,b.a,b.j)(me)}var pe=function(me){Object(Y.b)(Ee,me);function Ee(){var Le=me!==null&&me.apply(this,arguments)||this;return Le.type="sankey",Le}return Ee.prototype.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},label:{fields:["x","name"],callback:function(Je,On){var gn=Je[1]===1;return{style:{fill:"#545454",textAlign:gn?"end":"start"},offsetX:gn?-8:8,content:On}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value"],formatter:function(Je){var On=Je.source,gn=Je.target,Vn=Je.value;return{name:On+" -> "+gn,value:Vn}}},nodeWidthRatio:.008,nodePaddingRatio:.01}},Ee.prototype.getSchemaAdaptor=function(){return re},Ee}(i.a)},sEf8:function(qe,Pt){function E(Y){return function(i){return Y(i)}}qe.exports=E},sKgW:function(qe,Pt){var E=9007199254740991,Y=Math.floor;function i(b,t){var n="";if(!b||t<1||t>E)return n;do t%2&&(n+=b),t=Y(t/2),t&&(b+=b);while(t);return n}qe.exports=i},sRBo:function(qe,Pt,E){"use strict";var Y=E("cIOH"),i=E.n(Y),b=E("KCY9"),t=E.n(b)},sYIZ:function(qe,Pt,E){"use strict";var Y=E("mrSG"),i=E("aFU3");function b(r,s){if(s){var d=Object(i.invert)(s);return Object(i.multiplyVec2)(d,r)}return r}function t(r,s,d){var C=r.getTotalMatrix();if(C){var S=b([s,d,1],C),A=S[0],f=S[1];return[A,f]}return[s,d]}function n(r,s,d){if(r.isCanvas&&r.isCanvas())return!0;if(!Object(i.isAllowCapture)(r)||r.cfg.isInView===!1)return!1;if(r.cfg.clipShape){var C=t(r,s,d),S=C[0],A=C[1];if(r.isClipped(S,A))return!1}var f=r.cfg.cacheCanvasBBox||r.getCanvasBBox();return s>=f.minX&&s<=f.maxX&&d>=f.minY&&d<=f.maxY}function u(r,s,d){if(!n(r,s,d))return null;for(var C=null,S=r.getChildren(),A=S.length,f=A-1;f>=0;f--){var O=S[f];if(O.isGroup())C=u(O,s,d);else if(n(O,s,d)){var j=O,D=t(O,s,d),V=D[0],H=D[1];j.isInShape(V,H)&&(C=O)}if(C)break}return C}var g=E("R5nb"),x=E("wq2r"),c=E("cyZq"),w=E("9eUa"),I=function(r){Object(Y.b)(s,r);function s(){return r!==null&&r.apply(this,arguments)||this}return s.prototype.getDefaultCfg=function(){var d=r.prototype.getDefaultCfg.call(this);return d.renderer="canvas",d.autoDraw=!0,d.localRefresh=!0,d.refreshElements=[],d.clipView=!0,d.quickHit=!1,d},s.prototype.onCanvasChange=function(d){(d==="attr"||d==="sort"||d==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},s.prototype.getShapeBase=function(){return g},s.prototype.getGroupBase=function(){return x.a},s.prototype.getPixelRatio=function(){var d=this.get("pixelRatio")||Object(c.d)();return d>=1?Math.ceil(d):1},s.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},s.prototype.createDom=function(){var d=document.createElement("canvas"),C=d.getContext("2d");return this.set("context",C),d},s.prototype.setDOMSize=function(d,C){r.prototype.setDOMSize.call(this,d,C);var S=this.get("context"),A=this.get("el"),f=this.getPixelRatio();A.width=f*d,A.height=f*C,f>1&&S.scale(f,f)},s.prototype.clear=function(){r.prototype.clear.call(this),this._clearFrame();var d=this.get("context"),C=this.get("el");d.clearRect(0,0,C.width,C.height)},s.prototype.getShape=function(d,C){var S;return this.get("quickHit")?S=u(this,d,C):S=r.prototype.getShape.call(this,d,C,null),S},s.prototype._getRefreshRegion=function(){var d=this.get("refreshElements"),C=this.getViewRange(),S;if(d.length&&d[0]===this)S=C;else if(S=Object(w.f)(d),S){S.minX=Math.floor(S.minX),S.minY=Math.floor(S.minY),S.maxX=Math.ceil(S.maxX),S.maxY=Math.ceil(S.maxY),S.maxY+=1;var A=this.get("clipView");A&&(S=Object(w.g)(S,C))}return S},s.prototype.refreshElement=function(d){var C=this.get("refreshElements");C.push(d)},s.prototype._clearFrame=function(){var d=this.get("drawFrame");d&&(Object(c.a)(d),this.set("drawFrame",null),this.set("refreshElements",[]))},s.prototype.draw=function(){var d=this.get("drawFrame");this.get("autoDraw")&&d||this._startDraw()},s.prototype._drawAll=function(){var d=this.get("context"),C=this.get("el"),S=this.getChildren();d.clearRect(0,0,C.width,C.height),Object(w.a)(d,this),Object(w.d)(d,S),this.set("refreshElements",[])},s.prototype._drawRegion=function(){var d=this.get("context"),C=this.get("refreshElements"),S=this.getChildren(),A=this._getRefreshRegion();A?(d.clearRect(A.minX,A.minY,A.maxX-A.minX,A.maxY-A.minY),d.save(),d.beginPath(),d.rect(A.minX,A.minY,A.maxX-A.minX,A.maxY-A.minY),d.clip(),Object(w.a)(d,this),Object(w.b)(this,S,A),Object(w.d)(d,S,A),d.restore()):C.length&&Object(w.c)(C),Object(c.c)(C,function(f){f.get("hasChanged")&&f.set("hasChanged",!1)}),this.set("refreshElements",[])},s.prototype._startDraw=function(){var d=this,C=this.get("drawFrame");C||(C=Object(c.n)(function(){d.get("localRefresh")?d._drawRegion():d._drawAll(),d.set("drawFrame",null)}),this.set("drawFrame",C))},s.prototype.skipDraw=function(){},s}(i.AbstractCanvas),m=Pt.a=I},sboe:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return b});var Y=E("q1tI"),i=E.n(Y),b=Y.createContext(null)},seXi:function(qe,Pt,E){var Y=E("qZTm"),i=1,b=Object.prototype,t=b.hasOwnProperty;function n(u,g,x,c,w,I){var m=x&i,r=Y(u),s=r.length,d=Y(g),C=d.length;if(s!=C&&!m)return!1;for(var S=s;S--;){var A=r[S];if(!(m?A in g:t.call(g,A)))return!1}var f=I.get(u),O=I.get(g);if(f&&O)return f==g&&O==u;var j=!0;I.set(u,g),I.set(g,u);for(var D=m;++S<s;){A=r[S];var V=u[A],H=g[A];if(c)var $=m?c(H,V,A,g,u,I):c(V,H,A,u,g,I);if(!($===void 0?V===H||w(V,H,x,c,I):$)){j=!1;break}D||(D=A=="constructor")}if(j&&!D){var dt=u.constructor,Z=g.constructor;dt!=Z&&"constructor"in u&&"constructor"in g&&!(typeof dt=="function"&&dt instanceof dt&&typeof Z=="function"&&Z instanceof Z)&&(j=!1)}return I.delete(u),I.delete(g),j}qe.exports=n},shjB:function(qe,Pt){var E=9007199254740991;function Y(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=E}qe.exports=Y},sqD9:function(qe,Pt,E){"use strict";E.d(Pt,"b",function(){return t}),E.d(Pt,"a",function(){return n});var Y=E("mrSG"),i=E("iTfj"),b=E("F/eT");function t(u,g,x,c){var w=Object(i.reduce)(u,function(I,m){var r=m[x],s=I.has(r)?I.get(r):0,d=m[g];return s=Object(b.a)(d)?s+d:s,I.set(r,s),I},new Map);return Object(i.map)(u,function(I){var m,r=I[g],s=I[x],d=Object(b.a)(r)?r/w.get(s):0;return Object(Y.a)(Object(Y.a)({},I),(m={},m[c]=d,m))})}function n(u,g,x,c,w){return w?t(u,g,x,c):u}},sstZ:function(qe,Pt,E){"use strict";E.d(Pt,"j",function(){return i}),E.d(Pt,"c",function(){return b}),E.d(Pt,"g",function(){return t}),E.d(Pt,"b",function(){return n});var Y=E("iTfj");E.d(Pt,"e",function(){return Y.isNil}),E.d(Pt,"d",function(){return Y.isFunction}),E.d(Pt,"h",function(){return Y.isString}),E.d(Pt,"f",function(){return Y.isObject}),E.d(Pt,"i",function(){return Y.mix}),E.d(Pt,"a",function(){return Y.each}),E.d(Pt,"k",function(){return Y.upperFirst});function i(u,g){var x=u.indexOf(g);x!==-1&&u.splice(x,1)}var b=typeof window!="undefined"&&typeof window.document!="undefined";function t(u,g){if(u.isCanvas())return!0;for(var x=g.getParent(),c=!1;x;){if(x===u){c=!0;break}x=x.getParent()}return c}function n(u){return u.cfg.visible&&u.cfg.capture}},tE4n:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return k});var Y=E("mrSG"),i=E("zJSt"),b=E("YuPD"),t=E("iTfj"),n=E("tKoa"),u=E("w02o"),g=E("ODXe");function x(p,y,B,W){p=p.filter(function(Tt){var Vt=y(Tt),Ht=B(Tt);return Vt!=null&&isFinite(Vt)&&Ht!=null&&isFinite(Ht)}),W&&p.sort(function(Tt,Vt){return y(Tt)-y(Vt)});for(var rt=p.length,st=new Float64Array(rt),ut=new Float64Array(rt),Mt=0,bt=0,xt,Ot,jt,Dt=0;Dt<rt;)jt=p[Dt],st[Dt]=xt=+y(jt),ut[Dt]=Ot=+B(jt),++Dt,Mt+=(xt-Mt)/Dt,bt+=(Ot-bt)/Dt;for(var zt=0;zt<rt;++zt)st[zt]-=Mt,ut[zt]-=bt;return[st,ut,Mt,bt]}function c(p,y,B,W){for(var rt=0,st=0,ut=p.length;st<ut;st++){var Mt=p[st],bt=+y(Mt),xt=+B(Mt);bt!=null&&isFinite(bt)&&xt!=null&&isFinite(xt)&&W(bt,xt,rt++)}}function w(p,y,B,W,rt){var st=0,ut=0;return c(p,y,B,function(Mt,bt){var xt=bt-rt(Mt),Ot=bt-W;st+=xt*xt,ut+=Ot*Ot}),1-st/ut}function I(p){return Math.atan2(p[1][1]-p[0][1],p[1][0]-p[0][0])*180/Math.PI}function m(p){return[(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2]}function r(p,y,B){for(var W=Math.log(y-p)*Math.LOG10E+1|0,rt=1*Math.pow(10,-W/2-1),st=1e4,ut=[bt(p),bt(y)],Mt=0;xt(ut)&&Mt<st;);return ut;function bt(Ot){return[Ot,B(Ot)]}function xt(Ot){Mt++;for(var jt=Ot.length,Dt=!1,zt=0;zt<jt-1;zt++){var Tt=Ot[zt],Vt=Ot[zt+1],Ht=m([Tt,Vt]),re=bt(Ht[0]),pe=I([Tt,Ht]),me=I([Tt,re]),Ee=Math.abs(pe-me);Ee>rt&&(Ot.splice(zt+1,0,re),Dt=!0)}return Dt}}function s(p,y,B,W){var rt=W-p*p,st=Math.abs(rt)<1e-24?0:(B-p*y)/rt,ut=y-st*p;return[ut,st]}var d=function(){var p=function(st){return st[0]},y=function(st){return st[1]},B;function W(rt){var st=0,ut=0,Mt=0,bt=0,xt=0,Ot=0,jt=B?+B[0]:Infinity,Dt=B?+B[1]:-Infinity;c(rt,p,y,function(me,Ee){var Le=Math.log(Ee),Je=me*Ee;++st,ut+=(Ee-ut)/st,bt+=(Je-bt)/st,Ot+=(me*Je-Ot)/st,Mt+=(Ee*Le-Mt)/st,xt+=(Je*Le-xt)/st,B||(me<jt&&(jt=me),me>Dt&&(Dt=me))});var zt=s(bt/ut,Mt/ut,xt/ut,Ot/ut),Tt=Object(g.a)(zt,2),Vt=Tt[0],Ht=Tt[1];Vt=Math.exp(Vt);var re=function(Ee){return Vt*Math.exp(Ht*Ee)},pe=r(jt,Dt,re);return pe.a=Vt,pe.b=Ht,pe.predict=re,pe.rSquared=w(rt,p,y,ut,re),pe}return W.domain=function(rt){return arguments.length?(B=rt,W):B},W.x=function(rt){return arguments.length?(p=rt,W):p},W.y=function(rt){return arguments.length?(y=rt,W):y},W},C=function(){var p=function(st){return st[0]},y=function(st){return st[1]},B;function W(rt){var st=0,ut=0,Mt=0,bt=0,xt=0,Ot=B?+B[0]:Infinity,jt=B?+B[1]:-Infinity;c(rt,p,y,function(pe,me){++st,ut+=(pe-ut)/st,Mt+=(me-Mt)/st,bt+=(pe*me-bt)/st,xt+=(pe*pe-xt)/st,B||(pe<Ot&&(Ot=pe),pe>jt&&(jt=pe))});var Dt=s(ut,Mt,bt,xt),zt=Object(g.a)(Dt,2),Tt=zt[0],Vt=zt[1],Ht=function(me){return Vt*me+Tt},re=[[Ot,Ht(Ot)],[jt,Ht(jt)]];return re.a=Vt,re.b=Tt,re.predict=Ht,re.rSquared=w(rt,p,y,Mt,Ht),re}return W.domain=function(rt){return arguments.length?(B=rt,W):B},W.x=function(rt){return arguments.length?(p=rt,W):p},W.y=function(rt){return arguments.length?(y=rt,W):y},W};function S(p){p.sort(function(B,W){return B-W});var y=p.length/2;return y%1==0?(p[y-1]+p[y])/2:p[Math.floor(y)]}var A=2,f=1e-12,O=function(){var p=function(st){return st[0]},y=function(st){return st[1]},B=.3;function W(rt){for(var st=x(rt,p,y,!0),ut=Object(g.a)(st,4),Mt=ut[0],bt=ut[1],xt=ut[2],Ot=ut[3],jt=Mt.length,Dt=Math.max(2,~~(B*jt)),zt=new Float64Array(jt),Tt=new Float64Array(jt),Vt=new Float64Array(jt).fill(1),Ht=-1;++Ht<=A;){for(var re=[0,Dt-1],pe=0;pe<jt;++pe){for(var me=Mt[pe],Ee=re[0],Le=re[1],Je=me-Mt[Ee]>Mt[Le]-me?Ee:Le,On=0,gn=0,Vn=0,kn=0,Wn=0,Dn=1/Math.abs(Mt[Je]-me||1),Nn=Ee;Nn<=Le;++Nn){var Qn=Mt[Nn],ir=bt[Nn],hr=j(Math.abs(me-Qn)*Dn)*Vt[Nn],Er=Qn*hr;On+=hr,gn+=Er,Vn+=ir*hr,kn+=ir*Er,Wn+=Qn*Er}var mr=s(gn/On,Vn/On,kn/On,Wn/On),dr=Object(g.a)(mr,2),Br=dr[0],ii=dr[1];zt[pe]=Br+ii*me,Tt[pe]=Math.abs(bt[pe]-zt[pe]),D(Mt,pe+1,re)}if(Ht===A)break;var mi=S(Tt);if(Math.abs(mi)<f)break;for(var Pi=0,sa,Pa;Pi<jt;++Pi)sa=Tt[Pi]/(6*mi),Vt[Pi]=sa>=1?f:(Pa=1-sa*sa)*Pa}return V(Mt,zt,xt,Ot)}return W.bandwidth=function(rt){return arguments.length?(B=rt,W):B},W.x=function(rt){return arguments.length?(p=rt,W):p},W.y=function(rt){return arguments.length?(y=rt,W):y},W};function j(p){return(p=1-p*p*p)*p*p}function D(p,y,B){var W=p[y],rt=B[0],st=B[1]+1;if(!(st>=p.length))for(;y>rt&&p[st]-W<=W-p[rt];)B[0]=++rt,B[1]=st,++st}function V(p,y,B,W){for(var rt=p.length,st=[],ut=0,Mt=0,bt=[],xt;ut<rt;++ut)xt=p[ut]+B,bt[0]===xt?bt[1]+=(y[ut]-bt[1])/++Mt:(Mt=0,bt[1]+=W,bt=[xt,y[ut]],st.push(bt));return bt[1]+=W,st}var H=function(){var p=function(st){return st[0]},y=function(st){return st[1]},B;function W(rt){var st=0,ut=0,Mt=0,bt=0,xt=0,Ot=B?+B[0]:Infinity,jt=B?+B[1]:-Infinity;c(rt,p,y,function(pe,me){var Ee=Math.log(pe);++st,ut+=(Ee-ut)/st,Mt+=(me-Mt)/st,bt+=(Ee*me-bt)/st,xt+=(Ee*Ee-xt)/st,B||(pe<Ot&&(Ot=pe),pe>jt&&(jt=pe))});var Dt=s(ut,Mt,bt,xt),zt=Object(g.a)(Dt,2),Tt=zt[0],Vt=zt[1],Ht=function(me){return Vt*Math.log(me)+Tt},re=r(Ot,jt,Ht);return re.a=Vt,re.b=Tt,re.predict=Ht,re.rSquared=w(rt,p,y,Mt,Ht),re}return W.domain=function(rt){return arguments.length?(B=rt,W):B},W.x=function(rt){return arguments.length?(p=rt,W):p},W.y=function(rt){return arguments.length?(y=rt,W):y},W},$=function(){var p=function(st){return st[0]},y=function(st){return st[1]},B;function W(rt){var st=x(rt,p,y),ut=Object(g.a)(st,4),Mt=ut[0],bt=ut[1],xt=ut[2],Ot=ut[3],jt=Mt.length,Dt=0,zt=0,Tt=0,Vt=0,Ht=0,re,pe,me,Ee;for(re=0;re<jt;)pe=Mt[re],me=bt[re++],Ee=pe*pe,Dt+=(Ee-Dt)/re,zt+=(Ee*pe-zt)/re,Tt+=(Ee*Ee-Tt)/re,Vt+=(pe*me-Vt)/re,Ht+=(Ee*me-Ht)/re;var Le=0,Je=0,On=B?+B[0]:Infinity,gn=B?+B[1]:-Infinity;c(rt,p,y,function(hr,Er){Je++,Le+=(Er-Le)/Je,B||(hr<On&&(On=hr),hr>gn&&(gn=hr))});var Vn=Tt-Dt*Dt,kn=Dt*Vn-zt*zt,Wn=(Ht*Dt-Vt*zt)/kn,Dn=(Vt*Vn-Ht*zt)/kn,Nn=-Wn*Dt,Qn=function(Er){return Er=Er-xt,Wn*Er*Er+Dn*Er+Nn+Ot},ir=r(On,gn,Qn);return ir.a=Wn,ir.b=Dn-2*Wn*xt,ir.c=Nn-Dn*xt+Wn*xt*xt+Ot,ir.predict=Qn,ir.rSquared=w(rt,p,y,Le,Qn),ir}return W.domain=function(rt){return arguments.length?(B=rt,W):B},W.x=function(rt){return arguments.length?(p=rt,W):p},W.y=function(rt){return arguments.length?(y=rt,W):y},W},dt=function(){var p=function(ut){return ut[0]},y=function(ut){return ut[1]},B=3,W;function rt(st){if(B===1){var ut=C().x(p).y(y).domain(W)(st);return ut.coefficients=[ut.b,ut.a],delete ut.a,delete ut.b,ut}if(B===2){var Mt=$().x(p).y(y).domain(W)(st);return Mt.coefficients=[Mt.c,Mt.b,Mt.a],delete Mt.a,delete Mt.b,delete Mt.c,Mt}var bt=x(st,p,y),xt=Object(g.a)(bt,4),Ot=xt[0],jt=xt[1],Dt=xt[2],zt=xt[3],Tt=Ot.length,Vt=[],Ht=[],re=B+1,pe=0,me=0,Ee=W?+W[0]:Infinity,Le=W?+W[1]:-Infinity;c(st,p,y,function(Qn,ir){++me,pe+=(ir-pe)/me,W||(Qn<Ee&&(Ee=Qn),Qn>Le&&(Le=Qn))});var Je,On,gn,Vn,kn;for(Je=0;Je<re;++Je){for(gn=0,Vn=0;gn<Tt;++gn)Vn+=Math.pow(Ot[gn],Je)*jt[gn];for(Vt.push(Vn),kn=new Float64Array(re),On=0;On<re;++On){for(gn=0,Vn=0;gn<Tt;++gn)Vn+=Math.pow(Ot[gn],Je+On);kn[On]=Vn}Ht.push(kn)}Ht.push(Vt);var Wn=ct(Ht),Dn=function(ir){ir-=Dt;var hr=zt+Wn[0]+Wn[1]*ir+Wn[2]*ir*ir;for(Je=3;Je<re;++Je)hr+=Wn[Je]*Math.pow(ir,Je);return hr},Nn=r(Ee,Le,Dn);return Nn.coefficients=Z(re,Wn,-Dt,zt),Nn.predict=Dn,Nn.rSquared=w(st,p,y,pe,Dn),Nn}return rt.domain=function(st){return arguments.length?(W=st,rt):W},rt.x=function(st){return arguments.length?(p=st,rt):p},rt.y=function(st){return arguments.length?(y=st,rt):y},rt.order=function(st){return arguments.length?(B=st,rt):B},rt};function Z(p,y,B,W){var rt=Array(p),st,ut,Mt,bt;for(st=0;st<p;++st)rt[st]=0;for(st=p-1;st>=0;--st)for(Mt=y[st],bt=1,rt[st]+=Mt,ut=1;ut<=st;++ut)bt*=(st+1-ut)/ut,rt[st-ut]+=Mt*Math.pow(B,ut)*bt;return rt[0]+=W,rt}function ct(p){var y=p.length-1,B=[],W,rt,st,ut,Mt;for(W=0;W<y;++W){for(ut=W,rt=W+1;rt<y;++rt)Math.abs(p[W][rt])>Math.abs(p[W][ut])&&(ut=rt);for(st=W;st<y+1;++st)Mt=p[st][W],p[st][W]=p[st][ut],p[st][ut]=Mt;for(rt=W+1;rt<y;++rt)for(st=y;st>=W;st--)p[st][rt]-=p[st][W]*p[W][rt]/p[W][W]}for(rt=y-1;rt>=0;--rt){for(Mt=0,st=rt+1;st<y;++st)Mt+=p[st][rt]*B[st];B[rt]=(p[y][rt]-Mt)/p[rt][rt]}return B}var pt=function(){var p=function(st){return st[0]},y=function(st){return st[1]},B;function W(rt){var st=0,ut=0,Mt=0,bt=0,xt=0,Ot=0,jt=B?+B[0]:Infinity,Dt=B?+B[1]:-Infinity;c(rt,p,y,function(me,Ee){var Le=Math.log(me),Je=Math.log(Ee);++st,ut+=(Le-ut)/st,Mt+=(Je-Mt)/st,bt+=(Le*Je-bt)/st,xt+=(Le*Le-xt)/st,Ot+=(Ee-Ot)/st,B||(me<jt&&(jt=me),me>Dt&&(Dt=me))});var zt=s(ut,Mt,bt,xt),Tt=Object(g.a)(zt,2),Vt=Tt[0],Ht=Tt[1];Vt=Math.exp(Vt);var re=function(Ee){return Vt*Math.pow(Ee,Ht)},pe=r(jt,Dt,re);return pe.a=Vt,pe.b=Ht,pe.predict=re,pe.rSquared=w(rt,p,y,Ot,re),pe}return W.domain=function(rt){return arguments.length?(B=rt,W):B},W.x=function(rt){return arguments.length?(p=rt,W):p},W.y=function(rt){return arguments.length?(y=rt,W):y},W},gt={exp:d,linear:C,loess:O,log:H,poly:dt,pow:pt,quad:$};function at(p,y){var B=10,W={regionStyle:[{position:{start:[p,"max"],end:["max",y]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[p,y]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",y],end:[p,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[p,y],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",y],offsetX:-B,offsetY:-B,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",y],offsetX:B,offsetY:-B,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",y],offsetX:B,offsetY:B,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",y],offsetX:-B,offsetY:B,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]};return W}var Bt=function(y,B){var W=B.view,rt=B.options,st=rt.xField,ut=rt.yField,Mt=W.getScaleByField(st),bt=W.getScaleByField(ut),xt=y.map(function(Ot){return W.getCoordinate().convert({x:Mt.scale(Ot[0]),y:bt.scale(Ot[1])})});return Object(b.h)(xt,!1)},Lt=function(y){var B=y.options,W=B.xField,rt=B.yField,st=B.data,ut=B.regressionLine,Mt=ut.type,bt=Mt===void 0?"linear":Mt,xt=ut.algorithm,Ot;if(xt)Ot=Object(t.isArray)(xt)?xt:xt(st);else{var jt=gt[bt]().x(function(Dt){return Dt[W]}).y(function(Dt){return Dt[rt]});Ot=jt(st)}return Bt(Ot,y)},Et=function(y){var B,W=y.meta,rt=W===void 0?{}:W,st=y.xField,ut=y.yField,Mt=y.data,bt=Mt[0][st],xt=Mt[0][ut],Ot=bt>0,jt=xt>0,Dt=function(Tt,Vt,Ht){var re=Object(t.get)(rt,[Tt,Vt]);if(Object(t.isNumber)(re))return re;if(Ht==="x"){var pe={min:Ot?0:bt*2,max:Ot?bt*2:0};return pe[Vt]}var me={min:jt?0:xt*2,max:jt?xt*2:0};return me[Vt]};return Object(Y.a)(Object(Y.a)({},rt),(B={},B[st]=Object(Y.a)(Object(Y.a)({},rt[st]),{min:Dt(st,"min","x"),max:Dt(st,"max","x")}),B[ut]=Object(Y.a)(Object(Y.a)({},rt[ut]),{min:Dt(ut,"min","y"),max:Dt(ut,"max","y")}),B))};function K(p){var y=p.data,B=y===void 0?[]:y;return B.length===1?Object(b.b)({},p,{meta:Et(p)}):p}function ft(p){var y=p.chart,B=p.options,W=B.data,rt=B.type,st=B.color,ut=B.shape,Mt=B.pointStyle,bt=B.shapeField,xt=B.colorField,Ot=B.xField,jt=B.yField,Dt=B.sizeField,zt=B.size,Tt=B.tooltip;Dt&&(zt||(zt=[2,8]),Object(t.isNumber)(zt)&&(zt=[zt,zt])),Tt&&!Tt.fields&&(Tt=Object(Y.a)(Object(Y.a)({},Tt),{fields:[Ot,jt,xt,Dt,bt]})),y.data(W),Object(n.e)(Object(b.b)({},p,{options:{seriesField:xt,point:{color:st,shape:ut,size:zt,style:Mt},tooltip:Tt}}));var Vt=Object(b.c)(y,"point");return rt&&Vt.adjust(rt),p}function mt(p){var y,B=p.options,W=B.data,rt=B.xAxis,st=B.yAxis,ut=B.xField,Mt=B.yField,bt=B;return W.length===1&&(bt=K(Object(b.b)({},B,{meta:Et(B)}))),Object(b.e)(Object(u.f)((y={},y[ut]=rt,y[Mt]=st,y)))(Object(b.b)({},p,{options:bt}))}function yt(p){var y=p.chart,B=p.options,W=B.xAxis,rt=B.yAxis,st=B.xField,ut=B.yField;return y.axis(st,W),y.axis(ut,rt),p}function wt(p){var y=p.chart,B=p.options,W=B.legend,rt=B.colorField,st=B.shapeField,ut=B.sizeField,Mt=Object(t.isBoolean)(W)?W:W||!!(st||rt);return Mt?(y.legend(rt||st,W),ut&&y.legend(ut,!1)):y.legend(!1),p}function J(p){var y=p.chart,B=p.options,W=B.label,rt=B.yField,st=Object(b.c)(y,"point");if(!W)st.label(!1);else{var ut=W.callback,Mt=Object(Y.c)(W,["callback"]);st.label({fields:[rt],callback:ut,cfg:Object(b.o)(Mt)})}return p}function lt(p){var y=p.options,B=y.quadrant,W=[];if(B){var rt=B.xBaseline,st=rt===void 0?0:rt,ut=B.yBaseline,Mt=ut===void 0?0:ut,bt=B.labels,xt=B.regionStyle,Ot=B.lineStyle,jt=at(st,Mt),Dt=new Array(4).join(",").split(",");Dt.forEach(function(zt,Tt){W.push(Object(Y.a)(Object(Y.a)({type:"region",top:!1},jt.regionStyle[Tt].position),{style:Object(b.b)({},jt.regionStyle[Tt].style,xt==null?void 0:xt[Tt])}),Object(Y.a)({type:"text",top:!0},Object(b.b)({},jt.labelStyle[Tt],bt==null?void 0:bt[Tt])))}),W.push({type:"line",top:!1,start:["min",Mt],end:["max",Mt],style:Object(b.b)({},jt.lineStyle,Ot)},{type:"line",top:!1,start:[st,"min"],end:[st,"max"],style:Object(b.b)({},jt.lineStyle,Ot)})}return Object(b.e)(Object(u.b)(W))(p)}function it(p){var y=p.options,B=p.chart,W=y.regressionLine;if(W){var rt=W.style,st=W.top,ut=st===void 0?!1:st,Mt={stroke:"#9ba29a",lineWidth:2,opacity:.5};B.annotation().shape({top:ut,render:function(xt,Ot){var jt=xt.addGroup({id:B.id+"-regression-line",name:"regression-line-group"}),Dt=Lt({view:Ot,options:y});jt.addShape("path",{name:"regression-line",attrs:Object(Y.a)(Object(Y.a)({path:Dt},Mt),rt)})}})}return p}function _(p){var y=p.chart,B=p.options,W=B.tooltip;return W?y.tooltip(W):W===!1&&y.tooltip(!1),p}function P(p){return Object(b.e)(ft,mt,yt,wt,_,J,u.c,lt,u.a,u.j,it)(p)}var Q=E("hag6"),k=function(p){Object(Y.b)(y,p);function y(){var B=p!==null&&p.apply(this,arguments)||this;return B.type="point",B}return y.prototype.changeData=function(B){this.updateOption(K(Object(b.b)({},this.options,{data:B})));var W=this,rt=W.options,st=W.chart;mt({chart:st,options:rt}),this.chart.changeData(B)},y.prototype.getSchemaAdaptor=function(){return P},y.prototype.getDefaultOptions=function(){return Object(b.b)({},p.prototype.getDefaultOptions.call(this),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}})},y}(i.a)},tKoa:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return n}),E.d(Pt,"d",function(){return g}),E.d(Pt,"e",function(){return x}),E.d(Pt,"c",function(){return I}),E.d(Pt,"f",function(){return m.a}),E.d(Pt,"b",function(){return r});var Y=E("mrSG"),i=E("5HRO"),b=E("YuPD"),t=E("WOQw");function n(s){var d=s.options,C=d.area,S=d.xField,A=d.yField,f=d.seriesField,O=d.smooth,j=d.tooltip,D=Object(i.a)(j,[S,A,f]),V=D.fields,H=D.formatter;return C?Object(t.a)(Object(b.b)({},s,{options:{type:"area",colorField:f,tooltipFields:V,mapping:Object(Y.a)({shape:O?"smooth":"area",tooltip:H},C)}})):s}var u=E("iTfj");function g(s){var d=s.options,C=d.line,S=d.stepType,A=d.xField,f=d.yField,O=d.seriesField,j=d.smooth,D=d.connectNulls,V=d.tooltip,H=Object(i.a)(V,[A,f,O]),$=H.fields,dt=H.formatter;return C?Object(t.a)(Object(b.b)({},s,{options:{type:"line",colorField:O,tooltipFields:$,mapping:Object(u.deepMix)({shape:S||(j?"smooth":"line"),tooltip:dt},C),args:{connectNulls:D}}})):s}function x(s){var d=s.options,C=d.point,S=d.xField,A=d.yField,f=d.seriesField,O=d.sizeField,j=d.shapeField,D=d.tooltip,V=Object(i.a)(D,[S,A,f,O,j]),H=V.fields,$=V.formatter;return C?Object(t.a)(Object(b.b)({},s,{options:{type:"point",colorField:f,shapeField:j,tooltipFields:H,mapping:Object(Y.a)({tooltip:$},C)}})):s}var c=E("Ihc8");function w(s){var d=s.chart,C=s.options,S=s.ext,A=C.seriesField,f=C.isGroup,O=C.isStack,j=C.marginRatio,D=C.widthRatio,V=C.groupField,H=C.theme,$=[];if(A&&(f&&$.push({type:"dodge",dodgeBy:V||A,marginRatio:j}),O&&$.push({type:"stack",marginRatio:j})),$.length&&(S==null?void 0:S.geometry)){var dt=S==null?void 0:S.geometry;dt.adjust($)}return Object(u.isNil)(D)||d.theme(Object(b.b)({},Object(u.isObject)(H)?H:Object(c.getTheme)(H),{columnWidthRatio:D})),s}function I(s){var d=s.options,C=d.xField,S=d.yField,A=d.interval,f=d.seriesField,O=d.tooltip,j=d.minColumnWidth,D=d.maxColumnWidth,V=d.columnBackground,H=Object(i.a)(O,[C,S,f]),$=H.fields,dt=H.formatter,Z=(A?Object(t.a)(Object(b.b)({},s,{options:{type:"interval",colorField:f,tooltipFields:$,mapping:Object(Y.a)({tooltip:dt},A),args:{minColumnWidth:j,maxColumnWidth:D,background:V}}})):s).ext;return w(Object(Y.a)(Object(Y.a)({},s),{ext:Z}))}var m=E("KMYG");function r(s){var d=s.options,C=d.edge,S=d.xField,A=d.yField,f=d.seriesField,O=d.tooltip,j=Object(i.a)(O,[S,A,f]),D=j.fields,V=j.formatter;return C?Object(t.a)(Object(b.b)({},s,{options:{type:"edge",colorField:f,tooltipFields:D,mapping:Object(Y.a)({tooltip:V},C)}})):s}},tMB7:function(qe,Pt,E){var Y=E("y1pI");function i(b){var t=this.__data__,n=Y(t,b);return n<0?void 0:t[n][1]}qe.exports=i},tadb:function(qe,Pt,E){var Y=E("Cwc5"),i=E("Kz5y"),b=Y(i,"DataView");qe.exports=b},tdXX:function(qe,Pt){},"tvR+":function(qe,Pt,E){"use strict";var Y=E("DdT1"),i=E("I4jL"),b=E("IeU1"),t=E("CSvP");Pt.a=function(){var n=i.a,u=!1,g=1,x=1,c=[0],w=t.a,I=t.a,m=t.a,r=t.a,s=t.a;function d(S){return S.x0=S.y0=0,S.x1=g,S.y1=x,S.eachBefore(C),c=[0],u&&S.eachBefore(Y.a),S}function C(S){var A=c[S.depth],f=S.x0+A,O=S.y0+A,j=S.x1-A,D=S.y1-A;j<f&&(f=j=(f+j)/2),D<O&&(O=D=(O+D)/2),S.x0=f,S.y0=O,S.x1=j,S.y1=D,S.children&&(A=c[S.depth+1]=w(S)/2,f+=s(S)-A,O+=I(S)-A,j-=m(S)-A,D-=r(S)-A,j<f&&(f=j=(f+j)/2),D<O&&(O=D=(O+D)/2),n(S,f,O,j,D))}return d.round=function(S){return arguments.length?(u=!!S,d):u},d.size=function(S){return arguments.length?(g=+S[0],x=+S[1],d):[g,x]},d.tile=function(S){return arguments.length?(n=Object(b.b)(S),d):n},d.padding=function(S){return arguments.length?d.paddingInner(S).paddingOuter(S):d.paddingInner()},d.paddingInner=function(S){return arguments.length?(w=typeof S=="function"?S:Object(t.b)(+S),d):w},d.paddingOuter=function(S){return arguments.length?d.paddingTop(S).paddingRight(S).paddingBottom(S).paddingLeft(S):d.paddingTop()},d.paddingTop=function(S){return arguments.length?(I=typeof S=="function"?S:Object(t.b)(+S),d):I},d.paddingRight=function(S){return arguments.length?(m=typeof S=="function"?S:Object(t.b)(+S),d):m},d.paddingBottom=function(S){return arguments.length?(r=typeof S=="function"?S:Object(t.b)(+S),d):r},d.paddingLeft=function(S){return arguments.length?(s=typeof S=="function"?S:Object(t.b)(+S),d):s},d}},tvuL:function(qe,Pt,E){"use strict";E.r(Pt),E.d(Pt,"catmullRomToBezier",function(){return u}),E.d(Pt,"fillPath",function(){return at}),E.d(Pt,"fillPathByDiff",function(){return K}),E.d(Pt,"formatPath",function(){return yt}),E.d(Pt,"intersection",function(){return Z}),E.d(Pt,"parsePathArray",function(){return s}),E.d(Pt,"parsePathString",function(){return n}),E.d(Pt,"pathToAbsolute",function(){return x}),E.d(Pt,"pathToCurve",function(){return m}),E.d(Pt,"rectPath",function(){return O});var Y=E("iTfj"),i=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,b=new RegExp("([a-z])["+i+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+i+"]*,?["+i+"]*)+)","ig"),t=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+i+"]*,?["+i+"]*","ig"),n=function(J){if(!J)return null;if(Object(Y.isArray)(J))return J;var lt={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},it=[];return String(J).replace(b,function(_,P,Q){var k=[],p=P.toLowerCase();if(Q.replace(t,function(y,B){B&&k.push(+B)}),p==="m"&&k.length>2&&(it.push([P].concat(k.splice(0,2))),p="l",P=P==="m"?"l":"L"),p==="o"&&k.length===1&&it.push([P,k[0]]),p==="r")it.push([P].concat(k));else for(;k.length>=lt[p]&&(it.push([P].concat(k.splice(0,lt[p]))),!!lt[p]););return J}),it},u=function(J,lt){for(var it=[],_=0,P=J.length;P-2*!lt>_;_+=2){var Q=[{x:+J[_-2],y:+J[_-1]},{x:+J[_],y:+J[_+1]},{x:+J[_+2],y:+J[_+3]},{x:+J[_+4],y:+J[_+5]}];lt?_?P-4===_?Q[3]={x:+J[0],y:+J[1]}:P-2===_&&(Q[2]={x:+J[0],y:+J[1]},Q[3]={x:+J[2],y:+J[3]}):Q[0]={x:+J[P-2],y:+J[P-1]}:P-4===_?Q[3]=Q[2]:_||(Q[0]={x:+J[_],y:+J[_+1]}),it.push(["C",(-Q[0].x+6*Q[1].x+Q[2].x)/6,(-Q[0].y+6*Q[1].y+Q[2].y)/6,(Q[1].x+6*Q[2].x-Q[3].x)/6,(Q[1].y+6*Q[2].y-Q[3].y)/6,Q[2].x,Q[2].y])}return it},g=function(J,lt,it,_,P){var Q=[];if(P===null&&_===null&&(_=it),J=+J,lt=+lt,it=+it,_=+_,P!==null){var k=Math.PI/180,p=J+it*Math.cos(-_*k),y=J+it*Math.cos(-P*k),B=lt+it*Math.sin(-_*k),W=lt+it*Math.sin(-P*k);Q=[["M",p,B],["A",it,it,0,+(P-_>180),0,y,W]]}else Q=[["M",J,lt],["m",0,-_],["a",it,_,0,1,1,0,2*_],["a",it,_,0,1,1,0,-2*_],["z"]];return Q},x=function(J){if(J=n(J),!J||!J.length)return[["M",0,0]];var lt=[],it=0,_=0,P=0,Q=0,k=0,p,y;J[0][0]==="M"&&(it=+J[0][1],_=+J[0][2],P=it,Q=_,k++,lt[0]=["M",it,_]);for(var B=J.length===3&&J[0][0]==="M"&&J[1][0].toUpperCase()==="R"&&J[2][0].toUpperCase()==="Z",W=void 0,rt=void 0,st=k,ut=J.length;st<ut;st++){if(lt.push(W=[]),rt=J[st],p=rt[0],p!==p.toUpperCase())switch(W[0]=p.toUpperCase(),W[0]){case"A":W[1]=rt[1],W[2]=rt[2],W[3]=rt[3],W[4]=rt[4],W[5]=rt[5],W[6]=+rt[6]+it,W[7]=+rt[7]+_;break;case"V":W[1]=+rt[1]+_;break;case"H":W[1]=+rt[1]+it;break;case"R":y=[it,_].concat(rt.slice(1));for(var Mt=2,bt=y.length;Mt<bt;Mt++)y[Mt]=+y[Mt]+it,y[++Mt]=+y[Mt]+_;lt.pop(),lt=lt.concat(u(y,B));break;case"O":lt.pop(),y=g(it,_,rt[1],rt[2]),y.push(y[0]),lt=lt.concat(y);break;case"U":lt.pop(),lt=lt.concat(g(it,_,rt[1],rt[2],rt[3])),W=["U"].concat(lt[lt.length-1].slice(-2));break;case"M":P=+rt[1]+it,Q=+rt[2]+_;break;default:for(var Mt=1,bt=rt.length;Mt<bt;Mt++)W[Mt]=+rt[Mt]+(Mt%2?it:_)}else if(p==="R")y=[it,_].concat(rt.slice(1)),lt.pop(),lt=lt.concat(u(y,B)),W=["R"].concat(rt.slice(-2));else if(p==="O")lt.pop(),y=g(it,_,rt[1],rt[2]),y.push(y[0]),lt=lt.concat(y);else if(p==="U")lt.pop(),lt=lt.concat(g(it,_,rt[1],rt[2],rt[3])),W=["U"].concat(lt[lt.length-1].slice(-2));else for(var xt=0,Ot=rt.length;xt<Ot;xt++)W[xt]=rt[xt];if(p=p.toUpperCase(),p!=="O")switch(W[0]){case"Z":it=+P,_=+Q;break;case"H":it=W[1];break;case"V":_=W[1];break;case"M":P=W[W.length-2],Q=W[W.length-1];break;default:it=W[W.length-2],_=W[W.length-1]}}return lt},c=function(J,lt,it,_){return[J,lt,it,_,it,_]},w=function(J,lt,it,_,P,Q){var k=1/3,p=2/3;return[k*J+p*it,k*lt+p*_,k*P+p*it,k*Q+p*_,P,Q]},I=function wt(J,lt,it,_,P,Q,k,p,y,B){it===_&&(it+=1);var W=Math.PI*120/180,rt=Math.PI/180*(+P||0),st=[],ut,Mt,bt,xt,Ot,jt=function(ii,mi,Pi){var sa=ii*Math.cos(Pi)-mi*Math.sin(Pi),Pa=ii*Math.sin(Pi)+mi*Math.cos(Pi);return{x:sa,y:Pa}};if(B)Mt=B[0],bt=B[1],xt=B[2],Ot=B[3];else{ut=jt(J,lt,-rt),J=ut.x,lt=ut.y,ut=jt(p,y,-rt),p=ut.x,y=ut.y,J===p&&lt===y&&(p+=1,y+=1);var Dt=(J-p)/2,zt=(lt-y)/2,Tt=Dt*Dt/(it*it)+zt*zt/(_*_);Tt>1&&(Tt=Math.sqrt(Tt),it=Tt*it,_=Tt*_);var Vt=it*it,Ht=_*_,re=(Q===k?-1:1)*Math.sqrt(Math.abs((Vt*Ht-Vt*zt*zt-Ht*Dt*Dt)/(Vt*zt*zt+Ht*Dt*Dt)));xt=re*it*zt/_+(J+p)/2,Ot=re*-_*Dt/it+(lt+y)/2,Mt=Math.asin(((lt-Ot)/_).toFixed(9)),bt=Math.asin(((y-Ot)/_).toFixed(9)),Mt=J<xt?Math.PI-Mt:Mt,bt=p<xt?Math.PI-bt:bt,Mt<0&&(Mt=Math.PI*2+Mt),bt<0&&(bt=Math.PI*2+bt),k&&Mt>bt&&(Mt=Mt-Math.PI*2),!k&&bt>Mt&&(bt=bt-Math.PI*2)}var pe=bt-Mt;if(Math.abs(pe)>W){var me=bt,Ee=p,Le=y;bt=Mt+W*(k&&bt>Mt?1:-1),p=xt+it*Math.cos(bt),y=Ot+_*Math.sin(bt),st=wt(p,y,it,_,P,0,k,Ee,Le,[bt,me,xt,Ot])}pe=bt-Mt;var Je=Math.cos(Mt),On=Math.sin(Mt),gn=Math.cos(bt),Vn=Math.sin(bt),kn=Math.tan(pe/4),Wn=4/3*it*kn,Dn=4/3*_*kn,Nn=[J,lt],Qn=[J+Wn*On,lt-Dn*Je],ir=[p+Wn*Vn,y-Dn*gn],hr=[p,y];if(Qn[0]=2*Nn[0]-Qn[0],Qn[1]=2*Nn[1]-Qn[1],B)return[Qn,ir,hr].concat(st);st=[Qn,ir,hr].concat(st).join().split(",");for(var Er=[],mr=0,dr=st.length;mr<dr;mr++)Er[mr]=mr%2?jt(st[mr-1],st[mr],rt).y:jt(st[mr],st[mr+1],rt).x;return Er},m=function(J,lt){var it=x(J),_=lt&&x(lt),P={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Q={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},k=[],p=[],y="",B="",W,rt=function(zt,Tt,Vt){var Ht,re;if(!zt)return["C",Tt.x,Tt.y,Tt.x,Tt.y,Tt.x,Tt.y];switch(!(zt[0]in{T:1,Q:1})&&(Tt.qx=Tt.qy=null),zt[0]){case"M":Tt.X=zt[1],Tt.Y=zt[2];break;case"A":zt=["C"].concat(I.apply(0,[Tt.x,Tt.y].concat(zt.slice(1))));break;case"S":Vt==="C"||Vt==="S"?(Ht=Tt.x*2-Tt.bx,re=Tt.y*2-Tt.by):(Ht=Tt.x,re=Tt.y),zt=["C",Ht,re].concat(zt.slice(1));break;case"T":Vt==="Q"||Vt==="T"?(Tt.qx=Tt.x*2-Tt.qx,Tt.qy=Tt.y*2-Tt.qy):(Tt.qx=Tt.x,Tt.qy=Tt.y),zt=["C"].concat(w(Tt.x,Tt.y,Tt.qx,Tt.qy,zt[1],zt[2]));break;case"Q":Tt.qx=zt[1],Tt.qy=zt[2],zt=["C"].concat(w(Tt.x,Tt.y,zt[1],zt[2],zt[3],zt[4]));break;case"L":zt=["C"].concat(c(Tt.x,Tt.y,zt[1],zt[2]));break;case"H":zt=["C"].concat(c(Tt.x,Tt.y,zt[1],Tt.y));break;case"V":zt=["C"].concat(c(Tt.x,Tt.y,Tt.x,zt[1]));break;case"Z":zt=["C"].concat(c(Tt.x,Tt.y,Tt.X,Tt.Y));break;default:break}return zt},st=function(zt,Tt){if(zt[Tt].length>7){zt[Tt].shift();for(var Vt=zt[Tt];Vt.length;)k[Tt]="A",_&&(p[Tt]="A"),zt.splice(Tt++,0,["C"].concat(Vt.splice(0,6)));zt.splice(Tt,1),W=Math.max(it.length,_&&_.length||0)}},ut=function(zt,Tt,Vt,Ht,re){zt&&Tt&&zt[re][0]==="M"&&Tt[re][0]!=="M"&&(Tt.splice(re,0,["M",Ht.x,Ht.y]),Vt.bx=0,Vt.by=0,Vt.x=zt[re][1],Vt.y=zt[re][2],W=Math.max(it.length,_&&_.length||0))};W=Math.max(it.length,_&&_.length||0);for(var Mt=0;Mt<W;Mt++){it[Mt]&&(y=it[Mt][0]),y!=="C"&&(k[Mt]=y,Mt&&(B=k[Mt-1])),it[Mt]=rt(it[Mt],P,B),k[Mt]!=="A"&&y==="C"&&(k[Mt]="C"),st(it,Mt),_&&(_[Mt]&&(y=_[Mt][0]),y!=="C"&&(p[Mt]=y,Mt&&(B=p[Mt-1])),_[Mt]=rt(_[Mt],Q,B),p[Mt]!=="A"&&y==="C"&&(p[Mt]="C"),st(_,Mt)),ut(it,_,P,Q,Mt),ut(_,it,Q,P,Mt);var bt=it[Mt],xt=_&&_[Mt],Ot=bt.length,jt=_&&xt.length;P.x=bt[Ot-2],P.y=bt[Ot-1],P.bx=parseFloat(bt[Ot-4])||P.x,P.by=parseFloat(bt[Ot-3])||P.y,Q.bx=_&&(parseFloat(xt[jt-4])||Q.x),Q.by=_&&(parseFloat(xt[jt-3])||Q.y),Q.x=_&&xt[jt-2],Q.y=_&&xt[jt-1]}return _?[it,_]:it},r=/,?([a-z]),?/gi,s=function(J){return J.join(",").replace(r,"$1")},d=function(J,lt,it,_,P){var Q=-3*lt+9*it-9*_+3*P,k=J*Q+6*lt-12*it+6*_;return J*k-3*lt+3*it},C=function(J,lt,it,_,P,Q,k,p,y){y===null&&(y=1),y=y>1?1:y<0?0:y;for(var B=y/2,W=12,rt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],st=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],ut=0,Mt=0;Mt<W;Mt++){var bt=B*rt[Mt]+B,xt=d(bt,J,it,P,k),Ot=d(bt,lt,_,Q,p),jt=xt*xt+Ot*Ot;ut+=st[Mt]*Math.sqrt(jt)}return B*ut},S=function(J,lt,it,_,P,Q,k,p){for(var y=[],B=[[],[]],W,rt,st,ut,Mt=0;Mt<2;++Mt){if(Mt===0?(rt=6*J-12*it+6*P,W=-3*J+9*it-9*P+3*k,st=3*it-3*J):(rt=6*lt-12*_+6*Q,W=-3*lt+9*_-9*Q+3*p,st=3*_-3*lt),Math.abs(W)<1e-12){if(Math.abs(rt)<1e-12)continue;ut=-st/rt,ut>0&&ut<1&&y.push(ut);continue}var bt=rt*rt-4*st*W,xt=Math.sqrt(bt);if(!(bt<0)){var Ot=(-rt+xt)/(2*W);Ot>0&&Ot<1&&y.push(Ot);var jt=(-rt-xt)/(2*W);jt>0&&jt<1&&y.push(jt)}}for(var Dt=y.length,zt=Dt,Tt;Dt--;)ut=y[Dt],Tt=1-ut,B[0][Dt]=Tt*Tt*Tt*J+3*Tt*Tt*ut*it+3*Tt*ut*ut*P+ut*ut*ut*k,B[1][Dt]=Tt*Tt*Tt*lt+3*Tt*Tt*ut*_+3*Tt*ut*ut*Q+ut*ut*ut*p;return B[0][zt]=J,B[1][zt]=lt,B[0][zt+1]=k,B[1][zt+1]=p,B[0].length=B[1].length=zt+2,{min:{x:Math.min.apply(0,B[0]),y:Math.min.apply(0,B[1])},max:{x:Math.max.apply(0,B[0]),y:Math.max.apply(0,B[1])}}},A=function(J,lt,it,_,P,Q,k,p){if(!(Math.max(J,it)<Math.min(P,k)||Math.min(J,it)>Math.max(P,k)||Math.max(lt,_)<Math.min(Q,p)||Math.min(lt,_)>Math.max(Q,p))){var y=(J*_-lt*it)*(P-k)-(J-it)*(P*p-Q*k),B=(J*_-lt*it)*(Q-p)-(lt-_)*(P*p-Q*k),W=(J-it)*(Q-p)-(lt-_)*(P-k);if(!!W){var rt=y/W,st=B/W,ut=+rt.toFixed(2),Mt=+st.toFixed(2);if(!(ut<+Math.min(J,it).toFixed(2)||ut>+Math.max(J,it).toFixed(2)||ut<+Math.min(P,k).toFixed(2)||ut>+Math.max(P,k).toFixed(2)||Mt<+Math.min(lt,_).toFixed(2)||Mt>+Math.max(lt,_).toFixed(2)||Mt<+Math.min(Q,p).toFixed(2)||Mt>+Math.max(Q,p).toFixed(2)))return{x:rt,y:st}}}},f=function(J,lt,it){return lt>=J.x&&lt<=J.x+J.width&&it>=J.y&&it<=J.y+J.height},O=function(J,lt,it,_,P){if(P)return[["M",+J+ +P,lt],["l",it-P*2,0],["a",P,P,0,0,1,P,P],["l",0,_-P*2],["a",P,P,0,0,1,-P,P],["l",P*2-it,0],["a",P,P,0,0,1,-P,-P],["l",0,P*2-_],["a",P,P,0,0,1,P,-P],["z"]];var Q=[["M",J,lt],["l",it,0],["l",0,_],["l",-it,0],["z"]];return Q.parsePathArray=s,Q},j=function(J,lt,it,_){return J===null&&(J=lt=it=_=0),lt===null&&(lt=J.y,it=J.width,_=J.height,J=J.x),{x:J,y:lt,width:it,w:it,height:_,h:_,x2:J+it,y2:lt+_,cx:J+it/2,cy:lt+_/2,r1:Math.min(it,_)/2,r2:Math.max(it,_)/2,r0:Math.sqrt(it*it+_*_)/2,path:O(J,lt,it,_),vb:[J,lt,it,_].join(" ")}},D=function(J,lt){return J=j(J),lt=j(lt),f(lt,J.x,J.y)||f(lt,J.x2,J.y)||f(lt,J.x,J.y2)||f(lt,J.x2,J.y2)||f(J,lt.x,lt.y)||f(J,lt.x2,lt.y)||f(J,lt.x,lt.y2)||f(J,lt.x2,lt.y2)||(J.x<lt.x2&&J.x>lt.x||lt.x<J.x2&&lt.x>J.x)&&(J.y<lt.y2&&J.y>lt.y||lt.y<J.y2&&lt.y>J.y)},V=function(J,lt,it,_,P,Q,k,p){Object(Y.isArray)(J)||(J=[J,lt,it,_,P,Q,k,p]);var y=S.apply(null,J);return j(y.min.x,y.min.y,y.max.x-y.min.x,y.max.y-y.min.y)},H=function(J,lt,it,_,P,Q,k,p,y){var B=1-y,W=Math.pow(B,3),rt=Math.pow(B,2),st=y*y,ut=st*y,Mt=W*J+rt*3*y*it+B*3*y*y*P+ut*k,bt=W*lt+rt*3*y*_+B*3*y*y*Q+ut*p,xt=J+2*y*(it-J)+st*(P-2*it+J),Ot=lt+2*y*(_-lt)+st*(Q-2*_+lt),jt=it+2*y*(P-it)+st*(k-2*P+it),Dt=_+2*y*(Q-_)+st*(p-2*Q+_),zt=B*J+y*it,Tt=B*lt+y*_,Vt=B*P+y*k,Ht=B*Q+y*p,re=90-Math.atan2(xt-jt,Ot-Dt)*180/Math.PI;return{x:Mt,y:bt,m:{x:xt,y:Ot},n:{x:jt,y:Dt},start:{x:zt,y:Tt},end:{x:Vt,y:Ht},alpha:re}},$=function(J,lt,it){var _=V(J),P=V(lt);if(!D(_,P))return it?0:[];for(var Q=C.apply(0,J),k=C.apply(0,lt),p=~~(Q/8),y=~~(k/8),B=[],W=[],rt={},st=it?0:[],ut=0;ut<p+1;ut++){var Mt=H.apply(0,J.concat(ut/p));B.push({x:Mt.x,y:Mt.y,t:ut/p})}for(var ut=0;ut<y+1;ut++){var Mt=H.apply(0,lt.concat(ut/y));W.push({x:Mt.x,y:Mt.y,t:ut/y})}for(var ut=0;ut<p;ut++)for(var bt=0;bt<y;bt++){var xt=B[ut],Ot=B[ut+1],jt=W[bt],Dt=W[bt+1],zt=Math.abs(Ot.x-xt.x)<.001?"y":"x",Tt=Math.abs(Dt.x-jt.x)<.001?"y":"x",Vt=A(xt.x,xt.y,Ot.x,Ot.y,jt.x,jt.y,Dt.x,Dt.y);if(Vt){if(rt[Vt.x.toFixed(4)]===Vt.y.toFixed(4))continue;rt[Vt.x.toFixed(4)]=Vt.y.toFixed(4);var Ht=xt.t+Math.abs((Vt[zt]-xt[zt])/(Ot[zt]-xt[zt]))*(Ot.t-xt.t),re=jt.t+Math.abs((Vt[Tt]-jt[Tt])/(Dt[Tt]-jt[Tt]))*(Dt.t-jt.t);Ht>=0&&Ht<=1&&re>=0&&re<=1&&(it?st+=1:st.push({x:Vt.x,y:Vt.y,t1:Ht,t2:re}))}}return st},dt=function(J,lt,it){J=m(J),lt=m(lt);for(var _,P,Q,k,p,y,B,W,rt,st,ut=it?0:[],Mt=0,bt=J.length;Mt<bt;Mt++){var xt=J[Mt];if(xt[0]==="M")_=p=xt[1],P=y=xt[2];else{xt[0]==="C"?(rt=[_,P].concat(xt.slice(1)),_=rt[6],P=rt[7]):(rt=[_,P,_,P,p,y,p,y],_=p,P=y);for(var Ot=0,jt=lt.length;Ot<jt;Ot++){var Dt=lt[Ot];if(Dt[0]==="M")Q=B=Dt[1],k=W=Dt[2];else{Dt[0]==="C"?(st=[Q,k].concat(Dt.slice(1)),Q=st[6],k=st[7]):(st=[Q,k,Q,k,B,W,B,W],Q=B,k=W);var zt=$(rt,st,it);if(it)ut+=zt;else{for(var Tt=0,Vt=zt.length;Tt<Vt;Tt++)zt[Tt].segment1=Mt,zt[Tt].segment2=Ot,zt[Tt].bez1=rt,zt[Tt].bez2=st;ut=ut.concat(zt)}}}}}return ut},Z=function(J,lt){return dt(J,lt)};function ct(wt,J){var lt=[],it=[];function _(P,Q){if(P.length===1)lt.push(P[0]),it.push(P[0]);else{for(var k=[],p=0;p<P.length-1;p++)p===0&&lt.push(P[0]),p===P.length-2&&it.push(P[p+1]),k[p]=[(1-Q)*P[p][0]+Q*P[p+1][0],(1-Q)*P[p][1]+Q*P[p+1][1]];_(k,Q)}}return wt.length&&_(wt,J),{left:lt,right:it.reverse()}}function pt(wt,J,lt){var it=[[wt[1],wt[2]]];lt=lt||2;var _=[];J[0]==="A"?(it.push(J[6]),it.push(J[7])):J[0]==="C"?(it.push([J[1],J[2]]),it.push([J[3],J[4]]),it.push([J[5],J[6]])):J[0]==="S"||J[0]==="Q"?(it.push([J[1],J[2]]),it.push([J[3],J[4]])):it.push([J[1],J[2]]);for(var P=it,Q=1/lt,k=0;k<lt-1;k++){var p=Q/(1-Q*k),y=ct(P,p);_.push(y.left),P=y.right}_.push(P);var B=_.map(function(W){var rt=[];return W.length===4&&(rt.push("C"),rt=rt.concat(W[2])),W.length>=3&&(W.length===3&&rt.push("Q"),rt=rt.concat(W[1])),W.length===2&&rt.push("L"),rt=rt.concat(W[W.length-1]),rt});return B}var gt=function(J,lt,it){if(it===1)return[[].concat(J)];var _=[];if(lt[0]==="L"||lt[0]==="C"||lt[0]==="Q")_=_.concat(pt(J,lt,it));else{var P=[].concat(J);P[0]==="M"&&(P[0]="L");for(var Q=0;Q<=it-1;Q++)_.push(P)}return _},at=function(J,lt){if(J.length===1)return J;var it=J.length-1,_=lt.length-1,P=it/_,Q=[];if(J.length===1&&J[0][0]==="M"){for(var k=0;k<_-it;k++)J.push(J[0]);return J}for(var k=0;k<_;k++){var p=Math.floor(P*k);Q[p]=(Q[p]||0)+1}var y=Q.reduce(function(B,W,rt){return rt===it?B.concat(J[it]):B.concat(gt(J[rt],J[rt+1],W))},[]);return y.unshift(J[0]),(lt[_]==="Z"||lt[_]==="z")&&y.push("Z"),y},Bt=function(J,lt){if(J.length!==lt.length)return!1;var it=!0;return Object(Y.each)(J,function(_,P){if(_!==lt[P])return it=!1,!1}),it};function Lt(wt,J,lt){var it=null,_=lt;return J<_&&(_=J,it="add"),wt<_&&(_=wt,it="del"),{type:it,min:_}}var Et=function(J,lt){var it=J.length,_=lt.length,P,Q,k=0;if(it===0||_===0)return null;for(var p=[],y=0;y<=it;y++)p[y]=[],p[y][0]={min:y};for(var B=0;B<=_;B++)p[0][B]={min:B};for(var y=1;y<=it;y++){P=J[y-1];for(var B=1;B<=_;B++){Q=lt[B-1],Bt(P,Q)?k=0:k=1;var W=p[y-1][B].min+1,rt=p[y][B-1].min+1,st=p[y-1][B-1].min+k;p[y][B]=Lt(W,rt,st)}}return p},K=function(J,lt){var it=Et(J,lt),_=J.length,P=lt.length,Q=[],k=1,p=1;if(it[_][P].min!==_){for(var y=1;y<=_;y++){var B=it[y][y].min;p=y;for(var W=k;W<=P;W++)it[y][W].min<B&&(B=it[y][W].min,p=W);k=p,it[y][k].type&&Q.push({index:y-1,type:it[y][k].type})}for(var y=Q.length-1;y>=0;y--)k=Q[y].index,Q[y].type==="add"?J.splice(k,0,[].concat(J[k])):J.splice(k,1)}_=J.length;var rt=P-_;if(_<P)for(var y=0;y<rt;y++)J[_-1][0]==="z"||J[_-1][0]==="Z"?J.splice(_-2,0,J[_-2]):J.push(J[_-1]),_+=1;return J};function ft(wt,J,lt){for(var it=[].concat(wt),_,P=1/(lt+1),Q=mt(J)[0],k=1;k<=lt;k++)P*=k,_=Math.floor(wt.length*P),_===0?it.unshift([Q[0]*P+wt[_][0]*(1-P),Q[1]*P+wt[_][1]*(1-P)]):it.splice(_,0,[Q[0]*P+wt[_][0]*(1-P),Q[1]*P+wt[_][1]*(1-P)]);return it}function mt(wt){var J=[];switch(wt[0]){case"M":J.push([wt[1],wt[2]]);break;case"L":J.push([wt[1],wt[2]]);break;case"A":J.push([wt[6],wt[7]]);break;case"Q":J.push([wt[3],wt[4]]),J.push([wt[1],wt[2]]);break;case"T":J.push([wt[1],wt[2]]);break;case"C":J.push([wt[5],wt[6]]),J.push([wt[1],wt[2]]),J.push([wt[3],wt[4]]);break;case"S":J.push([wt[3],wt[4]]),J.push([wt[1],wt[2]]);break;case"H":J.push([wt[1],wt[1]]);break;case"V":J.push([wt[1],wt[1]]);break;default:}return J}var yt=function(J,lt){if(J.length<=1)return J;for(var it,_=0;_<lt.length;_++)if(J[_][0]!==lt[_][0])switch(it=mt(J[_]),lt[_][0]){case"M":J[_]=["M"].concat(it[0]);break;case"L":J[_]=["L"].concat(it[0]);break;case"A":J[_]=[].concat(lt[_]),J[_][6]=it[0][0],J[_][7]=it[0][1];break;case"Q":if(it.length<2)if(_>0)it=ft(it,J[_-1],1);else{J[_]=lt[_];break}J[_]=["Q"].concat(it.reduce(function(P,Q){return P.concat(Q)},[]));break;case"T":J[_]=["T"].concat(it[0]);break;case"C":if(it.length<3)if(_>0)it=ft(it,J[_-1],2);else{J[_]=lt[_];break}J[_]=["C"].concat(it.reduce(function(P,Q){return P.concat(Q)},[]));break;case"S":if(it.length<2)if(_>0)it=ft(it,J[_-1],1);else{J[_]=lt[_];break}J[_]=["S"].concat(it.reduce(function(P,Q){return P.concat(Q)},[]));break;default:J[_]=lt[_]}return J}},u3os:function(qe,Pt,E){"use strict";Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.ver=Pt.clear=Pt.bind=void 0;var Y=E("P4Qj"),i=function(u,g){var x=(0,Y.getSensor)(u);return x.bind(g),function(){x.unbind(g)}};Pt.bind=i;var b=function(u){var g=(0,Y.getSensor)(u);(0,Y.removeSensor)(g)};Pt.clear=b;var t="1.0.1";Pt.ver=t},u60a:function(qe,Pt,E){"use strict";E.r(Pt),E.d(Pt,"CONTAINER_CLASS",function(){return Y}),E.d(Pt,"TITLE_CLASS",function(){return i}),E.d(Pt,"LIST_CLASS",function(){return b}),E.d(Pt,"LIST_ITEM_CLASS",function(){return t}),E.d(Pt,"MARKER_CLASS",function(){return n}),E.d(Pt,"VALUE_CLASS",function(){return u}),E.d(Pt,"NAME_CLASS",function(){return g}),E.d(Pt,"CROSSHAIR_X",function(){return x}),E.d(Pt,"CROSSHAIR_Y",function(){return c});var Y="g2-tooltip",i="g2-tooltip-title",b="g2-tooltip-list",t="g2-tooltip-list-item",n="g2-tooltip-marker",u="g2-tooltip-value",g="g2-tooltip-name",x="g2-tooltip-crosshair-x",c="g2-tooltip-crosshair-y"},u8Dt:function(qe,Pt,E){var Y=E("YESw"),i="__lodash_hash_undefined__",b=Object.prototype,t=b.hasOwnProperty;function n(u){var g=this.__data__;if(Y){var x=g[u];return x===i?void 0:x}return t.call(g,u)?g[u]:void 0}qe.exports=n},"u9/z":function(qe,Pt,E){"use strict";E.d(Pt,"b",function(){return g}),E.d(Pt,"a",function(){return c});var Y=E("iTfj"),i=E("YuPD"),b=E("w02o"),t=E("tKoa"),n=E("SZbK"),u=E("B3DA");function g(w){var I=w.chart,m=w.options,r=m.percent,s=m.progressStyle,d=m.color,C=m.barWidthRatio;I.data(Object(u.a)(r));var S=Object(i.b)({},w,{options:{xField:"1",yField:"percent",seriesField:"type",isStack:!0,widthRatio:C,interval:{style:s,color:Object(Y.isString)(d)?[d,n.a[1]]:d}}});return Object(t.c)(S),I.tooltip(!1),I.axis(!1),I.legend(!1),w}function x(w){var I=w.chart;return I.coordinate("rect").transpose(),w}function c(w){return Object(i.e)(g,Object(b.f)({}),x,b.a,b.j,Object(b.b)())(w)}},u9VJ:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return u});var Y=E("mrSG"),i=E("zJSt"),b=E("YuPD"),t=E("sqD9"),n=E("DMQx"),u=function(g){Object(Y.b)(x,g);function x(){var c=g!==null&&g.apply(this,arguments)||this;return c.type="column",c}return x.prototype.changeData=function(c){this.updateOption({data:c});var w=this.options,I=w.yField,m=w.xField,r=w.isPercent;this.chart.changeData(Object(t.a)(c,I,m,I,r))},x.prototype.getDefaultOptions=function(){return Object(b.b)({},g.prototype.getDefaultOptions.call(this),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]})},x.prototype.getSchemaAdaptor=function(){return n.a},x}(i.a)},uCX8:function(qe,Pt,E){"use strict";E.r(Pt),E.d(Pt,"Line",function(){return w}),E.d(Pt,"Text",function(){return m}),E.d(Pt,"Arc",function(){return s}),E.d(Pt,"Region",function(){return C}),E.d(Pt,"Image",function(){return A}),E.d(Pt,"DataMarker",function(){return O}),E.d(Pt,"DataRegion",function(){return D}),E.d(Pt,"RegionFilter",function(){return H}),E.d(Pt,"Shape",function(){return dt}),E.d(Pt,"Html",function(){return gt});var Y=E("mrSG"),i=E("iTfj"),b=E("MeYt"),t=E("BgvD"),n=E("jqgP"),u=E("5UbV");function g(at,Bt){var Lt=Bt.x,Et=Bt.y,K=Bt.content,ft=Bt.style,mt=Bt.id,yt=Bt.name,wt=Bt.rotate,J=Bt.maxLength,lt=Bt.autoEllipsis,it=Bt.isVertical,_=Bt.ellipsisPosition,P=Bt.background,Q=at.addGroup({id:mt+"-group",name:yt+"-group",attrs:{x:Lt,y:Et}}),k=Q.addShape({type:"text",id:mt,name:yt,attrs:Object(Y.a)({x:0,y:0,text:K},ft)}),p=Object(u.c)(Object(i.get)(P,"padding",0));if(J&&lt){var y=J-(p[1]+p[3]);Object(t.a)(!it,k,y,_)}if(P){var B=Object(i.get)(P,"style",{}),W=k.getCanvasBBox(),rt=W.minX,st=W.minY,ut=W.width,Mt=W.height,bt=Q.addShape("rect",{id:mt+"-bg",name:mt+"-bg",attrs:Object(Y.a)({x:rt-p[3],y:st-p[0],width:ut+p[1]+p[3],height:Mt+p[0]+p[2]},B)});bt.toBack()}Object(n.c)(Q,Lt,Et),Object(n.b)(Q,wt,Lt,Et)}var x=E("L16w"),c=function(at){Object(Y.b)(Bt,at);function Bt(){return at!==null&&at.apply(this,arguments)||this}return Bt.prototype.getDefaultCfg=function(){var Lt=at.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},Lt),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:x.a.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:x.a.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:x.a.lineColor,lineWidth:1}}}})},Bt.prototype.renderInner=function(Lt){this.renderLine(Lt),this.get("text")&&this.renderLabel(Lt)},Bt.prototype.renderLine=function(Lt){var Et=this.get("start"),K=this.get("end"),ft=this.get("style");this.addShape(Lt,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:Object(Y.a)({x1:Et.x,y1:Et.y,x2:K.x,y2:K.y},ft)})},Bt.prototype.getLabelPoint=function(Lt,Et,K){var ft;return K==="start"?ft=0:K==="center"?ft=.5:Object(i.isString)(K)&&K.indexOf("%")!==-1?ft=parseInt(K,10)/100:Object(i.isNumber)(K)?ft=K:ft=1,(ft>1||ft<0)&&(ft=1),{x:Object(u.g)(Lt.x,Et.x,ft),y:Object(u.g)(Lt.y,Et.y,ft)}},Bt.prototype.renderLabel=function(Lt){var Et=this.get("text"),K=this.get("start"),ft=this.get("end"),mt=Et.position,yt=Et.content,wt=Et.style,J=Et.offsetX,lt=Et.offsetY,it=Et.autoRotate,_=Et.maxLength,P=Et.autoEllipsis,Q=Et.ellipsisPosition,k=Et.background,p=Et.isVertical,y=p===void 0?!1:p,B=this.getLabelPoint(K,ft,mt),W=B.x+J,rt=B.y+lt,st={id:this.getElementId("line-text"),name:"annotation-line-text",x:W,y:rt,content:yt,style:wt,maxLength:_,autoEllipsis:P,ellipsisPosition:Q,background:k,isVertical:y};if(it){var ut=[ft.x-K.x,ft.y-K.y];st.rotate=Math.atan2(ut[1],ut[0])}g(Lt,st)},Bt}(b.a),w=c,I=function(at){Object(Y.b)(Bt,at);function Bt(){return at!==null&&at.apply(this,arguments)||this}return Bt.prototype.getDefaultCfg=function(){var Lt=at.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},Lt),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:x.a.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:x.a.fontFamily}}})},Bt.prototype.setLocation=function(Lt){this.set("x",Lt.x),this.set("y",Lt.y),this.resetLocation()},Bt.prototype.renderInner=function(Lt){var Et=this.getLocation(),K=Et.x,ft=Et.y,mt=this.get("content"),yt=this.get("style"),wt=this.getElementId("text"),J=this.get("name")+"-text",lt=this.get("maxLength"),it=this.get("autoEllipsis"),_=this.get("isVertical"),P=this.get("ellipsisPosition"),Q=this.get("background"),k=this.get("rotate"),p={id:wt,name:J,x:K,y:ft,content:mt,style:yt,maxLength:lt,autoEllipsis:it,isVertical:_,ellipsisPosition:P,background:Q,rotate:k};g(Lt,p)},Bt.prototype.resetLocation=function(){var Lt=this.getElementByLocalId("text-group");if(Lt){var Et=this.getLocation(),K=Et.x,ft=Et.y,mt=this.get("rotate");Object(n.c)(Lt,K,ft),Object(n.b)(Lt,mt,K,ft)}},Bt}(b.a),m=I,r=function(at){Object(Y.b)(Bt,at);function Bt(){return at!==null&&at.apply(this,arguments)||this}return Bt.prototype.getDefaultCfg=function(){var Lt=at.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},Lt),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},Bt.prototype.renderInner=function(Lt){this.renderArc(Lt)},Bt.prototype.getArcPath=function(){var Lt=this.getLocation(),Et=Lt.center,K=Lt.radius,ft=Lt.startAngle,mt=Lt.endAngle,yt=Object(u.e)(Et,K,ft),wt=Object(u.e)(Et,K,mt),J=mt-ft>Math.PI?1:0,lt=[["M",yt.x,yt.y]];if(mt-ft==Math.PI*2){var it=Object(u.e)(Et,K,ft+Math.PI);lt.push(["A",K,K,0,J,1,it.x,it.y]),lt.push(["A",K,K,0,J,1,wt.x,wt.y])}else lt.push(["A",K,K,0,J,1,wt.x,wt.y]);return lt},Bt.prototype.renderArc=function(Lt){var Et=this.getArcPath(),K=this.get("style");this.addShape(Lt,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:Object(Y.a)({path:Et},K)})},Bt}(b.a),s=r,d=function(at){Object(Y.b)(Bt,at);function Bt(){return at!==null&&at.apply(this,arguments)||this}return Bt.prototype.getDefaultCfg=function(){var Lt=at.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},Lt),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:x.a.regionColor,opacity:.4}}})},Bt.prototype.renderInner=function(Lt){this.renderRegion(Lt)},Bt.prototype.renderRegion=function(Lt){var Et=this.get("start"),K=this.get("end"),ft=this.get("style"),mt=Object(u.k)({start:Et,end:K});this.addShape(Lt,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:Object(Y.a)({x:mt.x,y:mt.y,width:mt.width,height:mt.height},ft)})},Bt}(b.a),C=d,S=function(at){Object(Y.b)(Bt,at);function Bt(){return at!==null&&at.apply(this,arguments)||this}return Bt.prototype.getDefaultCfg=function(){var Lt=at.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},Lt),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},Bt.prototype.renderInner=function(Lt){this.renderImage(Lt)},Bt.prototype.getImageAttrs=function(){var Lt=this.get("start"),Et=this.get("end"),K=this.get("style"),ft=Object(u.k)({start:Lt,end:Et}),mt=this.get("src");return Object(Y.a)({x:ft.x,y:ft.y,img:mt,width:ft.width,height:ft.height},K)},Bt.prototype.renderImage=function(Lt){this.addShape(Lt,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},Bt}(b.a),A=S,f=function(at){Object(Y.b)(Bt,at);function Bt(){return at!==null&&at.apply(this,arguments)||this}return Bt.prototype.getDefaultCfg=function(){var Lt=at.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},Lt),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:x.a.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:x.a.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:x.a.fontFamily}}}})},Bt.prototype.renderInner=function(Lt){Object(i.get)(this.get("line"),"display")&&this.renderLine(Lt),Object(i.get)(this.get("text"),"display")&&this.renderText(Lt),Object(i.get)(this.get("point"),"display")&&this.renderPoint(Lt),this.get("autoAdjust")&&this.autoAdjust(Lt)},Bt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},Bt.prototype.renderPoint=function(Lt){var Et=this.getShapeAttrs().point;this.addShape(Lt,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:Et})},Bt.prototype.renderLine=function(Lt){var Et=this.getShapeAttrs().line;this.addShape(Lt,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:Et})},Bt.prototype.renderText=function(Lt){var Et=this.getShapeAttrs().text,K=Et.x,ft=Et.y,mt=Et.text,yt=Object(Y.c)(Et,["x","y","text"]),wt=this.get("text"),J=wt.background,lt=wt.maxLength,it=wt.autoEllipsis,_=wt.isVertival,P=wt.ellipsisPosition,Q={x:K,y:ft,id:this.getElementId("text"),name:"annotation-text",content:mt,style:yt,background:J,maxLength:lt,autoEllipsis:it,isVertival:_,ellipsisPosition:P};g(Lt,Q)},Bt.prototype.autoAdjust=function(Lt){var Et=this.get("direction"),K=this.get("x"),ft=this.get("y"),mt=Object(i.get)(this.get("line"),"length",0),yt=this.get("coordinateBBox"),wt=Lt.getBBox(),J=wt.minX,lt=wt.maxX,it=wt.minY,_=wt.maxY,P=Lt.findById(this.getElementId("text-group")),Q=Lt.findById(this.getElementId("text")),k=Lt.findById(this.getElementId("line"));if(!!yt){if(P){if(K+J<=yt.minX){var p=yt.minX-(K+J);Object(n.c)(P,P.attr("x")+p,P.attr("y"))}if(K+lt>=yt.maxX){var p=K+lt-yt.maxX;Object(n.c)(P,P.attr("x")-p,P.attr("y"))}}if(Et==="upward"&&ft+it<=yt.minY||Et!=="upward"&&ft+_>=yt.maxY){var y=void 0,B=void 0;Et==="upward"&&ft+it<=yt.minY?(y="top",B=1):(y="bottom",B=-1),Q.attr("textBaseline",y),k&&k.attr("path",[["M",0,0],["L",0,mt*B]]),Object(n.c)(P,P.attr("x"),(mt+2)*B)}}},Bt.prototype.getShapeAttrs=function(){var Lt=Object(i.get)(this.get("line"),"display"),Et=Object(i.get)(this.get("point"),"style",{}),K=Object(i.get)(this.get("line"),"style",{}),ft=Object(i.get)(this.get("text"),"style",{}),mt=this.get("direction"),yt=Lt?Object(i.get)(this.get("line"),"length",0):0,wt=mt==="upward"?-1:1;return{point:Object(Y.a)({x:0,y:0},Et),line:Object(Y.a)({path:[["M",0,0],["L",0,yt*wt]]},K),text:Object(Y.a)({x:0,y:(yt+2)*wt,text:Object(i.get)(this.get("text"),"content",""),textBaseline:mt==="upward"?"bottom":"top"},ft)}},Bt}(b.a),O=f,j=function(at){Object(Y.b)(Bt,at);function Bt(){return at!==null&&at.apply(this,arguments)||this}return Bt.prototype.getDefaultCfg=function(){var Lt=at.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},Lt),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:x.a.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:x.a.textColor,fontFamily:x.a.fontFamily}}}})},Bt.prototype.renderInner=function(Lt){var Et=Object(i.get)(this.get("region"),"style",{}),K=Object(i.get)(this.get("text"),"style",{}),ft=this.get("lineLength")||0,mt=this.get("points");if(!!mt.length){var yt=Object(u.j)(mt),wt=[];wt.push(["M",mt[0].x,yt.minY-ft]),mt.forEach(function(lt){wt.push(["L",lt.x,lt.y])}),wt.push(["L",mt[mt.length-1].x,mt[mt.length-1].y-ft]),this.addShape(Lt,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:Object(Y.a)({path:wt},Et)});var J=Object(Y.a)({id:this.getElementId("text"),name:"annotation-text",x:(yt.minX+yt.maxX)/2,y:yt.minY-ft},this.get("text"));g(Lt,J)}},Bt}(b.a),D=j,V=function(at){Object(Y.b)(Bt,at);function Bt(){return at!==null&&at.apply(this,arguments)||this}return Bt.prototype.getDefaultCfg=function(){var Lt=at.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},Lt),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},Bt.prototype.renderInner=function(Lt){var Et=this,K=this.get("start"),ft=this.get("end"),mt=this.addGroup(Lt,{id:this.getElementId("region-filter"),capture:!1});Object(i.each)(this.get("shapes"),function(wt,J){var lt=wt.get("type"),it=Object(i.clone)(wt.attr());Et.adjustShapeAttrs(it),Et.addShape(mt,{id:Et.getElementId("shape-"+lt+"-"+J),capture:!1,type:lt,attrs:it})});var yt=Object(u.k)({start:K,end:ft});mt.setClip({type:"rect",attrs:{x:yt.minX,y:yt.minY,width:yt.width,height:yt.height}})},Bt.prototype.adjustShapeAttrs=function(Lt){var Et=this.get("color");Lt.fill&&(Lt.fill=Lt.fillStyle=Et),Lt.stroke=Lt.strokeStyle=Et},Bt}(b.a),H=V,$=function(at){Object(Y.b)(Bt,at);function Bt(){return at!==null&&at.apply(this,arguments)||this}return Bt.prototype.getDefaultCfg=function(){var Lt=at.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},Lt),{name:"annotation",type:"shape",draw:i.noop})},Bt.prototype.renderInner=function(Lt){var Et=this.get("render");Object(i.isFunction)(Et)&&Et(Lt)},Bt}(b.a),dt=$,Z=E("fIp6"),ct=E("de35"),pt=function(at){Object(Y.b)(Bt,at);function Bt(){return at!==null&&at.apply(this,arguments)||this}return Bt.prototype.getDefaultCfg=function(){var Lt=at.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},Lt),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},Bt.prototype.render=function(){var Lt=this.getContainer(),Et=this.get("html");Object(u.a)(Lt);var K=Object(i.isFunction)(Et)?Et(Lt):Et;Object(i.isElement)(K)?Lt.appendChild(K):Object(i.isString)(K)&&Lt.appendChild(Object(Z.b)(K)),this.resetPosition()},Bt.prototype.resetPosition=function(){var Lt=this.getContainer(),Et=this.getLocation(),K=Et.x,ft=Et.y,mt=this.get("alignX"),yt=this.get("alignY"),wt=this.get("offsetX"),J=this.get("offsetY"),lt=Object(Z.d)(Lt),it=Object(Z.c)(Lt),_={x:K,y:ft};mt==="middle"?_.x-=Math.round(lt/2):mt==="right"&&(_.x-=Math.round(lt)),yt==="middle"?_.y-=Math.round(it/2):yt==="bottom"&&(_.y-=Math.round(it)),wt&&(_.x+=wt),J&&(_.y+=J),Object(Z.e)(Lt,{position:"absolute",left:_.x+"px",top:_.y+"px",zIndex:this.get("zIndex")})},Bt}(ct.a),gt=pt},uFwe:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return i});var Y=E("BsWD");function i(b,t){var n;if(typeof Symbol=="undefined"||b[Symbol.iterator]==null){if(Array.isArray(b)||(n=Object(Y.a)(b))||t&&b&&typeof b.length=="number"){n&&(b=n);var u=0,g=function(){};return{s:g,n:function(){return u>=b.length?{done:!0}:{done:!1,value:b[u++]}},e:function(m){throw m},f:g}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x=!0,c=!1,w;return{s:function(){n=b[Symbol.iterator]()},n:function(){var m=n.next();return x=m.done,m},e:function(m){c=!0,w=m},f:function(){try{!x&&n.return!=null&&n.return()}finally{if(c)throw w}}}}},"uw/B":function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return r});var Y=E("mrSG"),i=E("zJSt"),b=E("YuPD"),t=E("sqD9"),n=E("iTfj"),u=E("w02o"),g=E("tKoa"),x=E("hJqF");function c(s){var d=s.chart,C=s.options,S=C.data,A=C.areaStyle,f=C.color,O=C.point,j=C.line,D=C.isPercent,V=C.xField,H=C.yField,$=C.tooltip,dt=C.seriesField,Z=Object(t.a)(S,H,V,H,D);d.data(Z);var ct=D?Object(Y.a)({formatter:function(Bt){return{name:Bt[dt]||Bt[V],value:(Number(Bt[H])*100).toFixed(2)+"%"}}},$):$,pt=Object(b.b)({},s,{options:{area:{color:f,style:A},line:j&&Object(Y.a)({color:f},j),point:O&&Object(Y.a)({color:f},O),tooltip:ct,label:void 0}}),gt=Object(b.b)({},pt,{options:{tooltip:!1}});return Object(g.a)(pt),Object(g.d)(gt),Object(g.e)(gt),s}function w(s){var d=s.chart,C=s.options,S=C.label,A=C.yField,f=Object(b.c)(d,"area");if(!S)f.label(!1);else{var O=S.callback,j=Object(Y.c)(S,["callback"]);f.label({fields:[A],callback:O,cfg:Object(Y.a)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(b.o)(j))})}return s}function I(s){var d=s.chart,C=s.options,S=C.isStack,A=C.isPercent;return(A||S)&&Object(n.each)(d.geometries,function(f){f.adjust("stack")}),s}function m(s){return Object(b.e)(c,x.d,I,u.j,x.b,x.c,u.k,w,u.h,Object(u.b)(),u.c,u.a,u.e)(s)}var r=function(s){Object(Y.b)(d,s);function d(){var C=s!==null&&s.apply(this,arguments)||this;return C.type="area",C}return d.prototype.getDefaultOptions=function(){return Object(b.b)({},s.prototype.getDefaultOptions.call(this),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left"}})},d.prototype.changeData=function(C){this.updateOption({data:C});var S=this.options,A=S.isPercent,f=S.xField,O=S.yField;this.chart.changeData(Object(t.a)(C,O,f,O,A))},d.prototype.getSchemaAdaptor=function(){return m},d}(i.a)},uzHj:function(qe,Pt){},v7Ed:function(qe,Pt,E){"use strict";E.r(Pt),E.d(Pt,"version",function(){return u});var Y=E("aN7R");E.d(Pt,"Shape",function(){return Y});var i=E("aFU3");for(var b in i)["default","Canvas","Group","Shape","version"].indexOf(b)<0&&function(g){E.d(Pt,g,function(){return i[g]})}(b);var t=E("wClo");E.d(Pt,"Canvas",function(){return t.a});var n=E("5z4m");E.d(Pt,"Group",function(){return n.a});var u="0.5.6"},vIgC:function(qe,Pt,E){"use strict";E.d(Pt,"b",function(){return b}),E.d(Pt,"c",function(){return n}),E.d(Pt,"a",function(){return u});var Y=E("sstZ"),i=E("lt7v");function b(g,x,c){var w=1;if(Object(Y.h)(g)&&(w=g.split(`
`).length),w>1){var I=t(x,c);return x*w+I*(w-1)}return x}function t(g,x){return x?x-g:g*.14}function n(g,x){var c=Object(i.a)(),w=0;if(Object(Y.e)(g)||g==="")return w;if(c.save(),c.font=x,Object(Y.h)(g)&&g.includes(`
`)){var I=g.split(`
`);Object(Y.a)(I,function(m){var r=c.measureText(m).width;w<r&&(w=r)})}else w=c.measureText(g).width;return c.restore(),w}function u(g){var x=g.fontSize,c=g.fontFamily,w=g.fontWeight,I=g.fontStyle,m=g.fontVariant;return[I,m,w,x+"px",c].join(" ").trim()}},vk7d:function(qe,Pt){},w02o:function(qe,Pt,E){"use strict";E.d(Pt,"d",function(){return n}),E.d(Pt,"k",function(){return u}),E.d(Pt,"c",function(){return g}),E.d(Pt,"a",function(){return x}),E.d(Pt,"j",function(){return c}),E.d(Pt,"i",function(){return w}),E.d(Pt,"h",function(){return I}),E.d(Pt,"g",function(){return m}),E.d(Pt,"f",function(){return r}),E.d(Pt,"b",function(){return s}),E.d(Pt,"e",function(){return d});var Y=E("mrSG"),i=E("iTfj"),b=E("n/J0"),t=E("YuPD");function n(C){var S=C.chart,A=C.options,f=A.legend,O=A.colorField,j=A.seriesField;return f===!1?S.legend(!1):(O||j)&&S.legend(O||j,f),C}function u(C){var S=C.chart,A=C.options,f=A.tooltip;return f!==void 0&&S.tooltip(f),C}function g(C){var S=C.chart,A=C.options,f=A.interactions;return Object(i.each)(f,function(O){O.enable===!1?S.removeInteraction(O.type):S.interaction(O.type,O.cfg||{})}),C}function x(C){var S=C.chart,A=C.options,f=A.animation;return typeof f=="boolean"?S.animate(f):S.animate(!0),Object(i.each)(S.geometries,function(O){O.animate(f)}),C}function c(C){var S=C.chart,A=C.options,f=A.theme;return f&&S.theme(f),C}function w(C){var S=C.chart,A=C.options,f=A.state;return f&&Object(i.each)(S.geometries,function(O){O.state(f)}),C}function I(C){var S=C.chart,A=C.options,f=A.slider;return S.option("slider",f),C}function m(C){var S=C.chart,A=C.options,f=A.scrollbar;return S.option("scrollbar",f),C}function r(C,S){return function(A){var f=A.chart,O=A.options,j={};return Object(i.each)(C,function(D,V){j[V]=Object(t.k)(D,b.a)}),j=Object(t.b)({},S,O.meta,j),f.scale(j),A}}function s(C){return function(S){var A=S.chart,f=S.options,O=A.getController("annotation");return Object(i.each)(Object(Y.d)(f.annotations||[],C||[]),function(j){O.annotation(j)}),S}}function d(C){var S=C.chart,A=C.options,f=A.yAxis,O=A.limitInPlot,j=O;return Object(i.isObject)(f)&&Object(i.isNil)(O)&&(Object.values(Object(t.k)(f,["min","max","minLimit","maxLimit"])).some(function(D){return!Object(i.isNil)(D)})?j=!0:j=!1),S.limitInPlot=j,C}},wCAj:function(qe,Pt,E){"use strict";var Y=E("U8pU"),i=E("rePB"),b=E("ODXe"),t=E("wx14"),n=E("q1tI"),u=E.n(n),g=E("TSYQ"),x=E.n(g),c=E("bT9E"),w=E("VTBJ"),I=E("KQm4"),m=E("x/xZ"),r=E("Gytx"),s=E.n(r),d=E("Kwbf"),C=E("t23M"),S=E("qx4F");function A(De){return null}var f=A;function O(De){return null}var j=O,D=E("Ff2n"),V=E("c+Xe"),H="RC_TABLE_KEY";function $(De){return De==null?[]:Array.isArray(De)?De:[De]}function dt(De,an){if(!an&&typeof an!="number")return De;for(var Mn=$(an),xn=De,bn=0;bn<Mn.length;bn+=1){if(!xn)return null;var Yn=Mn[bn];xn=xn[Yn]}return xn}function Z(De){var an=[],Mn={};return De.forEach(function(xn){for(var bn=xn||{},Yn=bn.key,Jn=bn.dataIndex,$n=Yn||$(Jn).join("-")||H;Mn[$n];)$n="".concat($n,"_next");Mn[$n]=!0,an.push($n)}),an}function ct(){var De={};function an(Yn,Jn){Jn&&Object.keys(Jn).forEach(function($n){var _n=Jn[$n];_n&&Object(Y.a)(_n)==="object"?(Yn[$n]=Yn[$n]||{},an(Yn[$n],_n)):Yn[$n]=_n})}for(var Mn=arguments.length,xn=new Array(Mn),bn=0;bn<Mn;bn++)xn[bn]=arguments[bn];return xn.forEach(function(Yn){an(De,Yn)}),De}function pt(De){return De!=null}function gt(De){return De&&Object(Y.a)(De)==="object"&&!Array.isArray(De)&&!n.isValidElement(De)}function at(De){return typeof De=="string"?!0:Object(V.c)(De)}function Bt(De,an){var Mn,xn=De.prefixCls,bn=De.className,Yn=De.record,Jn=De.index,$n=De.dataIndex,_n=De.render,fr=De.children,sr=De.component,vr=sr===void 0?"td":sr,pr=De.colSpan,Wr=De.rowSpan,Ur=De.fixLeft,Ii=De.fixRight,br=De.firstFixLeft,hi=De.lastFixLeft,Vr=De.firstFixRight,ji=De.lastFixRight,zi=De.appendNode,Ui=De.additionalProps,ra=Ui===void 0?{}:Ui,da=De.ellipsis,Di=De.align,kr=De.rowType,er=De.isSticky,Vi="".concat(xn,"-cell"),_a,Si;if(fr)Si=fr;else{var Yi=dt(Yn,$n);if(Si=Yi,_n){var ea=_n(Yi,Yn,Jn);gt(ea)?(Si=ea.children,_a=ea.props):Si=ea}}Object(Y.a)(Si)==="object"&&!Array.isArray(Si)&&!n.isValidElement(Si)&&(Si=null),da&&(hi||Vr)&&(Si=n.createElement("span",{className:"".concat(Vi,"-content")},Si));var no=_a||{},$i=no.colSpan,Va=no.rowSpan,Ta=no.style,bo=no.className,Na=Object(D.a)(no,["colSpan","rowSpan","style","className"]),Fa=$i!==void 0?$i:pr,ro=Va!==void 0?Va:Wr;if(Fa===0||ro===0)return null;var Sa={},So=typeof Ur=="number",Ua=typeof Ii=="number";So&&(Sa.position="sticky",Sa.left=Ur),Ua&&(Sa.position="sticky",Sa.right=Ii);var Wa={};Di&&(Wa.textAlign=Di);var ja,to=da===!0?{showTitle:!0}:da;to&&(to.showTitle||kr==="header")&&(typeof Si=="string"||typeof Si=="number"?ja=Si.toString():n.isValidElement(Si)&&typeof Si.props.children=="string"&&(ja=Si.props.children));var fo=Object(w.a)(Object(w.a)(Object(w.a)({title:ja},Na),ra),{},{colSpan:Fa&&Fa!==1?Fa:null,rowSpan:ro&&ro!==1?ro:null,className:x()(Vi,bn,(Mn={},Object(i.a)(Mn,"".concat(Vi,"-fix-left"),So),Object(i.a)(Mn,"".concat(Vi,"-fix-left-first"),br),Object(i.a)(Mn,"".concat(Vi,"-fix-left-last"),hi),Object(i.a)(Mn,"".concat(Vi,"-fix-right"),Ua),Object(i.a)(Mn,"".concat(Vi,"-fix-right-first"),Vr),Object(i.a)(Mn,"".concat(Vi,"-fix-right-last"),ji),Object(i.a)(Mn,"".concat(Vi,"-ellipsis"),da),Object(i.a)(Mn,"".concat(Vi,"-with-append"),zi),Object(i.a)(Mn,"".concat(Vi,"-fix-sticky"),(So||Ua)&&er),Mn),ra.className,bo),style:Object(w.a)(Object(w.a)(Object(w.a)(Object(w.a)({},ra.style),Wa),Sa),Ta),ref:at(vr)?an:null});return n.createElement(vr,fo,zi,Si)}var Lt=n.forwardRef(Bt);Lt.displayName="Cell";var Et=n.memo(Lt,function(De,an){return an.shouldCellUpdate?!an.shouldCellUpdate(an.record,De.record):!1}),K=Et,ft=n.createContext(null),mt=ft;function yt(De,an,Mn,xn,bn){var Yn=Mn[De]||{},Jn=Mn[an]||{},$n,_n;Yn.fixed==="left"?$n=xn.left[De]:Jn.fixed==="right"&&(_n=xn.right[an]);var fr=!1,sr=!1,vr=!1,pr=!1,Wr=Mn[an+1],Ur=Mn[De-1];if(bn==="rtl"){if($n!==void 0){var Ii=Ur&&Ur.fixed==="left";pr=!Ii}else if(_n!==void 0){var br=Wr&&Wr.fixed==="right";vr=!br}}else if($n!==void 0){var hi=Wr&&Wr.fixed==="left";fr=!hi}else if(_n!==void 0){var Vr=Ur&&Ur.fixed==="right";sr=!Vr}return{fixLeft:$n,fixRight:_n,lastFixLeft:fr,firstFixRight:sr,lastFixRight:vr,firstFixLeft:pr,isSticky:xn.isSticky}}function wt(De){var an=De.cells,Mn=De.stickyOffsets,xn=De.flattenColumns,bn=De.rowComponent,Yn=De.cellComponent,Jn=De.onHeaderRow,$n=De.index,_n=n.useContext(mt),fr=_n.prefixCls,sr=_n.direction,vr;Jn&&(vr=Jn(an.map(function(Wr){return Wr.column}),$n));var pr=Z(an.map(function(Wr){return Wr.column}));return n.createElement(bn,vr,an.map(function(Wr,Ur){var Ii=Wr.column,br=yt(Wr.colStart,Wr.colEnd,xn,Mn,sr),hi;return Ii&&Ii.onHeaderCell&&(hi=Wr.column.onHeaderCell(Ii)),n.createElement(K,Object(t.a)({},Wr,{ellipsis:Ii.ellipsis,align:Ii.align,component:Yn,prefixCls:fr,key:pr[Ur]},br,{additionalProps:hi,rowType:"header"}))}))}wt.displayName="HeaderRow";var J=wt;function lt(De){var an=[];function Mn(Jn,$n){var _n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;an[_n]=an[_n]||[];var fr=$n,sr=Jn.filter(Boolean).map(function(vr){var pr={key:vr.key,className:vr.className||"",children:vr.title,column:vr,colStart:fr},Wr=1,Ur=vr.children;return Ur&&Ur.length>0&&(Wr=Mn(Ur,fr,_n+1).reduce(function(Ii,br){return Ii+br},0),pr.hasSubColumns=!0),"colSpan"in vr&&(Wr=vr.colSpan),"rowSpan"in vr&&(pr.rowSpan=vr.rowSpan),pr.colSpan=Wr,pr.colEnd=pr.colStart+Wr-1,an[_n].push(pr),fr+=Wr,Wr});return sr}Mn(De,0);for(var xn=an.length,bn=function($n){an[$n].forEach(function(_n){!("rowSpan"in _n)&&!_n.hasSubColumns&&(_n.rowSpan=xn-$n)})},Yn=0;Yn<xn;Yn+=1)bn(Yn);return an}function it(De){var an=De.stickyOffsets,Mn=De.columns,xn=De.flattenColumns,bn=De.onHeaderRow,Yn=n.useContext(mt),Jn=Yn.prefixCls,$n=Yn.getComponent,_n=n.useMemo(function(){return lt(Mn)},[Mn]),fr=$n(["header","wrapper"],"thead"),sr=$n(["header","row"],"tr"),vr=$n(["header","cell"],"th");return n.createElement(fr,{className:"".concat(Jn,"-thead")},_n.map(function(pr,Wr){var Ur=n.createElement(J,{key:Wr,flattenColumns:xn,cells:pr,stickyOffsets:an,rowComponent:sr,cellComponent:vr,onHeaderRow:bn,index:Wr});return Ur}))}var _=it,P="RC_TABLE_INTERNAL_COL_DEFINE";function Q(De){var an=De.expandable,Mn=Object(D.a)(De,["expandable"]);return"expandable"in De?Object(w.a)(Object(w.a)({},Mn),an):Mn}function k(De){return Object.keys(De).reduce(function(an,Mn){return(Mn.substr(0,5)==="data-"||Mn.substr(0,5)==="aria-")&&(an[Mn]=De[Mn]),an},{})}function p(De){for(var an=De.colWidths,Mn=De.columns,xn=De.columCount,bn=[],Yn=xn||Mn.length,Jn=!1,$n=Yn-1;$n>=0;$n-=1){var _n=an[$n],fr=Mn&&Mn[$n],sr=fr&&fr[P];(_n||sr||Jn)&&(bn.unshift(n.createElement("col",Object(t.a)({key:$n,style:{width:_n,minWidth:_n}},sr))),Jn=!0)}return n.createElement("colgroup",null,bn)}var y=p;function B(De,an){return Object(n.useMemo)(function(){for(var Mn=[],xn=0;xn<an;xn+=1){var bn=De[xn];if(bn!==void 0)Mn[xn]=bn;else return null}return Mn},[De.join("_"),an])}var W=n.forwardRef(function(De,an){var Mn=De.noData,xn=De.columns,bn=De.flattenColumns,Yn=De.colWidths,Jn=De.columCount,$n=De.stickyOffsets,_n=De.direction,fr=De.fixHeader,sr=De.offsetHeader,vr=De.stickyClassName,pr=De.onScroll,Wr=Object(D.a)(De,["noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","offsetHeader","stickyClassName","onScroll"]),Ur=n.useContext(mt),Ii=Ur.prefixCls,br=Ur.scrollbarSize,hi=Ur.isSticky,Vr=hi&&!fr?0:br,ji=n.useRef(null),zi=n.useCallback(function(Vi){Object(V.b)(an,Vi),Object(V.b)(ji,Vi)},[]);n.useEffect(function(){var Vi;function _a(Si){var Yi=Si.currentTarget,ea=Si.deltaX;ea&&(pr({currentTarget:Yi,scrollLeft:Yi.scrollLeft+ea}),Si.preventDefault())}return(Vi=ji.current)===null||Vi===void 0||Vi.addEventListener("wheel",_a),function(){var Si;(Si=ji.current)===null||Si===void 0||Si.removeEventListener("wheel",_a)}},[]);var Ui=bn[bn.length-1],ra={fixed:Ui?Ui.fixed:null,onHeaderCell:function(){return{className:"".concat(Ii,"-cell-scrollbar")}}},da=Object(n.useMemo)(function(){return Vr?[].concat(Object(I.a)(xn),[ra]):xn},[Vr,xn]),Di=Object(n.useMemo)(function(){return Vr?[].concat(Object(I.a)(bn),[ra]):bn},[Vr,bn]),kr=Object(n.useMemo)(function(){var Vi=$n.right,_a=$n.left;return Object(w.a)(Object(w.a)({},$n),{},{left:_n==="rtl"?[].concat(Object(I.a)(_a.map(function(Si){return Si+Vr})),[0]):_a,right:_n==="rtl"?Vi:[].concat(Object(I.a)(Vi.map(function(Si){return Si+Vr})),[0]),isSticky:hi})},[Vr,$n,hi]),er=B(Yn,Jn);return n.createElement("div",{style:Object(w.a)({overflow:"hidden"},hi?{top:sr}:{}),ref:zi,className:x()("".concat(Ii,"-header"),Object(i.a)({},vr,!!vr))},n.createElement("table",{style:{tableLayout:"fixed",visibility:Mn||er?null:"hidden"}},n.createElement(y,{colWidths:er?[].concat(Object(I.a)(er),[Vr]):[],columCount:Jn+1,columns:Di}),n.createElement(_,Object(t.a)({},Wr,{stickyOffsets:kr,columns:da,flattenColumns:Di}))))});W.displayName="FixedHeader";var rt=W,st=n.createContext(null),ut=st;function Mt(De){var an=De.prefixCls,Mn=De.children,xn=De.component,bn=De.cellComponent,Yn=De.fixHeader,Jn=De.fixColumn,$n=De.horizonScroll,_n=De.className,fr=De.expanded,sr=De.componentWidth,vr=De.colSpan,pr=n.useContext(mt),Wr=pr.scrollbarSize;return n.useMemo(function(){var Ur=Mn;return Jn&&(Ur=n.createElement("div",{style:{width:sr-(Yn?Wr:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(an,"-expanded-row-fixed")},Ur)),n.createElement(xn,{className:_n,style:{display:fr?null:"none"}},n.createElement(K,{component:bn,prefixCls:an,colSpan:vr},Ur))},[Mn,xn,Yn,$n,_n,fr,sr,vr,Wr])}var bt=Mt;function xt(De){var an=De.className,Mn=De.style,xn=De.record,bn=De.index,Yn=De.rowKey,Jn=De.getRowKey,$n=De.rowExpandable,_n=De.expandedKeys,fr=De.onRow,sr=De.indent,vr=sr===void 0?0:sr,pr=De.rowComponent,Wr=De.cellComponent,Ur=De.childrenColumnName,Ii=n.useContext(mt),br=Ii.prefixCls,hi=Ii.fixedInfoList,Vr=n.useContext(ut),ji=Vr.fixHeader,zi=Vr.fixColumn,Ui=Vr.horizonScroll,ra=Vr.componentWidth,da=Vr.flattenColumns,Di=Vr.expandableType,kr=Vr.expandRowByClick,er=Vr.onTriggerExpand,Vi=Vr.rowClassName,_a=Vr.expandedRowClassName,Si=Vr.indentSize,Yi=Vr.expandIcon,ea=Vr.expandedRowRender,no=Vr.expandIconColumnIndex,$i=n.useState(!1),Va=Object(b.a)($i,2),Ta=Va[0],bo=Va[1],Na=_n&&_n.has(De.recordKey);n.useEffect(function(){Na&&bo(!0)},[Na]);var Fa=Di==="row"&&(!$n||$n(xn)),ro=Di==="nest",Sa=Ur&&xn&&xn[Ur],So=Fa||ro,Ua;fr&&(Ua=fr(xn,bn));var Wa=function(Eo){if(kr&&So&&er(xn,Eo),Ua&&Ua.onClick){for(var No,Gn=arguments.length,se=new Array(Gn>1?Gn-1:0),Ia=1;Ia<Gn;Ia++)se[Ia-1]=arguments[Ia];(No=Ua).onClick.apply(No,[Eo].concat(se))}},ja;typeof Vi=="string"?ja=Vi:typeof Vi=="function"&&(ja=Vi(xn,bn,vr));var to=Z(da),fo=n.createElement(pr,Object(t.a)({},Ua,{"data-row-key":Yn,className:x()(an,"".concat(br,"-row"),"".concat(br,"-row-level-").concat(vr),ja,Ua&&Ua.className),style:Object(w.a)(Object(w.a)({},Mn),Ua?Ua.style:null),onClick:Wa}),da.map(function(Ya,Eo){var No=Ya.render,Gn=Ya.dataIndex,se=Ya.className,Ia=to[Eo],ho=hi[Eo],Xa;Eo===(no||0)&&ro&&(Xa=n.createElement(n.Fragment,null,n.createElement("span",{style:{paddingLeft:"".concat(Si*vr,"px")},className:"".concat(br,"-row-indent indent-level-").concat(vr)}),Yi({prefixCls:br,expanded:Na,expandable:Sa,record:xn,onExpand:er})));var so;return Ya.onCell&&(so=Ya.onCell(xn,bn)),n.createElement(K,Object(t.a)({className:se,ellipsis:Ya.ellipsis,align:Ya.align,component:Wr,prefixCls:br,key:Ia,record:xn,index:bn,dataIndex:Gn,render:No,shouldCellUpdate:Ya.shouldCellUpdate},ho,{appendNode:Xa,additionalProps:so}))})),wa;if(Fa&&(Ta||Na)){var gr=ea(xn,bn,vr+1,Na),Xo=_a&&_a(xn,bn,vr);wa=n.createElement(bt,{expanded:Na,className:x()("".concat(br,"-expanded-row"),"".concat(br,"-expanded-row-level-").concat(vr+1),Xo),prefixCls:br,fixHeader:ji,fixColumn:zi,horizonScroll:Ui,component:pr,componentWidth:ra,cellComponent:Wr,colSpan:da.length},gr)}var va;return Sa&&Na&&(va=(xn[Ur]||[]).map(function(Ya,Eo){var No=Jn(Ya,Eo);return n.createElement(xt,Object(t.a)({},De,{key:No,rowKey:No,record:Ya,recordKey:No,index:Eo,indent:vr+1}))})),n.createElement(n.Fragment,null,fo,wa,va)}xt.displayName="BodyRow";var Ot=xt,jt=n.createContext(null),Dt=jt;function zt(De){var an=De.columnKey,Mn=De.onColumnResize,xn=n.useRef();return n.useEffect(function(){xn.current&&Mn(an,xn.current.offsetWidth)},[]),n.createElement(C.a,{onResize:function(Yn){var Jn=Yn.offsetWidth;Mn(an,Jn)}},n.createElement("td",{ref:xn,style:{padding:0,border:0,height:0}},n.createElement("div",{style:{height:0,overflow:"hidden"}},"\xA0")))}function Tt(De){var an=De.data,Mn=De.getRowKey,xn=De.measureColumnWidth,bn=De.expandedKeys,Yn=De.onRow,Jn=De.rowExpandable,$n=De.emptyNode,_n=De.childrenColumnName,fr=n.useContext(Dt),sr=fr.onColumnResize,vr=n.useContext(mt),pr=vr.prefixCls,Wr=vr.getComponent,Ur=n.useContext(ut),Ii=Ur.fixHeader,br=Ur.horizonScroll,hi=Ur.flattenColumns,Vr=Ur.componentWidth;return n.useMemo(function(){var ji=Wr(["body","wrapper"],"tbody"),zi=Wr(["body","row"],"tr"),Ui=Wr(["body","cell"],"td"),ra;an.length?ra=an.map(function(Di,kr){var er=Mn(Di,kr);return n.createElement(Ot,{key:er,rowKey:er,record:Di,recordKey:er,index:kr,rowComponent:zi,cellComponent:Ui,expandedKeys:bn,onRow:Yn,getRowKey:Mn,rowExpandable:Jn,childrenColumnName:_n})}):ra=n.createElement(bt,{expanded:!0,className:"".concat(pr,"-placeholder"),prefixCls:pr,fixHeader:Ii,fixColumn:br,horizonScroll:br,component:zi,componentWidth:Vr,cellComponent:Ui,colSpan:hi.length},$n);var da=Z(hi);return n.createElement(ji,{className:"".concat(pr,"-tbody")},xn&&n.createElement("tr",{"aria-hidden":"true",className:"".concat(pr,"-measure-row"),style:{height:0,fontSize:0}},da.map(function(Di){return n.createElement(zt,{key:Di,columnKey:Di,onColumnResize:sr})})),ra)},[an,pr,Yn,xn,bn,Mn,Wr,Vr,$n,hi])}var Vt=n.memo(Tt);Vt.displayName="Body";var Ht=Vt,re=E("Zm9Q");function pe(De){return Object(re.a)(De).filter(function(an){return n.isValidElement(an)}).map(function(an){var Mn=an.key,xn=an.props,bn=xn.children,Yn=Object(D.a)(xn,["children"]),Jn=Object(w.a)({key:Mn},Yn);return bn&&(Jn.children=pe(bn)),Jn})}function me(De){return De.reduce(function(an,Mn){var xn=Mn.fixed,bn=xn===!0?"left":xn,Yn=Mn.children;return Yn&&Yn.length>0?[].concat(Object(I.a)(an),Object(I.a)(me(Yn).map(function(Jn){return Object(w.a)({fixed:bn},Jn)}))):[].concat(Object(I.a)(an),[Object(w.a)(Object(w.a)({},Mn),{},{fixed:bn})])},[])}function Ee(De){for(var an=!0,Mn=0;Mn<De.length;Mn+=1){var xn=De[Mn];if(an&&xn.fixed!=="left")an=!1;else if(!an&&xn.fixed==="left"){Object(d.a)(!1,"Index ".concat(Mn-1," of `columns` missing `fixed='left'` prop."));break}}for(var bn=!0,Yn=De.length-1;Yn>=0;Yn-=1){var Jn=De[Yn];if(bn&&Jn.fixed!=="right")bn=!1;else if(!bn&&Jn.fixed==="right"){Object(d.a)(!1,"Index ".concat(Yn+1," of `columns` missing `fixed='right'` prop."));break}}}function Le(De){return De.map(function(an){var Mn=an.fixed,xn=Object(D.a)(an,["fixed"]),bn=Mn;return Mn==="left"?bn="right":Mn==="right"&&(bn="left"),Object(w.a)({fixed:bn},xn)})}function Je(De,an){var Mn=De.prefixCls,xn=De.columns,bn=De.children,Yn=De.expandable,Jn=De.expandedKeys,$n=De.getRowKey,_n=De.onTriggerExpand,fr=De.expandIcon,sr=De.rowExpandable,vr=De.expandIconColumnIndex,pr=De.direction,Wr=De.expandRowByClick,Ur=De.columnWidth,Ii=n.useMemo(function(){return xn||pe(bn)},[xn,bn]),br=n.useMemo(function(){if(Yn){var ji,zi=vr||0,Ui=Ii[zi],ra=(ji={},Object(i.a)(ji,P,{className:"".concat(Mn,"-expand-icon-col")}),Object(i.a)(ji,"title",""),Object(i.a)(ji,"fixed",Ui?Ui.fixed:null),Object(i.a)(ji,"className","".concat(Mn,"-row-expand-icon-cell")),Object(i.a)(ji,"width",Ur),Object(i.a)(ji,"render",function(kr,er,Vi){var _a=$n(er,Vi),Si=Jn.has(_a),Yi=sr?sr(er):!0,ea=fr({prefixCls:Mn,expanded:Si,expandable:Yi,record:er,onExpand:_n});return Wr?n.createElement("span",{onClick:function($i){return $i.stopPropagation()}},ea):ea}),ji),da=Ii.slice();return zi>=0&&da.splice(zi,0,ra),da}return Ii},[Yn,Ii,$n,Jn,fr,pr]),hi=n.useMemo(function(){var ji=br;return an&&(ji=an(ji)),ji.length||(ji=[{render:function(){return null}}]),ji},[an,br,pr]),Vr=n.useMemo(function(){return pr==="rtl"?Le(me(hi)):me(hi)},[hi,pr]);return[hi,Vr]}var On=Je;function gn(De){var an=Object(n.useRef)(De),Mn=Object(n.useState)({}),xn=Object(b.a)(Mn,2),bn=xn[1],Yn=Object(n.useRef)(null),Jn=Object(n.useRef)([]);function $n(_n){Jn.current.push(_n);var fr=Promise.resolve();Yn.current=fr,fr.then(function(){if(Yn.current===fr){var sr=Jn.current,vr=an.current;Jn.current=[],sr.forEach(function(pr){an.current=pr(an.current)}),Yn.current=null,vr!==an.current&&bn({})}})}return Object(n.useEffect)(function(){return function(){Yn.current=null}},[]),[an.current,$n]}function Vn(De){var an=Object(n.useRef)(De||null),Mn=Object(n.useRef)();function xn(){window.clearTimeout(Mn.current)}function bn(Jn){an.current=Jn,xn(),Mn.current=window.setTimeout(function(){an.current=null,Mn.current=void 0},100)}function Yn(){return an.current}return Object(n.useEffect)(function(){return xn},[]),[bn,Yn]}function kn(De,an,Mn){var xn=Object(n.useMemo)(function(){for(var bn=[],Yn=[],Jn=0,$n=0,_n=0;_n<an;_n+=1)if(Mn==="rtl"){Yn[_n]=$n,$n+=De[_n]||0;var fr=an-_n-1;bn[fr]=Jn,Jn+=De[fr]||0}else{bn[_n]=Jn,Jn+=De[_n]||0;var sr=an-_n-1;Yn[sr]=$n,$n+=De[sr]||0}return{left:bn,right:Yn}},[De,an,Mn]);return xn}var Wn=kn;function Dn(De){var an=De.className,Mn=De.children;return n.createElement("div",{className:an},Mn)}var Nn=Dn;function Qn(De){var an=De.className,Mn=De.index,xn=De.children,bn=De.colSpan,Yn=De.rowSpan,Jn=De.align,$n=n.useContext(mt),_n=$n.prefixCls,fr=$n.fixedInfoList,sr=fr[Mn];return n.createElement(K,Object(t.a)({className:an,index:Mn,component:"td",prefixCls:_n,record:null,dataIndex:null,align:Jn,render:function(){return{children:xn,props:{colSpan:bn,rowSpan:Yn}}}},sr))}function ir(De){return n.createElement("tr",De)}function hr(De){var an=De.children,Mn=n.useContext(mt),xn=Mn.prefixCls;return n.createElement("tfoot",{className:"".concat(xn,"-summary")},an)}var Er=hr,mr={Cell:Qn,Row:ir};function dr(De){var an,Mn=De.prefixCls,xn=De.record,bn=De.onExpand,Yn=De.expanded,Jn=De.expandable,$n="".concat(Mn,"-row-expand-icon");if(!Jn)return n.createElement("span",{className:x()($n,"".concat(Mn,"-row-spaced"))});var _n=function(sr){bn(xn,sr),sr.stopPropagation()};return n.createElement("span",{className:x()($n,(an={},Object(i.a)(an,"".concat(Mn,"-row-expanded"),Yn),Object(i.a)(an,"".concat(Mn,"-row-collapsed"),!Yn),an)),onClick:_n})}function Br(De,an,Mn){var xn=[];function bn(Yn){(Yn||[]).forEach(function(Jn,$n){xn.push(an(Jn,$n)),bn(Jn[Mn])})}return bn(De),xn}var ii=E("zT1h"),mi=E("y0+3"),Pi=function(an,Mn){var xn,bn,Yn=an.scrollBodyRef,Jn=an.onScroll,$n=an.offsetScroll,_n=an.container,fr=n.useContext(mt),sr=fr.prefixCls,vr=((xn=Yn.current)===null||xn===void 0?void 0:xn.scrollWidth)||0,pr=((bn=Yn.current)===null||bn===void 0?void 0:bn.clientWidth)||0,Wr=vr&&pr*(pr/vr),Ur=n.useRef(),Ii=gn({scrollLeft:0,isHiddenScrollBar:!1}),br=Object(b.a)(Ii,2),hi=br[0],Vr=br[1],ji=n.useRef({delta:0,x:0}),zi=n.useState(!1),Ui=Object(b.a)(zi,2),ra=Ui[0],da=Ui[1],Di=function(){da(!1)},kr=function(Yi){Yi.persist(),ji.current.delta=Yi.pageX-hi.scrollLeft,ji.current.x=0,da(!0),Yi.preventDefault()},er=function(Yi){var ea,no=Yi||((ea=window)===null||ea===void 0?void 0:ea.event),$i=no.buttons;if(!ra||$i===0){ra&&da(!1);return}var Va=ji.current.x+Yi.pageX-ji.current.x-ji.current.delta;Va<=0&&(Va=0),Va+Wr>=pr&&(Va=pr-Wr),Jn({scrollLeft:Va/pr*(vr+2)}),ji.current.x=Yi.pageX},Vi=function(){var Yi=Object(mi.b)(Yn.current).top,ea=Yi+Yn.current.offsetHeight,no=_n===window?document.documentElement.scrollTop+window.innerHeight:Object(mi.b)(_n).top+_n.clientHeight;ea-Object(S.a)()<=no||Yi>=no-$n?Vr(function($i){return Object(w.a)(Object(w.a)({},$i),{},{isHiddenScrollBar:!0})}):Vr(function($i){return Object(w.a)(Object(w.a)({},$i),{},{isHiddenScrollBar:!1})})},_a=function(Yi){Vr(function(ea){return Object(w.a)(Object(w.a)({},ea),{},{scrollLeft:Yi/vr*pr||0})})};return n.useImperativeHandle(Mn,function(){return{setScrollLeft:_a}}),n.useEffect(function(){var Si=Object(ii.a)(document.body,"mouseup",Di,!1),Yi=Object(ii.a)(document.body,"mousemove",er,!1);return Vi(),function(){Si.remove(),Yi.remove()}},[Wr,ra]),n.useEffect(function(){var Si=Object(ii.a)(_n,"scroll",Vi,!1),Yi=Object(ii.a)(window,"resize",Vi,!1);return function(){Si.remove(),Yi.remove()}},[_n]),n.useEffect(function(){hi.isHiddenScrollBar||Vr(function(Si){var Yi,ea;return Object(w.a)(Object(w.a)({},Si),{},{scrollLeft:Yn.current.scrollLeft/((Yi=Yn.current)===null||Yi===void 0?void 0:Yi.scrollWidth)*((ea=Yn.current)===null||ea===void 0?void 0:ea.clientWidth)})})},[hi.isHiddenScrollBar]),vr<=pr||!Wr||hi.isHiddenScrollBar?null:n.createElement("div",{style:{height:Object(S.a)(),width:pr,bottom:$n},className:"".concat(sr,"-sticky-scroll")},n.createElement("div",{onMouseDown:kr,ref:Ur,className:x()("".concat(sr,"-sticky-scroll-bar"),Object(i.a)({},"".concat(sr,"-sticky-scroll-bar-active"),ra)),style:{width:"".concat(Wr,"px"),transform:"translate3d(".concat(hi.scrollLeft,"px, 0, 0)")}}))},sa=n.forwardRef(Pi),Pa=E("MNnm"),Mi=Object(Pa.a)()?window:null;function Ki(De,an){var Mn=Object(Y.a)(De)==="object"?De:{},xn=Mn.offsetHeader,bn=xn===void 0?0:xn,Yn=Mn.offsetScroll,Jn=Yn===void 0?0:Yn,$n=Mn.getContainer,_n=$n===void 0?function(){return Mi}:$n,fr=_n()||Mi;return n.useMemo(function(){var sr=!!De;return{isSticky:sr,stickyClassName:sr?"".concat(an,"-sticky-header"):"",offsetHeader:bn,offsetScroll:Jn,container:fr}},[Jn,bn,an,fr])}var fa=[],oa={},pa="rc-table-internal-hook",La=n.memo(function(De){var an=De.children;return an},function(De,an){return s()(De.props,an.props)?De.pingLeft!==an.pingLeft||De.pingRight!==an.pingRight:!1});function Yr(De){var an,Mn=De.prefixCls,xn=De.className,bn=De.rowClassName,Yn=De.style,Jn=De.data,$n=De.rowKey,_n=De.scroll,fr=De.tableLayout,sr=De.direction,vr=De.title,pr=De.footer,Wr=De.summary,Ur=De.id,Ii=De.showHeader,br=De.components,hi=De.emptyText,Vr=De.onRow,ji=De.onHeaderRow,zi=De.internalHooks,Ui=De.transformColumns,ra=De.internalRefs,da=De.sticky,Di=Jn||fa,kr=!!Di.length,er=n.useState(0),Vi=Object(b.a)(er,2),_a=Vi[0],Si=Vi[1];n.useEffect(function(){Si(Object(S.a)())});var Yi=n.useMemo(function(){return ct(br,{})},[br]),ea=n.useCallback(function(ba,qa){return dt(Yi,ba)||qa},[Yi]),no=n.useMemo(function(){return typeof $n=="function"?$n:function(ba){var qa=ba&&ba[$n];return qa}},[$n]),$i=Q(De),Va=$i.expandIcon,Ta=$i.expandedRowKeys,bo=$i.defaultExpandedRowKeys,Na=$i.defaultExpandAllRows,Fa=$i.expandedRowRender,ro=$i.onExpand,Sa=$i.onExpandedRowsChange,So=$i.expandRowByClick,Ua=$i.rowExpandable,Wa=$i.expandIconColumnIndex,ja=$i.expandedRowClassName,to=$i.childrenColumnName,fo=$i.indentSize,wa=Va||dr,gr=to||"children",Xo=n.useMemo(function(){return Fa?"row":De.expandable&&zi===pa&&De.expandable.__PARENT_RENDER_ICON__||Di.some(function(ba){return ba&&Object(Y.a)(ba)==="object"&&ba[gr]})?"nest":!1},[!!Fa,Di]),va=n.useState(function(){return bo||(Na?Br(Di,no,gr):[])}),Ya=Object(b.a)(va,2),Eo=Ya[0],No=Ya[1],Gn=n.useMemo(function(){return new Set(Ta||Eo||[])},[Ta,Eo]),se=n.useCallback(function(ba){var qa=no(ba,Di.indexOf(ba)),Po,Qo=Gn.has(qa);Qo?(Gn.delete(qa),Po=Object(I.a)(Gn)):Po=[].concat(Object(I.a)(Gn),[qa]),No(Po),ro&&ro(!Qo,ba),Sa&&Sa(Po)},[no,Gn,Di,ro,Sa]),Ia=n.useState(0),ho=Object(b.a)(Ia,2),Xa=ho[0],so=ho[1],Lo=On(Object(w.a)(Object(w.a)(Object(w.a)({},De),$i),{},{expandable:!!Fa,expandedKeys:Gn,getRowKey:no,onTriggerExpand:se,expandIcon:wa,expandIconColumnIndex:Wa,direction:sr}),zi===pa?Ui:null),zo=Object(b.a)(Lo,2),Jo=zo[0],uo=zo[1],Rn=n.useMemo(function(){return{columns:Jo,flattenColumns:uo}},[Jo,uo]),qo=n.useRef(),wo=n.useRef(),Ho=n.useRef(),ss=n.useState(!1),ts=Object(b.a)(ss,2),mo=ts[0],ia=ts[1],Bo=n.useState(!1),Io=Object(b.a)(Bo,2),Qa=Io[0],yo=Io[1],Co=gn(new Map),Do=Object(b.a)(Co,2),Da=Do[0],_o=Do[1],Ko=Z(uo),is=Ko.map(function(ba){return Da.get(ba)}),kt=n.useMemo(function(){return is},[is.join("_")]),v=Wn(kt,uo.length,sr),l=_n&&pt(_n.y),R=_n&&pt(_n.x),X=R&&uo.some(function(ba){var qa=ba.fixed;return qa}),ht=n.useRef(),At=Ki(da,Mn),Ut=At.isSticky,Yt=At.offsetHeader,qt=At.offsetScroll,oe=At.stickyClassName,Te=At.container,Ge,Ue,Ve;l&&(Ue={overflowY:"scroll",maxHeight:_n.y}),R&&(Ge={overflowX:"auto"},l||(Ue={overflowY:"hidden"}),Ve={width:_n.x===!0?"auto":_n.x,minWidth:"100%"});var vn=n.useCallback(function(ba,qa){Object(m.a)(qo.current)&&_o(function(Po){if(Po.get(ba)!==qa){var Qo=new Map(Po);return Qo.set(ba,qa),Qo}return Po})},[]),Tn=Vn(null),Ln=Object(b.a)(Tn,2),Un=Ln[0],Hn=Ln[1];function xr(ba,qa){!qa||(typeof qa=="function"?qa(ba):qa.scrollLeft!==ba&&(qa.scrollLeft=ba))}var Or=function(qa){var Po=qa.currentTarget,Qo=qa.scrollLeft,Nu=sr==="rtl",ds=typeof Qo=="number"?Qo:Po.scrollLeft,Lu=Po||oa;if(!Hn()||Hn()===Lu){var $s;Un(Lu),xr(ds,wo.current),xr(ds,Ho.current),xr(ds,($s=ht.current)===null||$s===void 0?void 0:$s.setScrollLeft)}if(Po){var _s=Po.scrollWidth,hu=Po.clientWidth;Nu?(ia(-ds<_s-hu),yo(-ds>0)):(ia(ds>0),yo(ds<_s-hu))}},Rr=function(){Ho.current&&Or({currentTarget:Ho.current})},yi=function(qa){var Po=qa.width;Rr(),so(qo.current?qo.current.offsetWidth:Po)};n.useEffect(function(){return Rr},[]),n.useEffect(function(){R&&Rr()},[R]),n.useEffect(function(){zi===pa&&ra&&(ra.body.current=Ho.current)});var Xi=ea(["table"],"table"),Zr=n.useMemo(function(){return fr||(X?_n.x==="max-content"?"auto":"fixed":l||Ut||uo.some(function(ba){var qa=ba.ellipsis;return qa})?"fixed":"auto")},[l,X,uo,fr,Ut]),ki,Ba={colWidths:kt,columCount:uo.length,stickyOffsets:v,onHeaderRow:ji,fixHeader:l},Ha=n.useMemo(function(){return kr?null:typeof hi=="function"?hi():hi},[kr,hi]),Ka=n.createElement(Ht,{data:Di,measureColumnWidth:l||R||Ut,expandedKeys:Gn,rowExpandable:Ua,getRowKey:no,onRow:Vr,emptyNode:Ha,childrenColumnName:gr}),Ja=n.createElement(y,{colWidths:uo.map(function(ba){var qa=ba.width;return qa}),columns:uo}),ya=Wr&&n.createElement(Er,null,Wr(Di)),Mo=ea(["body"]);if(l||Ut){var jo;typeof Mo=="function"?(jo=Mo(Di,{scrollbarSize:_a,ref:Ho,onScroll:Or}),Ba.colWidths=uo.map(function(ba,qa){var Po=ba.width,Qo=qa===Jo.length-1?Po-_a:Po;return typeof Qo=="number"&&!Number.isNaN(Qo)?Qo:(Object(d.a)(!1,"When use `components.body` with render props. Each column should have a fixed `width` value."),0)})):jo=n.createElement("div",{style:Object(w.a)(Object(w.a)({},Ge),Ue),onScroll:Or,ref:Ho,className:x()("".concat(Mn,"-body"))},n.createElement(Xi,{style:Object(w.a)(Object(w.a)({},Ve),{},{tableLayout:Zr})},Ja,Ka,ya)),ki=n.createElement(n.Fragment,null,Ii!==!1&&n.createElement(rt,Object(t.a)({noData:!Di.length},Ba,Rn,{direction:sr,offsetHeader:Yt,stickyClassName:oe,ref:wo,onScroll:Or})),jo,Ut&&n.createElement(sa,{ref:ht,offsetScroll:qt,scrollBodyRef:Ho,onScroll:Or,container:Te}))}else ki=n.createElement("div",{style:Object(w.a)(Object(w.a)({},Ge),Ue),className:x()("".concat(Mn,"-content")),onScroll:Or,ref:Ho},n.createElement(Xi,{style:Object(w.a)(Object(w.a)({},Ve),{},{tableLayout:Zr})},Ja,Ii!==!1&&n.createElement(_,Object(t.a)({},Ba,Rn)),Ka,ya));var Ro=k(De),Za=n.createElement("div",Object(t.a)({className:x()(Mn,xn,(an={},Object(i.a)(an,"".concat(Mn,"-rtl"),sr==="rtl"),Object(i.a)(an,"".concat(Mn,"-ping-left"),mo),Object(i.a)(an,"".concat(Mn,"-ping-right"),Qa),Object(i.a)(an,"".concat(Mn,"-layout-fixed"),fr==="fixed"),Object(i.a)(an,"".concat(Mn,"-fixed-header"),l),Object(i.a)(an,"".concat(Mn,"-fixed-column"),X),Object(i.a)(an,"".concat(Mn,"-scroll-horizontal"),R),Object(i.a)(an,"".concat(Mn,"-has-fix-left"),uo[0]&&uo[0].fixed),Object(i.a)(an,"".concat(Mn,"-has-fix-right"),uo[uo.length-1]&&uo[uo.length-1].fixed==="right"),an)),style:Yn,id:Ur,ref:qo},Ro),n.createElement(La,{pingLeft:mo,pingRight:Qa,props:Object(w.a)(Object(w.a)({},De),{},{stickyOffsets:v,mergedExpandedKeys:Gn})},vr&&n.createElement(Nn,{className:"".concat(Mn,"-title")},vr(Di)),n.createElement("div",{className:"".concat(Mn,"-container")},ki),pr&&n.createElement(Nn,{className:"".concat(Mn,"-footer")},pr(Di))));R&&(Za=n.createElement(C.a,{onResize:yi},Za));var Ao=n.useMemo(function(){return{prefixCls:Mn,getComponent:ea,scrollbarSize:_a,direction:sr,fixedInfoList:uo.map(function(ba,qa){return yt(qa,qa,uo,v,sr)}),isSticky:Ut}},[Mn,ea,_a,sr,uo,v,sr,Ut]),$a=n.useMemo(function(){return Object(w.a)(Object(w.a)({},Rn),{},{tableLayout:Zr,rowClassName:bn,expandedRowClassName:ja,componentWidth:Xa,fixHeader:l,fixColumn:X,horizonScroll:R,expandIcon:wa,expandableType:Xo,expandRowByClick:So,expandedRowRender:Fa,onTriggerExpand:se,expandIconColumnIndex:Wa,indentSize:fo})},[Rn,Zr,bn,ja,Xa,l,X,R,wa,Xo,So,Fa,se,Wa,fo]),ns=n.useMemo(function(){return{onColumnResize:vn}},[vn]);return n.createElement(mt.Provider,{value:Ao},n.createElement(ut.Provider,{value:$a},n.createElement(Dt.Provider,{value:ns},Za)))}Yr.Column=j,Yr.ColumnGroup=f,Yr.Summary=mr,Yr.defaultProps={rowKey:"key",prefixCls:"rc-table",emptyText:function(){return"No Data"}};var Ea=Yr,Pr=Ea,si=E("W9HT"),ti=E("1OyB"),$r=E("vuIU"),ui=E("Ji7U"),li=E("LK+K"),xi=function(an){var Mn,xn="".concat(an.rootPrefixCls,"-item"),bn=x()(xn,"".concat(xn,"-").concat(an.page),(Mn={},Object(i.a)(Mn,"".concat(xn,"-active"),an.active),Object(i.a)(Mn,an.className,!!an.className),Object(i.a)(Mn,"".concat(xn,"-disabled"),!an.page),Mn)),Yn=function(){an.onClick(an.page)},Jn=function(_n){an.onKeyPress(_n,an.onClick,an.page)};return u.a.createElement("li",{title:an.showTitle?an.page:null,className:bn,onClick:Yn,onKeyPress:Jn,tabIndex:"0"},an.itemRender(an.page,"page",u.a.createElement("a",{rel:"nofollow"},an.page)))},Ci=xi,di={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},Ti=function(De){Object(ui.a)(Mn,De);var an=Object(li.a)(Mn);function Mn(){var xn;Object(ti.a)(this,Mn);for(var bn=arguments.length,Yn=new Array(bn),Jn=0;Jn<bn;Jn++)Yn[Jn]=arguments[Jn];return xn=an.call.apply(an,[this].concat(Yn)),xn.state={goInputText:""},xn.buildOptionText=function($n){return"".concat($n," ").concat(xn.props.locale.items_per_page)},xn.changeSize=function($n){xn.props.changeSize(Number($n))},xn.handleChange=function($n){xn.setState({goInputText:$n.target.value})},xn.handleBlur=function($n){var _n=xn.props,fr=_n.goButton,sr=_n.quickGo,vr=_n.rootPrefixCls,pr=xn.state.goInputText;fr||pr===""||$n.relatedTarget&&($n.relatedTarget.className.indexOf("".concat(vr,"-prev"))>=0||$n.relatedTarget.className.indexOf("".concat(vr,"-next"))>=0)||(xn.setState({goInputText:""}),sr(xn.getValidValue()))},xn.go=function($n){var _n=xn.state.goInputText;_n!==""&&($n.keyCode===di.ENTER||$n.type==="click")&&(xn.setState({goInputText:""}),xn.props.quickGo(xn.getValidValue()))},xn}return Object($r.a)(Mn,[{key:"getValidValue",value:function(){var bn=this.state.goInputText;return!bn||isNaN(bn)?void 0:Number(bn)}},{key:"getPageSizeOptions",value:function(){var bn=this.props,Yn=bn.pageSize,Jn=bn.pageSizeOptions;return Jn.some(function($n){return $n.toString()===Yn.toString()})?Jn:Jn.concat([Yn.toString()]).sort(function($n,_n){var fr=isNaN(Number($n))?0:Number($n),sr=isNaN(Number(_n))?0:Number(_n);return fr-sr})}},{key:"render",value:function(){var bn=this,Yn=this.props,Jn=Yn.pageSize,$n=Yn.locale,_n=Yn.rootPrefixCls,fr=Yn.changeSize,sr=Yn.quickGo,vr=Yn.goButton,pr=Yn.selectComponentClass,Wr=Yn.buildOptionText,Ur=Yn.selectPrefixCls,Ii=Yn.disabled,br=this.state.goInputText,hi="".concat(_n,"-options"),Vr=pr,ji=null,zi=null,Ui=null;if(!fr&&!sr)return null;var ra=this.getPageSizeOptions();if(fr&&Vr){var da=ra.map(function(Di,kr){return u.a.createElement(Vr.Option,{key:kr,value:Di.toString()},(Wr||bn.buildOptionText)(Di))});ji=u.a.createElement(Vr,{disabled:Ii,prefixCls:Ur,showSearch:!1,className:"".concat(hi,"-size-changer"),optionLabelProp:"children",dropdownMatchSelectWidth:!1,value:(Jn||ra[0]).toString(),onChange:this.changeSize,getPopupContainer:function(kr){return kr.parentNode}},da)}return sr&&(vr&&(Ui=typeof vr=="boolean"?u.a.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:Ii,className:"".concat(hi,"-quick-jumper-button")},$n.jump_to_confirm):u.a.createElement("span",{onClick:this.go,onKeyUp:this.go},vr)),zi=u.a.createElement("div",{className:"".concat(hi,"-quick-jumper")},$n.jump_to,u.a.createElement("input",{disabled:Ii,type:"text",value:br,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur}),$n.page,Ui)),u.a.createElement("li",{className:"".concat(hi)},ji,zi)}}]),Mn}(u.a.Component);Ti.defaultProps={pageSizeOptions:["10","20","50","100"]};var pi=Ti,Ni=E("N2Kk");function Bi(){}function Fi(De){return typeof De=="number"&&isFinite(De)&&Math.floor(De)===De}function ma(De,an,Mn){return Mn}function ua(De,an,Mn){var xn=typeof De=="undefined"?an.pageSize:De;return Math.floor((Mn.total-1)/xn)+1}var Ra=function(De){Object(ui.a)(Mn,De);var an=Object(li.a)(Mn);function Mn(xn){var bn;Object(ti.a)(this,Mn),bn=an.call(this,xn),bn.getJumpPrevPage=function(){return Math.max(1,bn.state.current-(bn.props.showLessItems?3:5))},bn.getJumpNextPage=function(){return Math.min(ua(void 0,bn.state,bn.props),bn.state.current+(bn.props.showLessItems?3:5))},bn.getItemIcon=function(fr,sr){var vr=bn.props.prefixCls,pr=fr||u.a.createElement("button",{type:"button","aria-label":sr,className:"".concat(vr,"-item-link")});return typeof fr=="function"&&(pr=u.a.createElement(fr,Object(w.a)({},bn.props))),pr},bn.savePaginationNode=function(fr){bn.paginationNode=fr},bn.isValid=function(fr){return Fi(fr)&&fr!==bn.state.current},bn.shouldDisplayQuickJumper=function(){var fr=bn.props,sr=fr.showQuickJumper,vr=fr.pageSize,pr=fr.total;return pr<=vr?!1:sr},bn.handleKeyDown=function(fr){(fr.keyCode===di.ARROW_UP||fr.keyCode===di.ARROW_DOWN)&&fr.preventDefault()},bn.handleKeyUp=function(fr){var sr=bn.getValidValue(fr),vr=bn.state.currentInputValue;sr!==vr&&bn.setState({currentInputValue:sr}),fr.keyCode===di.ENTER?bn.handleChange(sr):fr.keyCode===di.ARROW_UP?bn.handleChange(sr-1):fr.keyCode===di.ARROW_DOWN&&bn.handleChange(sr+1)},bn.changePageSize=function(fr){var sr=bn.state.current,vr=ua(fr,bn.state,bn.props);sr=sr>vr?vr:sr,vr===0&&(sr=bn.state.current),typeof fr=="number"&&("pageSize"in bn.props||bn.setState({pageSize:fr}),"current"in bn.props||bn.setState({current:sr,currentInputValue:sr})),bn.props.onShowSizeChange(sr,fr),"onChange"in bn.props&&bn.props.onChange&&bn.props.onChange(sr,fr)},bn.handleChange=function(fr){var sr=bn.props.disabled,vr=fr;if(bn.isValid(vr)&&!sr){var pr=ua(void 0,bn.state,bn.props);vr>pr?vr=pr:vr<1&&(vr=1),"current"in bn.props||bn.setState({current:vr,currentInputValue:vr});var Wr=bn.state.pageSize;return bn.props.onChange(vr,Wr),vr}return bn.state.current},bn.prev=function(){bn.hasPrev()&&bn.handleChange(bn.state.current-1)},bn.next=function(){bn.hasNext()&&bn.handleChange(bn.state.current+1)},bn.jumpPrev=function(){bn.handleChange(bn.getJumpPrevPage())},bn.jumpNext=function(){bn.handleChange(bn.getJumpNextPage())},bn.hasPrev=function(){return bn.state.current>1},bn.hasNext=function(){return bn.state.current<ua(void 0,bn.state,bn.props)},bn.runIfEnter=function(fr,sr){if(fr.key==="Enter"||fr.charCode===13){for(var vr=arguments.length,pr=new Array(vr>2?vr-2:0),Wr=2;Wr<vr;Wr++)pr[Wr-2]=arguments[Wr];sr.apply(void 0,pr)}},bn.runIfEnterPrev=function(fr){bn.runIfEnter(fr,bn.prev)},bn.runIfEnterNext=function(fr){bn.runIfEnter(fr,bn.next)},bn.runIfEnterJumpPrev=function(fr){bn.runIfEnter(fr,bn.jumpPrev)},bn.runIfEnterJumpNext=function(fr){bn.runIfEnter(fr,bn.jumpNext)},bn.handleGoTO=function(fr){(fr.keyCode===di.ENTER||fr.type==="click")&&bn.handleChange(bn.state.currentInputValue)};var Yn=xn.onChange!==Bi,Jn="current"in xn;Jn&&!Yn&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var $n=xn.defaultCurrent;"current"in xn&&($n=xn.current);var _n=xn.defaultPageSize;return"pageSize"in xn&&(_n=xn.pageSize),$n=Math.min($n,ua(_n,void 0,xn)),bn.state={current:$n,currentInputValue:$n,pageSize:_n},bn}return Object($r.a)(Mn,[{key:"componentDidUpdate",value:function(bn,Yn){var Jn=this.props.prefixCls;if(Yn.current!==this.state.current&&this.paginationNode){var $n=this.paginationNode.querySelector(".".concat(Jn,"-item-").concat(Yn.current));$n&&document.activeElement===$n&&$n.blur()}}},{key:"getValidValue",value:function(bn){var Yn=bn.target.value,Jn=ua(void 0,this.state,this.props),$n=this.state.currentInputValue,_n;return Yn===""?_n=Yn:isNaN(Number(Yn))?_n=$n:Yn>=Jn?_n=Jn:_n=Number(Yn),_n}},{key:"getShowSizeChanger",value:function(){var bn=this.props,Yn=bn.showSizeChanger,Jn=bn.total,$n=bn.totalBoundaryShowSizeChanger;return typeof Yn!="undefined"?Yn:Jn>$n}},{key:"renderPrev",value:function(bn){var Yn=this.props,Jn=Yn.prevIcon,$n=Yn.itemRender,_n=$n(bn,"prev",this.getItemIcon(Jn,"prev page")),fr=!this.hasPrev();return Object(n.isValidElement)(_n)?Object(n.cloneElement)(_n,{disabled:fr}):_n}},{key:"renderNext",value:function(bn){var Yn=this.props,Jn=Yn.nextIcon,$n=Yn.itemRender,_n=$n(bn,"next",this.getItemIcon(Jn,"next page")),fr=!this.hasNext();return Object(n.isValidElement)(_n)?Object(n.cloneElement)(_n,{disabled:fr}):_n}},{key:"render",value:function(){var bn=this,Yn=this.props,Jn=Yn.prefixCls,$n=Yn.className,_n=Yn.style,fr=Yn.disabled,sr=Yn.hideOnSinglePage,vr=Yn.total,pr=Yn.locale,Wr=Yn.showQuickJumper,Ur=Yn.showLessItems,Ii=Yn.showTitle,br=Yn.showTotal,hi=Yn.simple,Vr=Yn.itemRender,ji=Yn.showPrevNextJumpers,zi=Yn.jumpPrevIcon,Ui=Yn.jumpNextIcon,ra=Yn.selectComponentClass,da=Yn.selectPrefixCls,Di=Yn.pageSizeOptions,kr=this.state,er=kr.current,Vi=kr.pageSize,_a=kr.currentInputValue;if(sr===!0&&vr<=Vi)return null;var Si=ua(void 0,this.state,this.props),Yi=[],ea=null,no=null,$i=null,Va=null,Ta=null,bo=Wr&&Wr.goButton,Na=Ur?1:2,Fa=er-1>0?er-1:0,ro=er+1<Si?er+1:Si,Sa=Object.keys(this.props).reduce(function(No,Gn){return(Gn.substr(0,5)==="data-"||Gn.substr(0,5)==="aria-"||Gn==="role")&&(No[Gn]=bn.props[Gn]),No},{});if(hi)return bo&&(typeof bo=="boolean"?Ta=u.a.createElement("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO},pr.jump_to_confirm):Ta=u.a.createElement("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO},bo),Ta=u.a.createElement("li",{title:Ii?"".concat(pr.jump_to).concat(er,"/").concat(Si):null,className:"".concat(Jn,"-simple-pager")},Ta)),u.a.createElement("ul",Object(t.a)({className:x()(Jn,"".concat(Jn,"-simple"),Object(i.a)({},"".concat(Jn,"-disabled"),fr),$n),style:_n,ref:this.savePaginationNode},Sa),u.a.createElement("li",{title:Ii?pr.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:x()("".concat(Jn,"-prev"),Object(i.a)({},"".concat(Jn,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev()},this.renderPrev(Fa)),u.a.createElement("li",{title:Ii?"".concat(er,"/").concat(Si):null,className:"".concat(Jn,"-simple-pager")},u.a.createElement("input",{type:"text",value:_a,disabled:fr,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,size:"3"}),u.a.createElement("span",{className:"".concat(Jn,"-slash")},"/"),Si),u.a.createElement("li",{title:Ii?pr.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:x()("".concat(Jn,"-next"),Object(i.a)({},"".concat(Jn,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext()},this.renderNext(ro)),Ta);if(Si<=3+Na*2){var So={locale:pr,rootPrefixCls:Jn,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:Ii,itemRender:Vr};Si||Yi.push(u.a.createElement(Ci,Object(t.a)({},So,{key:"noPager",page:Si,className:"".concat(Jn,"-disabled")})));for(var Ua=1;Ua<=Si;Ua+=1){var Wa=er===Ua;Yi.push(u.a.createElement(Ci,Object(t.a)({},So,{key:Ua,page:Ua,active:Wa})))}}else{var ja=Ur?pr.prev_3:pr.prev_5,to=Ur?pr.next_3:pr.next_5;ji&&(ea=u.a.createElement("li",{title:Ii?ja:null,key:"prev",onClick:this.jumpPrev,tabIndex:"0",onKeyPress:this.runIfEnterJumpPrev,className:x()("".concat(Jn,"-jump-prev"),Object(i.a)({},"".concat(Jn,"-jump-prev-custom-icon"),!!zi))},Vr(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(zi,"prev page"))),no=u.a.createElement("li",{title:Ii?to:null,key:"next",tabIndex:"0",onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:x()("".concat(Jn,"-jump-next"),Object(i.a)({},"".concat(Jn,"-jump-next-custom-icon"),!!Ui))},Vr(this.getJumpNextPage(),"jump-next",this.getItemIcon(Ui,"next page")))),Va=u.a.createElement(Ci,{locale:pr,last:!0,rootPrefixCls:Jn,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:Si,page:Si,active:!1,showTitle:Ii,itemRender:Vr}),$i=u.a.createElement(Ci,{locale:pr,rootPrefixCls:Jn,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:1,page:1,active:!1,showTitle:Ii,itemRender:Vr});var fo=Math.max(1,er-Na),wa=Math.min(er+Na,Si);er-1<=Na&&(wa=1+Na*2),Si-er<=Na&&(fo=Si-Na*2);for(var gr=fo;gr<=wa;gr+=1){var Xo=er===gr;Yi.push(u.a.createElement(Ci,{locale:pr,rootPrefixCls:Jn,onClick:this.handleChange,onKeyPress:this.runIfEnter,key:gr,page:gr,active:Xo,showTitle:Ii,itemRender:Vr}))}er-1>=Na*2&&er!==1+2&&(Yi[0]=Object(n.cloneElement)(Yi[0],{className:"".concat(Jn,"-item-after-jump-prev")}),Yi.unshift(ea)),Si-er>=Na*2&&er!==Si-2&&(Yi[Yi.length-1]=Object(n.cloneElement)(Yi[Yi.length-1],{className:"".concat(Jn,"-item-before-jump-next")}),Yi.push(no)),fo!==1&&Yi.unshift($i),wa!==Si&&Yi.push(Va)}var va=null;br&&(va=u.a.createElement("li",{className:"".concat(Jn,"-total-text")},br(vr,[vr===0?0:(er-1)*Vi+1,er*Vi>vr?vr:er*Vi])));var Ya=!this.hasPrev()||!Si,Eo=!this.hasNext()||!Si;return u.a.createElement("ul",Object(t.a)({className:x()(Jn,$n,Object(i.a)({},"".concat(Jn,"-disabled"),fr)),style:_n,unselectable:"unselectable",ref:this.savePaginationNode},Sa),va,u.a.createElement("li",{title:Ii?pr.prev_page:null,onClick:this.prev,tabIndex:Ya?null:0,onKeyPress:this.runIfEnterPrev,className:x()("".concat(Jn,"-prev"),Object(i.a)({},"".concat(Jn,"-disabled"),Ya)),"aria-disabled":Ya},this.renderPrev(Fa)),Yi,u.a.createElement("li",{title:Ii?pr.next_page:null,onClick:this.next,tabIndex:Eo?null:0,onKeyPress:this.runIfEnterNext,className:x()("".concat(Jn,"-next"),Object(i.a)({},"".concat(Jn,"-disabled"),Eo)),"aria-disabled":Eo},this.renderNext(ro)),u.a.createElement(pi,{disabled:fr,locale:pr,rootPrefixCls:Jn,selectComponentClass:ra,selectPrefixCls:da,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:er,pageSize:Vi,pageSizeOptions:Di,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:bo}))}}],[{key:"getDerivedStateFromProps",value:function(bn,Yn){var Jn={};if("current"in bn&&(Jn.current=bn.current,bn.current!==Yn.current&&(Jn.currentInputValue=Jn.current)),"pageSize"in bn&&bn.pageSize!==Yn.pageSize){var $n=Yn.current,_n=ua(bn.pageSize,Yn,bn);$n=$n>_n?_n:$n,"current"in bn||(Jn.current=$n,Jn.currentInputValue=$n),Jn.pageSize=bn.pageSize}return Jn}}]),Mn}(u.a.Component);Ra.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:Bi,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:Bi,locale:Ni.a,style:{},itemRender:ma,totalBoundaryShowSizeChanger:50};var xa=Ra,Ma=E("H4fg"),Qi=E("5bA4"),ka=E("UESt"),vo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"},za=vo,Ga=E("6VBw"),eo=function(an,Mn){return n.createElement(Ga.a,Object.assign({},an,{ref:Mn,icon:za}))};eo.displayName="DoubleLeftOutlined";var ae=n.forwardRef(eo),Kt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"},te=Kt,Oe=function(an,Mn){return n.createElement(Ga.a,Object.assign({},an,{ref:Mn,icon:te}))};Oe.displayName="DoubleRightOutlined";var Ze=n.forwardRef(Oe),An=E("2fM7"),qn=function(an){return n.createElement(An.a,Object(t.a)({size:"small"},an))};qn.Option=An.a.Option;var rr=qn,tn=E("YMnH"),sn=E("H84U"),un=E("5OYt"),ur=function(De,an){var Mn={};for(var xn in De)Object.prototype.hasOwnProperty.call(De,xn)&&an.indexOf(xn)<0&&(Mn[xn]=De[xn]);if(De!=null&&typeof Object.getOwnPropertySymbols=="function")for(var bn=0,xn=Object.getOwnPropertySymbols(De);bn<xn.length;bn++)an.indexOf(xn[bn])<0&&Object.prototype.propertyIsEnumerable.call(De,xn[bn])&&(Mn[xn[bn]]=De[xn[bn]]);return Mn},jr=function(an){var Mn=an.prefixCls,xn=an.selectPrefixCls,bn=an.className,Yn=an.size,Jn=an.locale,$n=ur(an,["prefixCls","selectPrefixCls","className","size","locale"]),_n=Object(un.a)(),fr=_n.xs,sr=n.useContext(sn.b),vr=sr.getPrefixCls,pr=sr.direction,Wr=vr("pagination",Mn),Ur=function(){var hi=n.createElement("span",{className:"".concat(Wr,"-item-ellipsis")},"\u2022\u2022\u2022"),Vr=n.createElement("button",{className:"".concat(Wr,"-item-link"),type:"button",tabIndex:-1},n.createElement(Qi.a,null)),ji=n.createElement("button",{className:"".concat(Wr,"-item-link"),type:"button",tabIndex:-1},n.createElement(ka.a,null)),zi=n.createElement("a",{className:"".concat(Wr,"-item-link")},n.createElement("div",{className:"".concat(Wr,"-item-container")},n.createElement(ae,{className:"".concat(Wr,"-item-link-icon")}),hi)),Ui=n.createElement("a",{className:"".concat(Wr,"-item-link")},n.createElement("div",{className:"".concat(Wr,"-item-container")},n.createElement(Ze,{className:"".concat(Wr,"-item-link-icon")}),hi));if(pr==="rtl"){var ra=[ji,Vr];Vr=ra[0],ji=ra[1];var da=[Ui,zi];zi=da[0],Ui=da[1]}return{prevIcon:Vr,nextIcon:ji,jumpPrevIcon:zi,jumpNextIcon:Ui}},Ii=function(hi){var Vr=Object(t.a)(Object(t.a)({},hi),Jn),ji=Yn==="small"||!!(fr&&!Yn&&$n.responsive),zi=vr("select",xn),Ui=x()(Object(i.a)({mini:ji},"".concat(Wr,"-rtl"),pr==="rtl"),bn);return n.createElement(xa,Object(t.a)({},$n,{prefixCls:Wr,selectPrefixCls:zi},Ur(),{className:Ui,selectComponentClass:ji?rr:An.a,locale:Vr}))};return n.createElement(tn.a,{componentName:"Pagination",defaultLocale:Ma.a},Ii)},wr=jr,yr=wr,ni=function(De,an){var Mn={};for(var xn in De)Object.prototype.hasOwnProperty.call(De,xn)&&an.indexOf(xn)<0&&(Mn[xn]=De[xn]);if(De!=null&&typeof Object.getOwnPropertySymbols=="function")for(var bn=0,xn=Object.getOwnPropertySymbols(De);bn<xn.length;bn++)an.indexOf(xn[bn])<0&&Object.prototype.propertyIsEnumerable.call(De,xn[bn])&&(Mn[xn[bn]]=De[xn[bn]]);return Mn},_r=10;function Fr(De,an){var Mn={current:an.current,pageSize:an.pageSize},xn=De&&Object(Y.a)(De)==="object"?De:{};return Object.keys(xn).forEach(function(bn){var Yn=an[bn];typeof Yn!="function"&&(Mn[bn]=Yn)}),Mn}function Lr(){for(var De={},an=arguments.length,Mn=new Array(an),xn=0;xn<an;xn++)Mn[xn]=arguments[xn];return Mn.forEach(function(bn){bn&&Object.keys(bn).forEach(function(Yn){var Jn=bn[Yn];Jn!==void 0&&(De[Yn]=Jn)})}),De}function Gr(De,an,Mn){var xn=an&&Object(Y.a)(an)==="object"?an:{},bn=xn.total,Yn=bn===void 0?0:bn,Jn=ni(xn,["total"]),$n=Object(n.useState)(function(){return{current:"defaultCurrent"in Jn?Jn.defaultCurrent:1,pageSize:"defaultPageSize"in Jn?Jn.defaultPageSize:_r}}),_n=Object(b.a)($n,2),fr=_n[0],sr=_n[1],vr=Lr(fr,Jn,{total:Yn>0?Yn:De});if(!Yn){var pr=Math.ceil(De/vr.pageSize);pr<vr.current&&(vr.current=1)}var Wr=function(){var br=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,hi=arguments.length>1?arguments[1]:void 0;sr({current:br,pageSize:hi||vr.pageSize})},Ur=function(br,hi){var Vr=vr==null?void 0:vr.pageSize;hi&&hi!==Vr&&(br=1),an&&an.onChange&&an.onChange(br,hi),Wr(br,hi),Mn(br,hi||Vr)};return an===!1?[{},function(){}]:[Object(t.a)(Object(t.a)({},vr),{onChange:Ur}),Wr]}function Hr(De,an,Mn){var xn=n.useRef({});function bn(Yn){if(!xn.current||xn.current.data!==De||xn.current.childrenColumnName!==an||xn.current.getRowKey!==Mn){var Jn=function _n(fr){fr.forEach(function(sr,vr){var pr=Mn(sr,vr);$n.set(pr,sr),sr&&Object(Y.a)(sr)==="object"&&an in sr&&_n(sr[an]||[])})},$n=new Map;Jn(De),xn.current={data:De,childrenColumnName:an,kvMap:$n,getRowKey:Mn}}return xn.current.kvMap.get(Yn)}return[bn]}var ei=E("T5bk"),Kr=E("8Skl"),Qr=E("815F"),Oi=E("NvD2"),Ri=E("OZM5"),Ei=E("6cGi"),Gi=E("kaz8"),ca=E("jsC+"),ha=E("BvKs"),na=E("9yH6"),Zi=E("uaoM"),ve="SELECT_ALL",U="SELECT_INVERT",G="SELECT_NONE";function nt(De){return De&&De.fixed}function vt(De,an){var Mn=[];return(De||[]).forEach(function(xn){Mn.push(xn),xn&&Object(Y.a)(xn)==="object"&&an in xn&&(Mn=[].concat(Object(I.a)(Mn),Object(I.a)(vt(xn[an],an))))}),Mn}function Gt(De,an){var Mn=De||{},xn=Mn.preserveSelectedRowKeys,bn=Mn.selectedRowKeys,Yn=Mn.getCheckboxProps,Jn=Mn.onChange,$n=Mn.onSelect,_n=Mn.onSelectAll,fr=Mn.onSelectInvert,sr=Mn.onSelectNone,vr=Mn.onSelectMultiple,pr=Mn.columnWidth,Wr=Mn.type,Ur=Mn.selections,Ii=Mn.fixed,br=Mn.renderCell,hi=Mn.hideSelectAll,Vr=Mn.checkStrictly,ji=Vr===void 0?!0:Vr,zi=an.prefixCls,Ui=an.data,ra=an.pageData,da=an.getRecordByKey,Di=an.getRowKey,kr=an.expandType,er=an.childrenColumnName,Vi=an.locale,_a=an.expandIconColumnIndex,Si=an.getPopupContainer,Yi=n.useRef(new Map),ea=Object(Ei.a)(bn||[],{value:bn}),no=Object(b.a)(ea,2),$i=no[0],Va=no[1],Ta=Object(n.useMemo)(function(){return ji?{keyEntities:null}:Object(Qr.a)(Ui,{externalGetKey:Di,childrenPropName:er})},[Ui,Di,ji,er]),bo=Ta.keyEntities,Na=Object(n.useMemo)(function(){return vt(ra,er)},[ra,er]),Fa=Object(n.useMemo)(function(){var Gn=new Map;return Na.forEach(function(se,Ia){var ho=Di(se,Ia),Xa=(Yn?Yn(se):null)||{};Gn.set(ho,Xa)}),Gn},[Na,Di,Yn]),ro=Object(n.useCallback)(function(Gn){var se;return!!((se=Fa.get(Di(Gn)))===null||se===void 0?void 0:se.disabled)},[Fa,Di]),Sa=Object(n.useMemo)(function(){if(ji)return[$i||[],[]];var Gn=Object(Oi.a)($i,!0,bo,ro),se=Gn.checkedKeys,Ia=Gn.halfCheckedKeys;return[se||[],Ia]},[$i,ji,bo,ro]),So=Object(b.a)(Sa,2),Ua=So[0],Wa=So[1],ja=Object(n.useMemo)(function(){var Gn=Wr==="radio"?Ua.slice(0,1):Ua;return new Set(Gn)},[Ua,Wr]),to=Object(n.useMemo)(function(){return Wr==="radio"?new Set:new Set(Wa)},[Wa,Wr]),fo=Object(n.useState)(null),wa=Object(b.a)(fo,2),gr=wa[0],Xo=wa[1];n.useEffect(function(){De||Va([])},[!!De]);var va=Object(n.useCallback)(function(Gn){var se,Ia;if(xn){var ho=new Map;se=Gn,Ia=Gn.map(function(Xa){var so=da(Xa);return!so&&Yi.current.has(Xa)&&(so=Yi.current.get(Xa)),ho.set(Xa,so),so}),Yi.current=ho}else se=[],Ia=[],Gn.forEach(function(Xa){var so=da(Xa);so!==void 0&&(se.push(Xa),Ia.push(so))});Va(se),Jn&&Jn(se,Ia)},[Va,da,Jn,xn]),Ya=Object(n.useCallback)(function(Gn,se,Ia,ho){if($n){var Xa=Ia.map(function(so){return da(so)});$n(da(Gn),se,Xa,ho)}va(Ia)},[$n,da,va]),Eo=Object(n.useMemo)(function(){if(!Ur||hi)return null;var Gn=Ur===!0?[ve,U,G]:Ur;return Gn.map(function(se){return se===ve?{key:"all",text:Vi.selectionAll,onSelect:function(){va(Ui.map(function(ho,Xa){return Di(ho,Xa)}))}}:se===U?{key:"invert",text:Vi.selectInvert,onSelect:function(){var ho=new Set(ja);ra.forEach(function(so,Lo){var zo=Di(so,Lo);ho.has(zo)?ho.delete(zo):ho.add(zo)});var Xa=Array.from(ho);va(Xa),fr&&(Object(Zi.a)(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),fr(Xa))}}:se===G?{key:"none",text:Vi.selectNone,onSelect:function(){va([]),sr&&sr()}}:se})},[Ur,ja,ra,Di,fr,va]),No=Object(n.useCallback)(function(Gn){if(!De)return Gn;var se=new Set(ja),Ia=Na.map(Di).filter(function(ia){return!Fa.get(ia).disabled}),ho=Ia.every(function(ia){return se.has(ia)}),Xa=Ia.some(function(ia){return se.has(ia)}),so=function(){var Bo=[];ho?Ia.forEach(function(Qa){se.delete(Qa),Bo.push(Qa)}):Ia.forEach(function(Qa){se.has(Qa)||(se.add(Qa),Bo.push(Qa))});var Io=Array.from(se);va(Io),_n&&_n(!ho,Io.map(function(Qa){return da(Qa)}),Bo.map(function(Qa){return da(Qa)}))},Lo;if(Wr!=="radio"){var zo;if(Eo){var Jo=n.createElement(ha.a,{getPopupContainer:Si},Eo.map(function(ia,Bo){var Io=ia.key,Qa=ia.text,yo=ia.onSelect;return n.createElement(ha.a.Item,{key:Io||Bo,onClick:function(){yo&&yo(Ia)}},Qa)}));zo=n.createElement("div",{className:"".concat(zi,"-selection-extra")},n.createElement(ca.a,{overlay:Jo,getPopupContainer:Si},n.createElement("span",null,n.createElement(Kr.a,null))))}var uo=Na.every(function(ia,Bo){var Io=Di(ia,Bo),Qa=Fa.get(Io)||{};return Qa.disabled});Lo=!hi&&n.createElement("div",{className:"".concat(zi,"-selection")},n.createElement(Gi.a,{checked:!uo&&!!Na.length&&ho,indeterminate:!ho&&Xa,onChange:so,disabled:Na.length===0||uo,skipGroup:!0}),zo)}var Rn;Wr==="radio"?Rn=function(Bo,Io,Qa){var yo=Di(Io,Qa),Co=se.has(yo);return{node:n.createElement(na.a,Object(t.a)({},Fa.get(yo),{checked:Co,onClick:function(Da){return Da.stopPropagation()},onChange:function(Da){se.has(yo)||Ya(yo,!0,[yo],Da.nativeEvent)}})),checked:Co}}:Rn=function(Bo,Io,Qa){var yo,Co=Di(Io,Qa),Do=se.has(Co),Da=to.has(Co),_o=Fa.get(Co),Ko;return kr==="nest"?(Ko=Da,Object(Zi.a)(typeof(_o==null?void 0:_o.indeterminate)!="boolean","Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.")):Ko=(yo=_o==null?void 0:_o.indeterminate)!==null&&yo!==void 0?yo:Da,{node:n.createElement(Gi.a,Object(t.a)({},_o,{indeterminate:Ko,checked:Do,skipGroup:!0,onClick:function(kt){return kt.stopPropagation()},onChange:function(kt){var v=kt.nativeEvent,l=v.shiftKey,R=-1,X=-1;if(l&&ji){var ht=new Set([gr,Co]);Ia.some(function(Tn,Ln){if(ht.has(Tn))if(R===-1)R=Ln;else return X=Ln,!0;return!1})}if(X!==-1&&R!==X&&ji){var At=Ia.slice(R,X+1),Ut=[];Do?At.forEach(function(Tn){se.has(Tn)&&(Ut.push(Tn),se.delete(Tn))}):At.forEach(function(Tn){se.has(Tn)||(Ut.push(Tn),se.add(Tn))});var Yt=Array.from(se);va(Yt),vr&&vr(!Do,Yt.map(function(Tn){return da(Tn)}),Ut.map(function(Tn){return da(Tn)}))}else{var qt=Ua;if(ji){var oe=Do?Object(Ri.b)(qt,Co):Object(Ri.a)(qt,Co);Ya(Co,!Do,oe,v)}else{var Te=Object(Oi.a)([].concat(Object(I.a)(qt),[Co]),!0,bo,ro),Ge=Te.checkedKeys,Ue=Te.halfCheckedKeys,Ve=Ge;if(Do){var vn=new Set(Ge);vn.delete(Co),Ve=Object(Oi.a)(Array.from(vn),{checked:!1,halfCheckedKeys:Ue},bo,ro).checkedKeys}Ya(Co,!Do,Ve,v)}}Xo(Co)}})),checked:Do}};var qo=function(Bo,Io,Qa){var yo=Rn(Bo,Io,Qa),Co=yo.node,Do=yo.checked;return br?br(Do,Io,Qa,Co):Co},wo=Object(i.a)({width:pr,className:"".concat(zi,"-selection-column"),title:De.columnTitle||Lo,render:qo},P,{className:"".concat(zi,"-selection-col")});if(kr==="row"&&Gn.length&&!_a){var Ho=Object(ei.a)(Gn),ss=Ho[0],ts=Ho.slice(1),mo=Ii||nt(ts[0]);return mo&&(ss.fixed=mo),[ss,Object(t.a)(Object(t.a)({},wo),{fixed:mo})].concat(Object(I.a)(ts))}return[Object(t.a)(Object(t.a)({},wo),{fixed:Ii||nt(Gn[0])})].concat(Object(I.a)(Gn))},[Di,Na,De,Ua,ja,to,pr,Eo,kr,gr,Fa,vr,Ya,ro]);return[No,ja]}var Jt=E("0NbB"),ie=E("ek7X"),ue=E("3S7+");function Ce(De,an){return"key"in De&&De.key!==void 0&&De.key!==null?De.key:De.dataIndex?Array.isArray(De.dataIndex)?De.dataIndex.join("."):De.dataIndex:an}function we(De,an){return an?"".concat(an,"-").concat(De):"".concat(De)}function cn(De,an){return typeof De=="function"?De(an):De}var Cn="ascend",_t="descend";function Xt(De){return Object(Y.a)(De.sorter)==="object"&&typeof De.sorter.multiple=="number"?De.sorter.multiple:!1}function Se(De){return typeof De=="function"?De:De&&Object(Y.a)(De)==="object"&&De.compare?De.compare:!1}function Wt(De,an){return an?De[De.indexOf(an)+1]:De[0]}function ce(De,an,Mn){var xn=[];function bn(Yn,Jn){xn.push({column:Yn,key:Ce(Yn,Jn),multiplePriority:Xt(Yn),sortOrder:Yn.sortOrder})}return(De||[]).forEach(function(Yn,Jn){var $n=we(Jn,Mn);Yn.children?("sortOrder"in Yn&&bn(Yn,$n),xn=[].concat(Object(I.a)(xn),Object(I.a)(ce(Yn.children,an,$n)))):Yn.sorter&&("sortOrder"in Yn?bn(Yn,$n):an&&Yn.defaultSortOrder&&xn.push({column:Yn,key:Ce(Yn,$n),multiplePriority:Xt(Yn),sortOrder:Yn.defaultSortOrder}))}),xn}function yn(De,an,Mn,xn,bn,Yn,Jn,$n){return(an||[]).map(function(_n,fr){var sr=we(fr,$n),vr=_n;if(vr.sorter){var pr=vr.sortDirections||bn,Wr=vr.showSorterTooltip===void 0?Jn:vr.showSorterTooltip,Ur=Ce(vr,sr),Ii=Mn.find(function(kr){var er=kr.key;return er===Ur}),br=Ii?Ii.sortOrder:null,hi=Wt(pr,br),Vr=pr.includes(Cn)&&n.createElement(ie.a,{className:x()("".concat(De,"-column-sorter-up"),{active:br===Cn})}),ji=pr.includes(_t)&&n.createElement(Jt.a,{className:x()("".concat(De,"-column-sorter-down"),{active:br===_t})}),zi=Yn||{},Ui=zi.cancelSort,ra=zi.triggerAsc,da=zi.triggerDesc,Di=Ui;hi===_t?Di=da:hi===Cn&&(Di=ra),vr=Object(t.a)(Object(t.a)({},vr),{className:x()(vr.className,Object(i.a)({},"".concat(De,"-column-sort"),br)),title:function(er){var Vi=n.createElement("div",{className:"".concat(De,"-column-sorters")},n.createElement("span",null,cn(_n.title,er)),n.createElement("span",{className:x()("".concat(De,"-column-sorter"),Object(i.a)({},"".concat(De,"-column-sorter-full"),Vr&&ji))},n.createElement("span",{className:"".concat(De,"-column-sorter-inner")},Vr,ji)));return Wr?n.createElement(ue.a,{title:Di},n.createElement("div",{className:"".concat(De,"-column-sorters-with-tooltip")},Vi)):Vi},onHeaderCell:function(er){var Vi=_n.onHeaderCell&&_n.onHeaderCell(er)||{},_a=Vi.onClick;return Vi.onClick=function(Si){xn({column:_n,key:Ur,sortOrder:hi,multiplePriority:Xt(_n)}),_a&&_a(Si)},Vi.className=x()(Vi.className,"".concat(De,"-column-has-sorters")),Vi}})}return"children"in vr&&(vr=Object(t.a)(Object(t.a)({},vr),{children:yn(De,vr.children,Mn,xn,bn,Yn,Jn,sr)})),vr})}function Bn(De){var an=De.column,Mn=De.sortOrder;return{column:an,order:Mn,field:an.dataIndex,columnKey:an.key}}function Zn(De){var an=De.filter(function(Mn){var xn=Mn.sortOrder;return xn}).map(Bn);return an.length===0&&De.length?Object(t.a)(Object(t.a)({},Bn(De[De.length-1])),{column:void 0}):an.length<=1?an[0]||{}:an}function Kn(De,an,Mn){var xn=an.slice().sort(function(Jn,$n){return $n.multiplePriority-Jn.multiplePriority}),bn=De.slice(),Yn=xn.filter(function(Jn){var $n=Jn.column.sorter,_n=Jn.sortOrder;return Se($n)&&_n});return Yn.length?bn.sort(function(Jn,$n){for(var _n=0;_n<Yn.length;_n+=1){var fr=Yn[_n],sr=fr.column.sorter,vr=fr.sortOrder,pr=Se(sr);if(pr&&vr){var Wr=pr(Jn,$n,vr);if(Wr!==0)return vr===Cn?Wr:-Wr}}return 0}).map(function(Jn){var $n=Jn[Mn];return $n?Object(t.a)(Object(t.a)({},Jn),Object(i.a)({},Mn,Kn($n,an,Mn))):Jn}):bn}function $e(De){var an=De.prefixCls,Mn=De.mergedColumns,xn=De.onSorterChange,bn=De.sortDirections,Yn=De.tableLocale,Jn=De.showSorterTooltip,$n=n.useState(ce(Mn,!0)),_n=Object(b.a)($n,2),fr=_n[0],sr=_n[1],vr=n.useMemo(function(){var br=!0,hi=ce(Mn,!1);if(!hi.length)return fr;var Vr=[];function ji(Ui){br?Vr.push(Ui):Vr.push(Object(t.a)(Object(t.a)({},Ui),{sortOrder:null}))}var zi=null;return hi.forEach(function(Ui){zi===null?(ji(Ui),Ui.sortOrder&&(Ui.multiplePriority===!1?br=!1:zi=!0)):(zi&&Ui.multiplePriority!==!1||(br=!1),ji(Ui))}),Vr},[Mn,fr]),pr=n.useMemo(function(){var br=vr.map(function(hi){var Vr=hi.column,ji=hi.sortOrder;return{column:Vr,order:ji}});return{sortColumns:br,sortColumn:br[0]&&br[0].column,sortOrder:br[0]&&br[0].order}},[vr]);function Wr(br){var hi;br.multiplePriority===!1||!vr.length||vr[0].multiplePriority===!1?hi=[br]:hi=[].concat(Object(I.a)(vr.filter(function(Vr){var ji=Vr.key;return ji!==br.key})),[br]),sr(hi),xn(Zn(hi),hi)}var Ur=function(hi){return yn(an,hi,vr,Wr,bn,Yn,Jn)},Ii=function(){return Zn(vr)};return[Ur,vr,pr,Ii]}var je=E("Y+p1"),L=E.n(je),St={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"},$t=St,ye=function(an,Mn){return n.createElement(Ga.a,Object.assign({},an,{ref:Mn,icon:$t}))};ye.displayName="FilterFilled";var Zt=n.forwardRef(ye),de=E("2/Rp"),he=E("ECub"),le=function(an){return n.createElement("div",{className:an.className,onClick:function(xn){return xn.stopPropagation()}},an.children)},Me=le,We=E("hkKa");function Ye(De){var an=n.useRef(De),Mn=Object(We.a)();return[function(){return an.current},function(xn){an.current=xn,Mn()}]}var ke=ha.a.SubMenu,nn=ha.a.Item;function Re(De){return De.some(function(an){var Mn=an.children;return Mn})}function hn(De){var an=De.filters,Mn=De.prefixCls,xn=De.filteredKeys,bn=De.filterMultiple,Yn=De.locale;return an.length===0?n.createElement("div",{style:{margin:"16px 0"}},n.createElement(he.a,{image:he.a.PRESENTED_IMAGE_SIMPLE,description:Yn.filterEmptyText,imageStyle:{height:24}})):an.map(function(Jn,$n){var _n=String(Jn.value);if(Jn.children)return n.createElement(ke,{key:_n||$n,title:Jn.text,popupClassName:"".concat(Mn,"-dropdown-submenu")},hn({filters:Jn.children,prefixCls:Mn,filteredKeys:xn,filterMultiple:bn,locale:Yn}));var fr=bn?Gi.a:na.a;return n.createElement(nn,{key:Jn.value!==void 0?_n:$n},n.createElement(fr,{checked:xn.includes(_n)}),n.createElement("span",null,Jn.text))})}function pn(De){var an,Mn=De.prefixCls,xn=De.column,bn=De.dropdownPrefixCls,Yn=De.columnKey,Jn=De.filterMultiple,$n=De.filterState,_n=De.triggerFilter,fr=De.locale,sr=De.children,vr=De.getPopupContainer,pr=xn.filterDropdownVisible,Wr=xn.onFilterDropdownVisibleChange,Ur=n.useState(!1),Ii=Object(b.a)(Ur,2),br=Ii[0],hi=Ii[1],Vr=!!($n&&(((an=$n.filteredKeys)===null||an===void 0?void 0:an.length)||$n.forceFiltered)),ji=function(wa){hi(wa),Wr&&Wr(wa)},zi=typeof pr=="boolean"?pr:br,Ui=$n&&$n.filteredKeys,ra=Ye(Ui||[]),da=Object(b.a)(ra,2),Di=da[0],kr=da[1],er=function(wa){var gr=wa.selectedKeys;kr(gr)};n.useEffect(function(){er({selectedKeys:Ui||[]})},[Ui]);var Vi=n.useState([]),_a=Object(b.a)(Vi,2),Si=_a[0],Yi=_a[1],ea=n.useRef(),no=function(wa){ea.current=window.setTimeout(function(){Yi(wa)})},$i=function(){window.clearTimeout(ea.current)};n.useEffect(function(){return function(){window.clearTimeout(ea.current)}},[]);var Va=function(wa){var gr=wa&&wa.length?wa:null;if(gr===null&&(!$n||!$n.filteredKeys)||L()(gr,$n==null?void 0:$n.filteredKeys))return null;_n({column:xn,key:Yn,filteredKeys:gr})},Ta=function(){ji(!1),Va(Di())},bo=function(){kr([]),ji(!1),Va([])},Na=function(){var wa=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0};ji(!wa.closeDropdown),Va(Di())},Fa=function(wa){wa&&Ui!==void 0&&kr(Ui||[]),ji(wa),!wa&&!xn.filterDropdown&&Ta()},ro=x()(Object(i.a)({},"".concat(bn,"-menu-without-submenu"),!Re(xn.filters||[]))),Sa;if(typeof xn.filterDropdown=="function")Sa=xn.filterDropdown({prefixCls:"".concat(bn,"-custom"),setSelectedKeys:function(wa){return er({selectedKeys:wa})},selectedKeys:Di(),confirm:Na,clearFilters:bo,filters:xn.filters,visible:zi});else if(xn.filterDropdown)Sa=xn.filterDropdown;else{var So=Di()||[];Sa=n.createElement(n.Fragment,null,n.createElement(ha.a,{multiple:Jn,prefixCls:"".concat(bn,"-menu"),className:ro,onClick:$i,onSelect:er,onDeselect:er,selectedKeys:So,getPopupContainer:vr,openKeys:Si,onOpenChange:no},hn({filters:xn.filters||[],prefixCls:Mn,filteredKeys:Di(),filterMultiple:Jn,locale:fr})),n.createElement("div",{className:"".concat(Mn,"-dropdown-btns")},n.createElement(de.a,{type:"link",size:"small",disabled:So.length===0,onClick:bo},fr.filterReset),n.createElement(de.a,{type:"primary",size:"small",onClick:Ta},fr.filterConfirm)))}var Ua=n.createElement(Me,{className:"".concat(Mn,"-dropdown")},Sa),Wa;typeof xn.filterIcon=="function"?Wa=xn.filterIcon(Vr):xn.filterIcon?Wa=xn.filterIcon:Wa=n.createElement(Zt,null);var ja=n.useContext(sn.b),to=ja.direction;return n.createElement("div",{className:x()("".concat(Mn,"-column"))},n.createElement("span",{className:"".concat(Mn,"-column-title")},sr),n.createElement("span",{className:x()("".concat(Mn,"-trigger-container"),Object(i.a)({},"".concat(Mn,"-trigger-container-open"),zi)),onClick:function(wa){wa.stopPropagation()}},n.createElement(ca.a,{overlay:Ua,trigger:["click"],visible:zi,onVisibleChange:Fa,getPopupContainer:vr,placement:to==="rtl"?"bottomLeft":"bottomRight"},n.createElement("span",{role:"button",tabIndex:-1,className:x()("".concat(Mn,"-trigger"),{active:Vr})},Wa))))}var on=pn;function mn(De,an,Mn){var xn=[];return(De||[]).forEach(function(bn,Yn){var Jn,$n=we(Yn,Mn);if("children"in bn)xn=[].concat(Object(I.a)(xn),Object(I.a)(mn(bn.children,an,$n)));else if(bn.filters||"filterDropdown"in bn||"onFilter"in bn)if("filteredValue"in bn){var _n=bn.filteredValue;"filterDropdown"in bn||(_n=(Jn=_n==null?void 0:_n.map(String))!==null&&Jn!==void 0?Jn:_n),xn.push({column:bn,key:Ce(bn,$n),filteredKeys:_n,forceFiltered:bn.filtered})}else xn.push({column:bn,key:Ce(bn,$n),filteredKeys:an&&bn.defaultFilteredValue?bn.defaultFilteredValue:void 0,forceFiltered:bn.filtered})}),xn}function jn(De,an,Mn,xn,bn,Yn,Jn,$n){return Mn.map(function(_n,fr){var sr=we(fr,$n),vr=_n.filterMultiple,pr=vr===void 0?!0:vr,Wr=_n;if(Wr.filters||Wr.filterDropdown){var Ur=Ce(Wr,sr),Ii=xn.find(function(br){var hi=br.key;return Ur===hi});Wr=Object(t.a)(Object(t.a)({},Wr),{title:function(hi){return n.createElement(on,{prefixCls:"".concat(De,"-filter"),dropdownPrefixCls:an,column:Wr,columnKey:Ur,filterState:Ii,filterMultiple:pr,triggerFilter:bn,locale:Jn,getPopupContainer:Yn},cn(_n.title,hi))}})}return"children"in Wr&&(Wr=Object(t.a)(Object(t.a)({},Wr),{children:jn(De,an,Wr.children,xn,bn,Yn,Jn,sr)})),Wr})}function Ie(De){var an=[];return(De||[]).forEach(function(Mn){var xn=Mn.value,bn=Mn.children;an.push(xn),bn&&(an=[].concat(Object(I.a)(an),Object(I.a)(Ie(bn))))}),an}function fe(De){var an={};return De.forEach(function(Mn){var xn=Mn.key,bn=Mn.filteredKeys,Yn=Mn.column,Jn=Yn.filters,$n=Yn.filterDropdown;if($n)an[xn]=bn||null;else if(Array.isArray(bn)){var _n=Ie(Jn);an[xn]=_n.filter(function(fr){return bn.includes(String(fr))})}else an[xn]=null}),an}function Ne(De,an){return an.reduce(function(Mn,xn){var bn=xn.column,Yn=bn.onFilter,Jn=bn.filters,$n=xn.filteredKeys;return Yn&&$n&&$n.length?Mn.filter(function(_n){return $n.some(function(fr){var sr=Ie(Jn),vr=sr.findIndex(function(Wr){return String(Wr)===String(fr)}),pr=vr!==-1?sr[vr]:fr;return Yn(pr,_n)})}):Mn},De)}function Fe(De){var an=De.prefixCls,Mn=De.dropdownPrefixCls,xn=De.mergedColumns,bn=De.onFilterChange,Yn=De.getPopupContainer,Jn=De.locale,$n=n.useState(mn(xn,!0)),_n=Object(b.a)($n,2),fr=_n[0],sr=_n[1],vr=n.useMemo(function(){var Ii=mn(xn,!1);return Ii.every(function(br){var hi=br.filteredKeys;return hi===void 0})?fr:Ii},[xn,fr]),pr=n.useCallback(function(){return fe(vr)},[vr]),Wr=function(br){var hi=vr.filter(function(Vr){var ji=Vr.key;return ji!==br.key});hi.push(br),sr(hi),bn(fe(hi),hi)},Ur=function(br){return jn(an,Mn,br,vr,Wr,Yn,Jn)};return[Ur,vr,pr]}var rn=Fe;function ln(De,an){return De.map(function(Mn){var xn=Object(t.a)({},Mn);return xn.title=cn(Mn.title,an),"children"in xn&&(xn.children=ln(xn.children,an)),xn})}function _e(De){var an=n.useCallback(function(Mn){return ln(Mn,De)},[De]);return[an]}function dn(De){return function(Mn){var xn,bn=Mn.prefixCls,Yn=Mn.onExpand,Jn=Mn.record,$n=Mn.expanded,_n=Mn.expandable,fr="".concat(bn,"-row-expand-icon");return n.createElement("button",{type:"button",onClick:function(vr){Yn(Jn,vr),vr.stopPropagation()},className:x()(fr,(xn={},Object(i.a)(xn,"".concat(fr,"-spaced"),!_n),Object(i.a)(xn,"".concat(fr,"-expanded"),_n&&$n),Object(i.a)(xn,"".concat(fr,"-collapsed"),_n&&!$n),xn)),"aria-label":$n?De.collapse:De.expand})}}var En=dn,tr=E("wgJM");function Pn(De){return De!=null&&De===De.window}function Fn(De,an){if(typeof window=="undefined")return 0;var Mn=an?"scrollTop":"scrollLeft",xn=0;return Pn(De)?xn=De[an?"pageYOffset":"pageXOffset"]:De instanceof Document?xn=De.documentElement[Mn]:De&&(xn=De[Mn]),De&&!Pn(De)&&typeof xn!="number"&&(xn=(De.ownerDocument||De).documentElement[Mn]),xn}function Cr(De,an,Mn,xn){var bn=Mn-an;return De/=xn/2,De<1?bn/2*De*De*De+an:bn/2*((De-=2)*De*De+2)+an}function fi(De){var an=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Mn=an.getContainer,xn=Mn===void 0?function(){return window}:Mn,bn=an.callback,Yn=an.duration,Jn=Yn===void 0?450:Yn,$n=xn(),_n=Fn($n,!0),fr=Date.now(),sr=function vr(){var pr=Date.now(),Wr=pr-fr,Ur=Cr(Wr>Jn?Jn:Wr,_n,De,Jn);Pn($n)?$n.scrollTo(window.pageXOffset,Ur):$n instanceof HTMLDocument||$n.constructor.name==="HTMLDocument"?$n.documentElement.scrollTop=Ur:$n.scrollTop=Ur,Wr<Jn?Object(tr.a)(vr):typeof bn=="function"&&bn()};Object(tr.a)(sr)}var ri=E("D7Yy"),zr=E("3Nzz");function wi(De){return null}var Ai=wi;function gi(De){return null}var Oa=gi,Aa=[];function Oo(De){var an,Mn=De.prefixCls,xn=De.className,bn=De.style,Yn=De.size,Jn=De.bordered,$n=De.dropdownPrefixCls,_n=De.dataSource,fr=De.pagination,sr=De.rowSelection,vr=De.rowKey,pr=De.rowClassName,Wr=De.columns,Ur=De.children,Ii=De.childrenColumnName,br=De.onChange,hi=De.getPopupContainer,Vr=De.loading,ji=De.expandIcon,zi=De.expandable,Ui=De.expandedRowRender,ra=De.expandIconColumnIndex,da=De.indentSize,Di=De.scroll,kr=De.sortDirections,er=De.locale,Vi=De.showSorterTooltip,_a=Vi===void 0?!0:Vi;Object(Zi.a)(!(typeof vr=="function"&&vr.length>1),"Table","`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected.");var Si=Object(un.a)(),Yi=n.useMemo(function(){var Ve=new Set(Object.keys(Si).filter(function(vn){return Si[vn]}));return(Wr||pe(Ur)).filter(function(vn){return!vn.responsive||vn.responsive.some(function(Tn){return Ve.has(Tn)})})},[Ur,Wr,Si]),ea=Object(c.a)(De,["className","style","columns"]),no=n.useContext(zr.b),$i=n.useContext(sn.b),Va=$i.locale,Ta=Va===void 0?ri.default:Va,bo=$i.renderEmpty,Na=$i.direction,Fa=Yn||no,ro=Object(t.a)(Object(t.a)({},Ta.Table),er),Sa=_n||Aa,So=n.useContext(sn.b),Ua=So.getPrefixCls,Wa=Ua("table",Mn),ja=Ua("dropdown",$n),to=Object(t.a)({childrenColumnName:Ii,expandIconColumnIndex:ra},zi),fo=to.childrenColumnName,wa=fo===void 0?"children":fo,gr=n.useMemo(function(){return Sa.some(function(Ve){var vn;return(vn=Ve)===null||vn===void 0?void 0:vn[wa]})?"nest":Ui||zi&&zi.expandedRowRender?"row":null},[Sa]),Xo={body:n.useRef()},va=n.useMemo(function(){return typeof vr=="function"?vr:function(Ve){var vn;return(vn=Ve)===null||vn===void 0?void 0:vn[vr]}},[vr]),Ya=Hr(Sa,wa,va),Eo=Object(b.a)(Ya,1),No=Eo[0],Gn={},se=function(vn,Tn){var Ln=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Un=Object(t.a)(Object(t.a)({},Gn),vn);Ln&&(Gn.resetPagination(),Un.pagination.current&&(Un.pagination.current=1),fr&&fr.onChange&&fr.onChange(1,Un.pagination.pageSize)),Di&&Di.scrollToFirstRowOnChange!==!1&&Xo.body.current&&fi(0,{getContainer:function(){return Xo.body.current}}),br&&br(Un.pagination,Un.filters,Un.sorter,{currentDataSource:Ne(Kn(Sa,Un.sorterStates,wa),Un.filterStates),action:Tn})},Ia=function(vn,Tn){se({sorter:vn,sorterStates:Tn},"sort",!1)},ho=$e({prefixCls:Wa,mergedColumns:Yi,onSorterChange:Ia,sortDirections:kr||["ascend","descend"],tableLocale:ro,showSorterTooltip:_a}),Xa=Object(b.a)(ho,4),so=Xa[0],Lo=Xa[1],zo=Xa[2],Jo=Xa[3],uo=n.useMemo(function(){return Kn(Sa,Lo,wa)},[Sa,Lo]);Gn.sorter=Jo(),Gn.sorterStates=Lo;var Rn=function(vn,Tn){se({filters:vn,filterStates:Tn},"filter",!0)},qo=rn({prefixCls:Wa,locale:ro,dropdownPrefixCls:ja,mergedColumns:Yi,onFilterChange:Rn,getPopupContainer:hi}),wo=Object(b.a)(qo,3),Ho=wo[0],ss=wo[1],ts=wo[2],mo=Ne(uo,ss);Gn.filters=ts(),Gn.filterStates=ss;var ia=n.useMemo(function(){return Object(t.a)({},zo)},[zo]),Bo=_e(ia),Io=Object(b.a)(Bo,1),Qa=Io[0],yo=function(vn,Tn){se({pagination:Object(t.a)(Object(t.a)({},Gn.pagination),{current:vn,pageSize:Tn})},"paginate")},Co=Gr(mo.length,fr,yo),Do=Object(b.a)(Co,2),Da=Do[0],_o=Do[1];Gn.pagination=fr===!1?{}:Fr(fr,Da),Gn.resetPagination=_o;var Ko=n.useMemo(function(){if(fr===!1||!Da.pageSize)return mo;var Ve=Da.current,vn=Ve===void 0?1:Ve,Tn=Da.total,Ln=Da.pageSize,Un=Ln===void 0?_r:Ln;return mo.length<Tn?mo.length>Un?(Object(Zi.a)(!1,"Table","`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode."),mo.slice((vn-1)*Un,vn*Un)):mo:mo.slice((vn-1)*Un,vn*Un)},[!!fr,mo,Da&&Da.current,Da&&Da.pageSize,Da&&Da.total]),is=Gt(sr,{prefixCls:Wa,data:mo,pageData:Ko,getRowKey:va,getRecordByKey:No,expandType:gr,childrenColumnName:wa,locale:ro,expandIconColumnIndex:to.expandIconColumnIndex,getPopupContainer:hi}),kt=Object(b.a)(is,2),v=kt[0],l=kt[1],R=function(vn,Tn,Ln){var Un;return typeof pr=="function"?Un=x()(pr(vn,Tn,Ln)):Un=x()(pr),x()(Object(i.a)({},"".concat(Wa,"-row-selected"),l.has(va(vn,Tn))),Un)};to.__PARENT_RENDER_ICON__=to.expandIcon,to.expandIcon=to.expandIcon||ji||En(ro),gr==="nest"&&to.expandIconColumnIndex===void 0?to.expandIconColumnIndex=sr?1:0:to.expandIconColumnIndex>0&&sr&&(to.expandIconColumnIndex-=1),typeof to.indentSize!="number"&&(to.indentSize=typeof da=="number"?da:15);var X=n.useCallback(function(Ve){return Qa(v(Ho(so(Ve))))},[so,Ho,v]),ht,At;if(fr!==!1&&(Da==null?void 0:Da.total)){var Ut;Da.size?Ut=Da.size:Ut=Fa==="small"||Fa==="middle"?"small":void 0;var Yt=function(vn){return n.createElement(yr,Object(t.a)({className:"".concat(Wa,"-pagination ").concat(Wa,"-pagination-").concat(vn)},Da,{size:Ut}))},qt=Na==="rtl"?"left":"right";if(Da.position!==null&&Array.isArray(Da.position)){var oe=Da.position.find(function(Ve){return Ve.indexOf("top")!==-1}),Te=Da.position.find(function(Ve){return Ve.indexOf("bottom")!==-1});!oe&&!Te?At=Yt(qt):(oe&&(ht=Yt(oe.toLowerCase().replace("top",""))),Te&&(At=Yt(Te.toLowerCase().replace("bottom",""))))}else At=Yt(qt)}var Ge;typeof Vr=="boolean"?Ge={spinning:Vr}:Object(Y.a)(Vr)==="object"&&(Ge=Object(t.a)({spinning:!0},Vr));var Ue=x()("".concat(Wa,"-wrapper"),Object(i.a)({},"".concat(Wa,"-wrapper-rtl"),Na==="rtl"),xn);return n.createElement("div",{className:Ue,style:bn},n.createElement(si.a,Object(t.a)({spinning:!1},Ge),ht,n.createElement(Pr,Object(t.a)({},ea,{columns:Yi,direction:Na,expandable:to,prefixCls:Wa,className:x()((an={},Object(i.a)(an,"".concat(Wa,"-middle"),Fa==="middle"),Object(i.a)(an,"".concat(Wa,"-small"),Fa==="small"),Object(i.a)(an,"".concat(Wa,"-bordered"),Jn),Object(i.a)(an,"".concat(Wa,"-empty"),Sa.length===0),an)),data:Ko,rowKey:va,rowClassName:R,emptyText:er&&er.emptyText||bo("Table"),internalHooks:pa,internalRefs:Xo,transformColumns:X})),At))}Oo.defaultProps={rowKey:"key"},Oo.SELECTION_ALL=ve,Oo.SELECTION_INVERT=U,Oo.SELECTION_NONE=G,Oo.Column=Ai,Oo.ColumnGroup=Oa,Oo.Summary=mr;var Fo=Oo,Yo=Pt.a=Fo},wClo:function(qe,Pt,E){"use strict";var Y=E("mrSG"),i=E("aFU3"),b=E("IvmH"),t=E("c0lT"),n=E("APlK"),u=E("c+wO"),g=E("aN7R"),x=E("5z4m"),c=E("iTfj"),w=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,I=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,m=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function r(Lt){var Et=Lt.match(m);if(!Et)return"";var K="";return Et.sort(function(ft,mt){return ft=ft.split(":"),mt=mt.split(":"),Number(ft[0])-Number(mt[0])}),Object(c.each)(Et,function(ft){ft=ft.split(":"),K+='<stop offset="'+ft[0]+'" stop-color="'+ft[1]+'"></stop>'}),K}function s(Lt,Et){var K=w.exec(Lt),ft=Object(c.mod)(Object(c.toRadian)(parseFloat(K[1])),Math.PI*2),mt=K[2],yt,wt;ft>=0&&ft<.5*Math.PI?(yt={x:0,y:0},wt={x:1,y:1}):.5*Math.PI<=ft&&ft<Math.PI?(yt={x:1,y:0},wt={x:0,y:1}):Math.PI<=ft&&ft<1.5*Math.PI?(yt={x:1,y:1},wt={x:0,y:0}):(yt={x:0,y:1},wt={x:1,y:0});var J=Math.tan(ft),lt=J*J,it=(wt.x-yt.x+J*(wt.y-yt.y))/(lt+1)+yt.x,_=J*(wt.x-yt.x+J*(wt.y-yt.y))/(lt+1)+yt.y;Et.setAttribute("x1",yt.x),Et.setAttribute("y1",yt.y),Et.setAttribute("x2",it),Et.setAttribute("y2",_),Et.innerHTML=r(mt)}function d(Lt,Et){var K=I.exec(Lt),ft=parseFloat(K[1]),mt=parseFloat(K[2]),yt=parseFloat(K[3]),wt=K[4];Et.setAttribute("cx",ft),Et.setAttribute("cy",mt),Et.setAttribute("r",yt),Et.innerHTML=r(wt)}var C=function(){function Lt(Et){this.cfg={};var K=null,ft=Object(c.uniqueId)("gradient_");return Et.toLowerCase()[0]==="l"?(K=Object(u.b)("linearGradient"),s(Et,K)):(K=Object(u.b)("radialGradient"),d(Et,K)),K.setAttribute("id",ft),this.el=K,this.id=ft,this.cfg=Et,this}return Lt.prototype.match=function(Et,K){return this.cfg===K},Lt}(),S=C,A={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},f={x:"-40%",y:"-40%",width:"200%",height:"200%"},O=function(){function Lt(Et){this.type="filter",this.cfg={},this.type="filter";var K=Object(u.b)("filter");return Object(c.each)(f,function(ft,mt){K.setAttribute(mt,ft)}),this.el=K,this.id=Object(c.uniqueId)("filter_"),this.el.id=this.id,this.cfg=Et,this._parseShadow(Et,K),this}return Lt.prototype.match=function(Et,K){if(this.type!==Et)return!1;var ft=!0,mt=this.cfg;return Object(c.each)(Object.keys(mt),function(yt){if(mt[yt]!==K[yt])return ft=!1,!1}),ft},Lt.prototype.update=function(Et,K){var ft=this.cfg;return ft[A[Et]]=K,this._parseShadow(ft,this.el),this},Lt.prototype._parseShadow=function(Et,K){var ft=`<feDropShadow
      dx="`+(Et.dx||0)+`"
      dy="`+(Et.dy||0)+`"
      stdDeviation="`+(Et.blur?Et.blur/10:0)+`"
      flood-color="`+(Et.color?Et.color:"#000")+`"
      flood-opacity="`+(Et.opacity?Et.opacity:1)+`"
      />`;K.innerHTML=ft},Lt}(),j=O,D=function(){function Lt(Et,K){this.cfg={};var ft=Object(u.b)("marker"),mt=Object(c.uniqueId)("marker_");ft.setAttribute("id",mt);var yt=Object(u.b)("path");yt.setAttribute("stroke",Et.stroke||"none"),yt.setAttribute("fill",Et.fill||"none"),ft.appendChild(yt),ft.setAttribute("overflow","visible"),ft.setAttribute("orient","auto-start-reverse"),this.el=ft,this.child=yt,this.id=mt;var wt=Et[K==="marker-start"?"startArrow":"endArrow"];return this.stroke=Et.stroke||"#000",wt===!0?this._setDefaultPath(K,yt):(this.cfg=wt,this._setMarker(Et.lineWidth,yt)),this}return Lt.prototype.match=function(){return!1},Lt.prototype._setDefaultPath=function(Et,K){var ft=this.el;K.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),ft.setAttribute("refX",""+10*Math.cos(Math.PI/6)),ft.setAttribute("refY",""+5)},Lt.prototype._setMarker=function(Et,K){var ft=this.el,mt=this.cfg.path,yt=this.cfg.d;Object(c.isArray)(mt)&&(mt=mt.map(function(wt){return wt.join(" ")}).join("")),K.setAttribute("d",mt),ft.appendChild(K),yt&&ft.setAttribute("refX",""+yt/Et)},Lt.prototype.update=function(Et){var K=this.child;K.attr?K.attr("fill",Et):K.setAttribute("fill",Et)},Lt}(),V=D,H=function(){function Lt(Et){this.type="clip",this.cfg={};var K=Object(u.b)("clipPath");this.el=K,this.id=Object(c.uniqueId)("clip_"),K.id=this.id;var ft=Et.cfg.el;return K.appendChild(ft),this.cfg=Et,this}return Lt.prototype.match=function(){return!1},Lt.prototype.remove=function(){var Et=this.el;Et.parentNode.removeChild(Et)},Lt}(),$=H,dt=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Z=function(){function Lt(Et){this.cfg={};var K=Object(u.b)("pattern");K.setAttribute("patternUnits","userSpaceOnUse");var ft=Object(u.b)("image");K.appendChild(ft);var mt=Object(c.uniqueId)("pattern_");K.id=mt,this.el=K,this.id=mt,this.cfg=Et;var yt=dt.exec(Et),wt=yt[2];ft.setAttribute("href",wt);var J=new Image;wt.match(/^data:/i)||(J.crossOrigin="Anonymous"),J.src=wt;function lt(){K.setAttribute("width",""+J.width),K.setAttribute("height",""+J.height)}return J.complete?lt():(J.onload=lt,J.src=J.src),this}return Lt.prototype.match=function(Et,K){return this.cfg===K},Lt}(),ct=Z,pt=function(){function Lt(Et){var K=Object(u.b)("defs"),ft=Object(c.uniqueId)("defs_");K.id=ft,Et.appendChild(K),this.children=[],this.defaultArrow={},this.el=K,this.canvas=Et}return Lt.prototype.find=function(Et,K){for(var ft=this.children,mt=null,yt=0;yt<ft.length;yt++)if(ft[yt].match(Et,K)){mt=ft[yt].id;break}return mt},Lt.prototype.findById=function(Et){for(var K=this.children,ft=null,mt=0;mt<K.length;mt++)if(K[mt].id===Et){ft=K[mt];break}return ft},Lt.prototype.add=function(Et){this.children.push(Et),Et.canvas=this.canvas,Et.parent=this},Lt.prototype.getDefaultArrow=function(Et,K){var ft=Et.stroke||Et.strokeStyle;if(this.defaultArrow[ft])return this.defaultArrow[ft].id;var mt=new V(Et,K);return this.defaultArrow[ft]=mt,this.el.appendChild(mt.el),this.add(mt),mt.id},Lt.prototype.addGradient=function(Et){var K=new S(Et);return this.el.appendChild(K.el),this.add(K),K.id},Lt.prototype.addArrow=function(Et,K){var ft=new V(Et,K);return this.el.appendChild(ft.el),this.add(ft),ft.id},Lt.prototype.addShadow=function(Et){var K=new j(Et);return this.el.appendChild(K.el),this.add(K),K.id},Lt.prototype.addPattern=function(Et){var K=new ct(Et);return this.el.appendChild(K.el),this.add(K),K.id},Lt.prototype.addClip=function(Et){var K=new $(Et);return this.el.appendChild(K.el),this.add(K),K.id},Lt}(),gt=pt,at=function(Lt){Object(Y.b)(Et,Lt);function Et(K){return Lt.call(this,Object(Y.a)(Object(Y.a)({},K),{autoDraw:!0,renderer:"svg"}))||this}return Et.prototype.getShapeBase=function(){return g},Et.prototype.getGroupBase=function(){return x.a},Et.prototype.getShape=function(K,ft,mt){var yt=mt.target||mt.srcElement;if(!b.a[yt.tagName]){for(var wt=yt.parentNode;wt&&!b.a[wt.tagName];)wt=wt.parentNode;yt=wt}return this.find(function(J){return J.get("el")===yt})},Et.prototype.createDom=function(){var K=Object(u.b)("svg"),ft=new gt(K);return K.setAttribute("width",""+this.get("width")),K.setAttribute("height",""+this.get("height")),this.set("context",ft),K},Et.prototype.onCanvasChange=function(K){var ft=this.get("context"),mt=this.get("el");if(K==="sort"){var yt=this.get("children");yt&&yt.length&&Object(u.d)(this,function(J,lt){return yt.indexOf(J)-yt.indexOf(lt)?1:0})}else if(K==="clear"){if(mt){mt.innerHTML="";var wt=ft.el;wt.innerHTML="",mt.appendChild(wt)}}else K==="matrix"?Object(n.c)(this):K==="clip"?Object(n.a)(this,ft):K==="changeSize"&&(mt.setAttribute("width",""+this.get("width")),mt.setAttribute("height",""+this.get("height")))},Et.prototype.draw=function(){var K=this.get("context"),ft=this.getChildren();Object(n.a)(this,K),ft.length&&Object(t.a)(K,ft)},Et}(i.AbstractCanvas),Bt=Pt.a=at},"wF/u":function(qe,Pt,E){var Y=E("e5cp"),i=E("ExA7");function b(t,n,u,g,x){return t===n?!0:t==null||n==null||!i(t)&&!i(n)?t!==t&&n!==n:Y(t,n,u,g,b,x)}qe.exports=b},wJg7:function(qe,Pt){var E=9007199254740991,Y=/^(?:0|[1-9]\d*)$/;function i(b,t){var n=typeof b;return t=t==null?E:t,!!t&&(n=="number"||n!="symbol"&&Y.test(b))&&b>-1&&b%1==0&&b<t}qe.exports=i},wq2r:function(qe,Pt,E){"use strict";var Y=E("mrSG"),i=E("aFU3"),b=E("R5nb"),t=E("9eUa"),n=E("iTfj"),u=E("cyZq"),g=function(x){Object(Y.b)(c,x);function c(){return x!==null&&x.apply(this,arguments)||this}return c.prototype.onCanvasChange=function(w){Object(t.h)(this,w)},c.prototype.getShapeBase=function(){return b},c.prototype.getGroupBase=function(){return c},c.prototype._applyClip=function(w,I){I&&(w.save(),Object(t.a)(w,I),I.createPath(w),w.restore(),w.clip(),I._afterDraw())},c.prototype.cacheCanvasBBox=function(){var w=this.cfg.children,I=[],m=[];Object(n.each)(w,function(O){var j=O.cfg.cacheCanvasBBox;j&&O.cfg.isInView&&(I.push(j.minX,j.maxX),m.push(j.minY,j.maxY))});var r=null;if(I.length){var s=Math.min.apply(null,I),d=Math.max.apply(null,I),C=Math.min.apply(null,m),S=Math.max.apply(null,m);r={minX:s,minY:C,x:s,y:C,maxX:d,maxY:S,width:d-s,height:S-C};var A=this.cfg.canvas;if(A){var f=A.getViewRange();this.set("isInView",Object(u.f)(r,f))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",r)},c.prototype.draw=function(w,I){var m=this.cfg.children,r=I?this.cfg.refresh:!0;m.length&&r&&(w.save(),Object(t.a)(w,this),this._applyClip(w,this.getClip()),Object(t.d)(w,m,I),w.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},c.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},c}(i.AbstractGroup);Pt.a=g},wy8a:function(qe,Pt,E){var Y=E("KxBF");function i(b,t,n){var u=b.length;return n=n===void 0?u:n,!t&&n>=u?b:Y(b,t,n)}qe.exports=i},x1Ya:function(qe,Pt,E){"use strict";var Y=E("wx14"),i=E("rePB"),b=E("Ff2n"),t=E("VTBJ"),n=E("1OyB"),u=E("vuIU"),g=E("Ji7U"),x=E("LK+K"),c=E("q1tI"),w=E.n(c),I=E("TSYQ"),m=E.n(I),r=function(s){Object(g.a)(C,s);var d=Object(x.a)(C);function C(S){var A;Object(n.a)(this,C),A=d.call(this,S),A.handleChange=function(O){var j=A.props,D=j.disabled,V=j.onChange;D||("checked"in A.props||A.setState({checked:O.target.checked}),V&&V({target:Object(t.a)(Object(t.a)({},A.props),{},{checked:O.target.checked}),stopPropagation:function(){O.stopPropagation()},preventDefault:function(){O.preventDefault()},nativeEvent:O.nativeEvent}))},A.saveInput=function(O){A.input=O};var f="checked"in S?S.checked:S.defaultChecked;return A.state={checked:f},A}return Object(u.a)(C,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var A,f=this.props,O=f.prefixCls,j=f.className,D=f.style,V=f.name,H=f.id,$=f.type,dt=f.disabled,Z=f.readOnly,ct=f.tabIndex,pt=f.onClick,gt=f.onFocus,at=f.onBlur,Bt=f.onKeyDown,Lt=f.onKeyPress,Et=f.onKeyUp,K=f.autoFocus,ft=f.value,mt=f.required,yt=Object(b.a)(f,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),wt=Object.keys(yt).reduce(function(it,_){return(_.substr(0,5)==="aria-"||_.substr(0,5)==="data-"||_==="role")&&(it[_]=yt[_]),it},{}),J=this.state.checked,lt=m()(O,j,(A={},Object(i.a)(A,"".concat(O,"-checked"),J),Object(i.a)(A,"".concat(O,"-disabled"),dt),A));return w.a.createElement("span",{className:lt,style:D},w.a.createElement("input",Object(Y.a)({name:V,id:H,type:$,required:mt,readOnly:Z,disabled:dt,tabIndex:ct,className:"".concat(O,"-input"),checked:!!J,onClick:pt,onFocus:gt,onBlur:at,onKeyUp:Et,onKeyDown:Bt,onKeyPress:Lt,onChange:this.handleChange,autoFocus:K,ref:this.saveInput,value:ft},wt)),w.a.createElement("span",{className:"".concat(O,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(A,f){return"checked"in A?Object(t.a)(Object(t.a)({},f),{},{checked:A.checked}):null}}]),C}(c.Component);r.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},Pt.a=r},x3EW:function(qe,Pt,E){"use strict";E.r(Pt),E.d(Pt,"Base",function(){return u}),E.d(Pt,"Circle",function(){return c}),E.d(Pt,"Line",function(){return I});var Y=E("mrSG"),i=E("iTfj"),b=E("MeYt"),t=E("L16w"),n=function(m){Object(Y.b)(r,m);function r(){return m!==null&&m.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var s=m.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},s),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:t.a.lineColor}}}})},r.prototype.getLineType=function(){var s=this.get("line")||this.get("defaultCfg").line;return s.type},r.prototype.renderInner=function(s){this.drawGrid(s)},r.prototype.getAlternatePath=function(s,d){var C=this.getGridPath(s),S=d.slice(0).reverse(),A=this.getGridPath(S,!0),f=this.get("closed");return f?C=C.concat(A):(A[0][0]="L",C=C.concat(A),C.push(["Z"])),C},r.prototype.getPathStyle=function(){return this.get("line").style},r.prototype.drawGrid=function(s){var d=this,C=this.get("line"),S=this.get("items"),A=this.get("alternateColor"),f=null;Object(i.each)(S,function(O,j){var D=O.id||j;if(C){var V=d.getPathStyle();V=Object(i.isFunction)(V)?V(O,j,S):V;var H=d.getElementId("line-"+D),$=d.getGridPath(O.points);d.addShape(s,{type:"path",name:"grid-line",id:H,attrs:Object(i.mix)({path:$},V)})}if(A&&j>0){var dt=d.getElementId("region-"+D),Z=j%2==0;if(Object(i.isString)(A))Z&&d.drawAlternateRegion(dt,s,f.points,O.points,A);else{var ct=Z?A[1]:A[0];d.drawAlternateRegion(dt,s,f.points,O.points,ct)}}f=O})},r.prototype.drawAlternateRegion=function(s,d,C,S,A){var f=this.getAlternatePath(C,S);this.addShape(d,{type:"path",id:s,name:"grid-region",attrs:{path:f,fill:A}})},r}(b.a),u=n;function g(m,r,s,d){var C=s-m,S=d-r;return Math.sqrt(C*C+S*S)}var x=function(m){Object(Y.b)(r,m);function r(){return m!==null&&m.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var s=m.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},s),{type:"circle",center:null,closed:!0})},r.prototype.getGridPath=function(s,d){var C=this.getLineType(),S=this.get("closed"),A=[];if(s.length)if(C==="circle"){var f=this.get("center"),O=s[0],j=g(f.x,f.y,O.x,O.y),D=d?0:1;S?(A.push(["M",f.x,f.y-j]),A.push(["A",j,j,0,0,D,f.x,f.y+j]),A.push(["A",j,j,0,0,D,f.x,f.y-j]),A.push(["Z"])):Object(i.each)(s,function(V,H){H===0?A.push(["M",V.x,V.y]):A.push(["A",j,j,0,0,D,V.x,V.y])})}else Object(i.each)(s,function(V,H){H===0?A.push(["M",V.x,V.y]):A.push(["L",V.x,V.y])}),S&&A.push(["Z"]);return A},r}(u),c=x,w=function(m){Object(Y.b)(r,m);function r(){return m!==null&&m.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var s=m.prototype.getDefaultCfg.call(this);return Object(Y.a)(Object(Y.a)({},s),{type:"line"})},r.prototype.getGridPath=function(s){var d=[];return Object(i.each)(s,function(C,S){S===0?d.push(["M",C.x,C.y]):d.push(["L",C.x,C.y])}),d},r}(u),I=w},xYSL:function(qe,Pt){function E(Y,i){return Y.has(i)}qe.exports=E},"y0+3":function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return I}),E.d(Pt,"b",function(){return r});var Y=/margin|padding|width|height|max|min|offset/,i={left:!0,top:!0},b={cssFloat:1,styleFloat:1,float:1};function t(s){return s.nodeType===1?s.ownerDocument.defaultView.getComputedStyle(s,null):{}}function n(s,d,C){if(d=d.toLowerCase(),C==="auto"){if(d==="height")return s.offsetHeight;if(d==="width")return s.offsetWidth}return d in i||(i[d]=Y.test(d)),i[d]?parseFloat(C)||0:C}function u(s,d){var C=arguments.length,S=t(s);return d=b[d]?"cssFloat"in s.style?"cssFloat":"styleFloat":d,C===1?S:n(s,d,S[d]||s.style[d])}function g(s,d,C){var S=arguments.length;if(d=b[d]?"cssFloat"in s.style?"cssFloat":"styleFloat":d,S===3)return typeof C=="number"&&Y.test(d)&&(C="".concat(C,"px")),s.style[d]=C,C;for(var A in d)d.hasOwnProperty(A)&&g(s,A,d[A]);return t(s)}function x(s){return s===document.body?document.documentElement.clientWidth:s.offsetWidth}function c(s){return s===document.body?window.innerHeight||document.documentElement.clientHeight:s.offsetHeight}function w(){var s=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),d=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:s,height:d}}function I(){var s=document.documentElement.clientWidth,d=window.innerHeight||document.documentElement.clientHeight;return{width:s,height:d}}function m(){return{scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}}function r(s){var d=s.getBoundingClientRect(),C=document.documentElement;return{left:d.left+(window.pageXOffset||C.scrollLeft)-(C.clientLeft||document.body.clientLeft||0),top:d.top+(window.pageYOffset||C.scrollTop)-(C.clientTop||document.body.clientTop||0)}}},y1pI:function(qe,Pt,E){var Y=E("ljhN");function i(b,t){for(var n=b.length;n--;)if(Y(b[n][0],t))return n;return-1}qe.exports=i},y753:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return C});var Y=E("mrSG"),i=E("zJSt"),b=E("YuPD"),t=E("w02o"),n=E("tKoa");function u(S){var A=S.chart,f=S.options,O=f.data,j=f.lineStyle,D=f.color,V=f.point,H=f.area;A.data(O);var $=Object(b.b)({},S,{options:{line:{style:j,color:D},point:V&&Object(Y.a)({color:D},V),area:H&&Object(Y.a)({color:D},H),label:void 0}}),dt=Object(b.b)({},$,{options:{tooltip:!1}});return Object(n.d)($),Object(n.e)(dt),Object(n.a)(dt),S}function g(S){var A,f=S.options,O=f.xAxis,j=f.yAxis,D=f.xField,V=f.yField;return Object(b.e)(Object(t.f)((A={},A[D]=O,A[V]=j,A)))(S)}function x(S){var A=S.chart,f=S.options,O=f.radius;return A.coordinate("polar",{radius:O}),S}function c(S){var A=S.chart,f=S.options,O=f.xField,j=f.xAxis,D=f.yField,V=f.yAxis;return A.axis(O,j),A.axis(D,V),S}function w(S){var A=S.chart,f=S.options,O=f.label,j=f.yField,D=Object(b.c)(A,"line");if(!O)D.label(!1);else{var V=O.callback,H=Object(Y.c)(O,["callback"]);D.label({fields:[j],callback:V,cfg:Object(b.o)(H)})}return S}function I(S){return Object(b.e)(u,g,t.j,x,c,t.d,t.k,w,t.c,t.a,Object(t.b)())(S)}var m=E("Ihc8"),r=E("iTfj"),s=function(S){Object(Y.b)(A,S);function A(){return S!==null&&S.apply(this,arguments)||this}return Object.defineProperty(A.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),A.prototype.getTooltipItems=function(f){var O=this.getTooltipCfg(),j=O.shared,D=O.title,V=S.prototype.getTooltipItems.call(this,f);if(V.length>0){var H=this.view.geometries[0],$=H.dataArray,dt=V[0].name,Z=[];return $.forEach(function(ct){ct.forEach(function(pt){var gt=m.Util.getTooltipItems(pt,H),at=gt[0];if(!j&&at&&at.name===dt){var Bt=Object(r.isNil)(D)?dt:D;Z.push(Object(Y.a)(Object(Y.a)({},at),{name:at.title,title:Bt}))}else if(j&&at){var Bt=Object(r.isNil)(D)?at.name||dt:D;Z.push(Object(Y.a)(Object(Y.a)({},at),{name:at.title,title:Bt}))}})}),Z}return[]},A}(m.TooltipController);Object(m.registerComponentController)("radar-tooltip",s);var d=function(S){Object(Y.b)(A,S);function A(){return S!==null&&S.apply(this,arguments)||this}return A.prototype.init=function(){var f=this.context.view;f.removeInteraction("tooltip")},A.prototype.show=function(){var f=this.context.event,O=this.getTooltipController();O.showTooltip({x:f.x,y:f.y})},A.prototype.hide=function(){var f=this.getTooltipController();f.hideTooltip()},A.prototype.getTooltipController=function(){var f=this.context.view;return f.getController("radar-tooltip")},A}(m.Action);Object(m.registerAction)("radar-tooltip",d),Object(m.registerInteraction)("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var C=function(S){Object(Y.b)(A,S);function A(){var f=S!==null&&S.apply(this,arguments)||this;return f.type="radar",f}return A.prototype.changeData=function(f){this.updateOption({data:f}),this.chart.changeData(f)},A.prototype.getDefaultOptions=function(){return Object(b.b)({},S.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},A.prototype.getSchemaAdaptor=function(){return I},A}(i.a)},yGk4:function(qe,Pt,E){var Y=E("Cwc5"),i=E("Kz5y"),b=Y(i,"Set");qe.exports=b},yU0y:function(qe,Pt,E){"use strict";E.d(Pt,"b",function(){return Y}),E.d(Pt,"a",function(){return i}),E.d(Pt,"c",function(){return b});var Y=1e-6,i=typeof Float32Array!="undefined"?Float32Array:Array,b=Math.random;function t(x){i=x}var n=Math.PI/180;function u(x){return x*n}function g(x,c){return Math.abs(x-c)<=Y*Math.max(1,Math.abs(x),Math.abs(c))}Math.hypot||(Math.hypot=function(){for(var x=0,c=arguments.length;c--;)x+=arguments[c]*arguments[c];return Math.sqrt(x)})},yUfG:function(qe,Pt,E){"use strict";E.r(Pt),E.d(Pt,"cluster",function(){return x}),E.d(Pt,"hierarchy",function(){return c.c}),E.d(Pt,"pack",function(){return gt}),E.d(Pt,"packSiblings",function(){return dt}),E.d(Pt,"packEnclose",function(){return m}),E.d(Pt,"partition",function(){return Et.a}),E.d(Pt,"stratify",function(){return wt}),E.d(Pt,"tree",function(){return y}),E.d(Pt,"treemap",function(){return B.a}),E.d(Pt,"treemapBinary",function(){return W}),E.d(Pt,"treemapDice",function(){return rt.a}),E.d(Pt,"treemapSlice",function(){return st.a}),E.d(Pt,"treemapSliceDice",function(){return ut}),E.d(Pt,"treemapSquarify",function(){return Mt.a}),E.d(Pt,"treemapResquarify",function(){return bt});function Y(xt,Ot){return xt.parent===Ot.parent?1:2}function i(xt){return xt.reduce(b,0)/xt.length}function b(xt,Ot){return xt+Ot.x}function t(xt){return 1+xt.reduce(n,0)}function n(xt,Ot){return Math.max(xt,Ot.y)}function u(xt){for(var Ot;Ot=xt.children;)xt=Ot[0];return xt}function g(xt){for(var Ot;Ot=xt.children;)xt=Ot[Ot.length-1];return xt}var x=function(){var xt=Y,Ot=1,jt=1,Dt=!1;function zt(Tt){var Vt,Ht=0;Tt.eachAfter(function(Le){var Je=Le.children;Je?(Le.x=i(Je),Le.y=t(Je)):(Le.x=Vt?Ht+=xt(Le,Vt):0,Le.y=0,Vt=Le)});var re=u(Tt),pe=g(Tt),me=re.x-xt(re,pe)/2,Ee=pe.x+xt(pe,re)/2;return Tt.eachAfter(Dt?function(Le){Le.x=(Le.x-Tt.x)*Ot,Le.y=(Tt.y-Le.y)*jt}:function(Le){Le.x=(Le.x-me)/(Ee-me)*Ot,Le.y=(1-(Tt.y?Le.y/Tt.y:1))*jt})}return zt.separation=function(Tt){return arguments.length?(xt=Tt,zt):xt},zt.size=function(Tt){return arguments.length?(Dt=!1,Ot=+Tt[0],jt=+Tt[1],zt):Dt?null:[Ot,jt]},zt.nodeSize=function(Tt){return arguments.length?(Dt=!0,Ot=+Tt[0],jt=+Tt[1],zt):Dt?[Ot,jt]:null},zt},c=E("a8tM"),w=function(xt){return typeof xt=="object"&&"length"in xt?xt:Array.from(xt)};function I(xt){for(var Ot=xt.length,jt,Dt;Ot;)Dt=Math.random()*Ot--|0,jt=xt[Ot],xt[Ot]=xt[Dt],xt[Dt]=jt;return xt}var m=function(xt){for(var Ot=0,jt=(xt=I(Array.from(xt))).length,Dt=[],zt,Tt;Ot<jt;)zt=xt[Ot],Tt&&d(Tt,zt)?++Ot:(Tt=S(Dt=r(Dt,zt)),Ot=0);return Tt};function r(xt,Ot){var jt,Dt;if(C(Ot,xt))return[Ot];for(jt=0;jt<xt.length;++jt)if(s(Ot,xt[jt])&&C(f(xt[jt],Ot),xt))return[xt[jt],Ot];for(jt=0;jt<xt.length-1;++jt)for(Dt=jt+1;Dt<xt.length;++Dt)if(s(f(xt[jt],xt[Dt]),Ot)&&s(f(xt[jt],Ot),xt[Dt])&&s(f(xt[Dt],Ot),xt[jt])&&C(O(xt[jt],xt[Dt],Ot),xt))return[xt[jt],xt[Dt],Ot];throw new Error}function s(xt,Ot){var jt=xt.r-Ot.r,Dt=Ot.x-xt.x,zt=Ot.y-xt.y;return jt<0||jt*jt<Dt*Dt+zt*zt}function d(xt,Ot){var jt=xt.r-Ot.r+Math.max(xt.r,Ot.r,1)*1e-9,Dt=Ot.x-xt.x,zt=Ot.y-xt.y;return jt>0&&jt*jt>Dt*Dt+zt*zt}function C(xt,Ot){for(var jt=0;jt<Ot.length;++jt)if(!d(xt,Ot[jt]))return!1;return!0}function S(xt){switch(xt.length){case 1:return A(xt[0]);case 2:return f(xt[0],xt[1]);case 3:return O(xt[0],xt[1],xt[2])}}function A(xt){return{x:xt.x,y:xt.y,r:xt.r}}function f(xt,Ot){var jt=xt.x,Dt=xt.y,zt=xt.r,Tt=Ot.x,Vt=Ot.y,Ht=Ot.r,re=Tt-jt,pe=Vt-Dt,me=Ht-zt,Ee=Math.sqrt(re*re+pe*pe);return{x:(jt+Tt+re/Ee*me)/2,y:(Dt+Vt+pe/Ee*me)/2,r:(Ee+zt+Ht)/2}}function O(xt,Ot,jt){var Dt=xt.x,zt=xt.y,Tt=xt.r,Vt=Ot.x,Ht=Ot.y,re=Ot.r,pe=jt.x,me=jt.y,Ee=jt.r,Le=Dt-Vt,Je=Dt-pe,On=zt-Ht,gn=zt-me,Vn=re-Tt,kn=Ee-Tt,Wn=Dt*Dt+zt*zt-Tt*Tt,Dn=Wn-Vt*Vt-Ht*Ht+re*re,Nn=Wn-pe*pe-me*me+Ee*Ee,Qn=Je*On-Le*gn,ir=(On*Nn-gn*Dn)/(Qn*2)-Dt,hr=(gn*Vn-On*kn)/Qn,Er=(Je*Dn-Le*Nn)/(Qn*2)-zt,mr=(Le*kn-Je*Vn)/Qn,dr=hr*hr+mr*mr-1,Br=2*(Tt+ir*hr+Er*mr),ii=ir*ir+Er*Er-Tt*Tt,mi=-(dr?(Br+Math.sqrt(Br*Br-4*dr*ii))/(2*dr):ii/Br);return{x:Dt+ir+hr*mi,y:zt+Er+mr*mi,r:mi}}function j(xt,Ot,jt){var Dt=xt.x-Ot.x,zt,Tt,Vt=xt.y-Ot.y,Ht,re,pe=Dt*Dt+Vt*Vt;pe?(Tt=Ot.r+jt.r,Tt*=Tt,re=xt.r+jt.r,re*=re,Tt>re?(zt=(pe+re-Tt)/(2*pe),Ht=Math.sqrt(Math.max(0,re/pe-zt*zt)),jt.x=xt.x-zt*Dt-Ht*Vt,jt.y=xt.y-zt*Vt+Ht*Dt):(zt=(pe+Tt-re)/(2*pe),Ht=Math.sqrt(Math.max(0,Tt/pe-zt*zt)),jt.x=Ot.x+zt*Dt-Ht*Vt,jt.y=Ot.y+zt*Vt+Ht*Dt)):(jt.x=Ot.x+jt.r,jt.y=Ot.y)}function D(xt,Ot){var jt=xt.r+Ot.r-1e-6,Dt=Ot.x-xt.x,zt=Ot.y-xt.y;return jt>0&&jt*jt>Dt*Dt+zt*zt}function V(xt){var Ot=xt._,jt=xt.next._,Dt=Ot.r+jt.r,zt=(Ot.x*jt.r+jt.x*Ot.r)/Dt,Tt=(Ot.y*jt.r+jt.y*Ot.r)/Dt;return zt*zt+Tt*Tt}function H(xt){this._=xt,this.next=null,this.previous=null}function $(xt){if(!(zt=(xt=w(xt)).length))return 0;var Ot,jt,Dt,zt,Tt,Vt,Ht,re,pe,me,Ee;if(Ot=xt[0],Ot.x=0,Ot.y=0,!(zt>1))return Ot.r;if(jt=xt[1],Ot.x=-jt.r,jt.x=Ot.r,jt.y=0,!(zt>2))return Ot.r+jt.r;j(jt,Ot,Dt=xt[2]),Ot=new H(Ot),jt=new H(jt),Dt=new H(Dt),Ot.next=Dt.previous=jt,jt.next=Ot.previous=Dt,Dt.next=jt.previous=Ot;t:for(Ht=3;Ht<zt;++Ht){j(Ot._,jt._,Dt=xt[Ht]),Dt=new H(Dt),re=jt.next,pe=Ot.previous,me=jt._.r,Ee=Ot._.r;do if(me<=Ee){if(D(re._,Dt._)){jt=re,Ot.next=jt,jt.previous=Ot,--Ht;continue t}me+=re._.r,re=re.next}else{if(D(pe._,Dt._)){Ot=pe,Ot.next=jt,jt.previous=Ot,--Ht;continue t}Ee+=pe._.r,pe=pe.previous}while(re!==pe.next);for(Dt.previous=Ot,Dt.next=jt,Ot.next=jt.previous=jt=Dt,Tt=V(Ot);(Dt=Dt.next)!==jt;)(Vt=V(Dt))<Tt&&(Ot=Dt,Tt=Vt);jt=Ot.next}for(Ot=[jt._],Dt=jt;(Dt=Dt.next)!==jt;)Ot.push(Dt._);for(Dt=m(Ot),Ht=0;Ht<zt;++Ht)Ot=xt[Ht],Ot.x-=Dt.x,Ot.y-=Dt.y;return Dt.r}var dt=function(xt){return $(xt),xt},Z=E("IeU1"),ct=E("CSvP");function pt(xt){return Math.sqrt(xt.value)}var gt=function(){var xt=null,Ot=1,jt=1,Dt=ct.a;function zt(Tt){return Tt.x=Ot/2,Tt.y=jt/2,xt?Tt.eachBefore(at(xt)).eachAfter(Bt(Dt,.5)).eachBefore(Lt(1)):Tt.eachBefore(at(pt)).eachAfter(Bt(ct.a,1)).eachAfter(Bt(Dt,Tt.r/Math.min(Ot,jt))).eachBefore(Lt(Math.min(Ot,jt)/(2*Tt.r))),Tt}return zt.radius=function(Tt){return arguments.length?(xt=Object(Z.a)(Tt),zt):xt},zt.size=function(Tt){return arguments.length?(Ot=+Tt[0],jt=+Tt[1],zt):[Ot,jt]},zt.padding=function(Tt){return arguments.length?(Dt=typeof Tt=="function"?Tt:Object(ct.b)(+Tt),zt):Dt},zt};function at(xt){return function(Ot){Ot.children||(Ot.r=Math.max(0,+xt(Ot)||0))}}function Bt(xt,Ot){return function(jt){if(Dt=jt.children){var Dt,zt,Tt=Dt.length,Vt=xt(jt)*Ot||0,Ht;if(Vt)for(zt=0;zt<Tt;++zt)Dt[zt].r+=Vt;if(Ht=$(Dt),Vt)for(zt=0;zt<Tt;++zt)Dt[zt].r-=Vt;jt.r=Ht+Vt}}}function Lt(xt){return function(Ot){var jt=Ot.parent;Ot.r*=xt,jt&&(Ot.x=jt.x+xt*Ot.x,Ot.y=jt.y+xt*Ot.y)}}var Et=E("+Nd1"),K={depth:-1},ft={};function mt(xt){return xt.id}function yt(xt){return xt.parentId}var wt=function(){var xt=mt,Ot=yt;function jt(Dt){var zt=Array.from(Dt),Tt=zt.length,Vt,Ht,re,pe,me,Ee,Le,Je=new Map;for(Ht=0;Ht<Tt;++Ht)Vt=zt[Ht],me=zt[Ht]=new c.a(Vt),(Ee=xt(Vt,Ht,Dt))!=null&&(Ee+="")&&(Le=me.id=Ee,Je.set(Le,Je.has(Le)?ft:me)),(Ee=Ot(Vt,Ht,Dt))!=null&&(Ee+="")&&(me.parent=Ee);for(Ht=0;Ht<Tt;++Ht)if(me=zt[Ht],Ee=me.parent){if(pe=Je.get(Ee),!pe)throw new Error("missing: "+Ee);if(pe===ft)throw new Error("ambiguous: "+Ee);pe.children?pe.children.push(me):pe.children=[me],me.parent=pe}else{if(re)throw new Error("multiple roots");re=me}if(!re)throw new Error("no root");if(re.parent=K,re.eachBefore(function(On){On.depth=On.parent.depth+1,--Tt}).eachBefore(c.b),re.parent=null,Tt>0)throw new Error("cycle");return re}return jt.id=function(Dt){return arguments.length?(xt=Object(Z.b)(Dt),jt):xt},jt.parentId=function(Dt){return arguments.length?(Ot=Object(Z.b)(Dt),jt):Ot},jt};function J(xt,Ot){return xt.parent===Ot.parent?1:2}function lt(xt){var Ot=xt.children;return Ot?Ot[0]:xt.t}function it(xt){var Ot=xt.children;return Ot?Ot[Ot.length-1]:xt.t}function _(xt,Ot,jt){var Dt=jt/(Ot.i-xt.i);Ot.c-=Dt,Ot.s+=jt,xt.c+=Dt,Ot.z+=jt,Ot.m+=jt}function P(xt){for(var Ot=0,jt=0,Dt=xt.children,zt=Dt.length,Tt;--zt>=0;)Tt=Dt[zt],Tt.z+=Ot,Tt.m+=Ot,Ot+=Tt.s+(jt+=Tt.c)}function Q(xt,Ot,jt){return xt.a.parent===Ot.parent?xt.a:jt}function k(xt,Ot){this._=xt,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=Ot}k.prototype=Object.create(c.a.prototype);function p(xt){for(var Ot=new k(xt,0),jt,Dt=[Ot],zt,Tt,Vt,Ht;jt=Dt.pop();)if(Tt=jt._.children)for(jt.children=new Array(Ht=Tt.length),Vt=Ht-1;Vt>=0;--Vt)Dt.push(zt=jt.children[Vt]=new k(Tt[Vt],Vt)),zt.parent=jt;return(Ot.parent=new k(null,0)).children=[Ot],Ot}var y=function(){var xt=J,Ot=1,jt=1,Dt=null;function zt(pe){var me=p(pe);if(me.eachAfter(Tt),me.parent.m=-me.z,me.eachBefore(Vt),Dt)pe.eachBefore(re);else{var Ee=pe,Le=pe,Je=pe;pe.eachBefore(function(Wn){Wn.x<Ee.x&&(Ee=Wn),Wn.x>Le.x&&(Le=Wn),Wn.depth>Je.depth&&(Je=Wn)});var On=Ee===Le?1:xt(Ee,Le)/2,gn=On-Ee.x,Vn=Ot/(Le.x+On+gn),kn=jt/(Je.depth||1);pe.eachBefore(function(Wn){Wn.x=(Wn.x+gn)*Vn,Wn.y=Wn.depth*kn})}return pe}function Tt(pe){var me=pe.children,Ee=pe.parent.children,Le=pe.i?Ee[pe.i-1]:null;if(me){P(pe);var Je=(me[0].z+me[me.length-1].z)/2;Le?(pe.z=Le.z+xt(pe._,Le._),pe.m=pe.z-Je):pe.z=Je}else Le&&(pe.z=Le.z+xt(pe._,Le._));pe.parent.A=Ht(pe,Le,pe.parent.A||Ee[0])}function Vt(pe){pe._.x=pe.z+pe.parent.m,pe.m+=pe.parent.m}function Ht(pe,me,Ee){if(me){for(var Le=pe,Je=pe,On=me,gn=Le.parent.children[0],Vn=Le.m,kn=Je.m,Wn=On.m,Dn=gn.m,Nn;On=it(On),Le=lt(Le),On&&Le;)gn=lt(gn),Je=it(Je),Je.a=pe,Nn=On.z+Wn-Le.z-Vn+xt(On._,Le._),Nn>0&&(_(Q(On,pe,Ee),pe,Nn),Vn+=Nn,kn+=Nn),Wn+=On.m,Vn+=Le.m,Dn+=gn.m,kn+=Je.m;On&&!it(Je)&&(Je.t=On,Je.m+=Wn-kn),Le&&!lt(gn)&&(gn.t=Le,gn.m+=Vn-Dn,Ee=pe)}return Ee}function re(pe){pe.x*=Ot,pe.y=pe.depth*jt}return zt.separation=function(pe){return arguments.length?(xt=pe,zt):xt},zt.size=function(pe){return arguments.length?(Dt=!1,Ot=+pe[0],jt=+pe[1],zt):Dt?null:[Ot,jt]},zt.nodeSize=function(pe){return arguments.length?(Dt=!0,Ot=+pe[0],jt=+pe[1],zt):Dt?[Ot,jt]:null},zt},B=E("tvR+"),W=function(xt,Ot,jt,Dt,zt){var Tt=xt.children,Vt,Ht=Tt.length,re,pe=new Array(Ht+1);for(pe[0]=re=Vt=0;Vt<Ht;++Vt)pe[Vt+1]=re+=Tt[Vt].value;me(0,Ht,xt.value,Ot,jt,Dt,zt);function me(Ee,Le,Je,On,gn,Vn,kn){if(Ee>=Le-1){var Wn=Tt[Ee];Wn.x0=On,Wn.y0=gn,Wn.x1=Vn,Wn.y1=kn;return}for(var Dn=pe[Ee],Nn=Je/2+Dn,Qn=Ee+1,ir=Le-1;Qn<ir;){var hr=Qn+ir>>>1;pe[hr]<Nn?Qn=hr+1:ir=hr}Nn-pe[Qn-1]<pe[Qn]-Nn&&Ee+1<Qn&&--Qn;var Er=pe[Qn]-Dn,mr=Je-Er;if(Vn-On>kn-gn){var dr=Je?(On*mr+Vn*Er)/Je:Vn;me(Ee,Qn,Er,On,gn,dr,kn),me(Qn,Le,mr,dr,gn,Vn,kn)}else{var Br=Je?(gn*mr+kn*Er)/Je:kn;me(Ee,Qn,Er,On,gn,Vn,Br),me(Qn,Le,mr,On,Br,Vn,kn)}}},rt=E("FPPI"),st=E("7IPS"),ut=function(xt,Ot,jt,Dt,zt){(xt.depth&1?st.a:rt.a)(xt,Ot,jt,Dt,zt)},Mt=E("I4jL"),bt=function xt(Ot){function jt(Dt,zt,Tt,Vt,Ht){if((re=Dt._squarify)&&re.ratio===Ot)for(var re,pe,me,Ee,Le=-1,Je,On=re.length,gn=Dt.value;++Le<On;){for(pe=re[Le],me=pe.children,Ee=pe.value=0,Je=me.length;Ee<Je;++Ee)pe.value+=me[Ee].value;pe.dice?Object(rt.a)(pe,zt,Tt,Vt,gn?Tt+=(Ht-Tt)*pe.value/gn:Ht):Object(st.a)(pe,zt,Tt,gn?zt+=(Vt-zt)*pe.value/gn:Vt,Ht),gn-=pe.value}else Dt._squarify=re=Object(Mt.c)(Ot,Dt,zt,Tt,Vt,Ht),re.ratio=Ot}return jt.ratio=function(Dt){return xt((Dt=+Dt)>1?Dt:1)},jt}(Mt.b)},ycre:function(qe,Pt,E){var Y=E("711d"),i=Y("length");qe.exports=i},yqCL:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return ft});var Y=E("mrSG"),i=E("zJSt"),b=E("YuPD"),t=E("iTfj"),n=E("w02o"),u=E("sqD9"),g=E("4Olw"),x;(function(mt){mt.Left="Left",mt.Right="Right"})(x||(x={}));var c;(function(mt){mt.Line="line",mt.Column="column"})(c||(c={}));var w="left-axes-view",I="right-axes-view",m={nice:!0,label:{autoHide:!0,autoRotate:!1}},r=Object(Y.a)(Object(Y.a)({},m),{position:"left"}),s=Object(Y.a)(Object(Y.a)({},m),{position:"right",grid:null});function d(mt){return Object(t.get)(mt,"geometry")===c.Line}function C(mt){return Object(t.get)(mt,"geometry")===c.Column}function S(mt,yt,wt){return C(wt)?Object(b.b)({},{geometry:c.Column,label:wt.label&&wt.isRange?{content:function(lt){var it;return(it=lt[yt])===null||it===void 0?void 0:it.join("-")}}:void 0},wt):Object(Y.a)({geometry:c.Line},wt)}function A(mt,yt){var wt=mt[0],J=mt[1];if(Object(t.isArray)(yt)){var lt=yt[0],it=yt[1];return[lt,it]}var _=Object(t.get)(yt,wt),P=Object(t.get)(yt,J);return[_,P]}function f(mt,yt){return yt===x.Left?mt===!1?!1:Object(b.b)({},r,mt):yt===x.Right?mt===!1?!1:Object(b.b)({},s,mt):mt}var O=E("Ihc8");function j(mt){var yt=mt.view,wt=mt.geometryOption,J=mt.yField,lt=mt.legend,it=Object(t.get)(lt,"marker"),_=Object(b.c)(yt,d(wt)?"line":"interval");if(!wt.seriesField){var P=_.getAttribute("color"),Q=P.values[0],k=it||(d(wt)?{symbol:function(B,W,rt){return[["M",B-rt,W],["L",B+rt,W]]},style:{lineWidth:2,r:6,stroke:Q}}:{symbol:"square",style:{fill:Q}});return[{value:J,name:Object(t.get)(yt,"options.scales."+J+".alias")||J,marker:k,isGeometry:!0,viewId:yt.id}]}var p=_.getGroupAttributes();return Object(t.reduce)(p,function(y,B){var W=O.Util.getLegendItems(yt,_,B,yt.getTheme(),it);return y.concat(W)},[])}var D=E("tKoa");function V(mt){var yt=mt.options,wt=mt.chart,J=yt.geometryOption,lt=J.isStack,it=J.color,_=J.seriesField,P=J.groupField,Q=J.isGroup,k=["xField","yField"];if(d(J)){Object(D.d)(Object(b.b)({},mt,{options:Object(Y.a)(Object(Y.a)(Object(Y.a)({},Object(b.k)(yt,k)),J),{line:{color:J.color,style:J.lineStyle}})})),Object(D.e)(Object(b.b)({},mt,{options:Object(Y.a)(Object(Y.a)(Object(Y.a)({},Object(b.k)(yt,k)),J),{point:J.point&&Object(Y.a)({color:it,shape:"circle"},J.point)})}));var p=[];Q&&p.push({type:"dodge",dodgeBy:P||_,customOffset:0}),lt&&p.push({type:"stack"}),p.length&&Object(t.each)(wt.geometries,function(y){y.adjust(p)})}return C(J)&&Object(D.c)(Object(b.b)({},mt,{options:Object(Y.a)(Object(Y.a)(Object(Y.a)({},Object(b.k)(yt,k)),J),{widthRatio:J.columnWidthRatio,interval:Object(Y.a)(Object(Y.a)({},Object(b.k)(J,["color"])),{style:J.columnStyle})})})),mt}function H(mt){var yt,wt=mt.options,J=wt.geometryOptions,lt=J===void 0?[]:J,it=wt.xField,_=wt.yField,P=Object(t.every)(lt,function(Q){var k=Q.geometry;return k===c.Line||k===void 0});return Object(b.b)({},{options:{geometryOptions:[],meta:(yt={},yt[it]={type:"cat",sync:!0,range:P?[0,1]:void 0},yt),tooltip:{showMarkers:P,showCrosshairs:P,shared:!0,crosshairs:{type:"x"}},interactions:P?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},mt,{options:{yAxis:A(_,wt.yAxis),geometryOptions:[S(it,_[0],lt[0]),S(it,_[1],lt[1])],annotations:A(_,wt.annotations)}})}function $(mt){var yt=mt.chart,wt=mt.options,J=wt.xField,lt=wt.yField,it=wt.geometryOptions,_=wt.data,P=wt.tooltip,Q={line:0,column:1},k=[Object(Y.a)(Object(Y.a)({},it[0]),{id:w,data:_[0],yField:lt[0]}),Object(Y.a)(Object(Y.a)({},it[1]),{id:I,data:_[1],yField:lt[1]})];return k.sort(function(p,y){return-Q[p.geometry]+Q[y.geometry]}).forEach(function(p){var y=p.id,B=p.data,W=p.yField,rt=C(p)&&p.isPercent,st=rt?Object(u.b)(B,W,J,W):B,ut=yt.createView({id:y}).data(st),Mt=rt?Object(Y.a)({formatter:function(xt){return{name:xt[p.seriesField]||W,value:(Number(xt[W])*100).toFixed(2)+"%"}}},P):P;V({chart:ut,options:{xField:J,yField:W,tooltip:Mt,geometryOption:p}})}),mt}function dt(mt){var yt,wt=mt.chart,J=mt.options,lt=J.geometryOptions,it=((yt=wt.getTheme())===null||yt===void 0?void 0:yt.colors10)||[],_=0;return wt.once("beforepaint",function(){Object(t.each)(lt,function(P,Q){var k=Object(g.a)(wt,Q===0?w:I);if(!P.color){var p=k.getGroupScales(),y=Object(t.get)(p,[0,"values","length"],1),B=it.slice(_,_+y).concat(Q===0?[]:it);k.geometries.forEach(function(W){P.seriesField?W.color(P.seriesField,B):W.color(B[0])}),_+=y}}),wt.render(!0)}),mt}function Z(mt){var yt,wt,J=mt.chart,lt=mt.options,it=lt.xAxis,_=lt.yAxis,P=lt.xField,Q=lt.yField;return Object(n.f)((yt={},yt[P]=it,yt[Q[0]]=_[0],yt))(Object(b.b)({},mt,{chart:Object(g.a)(J,w)})),Object(n.f)((wt={},wt[P]=it,wt[Q[1]]=_[1],wt))(Object(b.b)({},mt,{chart:Object(g.a)(J,I)})),mt}function ct(mt){var yt=mt.chart,wt=mt.options,J=Object(g.a)(yt,w),lt=Object(g.a)(yt,I),it=wt.xField,_=wt.yField,P=wt.xAxis,Q=wt.yAxis;return yt.axis(it,!1),yt.axis(_[0],!1),yt.axis(_[1],!1),J.axis(it,P),J.axis(_[0],f(Q[0],x.Left)),lt.axis(it,!1),lt.axis(_[1],f(Q[1],x.Right)),mt}function pt(mt){var yt=mt.chart,wt=mt.options,J=wt.tooltip,lt=Object(g.a)(yt,w),it=Object(g.a)(yt,I);return yt.tooltip(J),lt.tooltip({shared:!0}),it.tooltip({shared:!0}),mt}function gt(mt){var yt=mt.chart;return Object(n.c)(Object(b.b)({},mt,{chart:Object(g.a)(yt,w)})),Object(n.c)(Object(b.b)({},mt,{chart:Object(g.a)(yt,I)})),mt}function at(mt){var yt=mt.chart,wt=mt.options,J=wt.annotations,lt=Object(t.get)(J,[0]),it=Object(t.get)(J,[1]);return Object(n.b)(lt)(Object(b.b)({},mt,{chart:Object(g.a)(yt,w),options:{annotations:lt}})),Object(n.b)(it)(Object(b.b)({},mt,{chart:Object(g.a)(yt,I),options:{annotations:it}})),mt}function Bt(mt){var yt=mt.chart;return Object(n.a)(Object(b.b)({},mt,{chart:Object(g.a)(yt,w)})),Object(n.a)(Object(b.b)({},mt,{chart:Object(g.a)(yt,I)})),mt}function Lt(mt){var yt=mt.chart,wt=mt.options,J=wt.yAxis;return Object(n.e)(Object(b.b)({},mt,{chart:Object(g.a)(yt,w),options:{yAxis:J[0]}})),Object(n.e)(Object(b.b)({},mt,{chart:Object(g.a)(yt,I),options:{yAxis:J[1]}})),mt}function Et(mt){var yt=mt.chart,wt=mt.options,J=wt.legend,lt=wt.geometryOptions,it=wt.yField,_=wt.data,P=Object(g.a)(yt,w),Q=Object(g.a)(yt,I);return J===!1?yt.legend(!1):Object(t.isObject)(J)&&J.custom===!0?yt.legend(J):(yt.once("beforepaint",function(){var k=_[0].length?j({view:P,geometryOption:lt[0],yField:it[0],legend:J}):[],p=_[1].length?j({view:Q,geometryOption:lt[1],yField:it[1],legend:J}):[];yt.legend(Object(b.b)({},J,{custom:!0,items:k.concat(p)}))}),yt.on("legend-item:click",function(k){var p=Object(t.get)(k,"gEvent.delegateObject",{});if(p&&p.item){var y=p.item,B=y.value,W=y.isGeometry,rt=y.viewId;if(W){var st=Object(t.findIndex)(it,function(bt){return bt===B});if(st>-1){var ut=Object(t.get)(Object(g.a)(yt,rt),"geometries");Object(t.each)(ut,function(bt){bt.changeVisible(!p.item.unchecked)})}}else{var Mt=Object(t.get)(yt.getController("legend"),"option.items",[]);Object(t.each)(yt.views,function(bt){var xt=bt.getGroupScales();Object(t.each)(xt,function(Ot){Ot.values&&Ot.values.indexOf(B)>-1&&bt.filter(Ot.field,function(jt){var Dt=Object(t.find)(Mt,function(zt){return zt.value===jt});return!Dt.unchecked})}),yt.render(!0)})}}})),mt}function K(mt){return Object(b.e)(H,$,Z,ct,Lt,pt,gt,at,n.j,Bt,dt,Et)(mt)}var ft=function(mt){Object(Y.b)(yt,mt);function yt(){var wt=mt!==null&&mt.apply(this,arguments)||this;return wt.type="dual-axes",wt}return yt.prototype.getDefaultOptions=function(){return Object(b.b)({},mt.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},yt.prototype.getSchemaAdaptor=function(){return K},yt}(i.a)},z4Vf:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return s});var Y=E("mrSG"),i=E("zJSt"),b=E("YuPD"),t=E("iTfj"),n=E("w02o"),u=E("tKoa");function g(d){var C=d.chart,S=d.options,A=S.data,f=S.sectorStyle,O=S.color;return C.data(A),Object(b.e)(u.c)(Object(b.b)({},d,{options:{marginRatio:1,interval:{style:f,color:O}}})),d}function x(d){var C=d.chart,S=d.options,A=S.label,f=S.xField,O=Object(b.c)(C,"interval");if(A===!1)O.label(!1);else if(Object(t.isObject)(A)){var j=A.callback,D=A.fields,V=Object(Y.c)(A,["callback","fields"]),H=V.offset,$=V.layout;(H===void 0||H>=0)&&($=$?Object(t.isArray)($)?$:[$]:[],V.layout=Object(t.filter)($,function(dt){return dt.type!=="limit-in-shape"}),V.layout.length||delete V.layout),O.label({fields:D||[f],callback:j,cfg:Object(b.o)(V)})}else Object(b.j)(b.a.WARN,A===null,"the label option must be an Object."),O.label({fields:[f]});return d}function c(d){var C=d.chart,S=d.options,A=S.legend,f=S.seriesField;return A===!1?C.legend(!1):f&&C.legend(f,A),d}function w(d){var C=d.chart,S=d.options,A=S.radius,f=S.innerRadius;return C.coordinate({type:"polar",cfg:{radius:A,innerRadius:f}}),d}function I(d){var C,S=d.options,A=S.xAxis,f=S.yAxis,O=S.xField,j=S.yField;return Object(b.e)(Object(n.f)((C={},C[O]=A,C[j]=f,C)))(d)}function m(d){var C=d.chart,S=d.options,A=S.xAxis,f=S.yAxis,O=S.xField,j=S.yField;return A?C.axis(O,A):C.axis(O,!1),f?C.axis(j,f):C.axis(j,!1),d}function r(d){Object(b.e)(g,I,x,w,m,c,n.k,n.c,n.a,n.j,Object(n.b)(),n.i)(d)}var s=function(d){Object(Y.b)(C,d);function C(){var S=d!==null&&d.apply(this,arguments)||this;return S.type="rose",S}return C.prototype.changeData=function(S){this.updateOption({data:S}),this.chart.changeData(S)},C.prototype.getDefaultOptions=function(){return Object(b.b)({},d.prototype.getDefaultOptions.call(this),{xAxis:!1,yAxis:!1,legend:{position:"right",offsetX:-10},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]})},C.prototype.getSchemaAdaptor=function(){return r},C}(i.a)},zJSt:function(qe,Pt,E){"use strict";E.d(Pt,"a",function(){return c});var Y=E("mrSG"),i=E("Ihc8"),b=E("iTfj"),t=E("f6Jy"),n=E("u3os"),u=E.n(n),g=E("YuPD"),x="data-chart-source-type",c=function(w){Object(Y.b)(I,w);function I(m,r){var s=w.call(this)||this;return s.type="base",s.container=typeof m=="string"?document.getElementById(m):m,s.options=Object(g.b)({},s.getDefaultOptions(),r),s.createG2(),s.bindEvents(),s}return I.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},I.prototype.createG2=function(){var m=this.options,r=m.width,s=m.height,d=m.padding,C=m.appendPadding,S=m.renderer,A=m.pixelRatio,f=m.syncViewPadding,O=m.supportCSSTransform,j=m.limitInPlot;this.chart=new i.Chart(Object(Y.a)(Object(Y.a)({container:this.container,autoFit:!1},this.getChartSize(r,s)),{padding:d,appendPadding:C,renderer:S,pixelRatio:A,localRefresh:!1,syncViewPadding:f,supportCSSTransform:O,limitInPlot:j})),this.container.setAttribute(x,"G2Plot")},I.prototype.getChartSize=function(m,r){var s=Object(g.g)(this.container);return{width:m||s.width||400,height:r||s.height||400}},I.prototype.bindEvents=function(){var m=this;this.chart&&this.chart.on("*",function(r){(r==null?void 0:r.type)&&m.emit(r.type,r)})},I.prototype.getDefaultOptions=function(){return I.getDefaultOptions()},I.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},I.prototype.update=function(m){this.updateOption(m),this.render()},I.prototype.updateOption=function(m){this.options=Object(g.b)({},this.options,m)},I.prototype.setState=function(m,r,s){s===void 0&&(s=!0);var d=Object(g.f)(this.chart);Object(b.each)(d,function(C){r(C.getData())&&C.setState(m,s)})},I.prototype.getStates=function(){var m=Object(g.f)(this.chart),r=[];return Object(b.each)(m,function(s){var d=s.getData(),C=s.getStates();Object(b.each)(C,function(S){r.push({data:d,state:S,geometry:s.geometry,element:s})})}),r},I.prototype.changeData=function(m){this.update({data:m})},I.prototype.changeSize=function(m,r){this.chart.changeSize(m,r)},I.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(x)},I.prototype.execAdaptor=function(){var m=this.getSchemaAdaptor(),r=this.options,s=r.padding,d=r.appendPadding;this.chart.padding=s,this.chart.appendPadding=d,m({chart:this.chart,options:this.options})},I.prototype.triggerResize=function(){this.chart.forceFit()},I.prototype.bindSizeSensor=function(){var m=this;if(!this.unbind){var r=this.options.autoFit,s=r===void 0?!0:r;s&&(this.unbind=Object(n.bind)(this.container,function(){var d=Object(g.g)(m.container),C=d.width,S=d.height;(C!==m.chart.width||S!==m.chart.height)&&m.triggerResize()}))}},I.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},I}(t.a)},zK8m:function(qe,Pt,E){"use strict";var Y=E("mrSG"),i=E("iTfj"),b=E("6JdA"),t=E("sstZ"),n=E("aSjE"),u=E("LmB6"),g=b.a.transform,x="matrix",c=["zIndex","capture","visible","type"],w=["repeat"],I=":",m="*";function r(A){for(var f=[],O=0;O<A.length;O++)Object(i.isArray)(A[O])?f.push([].concat(A[O])):f.push(A[O]);return f}function s(A,f){var O={},j=f.attrs;for(var D in A)O[D]=j[D];return O}function d(A,f){var O={},j=f.attr();return Object(i.each)(A,function(D,V){w.indexOf(V)===-1&&!Object(i.isEqual)(j[V],D)&&(O[V]=D)}),O}function C(A,f){if(f.onFrame)return A;var O=f.startTime,j=f.delay,D=f.duration,V=Object.prototype.hasOwnProperty;return Object(i.each)(A,function(H){O+j<H.startTime+H.delay+H.duration&&D>H.delay&&Object(i.each)(f.toAttrs,function($,dt){V.call(H.toAttrs,dt)&&(delete H.toAttrs[dt],delete H.fromAttrs[dt])})}),A}var S=function(A){Object(Y.b)(f,A);function f(O){var j=A.call(this,O)||this;j.attrs={};var D=j.getDefaultAttrs();return Object(i.mix)(D,O.attrs),j.attrs=D,j.initAttrs(D),j.initAnimate(),j}return f.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},f.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},f.prototype.onCanvasChange=function(O){},f.prototype.initAttrs=function(O){},f.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},f.prototype.isGroup=function(){return!1},f.prototype.getParent=function(){return this.get("parent")},f.prototype.getCanvas=function(){return this.get("canvas")},f.prototype.attr=function(){for(var O,j=[],D=0;D<arguments.length;D++)j[D]=arguments[D];var V=j[0],H=j[1];if(!V)return this.attrs;if(Object(i.isObject)(V)){for(var $ in V)this.setAttr($,V[$]);return this.afterAttrsChange(V),this}return j.length===2?(this.setAttr(V,H),this.afterAttrsChange((O={},O[V]=H,O)),this):this.attrs[V]},f.prototype.isClipped=function(O,j){var D=this.getClip();return D&&!D.isHit(O,j)},f.prototype.setAttr=function(O,j){var D=this.attrs[O];D!==j&&(this.attrs[O]=j,this.onAttrChange(O,j,D))},f.prototype.onAttrChange=function(O,j,D){O==="matrix"&&this.set("totalMatrix",null)},f.prototype.afterAttrsChange=function(O){if(this.cfg.isClipShape){var j=this.cfg.applyTo;j&&j.onCanvasChange("clip")}else this.onCanvasChange("attr")},f.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},f.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},f.prototype.setZIndex=function(O){this.set("zIndex",O);var j=this.getParent();return j&&j.sort(),this},f.prototype.toFront=function(){var O=this.getParent();if(!!O){var j=O.getChildren(),D=this.get("el"),V=j.indexOf(this);j.splice(V,1),j.push(this),this.onCanvasChange("zIndex")}},f.prototype.toBack=function(){var O=this.getParent();if(!!O){var j=O.getChildren(),D=this.get("el"),V=j.indexOf(this);j.splice(V,1),j.unshift(this),this.onCanvasChange("zIndex")}},f.prototype.remove=function(O){O===void 0&&(O=!0);var j=this.getParent();j?(Object(t.j)(j.getChildren(),this),j.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),O&&this.destroy()},f.prototype.resetMatrix=function(){this.attr(x,this.getDefaultMatrix()),this.onCanvasChange("matrix")},f.prototype.getMatrix=function(){return this.attr(x)},f.prototype.setMatrix=function(O){this.attr(x,O),this.onCanvasChange("matrix")},f.prototype.getTotalMatrix=function(){var O=this.cfg.totalMatrix;if(!O){var j=this.attr("matrix"),D=this.cfg.parentMatrix;D&&j?O=Object(n.b)(D,j):O=j||D,this.set("totalMatrix",O)}return O},f.prototype.applyMatrix=function(O){var j=this.attr("matrix"),D=null;O&&j?D=Object(n.b)(O,j):D=j||O,this.set("totalMatrix",D),this.set("parentMatrix",O)},f.prototype.getDefaultMatrix=function(){return null},f.prototype.applyToMatrix=function(O){var j=this.attr("matrix");return j?Object(n.c)(j,O):O},f.prototype.invertFromMatrix=function(O){var j=this.attr("matrix");if(j){var D=Object(n.a)(j);if(D)return Object(n.c)(D,O)}return O},f.prototype.setClip=function(O){var j=this.getCanvas(),D=null;if(O){var V=this.getShapeBase(),H=Object(i.upperFirst)(O.type),$=V[H];$&&(D=new $({type:O.type,isClipShape:!0,applyTo:this,attrs:O.attrs,canvas:j}))}return this.set("clipShape",D),this.onCanvasChange("clip"),D},f.prototype.getClip=function(){var O=this.cfg.clipShape;return O||null},f.prototype.clone=function(){var O=this,j=this.attrs,D={};Object(i.each)(j,function($,dt){Object(i.isArray)(j[dt])?D[dt]=r(j[dt]):D[dt]=j[dt]});var V=this.constructor,H=new V({attrs:D});return Object(i.each)(c,function($){H.set($,O.get($))}),H},f.prototype.destroy=function(){var O=this.destroyed;O||(this.attrs={},A.prototype.destroy.call(this))},f.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},f.prototype.animate=function(){for(var O=[],j=0;j<arguments.length;j++)O[j]=arguments[j];var D=this.isCanvas&&this.isCanvas();if(!(!D&&!this.get("canvas"))){this.set("animating",!0);var V=this.get("timeline");V||(V=this.get("canvas").get("timeline"),this.set("timeline",V));var H=this.get("animations")||[];V.timer||V.initTimer();var $=O[0],dt=O[1],Z=O[2],ct=Z===void 0?"easeLinear":Z,pt=O[3],gt=pt===void 0?i.noop:pt,at=O[4],Bt=at===void 0?0:at,Lt,Et,K,ft,mt;Object(i.isFunction)($)?(Lt=$,$={}):Object(i.isObject)($)&&$.onFrame&&(Lt=$.onFrame,Et=$.repeat),Object(i.isObject)(dt)?(mt=dt,dt=mt.duration,ct=mt.easing||"easeLinear",Bt=mt.delay||0,Et=mt.repeat||Et||!1,gt=mt.callback||i.noop,K=mt.pauseCallback||i.noop,ft=mt.resumeCallback||i.noop):(Object(i.isNumber)(gt)&&(Bt=gt,gt=null),Object(i.isFunction)(ct)?(gt=ct,ct="easeLinear"):ct=ct||"easeLinear");var yt=d($,this),wt={fromAttrs:s(yt,this),toAttrs:yt,duration:dt,easing:ct,repeat:Et,callback:gt,pauseCallback:K,resumeCallback:ft,delay:Bt,startTime:V.getTime(),id:Object(i.uniqueId)(),onFrame:Lt,pathFormatted:!1};H.length>0?H=C(H,wt):V.addAnimator(this),H.push(wt),this.set("animations",H),this.set("_pause",{isPaused:!1})}},f.prototype.stopAnimate=function(O){var j=this;O===void 0&&(O=!0);var D=this.get("animations");Object(i.each)(D,function(V){O&&(V.onFrame?j.attr(V.onFrame(1)):j.attr(V.toAttrs)),V.callback&&V.callback()}),this.set("animating",!1),this.set("animations",[])},f.prototype.pauseAnimate=function(){var O=this.get("timeline"),j=this.get("animations"),D=O.getTime();return Object(i.each)(j,function(V){V._paused=!0,V._pauseTime=D,V.pauseCallback&&V.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:D}),this},f.prototype.resumeAnimate=function(){var O=this.get("timeline"),j=O.getTime(),D=this.get("animations"),V=this.get("_pause").pauseTime;return Object(i.each)(D,function(H){H.startTime=H.startTime+(j-V),H._paused=!1,H._pauseTime=null,H.resumeCallback&&H.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",D),this},f.prototype.emitDelegation=function(O,j){var D=this,V=j.propagationPath,H=this.getEvents(),$;O==="mouseenter"?$=j.fromShape:O==="mouseleave"&&($=j.toShape);for(var dt=function(at){var Bt=V[at],Lt=Bt.get("name");if(Lt){if((Bt.isGroup()||Bt.isCanvas&&Bt.isCanvas())&&$&&Object(t.g)(Bt,$))return"break";Object(i.isArray)(Lt)?Object(i.each)(Lt,function(Et){D.emitDelegateEvent(Bt,Et,j)}):Z.emitDelegateEvent(Bt,Lt,j)}},Z=this,ct=0;ct<V.length;ct++){var pt=dt(ct);if(pt==="break")break}},f.prototype.emitDelegateEvent=function(O,j,D){var V=this.getEvents(),H=j+I+D.type;(V[H]||V[m])&&(D.name=H,D.currentTarget=O,D.delegateTarget=this,D.delegateObject=O.get("delegateObject"),this.emit(H,D))},f.prototype.translate=function(O,j){O===void 0&&(O=0),j===void 0&&(j=0);var D=this.getMatrix(),V=g(D,[["t",O,j]]);return this.setMatrix(V),this},f.prototype.move=function(O,j){var D=this.attr("x")||0,V=this.attr("y")||0;return this.translate(O-D,j-V),this},f.prototype.moveTo=function(O,j){return this.move(O,j)},f.prototype.scale=function(O,j){var D=this.getMatrix(),V=g(D,[["s",O,j||O]]);return this.setMatrix(V),this},f.prototype.rotate=function(O){var j=this.getMatrix(),D=g(j,[["r",O]]);return this.setMatrix(D),this},f.prototype.rotateAtStart=function(O){var j=this.attr(),D=j.x,V=j.y,H=this.getMatrix(),$=g(H,[["t",-D,-V],["r",O],["t",D,V]]);return this.setMatrix($),this},f.prototype.rotateAtPoint=function(O,j,D){var V=this.getMatrix(),H=g(V,[["t",-O,-j],["r",D],["t",O,j]]);return this.setMatrix(H),this},f}(u.a);Pt.a=S},zoYe:function(qe,Pt,E){var Y=E("nmnc"),i=E("eUgh"),b=E("Z0cm"),t=E("/9aa"),n=1/0,u=Y?Y.prototype:void 0,g=u?u.toString:void 0;function x(c){if(typeof c=="string")return c;if(b(c))return i(c,x)+"";if(t(c))return g?g.call(c):"";var w=c+"";return w=="0"&&1/c==-n?"-0":w}qe.exports=x}}]);

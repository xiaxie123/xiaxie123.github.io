(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"5nFI":function(B,v,t){"use strict";var d=t("nKUr"),p=t("VTBJ"),S=t("aHsQ"),h=t("sGsY"),W=t("Ff2n"),T=t("q1tI"),e=t("ek7X"),L=t("0NbB"),j=function(r){var _=r.direction,E=_===void 0?"up":_;return Object(d.jsx)(d.Fragment,{children:E==="up"?Object(d.jsx)(e.a,{className:"up"}):Object(d.jsx)(L.a,{className:"down"})})},D=j,f=function(r){var _=r.title,E=_===void 0?"title":_,x=r.value,M=x===void 0?0:x,C=r.precision,y=C===void 0?0:C,i=r.percent,o=r.isNormal,c=o===void 0?!0:o,O=r.text,P=Object(W.a)(r,["title","value","precision","percent","isNormal","text"]),m=function(){return c?"#000":M>=0?"#389e0d":"#cf1322"},s=i>=0?"up":"down";return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(h.a,Object(p.a)({title:E,value:M,precision:y,valueStyle:{color:m(),fontWeight:600},prefix:!c&&Number(M)>=0?"+":""},P)),O?Object(d.jsxs)("div",{children:[O," ",Object(d.jsx)(D,{direction:s}),Object(d.jsxs)("span",{className:s,children:[Math.abs(i),"%"]})]}):null]})},I=v.a=f},hKUY:function(B,v,t){"use strict";var d=t("IzEo"),p=t("bx4M"),S=t("14J3"),h=t("BMrR"),W=t("jCWc"),T=t("kPKH"),e=t("nKUr"),L=t.n(e),j=t("VTBJ"),D=t("q1tI"),f=t.n(D),I=t("wd/R"),K=t.n(I),r=t("06Lf"),_=t("5nFI"),E=t("nMtQ"),x=t.n(E),M=function(i,o){switch(i){case"column":return Object(e.jsx)(r.b,Object(j.a)({},o));case"area":return Object(e.jsx)(r.a,Object(j.a)({},o));case"pie":return Object(e.jsx)(r.d,Object(j.a)({},o));default:return Object(e.jsx)(r.c,Object(j.a)({},o))}},C=function(i){var o=i.title,c=o===void 0?"":o,O=i.updateTime,P=i.data,m=P===void 0?[]:P,s=i.chartConfig,A=s===void 0?[]:s,b=i.chartType,g=b===void 0?[]:b,R=i.chartTitle,z=R===void 0?[]:R;return Object(e.jsxs)(p.a,{title:Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("span",{children:c}),O?Object(e.jsx)("span",{className:x.a.updateTime,children:K()(O).format("YYYY-MM-DD HH:mm:ss")}):null]}),children:[Object(e.jsx)(h.a,{gutter:[16,16],children:m.map(function(l){return Object(e.jsx)(T.a,{sm:Math.floor(24/m.length),children:Object(e.jsx)(_.a,{title:l.title,value:l.value,text:l.text,percent:l.percent,precision:l.precision,isNormal:l.isNormal,suffix:l.suffix})},l.title)})}),Object(e.jsx)(h.a,{gutter:[16,16],children:A.map(function(l,U){return l&&l.data.length>0&&Object(e.jsxs)(T.a,{sm:24/A.length,children:[Object(e.jsx)("h3",{children:z[U]}),Object(e.jsx)("div",{style:{height:"250px"},children:M(g[U],l)})]},l.data.name)})})]})};v.a=C},nMtQ:function(B,v,t){B.exports={updateTime:"updateTime___3zyv9"}},pRh7:function(B,v,t){"use strict";t.r(v);var d=t("IzEo"),p=t("bx4M"),S=t("g9YV"),h=t("wCAj"),W=t("14J3"),T=t("BMrR"),e=t("nKUr"),L=t.n(e),j=t("jCWc"),D=t("kPKH"),f=t("KQm4"),I=t("q1tI"),K=t.n(I),r=t("tMyG"),_=t("hKUY"),E=t("9kvl"),x=t("7AqN"),M=t("c+yx"),C=function(){var i=Object(E.e)(),o=Object(x.l)(),c=o.code,O=o.product;Object(I.useEffect)(function(){i({type:"operation/getUserTable",payload:{code:c,product:O}}),i({type:"operation/getUserUnrealizedDividend",payload:{code:c,product:O}})},[i,c,O]);var P=Object(E.h)(function(n){var a=n.operation.userTable[c]||{},u=n.operation.userUnrealizedDividend[c]||{};return{userTable:a,userUnrealizedDividend:u}}),m=P.userTable,s=m===void 0?{}:m,A=P.userUnrealizedDividend,b=A===void 0?{}:A,g=Object.keys(b).reduce(function(n,a){var u=b[a].map(function(F){return{name:a,time:F[0]*1e3,value:F[1]}});return[].concat(Object(f.a)(n),Object(f.a)(u))},[]),R=Object.keys(s).map(function(n){return{type:n,value:Object(M.b)(s[n][0],2)}}),z={data:g,height:300,isStack:!0,xField:"time",yField:"value",seriesField:"name",xAxis:{type:"time",tickCount:5,mask:"YY-MM-DD"}},l=Object.keys(s).map(function(n){return{key:n,total:s[n][0],unrealizedPnl:s[n][1],unrealizedAllocation:s[n][2],real:s[n][3]}}),U=l.reduce(function(n,a){return{key:"all",total:n.total+a.total,unrealizedPnl:n.unrealizedPnl+a.unrealizedPnl,unrealizedAllocation:n.unrealizedAllocation+a.unrealizedAllocation,real:n.real+a.real}},{key:"all",total:0,unrealizedPnl:0,unrealizedAllocation:0,real:0}),N=[{title:"\u5F85\u5206\u914D\u5229\u6DA6",value:U.unrealizedAllocation}],$=[{title:"\u603B\u5E02\u503C",value:U.total}],Y=[{title:"\u7528\u6237",dataIndex:"key",render:function(a){return Object(e.jsx)("a",{href:"/#/user/".concat(a,"/").concat(c),children:a})}},{title:"\u603B\u5E02\u503C",dataIndex:"total",render:function(a){return a.toFixed(2)},sorter:function(a,u){return a.total-u.total}},{title:"\u672A\u5B9E\u73B0\u76C8\u4E8F",dataIndex:"unrealizedPnl",render:function(a){return a.toFixed(2)},sorter:function(a,u){return a.unrealizedPnl-u.unrealizedPnl}},{title:"\u672A\u5206\u914D\u6536\u76CA",dataIndex:"unrealizedAllocation",render:function(a){return a.toFixed(2)},sorter:function(a,u){return a.unrealizedAllocation-u.unrealizedAllocation}},{title:"\u5B9E\u9645\u5E02\u503C",dataIndex:"real",render:function(a){return a.toFixed(2)},sorter:function(a,u){return a.real-u.real}}],H={appendPadding:10,data:R,angleField:"value",colorField:"type",radius:.75,label:{type:"spider",labelHeight:28,content:`{name}
{percentage}`},interactions:[{type:"element-selected"},{type:"element-active"}]};return Object(e.jsxs)(r.a,{children:[Object(e.jsxs)(T.a,{gutter:[16,16],children:[Object(e.jsx)(D.a,{span:12,children:Object(e.jsx)(_.a,{title:"\u5E02\u503C\u5206\u5E03",updateTime:Date.now(),data:$,chartConfig:[H],chartType:["pie"]})}),Object(e.jsx)(D.a,{span:12,children:Object(e.jsx)(_.a,{title:"\u5229\u6DA6\u6982\u51B5",data:N,chartConfig:[z],chartType:["column"]})})]}),Object(e.jsx)(T.a,{gutter:[16,16],children:Object(e.jsx)(D.a,{xs:24,children:Object(e.jsx)(p.a,{title:"\u6536\u76CA\u660E\u7EC6",children:Object(e.jsx)(h.a,{columns:Y,dataSource:[].concat(Object(f.a)(l),[U]),pagination:!1})})})})]})};v.default=C}}]);

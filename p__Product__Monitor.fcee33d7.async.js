(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"5nFI":function(X,D,t){"use strict";var f=t("nKUr"),$=t("VTBJ"),h=t("aHsQ"),r=t("sGsY"),F=t("Ff2n"),I=t("q1tI"),m=t("ek7X"),H=t("0NbB"),g=function(d){var E=d.direction,P=E===void 0?"up":E;return Object(f.jsx)(f.Fragment,{children:P==="up"?Object(f.jsx)(m.a,{className:"up"}):Object(f.jsx)(H.a,{className:"down"})})},u=g,c=function(d){var E=d.title,P=E===void 0?"title":E,q=d.value,Y=q===void 0?0:q,G=d.precision,_=G===void 0?0:G,x=d.percent,T=d.isNormal,J=T===void 0?!0:T,p=d.text,V=Object(F.a)(d,["title","value","precision","percent","isNormal","text"]),Z=function(){return J?"#000":Y>=0?"#389e0d":"#cf1322"},w=x>=0?"up":"down";return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(r.a,Object($.a)({title:P,value:Y,precision:_,valueStyle:{color:Z(),fontWeight:600},prefix:!J&&Number(Y)>=0?"+":""},V)),p?Object(f.jsxs)("div",{children:[p," ",Object(f.jsx)(u,{direction:w}),Object(f.jsxs)("span",{className:w,children:[Math.abs(x),"%"]})]}):null]})},v=D.a=c},bP8k:function(X,D,t){"use strict";var f=t("cIOH"),$=t.n(f),h=t("jhiw"),r=t.n(h)},"c+yx":function(X,D,t){"use strict";t.d(D,"a",function(){return r}),t.d(D,"b",function(){return F}),t.d(D,"c",function(){return m});var f=t("KQm4"),$=/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+(?::\d+)?|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/,h=function(u){return $.test(u)},r=function(u){return Number(u)>=0?"green":Number(u)<0?"red":"grey"},F=function(u){return Number(u)>=0?"+".concat(u):u},I=function(u,c){var v=u.toString(),M=v.indexOf(".");for(M<0&&(M=v.length,v+=".");v.length<=M+c;)v+="0";return v},m=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8,v=Math.pow(10,c);if(Number(u)>0){var M=Math.floor(Number(u)*v)/v;return I(M,c)}var d=Math.ceil(Number(u)*v)/v;return I(d,c)};function H(){for(var g=arguments.length,u=new Array(g),c=0;c<g;c++)u[c]=arguments[c];var v=[].concat(u);function M(){for(var d=arguments.length,E=new Array(d),P=0;P<d;P++)E[P]=arguments[P];return v=[].concat(Object(f.a)(v),E),M}return M.toString=function(){return v.reduce(function(d,E){return Number(d)+Number(E)})},M}},gFTJ:function(X,D,t){"use strict";t.d(D,"a",function(){return x});var f=t("rePB"),$=t("ODXe"),h=t("U8pU"),r=t("q1tI"),F=t("TSYQ"),I=t.n(F),m=t("Zm9Q"),H=t("ACnJ"),g=t("uaoM"),u=t("H84U"),c=t("wx14");function v(a){return a!=null}var M=function(e){var n=e.itemPrefixCls,o=e.component,y=e.span,l=e.className,i=e.style,R=e.labelStyle,W=e.contentStyle,B=e.bordered,b=e.label,N=e.content,k=e.colon,U=o;if(B){var j;return r.createElement(U,{className:I()((j={},Object(f.a)(j,"".concat(n,"-item-label"),v(b)),Object(f.a)(j,"".concat(n,"-item-content"),v(N)),j),l),style:i,colSpan:y},v(b)?b:N)}return r.createElement(U,{className:I()("".concat(n,"-item"),l),style:i,colSpan:y},r.createElement("div",{className:"".concat(n,"-item-container")},b&&r.createElement("span",{className:I()("".concat(n,"-item-label"),Object(f.a)({},"".concat(n,"-item-no-colon"),!k)),style:R},b),N&&r.createElement("span",{className:I()("".concat(n,"-item-content")),style:W},N)))},d=M;function E(a,e,n){var o=e.colon,y=e.prefixCls,l=e.bordered,i=n.component,R=n.type,W=n.showLabel,B=n.showContent,b=n.labelStyle,N=n.contentStyle;return a.map(function(k,U){var j=k.props,tt=j.label,et=j.children,at=j.prefixCls,nt=at===void 0?y:at,rt=j.className,S=j.style,ot=j.labelStyle,lt=j.contentStyle,O=j.span,C=O===void 0?1:O,L=k.key;return typeof i=="string"?r.createElement(d,{key:"".concat(R,"-").concat(L||U),className:rt,style:S,labelStyle:Object(c.a)(Object(c.a)({},b),ot),contentStyle:Object(c.a)(Object(c.a)({},N),lt),span:C,colon:o,component:i,itemPrefixCls:nt,bordered:l,label:W?tt:null,content:B?et:null}):[r.createElement(d,{key:"label-".concat(L||U),className:rt,style:Object(c.a)(Object(c.a)(Object(c.a)({},b),S),ot),span:1,colon:o,component:i[0],itemPrefixCls:nt,bordered:l,label:tt}),r.createElement(d,{key:"content-".concat(L||U),className:rt,style:Object(c.a)(Object(c.a)(Object(c.a)({},N),S),lt),span:C*2-1,component:i[1],itemPrefixCls:nt,bordered:l,content:et})]})}var P=function(e){var n=r.useContext(x),o=e.prefixCls,y=e.vertical,l=e.row,i=e.index,R=e.bordered;return y?r.createElement(r.Fragment,null,r.createElement("tr",{key:"label-".concat(i),className:"".concat(o,"-row")},E(l,e,Object(c.a)({component:"th",type:"label",showLabel:!0},n))),r.createElement("tr",{key:"content-".concat(i),className:"".concat(o,"-row")},E(l,e,Object(c.a)({component:"td",type:"content",showContent:!0},n)))):r.createElement("tr",{key:i,className:"".concat(o,"-row")},E(l,e,Object(c.a)({component:R?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},n)))},q=P,Y=function(e){var n=e.children;return n},G=Y,_=t("0n0R"),x=r.createContext({}),T={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function J(a,e){if(typeof a=="number")return a;if(Object(h.a)(a)==="object")for(var n=0;n<H.b.length;n++){var o=H.b[n];if(e[o]&&a[o]!==void 0)return a[o]||T[o]}return 3}function p(a,e,n){var o=a;return(e===void 0||e>n)&&(o=Object(_.a)(a,{span:n}),Object(g.a)(e===void 0,"Descriptions","Sum of column `span` in a line not match `column` of Descriptions.")),o}function V(a,e){var n=Object(m.a)(a).filter(function(i){return i}),o=[],y=[],l=e;return n.forEach(function(i,R){var W,B=(W=i.props)===null||W===void 0?void 0:W.span,b=B||1;if(R===n.length-1){y.push(p(i,B,l)),o.push(y);return}b<l?(l-=b,y.push(i)):(y.push(p(i,b,l)),o.push(y),l=e,y=[])}),o}function Z(a){var e,n=a.prefixCls,o=a.title,y=a.extra,l=a.column,i=l===void 0?T:l,R=a.colon,W=R===void 0?!0:R,B=a.bordered,b=a.layout,N=a.children,k=a.className,U=a.style,j=a.size,tt=a.labelStyle,et=a.contentStyle,at=r.useContext(u.b),nt=at.getPrefixCls,rt=at.direction,S=nt("descriptions",n),ot=r.useState({}),lt=Object($.a)(ot,2),O=lt[0],C=lt[1],L=J(i,O);r.useEffect(function(){var K=H.a.subscribe(function(A){Object(h.a)(i)==="object"&&C(A)});return function(){H.a.unsubscribe(K)}},[]);var z=V(N,L);return r.createElement(x.Provider,{value:{labelStyle:tt,contentStyle:et}},r.createElement("div",{className:I()(S,(e={},Object(f.a)(e,"".concat(S,"-").concat(j),j&&j!=="default"),Object(f.a)(e,"".concat(S,"-bordered"),!!B),Object(f.a)(e,"".concat(S,"-rtl"),rt==="rtl"),e),k),style:U},(o||y)&&r.createElement("div",{className:"".concat(S,"-header")},o&&r.createElement("div",{className:"".concat(S,"-title")},o),y&&r.createElement("div",{className:"".concat(S,"-extra")},y)),r.createElement("div",{className:"".concat(S,"-view")},r.createElement("table",null,r.createElement("tbody",null,z.map(function(K,A){return r.createElement(q,{key:A,index:A,colon:W,prefixCls:S,vertical:b==="vertical",bordered:B,row:K})}))))))}Z.Item=G;var w=D.b=Z},hKUY:function(X,D,t){"use strict";var f=t("IzEo"),$=t("bx4M"),h=t("14J3"),r=t("BMrR"),F=t("jCWc"),I=t("kPKH"),m=t("nKUr"),H=t.n(m),g=t("VTBJ"),u=t("q1tI"),c=t.n(u),v=t("wd/R"),M=t.n(v),d=t("06Lf"),E=t("5nFI"),P=t("nMtQ"),q=t.n(P),Y=function(x,T){switch(x){case"column":return Object(m.jsx)(d.b,Object(g.a)({},T));case"area":return Object(m.jsx)(d.a,Object(g.a)({},T));case"pie":return Object(m.jsx)(d.d,Object(g.a)({},T));default:return Object(m.jsx)(d.c,Object(g.a)({},T))}},G=function(x){var T=x.title,J=T===void 0?"":T,p=x.updateTime,V=x.data,Z=V===void 0?[]:V,w=x.chartConfig,a=w===void 0?[]:w,e=x.chartType,n=e===void 0?[]:e,o=x.chartTitle,y=o===void 0?[]:o;return Object(m.jsxs)($.a,{title:J?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{children:J}),p?Object(m.jsx)("span",{className:q.a.updateTime,children:M()(p).format("YYYY-MM-DD HH:mm:ss")}):null]}):null,children:[Object(m.jsx)(r.a,{style:{justifyContent:"space-between",margin:0},gutter:[16,16],children:Z.map(function(l){return Object(m.jsx)(I.a,{sm:Math.floor(24/Z.length),children:Object(m.jsx)(E.a,{title:l.title,value:l.value,text:l.text,percent:l.percent,precision:l.precision,isNormal:l.isNormal,suffix:l.suffix})},l.title)})}),Object(m.jsx)(r.a,{gutter:[16,16],children:a.length>0?a.map(function(l,i){return Object(m.jsxs)(I.a,{sm:24/a.length,children:[Object(m.jsx)("h3",{children:y[i]}),Object(m.jsx)("div",{style:{height:"250px"},children:Y(n[i],l)})]},i)}):null})]})};D.a=G},jhiw:function(X,D,t){},nMtQ:function(X,D,t){X.exports={updateTime:"updateTime___3zyv9"}},t9lk:function(X,D,t){"use strict";t.r(D);var f=t("14J3"),$=t("BMrR"),h=t("nKUr"),r=t("jCWc"),F=t("kPKH"),I=t("o0o1"),m=t.n(I),H=t("HaE+"),g=t("ODXe"),u=t("q1tI"),c=t("tMyG"),v=t("hKUY"),M=t("IzEo"),d=t("bx4M"),E=t("bP8k"),P=t("gFTJ"),q=t("cWXX"),Y=t("/ezw"),G=function(a){var e=a.data,n=a.isLoading;return Object(h.jsx)(d.a,{title:e.name,children:n?Object(h.jsx)(Y.a,{active:!0}):Object(h.jsx)(P.b,{bordered:!0,column:1,size:"small",style:{minHeight:"400px"},children:e.data.map(function(o){return Object(h.jsx)(P.b.Item,{label:o.key,children:o.value},o.key)})})})},_=G,x=t("9kvl"),T=t("7AqN"),J=t("c4lB"),p=t("c+yx"),V=function(){var a=Object(x.e)(),e=Object(u.useState)([]),n=Object(g.a)(e,2),o=n[0],y=n[1],l=Object(u.useState)(0),i=Object(g.a)(l,2),R=i[0],W=i[1],B=Object(T.l)(),b=B.code,N=B.manager;Object(u.useEffect)(function(){var O=function(){a({type:"monitor/getExchangeInfo",payload:{manager:N,code:b}}),a({type:"monitor/getSummary",payload:{manager:N,code:b}})};a({type:"backTest/getBackTest",payload:{manager:N,code:b}}),O();var C=function(){var z=Object(H.a)(m.a.mark(function K(){var A;return m.a.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,Object(J.b)({manager:N,code:b});case 2:A=Q.sent,W(A.timestamp),y(A.data||[]);case 5:case"end":return Q.stop()}},K)}));return function(){return z.apply(this,arguments)}}();C();var L=setInterval(function(){O(),C()},1e4);return function(){clearInterval(L)}},[a,b,N]);var k=function(C,L){var z=C.map(function(K){var A,ct,Q,st,it,ut,dt,mt,s=L[K].data||{};return{name:K,data:[{key:"\u76EE\u6807\u4ED3\u4F4D",value:Object(p.c)(s==null||(A=s.position)===null||A===void 0?void 0:A.target_qty,8)},{key:"\u5F53\u524D\u4ED3\u4F4D",value:Number(s==null||(ct=s.position)===null||ct===void 0?void 0:ct.qty)},{key:"\u6700\u5927\u4ED3\u4F4D",value:"\u7A7A\uFF1A".concat(s==null||(Q=s.position)===null||Q===void 0?void 0:Q.max_short_qty,"  \u591A\uFF1A").concat(s==null||(st=s.position)===null||st===void 0?void 0:st.max_long_qty)},{key:"\u7F8E\u5143\u4EF7\u503C",value:Object(p.c)(s.market_value,8)},{key:"\u5F53\u524D\u6760\u6746",value:Object(p.c)(s.current_leverage,8)},{key:"\u94B1\u5305\u4F59\u989D(btc)",value:Object(p.c)(s==null||(it=s.balance)===null||it===void 0?void 0:it.btc,8)},{key:"\u94B1\u5305\u4F59\u989D(usd)",value:Object(p.c)(s==null||(ut=s.balance)===null||ut===void 0?void 0:ut.usd,4)},{key:"\u4FDD\u8BC1\u91D1\u4F59\u989D",value:Object(p.c)(s.margin_balance,8)},{key:"\u4EA4\u6613\u5BF9",value:s.symbol},{key:"\u4ED3\u4F4D\u6700\u5927\u6760\u6746",value:s.exchange_max_leverge},{key:"\u6301\u4ED3\u5747\u4EF7",value:Object(p.c)(s==null||(dt=s.position)===null||dt===void 0?void 0:dt.avg_price,8)},{key:"\u4ED3\u4F4D\u672A\u5B9E\u73B0\u76C8\u4E8F",value:Object(p.c)(s==null||(mt=s.position)===null||mt===void 0?void 0:mt.unrealized_pnl,8)}]}});return z},U=Object(x.h)(function(O){var C=O.monitor[b]||{},L=O.backTest[b]||{},z=Object.keys(C),K=k(z,C),A=O.monitor.summary,ct=A===void 0?{}:A;return{backTest:L,exchangeData:K,summary:ct}}),j=U.backTest,tt=U.exchangeData,et=U.summary,at=[{title:"\u8D44\u4EA7",value:et.market_value},{title:"\u6760\u6746",value:et.avg_leverage,precision:4}],nt=[{title:"\u771F\u5B9E\u6760\u6746",value:j.real_leverage||0,precision:4},{title:"\u56DE\u6D4B\u6760\u6746",value:j.backtest_leverage||0,precision:4},{title:"\u56DE\u6D4B\u5E02\u503C",value:j.market_value||0},{title:"\u56DE\u6D4B\u4ED3\u4F4D",value:j.position_qty||0}],rt=(j.data||[]).map(function(O){return{name:"\u56DE\u6D4B\u4ED3\u4F4D",time:O[1]*1e3,value:O[3]}}),S=o.map(function(O){return{name:"\u7F8E\u5143\u4EF7\u503C",time:O[0]*1e3,value:O[1]}}),ot=function(C){return{data:C,height:300,xField:"time",yField:"value",xAxis:{type:"time",mask:`YY-MM-DD 
 HH:mm`},animation:!1,meta:{value:{formatter:function(z){return Object(p.c)(z,2)},nice:!0,min:void 0}},legend:{position:"top-right"},seriesField:"name"}},lt=function(C){return C<4?24/C:6};return Object(h.jsxs)(c.a,{children:[Object(h.jsxs)($.a,{gutter:[16,16],children:[Object(h.jsx)(F.a,{md:12,xs:24,children:Object(h.jsx)(v.a,{title:"\u5B9E\u76D8",updateTime:R*1e3,data:at,chartConfig:[ot(S)],chartType:["line","column"]})}),Object(h.jsx)(F.a,{md:12,xs:24,children:Object(h.jsx)(v.a,{title:"\u56DE\u6D4B",updateTime:j.timestamp*1e3,data:nt,chartConfig:[ot(rt)],chartType:["column"]})})]}),Object(h.jsx)($.a,{gutter:[16,16],children:tt.map(function(O){return Object(h.jsx)(F.a,{md:lt(tt.length),sm:12,xs:24,children:Object(h.jsx)(_,{data:O,isLoading:O.data.length===0})},O.name)})})]})},Z=D.default=V}}]);
